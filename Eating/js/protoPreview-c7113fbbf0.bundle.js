/*! For license information please see protoPreview.bundle.js.LICENSE */
!function(e){function t(t){for(var r,i,s=t[0],l=t[1],u=t[2],d=0,f=[];d<s.length;d++)i=s[d],o[i]&&f.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(c&&c(t);f.length;)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={25:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=o[e]=[t,r]});t.push(n[2]=r);var a,s=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=(window.isLocal?".":"https://img.xiaopiu.com")+function(e){return i.p+""+({1:"AB.bundle~AMB.bundle",2:"AB.bundle~CB.bundle",40:"AB.bundle",41:"AMB.bundle",42:"CB.bundle",44:"HotTable.bundle",47:"ReactPlayerB.bundle"}[e]||e)+"."+{1:"af341a0f",2:"ce6e9a5f",40:"98bc7865",41:"e84f7677",42:"20dbde5f",44:"cc647fb9",47:"6dc75086"}[e]+".js"}(e),0!==l.src.indexOf(window.location.origin+"/")&&(l.crossOrigin="anonymous"),a=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");$&&$.loadLazyErrorPopup&&$.loadLazyErrorPopup(),i.type=r,i.request=a,n[1](i)}o[e]=undefined}};var u=setTimeout(function(){a({type:"timeout",target:l})},12e4);l.onerror=l.onload=a,s.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/js/",i.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;a.push([2232,0]),n()}([,,function(e,t,n){"use strict";(function(e,r){n.d(t,"k",function(){return o}),n.d(t,"l",function(){return a}),n.d(t,"i",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return g}),n.d(t,"j",function(){return y});const o="undefined"!=typeof window?window:void 0!==e&&e.exports&&void 0!==r?r:undefined,a=function(e,t){var n={},r=e.document,o=e.GreenSockGlobals=e.GreenSockGlobals||e;if(o.TweenLite)return o.TweenLite;var a,i,s,l,u,c,d,f=function(e){var t,n=e.split("."),r=o;for(t=0;t<n.length;t++)r[n[t]]=r=r[n[t]]||{};return r},p=f("com.greensock"),h=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},g=function(){},y=(c=Object.prototype.toString,d=c.call([]),function(e){return null!=e&&(e instanceof Array||"object"==typeof e&&!!e.push&&c.call(e)===d)}),m={},_=function(e,t,r,a){this.sc=m[e]?m[e].sc:[],m[e]=this,this.gsClass=null,this.func=r;var i=[];this.check=function(s){for(var l,u,c,d,p=t.length,h=p;--p>-1;)(l=m[t[p]]||new _(t[p],[])).gsClass?(i[p]=l.gsClass,h--):s&&l.sc.push(this);if(0===h&&r)for(c=(u=("com.greensock."+e).split(".")).pop(),d=f(u.join("."))[c]=this.gsClass=r.apply(r,i),a&&(o[c]=n[c]=d),p=0;p<this.sc.length;p++)this.sc[p].check()},this.check(!0)},v=e._gsDefine=function(e,t,n,r){return new _(e,t,n,r)},b=p._class=function(e,t,n){return t=t||function(){},v(e,[],function(){return t},n),t};v.globals=o;var w=[0,0,1,1],C=b("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?w.concat(t):w},!0),x=C.map={},S=C.register=function(e,t,n,r){for(var o,a,i,s,l=t.split(","),u=l.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(a=l[u],o=r?b("easing."+a,null,!0):p.easing[a]||{},i=c.length;--i>-1;)s=c[i],x[a+"."+s]=x[s+a]=o[s]=e.getRatio?e:e[s]||new e};for((s=C.prototype)._calcEnd=!1,s.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:e<.5?r/2:1-r/2},i=(a=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--i>-1;)s=a[i]+",Power"+i,S(new C(null,null,1,i),s,"easeOut",!0),S(new C(null,null,2,i),s,"easeIn"+(0===i?",easeNone":"")),S(new C(null,null,3,i),s,"easeInOut");x.linear=p.easing.Linear.easeIn,x.swing=p.easing.Quad.easeInOut;var P=b("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(s=P.prototype).addEventListener=function(e,t,n,r,o){o=o||0;var a,i,s=this._listeners[e],c=0;for(this!==l||u||l.wake(),null==s&&(this._listeners[e]=s=[]),i=s.length;--i>-1;)(a=s[i]).c===t&&a.s===n?s.splice(i,1):0===c&&a.pr<o&&(c=i+1);s.splice(c,0,{c:t,s:n,up:r,pr:o})},s.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return void r.splice(n,1)},s.dispatchEvent=function(e){var t,n,r,o=this._listeners[e];if(o)for((t=o.length)>1&&(o=o.slice(0)),n=this._eventTarget;--t>-1;)(r=o[t])&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var k=e.requestAnimationFrame,O=e.cancelAnimationFrame,E=Date.now||function(){return(new Date).getTime()},T=E();for(i=(a=["ms","moz","webkit","o"]).length;--i>-1&&!k;)k=e[a[i]+"RequestAnimationFrame"],O=e[a[i]+"CancelAnimationFrame"]||e[a[i]+"CancelRequestAnimationFrame"];b("Ticker",function(e,t){var n,o,a,i,s,c=this,d=E(),f=!(!1===t||!k)&&"auto",p=500,h=33,y=function(e){var t,r,l=E()-T;l>p&&(d+=l-h),T+=l,c.time=(T-d)/1e3,t=c.time-s,(!n||t>0||!0===e)&&(c.frame++,s+=t+(t>=i?.004:i-t),r=!0),!0!==e&&(a=o(y)),r&&c.dispatchEvent("tick")};P.call(c),c.time=c.frame=0,c.tick=function(){y(!0)},c.lagSmoothing=function(e,t){if(!arguments.length)return p<1e10;p=e||1e10,h=Math.min(t,p,0)},c.sleep=function(){null!=a&&(f&&O?O(a):clearTimeout(a),o=g,a=null,c===l&&(u=!1))},c.wake=function(e){null!==a?c.sleep():e?d+=-T+(T=E()):c.frame>10&&(T=E()-p+5),o=0===n?g:f&&k?k:function(e){return setTimeout(e,1e3*(s-c.time)+1|0)},c===l&&(u=!0),y(2)},c.fps=function(e){if(!arguments.length)return n;i=1/((n=e)||60),s=this.time+i,c.wake()},c.useRAF=function(e){if(!arguments.length)return f;c.sleep(),f=e,c.fps(n)},c.fps(e),setTimeout(function(){"auto"===f&&c.frame<5&&"hidden"!==(r||{}).visibilityState&&c.useRAF(!1)},1500)}),(s=p.Ticker.prototype=new p.events.EventDispatcher).constructor=p.Ticker;var M=b("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,Y){u||l.wake();var n=this.vars.useFrames?W:Y;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});l=M.ticker=new p.Ticker,(s=M.prototype)._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var D=function(){u&&E()-T>2e3&&("hidden"!==(r||{}).visibilityState||!l.lagSmoothing())&&l.wake();var e=setTimeout(D,2e3);e.unref&&e.unref()};D(),s.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},s.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},s.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},s.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},s.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},s.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},s.render=function(e,t,n){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},s.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},s._enabled=function(e,t){return u||l.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(e,t){return this._enabled(!1,!1)},s.kill=function(e,t){return this._kill(e,t),this},s._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},s._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},s._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],o=t[e+"Scope"]||t.callbackScope||this;switch(r?r.length:0){case 0:n.call(o);break;case 1:n.call(o,r[0]);break;case 2:n.call(o,r[0],r[1]);break;default:n.apply(o,r)}},s.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[e];null==t?delete o[e]:(o[e]=t,o[e+"Params"]=y(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,o[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},s.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},s.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},s.totalTime=function(e,t,n){if(u||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,o=this._timeline;if(e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?r-e:e)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(L.length&&Z(),this.render(e,t,!1),L.length&&Z())}return this},s.progress=s.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},s.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},s.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(n=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},s.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(u||e||l.wake(),n=(t=r.rawTime())-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var A=b("core.SimpleTimeline",function(e){M.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(s=A.prototype=new M).constructor=A,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(e,t,n,r){var o,a;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),o=this._last,this._sortChildren)for(a=e._startTime;o&&o._startTime>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=o,this._recent=e,this._timeline&&this._uncache(!0),this},s._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(e,t,n){var r,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;o;)r=o._next,(o._active||e>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,n):o.render((e-o._startTime)*o._timeScale,t,n)),o=r},s.rawTime=function(){return u||l.wake(),this._totalTime};var j=b("TweenLite",function(t,n,r){if(M.call(this,n,r),this.render=j.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:j.selector(t)||t;var o,a,i,s=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?q[j.defaultOverwrite]:"number"==typeof l?l>>0:q[l],(s||t instanceof Array||t.push&&y(t))&&"number"!=typeof t[0])for(this._targets=i=h(t),this._propLookup=[],this._siblings=[],o=0;o<i.length;o++)(a=i[o])?"string"!=typeof a?a.length&&a!==e&&a[0]&&(a[0]===e||a[0].nodeType&&a[0].style&&!a.nodeType)?(i.splice(o--,1),this._targets=i=i.concat(h(a))):(this._siblings[o]=J(a,this,!1),1===l&&this._siblings[o].length>1&&ee(a,this,null,1,this._siblings[o])):"string"==typeof(a=i[o--]=j.selector(a))&&i.splice(o+1,1):i.splice(o--,1);else this._propLookup={},this._siblings=J(t,this,!1),1===l&&this._siblings.length>1&&ee(t,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),I=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)};(s=j.prototype=new M).constructor=j,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,j.version="1.20.5",j.defaultEase=s._ease=new C(null,null,1,1),j.defaultOverwrite="auto",j.ticker=l,j.autoSleep=120,j.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},j.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(j.selector=n,n(t)):(r||(r=e.document),r?r.querySelectorAll?r.querySelectorAll(t):r.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var L=[],R={},B=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,N=/[\+-]=-?[\.\d]/,F=function(e){for(var t,n=this._firstPT;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m.call(this._tween,t,this._target||n.t,this._tween):t<1e-6&&t>-1e-6&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},H=function(e,t,n,r){var o,a,i,s,l,u,c,d=[],f=0,p="",h=0;for(d.start=e,d.end=t,e=d[0]=e+"",t=d[1]=t+"",n&&(n(d),e=d[0],t=d[1]),d.length=0,o=e.match(B)||[],a=t.match(B)||[],r&&(r._next=null,r.blob=1,d._firstPT=d._applyPT=r),l=a.length,s=0;s<l;s++)c=a[s],p+=(u=t.substr(f,t.indexOf(c,f)-f))||!s?u:",",f+=u.length,h?h=(h+1)%5:"rgba("===u.substr(-5)&&(h=1),c===o[s]||o.length<=s?p+=c:(p&&(d.push(p),p=""),i=parseFloat(o[s]),d.push(i),d._firstPT={_next:d._firstPT,t:d,p:d.length-1,s:i,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-i)||0,f:0,m:h&&h<4?Math.round:0}),f+=c.length;return(p+=t.substr(f))&&d.push(p),d.setRatio=F,N.test(t)&&(d.end=null),d},$=function(e,t,n,r,o,a,i,s,l){"function"==typeof r&&(r=r(l||0,e));var u=typeof e[t],c="function"!==u?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),d="get"!==n?n:c?i?e[c](i):e[c]():e[t],f="string"==typeof r&&"="===r.charAt(1),p={t:e,p:t,s:d,f:"function"===u,pg:0,n:o||t,m:a?"function"==typeof a?a:Math.round:0,pr:0,c:f?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-d||0};if(("number"!=typeof d||"number"!=typeof r&&!f)&&(i||isNaN(d)||!f&&isNaN(r)||"boolean"==typeof d||"boolean"==typeof r?(p.fp=i,p={t:H(d,f?parseFloat(p.s)+p.c+(p.s+"").replace(/[0-9\-\.]/g,""):r,s||j.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:o||t,pr:0,m:0}):(p.s=parseFloat(d),f||(p.c=parseFloat(r)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},z=j._internals={isArray:y,isSelector:I,lazyTweens:L,blobDif:H},U=j._plugins={},V=z.tweenLookup={},K=0,G=z.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},W=M._rootFramesTimeline=new A,Y=M._rootTimeline=new A,X=30,Z=z.lazyRender=function(){var e,t=L.length;for(R={};--t>-1;)(e=L[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);L.length=0};Y._startTime=l.time,W._startTime=l.frame,Y._active=W._active=!0,setTimeout(Z,1),M._updateRoot=j.render=function(){var e,t,n;if(L.length&&Z(),Y.render((l.time-Y._startTime)*Y._timeScale,!1,!1),W.render((l.frame-W._startTime)*W._timeScale,!1,!1),L.length&&Z(),l.frame>=X){for(n in X=l.frame+(parseInt(j.autoSleep,10)||120),V){for(e=(t=V[n].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete V[n]}if((!(n=Y._first)||n._paused)&&j.autoSleep&&!W._first&&1===l._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||l.sleep()}}},l.addEventListener("tick",M._updateRoot);var J=function(e,t,n){var r,o,a=e._gsTweenID;if(V[a||(e._gsTweenID=a="t"+K++)]||(V[a]={target:e,tweens:[]}),t&&((r=V[a].tweens)[o=r.length]=t,n))for(;--o>-1;)r[o]===t&&r.splice(o,1);return V[a].tweens},Q=function(e,t,n,r){var o,a,i=e.vars.onOverwrite;return i&&(o=i(e,t,n,r)),(i=j.onOverwrite)&&(a=i(e,t,n,r)),!1!==o&&!1!==a},ee=function(e,t,n,r,o){var a,i,s,l;if(1===r||r>=4){for(l=o.length,a=0;a<l;a++)if((s=o[a])!==t)s._gc||s._kill(null,e,t)&&(i=!0);else if(5===r)break;return i}var u,c=t._startTime+1e-10,d=[],f=0,p=0===t._duration;for(a=o.length;--a>-1;)(s=o[a])===t||s._gc||s._paused||(s._timeline!==t._timeline?(u=u||te(t,0,p),0===te(s,u,p)&&(d[f++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((p||!s._initted)&&c-s._startTime<=2e-10||(d[f++]=s)));for(a=f;--a>-1;)if(s=d[a],2===r&&s._kill(n,e,t)&&(i=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!Q(s,t))continue;s._enabled(!1,!1)&&(i=!0)}return i},te=function(e,t,n){for(var r=e._timeline,o=r._timeScale,a=e._startTime;r._timeline;){if(a+=r._startTime,o*=r._timeScale,r._paused)return-100;r=r._timeline}return(a/=o)>t?a-t:n&&a===t||!e._initted&&a-t<2e-10?1e-10:(a+=e.totalDuration()/e._timeScale/o)>t+1e-10?0:a-t-1e-10};s._init=function(){var e,t,n,r,o,a,i=this.vars,s=this._overwrittenProps,l=this._duration,u=!!i.immediateRender,c=i.ease;if(i.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={},i.startAt)o[r]=i.startAt[r];if(o.data="isStart",o.overwrite=!1,o.immediateRender=!0,o.lazy=u&&!1!==i.lazy,o.startAt=o.delay=null,o.onUpdate=i.onUpdate,o.onUpdateParams=i.onUpdateParams,o.onUpdateScope=i.onUpdateScope||i.callbackScope||this,this._startAt=j.to(this.target||{},0,o),u)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(i.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in 0!==this._time&&(u=!1),n={},i)G[r]&&"autoCSS"!==r||(n[r]=i[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=u&&!1!==i.lazy,n.immediateRender=u,this._startAt=j.to(this.target,0,n),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof C?c:"function"==typeof c?new C(c,i.easeParams):x[c]||j.defaultEase:j.defaultEase,i.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,i.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,e=0;e<a;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&j._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),i.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=i.onUpdate,this._initted=!0},s._initProps=function(t,n,r,o,a){var i,s,l,u,c,d;if(null==t)return!1;for(i in R[t._gsTweenID]&&Z(),this.vars.css||t.style&&t!==e&&t.nodeType&&U.css&&!1!==this.vars.autoCSS&&function(e,t){var n,r={};for(n in e)G[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!U[n]||U[n]&&U[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r}(this.vars,t),this.vars)if(d=this.vars[i],G[i])d&&(d instanceof Array||d.push&&y(d))&&-1!==d.join("").indexOf("{self}")&&(this.vars[i]=d=this._swapSelfInParams(d,this));else if(U[i]&&(u=new U[i])._onInitTween(t,this.vars[i],this,a)){for(this._firstPT=c={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:i,pg:1,pr:u._priority,m:0},s=u._overwriteProps.length;--s>-1;)n[u._overwriteProps[s]]=this._firstPT;(u._priority||u._onInitAllProps)&&(l=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else n[i]=$.call(this,t,i,"get",d,i,0,null,this.vars.stringFilter,a);return o&&this._kill(o,t)?this._initProps(t,n,r,o,a):this._overwrite>1&&this._firstPT&&r.length>1&&ee(t,this,n,this._overwrite,r)?(this._kill(n,t),this._initProps(t,n,r,o,a)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(R[t._gsTweenID]=!0),l)},s.render=function(e,t,n){var r,o,a,i,s=this._time,l=this._duration,u=this._rawPrevTime;if(e>=l-1e-7&&e>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,o="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(u<0||e<=0&&e>=-1e-7||1e-10===u&&"isPause"!==this.data)&&u!==e&&(n=!0,u>1e-10&&(o="onReverseComplete")),this._rawPrevTime=i=!t||e||u===e?e:1e-10);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&u>0)&&(o="onReverseComplete",r=this._reversed),e<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(u>=0&&(1e-10!==u||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=i=!t||e||u===e?e:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var c=e/l,d=this._easeType,f=this._easePower;(1===d||3===d&&c>=.5)&&(c=1-c),3===d&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),this.ratio=1===d?1-c:2===d?c:e/l<.5?c/2:1-c/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=u,L.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/l):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,n):o||(o="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(e<0&&this._startAt&&-1e-4!==e&&this._startAt.render(e,!0,n),t||(this._time!==s||r||n)&&this._callback("onUpdate")),o&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o),0===l&&1e-10===this._rawPrevTime&&1e-10!==i&&(this._rawPrevTime=0)))}},s._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:j.selector(t)||t;var r,o,a,i,s,l,u,c,d,f=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((y(t)||I(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r],n)&&(l=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,o=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(u=e||s,c=e!==o&&"all"!==o&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(j.onOverwrite||this.vars.onOverwrite)){for(a in u)s[a]&&(d||(d=[]),d.push(a));if((d||!e)&&!Q(this,n,t,d))return!1}for(a in u)(i=s[a])&&(f&&(i.f?i.t[i.p](i.s):i.t[i.p]=i.s,l=!0),i.pg&&i.t._kill(u)&&(l=!0),i.pg&&0!==i.t._overwriteProps.length||(i._prev?i._prev._next=i._next:i===this._firstPT&&(this._firstPT=i._next),i._next&&(i._next._prev=i._prev),i._next=i._prev=null),delete s[a]),c&&(o[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},s.invalidate=function(){return this._notifyPluginsOfEnabled&&j._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],M.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},s._enabled=function(e,t){if(u||l.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=J(r[n],this,!0);else this._siblings=J(this.target,this,!0)}return M.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&j._onPluginEvent(e?"_onEnable":"_onDisable",this)},j.to=function(e,t,n){return new j(e,t,n)},j.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new j(e,t,n)},j.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new j(e,t,r)},j.delayedCall=function(e,t,n,r,o){return new j(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},j.set=function(e,t){return new j(e,0,t)},j.getTweensOf=function(e,t){if(null==e)return[];var n,r,o,a;if(e="string"!=typeof e?e:j.selector(e)||e,(y(e)||I(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];--n>-1;)r=r.concat(j.getTweensOf(e[n],t));for(n=r.length;--n>-1;)for(a=r[n],o=n;--o>-1;)a===r[o]&&r.splice(n,1)}else if(e._gsTweenID)for(n=(r=J(e).concat()).length;--n>-1;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r||[]},j.killTweensOf=j.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=j.getTweensOf(e,t),o=r.length;--o>-1;)r[o]._kill(n,e)};var ne=b("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ne.prototype},!0);if(s=ne.prototype,ne.version="1.19.0",ne.API=2,s._firstPT=null,s._addTween=$,s.setRatio=F,s._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},s._mod=s._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},j._onPluginEvent=function(e,t){var n,r,o,a,i,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(i=s._next,r=o;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:a)?s._prev._next=s:o=s,(s._next=r)?r._prev=s:a=s,s=i}s=t._firstPT=o}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},ne.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ne.API&&(U[(new e[t])._propName]=e[t]);return!0},v.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,o=e.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},i=b("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){ne.call(this,n,r),this._overwriteProps=o||[]},!0===e.global),s=i.prototype=new ne(n);for(t in s.constructor=i,i.API=e.API,a)"function"==typeof e[t]&&(s[a[t]]=e[t]);return i.version=e.version,ne.activate([i]),i},a=e._gsQueue){for(i=0;i<a.length;i++)a[i]();for(s in m)m[s].func||e.console.log("GSAP encountered missing dependency: "+s)}return u=!1,j}(o),i=o.com.greensock,s=i.core.SimpleTimeline,l=i.core.Animation,{Ease:u,Linear:c,Power0:d,Power1:f,Power2:p,Power3:h,Power4:g,TweenPlugin:y}=o;i.events.EventDispatcher}).call(this,n(689)(e),n(59))},,function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return i(e)?e:G(e)}function r(e){return s(e)?e:q(e)}function o(e){return l(e)?e:W(e)}function a(e){return i(e)&&!u(e)?e:Y(e)}function i(e){return!(!e||!e[d])}function s(e){return!(!e||!e[f])}function l(e){return!(!e||!e[p])}function u(e){return s(e)||l(e)}function c(e){return!(!e||!e[h])}t(r,n),t(o,n),t(a,n),n.isIterable=i,n.isKeyed=s,n.isIndexed=l,n.isAssociative=u,n.isOrdered=c,n.Keyed=r,n.Indexed=o,n.Set=a;var d="@@__IMMUTABLE_ITERABLE__@@",f="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",g=5,y=1<<g,m=y-1,_={},v={value:!1},b={value:!1};function w(e){return e.value=!1,e}function C(e){e&&(e.value=!0)}function x(){}function S(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function P(e){return e.size===undefined&&(e.size=e.__iterate(O)),e.size}function k(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?P(e)+t:t}function O(){return!0}function E(e,t,n){return(0===e||n!==undefined&&e<=-n)&&(t===undefined||n!==undefined&&t>=n)}function T(e,t){return D(e,t,0)}function M(e,t){return D(e,t,t)}function D(e,t,n){return e===undefined?n:e<0?Math.max(0,t+e):t===undefined?e:Math.min(t,e)}var A=0,j=1,I=2,L="function"==typeof Symbol&&Symbol.iterator,R="@@iterator",B=L||R;function N(e){this.next=e}function F(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function H(){return{value:undefined,done:!0}}function $(e){return!!V(e)}function z(e){return e&&"function"==typeof e.next}function U(e){var t=V(e);return t&&t.call(e)}function V(e){var t=e&&(L&&e[L]||e[R]);if("function"==typeof t)return t}function K(e){return e&&"number"==typeof e.length}function G(e){return null===e||e===undefined?ae():i(e)?e.toSeq():function(e){var t=le(e)||"object"==typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function q(e){return null===e||e===undefined?ae().toKeyedSeq():i(e)?s(e)?e.toSeq():e.fromEntrySeq():ie(e)}function W(e){return null===e||e===undefined?ae():i(e)?s(e)?e.entrySeq():e.toIndexedSeq():se(e)}function Y(e){return(null===e||e===undefined?ae():i(e)?s(e)?e.entrySeq():e:se(e)).toSetSeq()}N.prototype.toString=function(){return"[Iterator]"},N.KEYS=A,N.VALUES=j,N.ENTRIES=I,N.prototype.inspect=N.prototype.toSource=function(){return this.toString()},N.prototype[B]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},G.prototype.__iterator=function(e,t){return ce(this,e,t,!0)},t(q,G),q.prototype.toKeyedSeq=function(){return this},t(W,G),W.of=function(){return W(arguments)},W.prototype.toIndexedSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq [","]")},W.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},W.prototype.__iterator=function(e,t){return ce(this,e,t,!1)},t(Y,G),Y.of=function(){return Y(arguments)},Y.prototype.toSetSeq=function(){return this},G.isSeq=oe,G.Keyed=q,G.Set=Y,G.Indexed=W;var X,Z,J,Q="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function re(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[Q])}function ae(){return X||(X=new ee([]))}function ie(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():z(e)?new re(e).fromEntrySeq():$(e)?new ne(e).fromEntrySeq():"object"==typeof e?new te(e):undefined;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){return K(e)?new ee(e):z(e)?new re(e):$(e)?new ne(e):undefined}function ue(e,t,n,r){var o=e._cache;if(o){for(var a=o.length-1,i=0;i<=a;i++){var s=o[n?a-i:i];if(!1===t(s[1],r?s[0]:i,e))return i+1}return i}return e.__iterateUncached(t,n)}function ce(e,t,n,r){var o=e._cache;if(o){var a=o.length-1,i=0;return new N(function(){var e=o[n?a-i:i];return i++>a?H():F(t,r?e[0]:i-1,e[1])})}return e.__iteratorUncached(t,n)}function de(e,t){return t?function n(e,t,r,o){return Array.isArray(t)?e.call(o,r,W(t).map(function(r,o){return n(e,r,o,t)})):pe(t)?e.call(o,r,q(t).map(function(r,o){return n(e,r,o,t)})):t}(t,e,"",{"":e}):fe(e)}function fe(e){return Array.isArray(e)?W(e).map(fe).toList():pe(e)?q(e).map(fe).toMap():e}function pe(e){return e&&(e.constructor===Object||e.constructor===undefined)}function he(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ge(e,t){if(e===t)return!0;if(!i(t)||e.size!==undefined&&t.size!==undefined&&e.size!==t.size||e.__hash!==undefined&&t.__hash!==undefined&&e.__hash!==t.__hash||s(e)!==s(t)||l(e)!==l(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(c(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&he(o[1],e)&&(n||he(o[0],t))})&&r.next().done}var o=!1;if(e.size===undefined)if(t.size===undefined)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var a=e;e=t,t=a}var d=!0,f=t.__iterate(function(t,r){if(n?!e.has(t):o?!he(t,e.get(r,_)):!he(e.get(r,_),t))return d=!1,!1});return d&&e.size===f}function ye(e,t){if(!(this instanceof ye))return new ye(e,t);if(this._value=e,this.size=t===undefined?Infinity:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function me(e,t){if(!e)throw new Error(t)}function _e(e,t,n){if(!(this instanceof _e))return new _e(e,t,n);if(me(0!==n,"Cannot step a Range by 0"),e=e||0,t===undefined&&(t=Infinity),n=n===undefined?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(J)return J;J=this}}function ve(){throw TypeError("Abstract")}function be(){}function we(){}function Ce(){}G.prototype[Q]=!0,t(ee,W),ee.prototype.get=function(e,t){return this.has(e)?this._array[k(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},ee.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new N(function(){return o>r?H():F(e,o,n[t?r-o++:o++])})},t(te,q),te.prototype.get=function(e,t){return t===undefined||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,a=0;a<=o;a++){var i=r[t?o-a:a];if(!1===e(n[i],i,this))return a+1}return a},te.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,a=0;return new N(function(){var i=r[t?o-a:a];return a++>o?H():F(e,i,n[i])})},te.prototype[h]=!0,t(ne,W),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=U(n),o=0;if(z(r))for(var a;!(a=r.next()).done&&!1!==e(a.value,o++,this););return o},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=U(n);if(!z(r))return new N(H);var o=0;return new N(function(){var t=r.next();return t.done?t:F(e,o++,t.value)})},t(re,W),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,a=0;a<o.length;)if(!1===e(o[a],a++,this))return a;for(;!(n=r.next()).done;){var i=n.value;if(o[a]=i,!1===e(i,a++,this))break}return a},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new N(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return F(e,o,r[o++])})},t(ye,W),ye.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ye.prototype.get=function(e,t){return this.has(e)?this._value:t},ye.prototype.includes=function(e){return he(this._value,e)},ye.prototype.slice=function(e,t){var n=this.size;return E(e,t,n)?this:new ye(this._value,M(t,n)-T(e,n))},ye.prototype.reverse=function(){return this},ye.prototype.indexOf=function(e){return he(this._value,e)?0:-1},ye.prototype.lastIndexOf=function(e){return he(this._value,e)?this.size:-1},ye.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ye.prototype.__iterator=function(e,t){var n=this,r=0;return new N(function(){return r<n.size?F(e,r++,n._value):H()})},ye.prototype.equals=function(e){return e instanceof ye?he(this._value,e._value):ge(e)},t(_e,W),_e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},_e.prototype.get=function(e,t){return this.has(e)?this._start+k(this,e)*this._step:t},_e.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},_e.prototype.slice=function(e,t){return E(e,t,this.size)?this:(e=T(e,this.size),(t=M(t,this.size))<=e?new _e(0,0):new _e(this.get(e,this._end),this.get(t,this._end),this._step))},_e.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},_e.prototype.lastIndexOf=function(e){return this.indexOf(e)},_e.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,a=0;a<=n;a++){if(!1===e(o,a,this))return a+1;o+=t?-r:r}return a},_e.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,a=0;return new N(function(){var i=o;return o+=t?-r:r,a>n?H():F(e,a++,i)})},_e.prototype.equals=function(e){return e instanceof _e?this._start===e._start&&this._end===e._end&&this._step===e._step:ge(this,e)},t(ve,n),t(be,ve),t(we,ve),t(Ce,ve),ve.Keyed=be,ve.Indexed=we,ve.Set=Ce;var xe="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Se(e){return e>>>1&1073741824|3221225471&e}function Pe(e){if(!1===e||null===e||e===undefined)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||e===undefined))return 0;if(!0===e)return 1;var t,n,r=typeof e;if("number"===r){if(e!=e||e===Infinity)return 0;var o=0|e;for(o!==e&&(o^=4294967295*e);e>4294967295;)o^=e/=4294967295;return Se(o)}if("string"===r)return e.length>je?((n=Re[t=e])===undefined&&(n=ke(t),Le===Ie&&(Le=0,Re={}),Le++,Re[t]=n),n):ke(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===r)return function(e){var t;if(Me&&(t=Oe.get(e))!==undefined)return t;if((t=e[Ae])!==undefined)return t;if(!Te){if((t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ae])!==undefined)return t;if((t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e))!==undefined)return t}if(t=++De,1073741824&De&&(De=0),Me)Oe.set(e,t);else{if(Ee!==undefined&&!1===Ee(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Te)Object.defineProperty(e,Ae,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==undefined&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ae]=t;else{if(e.nodeType===undefined)throw new Error("Unable to set a non-enumerable property on object.");e[Ae]=t}}return t}(e);if("function"==typeof e.toString)return ke(e.toString());throw new Error("Value type "+r+" cannot be hashed.")}function ke(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Se(t)}var Oe,Ee=Object.isExtensible,Te=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Me="function"==typeof WeakMap;Me&&(Oe=new WeakMap);var De=0,Ae="__immutablehash__";"function"==typeof Symbol&&(Ae=Symbol(Ae));var je=16,Ie=255,Le=0,Re={};function Be(e){me(e!==Infinity,"Cannot perform this action with an infinite size.")}function Ne(e){return null===e||e===undefined?Je():Fe(e)&&!c(e)?e:Je().withMutations(function(t){var n=r(e);Be(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Fe(e){return!(!e||!e[$e])}t(Ne,be),Ne.of=function(){var t=e.call(arguments,0);return Je().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},Ne.prototype.toString=function(){return this.__toString("Map {","}")},Ne.prototype.get=function(e,t){return this._root?this._root.get(0,undefined,e,t):t},Ne.prototype.set=function(e,t){return Qe(this,e,t)},Ne.prototype.setIn=function(e,t){return this.updateIn(e,_,function(){return t})},Ne.prototype.remove=function(e){return Qe(this,e,_)},Ne.prototype.deleteIn=function(e){return this.updateIn(e,function(){return _})},Ne.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ne.prototype.updateIn=function(e,t,n){n||(n=t,t=undefined);var r=function o(e,t,n,r){var a=e===_,i=t.next();if(i.done){var s=a?n:e,l=r(s);return l===s?e:l}me(a||e&&e.set,"invalid keyPath");var u=i.value,c=a?_:e.get(u,_),d=o(c,t,n,r);return d===c?e:d===_?e.remove(u):(a?Je():e).set(u,d)}(this,nn(e),t,n);return r===_?undefined:r},Ne.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=undefined,this.__altered=!0,this):Je()},Ne.prototype.merge=function(){return rt(this,undefined,arguments)},Ne.prototype.mergeWith=function(t){var n=e.call(arguments,1);return rt(this,t,n)},Ne.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Je(),function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},Ne.prototype.mergeDeep=function(){return rt(this,ot,arguments)},Ne.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return rt(this,at(t),n)},Ne.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Je(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},Ne.prototype.sort=function(e){return Tt(Kt(this,e))},Ne.prototype.sortBy=function(e,t){return Tt(Kt(this,t,e))},Ne.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ne.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new x)},Ne.prototype.asImmutable=function(){return this.__ensureOwner()},Ne.prototype.wasAltered=function(){return this.__altered},Ne.prototype.__iterator=function(e,t){return new We(this,e,t)},Ne.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},Ne.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ze(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ne.isMap=Fe;var He,$e="@@__IMMUTABLE_MAP__@@",ze=Ne.prototype;function Ue(e,t){this.ownerID=e,this.entries=t}function Ve(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ke(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ge(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function We(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Xe(e._root)}function Ye(e,t){return F(e,t[0],t[1])}function Xe(e,t){return{node:e,index:0,__prev:t}}function Ze(e,t,n,r){var o=Object.create(ze);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Je(){return He||(He=Ze(0))}function Qe(e,t,n){var r,o;if(e._root){var a=w(v),i=w(b);if(r=et(e._root,e.__ownerID,0,undefined,t,n,a,i),!i.value)return e;o=e.size+(a.value?n===_?-1:1:0)}else{if(n===_)return e;o=1,r=new Ue(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=undefined,e.__altered=!0,e):r?Ze(o,r):Je()}function et(e,t,n,r,o,a,i,s){return e?e.update(t,n,r,o,a,i,s):a===_?e:(C(s),C(i),new qe(t,r,[o,a]))}function tt(e){return e.constructor===qe||e.constructor===Ge}function nt(e,t,n,r,o){if(e.keyHash===r)return new Ge(t,r,[e.entry,o]);var a,i=(0===n?e.keyHash:e.keyHash>>>n)&m,s=(0===n?r:r>>>n)&m,l=i===s?[nt(e,t,n+g,r,o)]:(a=new qe(t,r,o),i<s?[e,a]:[a,e]);return new Ve(t,1<<i|1<<s,l)}function rt(e,t,n){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=r(s);i(s)||(l=l.map(function(e){return de(e)})),o.push(l)}return it(e,t,o)}function ot(e,t,n){return e&&e.mergeDeep&&i(t)?e.mergeDeep(t):he(e,t)?e:t}function at(e){return function(t,n,r){if(t&&t.mergeDeepWith&&i(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return he(t,o)?t:o}}function it(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,_,function(e){return e===_?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)}):e.constructor(n[0])}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function lt(e,t,n,r){var o=r?e:S(e);return o[t]=n,o}ze[$e]=!0,ze["delete"]=ze.remove,ze.removeIn=ze.deleteIn,Ue.prototype.get=function(e,t,n,r){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(he(n,o[a][0]))return o[a][1];return r},Ue.prototype.update=function(e,t,n,r,o,a,i){for(var s=o===_,l=this.entries,u=0,c=l.length;u<c&&!he(r,l[u][0]);u++);var d=u<c;if(d?l[u][1]===o:s)return this;if(C(i),(s||!d)&&C(a),!s||1!==l.length){if(!d&&!s&&l.length>=ut)return function(e,t,n,r){e||(e=new x);for(var o=new qe(e,Pe(n),[n,r]),a=0;a<t.length;a++){var i=t[a];o=o.update(e,0,undefined,i[0],i[1])}return o}(e,l,r,o);var f=e&&e===this.ownerID,p=f?l:S(l);return d?s?u===c-1?p.pop():p[u]=p.pop():p[u]=[r,o]:p.push([r,o]),f?(this.entries=p,this):new Ue(e,p)}},Ve.prototype.get=function(e,t,n,r){t===undefined&&(t=Pe(n));var o=1<<((0===e?t:t>>>e)&m),a=this.bitmap;return 0==(a&o)?r:this.nodes[st(a&o-1)].get(e+g,t,n,r)},Ve.prototype.update=function(e,t,n,r,o,a,i){n===undefined&&(n=Pe(r));var s=(0===t?n:n>>>t)&m,l=1<<s,u=this.bitmap,c=0!=(u&l);if(!c&&o===_)return this;var d=st(u&l-1),f=this.nodes,p=c?f[d]:undefined,h=et(p,e,t+g,n,r,o,a,i);if(h===p)return this;if(!c&&h&&f.length>=ct)return function(e,t,n,r,o){for(var a=0,i=new Array(y),s=0;0!==n;s++,n>>>=1)i[s]=1&n?t[a++]:undefined;return i[r]=o,new Ke(e,a+1,i)}(e,f,u,s,h);if(c&&!h&&2===f.length&&tt(f[1^d]))return f[1^d];if(c&&h&&1===f.length&&tt(h))return h;var v=e&&e===this.ownerID,b=c?h?u:u^l:u|l,w=c?h?lt(f,d,h,v):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),a=0,i=0;i<r;i++)i===t&&(a=1),o[i]=e[i+a];return o}(f,d,v):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var a=new Array(o),i=0,s=0;s<o;s++)s===t?(a[s]=n,i=-1):a[s]=e[s+i];return a}(f,d,h,v);return v?(this.bitmap=b,this.nodes=w,this):new Ve(e,b,w)},Ke.prototype.get=function(e,t,n,r){t===undefined&&(t=Pe(n));var o=(0===e?t:t>>>e)&m,a=this.nodes[o];return a?a.get(e+g,t,n,r):r},Ke.prototype.update=function(e,t,n,r,o,a,i){n===undefined&&(n=Pe(r));var s=(0===t?n:n>>>t)&m,l=o===_,u=this.nodes,c=u[s];if(l&&!c)return this;var d=et(c,e,t+g,n,r,o,a,i);if(d===c)return this;var f=this.count;if(c){if(!d&&--f<dt)return function(e,t,n,r){for(var o=0,a=0,i=new Array(n),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];c!==undefined&&s!==r&&(o|=l,i[a++]=c)}return new Ve(e,o,i)}(e,u,f,s)}else f++;var p=e&&e===this.ownerID,h=lt(u,s,d,p);return p?(this.count=f,this.nodes=h,this):new Ke(e,f,h)},Ge.prototype.get=function(e,t,n,r){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(he(n,o[a][0]))return o[a][1];return r},Ge.prototype.update=function(e,t,n,r,o,a,i){n===undefined&&(n=Pe(r));var s=o===_;if(n!==this.keyHash)return s?this:(C(i),C(a),nt(this,e,t,n,[r,o]));for(var l=this.entries,u=0,c=l.length;u<c&&!he(r,l[u][0]);u++);var d=u<c;if(d?l[u][1]===o:s)return this;if(C(i),(s||!d)&&C(a),s&&2===c)return new qe(e,this.keyHash,l[1^u]);var f=e&&e===this.ownerID,p=f?l:S(l);return d?s?u===c-1?p.pop():p[u]=p.pop():p[u]=[r,o]:p.push([r,o]),f?(this.entries=p,this):new Ge(e,this.keyHash,p)},qe.prototype.get=function(e,t,n,r){return he(n,this.entry[0])?this.entry[1]:r},qe.prototype.update=function(e,t,n,r,o,a,i){var s=o===_,l=he(r,this.entry[0]);return(l?o===this.entry[1]:s)?this:(C(i),s?void C(a):l?e&&e===this.ownerID?(this.entry[1]=o,this):new qe(e,this.keyHash,[r,o]):(C(a),nt(this,e,t,Pe(r),[r,o])))},Ue.prototype.iterate=Ge.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Ve.prototype.iterate=Ke.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var a=n[t?o-r:r];if(a&&!1===a.iterate(e,t))return!1}},qe.prototype.iterate=function(e,t){return e(this.entry)},t(We,N),We.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return Ye(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return Ye(e,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var a=r.nodes[this._reverse?n-o:o];if(a){if(a.entry)return Ye(e,a.entry);t=this._stack=Xe(a,t)}continue}t=this._stack=this._stack.__prev}return H()};var ut=y/4,ct=y/2,dt=y/4;function ft(e){var t=Ct();if(null===e||e===undefined)return t;if(pt(e))return e;var n=o(e),r=n.size;return 0===r?t:(Be(r),r>0&&r<y?wt(0,r,g,null,new yt(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function pt(e){return!(!e||!e[ht])}t(ft,we),ft.of=function(){return this(arguments)},ft.prototype.toString=function(){return this.__toString("List [","]")},ft.prototype.get=function(e,t){if((e=k(this,e))>=0&&e<this.size){var n=Pt(this,e+=this._origin);return n&&n.array[e&m]}return t},ft.prototype.set=function(e,t){return function(e,t,n){if((t=k(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?kt(e,t).set(0,n):kt(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,a=w(b);return t>=Et(e._capacity)?r=xt(r,e.__ownerID,0,t,n,a):o=xt(o,e.__ownerID,e._level,t,n,a),a.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=undefined,e.__altered=!0,e):wt(e._origin,e._capacity,e._level,o,r):e}(this,e,t)},ft.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},ft.prototype.insert=function(e,t){return this.splice(e,0,t)},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=undefined,this.__altered=!0,this):Ct()},ft.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){kt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},ft.prototype.pop=function(){return kt(this,0,-1)},ft.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){kt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},ft.prototype.shift=function(){return kt(this,1)},ft.prototype.merge=function(){return Ot(this,undefined,arguments)},ft.prototype.mergeWith=function(t){var n=e.call(arguments,1);return Ot(this,t,n)},ft.prototype.mergeDeep=function(){return Ot(this,ot,arguments)},ft.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ot(this,at(t),n)},ft.prototype.setSize=function(e){return kt(this,0,e)},ft.prototype.slice=function(e,t){var n=this.size;return E(e,t,n)?this:kt(this,T(e,n),M(t,n))},ft.prototype.__iterator=function(e,t){var n=0,r=bt(this,t);return new N(function(){var t=r();return t===vt?H():F(e,n++,t)})},ft.prototype.__iterate=function(e,t){for(var n,r=0,o=bt(this,t);(n=o())!==vt&&!1!==e(n,r++,this););return r},ft.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?wt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},ft.isList=pt;var ht="@@__IMMUTABLE_LIST__@@",gt=ft.prototype;function yt(e,t){this.array=e,this.ownerID=t}gt[ht]=!0,gt["delete"]=gt.remove,gt.setIn=ze.setIn,gt.deleteIn=gt.removeIn=ze.removeIn,gt.update=ze.update,gt.updateIn=ze.updateIn,gt.mergeIn=ze.mergeIn,gt.mergeDeepIn=ze.mergeDeepIn,gt.withMutations=ze.withMutations,gt.asMutable=ze.asMutable,gt.asImmutable=ze.asImmutable,gt.wasAltered=ze.wasAltered,yt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&m;if(r>=this.array.length)return new yt([],e);var o,a=0===r;if(t>0){var i=this.array[r];if((o=i&&i.removeBefore(e,t-g,n))===i&&a)return this}if(a&&!o)return this;var s=St(this,e);if(!a)for(var l=0;l<r;l++)s.array[l]=undefined;return o&&(s.array[r]=o),s},yt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&m;if(o>=this.array.length)return this;if(t>0){var a=this.array[o];if((r=a&&a.removeAfter(e,t-g,n))===a&&o===this.array.length-1)return this}var i=St(this,e);return i.array.splice(o+1),r&&(i.array[o]=r),i};var mt,_t,vt={};function bt(e,t){var n=e._origin,r=e._capacity,o=Et(r),a=e._tail;return i(e._root,e._level,0);function i(e,s,l){return 0===s?function(e,i){var s=i===o?a&&a.array:e&&e.array,l=i>n?0:n-i,u=r-i;return u>y&&(u=y),function(){if(l===u)return vt;var e=t?--u:l++;return s&&s[e]}}(e,l):function(e,o,a){var s,l=e&&e.array,u=a>n?0:n-a>>o,c=1+(r-a>>o);return c>y&&(c=y),function(){for(;;){if(s){var e=s();if(e!==vt)return e;s=null}if(u===c)return vt;var n=t?--c:u++;s=i(l&&l[n],o-g,a+(n<<o))}}}(e,s,l)}}function wt(e,t,n,r,o,a,i){var s=Object.create(gt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=a,s.__hash=i,s.__altered=!1,s}function Ct(){return mt||(mt=wt(0,0,g))}function xt(e,t,n,r,o,a){var i,s=r>>>n&m,l=e&&s<e.array.length;if(!l&&o===undefined)return e;if(n>0){var u=e&&e.array[s],c=xt(u,t,n-g,r,o,a);return c===u?e:((i=St(e,t)).array[s]=c,i)}return l&&e.array[s]===o?e:(C(a),i=St(e,t),o===undefined&&s===i.array.length-1?i.array.pop():i.array[s]=o,i)}function St(e,t){return t&&e&&t===e.ownerID?e:new yt(e?e.array.slice():[],t)}function Pt(e,t){if(t>=Et(e._capacity))return e._tail;if(t<1<<e._level+g){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&m],r-=g;return n}}function kt(e,t,n){t!==undefined&&(t|=0),n!==undefined&&(n|=0);var r=e.__ownerID||new x,o=e._origin,a=e._capacity,i=o+t,s=n===undefined?a:n<0?a+n:o+n;if(i===o&&s===a)return e;if(i>=s)return e.clear();for(var l=e._level,u=e._root,c=0;i+c<0;)u=new yt(u&&u.array.length?[undefined,u]:[],r),c+=1<<(l+=g);c&&(i+=c,o+=c,s+=c,a+=c);for(var d=Et(a),f=Et(s);f>=1<<l+g;)u=new yt(u&&u.array.length?[u]:[],r),l+=g;var p=e._tail,h=f<d?Pt(e,s-1):f>d?new yt([],r):p;if(p&&f>d&&i<a&&p.array.length){for(var y=u=St(u,r),_=l;_>g;_-=g){var v=d>>>_&m;y=y.array[v]=St(y.array[v],r)}y.array[d>>>g&m]=p}if(s<a&&(h=h&&h.removeAfter(r,0,s)),i>=f)i-=f,s-=f,l=g,u=null,h=h&&h.removeBefore(r,0,i);else if(i>o||f<d){for(c=0;u;){var b=i>>>l&m;if(b!==f>>>l&m)break;b&&(c+=(1<<l)*b),l-=g,u=u.array[b]}u&&i>o&&(u=u.removeBefore(r,l,i-c)),u&&f<d&&(u=u.removeAfter(r,l,f-c)),c&&(i-=c,s-=c)}return e.__ownerID?(e.size=s-i,e._origin=i,e._capacity=s,e._level=l,e._root=u,e._tail=h,e.__hash=undefined,e.__altered=!0,e):wt(i,s,l,u,h)}function Ot(e,t,n){for(var r=[],a=0,s=0;s<n.length;s++){var l=n[s],u=o(l);u.size>a&&(a=u.size),i(l)||(u=u.map(function(e){return de(e)})),r.push(u)}return a>e.size&&(e=e.setSize(a)),it(e,t,r)}function Et(e){return e<y?0:e-1>>>g<<g}function Tt(e){return null===e||e===undefined?At():Mt(e)?e:At().withMutations(function(t){var n=r(e);Be(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Mt(e){return Fe(e)&&c(e)}function Dt(e,t,n,r){var o=Object.create(Tt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function At(){return _t||(_t=Dt(Je(),Ct()))}function jt(e,t,n){var r,o,a=e._map,i=e._list,s=a.get(t),l=s!==undefined;if(n===_){if(!l)return e;i.size>=y&&i.size>=2*a.size?(o=i.filter(function(e,t){return e!==undefined&&s!==t}),r=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=a.remove(t),o=s===i.size-1?i.pop():i.set(s,undefined))}else if(l){if(n===i.get(s)[1])return e;r=a,o=i.set(s,[t,n])}else r=a.set(t,i.size),o=i.set(i.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=undefined,e):Dt(r,o)}function It(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Lt(e){this._iter=e,this.size=e.size}function Rt(e){this._iter=e,this.size=e.size}function Bt(e){this._iter=e,this.size=e.size}function Nt(e){var t=Qt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=en,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===I){var r=e.__iterator(t,n);return new N(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===j?A:j,n)},t}function Ft(e,t,n){var r=Qt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var a=e.get(r,_);return a===_?o:t.call(n,a,r,e)},r.__iterateUncached=function(r,o){var a=this;return e.__iterate(function(e,o,i){return!1!==r(t.call(n,e,o,i),o,a)},o)},r.__iteratorUncached=function(r,o){var a=e.__iterator(I,o);return new N(function(){var o=a.next();if(o.done)return o;var i=o.value,s=i[0];return F(r,s,t.call(n,i[1],s,e),o)})},r}function Ht(e,t){var n=Qt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Nt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=en,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function $t(e,t,n,r){var o=Qt(e);return r&&(o.has=function(r){var o=e.get(r,_);return o!==_&&!!t.call(n,o,r,e)},o.get=function(r,o){var a=e.get(r,_);return a!==_&&t.call(n,a,r,e)?a:o}),o.__iterateUncached=function(o,a){var i=this,s=0;return e.__iterate(function(e,a,l){if(t.call(n,e,a,l))return s++,o(e,r?a:s-1,i)},a),s},o.__iteratorUncached=function(o,a){var i=e.__iterator(I,a),s=0;return new N(function(){for(;;){var a=i.next();if(a.done)return a;var l=a.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return F(o,r?u:s++,c,a)}})},o}function zt(e,t,n,r){var o=e.size;if(t!==undefined&&(t|=0),n!==undefined&&(n===Infinity?n=o:n|=0),E(t,n,o))return e;var a=T(t,o),i=M(n,o);if(a!=a||i!=i)return zt(e.toSeq().cacheResult(),t,n,r);var s,l=i-a;l==l&&(s=l<0?0:l);var u=Qt(e);return u.size=0===s?s:e.size&&s||undefined,!r&&oe(e)&&s>=0&&(u.get=function(t,n){return(t=k(this,t))>=0&&t<s?e.get(t+a,n):n}),u.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var i=0,l=!0,u=0;return e.__iterate(function(e,n){if(!l||!(l=i++<a))return u++,!1!==t(e,r?n:u-1,o)&&u!==s}),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),i=0,l=0;return new N(function(){for(;i++<a;)o.next();if(++l>s)return H();var e=o.next();return r||t===j?e:F(t,l-1,t===A?undefined:e.value[1],e)})},u}function Ut(e,t,n,r){var o=Qt(e);return o.__iterateUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterate(o,a);var s=!0,l=0;return e.__iterate(function(e,a,u){if(!s||!(s=t.call(n,e,a,u)))return l++,o(e,r?a:l-1,i)}),l},o.__iteratorUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterator(o,a);var s=e.__iterator(I,a),l=!0,u=0;return new N(function(){var e,a,c;do{if((e=s.next()).done)return r||o===j?e:F(o,u++,o===A?undefined:e.value[1],e);var d=e.value;a=d[0],c=d[1],l&&(l=t.call(n,c,a,i))}while(l);return o===I?e:F(o,a,c,e)})},o}function Vt(e,t,n){var r=Qt(e);return r.__iterateUncached=function(r,o){var a=0,s=!1;return function l(e,u){var c=this;e.__iterate(function(e,o){return(!t||u<t)&&i(e)?l(e,u+1):!1===r(e,n?o:a++,c)&&(s=!0),!s},o)}(e,0),a},r.__iteratorUncached=function(r,o){var a=e.__iterator(r,o),s=[],l=0;return new N(function(){for(;a;){var e=a.next();if(!1===e.done){var u=e.value;if(r===I&&(u=u[1]),t&&!(s.length<t)||!i(u))return n?e:F(r,l++,u,e);s.push(a),a=u.__iterator(r,o)}else a=s.pop()}return H()})},r}function Kt(e,t,n){t||(t=tn);var r=s(e),o=0,a=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return a.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),r?q(a):l(e)?W(a):Y(a)}function Gt(e,t,n){if(t||(t=tn),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return qt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return qt(t,e,n)?n:e})}function qt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(n===undefined||null===n||n!=n)||r>0}function Wt(e,t,r){var o=Qt(e);return o.size=new ee(r).map(function(e){return e.size}).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(j,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var a=r.map(function(e){return e=n(e),U(o?e.reverse():e)}),i=0,s=!1;return new N(function(){var n;return s||(n=a.map(function(e){return e.next()}),s=n.some(function(e){return e.done})),s?H():F(e,i++,t.apply(null,n.map(function(e){return e.value})))})},o}function Yt(e,t){return oe(e)?t:e.constructor(t)}function Xt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Zt(e){return Be(e.size),P(e)}function Jt(e){return s(e)?r:l(e)?o:a}function Qt(e){return Object.create((s(e)?q:l(e)?W:Y).prototype)}function en(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function tn(e,t){return e>t?1:e<t?-1:0}function nn(e){var t=U(e);if(!t){if(!K(e))throw new TypeError("Expected iterable or array-like: "+e);t=U(n(e))}return t}function rn(e,t){var n,r=function(a){if(a instanceof r)return a;if(!(this instanceof r))return new r(a);if(!n){n=!0;var i=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){me(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(undefined,e))}catch(n){}}(o,i),o.size=i.length,o._name=t,o._keys=i,o._defaultValues=e}this._map=Ne(a)},o=r.prototype=Object.create(on);return o.constructor=r,r}t(Tt,Ne),Tt.of=function(){return this(arguments)},Tt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Tt.prototype.get=function(e,t){var n=this._map.get(e);return n!==undefined?this._list.get(n)[1]:t},Tt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):At()},Tt.prototype.set=function(e,t){return jt(this,e,t)},Tt.prototype.remove=function(e){return jt(this,e,_)},Tt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Tt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Tt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Tt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Dt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Tt.isOrderedMap=Mt,Tt.prototype[h]=!0,Tt.prototype["delete"]=Tt.prototype.remove,t(It,q),It.prototype.get=function(e,t){return this._iter.get(e,t)},It.prototype.has=function(e){return this._iter.has(e)},It.prototype.valueSeq=function(){return this._iter.valueSeq()},It.prototype.reverse=function(){var e=this,t=Ht(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},It.prototype.map=function(e,t){var n=this,r=Ft(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},It.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Zt(this):0,function(o){return e(o,t?--n:n++,r)}),t)},It.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(j,t),r=t?Zt(this):0;return new N(function(){var o=n.next();return o.done?o:F(e,t?--r:r++,o.value,o)})},It.prototype[h]=!0,t(Lt,W),Lt.prototype.includes=function(e){return this._iter.includes(e)},Lt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},Lt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(j,t),r=0;return new N(function(){var t=n.next();return t.done?t:F(e,r++,t.value,t)})},t(Rt,Y),Rt.prototype.has=function(e){return this._iter.includes(e)},Rt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},Rt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(j,t);return new N(function(){var t=n.next();return t.done?t:F(e,t.value,t.value,t)})},t(Bt,q),Bt.prototype.entrySeq=function(){return this._iter.toSeq()},Bt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Xt(t);var r=i(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Bt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(j,t);return new N(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Xt(r);var o=i(r);return F(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},Lt.prototype.cacheResult=It.prototype.cacheResult=Rt.prototype.cacheResult=Bt.prototype.cacheResult=en,t(rn,be),rn.prototype.toString=function(){return this.__toString(sn(this)+" {","}")},rn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},rn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=an(this,Je()))},rn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+sn(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:an(this,r)},rn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:an(this,t)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},rn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?an(this,t,e):(this.__ownerID=e,this._map=t,this)};var on=rn.prototype;function an(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function sn(e){return e._name||e.constructor.name||"Record"}function ln(e){return null===e||e===undefined?gn():un(e)&&!c(e)?e:gn().withMutations(function(t){var n=a(e);Be(n.size),n.forEach(function(e){return t.add(e)})})}function un(e){return!(!e||!e[dn])}on["delete"]=on.remove,on.deleteIn=on.removeIn=ze.removeIn,on.merge=ze.merge,on.mergeWith=ze.mergeWith,on.mergeIn=ze.mergeIn,on.mergeDeep=ze.mergeDeep,on.mergeDeepWith=ze.mergeDeepWith,on.mergeDeepIn=ze.mergeDeepIn,on.setIn=ze.setIn,on.update=ze.update,on.updateIn=ze.updateIn,on.withMutations=ze.withMutations,on.asMutable=ze.asMutable,on.asImmutable=ze.asImmutable,t(ln,Ce),ln.of=function(){return this(arguments)},ln.fromKeys=function(e){return this(r(e).keySeq())},ln.prototype.toString=function(){return this.__toString("Set {","}")},ln.prototype.has=function(e){return this._map.has(e)},ln.prototype.add=function(e){return pn(this,this._map.set(e,!0))},ln.prototype.remove=function(e){return pn(this,this._map.remove(e))},ln.prototype.clear=function(){return pn(this,this._map.clear())},ln.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)a(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},ln.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return a(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},ln.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return a(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},ln.prototype.merge=function(){return this.union.apply(this,arguments)},ln.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},ln.prototype.sort=function(e){return yn(Kt(this,e))},ln.prototype.sortBy=function(e,t){return yn(Kt(this,t,e))},ln.prototype.wasAltered=function(){return this._map.wasAltered()},ln.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},ln.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},ln.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},ln.isSet=un;var cn,dn="@@__IMMUTABLE_SET__@@",fn=ln.prototype;function pn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function hn(e,t){var n=Object.create(fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function gn(){return cn||(cn=hn(Je()))}function yn(e){return null===e||e===undefined?wn():mn(e)?e:wn().withMutations(function(t){var n=a(e);Be(n.size),n.forEach(function(e){return t.add(e)})})}function mn(e){return un(e)&&c(e)}fn[dn]=!0,fn["delete"]=fn.remove,fn.mergeDeep=fn.merge,fn.mergeDeepWith=fn.mergeWith,fn.withMutations=ze.withMutations,fn.asMutable=ze.asMutable,fn.asImmutable=ze.asImmutable,fn.__empty=gn,fn.__make=hn,t(yn,ln),yn.of=function(){return this(arguments)},yn.fromKeys=function(e){return this(r(e).keySeq())},yn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},yn.isOrderedSet=mn;var _n,vn=yn.prototype;function bn(e,t){var n=Object.create(vn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function wn(){return _n||(_n=bn(At()))}function Cn(e){return null===e||e===undefined?En():xn(e)?e:En().unshiftAll(e)}function xn(e){return!(!e||!e[Pn])}vn[h]=!0,vn.__empty=wn,vn.__make=bn,t(Cn,we),Cn.of=function(){return this(arguments)},Cn.prototype.toString=function(){return this.__toString("Stack [","]")},Cn.prototype.get=function(e,t){var n=this._head;for(e=k(this,e);n&&e--;)n=n.next;return n?n.value:t},Cn.prototype.peek=function(){return this._head&&this._head.value},Cn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=undefined,this.__altered=!0,this):On(e,t)},Cn.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;Be(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=undefined,this.__altered=!0,this):On(t,n)},Cn.prototype.pop=function(){return this.slice(1)},Cn.prototype.unshift=function(){return this.push.apply(this,arguments)},Cn.prototype.unshiftAll=function(e){return this.pushAll(e)},Cn.prototype.shift=function(){return this.pop.apply(this,arguments)},Cn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=undefined,this.__hash=undefined,this.__altered=!0,this):En()},Cn.prototype.slice=function(e,t){if(E(e,t,this.size))return this;var n=T(e,this.size),r=M(t,this.size);if(r!==this.size)return we.prototype.slice.call(this,e,t);for(var o=this.size-n,a=this._head;n--;)a=a.next;return this.__ownerID?(this.size=o,this._head=a,this.__hash=undefined,this.__altered=!0,this):On(o,a)},Cn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?On(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Cn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Cn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new N(function(){if(r){var t=r.value;return r=r.next,F(e,n++,t)}return H()})},Cn.isStack=xn;var Sn,Pn="@@__IMMUTABLE_STACK__@@",kn=Cn.prototype;function On(e,t,n,r){var o=Object.create(kn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function En(){return Sn||(Sn=On(0))}function Tn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}kn[Pn]=!0,kn.withMutations=ze.withMutations,kn.asMutable=ze.asMutable,kn.asImmutable=ze.asImmutable,kn.wasAltered=ze.wasAltered,n.Iterator=N,Tn(n,{toArray:function(){Be(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new Lt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new It(this,!0)},toMap:function(){return Ne(this.toKeyedSeq())},toObject:function(){Be(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Tt(this.toKeyedSeq())},toOrderedSet:function(){return yn(s(this)?this.valueSeq():this)},toSet:function(){return ln(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Rt(this)},toSeq:function(){return l(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Cn(s(this)?this.valueSeq():this)},toList:function(){return ft(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Yt(this,function(e,t){var n=s(e),o=[e].concat(t).map(function(e){return i(e)?n&&(e=r(e)):e=n?ie(e):se(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===o.length)return e;if(1===o.length){var a=o[0];if(a===e||n&&s(a)||l(e)&&l(a))return a}var u=new ee(o);return n?u=u.toKeyedSeq():l(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=o.reduce(function(e,t){if(e!==undefined){var n=t.size;if(n!==undefined)return e+n}},0),u}(this,t))},includes:function(e){return this.some(function(t){return he(t,e)})},entries:function(){return this.__iterator(I)},every:function(e,t){Be(this.size);var n=!0;return this.__iterate(function(r,o,a){if(!e.call(t,r,o,a))return n=!1,!1}),n},filter:function(e,t){return Yt(this,$t(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Be(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Be(this.size),e=e!==undefined?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&r!==undefined?r.toString():""}),t},keys:function(){return this.__iterator(A)},map:function(e,t){return Yt(this,Ft(this,e,t))},reduce:function(e,t,n){var r,o;return Be(this.size),arguments.length<2?o=!0:r=t,this.__iterate(function(t,a,i){o?(o=!1,r=t):r=e.call(n,r,t,a,i)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Yt(this,Ht(this,!0))},slice:function(e,t){return Yt(this,zt(this,e,t,!0))},some:function(e,t){return!this.every(In(e),t)},sort:function(e){return Yt(this,Kt(this,e))},values:function(){return this.__iterator(j)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==undefined?0===this.size:!this.some(function(){return!0})},count:function(e,t){return P(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Ne().asMutable();return e.__iterate(function(o,a){r.update(t.call(n,o,a,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return ge(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(jn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(In(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,o,a){if(e.call(t,n,o,a))return r=[o,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(O)},flatMap:function(e,t){return Yt(this,function(e,t,n){var r=Jt(e);return e.toSeq().map(function(o,a){return r(t.call(n,o,a,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Yt(this,Vt(this,e,!0))},fromEntrySeq:function(){return new Bt(this)},get:function(e,t){return this.find(function(t,n){return he(n,e)},undefined,t)},getIn:function(e,t){for(var n,r=this,o=nn(e);!(n=o.next()).done;){var a=n.value;if((r=r&&r.get?r.get(a,_):_)===_)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=s(e),o=(c(e)?Tt():Ne()).asMutable();e.__iterate(function(a,i){o.update(t.call(n,a,i,e),function(e){return(e=e||[]).push(r?[i,a]:a),e})});var a=Jt(e);return o.map(function(t){return Yt(e,a(t))})}(this,e,t)},has:function(e){return this.get(e,_)!==_},hasIn:function(e){return this.getIn(e,_)!==_},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return he(t,e)})},keySeq:function(){return this.toSeq().map(An).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Gt(this,e)},maxBy:function(e,t){return Gt(this,t,e)},min:function(e){return Gt(this,e?Ln(e):Nn)},minBy:function(e,t){return Gt(this,t?Ln(t):Nn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Yt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Yt(this,Ut(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(In(e),t)},sortBy:function(e,t){return Yt(this,Kt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Yt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Yt(this,function(e,t,n){var r=Qt(e);return r.__iterateUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterate(r,o);var i=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++i&&r(e,o,a)}),i},r.__iteratorUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterator(r,o);var i=e.__iterator(I,o),s=!0;return new N(function(){if(!s)return H();var e=i.next();if(e.done)return e;var o=e.value,l=o[0],u=o[1];return t.call(n,u,l,a)?r===I?e:F(r,l,u,e):(s=!1,H())})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(In(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===Infinity)return 0;var t=c(e),n=s(e),r=t?1:0;return function(e,t){return t=xe(t,3432918353),t=xe(t<<15|t>>>-15,461845907),t=xe(t<<13|t>>>-13,5),t=xe((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Se((t=xe(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Fn(Pe(e),Pe(t))|0}:function(e,t){r=r+Fn(Pe(e),Pe(t))|0}:t?function(e){r=31*r+Pe(e)|0}:function(e){r=r+Pe(e)|0}),r)}(this))}});var Mn=n.prototype;Mn[d]=!0,Mn[B]=Mn.values,Mn.__toJS=Mn.toArray,Mn.__toStringMapper=Rn,Mn.inspect=Mn.toSource=function(){return this.toString()},Mn.chain=Mn.flatMap,Mn.contains=Mn.includes,Tn(r,{flip:function(){return Yt(this,Nt(this))},mapEntries:function(e,t){var n=this,r=0;return Yt(this,this.toSeq().map(function(o,a){return e.call(t,[a,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Yt(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var Dn=r.prototype;function An(e,t){return t}function jn(e,t){return[t,e]}function In(e){return function(){return!e.apply(this,arguments)}}function Ln(e){return function(){return-e.apply(this,arguments)}}function Rn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Bn(){return S(arguments)}function Nn(e,t){return e<t?1:e>t?-1:0}function Fn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Dn[f]=!0,Dn[B]=Mn.entries,Dn.__toJS=Mn.toObject,Dn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Rn(e)},Tn(o,{toKeyedSeq:function(){return new It(this,!1)},filter:function(e,t){return Yt(this,$t(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return t===undefined?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return t===undefined?-1:t},reverse:function(){return Yt(this,Ht(this,!1))},slice:function(e,t){return Yt(this,zt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=T(e,e<0?this.count():this.size);var r=this.slice(0,e);return Yt(this,1===n?r:r.concat(S(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Yt(this,Vt(this,e,!1))},get:function(e,t){return(e=k(this,e))<0||this.size===Infinity||this.size!==undefined&&e>this.size?t:this.find(function(t,n){return n===e},undefined,t)},has:function(e){return(e=k(this,e))>=0&&(this.size!==undefined?this.size===Infinity||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Yt(this,function(e,t){var n=Qt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,a=0;return e.__iterate(function(e,r){return(!a||!1!==n(t,a++,o))&&!1!==n(e,a++,o)},r),a},n.__iteratorUncached=function(n,r){var o,a=e.__iterator(j,r),i=0;return new N(function(){return(!o||i%2)&&(o=a.next()).done?o:i%2?F(n,i++,t):F(n,i++,o.value,o)})},n}(this,e))},interleave:function(){var e=[this].concat(S(arguments)),t=Wt(this.toSeq(),W.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Yt(this,n)},keySeq:function(){return _e(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Yt(this,Ut(this,e,t,!1))},zip:function(){return Yt(this,Wt(this,Bn,[this].concat(S(arguments))))},zipWith:function(e){var t=S(arguments);return t[0]=this,Yt(this,Wt(this,e,t))}}),o.prototype[p]=!0,o.prototype[h]=!0,Tn(a,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=Mn.includes,a.prototype.contains=a.prototype.includes,Tn(q,r.prototype),Tn(W,o.prototype),Tn(Y,a.prototype),Tn(be,r.prototype),Tn(we,o.prototype),Tn(Ce,a.prototype),{Iterable:n,Seq:G,Collection:ve,Map:Ne,OrderedMap:Tt,List:ft,Stack:Cn,Set:ln,OrderedSet:yn,Record:rn,Range:_e,Repeat:ye,is:he,fromJS:de}}()},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=c(n(636)),a=c(n(95)),i=c(n(8)),s=c(n(363)),l=c(n(149)),u=n(98);function c(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var d=n(69).EventEmitter,f={num:0,total:0,folderTotal:0,zoom:.5,type:"mainBox",prevMode:"normal",mode:"normal",pageIndexKey:-1,leftUnFold:!1,isGrid:!1,isRule:!0,isGuide:!0,isHideHotspot:!1,isHideOtherPage:!1,isHideNote:!1,isHideEventTag:!1,isHideAnimTag:!1,isShowName:!0,isShowPageNo:!0,isShowLongPage:!1,isShowPageGuide:!0,stateFold:!1,addNote:!1,proid:null,name:"",isInit:!1,isLoaded:!0,multiViewType:window.isPc?"free-view":"fixed-view",pageToolFold:!1,structHierarchy:[],isShowPageStruct:!1,isAutoSaving:!1,autoSaveDate:null,oldChangeNum:0,noStructHierarchy:!1,versionSet:{desc:"",title:"初始版本",isDelete:!1,activeKey:""},versionIndexKey:"",isOffLine:!1,iconImg:"",coverImage:""},p={},h={},g=[],y=void 0,m=null,_={},v=void 0,b=[],w=[],C=[],x=void 0,S={date:null,content:null,selectStructArr:null};function P(){window.isLoadMulti||n(497)["default"].loadMultiViewCanvas();var e=n(229)["default"];m=M.getActivePage(),e.switchMode("multi-view",!0),p[m]&&(p[m].active=!1),l["default"].choosePageSocket(-1,f.proid)}function k(e,t){p[e]&&(p[e]=$.extend(!0,p[e],t),t.events&&(p[e].events=$.extend(!0,{},t.events)))}function O(e){f.zoom=e/100}function E(e,t){p[e].backColor=t}function T(e,t){p[e].isLandscape=t}var M=(0,a["default"])({},d.prototype,{saveOtherAutoSaveDataArr:function(e){b.push(e)},getOtherAutoSaveDataLength:function(){return b.length},getInitPagesKeyArr:function(){return C},isInInitPagesKeyArr:function(e){return C.indexOf(e)},getOtherAutoSaveDataArr:function(){return b},setOtherAutoSaveDataArr:function(e){b=e},addRedoUndoEmitArr:function(e){w.push(e)},getRedoUndoEmitArr:function(){return w},setRedoUndoEmitArr:function(e){w=e},getLastSaveKey:function(){return v},setLastSaveKey:function(e){v=e},getView:function(){return f},getIsInit:function(){return f.isInit},getPages:function(){return p},getAutoSaveSendData:function(){return x},setAutoSaveSendData:function(e){x=e},getProjectDataObj:function(){return _},setProjectDataObj:function(e){_=e},getOnePagesKey:function(){if(p[f.pageIndexKey])return f.pageIndexKey;for(var e in p)return e},getPagesKey:function(e){var t={};for(var n in p)e&&M.getActivePage(),t[n]=p[n].name;return t},getOutLastPageIndex:function(){return m},backColorChange:function(e,t,n){E(e,t),n||M.emitPagesChange()},isLandscapeToggle:function(e,t,n){T(e,t),n||(M.emitViewChange(),M.emitPagesChange())},getPageName:function(e){return p[e].name},getSymbolSaveData:function(){return _.content&&_.content.symbolContrs},getLinkLineSaveData:function(){return _.content.linkLines||(_.content.linkLines={}),_.content&&_.content.linkLines},getPageFlowSaveData:function(){return _.content.pageFlows||(_.content.pageFlows={}),_.content&&_.content.pageFlows},getPrdDataSaveData:function(){return _.content.prdData||(_.content.prdData={}),_.content&&_.content.prdData},getViewMode:function(){return f.mode},getViewPrevMode:function(){return f.prevMode},getViewTotal:function(){return f.total},getPageByKey:function(e){return p[e]},changePages:function(e){p=$.extend(!0,{},e),f.num=(0,o["default"])(e).length,M.emitPagesChange()},pageInsertContr:function(e,t){var n=M.getActivePage(),r=[p[n].hierarchy.indexOf(e),1].concat(t);Array.prototype.splice.apply(p[n].hierarchy,r)},pageAddContr:function(e,t){p[e]&&-1==p[e].hierarchy.indexOf(t)&&p[e].hierarchy.splice(0,0,t)},pageRemoveContr:function(e,t){p[e].hierarchy.remove(t)},getActivePage:function(e){for(var t in p)if(p[t].active)return e?p[t]:t;return null},getPage:function(e,t){return t?p[e]:null},setPage:function(e,t,n){p[e]=t,n||M.emitPagesChange()},changePcPageHeight:function(e,t,n){(t||M.getActivePage(!0)).pageHeight=e,n||M.emitPagesChange()},setViewProp:function(e,t){f=$.extend(f,e),!t&&e.changePages&&M.emitPagesChange(),t||M.emitViewChange()},zoomOut:function(){P(),$(".plugIn-panel .panel-close-btn").click(),M.emitViewChange(),M.emitPagesChange(),n(51)["default"].emitChange()},getZoom:function(){return f.zoom},isShowPageStruct:function(){return f.isShowPageStruct},getIsShowLongPage:function(){return f.isShowLongPage},getProjectName:function(){return f.name},setProjectName:function(e){f.name=e},getCoverImage:function(){return f.coverImage},setCoverImage:function(e){f.coverImage=e},setPageIndexKey:function(e,t){f.pageIndexKey=e,"multi-view"!=f.mode||t||M.emitViewChange()},getPageIndexKey:function(){var e=f.pageIndexKey;if(p[e])return e;for(var t in p)return t},getPageHierarchy:function(e){return p[e]?p[e].hierarchy:[]},getActivePageHierarchy:function(){return p[M.getActivePage()].hierarchy},switchToPrevMode:function(){f.mode=f.prevMode,M.emitViewChange()},setViewMode:function(e){f.mode=e},updateProp:function(e,t){k(e,t)},getPageSelect:function(e){return e?g:g.concat()},getPageNum:function(){return $.objLength(p)},selectChange:function(e,t){if(!$.checkArrayEqual(g,e)){for(var n in g=e.concat(),p){var r=p[n];-1!=g.indexOf(""+n)?r.isSelect=!0:r.isSelect=!1}t||M.emitPagesChange()}},selectAll:function(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0],t=n(23)["default"],r=[];t.getStage().getStage().find(".page").each(function(e){e.attrs&&e.attrs["data-isPageFlowHide"]||r.push((0,u.getPageIdByKey)(e.getAttr("id")))}),r.length>0&&M.selectChange(r,e)},setActiveMainbox:function(e){y=e},getActiveMainbox:function(){return y},getIsHideNote:function(){return f.isHideNote},toggleEditing:function(){f.editing=!f.editing&&M.getActivePage()},setStateFold:function(e){f.stateFold=e},getStateFold:function(){return f.stateFold},removeIsNew:function(e){delete p[e].isNew},updatePageEvents:function(e,t,n){$.handleEventsData(p[e],t,!0),n||M.emitPagesChange()},isMultiFixed:function(){return"fixed-view"==f.multiViewType&&"multi-view"==f.mode},isMultiFree:function(){return"free-view"==f.multiViewType&&"multi-view"==f.mode},isMultiView:function(){return"multi-view"==f.mode},isPrdView:function(){return"prd-view"==f.mode},isFreeView:function(){return"free-view"==f.multiViewType},isFixedView:function(){return"fixed-view"==f.multiViewType},getInitStructHierarchy:function(){return f.initStructHierarchy},getInitPages:function(){return h},setInitPages:function(e){h=e},getTouchIcon:function(){return f.iconImg},setTouchIcon:function(e,t){f.iconImg=e,t||M.emitViewChange()},getLoad:function(){return f.isLoaded},setLoad:function(e,t,r){(f.isLoaded=e,t)||n(278)["default"].setLoaded(e,r)},getProId:function(){return f.proid},setLocalPageClipboard:function(e,t,n,r){S.date=t,S.content=e,S.selectStructArr=n,S.pageFlowId=r},getLocalPageClipboard:function(){return S},changeVersion:function(e){f.versionSet.title=e.title,f.versionSet.desc=e.desc},getVersionSet:function(){return f.versionSet},getVersionIndexKey:function(){return f.versionIndexKey},getIsOffLine:function(){return f.isOffLine},setVersionKey:function(e){var t=f.versionSet.activeKey==f.versionIndexKey;return f.versionSet.activeKey=e,t&&(window.versionIndexKey=e,f.versionIndexKey=e),t},setVersionIndexKey:function(e,t){f.versionIndexKey=e,t&&(window.versionIndexKey=e)},getUpdateTime:function(){return _.updateTime},emitViewChange:function(){this.emit("viewChange")},addViewChangeListener:function(e){this.on("viewChange",e)},removeViewChangeListener:function(e){this.removeListener("viewChange",e)},emitLoadingChange:function(){this.emit("loadingChange")},addLoadingChangeListener:function(e){this.on("loadingChange",e)},removeLoadingChangeListener:function(e){this.removeListener("loadingChange",e)},emitPagesChange:function(){this.emit("pagesChange")},addPagesChangeListener:function(e){this.on("pagesChange",e)},removePagesChangeListener:function(e){this.removeListener("pagesChange",e)},emitPageStructChange:function(){this.emit("pageStructChange")},addPageStructChangeListener:function(e){this.on("pageStructChange",e)},removePageStructChangeListener:function(e){this.removeListener("pageStructChange",e)}});i["default"].register(function(e){switch(e.actionType){case s["default"].VIEW_ZOOMOUT:P(),M.emitViewChange(),M.emitPagesChange();break;case s["default"].VIEW_UPDATEPROP:k(e.index,e.prop),M.emitPagesChange();break;case s["default"].VIEW_UPDATEACTIVEPROP:k(M.getActivePage(),e.prop),M.emitPagesChange();break;case s["default"].VIEW_SWITCHTOPREVMODE:M.switchToPrevMode();break;case s["default"].VIEW_CHANGEZOOM:O(e.zoom),M.emitViewChange();break;case s["default"].VIEW_BACKCOLOR:E(e.pageId,e.backColor),M.emitPagesChange();break;case s["default"].VIEW_SETVIEWPROP:M.setViewProp(e.obj);break;case s["default"].VIEW_SELECTCHANGE:M.selectChange(e.selectArr);break;case s["default"].VIEW_SELECTALL:M.selectAll();break;case s["default"].VIEW_COPYPAGE:M.copyPage()}});var D,A,j=M;t["default"]=j,(D=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(D.register(d,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register("viewChange","VIEWCHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register("pagesChange","PAGESCHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register("pageStructChange","PAGESTRUCTCHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register("loadingChange","LOADINGCHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(f,"view","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(p,"pages","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(h,"initPages","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(g,"pageSelect","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(y,"activeMainbox","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(m,"outLastPageIndex","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(_,"__projectData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(v,"__lastSaveKey","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(b,"__otherAutoSaveDataArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(w,"__redoUndoEmitArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(C,"__initPagesKeyArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(x,"__autoSaveSendData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(S,"__localPageClipboard","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(P,"_zoomOut","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(k,"updateProp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(O,"changeZoom","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(E,"backColorChange","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(T,"isLandscapeToggle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(M,"ViewStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js"),D.register(j,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/ViewStore.js")),(A=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&A(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=a(n(362)),l=a(n(5)),u=a(n(24)),c=a(n(76)),d=a(n(32)),f=a(n(149)),p=a(n(205)),h=a(n(417)),g=n(9),y={},m={startState:null,endState:null,isShow:!1,contr:null,isCompare:!0},_=[],v={},b={contrs:{},symbols:{}},w={},C={},x=null;function S(){$.isNull(x)||(clearTimeout(x),x=null),x=setTimeout(function(){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e)},10)}function P(e,t,r){var o,a=n(77)["default"],i=n(249)["default"],s=u["default"].getMergeBoxShow()?u["default"].getContrs():v;if(_.forEach(function(t){o=s[t]?s[t]:E.getContrByAll(t),-1==e.indexOf(t)&&o&&(o.isEdit&&(o.isEdit=!1),o.isOpen&&-1==u["default"].getContrListKey().indexOf($.getContrId(o))&&(o.isOpen=!1),o.isOpt=!1)}),e.forEach(function(e){(o=s[e]?s[e]:E.getContrByAll(e))&&(o.isOpt=!0)}),u["default"].getIsWrapEdit()){var l=e[0]&&d["default"].getSymbolMaskShow()&&d["default"].getIsEditSymbolChild(e[0]);1!==e.length||s[e[0]]||v[e[0]]||l?(1===e.length&&"spotDrag"!=window.mouseDownTarget.name&&!s[e[0]]||0===e.length)&&u["default"].wrapBoxEditOut():u["default"].wrapBoxEdit(E.getContrByAll(e[0]))}if(_=e,window.copySelectChange=!0,1===e.length&&-1!==e[0].indexOf("table")){var c=a.getTableSelectContr();if(c)$.getContrId(c)!=e[0]&&i.tableDataInit(!0);else i.tableDataInit(!0)}else i.tableDataInit(!0);E.initCache(),$.query(".mainBox.active .isEditing-layer")&&f["default"].choosePageSocket(),r||h["default"](e,t)}function k(e){var t=u["default"].getContrList(),n=t[t.length-1],r=1==t.length?v:t[t.length-2].contrs;e&&(r[n.type+"_"+n.id]=n),1==t.length?u["default"].cancelMergeBoxShow():(u["default"].setThisContr(t[t.length-2]),t.pop()),_=[],P([n.type+"_"+n.id])}var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getSelectContrFunc=function(){return _},t.prototype.setSelectContr=function(e){_=e},t.prototype.addSymbolContr=function(e){var t=$.getContrId(e),n=E.getThisOneSymbol().hierarchy;b.contrs[t]=e,-1==n.indexOf(n)&&n.unshift(t)},t.prototype.setSymbolContrs=function(e){b=e},t.prototype.initSymbolContrs=function(){b={contrs:{},symbols:{}}},t.prototype.getSymbolContr=function(){return b},t.prototype.getThisOneSymbol=function(){return b.symbols[d["default"].getSymbolMaskContr().symbolKey]},t.prototype.getSymbolPosi=function(e){var t=b.symbols[e];return{width:t.width,height:t.height}},t.prototype.getCopyContrBySymbolHierarchy=function(e){var t=$.extend(!0,{},e);if(["id","interfaceId","name","symbolKey","mergeName","events","states","isEdit","lastContent","isStructOpen","thisSelf","hoverState","copyKey","transition","isOpen","isOpt","cutVals","width","height","dependType","isDepend","userKey","isS"].forEach(function(e){$.isUndefined(t[e])||delete t[e]}),"wrapbox"==t.type)t.hierarchy=t.hierarchy.map(function(e){return E.getCopyContrBySymbolHierarchy(t.contrs[e])}),$.isUndefined(t.contrs)||delete t.contrs;else if("symbol"==t.type){var n=[];for(var r in t.children)n.push(t.children[r]);t.children=n}return t},t.prototype.addSymbolInCopyObj=function(e,t){e.hierarchy&&e.hierarchy.forEach(function(e){t.contrs[e]||(t.contrs[e]=$.extend(!0,{},b.contrs[e]),E.getChildSymbolInContr(t.contrs[e],t))})},t.prototype.getChildSymbolInContr=function(e,t){if("symbol"!=e.type||t.symbols[e.symbolKey]){if("wrapbox"==e.type){var n=$.getContrId(e);!t.contrs[n]&&b.contrs[n]&&(t.contrs[n]=$.extend(!0,{},b.contrs[n])),e.hierarchy.forEach(function(n){E.getChildSymbolInContr(e.contrs[n],t)})}}else t.symbols[e.symbolKey]=$.extend(!0,{},b.symbols[e.symbolKey]),E.addSymbolInCopyObj(t.symbols[e.symbolKey],t)},t.prototype.getSymbolList=function(){},t.prototype.getThisSymbolHierarchy=function(){return E.getThisOneSymbol().hierarchy},t.prototype.getOneSymbolByLib=function(e){if(b.symbols[e]){var t=$.extend(!0,{key:e,id:e,type:"symbolLib",bgColor:"rgba(255, 255, 255, 1)",isLock:!1,isShow:!0,isOpt:!0,scale:10,rotate:0,opacity:100,children:{}},b.symbols[e]);return t.contrs={},t.hierarchy&&t.hierarchy.forEach(function(e){t.contrs[e]=b.contrs[e]}),t}},t.prototype.selectAllContr=function(e){var t=n(88)["default"],r=n(63)["default"],o=u["default"].getMergeBoxShow()?u["default"].getContrsArr():d["default"].getSymbolMaskShow()?t.getThisSymbolChildContr(!0):r.getActiveInterface(),a=[];o.forEach(function(t){t.isLock&&!e||(t=E.getAllValsContr({contrKey:t})).isShow&&a.push(t.type+"_"+t.id)}),P(a)},t.prototype.contrUpdateByAll=function(e,t,n,r){for(var o in r=r||v){var a=r[o];if(e==o)return void $.extend(r[e],t);"wrapbox"==a.type&&E.contrUpdateByAll(e,t,n,a.contrs)}},t.prototype.getHierarchyContr=function(e,t){var n=[],r=t||v;return e.forEach(function(e){n.push(r[e])}),n},t.prototype.getNowHierarchy=function(){return u["default"].getMergeBoxShow()?u["default"].getThisContr().hierarchy:d["default"].getSymbolMaskShow()?E.getThisSymbolHierarchy():l["default"].getActivePage(!0).hierarchy},t.prototype.getAllValsChildContr=function(e){if("wrapbox"==e.type&&e.contrs)for(var t in e.contrs)e.contrs[t]=$.extend(!0,{},E.getAllValsContr({contrKey:$.getContrId(e.contrs[t])})),E.getAllValsChildContr(e.contrs[t])},t.prototype.getSelectContrByHierarchy=function(e,t){var n=E.getSelectContr(t),r=E.getNowHierarchy().concat().reverse(),o=[],a=[];return n.length>0&&((n=n.map(function(t){var n=$.extend(!0,{},t);return e||!n.mergeName||n.states&&$.objLength(n.states)>0||E.getAllValsChildContr(n),n})).forEach(function(e){o.push($.getContrId(e))}),r.forEach(function(t){var r=o.indexOf(t);-1!=r&&a.push(e?E.getContrValsAllChilds($.extend(!0,{},n[r]),!0):n[r])})),a},t.prototype.symbolPosiChange=function(e,t){var n=d["default"].getSymbolMaskContr(),r=$.getContrId(n),o=b.symbols[n.symbolKey];$.isUndefined(e.width)||(o.width=e.width),$.isUndefined(e.height)||(o.height=e.height),t||(C[r+"-end"]&&delete C[r+"-end"],E.emitChange())},t.prototype.contrUpdate=function(e,t,r,o,a,i){var s=n(40)["default"],l=n(77)["default"],c=n(208)["default"],f=u["default"].getMergeBoxShow()?u["default"].getContrs():v,p=f[e]&&!d["default"].getSymbolMaskShow()?f[e]:E.getContrByAll(e);if(p){var h,g=$.isInState(p),y="table"==p.type,m=!i&&$.isTableByKey(e)&&$.isChangeStaticVal(t,"S_tableCellTextStatic")&&s.isEdting(),_=!i&&$.isTableByKey(e)&&$.isChangeStaticVal(t,"S_tableCellStatic")&&l.getTableSelectCell();if(m){var b={};b.text=t,c.updateCellData(b,undefined,o)}else if(_)c.updateCellData(t,undefined,o);else if(r||!g||g&&y)t.events&&$.handleEventsData(p,t.events),$.extend(!a,p,t),$.fixTableWidthHeight(p);else if(g&&!y){var w=E.getContrState(p);if($.isEditState(p,w))h=E.getThisStateContr(p,e,w),$.deleteCancel(h,t),t.events&&$.handleEventsData(h,t.events),$.extend(!a,h,t);else{var x=E.getAllValsContr({contrKey:$.getContrId(g)}),S=g.states[x.state.endState].contrs;S[e]||(S[e]={}),t.events&&$.handleEventsData(S[e],t.events),$.extend(!a,S[e],t)}}C[e+"-end"]&&(C[e+"-start"]&&delete C[e+"-start"],$.extend(!0,C[e+"-end"],t)),o||(u["default"].getMergeBoxIn()&&u["default"].emitChange(),E.emitChange())}},t.prototype.selectChange=function(e,t,n,r){P(e,t,r),n||(u["default"].getMergeBoxIn()&&u["default"].emitChange(),E.emitChange())},t.prototype.selectChangeFunc=function(e,t,n){P(e,t,n)},t.prototype.backMergeBox=function(){k(),E.emitChange(),u["default"].emitChange()},t.prototype.getContr=function(e){var t=u["default"].getMergeBoxShow()?u["default"].getContrs():v;return(t&&t[e]?t[e]:E.getContrByAll(e))||{}},t.prototype.getContrByAll=function(e,t,r,o,a){var i=e&&-1!=e.indexOf("symbol_");if(!a&&w[e])return w[e];if(b.contrs[e])return b.contrs[e];if(o=o||l["default"].getActivePage(),(t=t||v)[e]&&(i||r||$.isNull(o)||t[e].interfaceId==o))return a||(w[e]=t[e]),t[e];for(var s in t){var u=t[s];if(!u||a||w[s]||(w[s]=u),"wrapbox"==u.type&&(i||r||$.isNull(o)||u.interfaceId==o)){if(c=E.getContrByAll(e,u.contrs,r,o))return a||(w[e]=c),c}else if("symbol"==u.type&&(i||r||$.isNull(o)||u.interfaceId==o)){var c,d=n(88)["default"].getSymbolChildContr(u.symbolKey);if(c=E.getContrByAll(e,d,!0,o))return a||(w[e]=c),c}}},t.prototype.getContrName=function(e){var t=E.getContrByAll(e);return t?t.name:"null"},t.prototype.getSelect=function(e){return e?_:_.concat()},t.prototype.resetSelect=function(){var e=!1;_=_.filter(function(t){var n=E.getContrByAll(t);return e||n||(e=!0),n}),e&&h["default"](_)},t.prototype.getSelectContr=function(e){var t=[];return(e||E.getSelect()).forEach(function(e){t.push(E.getContr(e))}),t},t.prototype.getFirstSelectContr=function(e,t){var n=E.getContr(_[0]);return e&&(n=E.getStateToContr(n,t)),n},t.prototype.getStateToContr=function(e,t){var n=E.getContrState(e,t);return $.isEditState(e,n,t)?$.getStateEndContr(e,t):$.getInStateContr($.extend(!0,{},e),t)},t.prototype.getStateInParent=function(e,t,n){var r,o,a=t||$.isInState(e,!0),i=$.getContrId(e),s=e.state;return a&&-1!=(r=$.getThisStateIndex(a,n))&&a.states[r]&&(a.states[r].contrs[i]||(a.states[r].contrs[i]={}),(o=a.states[r].contrs[i]).state||(o.state={}),s=o.state),s},t.prototype.getContrState=function(e,t){return E.getAllValsContr({contrKey:e,getLastState:!0,type:t?"start":"end"})},t.prototype.getSymbol=function(e,t){try{var n=b.symbols[e];if(t||!n)return n;var r=n.hierarchy||[],o={};return r.forEach(function(e){o[e]=b.contrs[e]}),{contrs:o,hierarchy:r,width:n.width,height:n.height}}catch(a){window.log(a)}},t.prototype.getSymbolContrVals=function(e){var t=$.isObject(e)?$.getContrId(e):e,n=E.getContrByAll(t,undefined,undefined,undefined,!0);if(n){var r=$.extend(!0,{},n);return $.extend(!0,r,E.getSymbol(n.symbolKey)),r}return e},t.prototype.getAllValsContr=function(e){if(e.contrKey&&$.isEmptyObj(e.contrKey)||$.isObject(e.contrKey)&&$.isUndefined(e.contrKey.isOpt))return e.contrKey;var t,n,r,o,a,i,s={contrKey:undefined,notCopy:undefined,type:"end",contrastContr:undefined,hoverContr:undefined,breakContrKey:undefined,thisContrs:undefined,stateIndex:undefined,changeThisContr:!1,parentSaveContrVals:undefined,parentSaveContrId:undefined,getLastState:!1,symbolChild:undefined},l=e.hoverContr,u=e.contrastContr,d=!1,f=!1,p=!1,h=!1,g={};if(d=(s=$.extend(s,e)).parentSaveContrVals||s.notCache||s.changeThisContr&&s.contrKey.id,s.notCopy&&(s.changeThisContr=!0),s.changeThisContr&&s.contrKey.isDragContr){var y=c["default"].getDragContr();y.contr&&y.contr.contrs&&(s.thisContrs={},s.thisContrs[$.getContrId(y.contr)]=y.contr)}if("start"==s.type?u=s.contrastContr||E.getContrastContr():"hover"==s.type&&(l=s.hoverContr||E.getFirstSelectContr()),s.contrKey.id){var m=$.isUndefined(s.contrKey.interfaceId)?b.contrs:undefined;t=$.getContrId(s.contrKey),r=n="symbol"==s.contrKey.type?E.getSymbolContrVals(t):s.changeThisContr?s.contrKey:E.getContrByAll(t,s.thisContrs||m,undefined,s.contrKey.interfaceId,d)||s.contrKey}else t=s.contrKey,r=n=t.split&&"symbol"==t.split("_")[0]?E.getSymbolContrVals(t):E.getContrByAll(t,s.thisContrs,undefined,undefined,d);if(n&&!$.isUndefined(s.symbolChild)&&(d=!0),!d){if(s.getLastState&&"hover"!=s.type&&C[t+"-"+s.type+"State"])return C[t+"-"+s.type+"State"];if(!s.getLastState&&"hover"!=s.type&&C[t+"-"+s.type])return C[t+"-"+s.type];if("hover"==s.type&&n.hoverState&&n.hoverState.isEndHover&&C[t+"-"+s.type+n.hoverState.hoverEndIndex])return C[t+"-"+s.type+n.hoverState.hoverEndIndex]}o=s.notCopy?n:$.extend(!0,{},n);var _=E.getContrAllParent(n,!0,!1,s.thisContrs)||[];if(_&&_.every(function(e){var r=$.getContrId(e);if(s.breakContrKey&&s.breakContrKey==r)return!1;if($.hasStates(e)){var i=g[r],c=void 0,d=void 0;if(s.symbolChild&&s.symbolChild[r]&&!$.isUndefined(s.symbolChild[r].endState)&&(d=+s.symbolChild[r].endState),$.isUndefined(d))if(u&&r==$.getContrId(u))if($.isUndefined(i)){var y=$.isUndefined(s.stateIndex)?$.getStateIndex(e,u,l):s.stateIndex;!$.isUndefined(y)&&e.states[y]&&(p||(p=!0),c=e.states[y])}else c=e.states[$.isUndefined(s.stateIndex)?i.startState:s.stateIndex];else if(l&&r==$.getContrId(l))if($.isUndefined(i)){y=$.isUndefined(s.stateIndex)?$.getStateIndex(e,u,l):s.stateIndex;!$.isUndefined(y)&&e.states[y]&&(p||(p=!0),c=e.states[y])}else c=e.states[$.isUndefined(s.stateIndex)?i.hoverEndIndex:s.stateIndex];else if($.isUndefined(i)){if(!p){y=$.getStateIndex(e,u,l);!$.isUndefined(y)&&e.states[y]&&(p=!0,c=e.states[y])}}else c=e.states[i.isEndHover?i.hoverEndIndex:i.endState];else c=e.states[d];if(c){if(c.contrs[t]){if(s.parentSaveContrId)if(h)for(var m in c.contrs[t])$.isUndefined(s.parentSaveContrVals[m])||delete s.parentSaveContrVals[m];else r==s.parentSaveContrId&&(h=!0);s.getLastState?c.contrs[t].state?a=c.contrs[t].state:(c.contrs[t].state={},a=c.contrs[t].state):(f=!0,$.handleEventsData(o,c.contrs[t].events),o=$.extend(!0,o,c.contrs[t]))}for(var _ in c.contrs){var v=c.contrs[_];_!=t&&"wrapbox"==_.split("_")[0]&&(l&&_==$.getContrId(l)?g[_]=l.hoverState:g[_]=$.isUsedState(v)?v.state:E.getContrByAll(_,undefined,undefined,n.interfaceId)?E.getContrByAll(_,undefined,undefined,n.interfaceId).state:{})}}}return!0}),s.symbolChild&&s.symbolChild[t]&&!$.isUndefined(s.symbolChild[t].endState)&&(i=+s.symbolChild[t].endState),$.isUndefined(i)){if(!s.getLastState&&t!=s.breakContrKey&&$.hasStates(r))if(s.parentSaveContrId&&s.parentSaveContrId!=t){w=$.getStateIndex(r,u,l);if(r.states[w])for(var v in r.states[w].contrs[t])$.isUndefined(s.parentSaveContrVals[v])||delete s.parentSaveContrVals[v]}else{w=s.stateIndex||$.getStateIndex(o,u,l);if(!$.isUndefined(w)&&r.states[w]&&r.states[w].contrs[t]){x=$.extend(!0,{},o.state);f=!0,$.handleEventsData(o,r.states[w].contrs[t].events),(o=$.extend(!0,o,r.states[w].contrs[t])).state=x}}}else{var w=i;if(!$.isUndefined(w)&&r.states&&r.states[w]&&r.states[w].contrs[t]){var x=$.extend(!0,{},o.state);f=!0,$.handleEventsData(o,r.states[w].contrs[t].events),(o=$.extend(!0,o,r.states[w].contrs[t])).state=x}}if(s.getLastState){var S=a||n.state;return d||(C[t+"-"+s.type+"State"]=S),S}return d||("hover"!=s.type?C[t+"-"+s.type]=o:"hover"==s.type&&n.hoverState&&n.hoverState.isEndHover&&(C[t+"-"+s.type+n.hoverState.hoverEndIndex]=o)),f&&(o.getAllvals=!0),f?o:n},t.prototype.getContrValsAllChilds=function(e,t,n){var r=$.getContrId(e),o=E.getAllValsContr({contrKey:e,breakContrKey:t?r:undefined,changeThisContr:!0,thisContrs:n});return o.thisSelf&&delete o.thisSelf,o},t.prototype.getContrAllParent=function(e,t,n,r,o){if(r=r||(e&&$.isUndefined(e.interfaceId)?b.contrs:v),e&&r[$.getContrId(e)])return o;for(var a in r){var i=o?[].concat(o):[],s=r[a];if("wrapbox"==s.type&&e&&(s.interfaceId==e.interfaceId||$.isUndefined(s.interfaceId)&&$.isUndefined(e.interfaceId))){n&&!$.hasStates(s)||i.push(t?s:$.getContrId(s));var l=E.getContrAllParent(e,t,n,s.contrs,i);if(l)return l}}},t.prototype.getContrastContr=function(e){if(1==_.length){if("table"==(e=e||E.getFirstSelectContr()).type)return;var t=E.getAllValsContr({contrKey:e}).state;if(e.isStateContrast&&t&&!$.isUndefined(t.endState))return e;if(e.mergeName){var n=E.getContrByAll(e.mergeName);if(n){var r=E.getContrastContr(n);if(r)return r}}}},t.prototype.getStartEndContrs=function(e){return{start:E.getAllValsContr({contrKey:e,type:"start"}),end:E.getAllValsContr({contrKey:e})}},t.prototype.contrDragToWrap=function(e){var t=u["default"].getMergeBoxShow(),n=t?u["default"].getThisContr():null,r=t?u["default"].getContrs():v,o=$.getContrId(e);r[o]=e,e.mergeName=t?$.getContrId(n):null,t?u["default"].hierarchyAddContr(o):l["default"].pageAddContr(e.interfaceId,o)},t.prototype.editState=function(e){var t=E.getFirstSelectContr();m.isShow=!0,m.isHover=!1,m.contr=t,m.startState=e,m.endState=e+1,E.emitChange()},t.prototype.changeRightLabel=function(e,t){h["default"](e,t)},t.prototype.getState=function(){return m},t.prototype.getThisStateContr=function(e,t,n){var r=n||E.getContrState(e);return e.states[r.endState].contrs[t]||(e.states[r.endState].contrs[t]={}),e.states[r.endState].contrs[t]},t.prototype.getSpotPosi=function(e,t,n){if(t?(t.left+=e.left,t.top+=e.top,t.rotate+=e.rotate):t={left:-2,top:-2,width:e.width,height:e.height,rotate:0},e.mergeName&&"null"!=e.mergeName){n&&"0"!=e.rotate&&(t.isRotate=!0);var r=E.getContrByAll(e.mergeName);return r=E.getAllValsContr({contrKey:r}),this.getSpotPosi(r,t,n)}return t},t.prototype.getContrEvents=function(e){var t=E.getAllValsContr({contrKey:e});return{events:t.events,tags:t.eventsTag}},t.prototype.getContrStates=function(e,t,n){var r={names:[],keys:[]},o=E.getAllValsContr({contrKey:e}),a=0;if(t&&(!n||n&&-1!=o.state.endState)&&(r.names.push("原始态"),r.keys.push("-1"),a++),o&&o.states&&$.objLength(o.states)>0)for(var i in o.states)(!n||n&&i!=o.state.endState)&&(r.names[a]=o.states[i].name,r.keys[a]=i,a++);return r},t.prototype.getSelectStateInfo=function(e){var t=e||$.isInState(E.getFirstSelectContr(),undefined,!0),r=E.getAllValsContr({contrKey:t}).state,o=n(165)["default"].getReverse();return{start:o?r.endState:r.startState,end:o?r.startState:r.endState,reverse:o}},t.prototype.setContrData=function(e,t){v[e]=t},t.prototype.getContrs=function(){return v},t.prototype.setContrs=function(e){v=e},t.prototype.changeNums=function(e){$.extend(!0,y,e)},t.prototype.initNums=function(){var e=p["default"].getExtraBaseContr();["text","image","wrapbox","icon","hotspot","table","symbol"].concat(e,$.getAdvancedList("all")).forEach(function(e){y[e+"Contr"]=0}),y.symbol=0},t.prototype.initCache=function(){C={},w={}},t.prototype.initAllValsContrs=function(){C={}},t.prototype.getAllValsContrs=function(){return C},t.prototype.initAllContrs=function(){w={}},t.prototype.getAllContrs=function(){return w},t.prototype.getNums=function(){return y},t.prototype.getMULTIPLE=function(){return.8},t.prototype.emitChange=function(){this.emit("change"),S()},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitMustChange=function(){this.emit("mustChange"),S()},t.prototype.addMustChangeListener=function(e){this.on("mustChange",e)},t.prototype.removeMustChangeListener=function(e){this.removeListener("mustChange",e)},t}(g.EventEmitter);i["default"].register(function(e){switch(e.actionType){case s["default"].CONTR_MOVE:t=e.key,n=e.posi,E.contrUpdate(t,{left:n[0],top:n[1]},!1,!0),e.noEmit||E.emitChange();break;case s["default"].CONTR_SELECTALL:E.selectAllContr(),E.emitChange();break;case s["default"].CONTR_SELECTCHANGE:P(e.selectArr,e.tab),E.emitChange();break;case s["default"].CONTR_UPDATE:E.contrUpdate(e.key,e.option,e.isOriginal,e.noEmit);break;case s["default"].CONTR_UPDATEBYALL:E.contrUpdateByAll(e.key,e.option,e.isOriginal),E.emitChange();break;case s["default"].CONTR_SAVEMERGE:k(!0),E.emitChange();break;case s["default"].CONTR_BACKMERGE:k(),E.emitChange();break;case s["default"].CONTR_EDITSTATE:E.editState(e.index)}var t,n});var E=new O;E.initNums(),t["default"]=E},,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=new(r(n(265))["default"].Dispatcher);t["default"]=o},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=P(n(95)),a=P(n(8)),i=P(n(601)),s=P(n(94)),l=P(n(119)),u=P(n(165)),c=P(n(32)),d=P(n(40)),f=P(n(34)),p=n(150),h=n(61),g=n(85),y=n(699),m=n(63),_=n(269),v=n(148),b=n(122),w=n(213),C=n(700),x=n(701),S=n(702);function P(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var k=n(69).EventEmitter,O=0,E=[],T=["changeToMultiView","createCopyPage","createSelectCopyPage","createPage","pageMove","interfaceAlign","deletePage","deleteFolder","createFolder","fixedMovePage","fixedMoveFolder","changeFolder"],M=["useOriginEvent","saveAddEventChange","saveEditEventChange","deleteEventOneAction"],D=["trTime","trDelay","trDelayOneContr","trTimeOneContr","trDelayTimeOneContr","bottomSelectState","bottomSelectStartState","bottomReverse"],A=["pageBackColorChange"],j=["projectInit"];function I(e){var t=n(5)["default"],r=n(6)["default"],o=n(24)["default"],a=n(251)["default"],i=n(87)["default"],u=n(249)["default"],f=(0,p.midMainboxPosi)(),h=f.left,m=f.top,b=(0!=--O||window.noNew||$.getUrlParam("type")&&$.getUrlParam("id"))&&E[O-1]?E[O-1]:{type:"createContr",contrs:[],box:[1],boxObj:{active:!0,key:1,id:"mainBox1",left:h,top:m+20,name:"页面 1",backColor:"rgba(255, 255, 255, 1)",isShow:!0,"new":!1,grid:!0,events:["enter","exit"],hierarchy:[]},selectContr:[]},w=E[O];$.isUndefined(w)&&log(O,E);var P=b.changePagesKey,k=P===undefined?[]:P,M=b.changePageContrs,D=t.isPrdView();if(!(D&&"prd"!=w.autoSaveType||!D&&"prd"==w.autoSaveType)){if(w.linkLineChange&&(0,C.setSaveDateLinkLine)(w.linkLineChange,!0),w.pageFlowChange&&(0,x.setSaveDatePageFlow)(w.pageFlowChange,!0),w.prdDataChange&&(0,S.setSaveDatePrdData)(w.prdDataChange,!0),"deletePageNotMutiview"==w.type){var j=$.query(".struct-tab.page-tab");(0,g.setStructHierarchy)($.extend(!0,[],w.structHierarchy)),t.changePages($.extend(!0,{},w.pages)),(0,_.resetPagePos)(),r.selectChange([]),t.emitPageStructChange(),j&&$.hasClass(j,"active")&&s["default"].emitChange()}else if("changeFolderNotMutiview"==w.type){var I=$.query(".struct-tab.page-tab");(0,g.setStructHierarchy)($.extend(!0,[],w.oldStructHierarchy)),(0,_.resetPagePos)(),t.emitPageStructChange(),I&&$.hasClass(I,"active")&&s["default"].emitChange()}else if("deleteFolderNotMutiview"==w.type){var L=$.query(".struct-tab.page-tab");(0,g.setStructHierarchy)($.extend(!0,[],w.oldStructHierarchy)),t.changePages($.extend(!0,{},w.oldPages)),w.activePage&&(0,v.choosePage)(+w.activePage),(0,_.resetPagePos)(),t.emitPageStructChange(),L&&$.hasClass(L,"active")&&s["default"].emitChange()}else if("createNotMutiviewPage"==w.type){var B=$.extend(!0,{},w.pages),N=$.extend(!0,[],w.structHierarchy),F=$.query(".struct-tab.page-tab");delete B[w.addPage],(0,v.choosePage)(+w.lastPage),B[w.lastPage].active=!0,(0,g.setStructHierarchy)(N);var H=(0,g.findStructFolder)(w.addPage,"page");H.hierarchy.splice(H.index,1),t.changePages(B),(0,_.resetPagePos)(),t.emitPageStructChange(),F&&$.hasClass(F,"active")&&s["default"].emitChange()}else if(-1!=T.indexOf(b.type)||b.pages){var z=$.getElById("structSetting");!window.isPc&&"multi-view"!=t.getViewMode()&&window.isLoadMulti&&t.zoomOut(),(0,g.setStructHierarchy)($.extend(!0,[],b.structHierarchy)),t.changePages($.extend(!0,{},b.pages)),z&&s["default"].emitChange(),setTimeout(function(){t.isMultiView()&&i.pageEmitChange()},0)}else{if("multi-view"==t.getViewMode()&&b.box&&1==b.box.length||b.box&&1==b.box.length&&t.getActivePage()!=b.box[0]?b.box[0]&&(0,v.choosePage)(b.box[0]):"changeToMergeBox"==E[O].type?r.backMergeBox():"backMergeBox"==E[O].type||"saveMergeBox"==E[O].type?o.init(r.getContrByAll(b.box[b.box.length-1])):"changeToCutImage"==E[O].type?l["default"].exit():"backFromCutImage"==E[O].type&&l["default"].init(b.selectContr[0]),w.symbolContrsChange&&a.setSaveDateSymbolContr(w.symbolContrsChange,!0),k.length>0&&M)for(var U in M)(0,y.changePageContr)({pageKey:U,contrs:M[U]});b.contrs&&(0,y.changeContr)(b,!0,!0,e),b.symbolMask&&c["default"].setSymbolMaskData(b.symbolMask,!0),b.tableData&&(u.initTableSelectCell(b.selectContr[0],b.tableData.selectCell,b.tableData.isEditing),setTimeout(function(){d["default"].emitChange()},0)),b.contrs&&(-1!=A.indexOf(w.type)&&t.emitPagesChange(),"pageLandscapeChange"==w.type&&(0,v.choosePage)(b.boxObj.key),t.addRedoUndoEmitArr("ContrStore.emitMustChange"))}R(b,w)}}function L(e){var t=E[O],r=n(5)["default"],o=n(6)["default"],a=n(24)["default"],i=n(251)["default"],u=n(87)["default"],f=n(249)["default"];if(t){var p=t.changePagesKey,h=p===undefined?[]:p,m=t.changePageContrs,b=r.isPrdView();if(!(b&&"prd"!=t.autoSaveType||!b&&"prd"==t.autoSaveType)){if(t.linkLineChange&&(0,C.setSaveDateLinkLine)(t.linkLineChange),t.pageFlowChange&&(0,x.setSaveDatePageFlow)(t.pageFlowChange),t.prdDataChange&&(0,S.setSaveDatePrdData)(t.prdDataChange),"deletePageNotMutiview"==t.type){var w=$.extend(!0,{},t.pages),P=$.extend(!0,[],t.structHierarchy),k=$.query(".struct-tab.page-tab");delete w[t.deletePage],(0,g.setStructHierarchy)(P);var M=(0,g.findStructFolder)(t.deletePage,"page");M.hierarchy.splice(M.index,1),r.changePages(w),(0,v.choosePage)(r.getPageIndexKey(),undefined,!0,!0,window.isPc?undefined:$.extend(!0,{},r.getActivePage(!0))),(0,_.resetPagePos)(),r.emitPageStructChange(),k&&$.hasClass(k,"active")&&s["default"].emitChange()}else if("changeFolderNotMutiview"==t.type){var D=$.query(".struct-tab.page-tab");(0,g.setStructHierarchy)($.extend(!0,[],t.structHierarchy)),(0,_.resetPagePos)(),r.emitPageStructChange(),D&&$.hasClass(D,"active")&&s["default"].emitChange()}else if("deleteFolderNotMutiview"==t.type){var j=$.query(".struct-tab.page-tab");(0,g.setStructHierarchy)($.extend(!0,[],t.structHierarchy)),r.changePages($.extend(!0,{},t.pages)),(0,_.resetPagePos)(),r.emitPageStructChange(),j&&$.hasClass(j,"active")&&s["default"].emitChange()}else if("createNotMutiviewPage"==t.type)(0,g.setStructHierarchy)($.extend(!0,[],t.structHierarchy)),r.changePages($.extend(!0,{},t.pages)),(0,v.choosePage)(+t.addPage),(0,_.resetPagePos)(),o.selectChange([]),r.emitPageStructChange();else if(-1!=T.indexOf(t.type)||t.pages){var I=$.getElById("structSetting");!window.isPc&&"multi-view"!=r.getViewMode()&&window.isLoadMulti&&r.zoomOut(),(0,g.setStructHierarchy)($.extend(!0,[],t.structHierarchy)),r.changePages($.extend(!0,{},t.pages)),r.emitPagesChange(),I&&s["default"].emitChange(),setTimeout(function(){r.isMultiView()&&u.pageEmitChange()},0)}else{if("multi-view"==r.getViewMode()&&1==t.box.length||1==t.box.length&&r.getActivePage()!=t.box[0]?t.box[0]&&(0,v.choosePage)(t.box[0]):t&&"changeToMergeBox"==t.type?a.init(o.getContrByAll(t.box[t.box.length-1])):!t||"backMergeBox"!=t.type&&"saveMergeBox"!=t.type?t&&"changeToCutImage"==t.type?l["default"].init(t.selectContr[0]):t&&"backFromCutImage"==t.type&&l["default"].exit():o.backMergeBox(),t.symbolContrsChange&&i.setSaveDateSymbolContr(t.symbolContrsChange),h.length>0&&m)for(var L in m)(0,y.changePageContr)({pageKey:L,contrs:m[L]});t.contrs&&(0,y.changeContr)(t,!0,!0,e),t.symbolMask&&c["default"].setSymbolMaskData(t.symbolMask,!0),t.tableData&&(f.initTableSelectCell(t.selectContr[0],t.tableData.selectCell,t.tableData.isEditing),setTimeout(function(){d["default"].emitChange()},0)),t.contrs&&(-1!=A.indexOf(t.type)&&r.emitPagesChange(),"pageLandscapeChange"==t.type&&(0,v.choosePage)(t.boxObj.key),r.addRedoUndoEmitArr("ContrStore.emitMustChange"))}R(t,undefined),O++}}}function R(e,t){var r=n(5)["default"],o=n(6)["default"],a=n(317)["default"],i=n(27)["default"],l=n(49)["default"],c=n(87)["default"],d=r.getActivePage(),p=t||e,g=l.getSelectPageFlowKey(),y=e.changePagesKey,m=y===undefined?[]:y,_=!1,v=!1;o.initCache(),-1!=M.indexOf(e.type)?s["default"].change([{tabType:"box"},{tabType:"wrapBox"},{tabType:"event",isFold:!0}]):-1!=D.indexOf(e.type)&&(u["default"].getFold()&&u["default"].toggleFold(!0),"bottomReverse"==e.type&&u["default"].reverse(),"preview"==e.viewMode&&a.setPreviewData(!0)),"normal"!=e.viewMode&&e.viewMode||"preview"!=r.getViewMode()||a.exit(),(0,b.setRedoUndoIndex)(e.otherAutoSaveIndex),p.isSymbolChange&&(0,h.setAutoSaveChangePages)("changeSymbol",undefined,!0),p.linkLineChange&&((0,h.setAutoSaveChangePages)("changeLinkLine"),_=!0),p.pageFlowChange&&(0,h.setAutoSaveChangePages)("changePageFlow"),p.prdDataChange&&((0,h.setAutoSaveChangePages)("changePrdData"),v=!0),d&&"pageLandscapeChange"==p.type?((0,h.setAutoSaveChangePages)("__pageContrs",!0),(0,h.setAutoSaveChangePages)("__pageVals",!0)):"changePages"==p.autoSaveType?(0,h.setAutoSaveChangePages)("changePages"):d&&"pageContrs"==p.autoSaveType?(0,h.setAutoSaveChangePages)("__pageContrs",!0):d&&"pageVals"==p.autoSaveType?(0,h.setAutoSaveChangePages)("__pageVals",!0):"changeStruct"==p.autoSaveType?(0,h.setAutoSaveChangePages)("changeStruct"):"changePagesPosi"==p.autoSaveType&&(0,h.setAutoSaveChangePages)("changePagesPosi"),p.selectPageFlowKey!=g&&l.setSelectPageFlowKey({selectKey:p.selectPageFlowKey}),v&&f["default"].emitChange(),m.length>0?(window.renderPagesKeyArr=m,m.forEach(function(e){(0,h.setAutoSaveChangePages)("__pageContrs",!0,e)}),(0,w.cacheCanvasPages)(function(){r.isMultiView()&&c.pageEmitChange(),setTimeout(function(){_&&i.emitChange(),window.renderPagesKeyArr&&delete window.renderPagesKeyArr},0)},m)):r.isMultiView()&&c.pageEmitChange()}var B=(0,o["default"])({},k.prototype,{createData:function(e){var t=e.changePagesKey,r=t===undefined?[]:t;if(window.isPrototypeTool){window.isDevelop&&log("saveData: "+e.type,e.name),E.length!=O&&(E.length=O);var o=n(6)["default"],a=n(24)["default"],i=n(5)["default"],s=n(49)["default"],u=n(251)["default"],f=n(77)["default"],p=a.getMergeBoxIn(),y=i.getActivePage();if("deletePageNotMutiview"==e.type);else if("changeFolderNotMutiview"==e.type)$.extend(!0,e,{structHierarchy:(0,g.getStructHierarchy)()});else if("deleteFolderNotMutiview"==e.type)$.extend(!0,e,{pages:i.getPages(),structHierarchy:(0,g.getStructHierarchy)()});else if("createNotMutiviewPage"==e.type)$.extend(!0,e,{addPage:i.getViewTotal(),pages:i.getPages(),structHierarchy:(0,g.getStructHierarchy)()});else if("changeToMultiView"==e.type)$.extend(!0,e,{activePageKey:y,pages:i.getPages(),structHierarchy:(0,g.getStructHierarchy)()});else if(-1!=T.indexOf(e.type))$.extend(!0,e,{pages:i.getPages(),structHierarchy:(0,g.getStructHierarchy)(),selectPageFlowKey:s.getSelectPageFlowKey()});else if(r.length>0){var _={};r.forEach(function(e){_[e]=$.extend(!0,[],(0,m.getInterface)(e))}),e.changePageContrs=_}else{switch(e.type){case"changeToCutImage":case"backFromCutImage":e.cutImage=$.extend(!0,{},l["default"].getCutImage())}-1!=D.indexOf(e.type)&&(e.viewMode=i.getViewMode()),$.extend(e,{contrs:(p?[]:(0,m.getActiveInterface)()).map(function(e){return $.extend(!0,{},e)}),mergeEdit:a.getIsWrapEdit(),selectContr:o.getSelect()})}i.isMultiView()&&!e.pages&&$.extend(!0,e,{pages:i.getPages(),structHierarchy:(0,g.getStructHierarchy)(),selectPageFlowKey:s.getSelectPageFlowKey()}),$.extend(e,{symbolContrsChange:u.getSymbolContrsChange(),linkLineChange:window.isPc?undefined:(0,C.getLinkLineChange)(),pageFlowChange:window.isPc?undefined:(0,x.getPageFlowChange)(),prdDataChange:(0,S.getPrdDataChange)()}),-1==j.indexOf(e.type)&&(r.length>0&&r.forEach(function(e){(0,h.setAutoSaveChangePages)("__pageContrs",!0,e)}),e.isSymbolChange&&(0,h.setAutoSaveChangePages)("changeSymbol",undefined,!0),e.linkLineChange&&(0,h.setAutoSaveChangePages)("changeLinkLine"),e.pageFlowChange&&(0,h.setAutoSaveChangePages)("changePageFlow"),e.prdDataChange&&(0,h.setAutoSaveChangePages)("changePrdData"),"changePages"==e.autoSaveType?(0,h.setAutoSaveChangePages)("changePages"):y&&"pageContrs"==e.autoSaveType?(0,h.setAutoSaveChangePages)("__pageContrs",!0):y&&"pageVals"==e.autoSaveType?(0,h.setAutoSaveChangePages)("__pageVals",!0):"changeStruct"==e.autoSaveType?(0,h.setAutoSaveChangePages)("changeStruct"):"changePagesPosi"==e.autoSaveType&&(0,h.setAutoSaveChangePages)("changePagesPosi"));var v=p?a.getThisContr():i.getActivePage(!0);if($.extend(e,{box:p?$.getNewContrBox([y],$.getContrId(v)):[y],boxObj:$.extend(!0,{},v),otherAutoSaveIndex:i.getOtherAutoSaveDataLength()}),e.symbolMask=$.extend(!0,{},c["default"].getSymbolMaskData()),e.selectContr&&1==e.selectContr.length&&-1!==e.selectContr[0].indexOf("table")){var b=f.getTableSelectCell();b&&(e.tableData={selectCell:$.extend(!0,[],b),isEditing:d["default"].isEdting()})}E.push(e),O++,B.emitChange()}},getSaveData:function(){return E},getSaveDataLength:function(){return E.length},getSaveDataIndex:function(){return O},historyClick:function(e){var t=n(24)["default"],r=n(5)["default"],o=E.length-O-e,a=void 0;if(o<0)for(a=0;a<Math.abs(o);a++)I(!0);else if(o>0)for(a=0;a<Math.abs(o);a++)L(!0);B.emitChange(),t.getMergeBoxShow()&&r.addRedoUndoEmitArr("MergeBoxStore.emitChange"),s["default"].change([{tabType:"history",isFold:!0},{tabType:"autoCloud",isFold:!1}])},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});a["default"].register(function(e){switch(e.actionType){case i["default"].SAVEDATA_CREATE:break;case i["default"].SAVEDATA_UNDO:I(),B.emitChange();break;case i["default"].SAVEDATA_REDO:L(),B.emitChange()}});var N,F,H=B;t["default"]=H,(N=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(N.register(k,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(O,"saveIndex","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(E,"saveData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(T,"PAGE_CHANGE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(M,"EVENT_CHANGE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(D,"ANIM_CHANGE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(A,"PAGES_EMIT_CHANGE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(j,"NOT_AUTOSAVE","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(I,"undo","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(L,"redo","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(R,"changeOtherSet","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(B,"SaveDataStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js"),N.register(H,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/SaveDataStore.js")),(F=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&F(e)}).call(this,n(7)(e))},,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=n(80),i=new(function(){function e(){this.ToastActionID=a.ToastActionID}return e.prototype.show=function(e,t,n){o["default"].dispatch({actionType:a.ToastActionID.TOAST_SHOW,text:e,callback:t,time:n})},e}());t["default"]=i},function(e,t,n){"use strict";t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(82),a=(r=o)&&r.__esModule?r:{"default":r};t["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,a["default"])(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(382)),o=i(n(335)),a=i(n(82));function i(e){return e&&e.__esModule?e:{"default":e}}t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a["default"])(t)));e.prototype=(0,o["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r["default"]?(0,r["default"])(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(301),a=(r=o)&&r.__esModule?r:{"default":r};t["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a["default"])(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),o=n(20);t.Factory={addGetterSetter:function(e,t,n,r,o){this.addGetter(e,t,n),this.addSetter(e,t,r,o),this.addOverloadedGetterSetter(e,t)},addGetter:function(e,t,n){var o="get"+r.Util._capitalize(t);e.prototype[o]=e.prototype[o]||function(){var e=this.attrs[t];return e===undefined?n:e}},addSetter:function(e,n,o,a){var i="set"+r.Util._capitalize(n);e.prototype[i]||t.Factory.overWriteSetter(e,n,o,a)},overWriteSetter:function(e,t,n,o){var a="set"+r.Util._capitalize(t);e.prototype[a]=function(e){return n&&e!==undefined&&null!==e&&(e=n.call(this,e,t)),this._setAttr(t,e),o&&o.call(this),this}},addComponentsGetterSetter:function(e,t,n,a,i){var s,l,u=n.length,c=r.Util._capitalize,d="get"+c(t),f="set"+c(t);e.prototype[d]=function(){var e={};for(s=0;s<u;s++)e[l=n[s]]=this.getAttr(t+c(l));return e};var p=o.getComponentValidator(n);e.prototype[f]=function(e){var n,r=this.attrs[t];for(n in a&&(e=a.call(this,e)),p&&p.call(this,e,t),e)e.hasOwnProperty(n)&&this._setAttr(t+c(n),e[n]);return this._fireChangeEvent(t,r,e),i&&i.call(this),this},this.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter:function(e,t){var n=r.Util._capitalize(t),o="set"+n,a="get"+n;e.prototype[t]=function(){return arguments.length?(this[o](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter:function(e,t,n,o){r.Util.error("Adding deprecated "+t);var a="get"+r.Util._capitalize(t),i=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[a]=function(){r.Util.error(i);var e=this.attrs[t];return e===undefined?n:e},this.addSetter(e,t,o,function(){r.Util.error(i)}),this.addOverloadedGetterSetter(e,t)},backCompat:function(e,t){r.Util.each(t,function(t,n){var o=e.prototype[n],a="get"+r.Util._capitalize(t),i="set"+r.Util._capitalize(t);function s(){o.apply(this,arguments),r.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=s,e.prototype[a]=s,e.prototype[i]=s})},afterSetFilter:function(){this._filterUpToDate=!1}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=n(75),i=new(function(){function e(){this.PopupActionID=a.PopupActionID}return e.prototype.init=function(e){o["default"].dispatch({actionType:a.PopupActionID.POPUP_INIT,option:e})},e.prototype.hide=function(){o["default"].dispatch({actionType:a.PopupActionID.POPUP_HIDE})},e}());t["default"]=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=n(22);function a(e){return o.Util._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)?e:o.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}t.RGBComponent=function(e){return e>255?255:e<0?0:Math.round(e)},t.alphaComponent=function(e){return e>1?1:e<1e-4?1e-4:e},t.getNumberValidator=function(){if(r.Konva.isUnminified)return function(e,t){return o.Util._isNumber(e)||o.Util.warn(a(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}},t.getNumberOrAutoValidator=function(){if(r.Konva.isUnminified)return function(e,t){return o.Util._isNumber(e)||"auto"===e||o.Util.warn(a(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}},t.getStringValidator=function(){if(r.Konva.isUnminified)return function(e,t){return o.Util._isString(e)||o.Util.warn(a(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}},t.getFunctionValidator=function(){if(r.Konva.isUnminified)return function(e,t){return o.Util._isFunction(e)||o.Util.warn(a(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}},t.getNumberArrayValidator=function(){if(r.Konva.isUnminified)return function(e,t){return o.Util._isArray(e)?e.forEach(function(e){o.Util._isNumber(e)||o.Util.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")}):o.Util.warn(a(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.'),e}},t.getBooleanValidator=function(){if(r.Konva.isUnminified)return function(e,t){return!0===e||!1===e||o.Util.warn(a(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}},t.getComponentValidator=function(e){if(r.Konva.isUnminified)return function(t,n){return o.Util.isObject(t)||o.Util.warn(a(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Math.PI/180;var r=function(e){var t=e.indexOf("msie ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)};t._parseUA=function(e){var t=e.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],o=!!e.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),a=!!e.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:r(t),mobile:o,ieMobile:a}},t.glob=void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},function(e){e.version="@@version"}(t.Konva2||(t.Konva2={})),t.Konva={version:"@@version",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/comment/.test(function(){}.toString()),dblClickWindow:400,getAngle:function(e){return t.Konva.angleDeg?e*n:e},enableTrace:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:undefined,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return t.Konva.DD.isDragging},isDragReady:function(){return!!t.Konva.DD.node},UA:t._parseUA(t.glob.navigator&&t.glob.navigator.userAgent||""),document:t.glob.document,_injectGlobal:function(e){t.glob.Konva=e},_parseUA:t._parseUA},t._NODES_REGISTRY={},t._registerNode=function(e){t._NODES_REGISTRY[e.prototype.getClassName()]=e,t.Konva[e.prototype.getClassName()]=e}}).call(this,n(59))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=function(){function e(){}return e.toCollection=function(t){var n,r=new e,o=t.length;for(n=0;n<o;n++)r.push(t[n]);return r},e._mapMethod=function(t){e.prototype[t]=function(){var e,n=this.length,r=[].slice.call(arguments);for(e=0;e<n;e++)this[e][t].apply(this[e],r);return this}},e.mapMethods=function(t){var n=t.prototype;for(var r in n)e._mapMethod(r)},e}();t.Collection=o,o.prototype=[],o.prototype.each=function(e){for(var t=0;t<this.length;t++)e(this[t],t)},o.prototype.toArray=function(){var e,t=[],n=this.length;for(e=0;e<n;e++)t.push(this[e]);return t};var a=function(){function e(e){void 0===e&&(e=[1,0,0,1,0,0]),this.m=e&&e.slice()||[1,0,0,1,0,0]}return e.prototype.copy=function(){return new e(this.m)},e.prototype.point=function(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}},e.prototype.translate=function(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this},e.prototype.scale=function(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,o=this.m[1]*t+this.m[3]*n,a=this.m[0]*-n+this.m[2]*t,i=this.m[1]*-n+this.m[3]*t;return this.m[0]=r,this.m[1]=o,this.m[2]=a,this.m[3]=i,this},e.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},e.prototype.skew=function(e,t){var n=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,o=this.m[2]+this.m[0]*e,a=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=r,this.m[2]=o,this.m[3]=a,this},e.prototype.multiply=function(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],a=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],i=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=o,this.m[4]=a,this.m[5]=i,this},e.prototype.invert=function(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,o=this.m[0]*e,a=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),i=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=o,this.m[4]=a,this.m[5]=i,this},e.prototype.getMatrix=function(){return this.m},e.prototype.setAbsolutePosition=function(e,t){var n=this.m[0],r=this.m[1],o=this.m[2],a=this.m[3],i=this.m[4],s=(n*(t-this.m[5])-r*(e-i))/(n*a-r*o),l=(e-i-o*s)/n;return this.translate(l,s)},e}();t.Transform=a;var i=Math.PI/180,s=180/Math.PI,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},u=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,c=[];t.Util={_isElement:function(e){return!(!e||1!=e.nodeType)},_isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},_isPlainObject:function(e){return!!e&&e.constructor===Object},_isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e)},_isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},_isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},isObject:function(e){return e instanceof Object},isValidSelector:function(e){if("string"!=typeof e)return!1;var t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:function(e){return 0===e?0:e>0?1:-1},requestAnimFrame:function(e){c.push(e),1===c.length&&requestAnimationFrame(function(){var e=c;c=[],e.forEach(function(e){e()})})},createCanvasElement:function(){var e=r.Konva.isBrowser?document.createElement("canvas"):new(r.Konva._nodeCanvas());try{e.style=e.style||{}}catch(t){}return e},createImageElement:function(){return document.createElement("img")},_isInDocument:function(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_simplifyArray:function(e){var n,r,o=[],a=e.length,i=t.Util;for(n=0;n<a;n++)r=e[n],i._isNumber(r)?r=Math.round(1e3*r)/1e3:i._isString(r)||(r=r.toString()),o.push(r);return o},_urlToImage:function(e,t){var n=new r.glob.Image;n.onload=function(){t(n)},n.src=e},_rgbToHex:function(e,t,n){return((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},_hexToRgb:function(e){e=e.replace("#","");var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor:function(){for(var e=(16777215*Math.random()<<0).toString(16);e.length<6;)e="0"+e;return"#"+e},get:function(e,t){return e===undefined?t:e},getRGB:function(e){var t;return e in l?{r:(t=l[e])[0],g:t[1],b:t[2]}:"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=u.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(e){return e=e||"black",t.Util._namedColorToRBA(e)||t.Util._hex3ColorToRGBA(e)||t.Util._hex6ColorToRGBA(e)||t.Util._rgbColorToRGBA(e)||t.Util._rgbaColorToRGBA(e)},_namedColorToRBA:function(e){var t=l[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA:function(e){if(0===e.indexOf("rgb(")){var t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA:function(e){if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex6ColorToRGBA:function(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},haveIntersection:function(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},cloneObject:function(e){var t={};for(var n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:function(e){return e.slice(0)},_degToRad:function(e){return e*i},_radToDeg:function(e){return e*s},_capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},"throw":function(e){throw new Error("Konva error: "+e)},error:function(e){console.error("Konva error: "+e)},warn:function(e){r.Konva.showWarnings&&console.warn("Konva warning: "+e)},extend:function(e,t){function n(){this.constructor=e}n.prototype=t.prototype;var r=e.prototype;for(var o in e.prototype=new n,r)r.hasOwnProperty(o)&&(e.prototype[o]=r[o]);e.__super__=t.prototype,e["super"]=t},_getControlPoints:function(e,t,n,r,o,a,i){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),l=Math.sqrt(Math.pow(o-n,2)+Math.pow(a-r,2)),u=i*s/(s+l),c=i*l/(s+l);return[n-u*(o-e),r-u*(a-t),n+c*(o-e),r+c*(a-t)]},_expandPoints:function(e,n){var r,o,a=e.length,i=[];for(r=2;r<a-2;r+=2)o=t.Util._getControlPoints(e[r-2],e[r-1],e[r],e[r+1],e[r+2],e[r+3],n),i.push(o[0]),i.push(o[1]),i.push(e[r]),i.push(e[r+1]),i.push(o[2]),i.push(o[3]);return i},each:function(e,t){for(var n in e)t(n,e[n])},_inRange:function(e,t,n){return t<=e&&e<n},_getProjectionToSegment:function(e,t,n,r,o,a){var i,s,l,u=(e-n)*(e-n)+(t-r)*(t-r);if(0==u)i=e,s=t,l=(o-n)*(o-n)+(a-r)*(a-r);else{var c=((o-e)*(n-e)+(a-t)*(r-t))/u;c<0?(i=e,s=t,l=(e-o)*(e-o)+(t-a)*(t-a)):c>1?(i=n,s=r,l=(n-o)*(n-o)+(r-a)*(r-a)):l=((i=e+c*(n-e))-o)*(i-o)+((s=t+c*(r-t))-a)*(s-a)}return[i,s,l]},_getProjectionToLine:function(e,n,r){var o=t.Util.cloneObject(e),a=Number.MAX_VALUE;return n.forEach(function(i,s){if(r||s!==n.length-1){var l=n[(s+1)%n.length],u=t.Util._getProjectionToSegment(i.x,i.y,l.x,l.y,e.x,e.y),c=u[0],d=u[1],f=u[2];f<a&&(o.x=c,o.y=d,a=f)}}),o},_prepareArrayForTween:function(e,n,r){var o,a=[],i=[];if(e.length>n.length){var s=n;n=e,e=s}for(o=0;o<e.length;o+=2)a.push({x:e[o],y:e[o+1]});for(o=0;o<n.length;o+=2)i.push({x:n[o],y:n[o+1]});var l=[];return i.forEach(function(e){var n=t.Util._getProjectionToLine(e,a,r);l.push(n.x),l.push(n.y)}),l},_prepareToStringify:function(e){var n;for(var r in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(r)&&e[r]&&"object"==typeof e[r])if(n=Object.getOwnPropertyDescriptor(e,r),e[r].visitedByCircularReferenceRemoval||t.Util._isElement(e[r])){if(!n.configurable)return null;delete e[r]}else if(null===t.Util._prepareToStringify(e[r])){if(!n.configurable)return null;delete e[r]}return delete e.visitedByCircularReferenceRemoval,e},_assign:function(e,t){for(var n in t)e[n]=t[n];return e}}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=null,s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setStage=function(e){e&&(i=e,s.setCache())},t.prototype.setCache=function(){i&&i.getStage().find(".contrs").each(function(e){if(e.children&&e.children.length>0)if(window.notCanvasDev)e._getCanvasCache()||(t=e.find(".canvas-img-loading"))&&t.length>0||(window.isDevelop&&console.log("cache"),e.cache({pixelRatio:window.globalPixelRatio,drawBorder:!1}));else if(!e._getCanvasCache()){var t=e.find(".canvas-img-loading");window.isDevelop&&console.log("noCache"),t&&t.length>0||(window.isDevelop&&console.log("cache"),e.cache({pixelRatio:window.globalPixelRatio,drawBorder:!1}))}})},t.prototype.getStage=function(){return i},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitMoveChange=function(){this.emit("moveChange")},t.prototype.addMoveChangeListener=function(e){this.on("moveChange",e)},t.prototype.removeMoveChangeListener=function(e){this.removeListener("moveChange",e)},t.prototype.emitDblclickChange=function(){this.emit("dblclickChange")},t.prototype.addDblclickChangeListener=function(e){this.on("dblclickChange",e)},t.prototype.removeDblclickChangeListener=function(e){this.removeListener("dblclickChange",e)},t}(a.EventEmitter));t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(8)),l=a(n(600)),u=a(n(94)),c=n(150),d={isShow:!1,isEdit:!1,style:{left:0,top:0},contrList:[],thisContr:null};function f(e){d.isShow||(d.contrList=[]);var t=c.getMidPos(e.width,e.height);d.style.left=t.left,d.style.top=t.top,d.contrList.push(e),d.isShow=!0,d.thisContr=e,d.backColor=4}var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(e){f(e),h.emitChange()},t.prototype.changeThisContr=function(e){d.thisContr=e},t.prototype.wrapBoxEdit=function(e,t){var r,o=$.getContrId(e),a=n(6)["default"],i=n(51)["default"].getZoom()/100;if(!d.isEdit||d.isEdit&&d.thisContr.contrs[o]){if(d.isEdit||(d.contrList=[]),a.contrUpdate($.getContrId(e),{isOpen:!0},!0,!0),d.contrList.push(e),d.isEdit=!0,d.thisContr=e,t){var s=!1;e.hierarchy.forEach(function(n){var o=e.contrs[n],l=$.getElById(n);if(l&&!s){var u=$.offset(l);$.collide([t.clientX,t.clientY,1,1],[u.left,u.top,l.offsetWidth*i,l.offsetHeight*i])?(r=$.getContrId(o),a.selectChange([n],!1,!0),s=!0):a.contrUpdate(n,{isOpt:!1},!0,!0)}})}}else for(var l=!1,c=d.contrList.length-1;c>=0&&!l;c--)d.contrList[c].contrs[o]?(l=!0,d.thisContr=d.contrList[c],d.contrList.length=c+1):a.contrUpdate($.getContrId(d.contrList[c]),{isOpen:!1},!0,!0);r||u["default"].change([{tabType:"box",isFold:!1,rename:"集合框体"},{tabType:"wrapBox",isFold:!0},{tabType:"event"},{tabType:"struct"},{tabType:"note"}])},t.prototype.wrapBoxEditOpt=function(){},t.prototype.wrapBoxEditOut=function(){var e=n(6)["default"];d.isEdit=!1,d.contrList.forEach(function(t){e.contrUpdate($.getContrId(t),{isOpen:!1},!0,!0)}),d.contrList=[]},t.prototype.insertContr=function(e,t){var n=[d.thisContr.hierarchy.indexOf(e),1].concat(t);Array.prototype.splice.apply(d.thisContr.hierarchy,n)},t.prototype.cancelMergeBoxShow=function(){d.isShow=!1},t.prototype.getMergeBoxShow=function(){return d.isShow||d.isEdit},t.prototype.getMergeBoxIn=function(){return d.isShow},t.prototype.getIsWrapEdit=function(){return d.isEdit},t.prototype.setIsWrapEdit=function(e){d.isEdit=e},t.prototype.getContrsArr=function(){var e=n(6)["default"],t=[],r=h.getContrs();for(var o in r){var a=r[o];t.push(e.getAllValsContr({contrKey:a}))}return t},t.prototype.getHierarchyContrsArr=function(){for(var e=[],t=d.thisContr.hierarchy,n=0;n<t.length;n++)e.push(d.thisContr.contrs[t[t.length-1-n]]);return e},t.prototype.getContrList=function(){return d.contrList},t.prototype.initContrList=function(){var e=n(6)["default"];d.contrList.forEach(function(t){e.contrUpdate($.getContrId(t),{isOpen:!1},!0,!0)}),d.contrList=[]},t.prototype.setContrList=function(e){d.contrList=e},t.prototype.getContrListKey=function(){return d.contrList.map(function(e){return $.getContrId(e)})},t.prototype.hierarchyAddContr=function(e){d.thisContr.hierarchy.splice(0,0,e)},t.prototype.getContrs=function(){return d.thisContr&&d.thisContr.contrs},t.prototype.getThisContr=function(){return d.thisContr},t.prototype.changeMergeContr=function(e){var t=!1,n=$.getContrId(e);d.contrList.every(function(e,r){return $.getContrId(e)!=n||(t=r,!1)}),!1!==t&&(d.contrList[t]=e),d.thisContr&&$.getContrId(d.thisContr)==n&&(d.thisContr=e)},t.prototype.setRedoThisContr=function(e,t){var n=c.getMidPos(e.width,e.height);d.style.left=n.left,d.style.top=n.top,d.thisContr=e,t||h.emitChange()},t.prototype.setRedoContrList=function(){},t.prototype.setThisContr=function(e){var t=c.getMidPos(e.width,e.height);d.style.left=t.left,d.style.top=t.top,d.thisContr=e,d.backColor=4},t.prototype.getMergeBoxBackColor=function(){return d.backColor},t.prototype.getMergeBoxHierarchy=function(){return d.thisContr.hierarchy},t.prototype.getStyle=function(){return d.style},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter);s["default"].register(function(e){switch(e.actionType){case l["default"].MERGEBOX_MOVE:r=e.left,o=e.top,d.style.left=r,d.style.top=o,h.emitChange();break;case l["default"].MERGEBOX_INIT:f(e.initContr),h.emitChange();break;case l["default"].MERGEBOX_BACKCOLOR:n=e.color,d.backColor=n,h.emitChange();break;case l["default"].MERGEBOX_THISCONTR:t=e.option,d.thisContr=$.extend(d.thisContr,t),h.emitChange()}var t,n,r,o});var h=new p;t["default"]=h},,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(29)),a=r(n(91)),i=r(n(34)),s=r(n(67)),l=r(n(10)),u=n(703);function c(e){return e.map(function(e){return o["default"].getPrdElementById(e)})}function d(e){var t=e.pageId,n=e.isReturnArr,r=void 0!==n&&n;return u.findAllByIdInObj({findVal:t,isReturnArr:r,valKey:"pageId",allValObj:o["default"].getPrdElements()})}function f(){return a["default"].getPrdStructById(i["default"].getSelectStructKey())}function p(){var e=f();return e&&e.elementHierarchy||[]}function h(e){void 0===e&&(e="");var t=[],n=e||i["default"].getSelectStructKey();return s["default"].getPrdLine().forEach(function(e){e.id;e.structKey==n&&t.push(e)}),t}t.getElementObjByKeyArr=c,t.findAllElementByPageId=d,t.findAllElement=function(e){var t=(void 0===e?{}:e).isReturnArr,n=void 0!==t&&t;return d({pageId:i["default"].getSelectStructKey(),isReturnArr:n})},t.getAllElementBySelectPageHierarchy=function(){var e=p()||[],t=[],n=[].concat(e);return e.forEach(function(e){var r=o["default"].getPrdElementById(e);r?t.push(r):n.remove(e)}),$.checkArrayEqual(n,e)||(a["default"].updateValById({id:i["default"].getSelectStructKey(),updateVal:{elementHierarchy:n}}),l["default"].createData({type:"fixElementHierarchyData",name:"PRD 选中页目录脏数据修复",autoSaveType:"prd"})),t.reverse()},t.getSelectElementByHierarchy=function(){var e=i["default"].getSelectElementArr();return c(p()||[]).filter(function(t){return-1!=e.indexOf(t.id)})},t.findSelectElement=function(){return c(i["default"].getSelectElementArr())},t.getSelectPageObj=f,t.getSelectPageElementHierarchy=p,t.getAllLineByStructKey=h,t["default"]={findAllElementByPageId:d,getAllLineByStructKey:h}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(8)),l=n(9),u={},c={pageKey:"",contrKey:""},d=0,f={},p="",h=[],g={},y="",m="",_=!0,v={current:[],extra:[]},b={contrKey:"",pageKey:""},w=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setShowHoverBall=function(e,t){void 0===t&&(t=!1),_=e,t||w.emitHoverChange()},t.prototype.getShowHoverBall=function(){return _},t.prototype.setToastPage=function(e,t){m=e,t||w.emitToastChange()},t.prototype.getToastPage=function(){return m},t.prototype.getCreateWay=function(){return y},t.prototype.setCreateWay=function(e){y=e,w.emitChange()},t.prototype.getPageInput=function(){return g},t.prototype.setPageInput=function(e,t){void 0===t&&(t=!1),g=e,t||w.emitTitleChange()},t.prototype.getDragStart=function(){return p},t.prototype.setDragStart=function(e){p=e,w.emitChange()},t.prototype.setComment=function(e){f=e,w.emitCommentChange()},t.prototype.getComment=function(){return f},t.prototype.getLineType=function(){return d},t.prototype.setLineType=function(e){d=e,w.emitChange()},t.prototype.setHoverKey=function(e,t){$.extend(!0,c,e),t||w.emitHoverChange()},t.prototype.getHoverKey=function(){return c},t.prototype.getOneLine=function(e){return u[e]},t.prototype.changeLine=function(e){var t=e.id,n=e.notEmit,r=void 0!==n&&n,o=a(e,["id","notEmit"]);$.extend(!1,u[t],o),r||w.emitChange()},t.prototype.getSelectArr=function(){return h},t.prototype.setSelectArr=function(e){h=e,w.emitChange()},t.prototype.getAllLine=function(){var e=[];for(var t in u){var n=this.getOneLine(t);e.push(n)}return e},t.prototype.setLink=function(e,t){void 0===t&&(t=!1);var n=e.id;u[n]=e,t||w.emitChange()},t.prototype.deleteLine=function(e,t){delete u[e],t||w.emitChange()},t.prototype.getSelectContr=function(){return b},t.prototype.setSelectContr=function(e,t){b=e,t||w.emitHoverChange()},t.prototype.getLinkLineByPageFlowId=function(e){var t=e.pageFlowId,n=e.isArr,r=void 0!==n&&n,o=r?[]:{};for(var a in u){var i=u[a],s=i.pageFlowId;(t&&t==s||!t&&!s)&&(r?o.push(i):o[a]=i)}return o},t.prototype.getAllLinkLine=function(){return u},t.prototype.setAllLinkLine=function(e,t){void 0===t&&(t=!1),u=e,t||w.emitChange()},t.prototype.getDragPoint=function(){return v},t.prototype.setDragPoint=function(e,t){v=e,t||w.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitHoverChange=function(){this.emit("hover_change")},t.prototype.addHoverChangeListener=function(e){this.on("hover_change",e)},t.prototype.removeHoverChangeListener=function(e){this.removeListener("hover_change",e)},t.prototype.emitCommentChange=function(){this.emit("comment_change")},t.prototype.addCommentChangeListener=function(e){this.on("comment_change",e)},t.prototype.removeCommentChangeListener=function(e){this.removeListener("comment_change",e)},t.prototype.emitTitleChange=function(){this.emit("title_change")},t.prototype.addTitleChangeListener=function(e){this.on("title_change",e)},t.prototype.removeTitleChangeListener=function(e){this.removeListener("title_change",e)},t.prototype.emitToastChange=function(){this.emit("title_change")},t.prototype.addToastChangeListener=function(e){this.on("title_change",e)},t.prototype.removeToastChangeListener=function(e){this.removeListener("title_change",e)},t}(l.EventEmitter));s["default"].register(function(e){e.actionType}),t["default"]=w},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(1),a=n(131),i=n(1249),s=n(1251),l=n(1252),u=n(942),c=u.applyNodeProps,d=u.toggleStrictMode,f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){a.isBrowser&&(this._stage=new a.Stage({width:this.props.width,height:this.props.height,container:this._tagRef}),this._setRef(this._stage),c(this._stage,this.props),this._mountNode=h.createContainer(this._stage),h.updateContainer(this.props.children,this._mountNode,this))},t.prototype._setRef=function(e){var t=this.props.forwardedRef;t&&("function"==typeof t?t(e):t.current=e)},t.prototype.componentDidUpdate=function(e){a.isBrowser&&(this._setRef(this._stage),c(this._stage,this.props,e),h.updateContainer(this.props.children,this._mountNode,this))},t.prototype.componentWillUnmount=function(){a.isBrowser&&(this._setRef(null),h.updateContainer(null,this._mountNode,this),this._stage.destroy())},t.prototype.getStage=function(){return this._stage},t.prototype.render=function(){var e=this,t=this.props;return o.createElement("div",{ref:function(t){return e._tagRef=t},accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},t}(o.Component),p={};["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"].forEach(function(e){p[e]=e});var h=i(l);h.injectIntoDevTools({findFiberByHostInstance:s.getClosestInstanceFromNode,bundleType:0,version:o.version,rendererPackageName:"react-konva",getInspectorDataForViewTag:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t)}});var g=o.forwardRef(function(e,t){return o.createElement(f,r({},e,{forwardedRef:t}))});e.exports=r({},p,{__matchRectVersion:!0,Stage:g,useStrictMode:d})},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s={},l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getPrdElements=function(){return s},t.prototype.setPrdElements=function(e){s=e},t.prototype.getPrdElementById=function(e){return s[e]},t.prototype.initPrdElement=function(){s={}},t.prototype.createElement=function(e,t){void 0===t&&(t=!1);var n=e.id;s[n]=e,t||l.emitChange()},t.prototype.updateValById=function(e){var t=e.id,r=e.updateVal,o=e.noEmit,i=void 0!==o&&o,u=e.emitAll,c=void 0!==u&&u;if(s[t]){if(s[t]=a({},s[t],r),"table"==s[t].type)n(40)["default"].setTableDataContr(s[t]);i||l.emitElementContentChange(),!i&&c&&l.emitChange()}},t.prototype.deleteElementById=function(e){var t=e.id,n=e.noEmit,r=void 0!==n&&n;s[t]&&(delete s[t],r||l.emitChange())},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitElementContentChange=function(){this.emit("changeElementContent")},t.prototype.addElementContentChangeListener=function(e){this.on("changeElementContent",e)},t.prototype.removeElementContentChangeListener=function(e){this.removeListener("changeElementContent",e)},t}(i.EventEmitter));t["default"]=l},,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=s(n(95)),a=s(n(12)),i=s(n(173));function s(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var l,u,c=n(69).EventEmitter,d=["#ffffff","#000000","#808080","#D43030","#FFEB3B","#43CF7C","#2A82E4","#AC33C1"],f={isShow:!1,parentKey:null,parentPosi:null,posi:null,backColor:0,colorArr:d,thisContrKey:null,thisSymbolKey:null,parentArr:[]},p=!1,h=(0,o["default"])({},c.prototype,{init:function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1],r=n(48)["default"],o=n(6)["default"],a=n(24)["default"],i=n(256)["default"],s=[0,0];if(f.isShow){var l=$.extend(!0,{},f);delete l.isShow,delete l.parentArr,delete l.backColor,delete l.colorArr,f.parentArr.unshift(l),s=[f.posi.left,f.posi.top]}f.isShow=!0,f.thisContrKey=e;var u=h.getSymbolMaskContr();f.posi={left:u.left-s[0],top:u.top-s[1],width:u.width,height:u.height},f.thisSymbolKey=u.symbolKey,f.parentPosi=i.getParentRotateVals(!0),a.wrapBoxEditOut(),o.selectChange([],!0,!0),t||(r.emitChange(),h.emitChange())},initAll:function(){f={isShow:!1,parentKey:null,parentPosi:null,posi:null,backColor:0,colorArr:d,thisContrKey:null,thisSymbolKey:null,parentArr:[]}},isInSymbolLoop:function(e){if(!f.isShow)return!1;var t=[f.thisSymbolKey];return f.parentArr&&f.parentArr.forEach(function(e){t.push(e.thisSymbolKey)}),-1!=t.indexOf(e)},getParentArr:function(){return f.parentArr},isAddingSymbol:function(){return p},setAdding:function(e){p=e},getSymbolMaskShow:function(){return f.isShow},getIsEditSymbolChild:function(e){return-1!=h.getSymbolMaskContr().hierarchy.indexOf(e)},getSymbolMask:function(){return f},getSymbolMaskData:function(){return{isShow:f.isShow,parentArr:f.parentArr,parentKey:f.parentKey,parentPosi:f.parentPosi,posi:f.posi,thisContrKey:f.thisContrKey,thisSymbolKey:f.thisSymbolKey}},setSymbolMaskData:function(e,t){var r=n(48)["default"],o=n(6)["default"],i=$.extend(!0,{},e),s=f.isShow!=e.isShow;for(var l in i)f[l]=i[l];if(f.thisSymbolKey&&!o.getSymbol(f.thisSymbolKey,!0))return h.initAll(),setTimeout(function(){r.emitChange(),h.emitChange(),o.emitMustChange(),a["default"].show("引用组件不存在")},10),!1;setTimeout(function(){r.emitChange(),h.emitChange(),o.emitMustChange()},10),t||(h.emitChange(),o.initCache(),o.selectChange([],undefined,!0),o.emitChange(),s&&r.emitChange())},getSymbolContrKey:function(){return f.thisContrKey},getSymbolIsEditThisContr:function(e){return f.isShow&&f.thisContrKey==e},getSymbolMaskContr:function(){var e=n(6)["default"],t=e.getContrByAll(f.thisContrKey);return t&&e.getAllValsContr({contrKey:t})},getCutVals:function(){return h.getSymbolMaskContr().cutVals},setInputVal:function(e){n(6)["default"].contrUpdate(f.thisContrKey,{cutVals:e})},setSymbolMask:function(e){f=e,h.emitChange()},getSymbolParentKeyArr:function(e,t){var n=e.parents(".isC[data-type=symbol]:not(.isSymbolEdit)"),r=void 0;return n.length>0&&(r=[],n.each(function(e,t){r.unshift(t.id)}),t&&t()),r},getSymbolBackColor:function(){return f.colorArr[f.backColor]},setSymbolBackColor:function(e){e!=f.backColor&&(f.backColor=e,h.emitChange())},into:function(e){f.isShow=!0,f.thisContrKey=e,h.emitChange()},exit:function(e,t,r){var o=n(48)["default"],a=n(6)["default"],i=n(24)["default"],s=n(119)["default"],l=void 0;if(t&&f.parentArr.length>0&&(l=f.parentArr[f.parentArr.length-1].thisContrKey),f.parentArr.length>0&&!t){var u=0;r&&f.parentArr.some(function(e,t){return e.thisContrKey==r&&(t>0&&(l=f.parentArr[t-1].thisContrKey),u=t,!0)});var c=$.extend(!0,{},f.parentArr[u]),d=a.getContrByAll(f.thisContrKey);d&&(window.renderSymbol=d.symbolKey),f.parentArr.splice(0,u+1),f.parentKey=c.parentKey,f.parentPosi=c.parentPosi,f.posi=c.posi,f.thisContrKey=c.thisContrKey,f.thisSymbolKey=c.thisSymbolKey}else{a.initCache(),f.isShow=!1;var p=a.getContrByAll(f.thisContrKey);p&&(window.renderSymbol=p.symbolKey),f.thisContrKey=null,f.thisSymbolKey=null,f.parentPosi=null,f.parentKey=null,f.parentArr=[],f.posi=null}return e||(s.getCutImageShow()&&$.exitCutImage(!0),i.getMergeBoxShow()&&(i.wrapBoxEditOut(),i.emitChange()),a.selectChange([],undefined,!0),a.emitChange(),o.emitChange(),h.emitChange()),setTimeout(function(){window.renderSymbol=!1},0),l},exitAndSave:function(e,t,r){var o=n(10)["default"],a=n(119)["default"],s=n(239)["default"],l=f.thisContrKey,u=h.exit(e,t,r);u&&(l=u),e||(a.getCutImageShow()&&$.exitCutImage(!0),i["default"].initSymbolSizeData(),setTimeout(function(){s.selectContr(l),o.createData({type:"backFromSymbolMask",name:"退出引用编辑",handleObjType:"symbol",autoSaveType:"pageContrs"})},0))},exitAndSaveByKey:function(e,t){"page"==e?h.exitAndSave(t,!0):h.exitAndSave(t,undefined,e)},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),g=h;t["default"]=g,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(l.register(c,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),l.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),l.register(d,"colorArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),l.register(f,"__symbolMask","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),l.register(p,"isAdding","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),l.register(h,"SymbolMaskStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js"),l.register(g,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolMaskStore.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&u(e)}).call(this,n(7)(e))},,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=null,l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getPrdSet=function(){return s},t.prototype.getPrdData=function(){return s},t.prototype.setPrdData=function(e){s=e},t.prototype.changePrdData=function(e){void 0===e&&(e={}),s=a({},s,e)},t.prototype.initPrdData=function(e){void 0===e&&(e=!1),s={createType:"",structHierarchy:[],selectElementArr:[],temporarySelectArr:[],selectStructArr:[],selectStructKey:"",isEditingElement:!1,isDraging:!1,dragOption:{targetId:"",targetPosi:"",lineId:"",linePosi:"",lineDeep:-1},moveOption:{x:null,y:null},cursor:"",containerHeight:1530,linkInput:{isShow:!1,left:0,top:0,link:"",innerLink:"",isInner:!1},scrollTop:0},e||l.emitChange()},t.prototype.hasPrd=function(){return""!=l.getCreateType()},t.prototype.getCreateType=function(){return s.createType},t.prototype.create=function(e){var t=e.createVal,n=e.noEmit,r=void 0!==n&&n;s=a({},s,t),r||l.emitChange()},t.prototype.getScrollTop=function(){return s.scrollTop},t.prototype.setScrollTop=function(e,t){void 0===t&&(t=!1),s.scrollTop=e,t||l.emitScrollChange()},t.prototype.getContainerHeight=function(){return s.containerHeight},t.prototype.setContainerHeight=function(e,t){void 0===t&&(t=!1),s.containerHeight=e,t||l.emitChange()},t.prototype.getMoveOption=function(){return s.moveOption},t.prototype.setMoveOption=function(e,t){void 0===t&&(t=!1),s.moveOption=e,t||l.emitDragChange()},t.prototype.setCursor=function(e,t){void 0===t&&(t=!1),s.cursor=e,t||l.emitChange()},t.prototype.getCursor=function(){return s.cursor},t.prototype.setStructHierarchy=function(e,t){void 0===t&&(t=!1),s.structHierarchy=e,t||l.emitChange()},t.prototype.getStructHierarchy=function(){return s.structHierarchy},t.prototype.setTemporarySelectArr=function(e,t){void 0===t&&(t=!1),s.temporarySelectArr=e,t||l.emitChange()},t.prototype.getTemporarySelectArr=function(){return s.temporarySelectArr},t.prototype.getAllSelectArr=function(){var e=$.extend(!0,[],s.selectStructArr);return s.temporarySelectArr.forEach(function(t,n){-1==e.indexOf(t)&&e.push(t)}),e},t.prototype.setDragOption=function(e,t){void 0===t&&(t=!1),s.dragOption=e,t||l.emitDragChange()},t.prototype.getDragOption=function(){return s.dragOption},t.prototype.setIsDraging=function(e,t){void 0===t&&(t=!1),s.isDraging=e,t||l.emitChange()},t.prototype.getIsDraging=function(){return s.isDraging},t.prototype.setIsEditingElement=function(e,t){void 0===t&&(t=!1),s.isEditingElement=e,t||l.emitChange()},t.prototype.getIsEditingElement=function(){return s.isEditingElement},t.prototype.setSelectStructKey=function(e,t){void 0===t&&(t=!1),s.selectStructKey=e,t||l.emitChange()},t.prototype.getSelectStructKey=function(){return s.selectStructKey},t.prototype.setSelectStructArr=function(e,t){void 0===t&&(t=!1),s.selectStructArr=e,t||l.emitChange()},t.prototype.getSelectStructArr=function(){return s.selectStructArr},t.prototype.setSelectElementArr=function(e,t){void 0===t&&(t=!1),s.selectElementArr=e,t||l.emitChange()},t.prototype.getSelectElementArr=function(){return s.selectElementArr},t.prototype.structHierarchyAddOne=function(e,t){void 0===t&&(t=!1),s.structHierarchy.push(e),t||l.emitChange()},t.prototype.setLinkInput=function(e,t){void 0===t&&(t=!1),s.linkInput=e,t||l.emitChange()},t.prototype.getLinkInput=function(){return s.linkInput},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitScrollChange=function(){this.emit("scroll_change")},t.prototype.addScrollChangeListener=function(e){this.on("scroll_change",e)},t.prototype.removeScrollChangeListener=function(e){this.removeListener("scroll_change",e)},t.prototype.emitDragChange=function(){this.emit("drag_change")},t.prototype.addDragChangeListener=function(e){this.on("drag_change",e)},t.prototype.removeDragChangeListener=function(e){this.removeListener("drag_change",e)},t}(i.EventEmitter));l.initPrdData(),t["default"]=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$,o=[{title:"我们是一个小小的团队"},{title:"但是有着大大的梦想"},{title:"我们想做最酷的产品"},{title:"想做最有挑战的技术"}];function a(e,t){return e.map(function(e){var n,o=e;switch(t){case"menu":case"cascader":case"tree":case"treeSelect":case"transfer":o=function(e,t){var n=r.extend(!0,{unfold:!1,active:!1,select:!1,child:[]},e);n.child.length>0&&(n.child=a(n.child,t));return n}(e,t);break;case"radioM":case"checkboxM":case"radio":case"checkbox":case"segmentedControlM":case"select":case"dropdown":n=e,o=r.extend(!0,{select:!1},n)}return o})}var i=new(function(){function e(){}return e.prototype.getDefaultData=function(e,t){var n;switch(e){case"menu":case"cascader":case"tree":case"treeSelect":n=[{title:"一级选项 1"},{title:"一级选项 2"},{title:"一级选项 3",unfold:!0,child:[{title:"二级选项 1",unfold:!0,child:[{title:"三级选项 1",unfold:!0,child:[{title:"四级选项 1"},{title:"四级选项 2"}]}]},{title:"二级选项 2",child:[{title:"三级选项 1",child:[{title:"四级选项 1"},{title:"四级选项 2"}]}]},{title:"二级选项 3",child:[{title:"三级选项 1",child:[{title:"四级选项 1"},{title:"四级选项 2"}]}]}]}];break;case"pickerM":n=[{title:"第一列",child:[{title:"选项 1",select:!0},{title:"选项 2"},{title:"选项 3"}]},{title:"第二列",child:[{title:"选项 1",select:!0},{title:"选项 2"},{title:"选项 3"}]}];break;case"radioM":case"checkboxM":case"radio":case"checkbox":case"segmentedControlM":case"select":case"dropdown":n=[{title:"选项 1",select:!0},{title:"选项 2"},{title:"选项 3"}];break;case"transfer":for(var r=[],i=[],s=0;s<20;s++)(s<10?r:i).push({title:"选项 "+(s+1)});n=[{title:"左侧数据",child:r},{title:"右侧数据",child:i}];break;case"carouselTextM":n=t&&t.length>0?t:o;break;case"menuM":n=[{title:"一级选项 1",child:[{title:"二级选项 1"},{title:"二级选项 2"},{title:"二级选项 3"}]},{title:"一级选项 2",child:[{title:"二级选项 1"},{title:"二级选项 2"},{title:"二级选项 3"}]},{title:"一级选项 3",child:[{title:"二级选项 1"},{title:"二级选项 2"},{title:"二级选项 3"}]}];break;case"switch":case"switchM":n=[{title:"关闭"},{title:"开启"}];break;case"paginationM":n=[{title:"页码1"},{title:"页码2"},{title:"页码3"},{title:"页码4"},{title:"页码5"}]}switch(e){case"select":n[0].select=!1}switch(n=a(t||n,e),e){case"menu":n.forEach(function(e){})}return n},e}());t["default"]=i},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(96),i=o(n(5)),s=o(n(42)),l=n(421),u=window,c=u.$,d=u.isPrototypeTool;function f(e){var t=e.changeSize,n=e.borderWidth,r=e.isArr,o=e.radius,a=e.index,i=e.isMaxRadius,s=e.minWidthHeight,l=e.isShape,u=r?o[a]:o;return i?s/2:0==Math.round(u)?-n/2:(u=t*u-(1-t)*n/2,0==Math.round(u+n/2)?l?-n/2:-n:u)}var p={getTargetPage:function(e){var t=e.events,n="";if(t&&!c.isEmptyObj(t))for(var r in t){var o=t[r].actions;o&&o.length&&o.some(function(e){var t=e.type,r=e.page;return"page"==t&&-1!=r&&!n&&(n=r+"",!0)})}return n&&-1==n.indexOf("mainBox")&&(n="mainBox"+n),n},setType:function(e,t){var n=e.type,r=e.id,o=e.canvasSymbolKey,a=void 0===o?"":o;return c.isUndefined(t)&&(t=p.getTargetPage(e)),{id:a+(a?"|":"")+n+"_"+r,"data-id":n+"_"+r,name:"canvasContr"+(t?" eventContr":""),"data-targetPage":t}},setPosi:function(e){return{width:e.width,height:e.height}},setPosition:function(e,t){void 0===t&&(t=!1);var n=e.left,o=e.top,a=e.dependType,l=e.isDepend,u=e.height,c=e.interfaceId,f=0;if(l&&"bm"==a){if(d?i["default"].getPageByKey(c):s["default"].getPage(c)){var h=window.phoneSize.height;if(i["default"].getIsShowLongPage()||!1){var g=i["default"].getPage(c,!0).pageHeight,y=o+u,m=y-h;f=g?y>h?g-(u-m):g-u+m:h-u+m}else f=o}}else f=o;return r({x:Math.round(n||0),y:Math.round(f||0)},t?{}:p.setPosi(e))},setPageArcRectClip:function(e,t,n){return{clipFunc:function(r){r.arc(0,0,2*Math.max(e,t),0,2*Math.PI,!1);var o=new Path2D(l.drawArcPath({w:e,h:t,r:n,borderWidth:0}));r._context.clip(o)}}},setPageBorderLine:function(e,t,n,r,o){return{sceneFunc:function(a){a.arc(0,0,2*Math.max(e,t),0,2*Math.PI,!1);var i=new Path2D(l.drawArcLinePath({w:e,h:t,r:n,borderWidth:r/2}));a._context.strokeStyle=o,a._context.lineWidth=r,a._context.stroke(i)}}},setImgSize:function(e){var t=e.cutVals,n=e.width,r=e.height;return{width:t?t.boxWidth:n,height:t?t.boxHeight:r,offsetX:t?-t.boxLeft:0,offsetY:t?-t.boxTop:0}},setBackColor:function(e){var t={},n=e.hasBackColor,r=e.backColor;return n&&(t={fill:r}),t},setFillColor:function(e){return{fill:e}},setTextShadow:function(e){var t={},n=e.textShadow;return n&&(Number(n)&&(n=[0,n,n,0,"rgba(0, 0, 0, 0.5)"]),t={shadowOffsetX:n[0],shadowOffsetY:n[1],shadowBlur:n[2],shadowColor:n[4]}),t},setBorderRect:function(e){var t=e.width,n=e.height,r=e.border,o=e.outerBorder,a=r||o;return{x:.5*a[1]/2,y:.5*a[1]/2,width:t+.5*a[1],height:n+.5*a[1]}},setOuterBorder:function(e){var t={},n=e.outerBorder;return n&&n[1]&&n[2]==undefined&&(t={stroke:n[0],strokeWidth:n[1]}),t},setInnerBorder:function(e){var t={},n=e.innerBorder;return n&&n[1]&&n[2]==undefined&&(t={stroke:n[0],strokeWidth:n[1]}),t},setFontFamily1:function(){return{fontFamily:"PingFang SC"}},setFontFamily2:function(){return{fontFamily:"Arial"}},setFontFamily3:function(){return{fontFamily:'"Monospaced Number", "Chinese Quote", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif'}},setFontFamily4:function(){return{fontFamily:'"PingFang SC", "Microsoft YaHei", "Microsoft JhengHei", "黑体", arial, STHeiti'}},setMdIcon:function(){return{fontFamily:"Material Icons"}},setIconfontIcon:function(){return{fontFamily:"iconfontAnt"}},setOpacity:function(e){var t={},n=e.opacity,r=void 0===n?100:n;return 100!=Math.round(r)&&(t={opacity:Math.round(r)/100}),t},setRectClip:function(e){var t=e.width,n=e.height;return{clipFunc:function(e){e.arc(0,0,2*Math.max(t,n),0,2*Math.PI,!1);var r=new Path2D(l.drawRectPath({x:0,y:0,w:t,h:n}));e._context.clip(r)}}},setRowClip:function(e){var t=e.width,n=e.height,r=e.listHeight,o=e.data,a=o==undefined?[1,2,3]:o;return{clipFunc:function(e){e.arc(0,0,2*Math.max(t,n),0,2*Math.PI,!1);var o=new Path2D(l.drawRowRectClipPath({x:0,y:(n-r*a.length)/2,w:t,h:r*a.length}));e._context.clip(o)}}},setShadowProperty:function(e,t){return{fill:"rgba(0, 0, 0, 1)",shadowColor:e.length?e[4]:"rgba(0, 0, 0, 0.5)",shadowBlur:t,shadowOffset:{x:e.length?e[0]:0,y:e.length?e[1]:e}}},setBaseShadow:function(e,t,n,r,o){var a={},i=2*n;if(0==r)a={clipFunc:function(n){n.arc(0,0,4*Math.max(e,t),0,2*Math.PI,!1);var r=new Path2D(l.drawRectPath({x:i+e/2,y:i+t/2,w:2*e,h:2*t})+" "+l.drawRectPath({x:0,y:0,w:e,h:t,notClockwise:!0}));n._context.clip(r)}};else{var s=r.length?r:[r,r,r,r],u=s[0],c=s[1],d=s[2],f=s[3];a={clipFunc:function(n){n.arc(0,0,4*Math.max(e,t),0,2*Math.PI,!1);var r=new Path2D(l.drawRectPath({x:i+e/2,y:i+t/2,w:2*e,h:2*t})+" "+l.drawAdvanceArcPath({w:e,h:t,rTL:u,rTR:c,rBR:d,rBL:f,notClockwise:!1}));n._context.clip(r)}}}return a},setSingleRadiusClip:function(e,t,n,r){return{clipFunc:function(o){o.arc(0,0,2*Math.max(e,t),0,2*Math.PI,!1);var a=new Path2D(l.drawArcPath({w:e,h:t,r:n,borderWidth:r}));o._context.clip(a)}}},setSpecialCarouselClip:function(e){var t=e.width,n=e.height,r=e.radius,o=e.isMaxRadius,a=Math.min(.8*t,.8*n),i=o?a/2:r>a?a/2:r;return{clipFunc:function(e){e.arc(0,0,2*Math.max(t,n),0,2*Math.PI,!1);var r=new Path2D(l.drawArcPath({x:.1*t,y:0,w:.8*t,h:n,r:i}));e._context.clip(r)}}},setBorderType:function(e,t,n){void 0===n&&(n=0);var o={};return 0==n&&(o.dash=[]),1==n&&(o.dash=[t>2?2*t:3*t,t],o.lineCap="butt"),2==n&&(o.dash=[t/1e3,2*t,.001,2*t],o.lineCap="round"),o=r({stroke:0==t?"":e,strokeWidth:t},o)},setBorderClip:function(e,t,n,r,o,a){void 0===a&&(a="");var i={},s=Math.round(o),l=Math.min(e,t);if(n>0||r);else if(n.length&&!r){var u=Math.max(n[0],n[1],n[2],n[3]);if(u>0){for(var c=Math.min(l/(2*u),1),d=[],p=0;p<4;p++)d.push(f({changeSize:c,borderWidth:s,isArr:!0,radius:n,index:p,isMaxRadius:r,minWidthHeight:l,isShape:!0}));var h=d[0],g=d[1],y=d[2],m=d[3];i={sceneFunc:function(n,r){n.beginPath(),n.arc(h,h,h+s/2,Math.PI,1.5*Math.PI),n.lineTo(e-g,-s/2),n.arc(e-g,g,g+s/2,1.5*Math.PI,2*Math.PI),n.lineTo(e+s/2,t-y),n.arc(e-y,t-y,y+s/2,0,.5*Math.PI),n.lineTo(m,t+s/2),n.arc(m,t-m,m+s/2,.5*Math.PI,Math.PI),n.closePath(),n.fillStrokeShape(r)}}}}return i},setInsetBorderBox:function(e,t,n,r,o,a,i){var s={},l=Math.min(e,t),u=r;if(o.length&&!a){for(var c=Math.max(o[0],o[1],o[2],o[3]),d=Math.min(l/(2*c),1),p=4==o.length,h=[],g=[],y=0;y<4;y++)h.push(f({changeSize:d,borderWidth:u,isArr:p,radius:o,index:y,isMaxRadius:a,minWidthHeight:l,isShape:!0}));for(var m=0;m<4;m++)g.push(o[m]==NaN?0:h[m]>u/2?h[m]:u/2);var _=g[0],v=g[1],b=g[2],w=g[3];s={sceneFunc:function(n){n.beginPath(),n.arc(_,_,_-u/2,Math.PI,1.5*Math.PI),n.lineTo(e-v,u/2),n.arc(e-v,v,v-u/2,1.5*Math.PI,2*Math.PI),n.lineTo(e-u/2,t-b),n.arc(e-b,t-b,b-u/2,0,.5*Math.PI),n.lineTo(w,t-u/2),n.arc(w,t-w,w-u/2,.5*Math.PI,Math.PI),n.closePath(),n.fillStrokeShape(this)},opacity:l<2*u?0:1}}return s},setClipArcRect:function(e,t){void 0===t&&(t=!1);var n={},r=e.width,o=e.height,a=e.radius,i=e.isMaxRadius,s=e.baseContrType,u=e.cutVals,d=e.type,h=Math.min(r,o),g=!1;if("image"==d&&u){var y=Math.round(u.width),m=Math.round(u.height),_=Math.round(u.boxWidth),v=Math.round(u.boxHeight);g=y!=_||m!=v}if((a>0||t||i||g)&&!c.isArray(a)){var b=i||"round"==s?h/2:a>h/2?h/2:a;n=p.setSingleRadiusClip(r,o,b,0)}else if(c.isArray(a)){var w=Math.max(a[0],a[1],a[2],a[3]);if(w>0){for(var C=Math.min(h/(2*w),1),x=[],S=0;S<4;S++)x.push(f({changeSize:C,borderWidth:0,isArr:!0,radius:a,index:S,isMaxRadius:i,minWidthHeight:h,isShape:!1}));var P=x[0],k=x[1],O=x[2],E=x[3];n={clipFunc:function(e){e.arc(0,0,2*Math.max(r,o),0,2*Math.PI,!1);var t=new Path2D(l.drawAdvanceArcPath({w:r,h:o,rTL:P,rTR:k,rBR:O,rBL:E}));e._context.clip(t)}}}}return n},setRadiusClip:function(e,t,n,r,o,a){var i={},s=Math.round(a),l=Math.min(e,t)+s/2,u=Math.min(e,t);if(n>=0||r);else if(4==n.length&&!r){var c=Math.max(n[0],n[1],n[2],n[3]);if(c>0){for(var d=Math.min(l/(2*c),1),p=[],h=0;h<4;h++)p.push(f({changeSize:d,borderWidth:s,isArr:!0,radius:n,index:h,isMaxRadius:r,minWidthHeight:u,isShape:!1}));var g=p[0],y=p[1],m=p[2],_=p[3];i={clipFunc:function(n){n.beginPath(),n.arc(g,g,g+s,Math.PI,1.5*Math.PI),n.lineTo(e-y,-s),n.arc(e-y,y,y+s,1.5*Math.PI,2*Math.PI),n.lineTo(e+s,t-m),n.arc(e-m,t-m,m+s,0,.5*Math.PI),n.lineTo(_,t+s),n.arc(_,t-_,_+s,.5*Math.PI,Math.PI),n.closePath()}}}}return i},setMaxRadius:function(e){var t={},n=e.isMaxRadius,r=e.radius,o=e.height,a=e.width,i=Math.min(a,o),s=n?Math.round(i/2):Math.round(r)>i/2?i/2:Math.round(r);return 0!=r&&(t={cornerRadius:s}),t},setBorderMaxRadius:function(e){var t=e.isMaxRadius,n=e.radius,r=e.height,o=e.width,a=e.border,i=(e.baseContrType,Math.round(a?a[1]:0)),s=Math.min(o,r);return{cornerRadius:t?Math.round(s/2)+i:Math.round(n)>s/2?s/2+i:Math.round(n)+i}},setBtnMaxRadius:function(e){var t={},n=e.btnIsMaxRadius,r=e.btnRadius,o=e.height;0!=r&&(t={cornerRadius:n?Math.round(o/2):r});return t},setRotate:function(e){var t={},n=e.rotate;return 0!=n&&(t={rotation:n}),t},setEllipsis:function(){return{ellipsis:!0,wrap:"none"}},setSelectCompText:function(e){return{width:e.width-22-12}},setTextBgColor:function(e){var t={},n=e.hasBackColor,r=e.backColor;return n&&(t={fill:r}),t},setNormalBorder:function(e){var t={},n=e.btnBorder,r=e.btnBorderColor;return 0!=n&&(t={stroke:r,strokeWidth:Math.round(n)}),t},setDropDownWrapper:function(e){var t=e.btnBorder,n=e.btnBackground;return{x:Math.round(t)/2,y:Math.round(t)/2,fill:n}},setDropDownText:function(e,t){e.height;var n=e.btnFontSize,r=e.btnTextColor,o=e.btnBorder;return{x:9+Math.round(o),y:(t-n)/2,fill:r,fontSize:n}},setDropDownIcon:function(e,t){return{x:e.width-24,y:(t-12)/2-.5,fontSize:12,fill:e.btnTextColor}},setDropSelectIcon:function(e){var t=e.width,n=e.height,r=e.btnTextColor,o=e.btnBorder;e.type;return{x:t-24-o,y:((n>21?n:20)-12)/2-.5,fontSize:12,fill:r}},setbgSlider:function(e,t){return{y:(e.height-e.lineHeight)/2,fill:t}},setRangeMSlider:function(e){var t=e.width,n=e.height,r=e.minVal,o=e.maxVal,a=e.lineHeight,i=e.lineSelectColor;return{x:t*Math.min(r,o)/100,y:(n-a)/2,fill:i}},setRangeMSliderBtn1:function(e){return p.setSliderBtn(r({},e,{value:e.minVal}))},setRangeMSliderBtn2:function(e){return p.setSliderBtn(r({},e,{value:e.maxVal}))},setSliderBtn:function(e){var t=e.height,n=e.width,r=e.value,o=e.btnWidthHeight;return{x:n*r/100,y:(t-o)/2+o/2,fill:e.btnBackground}},setSliderRadius:function(e){var t=e.btnBorder;return{radius:e.btnWidthHeight/2-Math.round(t)/2}},setWhiteSliderBtn:function(e){return{fill:"rgba(255, 255, 255, 1)",stroke:"",strokeWidth:0,opacity:e/100==1?0:1}},setForwardBtn:function(e){var t=e.btnBackground,n=e.btnBorder,r=e.btnRadius;return{x:Math.round(n)/2,y:Math.round(n)/2,fill:t,cornerRadius:r}},setForwardBtnIcon:function(e){var t=e.height,n=t<=25?25:t>=35?35:t;return{x:(n-20)/2,y:(n-20)/2,fill:e.btnTextColor,fontSize:20}},setBackwardBtn:function(e,t){var n=e.total,r=e.btnBackground,o=e.btnBorder,a=e.btnRadius;return{x:(Math.ceil(n)+1)*(t+8)+Math.round(o)/2,y:Math.round(o)/2,fill:r,cornerRadius:a}},setBackwardBtnIcon:function(e,t,n){var r=e.btnTextColor,o=e.total;return{x:(Math.ceil(o)+1)*(t+8)+(t-20)/2,y:(t-n)/2,fill:r,fontSize:n}},setJumpPageText1:function(e,t,n){var r=e.total;return{x:(t+8)*Math.ceil(r+2)+8,y:(t-n)/2+1,fontSize:n,fill:"rgba(0, 0, 0, 0.65)"}},setJumpPageText2:function(e,t,n){var r=e.total;return{x:(t+8)*Math.ceil(r+2)+2*n+8+8+50+8,y:(t-n)/2+1,fontSize:n,fill:"rgba(0, 0, 0, 0.65)"}},setJumpInput:function(e,t,n){var r=e.total,o=e.btnBorderColor;return{x:(t+8)*Math.ceil(r+2)+2*n+8+8+1,y:1,width:49,height:t-1,stroke:o,strokeWidth:1,cornerRadius:4,fill:"rgba(255, 255, 255, 1)"}},setRate:function(e,t,n,r){var o=e.width,a=e.height,i=e.iconSize,s=e.num,l=e.typeIndex,u=Math.ceil(s),c=o,d=0==Math.floor(c/(i+r))?1:Math.floor(c/(i+r));return{x:(i+r)*(t%d)-1.5+(1==l?2:0)+(1==l?0:2),y:(a-Math.ceil(u/d)*n)/2+Math.floor(t/d)*n+2+(n-i)/2+(i<18?0:-2),fontSize:i}},setRateClip:function(e,t,n,r,o,a){e.width;var i=e.height,s=e.iconSize,l=e.value,u=s/2;return{clipFunc:function(e){e.beginPath(),e.moveTo((s+t)*(n%r),(i-a)/2+Math.floor(n/r)*o),e.lineTo((s+t)*(n%r)+u*Math.floor((l-n)/.5)+.5,(i-a)/2+Math.floor(n/r)*o),e.lineTo((s+t)*(n%r)+u*Math.floor((l-n)/.5)+.5,i-(i-a)/2+Math.floor(n/r)*o),e.lineTo((s+t)*(n%r),i-(i-a)/2+Math.floor(n/r)*o),e.closePath()}}},setCarouselImg:function(e,t,n){var r=e.height,o=e.width,a=e.opacity;return{x:(o-t)/2,y:(r-t)/2,fontSize:t,opacity:a/100>n?n:a/100}},setCarouselPoint:function(e,t){var n=e.width,r=e.height,o=e.data,a=e.dotBackground,i=e.dotSelectBackground,s=e.vertical,l=0==o.length?3:o.length,u=s?32:28,c=s?22:20;return{x:s?n-12:(n-u-(l-1)*c)/2+2+(0==t?0:u)+(0==t?0:(t-1)*c),y:s?(r-u-(l-1)*c)/2+2-t+(0==t?0:u)+(0==t?0:(t-1)*c):r-15,fill:0==t?a:i}},setRowCheckboxIcon:function(e,t){var n=e.height,r=e.iconColor,o=e.selectIconColor,a=e.data;return{x:79*t+1+(1==t?-1:0),y:(n-14)/2+1,stroke:r,strokeWidth:1,cornerRadius:2,fill:a?a[t].select?o:"rgba(255, 255, 255, 1)":0==t?o:"rgba(255, 255, 255, 1)"}},setRowCheckboxText:function(e,t){var n=e.height,r=e.fontSize;return{x:24+79*t+(1==t?-1:0),y:(n-r)/2+1.5,fontSize:r,fill:e.textColor}},setColumnCheckboxIcon:function(e,t,n){var r=e.height,o=e.data,a=e.iconColor,i=e.selectIconColor;return{x:1,y:-(21*n.length-r)/2+21*t+4,stroke:a,strokeWidth:1,cornerRadius:2,fill:o?o[t].select?i:"rgba(255, 255, 255, 1)":0==t?i:"rgba(255, 255, 255, 1)"}},setColumnCheckboxText:function(e,t,n){var r=e.height,o=e.fontSize,a=e.textColor;return{x:24,y:-(21*n.length-r)/2+21*t+4.5,fontSize:o,fill:a}},setSwitchWrapper:function(e,t){return{x:.5,y:.5,fill:t,cornerRadius:e.height/2,opacity:e.isLock?.3:1}},setSwitchBtn:function(e,t){return{x:2.5+t,y:2.5,fill:e.btnColor,cornerRadius:e.height/2,shadowBlur:4,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0, 0, 0, 0.21)"}},setSelectText:function(e,t,n){var r=e.btnFontSize,o=e.btnTextColor,a=e.btnBorder;return{x:(t?10:12)+Math.round(a)-1,y:(n-r)/2+.5,fontSize:r,fill:o}},setSelectIcon:function(e,t){var n=e.width,r=e.height;return{x:n-26,y:((r>18?r-1:19)-t)/2,fontSize:14,fill:"rgba(80, 80, 80, 1)"}},setTimePickerIcon:function(e){var t=e.width,n=e.height;return{x:t-25.5,y:((n>18?n-1:19)+1-15)/2,fontSize:15,fill:"rgba(80, 80, 80, 1)"}},setTreeSelect:function(e){var t=e.height,n=e.btnFontSize,r=e.btnTextColor,o=e.btnBorder,a=t>18?t-1:19;return{x:12+Math.round(o),y:((19==a?21:a+1)-n)/2,fontSize:n,fill:r}},setTreeSelectIcon:function(e){var t=e.width,n=e.height;return{x:t-27,y:((n>21?n-1:20)-20)/2+1,fontSize:20,fill:e.btnTextColor}},setCascaderText:function(e){var t=e.height,n=e.btnFontSize;return{x:11+e.btnBorder,y:((t>18?t-1:19)-n)/2+2,fontSize:n,fill:"rgba(80, 80, 80, 1)"}},setCascaderIcon:function(e){var t=e.width,n=e.height;return{x:t-24,y:((n>18?n-1:19)+1-20)/2,fontSize:20,fill:e.btnTextColor}},setTransfer:function(e){return{y:10,width:15,height:15,cornerRadius:2}},setTransferLine:function(){return{stroke:"rgba(232, 232, 232, 1)",strokeWidth:1}},setCarouselText:function(e){var t=e.height,n=e.textColor,r=e.fontSize;return{y:(t-14)/2-1,fill:n,fontSize:Math.round(r)}},setStepperBtnWrapper:function(e){var t={},n=e.btnBackground;return null!=n&&(t={fill:n}),t},setStepperLeftBtn:function(e){var t=e.height,n=e.value,r=e.btnBorder,o=t<14?14:t>35?34:t-1;return{x:Math.round(r)/2,y:(t-o)/2+Math.round(r)/2,opacity:n<=0?.3:1}},setStepperRadius:function(e){var t=e.height,n=e.btnIsMaxRadius,r=e.btnRadius;return{cornerRadius:n?(t<14?14:t>35?34:t-1)/2:r}},setStepperBtnIcon:function(e,t,n){var r=e.width,o=e.height,a=e.value,i=e.btnIconColor,s=e.btnIconSize;return{x:t?(n-s)/2+.5:r-s-(n-s)/2-.5,y:(o-s)/2,fill:i,fontSize:s,opacity:a<=0?.3:1}},setStepperRightBtn:function(e){var t=e.width,n=e.height,r=e.btnBorder,o=e.value,a=e.maxVal,i=n<14?14:n>35?34:n-1;return{x:t<i?0:t-i,y:(n-i)/2+Math.round(r)/2,opacity:o>=a?.3:1}},setStepperValue:function(e){var t=e.height,n=e.fontSize;return{y:(t-n)/2-1,fill:e.textColor,align:"center",fontSize:n}},setPaginationMWrapper:function(e,t){var n=e.height,r=e.width,o=e.btnFontSize,a=e.btnWidth,i=e.btnTextColor,s=e.btnBorder;e.value,e.maxVal,e.opacity;return{x:(t?.5:r<=2*a+26?a+26:r-a)+Math.round(s)/2,y:(n-o)/2+Math.round(s)/2,fontSize:o,fill:i,align:"center"}},setPaginationMNumber:function(e,t){var n=e.height,r=e.width,o=e.fontSize,a=e.activeTextColor,i=e.btnWidth,s=e.textColor;return{x:r<=2*i+37?i+(t?8:13.5):r/2+(t?3.5-o:-o/2+2),y:(n-o)/2+.5,fontSize:14,fill:t?a:s}},setPaginationOpacity:function(e,t){var n={},r=e.opacity,o=e.value,a=e.maxVal,i=r/100;return t?1==o&&(n={opacity:i>.6?.6:i}):t||o==a&&(n={opacity:i>.6?.6:i}),n},setRadioMbg:function(e,t){var n=e.height,r=e.listHeight,o=e.background;return{y:(n-r*t.length)/2,fill:o}},setRadioMLine:function(e,t,n){var r=e.height,o=e.listHeight;return{y:t?(r-o*n.length)/2:(r+o*n.length)/2-1,fill:"rgba(221, 221, 221, 1)"}},setRadioMShortLine:function(e,t,n,r){var o=e.height,a=e.listHeight;e.data;return{x:n?51:15,y:(t+1)*a+(o-a*r.length)/2,fill:"rgba(221, 221, 221, 1)"}},setRadioMText:function(e,t,n){var r=e.height,o=e.listHeight,a=e.fontSize;return{x:15,y:(o-a)/2+t*o+(r-o*n.length)/2,fontSize:Math.round(a)}},setRadioMIcon:function(e,t,n,r){var o=e.width,a=e.height,i=e.selectIconColor,s=e.listHeight;return{x:o-r-15+1,y:(s-r)/2+t*s+(a-s*n.length)/2-1,fill:i,fontSize:r}},setCheckboxMIcon:function(e,t,n,r){var o=e.height,a=e.listHeight;return{x:16+(n?1:0),y:t*a+(a-21)/2+(o-a*r.length)/2+(n?1:0),strokeWidth:1,cornerRadius:10}},setCheckboxMText:function(e,t,n){var r=e.height,o=e.listHeight,a=e.fontSize;return{x:51,y:t*o+(o-a)/2+(r-o*n.length)/2,fontSize:a}},setSwitchM1:function(e){var t=e.height,n=e.checked,r=e.themeColor,o=e.background;return{x:.5,y:.5,fill:n?r:o,cornerRadius:t/2,stroke:n?"":"rgba(229, 229, 229)",strokeWidth:1}},setSwitchM1Btn:function(e){var t=e.width,n=e.height,r=e.checked,o=e.btnColor,i=e.themeColor,s=e.background;return{x:r?t-n+4-.5:1.5,y:2.5,fill:0==a.getRGBAobj(o).a?r?i:s:o,cornerRadius:n/2,shadowBlur:4,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0, 0, 0, 0.21)"}},setSwitchM2:function(e){var t=e.checked,n=e.themeColor,r=e.background;return{x:.5,y:.5,fill:t?n:r,cornerRadius:3}},setSwitchM2Btn:function(e){var t=e.width,n=e.checked,r=e.btnColor,o=e.themeColor,i=e.background;return{x:n?t/2:1,y:1.2,fill:0==a.getRGBAobj(r).a?n?o:i:r,stroke:n?o:i,strokeWidth:.3,cornerRadius:3}},setSwitchM3:function(e){var t=e.height,n=e.checked,o=e.themeColor,i=e.background,s=a.getRGBAobj(o),l=a.rgbaToRgbaStr(r({},s,{a:60}));return{y:.3*t/2,fill:n?l:i,cornerRadius:t/2}},setSwitchM3Btn:function(e){var t=e.width,n=e.height,r=e.checked,o=e.themeColor,a=e.btnColor;return{x:r?t-n:0,fill:r?o:a,cornerRadius:n/2,shadowBlur:4,shadowOffsetX:r?2:1,shadowOffsetY:r?2:1,shadowColor:r?"rgba(0, 0, 0, 0.21)":"rgba(0, 0, 0, 0.5)"}},setMenuMWrapper:function(e){return{y:1,fill:e.background}},setMenuMText:function(e,t,n){var r=e.height,o=e.iconSize,a=e.fontSize;return{x:t+o+n,y:(r-a)/2+.5,fill:e.textColor,fontSize:a}},setMenuMIcon:function(e,t){var n=e.height,r=e.iconSize;return{x:t,y:(n-r)/2+.5,fill:e.iconColor,fontSize:r}},setPickerMTitle:function(e,t,n){var r=e.fontSize;return{x:t,y:(n-r)/2,fill:e.textColor,fontSize:r}},setPickerMChildTitle:function(e,t,n){return{x:e.width-130+15,y:(t-n)/2,fontSize:n,fill:"rgba(136, 136, 136, 1)"}},setMobileSelectWrapper:function(e,t){return{width:e.width,height:t,fill:"rgba(255, 255, 255, 1)"}},setPickerMIcon:function(e,t,n){return{x:e.width-28,y:(t-n)/2+1-1,fill:"rgba(136, 136, 136, 1)",fontSize:n}},setFirstWrapperBorder:function(e,t,n,r){return{sceneFunc:function(o){o.beginPath(),o.arc(n+1,n+1,n,Math.PI,1.5*Math.PI),o.lineTo(1*e/t,1),o.lineTo(1*e/t,r),o.lineTo(n+1,r),o.arc(n+1,r-n,n,.5*Math.PI,Math.PI),o.closePath(),o.fillStrokeShape(this)}}},setLastWrapperBorder:function(e,t,n,r){return{sceneFunc:function(o){o.beginPath(),o.moveTo(e*(t-1)/t,1),o.lineTo(e-n,1),o.arc(e-n-1,n+1,n,1.5*Math.PI,0),o.lineTo(e-1,n+1),o.lineTo(e-1,r-n-1),o.arc(e-n-1,r-n,n,0,.5*Math.PI),o.lineTo(e-n-1,r),o.lineTo(e*(t-1)/t,r),o.lineTo(e*(t-1)/t,1),o.fillStrokeShape(this)}}},setDatePickerM:function(e){var t=e.width,n=e.height;return{x:t-("HH:mm"==e.formatType?69.5:147),y:((n>31?n-1:30)-14)/2-.5,fontSize:14,fill:"rgba(136, 136, 136, 1)"}},setAccordionLine:function(){return{stroke:"rgba(221, 221, 221, 1)",strokeWidth:.5}}};t["default"]=p},function(e,t,n){"use strict";var r=n(639);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==o(e)&&("function"==typeof(t=e.constructor)&&(!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(e,t,n){var r,o=n(186),a=n(110),i=n(188),s=n(189),l=n(190);"undefined"!=typeof ArrayBuffer&&(r=n(191));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),c="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=u||c;t.protocol=3;var f=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=o(f),h={type:"error",data:"parser error"},g=n(192);function y(e,t,n){for(var r=new Array(e.length),o=s(e.length,n),a=function(e,n,o){t(n,function(t,n){r[e]=n,o(t,r)})},i=0;i<e.length;i++)a(i,e[i],o)}t.encodePacket=function(e,n,r,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof r&&(o=r,r=null);var a=e.data===undefined?undefined:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=e.data,a=new Uint8Array(o),i=new Uint8Array(1+o.byteLength);i[0]=f[e.type];for(var s=0;s<a.length;s++)i[s+1]=a[s];return r(i.buffer)}(e,n,o);if(void 0!==g&&a instanceof g)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(d)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){t.encodePacket({type:e.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(e.data)}(e,n,r);var o=new Uint8Array(1);o[0]=f[e.type];var a=new g([o.buffer,e.data]);return r(a)}(e,n,o);if(a&&a.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,o);var i=f[e.type];return undefined!==e.data&&(i+=r?l.encode(String(e.data),{strict:!1}):String(e.data)),o(""+i)},t.encodeBase64Packet=function(e,n){var r,o="b"+t.packets[e.type];if(void 0!==g&&e.data instanceof g){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];n(o+e)},a.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(u){for(var i=new Uint8Array(e.data),s=new Array(i.length),l=0;l<i.length;l++)s[l]=i[l];r=String.fromCharCode.apply(null,s)}return o+=btoa(r),n(o)},t.decodePacket=function(e,n,r){if(e===undefined)return h;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=l.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return h;var o=e.charAt(0);return Number(o)==o&&p[o]?e.length>1?{type:p[o],data:e.substring(1)}:{type:p[o]}:h}o=new Uint8Array(e)[0];var a=i(e,1);return g&&"blob"===n&&(a=new g([a])),{type:p[o],data:a}},t.decodeBase64Packet=function(e,t){var n=p[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var o=r.decode(e.substr(1));return"blob"===t&&g&&(o=new g([o])),{type:n,data:o}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var o=a(e);if(n&&o)return g&&!d?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");y(e,function(e,r){t.encodePacket(e,!!o&&n,!1,function(e){r(null,function(e){return e.length+":"+e}(e))})},function(e,t){return r(t.join(""))})},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===e)return r(h,0,1);for(var a,i,s="",l=0,u=e.length;l<u;l++){var c=e.charAt(l);if(":"===c){if(""===s||s!=(a=Number(s)))return r(h,0,1);if(s!=(i=e.substr(l+1,a)).length)return r(h,0,1);if(i.length){if(o=t.decodePacket(i,n,!1),h.type===o.type&&h.data===o.data)return r(h,0,1);if(!1===r(o,l+a,u))return}l+=a,s=""}else s+=c}return""!==s?r(h,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));y(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var r=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),o=new Uint8Array(r),a=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);n=r.buffer}o[a++]=t?0:1;var s=n.byteLength.toString();for(i=0;i<s.length;i++)o[a++]=parseInt(s[i]);o[a++]=255;for(r=new Uint8Array(n),i=0;i<r.length;i++)o[a++]=r[i]}),n(o.buffer)})},t.encodePayloadAsBlob=function(e,n){y(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,t[0]=0}var a=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),i=new Uint8Array(a.length+1);for(o=0;o<a.length;o++)i[o]=parseInt(a[o]);if(i[a.length]=255,g){var s=new g([t.buffer,i.buffer,e]);n(null,s)}})},function(e,t){return n(new g(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var o=e,a=[];o.byteLength>0;){for(var s=new Uint8Array(o),l=0===s[0],u="",c=1;255!==s[c];c++){if(u.length>310)return r(h,0,1);u+=s[c]}o=i(o,2+u.length),u=parseInt(u);var d=i(o,0,u);if(l)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(g){var f=new Uint8Array(d);d="";for(c=0;c<f.length;c++)d+=String.fromCharCode(f[c])}a.push(d),o=i(o,u)}var p=a.length;a.forEach(function(e,o){r(t.decodePacket(e,n,!0),o,p)})}},,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(6)),s=a(n(34)),l=a(n(324)),u=n(9),c={selectContr:null,selectCell:null,isDraging:!1,isEditing:!1},d={contr:null,selectCell:null,direction:""},f=null,p=window.$,h=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTableData=function(){return c},t.prototype.setTableData=function(e){c=e},t.prototype.setTableDataContr=function(e){c.selectContr=e},t.prototype.setCopySaveCellData=function(e){f=e},t.prototype.getCopySaveCellData=function(){return f},t.prototype.isSelectTableCell=function(){return!!(c&&c.selectContr&&c.selectCell)},t.prototype.setCopySpotData=function(e){d=e},t.prototype.getCopySpotData=function(){return d},t.prototype.isEditingTableCell=function(e){var t=c.selectContr,n=c.selectCell;if(c.isEditing&&t&&n){var r=n[0],o=r.columnIndex,a=r.lineIndex;if(e.columnIndex===o&&e.lineIndex===a)return!0}return!1},t.prototype.isEdting=function(){return c.isEditing},t.prototype.setTableSelectCell=function(e,t){c.selectCell=e,c.isEditing&&(c.isEditing=!1,i["default"].emitMustChange(),s["default"].emitChange()),t||this.emitChange()},t.prototype.setTableCellEdit=function(e,t){c.isEditing=e,t||(i["default"].emitMustChange(),s["default"].emitChange(),this.emitChange())},t.prototype.setTableSelectCellEnd=function(e){c.isDraging&&c.selectCell&&(c.selectCell=[c.selectCell[0],e],this.emitChange())},t.prototype.setDraging=function(e){var t=p.query(".isOnlyOpt");e?p.hasClass(t,"table-cell-draging")||p.addClass(t,"table-cell-draging"):p.hasClass(t,"table-cell-draging")&&p.removeClass(t,"table-cell-draging"),c.isDraging=e},t.prototype.getDraging=function(){return c.isDraging},t.prototype.emitChange=function(){this.emit("change"),p.query(".fill-panel-page")&&l["default"].emitChange()},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(u.EventEmitter));t["default"]=h},function(e,t,n){"use strict";function r(e){return $.isObject(e)&&0===$.objLength(e)}function o(){return-1!=window.navigator.userAgent.toLowerCase().indexOf("lark")}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyObj=r,t.checkIsInFeiShuPC=o,t["default"]={isEmptyObj:r,checkIsInFeiShuPC:o}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=s(n(95)),a=s(n(599)),i=s(n(8));function s(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var l=n(69).EventEmitter,u=2,c=.5,d=240,f={isShow:!1,isLoaded:!1,url:"",image:"",noBtn:!1,noClose:!1,view:null,user:null,currLabel:"info",scale:1,catalog:!0,note:!0,eventTag:!0,noteTag:!0,phoneFrame:!0,mode:"preview",platform:$.getPlatform(window.platform),fromIframe:!1,isMultiView:"true"==$.getUrlParam("multi"),isPrdView:"true"==$.getUrlParam("isprd"),prdFromPreview:!1,multiZoom:"true"==$.getUrlParam("inprd")?.2:.5,hidePrdCoverPage:!1,multiPos:{left:0,top:0},prevMultiPos:{left:0,top:0},multiViewType:"true"==$.getUrlParam("fixed")?"fixed-view":window.projectSet&&window.projectSet.multiViewType||"free-view",isSimplify:!0,isPresentation:!1,selectPage:"",showBackMultiBtn:!1,viewData:{},showPlayBtn:!0},p=[],h=[],g=[],y={},m={scrollHeight:0,scrollWidth:0,scrollLeft:0,scrollTop:0,boxWidth:0};function _(e,t){t?f.scale=t:(10*f.scale%1!=0&&(f.scale=Math.min(Math.max(Math.round(10*f.scale)/10,.5),2)),"in"==e?f.scale<u&&(f.scale=Math.round(10*(f.scale+.1))/10):"out"==e&&f.scale>c&&(f.scale=Math.round(10*(f.scale-.1))/10))}function v(){var e=$.getWinSize(),t=void 0;if("web"==f.platform){t=(e.width-(f.catalog?d:0)-(f.note||"discuss"==f.mode?d:0)-40)/window.phoneSize.width}else{var n=window.phoneModelSizeObj[window.previewFrameSize.type]?window.phoneModelSizeObj[window.previewFrameSize.type][1]:window.previewFrameSize.height+187;t=parseInt((e.height-80)/n*100)/100}f.scale=Math.min(t,1)}function b(e){var t=$.getElById("pageItem"+e);if(!t)return!1;var n=$.getElById("pageList"),r=n.offsetHeight,o=t.offsetTop,a=n.scrollTop;o+30>r+a?n.scrollTop=o:o<a&&(n.scrollTop=a-o-r)}function w(e){f.mode=e,"web"==f.platform&&v()}function C(){f.catalog=!f.catalog,S({catalog:f.catalog}),"web"==f.platform&&v()}function x(){f.note=!f.note,S({note:f.note}),"web"==f.platform&&v()}function S(e){f.fromIframe&&(window.parent.previewPopupSet||(window.parent.previewPopupSet={}),$.extend(!0,window.parent.previewPopupSet,e))}function P(e){$.extend(!0,f,e)}function k(e,t){t.forEach(function(t){if(t){var n=t.type,r=t.isShow,o=r===undefined||r,a=t.key,i=t.folderHierarchy;if("page"==n){if(!o)return;e.push(parseInt(a))}else"folder"==n&&o&&k(e,i)}})}var O=(0,o["default"])({},l.prototype,{init:function(e){f.isShow=!0,$.extend(!0,f,e),O.initPreviewFrameSize();var t=window.document.body;"mobile"==f.platform&&$.addClass(t,"overflowHidden"),"true"==$.getUrlParam("inprd")&&$.addClass(t,"preview-inprd"),"true"==$.getUrlParam("simple")&&$.addClass(t,"preview-simple"),p=[],v(),e.closeFunc&&(f.closeFunc=e.closeFunc),e.noEmit||O.emitChange()},getViewData:function(){return f.viewData},setViewData:function(e){f.viewData=e,O.emitChange()},show:function(e){f.isShow=!0,f.url=e.url,O.emitChange()},zoomFit:function(){v()},exit:function(e){f.isShow=!1,f.closeFunc&&f.closeFunc(),e||O.emitChange(),$.removeClass(window.document.body,"overflowHidden")},setScrollObj:function(e,t){$.extend(!0,m,e),t||O.emitScrollChange()},getScrollObj:function(){return m},initScrollObj:function(){m={scrollHeight:0,scrollWidth:0,scrollLeft:0,scrollTop:0,boxWidth:0}},isShow:function(){return f.isShow},setShowBackMultiBtn:function(e){f.showBackMultiBtn=e},getShowBackMultiBtn:function(){return f.showBackMultiBtn},setPrevMultiPos:function(e){f.prevMultiPos=e},getPrevMultiPos:function(){return f.prevMultiPos},getMultiZoom:function(){return f.multiZoom},setMultiZoom:function(e){f.multiZoom=e,O.emitChange()},toggleMultiView:function(){f.isMultiView=!f.isMultiView,O.emitChange()},setMultiPos:function(e){f.multiPos=e},getMultiPos:function(){return f.multiPos},getShowPlayBtn:function(){return f.showPlayBtn},setShowPlayBtn:function(e){f.showPlayBtn=e,O.emitChange()},setPrdView:function(e){f.isPrdView=e,O.emitChange()},getPrdView:function(){return f.isPrdView},setPrdFromPreview:function(e){f.prdFromPreview=e},changeMultiType:function(e){f.multiViewType=e,O.emitChange()},changeSimplify:function(e){f.isSimplify=e,O.emitChange()},isSimplify:function(){return f.isSimplify},changeIsPresentation:function(e){f.isPresentation=e,O.emitChange()},isPresentation:function(){return f.isPresentation},isMultiView:function(){return f.isMultiView},getMultiViewType:function(){return f.multiViewType},isMultiFreeView:function(){var e=f.isMultiView,t=f.multiViewType;return e&&"free-view"==t},isMultiFixedView:function(){var e=f.isMultiView,t=f.multiViewType;return e&&"fixed-view"==t},getSelectPage:function(){return f.selectPage},setSelectPage:function(e){f.selectPage=e,O.emitChange()},getMode:function(){return f.mode},getPagesArr:function(){return p},getPagesObj:function(){return y},getPage:function(e){return y[e]},getActivePage:function(e){var t=void 0;return p.every(function(n){return!n.active||(t=e?n:n.key,!1)}),t},setIsMultiView:function(e){f.isMultiView=e,O.emitChange()},getIsMultiView:function(){return f.isMultiView},setPagesArr:function(e,t){e&&(f.hideNote=!1,f.hideEventTag=!1,(p=$.extend(!0,[],e)).forEach(function(e){y[e.key]=e}),t||(O.emitChange(),O.emitBtnChange()))},setStructData:function(e){if(!e)return f.catalog=!1,!1;h=0===e.length?p:$.extend(!0,[],e),O.getStructHierarchy(null,!0)},getStructData:function(){return h},getStructHierarchy:function(e,t){return(e||h).map(function(e){if(e){if("page"==e.type)return t&&g.push(parseInt(e.key)),y[e.key];if("folder"==e.type){var n=$.extend(!0,{},e);return n.folderHierarchy=O.getStructHierarchy(e.folderHierarchy,t),n}}return undefined})},getAllShowPageKeyList:function(){var e=[];return k(e,O.getStructHierarchy()),e},getPageKeyList:function(){return g},findStructFolder:function(e,t,n,r,o){var a=n||h;return r||(r={}),a.forEach(function(n,i){n.key==e&&n.type==t&&(r.hierarchy=a,r.val=n,r.index=i,r.parentKey=o),"folder"!=n.type||r.val||O.findStructFolder(e,t,n.folderHierarchy,r,n.key)}),r},changeStructFolderFold:function(e){var t=O.findStructFolder(e,"folder").val;t.fold=!t.fold},structFolderAllFold:function(e,t){(e||h).forEach(function(e){"folder"==e.type&&(e.fold=!t,O.structFolderAllFold(e.folderHierarchy,t))})},changeActivePage:function(e){$.isUndefined(e.currIndex)?p.forEach(function(t){t.key==e.nextKey?t.active=!0:t.active=!1}):(p[e.currIndex].active=!1,p[e.nextIndex].active=!0,e.nextKey=p[e.nextIndex].key);var t=$.query(".edit-box-active .cancel-btn");t&&t.click(),O.initScrollObj(),e.noEmit||(O.emitScrollChange(),O.emitChange()),"page"==f.currLabel&&e.setPos&&b(e.nextKey)},getFrame:function(){return f.url},getNoBtn:function(){return f.noBtn},getNoClose:function(){return f.noClose},getQrcode:function(){return f.image},getPreviewInfo:function(){return f},getHideNote:function(){return f.hideNote},getScale:function(){return f.scale},setHideNote:function(e,t){f.hideNote=e,t||O.emitBtnChange()},getHideEventTag:function(){return f.hideEventTag},setHideEventTag:function(e,t){f.hideEventTag=e,t||O.emitBtnChange()},setHidePrdCoverPage:function(e,t){f.hidePrdCoverPage=e,t||O.emitChange()},initPreviewFrameSize:function(){var e=window.phoneSize||{width:320,height:568,type:"ip5"};window.previewFrameSize=$.extend(!0,{},e),-1!=window.previewFrameSize.type.indexOf("_")&&(window.phoneModelSizeObj[window.previewFrameSize.type]=[window.previewFrameSize.width+36,window.previewFrameSize.height+190,95,95,16])},resetPreviewFrameSize:function(e){$.extend(!0,window.previewFrameSize,e)},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitBtnChange:function(){this.emit("btn-change")},addBtnChangeListener:function(e){this.on("btn-change",e)},removeBtnChangeListener:function(e){this.removeListener("btn-change",e)},emitNoteChange:function(){this.emit("note-change")},addNoteChangeListener:function(e){this.on("note-change",e)},removeNoteChangeListener:function(e){this.removeListener("note-change",e)},emitScrollChange:function(){this.emit("scroll-change")},addScrollChangeListener:function(e){this.on("scroll-change",e)},removeScrollChangeListener:function(e){this.removeListener("scroll-change",e)}});i["default"].register(function(e){switch(e.actionType){case a["default"].PROTOPREVIEW_ZOOM:_(e.type,e.scale),O.emitChange(),O.emitScrollChange();break;case a["default"].PROTOPREVIEW_ZOOMFIT:v(),O.emitChange(),O.emitScrollChange();break;case a["default"].PROTOPREVIEW_SWITCHMODE:w(e.mode),O.emitChange();break;case a["default"].PROTOPREVIEW_TOGGLECATALOG:C(),O.emitChange();break;case a["default"].PROTOPREVIEW_TOGGLENOTE:x(),O.emitChange();break;case a["default"].PROTOPREVIEW_SETPROPS:P(e.options),O.emitChange();break;case a["default"].PROTOPREVIEW_RESETFRAMESIZE:O.resetPreviewFrameSize(e.size),O.emitChange()}});var E,T,M=O;t["default"]=M,(E=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(E.register(l,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register("btn-change","BTN_CHANGE_EVNET","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register("scroll-change","SCROLL_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register("note-change","NOTE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(u,"MAXSCALE","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(c,"MINSCALE","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(d,"SIDEPANELWIDTH","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(f,"previewInfo","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(p,"pagesArr","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(h,"structData","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(g,"pageKeyList","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(y,"pages","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(m,"scrollObj","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(_,"zoom","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(v,"zoomFit","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(b,"setPageItemPos","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(w,"switchMode","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(C,"toggleCatalog","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(x,"toggleNote","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(S,"setParentPageSet","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(P,"setProps","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(k,"getAllShowPageKeys","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(O,"ProtoPreviewStore","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js"),E.register(M,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/ProtoPreviewStore.js")),(T=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&T(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),o=n(18),a=n(226),i=n(21),s=n(258),l=n(20);t.ids={},t.names={};t._removeId=function(e,n){e&&t.ids[e]===n&&delete t.ids[e]},t._addName=function(e,n){n&&(t.names[n]||(t.names[n]=[]),t.names[n].push(e))},t._removeName=function(e,n){if(e){var r=t.names[e];if(r){for(var o=0;o<r.length;o++){r[o]._id===n&&r.splice(o,1)}0===r.length&&delete t.names[e]}}};var u="absoluteOpacity",c="absoluteTransform",d="absoluteScale",f="listening",p="Shape",h="transform",g="visible",y=["id"],m=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" "),_=["scaleXChange.konva","scaleYChange.konva"].join(" "),v=new r.Collection,b=1,w=function(){function e(e){this._id=b++,this.eventListeners={},this.attrs={},this.index=0,this.parent=null,this._cache=new Map,this._lastPos=null,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=v,this.setAttrs(e),this.on(m,function(){this._clearCache(h),this._clearSelfAndDescendantCache(c)}),this.on(_,function(){this._clearSelfAndDescendantCache(d)}),this.on("visibleChange.konva",function(){this._clearSelfAndDescendantCache(g)}),this.on("listeningChange.konva",function(){this._clearSelfAndDescendantCache(f)}),this.on("opacityChange.konva",function(){this._clearSelfAndDescendantCache(u)})}return e.prototype.hasChildren=function(){return!1},e.prototype.getChildren=function(){return v},e.prototype._clearCache=function(e){e?this._cache["delete"](e):this._cache.clear()},e.prototype._getCache=function(e,t){var n=this._cache.get(e);return n===undefined&&(n=t.call(this),this._cache.set(e,n)),n},e.prototype._getCanvasCache=function(){return this._cache.get("canvas")},e.prototype._clearSelfAndDescendantCache=function(e){this._clearCache(e),this._getCanvasCache()||this.children&&this.children.each(function(t){t._clearSelfAndDescendantCache(e)})},e.prototype.clearCache=function(){return this._cache["delete"]("canvas"),this._clearSelfAndDescendantCache(),this},e.prototype.cache=function(e){var t=e||{},n={};t.x!==undefined&&t.y!==undefined&&t.width!==undefined&&t.height!==undefined||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var o=t.width||n.width,i=t.height||n.height,s=t.pixelRatio,l=t.x===undefined?n.x:t.x,c=t.y===undefined?n.y:t.y,f=t.offset||0,p=t.drawBorder||!1;if(o&&i){o+=2*f,i+=2*f,l-=f,c-=f;var h=new a.SceneCanvas({pixelRatio:s,width:o,height:i}),g=new a.SceneCanvas({pixelRatio:s,width:o,height:i}),y=new a.HitCanvas({pixelRatio:1,width:o,height:i}),m=h.getContext(),_=y.getContext();return y.isCache=!0,this._cache["delete"]("canvas"),this._filterUpToDate=!1,m.save(),_.save(),m.translate(-l,-c),_.translate(-l,-c),this._isUnderCache=!0,this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(d),this.drawScene(h,this,!0),this.drawHit(y,this,!0),this._isUnderCache=!1,m.restore(),_.restore(),p&&(m.save(),m.beginPath(),m.rect(0,0,o,i),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set("canvas",{scene:h,filter:g,hit:y,x:l,y:c}),this}r.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},e.prototype.getClientRect=function(e){throw new Error('abstract "getClientRect" method call')},e.prototype._transformedRect=function(e,t){var n,r,o,a,i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=this.getAbsoluteTransform(t);return i.forEach(function(e){var t=s.point(e);n===undefined&&(n=o=t.x,r=a=t.y),n=Math.min(n,t.x),r=Math.min(r,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y)}),{x:n,y:r,width:o-n,height:a-r}},e.prototype._drawCachedSceneCanvas=function(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);var t=this._getCanvasCache();e.translate(t.x,t.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/r,n.height/r),e.restore()},e.prototype._drawCachedHitCanvas=function(e){var t=this._getCanvasCache(),n=t.hit;e.save(),e._applyGlobalCompositeOperation(this),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0),e.restore()},e.prototype._getCachedSceneCanvas=function(){var e,t,n,o,a=this.filters(),i=this._getCanvasCache(),s=i.scene,l=i.filter,u=l.getContext();if(a){if(!this._filterUpToDate){var c=s.pixelRatio;try{for(e=a.length,u.clear(),u.drawImage(s._canvas,0,0,s.getWidth()/c,s.getHeight()/c),t=u.getImageData(0,0,l.getWidth(),l.getHeight()),n=0;n<e;n++)"function"==typeof(o=a[n])?(o.call(this,t),u.putImageData(t,0,0)):r.Util.error("Filter should be type of function, but got "+typeof o+" insted. Please check correct filters")}catch(d){r.Util.error("Unable to apply filter. "+d.message)}this._filterUpToDate=!0}return l}return s},e.prototype.on=function(e,t){if(3===arguments.length)return this._delegate.apply(this,arguments);var n,r,o,a,i=e.split(" "),s=i.length;for(n=0;n<s;n++)o=(r=i[n].split("."))[0],a=r[1]||"",this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:a,handler:t});return this},e.prototype.off=function(e,t){var n,r,o,a,i,s=(e||"").split(" "),l=s.length;if(!e)for(r in this.eventListeners)this._off(r);for(n=0;n<l;n++)if(a=(o=s[n].split("."))[0],i=o[1],a)this.eventListeners[a]&&this._off(a,i,t);else for(r in this.eventListeners)this._off(r,i,t);return this},e.prototype.dispatchEvent=function(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this},e.prototype.addEventListener=function(e,t){return this.on(e,function(e){t.call(this,e.evt)}),this},e.prototype.removeEventListener=function(e){return this.off(e),this},e.prototype._delegate=function(e,t,n){var o=this;this.on(e,function(e){for(var a=e.target.findAncestors(t,!0,o),i=0;i<a.length;i++)(e=r.Util.cloneObject(e)).currentTarget=a[i],n.call(a[i],e)})},e.prototype.remove=function(){return s.DD.node&&s.DD.node===this&&this.stopDrag(),this._remove(),this},e.prototype._remove=function(){this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(u);var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)},e.prototype.destroy=function(){t._removeId(this.id(),this);for(var e=(this.name()||"").split(/\s/g),n=0;n<e.length;n++){var r=e[n];t._removeName(r,this._id)}return this.remove(),this},e.prototype.getAttr=function(e){var t="get"+r.Util._capitalize(e);return r.Util._isFunction(this[t])?this[t]():this.attrs[e]},e.prototype.getAncestors=function(){for(var e=this.getParent(),t=new r.Collection;e;)t.push(e),e=e.getParent();return t},e.prototype.getAttrs=function(){return this.attrs||{}},e.prototype.setAttrs=function(e){var t,n;if(!e)return this;for(t in e)"children"!==t&&(n="set"+r.Util._capitalize(t),r.Util._isFunction(this[n])?this[n](e[t]):this._setAttr(t,e[t]));return this},e.prototype.isListening=function(){return this._getCache(f,this._isListening)},e.prototype._isListening=function(){var e=this.listening(),t=this.getParent();return"inherit"===e?!t||t.isListening():e},e.prototype.isVisible=function(){return this._getCache(g,this._isVisible)},e.prototype._isVisible=function(e){var t=this.visible(),n=this.getParent();return"inherit"===t?!n||n===e||n._isVisible(e):t},e.prototype.shouldDrawHit=function(){var e=this.getLayer();return!e&&this.isListening()&&this.isVisible()||e&&e.hitGraphEnabled()&&this.isListening()&&this.isVisible()},e.prototype.show=function(){return this.visible(!0),this},e.prototype.hide=function(){return this.visible(!1),this},e.prototype.getZIndex=function(){return this.index||0},e.prototype.getAbsoluteZIndex=function(){var e,t,n,r,o=this.getDepth(),a=this,i=0;return"Stage"!==a.nodeType&&function s(l){for(e=[],t=l.length,n=0;n<t;n++)r=l[n],i++,r.nodeType!==p&&(e=e.concat(r.getChildren().toArray())),r._id===a._id&&(n=t);e.length>0&&e[0].getDepth()<=o&&s(e)}(a.getStage().getChildren()),i},e.prototype.getDepth=function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e},e.prototype.setPosition=function(e){return this.x(e.x),this.y(e.y),this},e.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},e.prototype.getAbsolutePosition=function(e){var t=this.getAbsoluteTransform(e).getMatrix(),n=new r.Transform,o=this.offset();return n.m=t.slice(),n.translate(o.x,o.y),n.getTranslation()},e.prototype.setAbsolutePosition=function(e){var t,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,(t=this.getAbsoluteTransform()).invert(),t.translate(e.x,e.y),e={x:this.attrs.x+t.getTranslation().x,y:this.attrs.y+t.getTranslation().y},this.setPosition({x:e.x,y:e.y}),this._setTransform(n),this},e.prototype._setTransform=function(e){var t;for(t in e)this.attrs[t]=e[t];this._clearCache(h),this._clearSelfAndDescendantCache(c)},e.prototype._clearTransform=function(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(h),this._clearSelfAndDescendantCache(c),e},e.prototype.move=function(e){var t=e.x,n=e.y,r=this.x(),o=this.y();return t!==undefined&&(r+=t),n!==undefined&&(o+=n),this.setPosition({x:r,y:o}),this},e.prototype._eachAncestorReverse=function(e,t){var n,r,o=[],a=this.getParent();if(t&&t._id===this._id)e(this);else{for(o.unshift(this);a&&(!t||a._id!==t._id);)o.unshift(a),a=a.parent;for(n=o.length,r=0;r<n;r++)e(o[r])}},e.prototype.rotate=function(e){return this.rotation(this.rotation()+e),this},e.prototype.moveToTop=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},e.prototype.moveUp=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)},e.prototype.moveDown=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)},e.prototype.moveToBottom=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},e.prototype.setZIndex=function(e){if(!this.parent)return r.Util.warn("Node has no parent. zIndex parameter is ignored."),!1;(e<0||e>=this.parent.children.length)&&r.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this},e.prototype.getAbsoluteOpacity=function(){return this._getCache(u,this._getAbsoluteOpacity)},e.prototype._getAbsoluteOpacity=function(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=this.getParent().getAbsoluteOpacity()),e},e.prototype.moveTo=function(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this},e.prototype.toObject=function(){var e,t,n,o,a={},i=this.getAttrs();for(e in a.attrs={},i)t=i[e],r.Util.isObject(t)&&!r.Util._isPlainObject(t)&&!r.Util._isArray(t)||(n="function"==typeof this[e]&&this[e],delete i[e],o=n?n.call(this):null,i[e]=t,o!==t&&(a.attrs[e]=t));return a.className=this.getClassName(),r.Util._prepareToStringify(a)},e.prototype.toJSON=function(){return JSON.stringify(this.toObject())},e.prototype.getParent=function(){return this.parent},e.prototype.findAncestors=function(e,t,n){var r=[];t&&this._isMatch(e)&&r.push(this);for(var o=this.parent;o;){if(o===n)return r;o._isMatch(e)&&r.push(o),o=o.parent}return r},e.prototype.isAncestorOf=function(e){return!1},e.prototype.findAncestor=function(e,t,n){return this.findAncestors(e,t,n)[0]},e.prototype._isMatch=function(e){if(!e)return!1;var t,n,o=e.replace(/ /g,"").split(","),a=o.length;for(t=0;t<a;t++)if(n=o[t],r.Util.isValidSelector(n)||(r.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),r.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),r.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(0!==this._get(n).length)return!0;return!1},e.prototype.getLayer=function(){var e=this.getParent();return e?e.getLayer():null},e.prototype.getStage=function(){return this._getCache("stage",this._getStage)},e.prototype._getStage=function(){var e=this.getParent();return e?e.getStage():undefined},e.prototype.fire=function(e,t,n){return(t=t||{}).target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this},e.prototype.getAbsoluteTransform=function(e){return e?this._getAbsoluteTransform(e):this._getCache(c,this._getAbsoluteTransform)},e.prototype._getAbsoluteTransform=function(e){var t=new r.Transform;return this._eachAncestorReverse(function(e){var n=e.getTransformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.getX()-e.getOffsetX(),e.getY()-e.getOffsetY())},e),t},e.prototype.getAbsoluteScale=function(e){return e?this._getAbsoluteScale(e):this._getCache(d,this._getAbsoluteScale)},e.prototype._getAbsoluteScale=function(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();var n=1,r=1;return this._eachAncestorReverse(function(e){n*=e.scaleX(),r*=e.scaleY()},e),{x:n,y:r}},e.prototype.getTransform=function(){return this._getCache(h,this._getTransform)},e.prototype._getTransform=function(){var e=new r.Transform,t=this.x(),n=this.y(),o=i.Konva.getAngle(this.rotation()),a=this.scaleX(),s=this.scaleY(),l=this.skewX(),u=this.skewY(),c=this.offsetX(),d=this.offsetY();return 0===t&&0===n||e.translate(t,n),0!==o&&e.rotate(o),0===l&&0===u||e.skew(l,u),1===a&&1===s||e.scale(a,s),0===c&&0===d||e.translate(-1*c,-1*d),e},e.prototype.clone=function(e){var t,n,o,a,i,s=r.Util.cloneObject(this.attrs);for(var l in y){delete s[y[l]]}for(t in e)s[t]=e[t];var u=new this.constructor(s);for(t in this.eventListeners)for(o=(n=this.eventListeners[t]).length,a=0;a<o;a++)(i=n[a]).name.indexOf("konva")<0&&(u.eventListeners[t]||(u.eventListeners[t]=[]),u.eventListeners[t].push(i));return u},e.prototype._toKonvaCanvas=function(e){e=e||{};var t=this.getClientRect(),n=this.getStage(),r=e.x!==undefined?e.x:t.x,o=e.y!==undefined?e.y:t.y,i=e.pixelRatio||1,s=new a.SceneCanvas({width:e.width||t.width||(n?n.getWidth():0),height:e.height||t.height||(n?n.getHeight():0),pixelRatio:i}),l=s.getContext();return l.save(),(r||o)&&l.translate(-1*r,-1*o),this.drawScene(s),l.restore(),s},e.prototype.toCanvas=function(e){return this._toKonvaCanvas(e)._canvas},e.prototype.toDataURL=function(e){var t=(e=e||{}).mimeType||null,n=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(r),r},e.prototype.toImage=function(e){if(!e||!e.callback)throw"callback required for toImage method config argument";var t=e.callback;delete e.callback,r.Util._urlToImage(this.toDataURL(e),function(e){t(e)})},e.prototype.setSize=function(e){return this.width(e.width),this.height(e.height),this},e.prototype.getSize=function(){return{width:this.width(),height:this.height()}},e.prototype.getClassName=function(){return this.className||this.nodeType},e.prototype.getType=function(){return this.nodeType},e.prototype.getDragDistance=function(){return this.attrs.dragDistance!==undefined?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance},e.prototype._get=function(e){return this.className===e||this.nodeType===e?[this]:[]},e.prototype._off=function(e,t,n){var r,o,a,i=this.eventListeners[e];for(r=0;r<i.length;r++)if(o=i[r].name,a=i[r].handler,!("konva"===o&&"konva"!==t||t&&o!==t||n&&n!==a)){if(i.splice(r,1),0===i.length){delete this.eventListeners[e];break}r--}},e.prototype._fireChangeEvent=function(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})},e.prototype.setId=function(e){var n=this.id();return t._removeId(n,this),function(e,n){n&&(t.ids[n]&&r.Util.warn('Duplicate id "{id}".\nPlease do not use same id several times, it will break find() method look up.\nIf you have duplicates it is better to use "name" property instead.\n'.replace("{id}",n)),t.ids[n]=e)}(this,e),this._setAttr("id",e),this},e.prototype.setName=function(e){var n,r,o=(this.name()||"").split(/\s/g),a=(e||"").split(/\s/g);for(r=0;r<o.length;r++)n=o[r],-1===a.indexOf(n)&&n&&t._removeName(n,this._id);for(r=0;r<a.length;r++)n=a[r],-1===o.indexOf(n)&&n&&t._addName(this,n);return this._setAttr("name",e),this},e.prototype.addName=function(e){if(!this.hasName(e)){var t=this.name(),n=t?t+" "+e:e;this.setName(n)}return this},e.prototype.hasName=function(e){return-1!==(this.name()||"").split(/\s/g).indexOf(e)},e.prototype.removeName=function(e){var t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.setName(t.join(" "))),this},e.prototype.setAttr=function(e,t){var n=this["set"+r.Util._capitalize(e)];return r.Util._isFunction(n)?n.call(this,t):this._setAttr(e,t),this},e.prototype._setAttr=function(e,t){var n=this.attrs[e];(n!==t||r.Util.isObject(t))&&(t===undefined||null===t?delete this.attrs[e]:this.attrs[e]=t,this._fireChangeEvent(e,n,t))},e.prototype._setComponentAttr=function(e,t,n){var r;n!==undefined&&((r=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))},e.prototype._fireAndBubble=function(e,t,n){if(t&&this.nodeType===p&&(t.target=this),!(("mouseenter"===e||"mouseleave"===e)&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n)))){this._fire(e,t);var r=("mouseenter"===e||"mouseleave"===e)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n.parent):this._fireAndBubble.call(this.parent,e,t))}},e.prototype._fire=function(e,t){var n,r=this.eventListeners[e];if(r)for((t=t||{}).currentTarget=this,t.type=e,n=0;n<r.length;n++)r[n].handler.call(this,t)},e.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},e.prototype.startDrag=function(){var e=this.getStage(),t=this.getLayer(),n=e.getPointerPosition(),r=this.getAbsolutePosition();n&&(s.DD.node&&s.DD.node.stopDrag(),s.DD.node=this,s.DD.startPointerPos=n,s.DD.offset.x=n.x-r.x,s.DD.offset.y=n.y-r.y,s.DD.anim.setLayers(t||this.getLayers()),s.DD.anim.start(),this._setDragPosition())},e.prototype._setDragPosition=function(e){var t=this.getStage().getPointerPosition(),n=this.dragBoundFunc();if(t){var r={x:t.x-s.DD.offset.x,y:t.y-s.DD.offset.y};n!==undefined&&(r=n.call(this,r,e)),this.setAbsolutePosition(r),this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(s.DD.anim.dirty=!0),this._lastPos=r}},e.prototype.stopDrag=function(){var e={};s.DD._endDragBefore(e),s.DD._endDragAfter(e)},e.prototype.setDraggable=function(e){this._setAttr("draggable",e),this._dragChange()},e.prototype.isDragging=function(){return!(!s.DD.node||s.DD.node!==this||!s.DD.isDragging)},e.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){(!(e.evt.button!==undefined)||i.Konva.dragButtons.indexOf(e.evt.button)>=0)&&(s.DD.node||this.startDrag())})},e.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage(),t=s.DD;e&&t.node&&t.node._id===this._id&&t.node.stopDrag()}},e.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},e.create=function(e,t){return r.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)},e._createNode=function(t,n){var o,a,s,l=e.prototype.getClassName.call(t),u=t.children;if(n&&(t.attrs.container=n),i._NODES_REGISTRY[l]||(r.Util.warn('Can not find a node with class name "'+l+'". Fallback to "Shape".'),l="Shape"),o=new(0,i._NODES_REGISTRY[l])(t.attrs),u)for(a=u.length,s=0;s<a;s++)o.add(e._createNode(u[s]));return o},e}();t.Node=w,w.prototype.nodeType="Node",w.prototype._attrsAffectingSize=[],o.Factory.addGetterSetter(w,"zIndex"),o.Factory.addGetterSetter(w,"absolutePosition"),o.Factory.addGetterSetter(w,"position"),o.Factory.addGetterSetter(w,"x",0,l.getNumberValidator()),o.Factory.addGetterSetter(w,"y",0,l.getNumberValidator()),o.Factory.addGetterSetter(w,"globalCompositeOperation","source-over",l.getStringValidator()),o.Factory.addGetterSetter(w,"opacity",1,l.getNumberValidator()),o.Factory.addGetterSetter(w,"name","",l.getStringValidator()),o.Factory.addGetterSetter(w,"id","",l.getStringValidator()),o.Factory.addGetterSetter(w,"rotation",0,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(w,"scale",["x","y"]),o.Factory.addGetterSetter(w,"scaleX",1,l.getNumberValidator()),o.Factory.addGetterSetter(w,"scaleY",1,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(w,"skew",["x","y"]),o.Factory.addGetterSetter(w,"skewX",0,l.getNumberValidator()),o.Factory.addGetterSetter(w,"skewY",0,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(w,"offset",["x","y"]),o.Factory.addGetterSetter(w,"offsetX",0,l.getNumberValidator()),o.Factory.addGetterSetter(w,"offsetY",0,l.getNumberValidator()),o.Factory.addGetterSetter(w,"dragDistance",null,l.getNumberValidator()),o.Factory.addGetterSetter(w,"width",0,l.getNumberValidator()),o.Factory.addGetterSetter(w,"height",0,l.getNumberValidator()),o.Factory.addGetterSetter(w,"listening","inherit",function(e){return!0===e||!1===e||"inherit"===e||r.Util.warn(e+' is a not valid value for "listening" attribute. The value may be true, false or "inherit".'),e}),o.Factory.addGetterSetter(w,"preventDefault",!0,l.getBooleanValidator()),o.Factory.addGetterSetter(w,"filters",null,function(e){return this._filterUpToDate=!1,e}),o.Factory.addGetterSetter(w,"visible","inherit",function(e){return!0===e||!1===e||"inherit"===e||r.Util.warn(e+' is a not valid value for "visible" attribute. The value may be true, false or "inherit".'),e}),o.Factory.addGetterSetter(w,"transformsEnabled","all",l.getStringValidator()),o.Factory.addGetterSetter(w,"size"),o.Factory.addGetterSetter(w,"dragBoundFunc"),o.Factory.addGetterSetter(w,"draggable",!1,l.getBooleanValidator()),o.Factory.backCompat(w,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),r.Collection.mapMethods(w)},function(e,t,n){"use strict";t.a=function(e,t){}},,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(49)),i=r(n(42));function s(e){var t=l();return!t||-1!=function(e){var t=[];for(var n in e)t.push(n+"");return t}(t.pageVal).indexOf(e+"")}function l(){var e=window.isPrototypeTool?o["default"].isFreeView():i["default"].isMultiFreeView(),t=a["default"].getSelectPageFlow();return e&&t}function u(e){var t=a["default"].getSelectPageFlow();return!!(t&&t.pageVal&&t.pageVal[e])}function c(){var e=l();return e&&e.pageVal}t.isAddThisCanvasPage=s,t.getPageFlow=l,t.getPageFlowPages=function(){var e=o["default"].getPages(),t=c(),n={};for(var r in t)e[r]&&(n[r]=t[r]);return n},t.pageIsInPageFlow=u,t.getPageFlowPageVal=c,t["default"]={isAddThisCanvasPage:s,getPageFlow:l,pageIsInPageFlow:u,getPageFlowPageVal:c}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(289)),i=n(96).getHsbaFromColor,s=window.$,l={colorMouseDown:function(e,t){var r=n(6)["default"],o=n(230)["default"],a=t.contr,l=t.name,u=t.colorSet.valKey,c=t.defaultColor,d=t.setChangeValFunc,f=s.isArray(u)?u[0]:u,p=r.getSelect(),h=c||a[f];o.init({hsba:i(h),name:"["+a.name+"] "+l+"改变",handleObjType:a.type,type:f+"SetChange",target:e.target,isLeft:!0,isBottom:!1,callback:function(e,t){var n=setTimeout(function(){var o="rgba("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+", "+e.a/100+")",a={};d?a=d(o):s.isArray(u)?u.forEach(function(e){s.isFunction(e)?a=s.extend(!0,a,e(o)):a[e]=o}):a[u]=o,p.forEach(function(e){r.contrUpdate(e,a,!1,!0)}),r.emitChange(),clearTimeout(n)},0)}})},typeChange:function(e,t){var o=n(6)["default"],a=e.currentTarget.getAttribute("data-type");if(!s.hasClass(e.currentTarget,"active")){var i=o.getSelectContr();if(i.length>0){var l=i[0],u=parseInt(a),c=t?t(u):{};if(i.forEach(function(e){o.contrUpdate(s.getContrId(e),r({typeIndex:u},c),!1,!0)}),i&&i.length>0){var d=n(10)["default"];o.initCache(),o.emitChange(),d.createData({type:"typeIndexChange",name:"["+(i&&i.length>1?"多个组件":l.name)+"] 修改样式类型",handleObjType:i&&i.length>1?"mutiContr":l.type,autoSaveType:"pageContrs"});var f=s.query(".list-data-title");f&&f.click()}}}},changeContrVal:function(e){var t=n(6)["default"],o=e.val,a=e.key,i=e.handleType,l=e.handleName,u=e.isOriginal,c=void 0!==u&&u,d=e.noDeepCopy,f=void 0!==d&&d,p=e.noSaveHandle,h=void 0!==p&&p,g=e.contrId,y=e.valObj,m=g&&t.getContrByAll(g),_=m?[m]:t.getSelectContr();if(_&&_.length>0){_[0];if(_.forEach(function(e){var n;t.contrUpdate(s.getContrId(e),r(((n={})[""+a]=o,n),y),c,!0,f)}),t.initCache(),t.emitChange(),!h){var v=n(10)["default"],b=t.getFirstSelectContr();v.createData({type:i,name:"["+(_&&_.length>1?"多个组件":b.name)+"] "+l,handleObjType:_&&_.length>1?"mutiContr":b.type,autoSaveType:"pageContrs"})}if("changeCarouselImgData"==i){var w=s("#carouselImgTitle")[0];w&&w.click()}}},changeContrData:function(e,t,n){void 0===n&&(n={}),l.changeContrVal(r({key:"data",val:e,isOriginal:!0,noDeepCopy:!0,handleType:t+"ChangeData"},n,{handleName:a["default"](t)+"数据修改"}))},changeCarouselImgData:function(e,t){void 0===t&&(t={}),l.changeContrVal(r({val:e,key:"data",handleType:"changeCarouselImgData",handleName:"修改轮播图数据",isOriginal:!0,noDeepCopy:!0},t))},changeTableData:function(e,t,n){void 0===n&&(n={});var o=[];switch(t){case"miniBar":case"bar":case"horizontalBar":case"miniArea":case"lineChart":case"circle":case"pie":if(e.forEach(function(e,t){for(var n in e)if(""!=e[n])return void o.push(e)}),o.length<2){o[0]||(o=[{x:"",y:""}]);var a=s.extend(!0,{},o[0]);for(var i in a)a[i]="";o.push(a)}var u={},c=!0;o.forEach(function(e,t){for(var n in e)s.isUndefined(u[n])&&(u[n]=!1),e[n]&&""!=e[n]&&(u[n]=!0,0!=t&&c&&(c=!1))}),c&&(o[0].y=""===o[0].y?10:+o[0].y||0,o[1].y=""===o[1].y?10:+o[1].y||0),o.forEach(function(e,t){for(var n in u)"x"!=n&&(e[n]="y"!=n?u[n]?+e[n]:"":u[n]||c?+e[n]:"")});break;case"timelineChart":var d,f=!1,p=!1;e.forEach(function(e,t){""===e.labelVal&&""===e.nameVal?d||(d=s.extend(!0,{},e)):o.push(e),""!=e.labelVal&&(f=!0),""!=e.nameVal&&(p=!0)});var h=void 0;h=f||p?f?{labelVal:10}:{nameVal:10}:{labelVal:10,nameVal:10};for(var g=s.extend(!0,{},d),y=s.extend(!0,g,h);o.length<5;)o.push(y);for(;o.length<30;)o.push(d);o.forEach(function(e){p&&""!==e.labelVal&&""===e.nameVal&&(e.nameVal=10),f&&""!==e.nameVal&&""===e.labelVal&&(e.labelVal=10)});break;case"radar":var m=[],_=[],v=e[0].name,b=0,w=0,C=!1;e.forEach(function(e,t){v!=e.name?(b>=1?(_.push(v),C=!0):C||(m=[]),b>w&&(w=b),v=e.name,b=0,""!==e.value?b++:C||m.push(e.label)):v==e.name&&""!==e.value?b++:v!=e.name||""!==e.value||C||m.push(e.label)}),w<3&&(_.length?(m.length=3-w,e.forEach(function(e,t){-1!=_.indexOf(e.name)&&-1!=m.indexOf(e.label)&&(e.value=10)})):e.forEach(function(e,t){t<3&&(e.value=10)})),o=e}l.changeContrVal(r({val:o,key:"data",handleType:"changeTableData",handleName:"修改图表数据",isOriginal:!0,noDeepCopy:!0},n))},changeTableHead:function(e,t){void 0===t&&(t={}),l.changeContrVal(r({val:s.extend(!0,[],e),key:"headArr",handleType:"changeTableHead",handleName:"修改图表表头",isOriginal:!0,noDeepCopy:!0},t))}};t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(366)),l=a(n(8)),u=n(150),c={left:0,top:0},d={left:0,top:0};if(window.isPc){var f=$.getMidPosi(),p=parseInt(window.pSize),h=(f[2]-p-45)/2;d={left:66+(h>0?h:0),top:66}}var g,y={left:0,top:0},m=[0,0],_={},v=!1,b=!1,w=null,C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.savePrevPos=function(){c={left:d.left,top:d.top}},t.prototype.setTransition=function(e){v=e},t.prototype.getTransition=function(){return v},t.prototype.getOptimizationTimer=function(){return w},t.prototype.setOptimizationTimer=function(e){w=e},t.prototype.changePrevPos=function(e){c.left+=parseInt(e.left),c.top+=parseInt(e.top)},t.prototype.replacePrevPos=function(){var e=$.extend(!0,{},d);$.extend(d,c),$.extend(c,e),n(5)["default"].isMultiFixed()&&(d.left=0)},t.prototype.getPrevPos=function(){return c},t.prototype.getCurPos=function(){return d},t.prototype.saveBeforeMovePos=function(){y={left:d.left,top:d.top}},t.prototype.getDspl=function(){return[d.left-y.left,d.top-y.top]},t.prototype.savePageMoveDspl=function(e,t){m=e,_=t},t.prototype.getPageMoveDspl=function(){return{pageMoveDspl:m,pageOldPosi:_}},t.prototype.emitChange=function(){this.emit("change")},t.prototype.setPageCenter=function(e){var t=e?window.phoneSize.width:window.phoneSize.height;return{left:window.document.body.clientWidth/2,top:u.midMainboxPosi(e).top+t/2}},t.prototype.resetFixedViewPos=function(){g||(g={}),g.left=d.left,g.top=d.top,d.left=0,d.top=0},t.prototype.resetFreeViewPos=function(){g&&(d.left=g.left,d.top=g.top)},t.prototype.setOptimization=function(e){b=e},t.prototype.getOptimization=function(){return b},t.prototype.optimizationOn=function(){b=!0},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter);l["default"].register(function(e){switch(e.actionType){case s["default"].PHONECONBOX_OPTIMIZATIONOFF:b=!1,x.emitChange();break;case s["default"].PHONECONBOX_OPTIMIZATIONON:b=!0,x.emitChange()}});var x=new C;t["default"]=x},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=n(9),l={hierarchy:[],flows:{}},u="all";var c=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getPageFlowNum=function(){return $.objLength(l.flows)},t.prototype.getAllPageFlow=function(){return l},t.prototype.setAllPageFlow=function(e,t){void 0===t&&(t=!1),l=$.extend(!0,{hierarchy:[],flows:{}},e),t||c.emitChange()},t.prototype.getPageFlowList=function(){var e=!1,t=[];return(l.hierarchy||[]).forEach(function(n){l.flows[n]?t.push(l.flows[n]):(console.log("流程存在脏数据!!!"),e=!0)}),e&&(l.hierarchy=(l.hierarchy||[]).filter(function(e){return!!l.flows[e]})),t},t.prototype.setSelectPageFlowKey=function(e){var t=e.selectKey,n=e.noEmit;u=t,void 0!==n&&n||c.emitChange()},t.prototype.getSelectPageFlowKey=function(){return u},t.prototype.getSelectPageFlow=function(){return u&&"all"!=u?l.flows[u]:null},t.prototype.getSelectPageFlowNum=function(){var e=c.getSelectPageFlow();return(e?$.objLength(e.pageVal):0)||0},t.prototype.getOnePageFlow=function(e){return l.flows[e]},t.prototype.changeHierarchy=function(e){var t=e.noEmit,n=void 0!==t&&t,r=e.hierarchy;l.hierarchy=r,n||c.emitChange()},t.prototype.createPageFlow=function(e){var t=e.noEmit,n=void 0!==t&&t,r=e.createVal,o=r.id;l.hierarchy.push(o),l.flows[o]=r,c.setSelectPageFlowKey({selectKey:o,noEmit:!0}),n||c.emitChange()},t.prototype.deletePageFlow=function(e){var t=e.noEmit,n=void 0!==t&&t,r=e.id;l.hierarchy.remove(r),delete l.flows[r],u==r&&c.setSelectPageFlowKey({selectKey:"all",noEmit:!0}),n||c.emitChange()},t.prototype.updatePageFlow=function(e){var t=e.id,n=e.noEmit,r=void 0!==n&&n,o=e.updateVal;$.extend(!0,l.flows[t],o),r||c.emitChange()},t.prototype.updateOnePageFlowData=function(e){var t,n=e.noEmit,r=void 0!==n&&n,o=e.updateVal,a=e.key,i=c.getSelectPageFlow();i&&$.extend(!0,i,{pageVal:(t={},t[a]=o,t)}),r||c.emitChange()},t.prototype.updateSelectPageFlowData=function(e){var t=e.noEmit,n=void 0!==t&&t,r=e.updateVal,o=c.getSelectPageFlow();o&&$.extend(!0,o,r),n||c.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(s.EventEmitter));i["default"].register(function(e){e.actionType}),t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(22),s=n(18),l=n(43),u=n(20),c=n(21),d="hasShadow",f="shadowRGBA",p="patternImage",h="linearGradient",g="radialGradient";function y(){return a||(a=i.Util.createCanvasElement().getContext("2d"))}function m(){this._clearCache(d)}function _(){this._clearCache(f)}function v(){this._clearCache(p)}function b(){this._clearCache(h)}function w(){this._clearCache(g)}t.shapes={};var C=function(e){function n(n){for(var r,o=e.call(this,n)||this;!(r=i.Util.getRandomColor())||r in t.shapes;);return o.colorKey=r,t.shapes[r]=o,o.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",m),o.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),o.on("fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva",v),o.on("fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",b),o.on("fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",w),o}return o(n,e),n.prototype.getContext=function(){return this.getLayer().getContext()},n.prototype.getCanvas=function(){return this.getLayer().getCanvas()},n.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},n.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},n.prototype.hasShadow=function(){return this._getCache(d,this._hasShadow)},n.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},n.prototype._getFillPattern=function(){return this._getCache(p,this.__getFillPattern)},n.prototype.__getFillPattern=function(){if(this.fillPatternImage())return y().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat")},n.prototype._getLinearGradient=function(){return this._getCache(h,this.__getLinearGradient)},n.prototype.__getLinearGradient=function(){var e=this.fillLinearGradientColorStops();if(e){for(var t=y(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),o=t.createLinearGradient(n.x,n.y,r.x,r.y),a=0;a<e.length;a+=2)o.addColorStop(e[a],e[a+1]);return o}},n.prototype._getRadialGradient=function(){return this._getCache(g,this.__getRadialGradient)},n.prototype.__getRadialGradient=function(){var e=this.fillRadialGradientColorStops();if(e){for(var t=y(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),o=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),a=0;a<e.length;a+=2)o.addColorStop(e[a],e[a+1]);return o}},n.prototype.getShadowRGBA=function(){return this._getCache(f,this._getShadowRGBA)},n.prototype._getShadowRGBA=function(){if(this.hasShadow()){var e=i.Util.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}},n.prototype.hasFill=function(){return!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())},n.prototype.hasStroke=function(){return this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())},n.prototype.intersects=function(e){var t=this.getStage().bufferHitCanvas;return t.getContext().clear(),this.drawHit(t),t.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0},n.prototype.destroy=function(){return l.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this},n.prototype._useBufferCanvas=function(e){return(!e||this.hasShadow())&&this.perfectDrawEnabled()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()},n.prototype.setStrokeHitEnabled=function(e){e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},n.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},n.prototype.getSelfRect=function(){var e=this.size();return{x:this._centroid?Math.round(-e.width/2):0,y:this._centroid?Math.round(-e.height/2):0,width:e.width,height:e.height}},n.prototype.getClientRect=function(e){var t=(e=e||{}).skipTransform,n=e.relativeTo,r=this.getSelfRect(),o=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=r.width+o,i=r.height+o,s=!e.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,u=s?this.shadowOffsetY():0,c=a+Math.abs(l),d=i+Math.abs(u),f=s&&this.shadowBlur()||0,p=c+2*f,h=d+2*f,g=0;Math.round(o/2)!==o/2&&(g=1);var y={width:p+g,height:h+g,x:-Math.round(o/2+f)+Math.min(l,0)+r.x,y:-Math.round(o/2+f)+Math.min(u,0)+r.y};return t?y:this._transformedRect(y,n)},n.prototype.drawScene=function(e,t,n,r){var o,a,i=this.getLayer(),s=e||i.getCanvas(),l=s.getContext(),u=this._getCanvasCache(),c=this.sceneFunc(),d=this.hasShadow(),f=this.hasStroke();if(!this.isVisible()&&!n)return this;if(u)return l.save(),i._applyTransform(this,l,t),this._drawCachedSceneCanvas(l),l.restore(),this;if(!c)return this;if(l.save(),this._useBufferCanvas(n)&&!r){if((a=(o=this.getStage().bufferCanvas).getContext()).clear(),a.save(),a._applyLineJoin(this),!n)if(i)i._applyTransform(this,a,t);else{var p=this.getAbsoluteTransform(t).getMatrix();l.transform(p[0],p[1],p[2],p[3],p[4],p[5])}c.call(this,a,this),a.restore();var h=o.pixelRatio;d&&!s.hitCanvas?(l.save(),l._applyShadow(this),l._applyOpacity(this),l._applyGlobalCompositeOperation(this),l.drawImage(o._canvas,0,0,o.width/h,o.height/h),l.restore()):(l._applyOpacity(this),l._applyGlobalCompositeOperation(this),l.drawImage(o._canvas,0,0,o.width/h,o.height/h))}else{if(l._applyLineJoin(this),!n)if(i)i._applyTransform(this,l,t);else{var g=this.getAbsoluteTransform(t).getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5])}d&&f&&!s.hitCanvas?(l.save(),n||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),l._applyShadow(this),c.call(this,l,this),l.restore(),this.hasFill()&&this.shadowForStrokeEnabled()&&c.call(this,l,this)):d&&!s.hitCanvas?(l.save(),n||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),l._applyShadow(this),c.call(this,l,this),l.restore()):(n||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),c.call(this,l,this))}return l.restore(),this},n.prototype.drawHit=function(e,t,n){var r=this.getLayer(),o=e||r.hitCanvas,a=o&&o.getContext(),s=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),u=l&&l.hit;if(this.colorKey||i.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()"),!this.shouldDrawHit()&&!n)return this;if(u)return a.save(),r._applyTransform(this,a,t),this._drawCachedHitCanvas(a),a.restore(),this;if(!s)return this;if(a.save(),a._applyLineJoin(this),!n)if(r)r._applyTransform(this,a,t);else{var c=this.getAbsoluteTransform(t).getMatrix();a.transform(c[0],c[1],c[2],c[3],c[4],c[5])}return s.call(this,a,this),a.restore(),this},n.prototype.drawHitFromCache=function(e){var t,n,r,o,a,s=e||0,l=this._getCanvasCache(),u=this._getCachedSceneCanvas(),c=l.hit,d=c.getContext(),f=c.getWidth(),p=c.getHeight();d.clear(),d.drawImage(u._canvas,0,0,f,p);try{for(r=(n=(t=d.getImageData(0,0,f,p)).data).length,o=i.Util._hexToRgb(this.colorKey),a=0;a<r;a+=4)n[a+3]>s?(n[a]=o.r,n[a+1]=o.g,n[a+2]=o.b,n[a+3]=255):n[a+3]=0;d.putImageData(t,0,0)}catch(h){i.Util.error("Unable to draw hit graph from cached scene canvas. "+h.message)}return this},n}(l.Node);t.Shape=C,C.prototype._fillFunc=function(e){e.fill()},C.prototype._strokeFunc=function(e){e.stroke()},C.prototype._fillFuncHit=function(e){e.fill()},C.prototype._strokeFuncHit=function(e){e.stroke()},C.prototype._centroid=!1,C.prototype.nodeType="Shape",c._registerNode(C),s.Factory.addGetterSetter(C,"stroke",undefined,u.getStringValidator()),s.Factory.addGetterSetter(C,"strokeWidth",2,u.getNumberValidator()),s.Factory.addGetterSetter(C,"hitStrokeWidth","auto",u.getNumberOrAutoValidator()),s.Factory.addGetterSetter(C,"strokeHitEnabled",!0,u.getBooleanValidator()),s.Factory.addGetterSetter(C,"perfectDrawEnabled",!0,u.getBooleanValidator()),s.Factory.addGetterSetter(C,"shadowForStrokeEnabled",!0,u.getBooleanValidator()),s.Factory.addGetterSetter(C,"lineJoin"),s.Factory.addGetterSetter(C,"lineCap"),s.Factory.addGetterSetter(C,"sceneFunc"),s.Factory.addGetterSetter(C,"hitFunc"),s.Factory.addGetterSetter(C,"dash"),s.Factory.addGetterSetter(C,"dashOffset",0,u.getNumberValidator()),s.Factory.addGetterSetter(C,"shadowColor",undefined,u.getStringValidator()),s.Factory.addGetterSetter(C,"shadowBlur",0,u.getNumberValidator()),s.Factory.addGetterSetter(C,"shadowOpacity",1,u.getNumberValidator()),s.Factory.addComponentsGetterSetter(C,"shadowOffset",["x","y"]),s.Factory.addGetterSetter(C,"shadowOffsetX",0,u.getNumberValidator()),s.Factory.addGetterSetter(C,"shadowOffsetY",0,u.getNumberValidator()),s.Factory.addGetterSetter(C,"fillPatternImage"),s.Factory.addGetterSetter(C,"fill",undefined,u.getStringValidator()),s.Factory.addGetterSetter(C,"fillPatternX",0,u.getNumberValidator()),s.Factory.addGetterSetter(C,"fillPatternY",0,u.getNumberValidator()),s.Factory.addGetterSetter(C,"fillLinearGradientColorStops"),s.Factory.addGetterSetter(C,"strokeLinearGradientColorStops"),s.Factory.addGetterSetter(C,"fillRadialGradientStartRadius",0),s.Factory.addGetterSetter(C,"fillRadialGradientEndRadius",0),s.Factory.addGetterSetter(C,"fillRadialGradientColorStops"),s.Factory.addGetterSetter(C,"fillPatternRepeat","repeat"),s.Factory.addGetterSetter(C,"fillEnabled",!0),s.Factory.addGetterSetter(C,"strokeEnabled",!0),s.Factory.addGetterSetter(C,"shadowEnabled",!0),s.Factory.addGetterSetter(C,"dashEnabled",!0),s.Factory.addGetterSetter(C,"strokeScaleEnabled",!0),s.Factory.addGetterSetter(C,"fillPriority","color"),s.Factory.addComponentsGetterSetter(C,"fillPatternOffset",["x","y"]),s.Factory.addGetterSetter(C,"fillPatternOffsetX",0,u.getNumberValidator()),s.Factory.addGetterSetter(C,"fillPatternOffsetY",0,u.getNumberValidator()),s.Factory.addComponentsGetterSetter(C,"fillPatternScale",["x","y"]),s.Factory.addGetterSetter(C,"fillPatternScaleX",1,u.getNumberValidator()),s.Factory.addGetterSetter(C,"fillPatternScaleY",1,u.getNumberValidator()),s.Factory.addComponentsGetterSetter(C,"fillLinearGradientStartPoint",["x","y"]),s.Factory.addComponentsGetterSetter(C,"strokeLinearGradientStartPoint",["x","y"]),s.Factory.addGetterSetter(C,"fillLinearGradientStartPointX",0),s.Factory.addGetterSetter(C,"strokeLinearGradientStartPointX",0),s.Factory.addGetterSetter(C,"fillLinearGradientStartPointY",0),s.Factory.addGetterSetter(C,"strokeLinearGradientStartPointY",0),s.Factory.addComponentsGetterSetter(C,"fillLinearGradientEndPoint",["x","y"]),s.Factory.addComponentsGetterSetter(C,"strokeLinearGradientEndPoint",["x","y"]),s.Factory.addGetterSetter(C,"fillLinearGradientEndPointX",0),s.Factory.addGetterSetter(C,"strokeLinearGradientEndPointX",0),s.Factory.addGetterSetter(C,"fillLinearGradientEndPointY",0),s.Factory.addGetterSetter(C,"strokeLinearGradientEndPointY",0),s.Factory.addComponentsGetterSetter(C,"fillRadialGradientStartPoint",["x","y"]),s.Factory.addGetterSetter(C,"fillRadialGradientStartPointX",0),s.Factory.addGetterSetter(C,"fillRadialGradientStartPointY",0),s.Factory.addComponentsGetterSetter(C,"fillRadialGradientEndPoint",["x","y"]),s.Factory.addGetterSetter(C,"fillRadialGradientEndPointX",0),s.Factory.addGetterSetter(C,"fillRadialGradientEndPointY",0),s.Factory.addGetterSetter(C,"fillPatternRotation",0),s.Factory.backCompat(C,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),i.Collection.mapMethods(C)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=n(365),l=n(9),u=100;var c=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getZoom=function(){return u},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(l.EventEmitter));i["default"].register(function(e){switch(e.actionType){case s.ZoomActionID.ZOOM_CHANGE:t=e.zoom,u=t,c.emitChange()}var t}),t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(1258)),f=n(1259),p=l(n(97)),h=n(28),g=window.isPrototypeTool,y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.getProps=function(){var e=this.props,t=e.cssData,n=e.setArr,r={cssData:t,setArr:n,renderArr:[]},o=r.renderArr;return f.getRenderVal(n,o),o.forEach(function(e){$.isArray(e)?r[e[0]]=e[1](t):r[e]=t[e]}),r},t.prototype.rotationMask=function(e){var t=e.width,n=e.height,r=e.rotate,o=$.getRotateWH($.rotateToAngle(r,!0),[t,n]);$.fixRotateWH(o,r);var a=p["default"].getRotateOffPosi(r,t,n,o),i=a.offX,s=a.offY;return u["default"].createElement(h.Rect,{offsetX:i,offsetY:s,width:o.w,height:o.h,fill:"transparent",rotation:-r})},t.prototype.render=function(){var e=this.props,t=e.cssData,n=e.cssData,r=n.width,o=n.height,i=n.type;return u["default"].createElement(d["default"],a({cssData:t},this.getProps()),"wrapbox"==i&&g?u["default"].createElement(h.Rect,{width:r,height:o}):undefined,this.props.children,t.rotate&&g?this.rotationMask(t):undefined,"wrapbox"!=i&&g?u["default"].createElement(h.Rect,{width:r,height:o}):undefined)},i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getProps",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"rotationMask",null),t}(u["default"].Component);t["default"]=y},function(e,t,n){(function(r){function o(){var e;try{e=t.storage.debug}catch(n){}return!e&&void 0!==r&&"env"in r&&(e=Object({NODE_ENV:"production"}).DEBUG),e}(t=e.exports=n(175)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(a=o))}),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=o,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(o())}).call(this,n(58))},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(r){function o(){var e;try{e=t.storage.debug}catch(n){}return!e&&void 0!==r&&"env"in r&&(e=Object({NODE_ENV:"production"}).DEBUG),e}(t=e.exports=n(193)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(a=o))}),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=o,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(o())}).call(this,n(58))},function(e,t,n){e.exports=function(e){Promise.all([n.e(1),n.e(2),n.e(40)]).then(function(t){e(n(965))}.bind(null,n))["catch"](n.oe)}},function(e,t){var n,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},,function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1)),i=o(n(606)),s=o(n(361)),l=o(n(586)),u=o(n(33)),c=o(n(704)),d=o(n(718)),f=o(n(719)),p=o(n(725)),h=o(n(727)),g=o(n(728)),y=o(n(729)),m=o(n(730)),_=o(n(812)),v=o(n(813)),b=o(n(6)),w=o(n(51)),C=o(n(5)),x=o(n(24)),S=o(n(10)),P=o(n(76)),k=o(n(268)),O=o(n(32)),E=o(n(12)),T=o(n(89)),M=o(n(253)),D=o(n(202)),A=o(n(311)),j=o(n(323)),I=o(n(472)),L=o(n(327)),R=o(n(205)),B=o(n(239)),N=o(n(414)),F=n(61),H=n(590),z=n(286),U=n(88),V=n(331),K=n(256),G=n(63),q=n(354),W=j["default"].mouseDown,Y=I["default"].mouseUp,X={tl:"lX",ml:"lX",bl:"lX",tr:"rX",mr:"rX",br:"rX"},Z={tl:"tY",tm:"tY",tr:"tY",bl:"bY",bm:"bY",br:"bY"},J=[["lX","lX"],["mX","mX"],["rX","rX"],["lX","rX"],["rX","lX"]],Q=[["tY","tY"],["mY","mY"],["bY","bY"],["tY","bY"],["bY","tY"]],ee=["lX","mX","rX"],te=["tY","mY","bY"];var ne={createContr:function(e,t,n,o,i,s,l,u){var _,w=C["default"].getViewMode(),x=$.getContrId(e),S={key:x+(o?"_startState":""),i:"symbolLib"==e.type||"dragBase"==i||"isInLib"==i&&"symbol"!=e.type?e:b["default"].getAllValsContr({contrKey:e.isDragContr||e.id&&$.isUndefined(e.interfaceId)?e:x,changeThisContr:e.isDragContr,type:e.isDragContr?"drag":s?"hover":o?"start":undefined,symbolChild:u})};return e.isDragContr&&e.isDragPosi&&$.extend(!0,S.i,e.isDragPosi),!S.i.isDelete&&S.i.isShow||!$.isContrShow(S.i,w)||(S.i.getAllvals||(S.i=$.extend(!0,{},S.i)),window.isPrdShow||(S.i.opacity=0)),$.isContrShow(S.i,w)?(n&&(S.isWrap=n),o&&(S.isStartState=o),i&&(S.specialType=i),t&&(S.contrastContr=t),s&&(S.isHover=s),l&&(S.isInSymbol=l),u&&(S.symbolChild=u),S.contrId=x+(S.isStartState?"_startState":"")+(S.specialType&&"preview"!==S.specialType?"_"+S.specialType:""),"text"==S.i.type?_=a["default"].createElement(c["default"],r({},S)):"icon"==S.i.type?_=a["default"].createElement(d["default"],r({},S)):"table"==S.i.type?(S.i="dragBase"==i?e:b["default"].getContrByAll(x),S.i=S.i||e,S.i&&(_=a["default"].createElement(f["default"],r({},S)))):"image"==S.i.type?_=a["default"].createElement(p["default"],r({},S)):"wrapbox"==S.i.type?_=a["default"].createElement(h["default"],r({},S)):R["default"].isExtraBaseContr(S.i.type)?_=a["default"].createElement(v["default"],r({},S)):$.isAdvancedAllContr(S.i.type)?_=a["default"].createElement(m["default"],r({},S)):"symbol"==S.i.type||"symbolLib"==S.i.type?_=a["default"].createElement(g["default"],r({},S)):"hotspot"==S.i.type&&"edit-view"!=w&&(_=a["default"].createElement(y["default"],r({},S))),_):undefined},getmDivCoverEvent:function(e){return e?{onDoubleClick:ne._mDivDoubleClickStart}:{onDoubleClick:ne._mDivDoubleClick}},_mDivDoubleClickStart:function(){var e=b["default"].getContrastContr(),t=b["default"].getContrState(e);b["default"].selectChange([$.getContrId(e)],!1,!0),V.selectState(t.startState)},_mDivDoubleClick:function(e){var t=$(e.currentTarget.parentNode),n=O["default"].getSymbolParentKeyArr(t);x["default"].getMergeBoxShow()&&(x["default"].wrapBoxEditOut(),x["default"].emitChange()),B["default"].selectContr($.getParentAttr(e.currentTarget,"data-id"),undefined,n),e.stopPropagation()},_coverDoubleClick:function(e){var t=b["default"].getSelect();if(1==t.length){var n=t[0].split("_")[0];if("wrapbox"==n)i["default"].init(e,t[0]);else if("text"==n)$.isTextLine(t[0])||($.getElById("textLabel").click(),setTimeout(function(){var e=$.query(".cDiv.opt:not(.isStartState) textarea");e&&e.focus()},0));else if("image"==n){var r=$.getElById("cutImageLabel");r&&r.click()}else if("map"==n){(o=$.getElById("mapRightEdit"))&&o.click()}else if("audio"==n){(o=$.getElById("audioRightEdit"))&&o.click()}else if("video"==n){(o=$.getElById("videoRightEdit"))&&o.click()}else if("webPage"==n){var o;(o=$.getElById("webPageRightEdit"))&&o.click()}else if("symbol"==n){var a=b["default"].getContrByAll(t[0]),s={clientX:e.clientX,clientY:e.clientY,target:e.target,stopPropagation:e.stopPropagation};if(10!=a.scale){var l=$.offset(e.currentTarget);s.clientX=l.left+10*(s.clientX-l.left)/a.scale,s.clientY=l.top+10*(s.clientY-l.top)/a.scale}var u=$.getElById("symbolLabel");u&&u.click(),setTimeout(function(){W(s),Y(s)},0)}else if("icon"==n){var c=$.getElById("iconLabel");c&&c.click()}else if("table"==n){var d=e.nativeEvent;q.selectTableCellByPosi({x:d.offsetX,y:d.offsetY})}else if($.isAdvancedContr(n)){var f=$.getElById("advancedSetLabel");f&&f.click()}else if($.isMobileContr(n)){var p=$.getElById("mobileSetLabel");p&&p.click()}else if($.isChartContr(n)){var h=$.getElById("chartSetLabel");h&&h.click()}}else t.length>1&&T["default"].selectChange([e.target.parentNode.id]);e.stopPropagation()},_coverContextMenu:function(e){var t=[["复制",function(){window.Mousetrap.trigger(window.hotKey.command+"+c")},window.hotKey.comKey+"+C"],["剪切",function(){window.Mousetrap.trigger(window.hotKey.command+"+x")},window.hotKey.comKey+"+X"],["删除",function(){window.Mousetrap.trigger(window.hotKey["delete"])},"Delete",!0]],n=b["default"].getSelect();if(window.localStorage.copy&&t.splice(1,0,["粘贴",function(){$("body").trigger("paste")},window.hotKey.comKey+"+V"]),n.length>1)t.push(["进行合并",function(){T["default"].createWrapboxContr()},window.hotKey.comKey+"+G",!0]);else if(1==n.length)if(t.push(["保存",function(){$.getElById("saveControl").click()},window.hotKey.comKey+"+S",!0]),"wrapbox"==n[0].split("_")[0])t.push(["进行分解",function(){H.wrapboxResolve()},window.hotKey.comKey+"+"+window.hotKey.shiftKey+"+G"]),t.push(["集合编辑",function(){$.getElById("wrapBoxLabel").click()},"双击"]);else if("text"==n[0].split("_")[0])$.isTextLine(n[0])||t.push(["文本编辑",function(){$.getElById("textLabel").click(),setTimeout(function(){$.query(".opt.cDiv textarea").focus()},0)},"双击"]);else if("image"==n[0].split("_")[0]){var r=b["default"].getFirstSelectContr();$.isDefaultImg(r.src)||t.push(["图片编辑",function(){var e=$.getElById("cutImageLabel");e&&e.click()},"双击"]),t.push(["替换原图",function(){$.getElById("changeImgBtn").click()}]),$.isDefaultImg(r.src)||t.push(["下载原图",function(){var e=(-1!=r.src.indexOf("userImages")||-1!=r.src.indexOf("static")||-1!=r.src.indexOf("images")?window.imgUrl:"")+r.src,t=e.lastIndexOf("."),n=e.substr(t);E["default"].show("下载中...");var o=new window.XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.setRequestHeader("Authorization","Basic a2VybWl0Omtlcm1pdA=="),o.onload=function(){200===o.status&&s["default"].saveAs(o.response,""+r.name+n)},o.send()}])}else"icon"==n[0].split("_")[0]&&t.push(["图标编辑",function(){$.getElById("iconLabel").click()},"双击"],["下载图标",function(){!function(){var e=b["default"].getFirstSelectContr(!0),t=e.iconKey;E["default"].show("下载中...");var n=u["default"].get($.getIconDownLoadUrl(t,l["default"]));n.query({}),n.end(function(t,n){t?E["default"].show("网络错误，请稍后再试"):$.downloadIcon(e,n,s["default"])})}()}]);D["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:t}),e.stopPropagation(),e.preventDefault()},_coverDoubleClickStart:function(){var e=b["default"].getContrastContr(),t=b["default"].getContrState(e);b["default"].selectChange([$.getContrId(e)],!1,!0),V.selectState(t.startState),F.setAutoSaveChangePages("__pageContrs",!0)},_coverContextMenuStart:function(e){D["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:[["交换对比状态",function(){var e=b["default"].getContrastContr(),t=b["default"].getContrState(e);b["default"].selectChange([$.getContrId(e)],!1,!0),V.selectState(t.startState),F.setAutoSaveChangePages("__pageContrs",!0)},"双击"]]}),e.stopPropagation(),e.preventDefault()},getCoverEvent:function(e){return"edit-view"==C["default"].getViewMode()?{}:e?{onDoubleClick:ne._coverDoubleClickStart,onMouseDown:$.stopPropagation,onContextMenu:ne._coverContextMenuStart}:{onDoubleClick:ne._coverDoubleClick,onContextMenu:ne._coverContextMenu,onMouseDown:ne._coverMouseDown}},_coverMouseDown:function(e){var t,n,r,o,a,i,s,l,u,c,d,f,p,h,g=w["default"].getZoom(),y=e,m=[],_=$.getParentAttr(e.currentTarget,"data-id"),v=b["default"].getSelect(),C=new Date,x=e.altKey;1===v.length&&v[0]==_||x||(ne._contrSelect(_,v),1==(v=b["default"].getSelect()).length&&v[0]!=_&&(_=v[0]));var O=b["default"].getContrByAll(_),E=v.length>1;if(x){if($.exitCutImage(),1==v.length||0==v.length){var D=[e.clientX,e.clientY];!(L=b["default"].getAllValsContr({contrKey:$.extend(!0,{},O),notCopy:!0,changeThisContr:!0})).mergeName||L.states&&$.objLength(L.states)>0||b["default"].getAllValsChildContr(L),"symbol"==L.type&&10!=L.scale&&(L.width=Math.round(L.scale*L.width/10),L.height=Math.round(L.height*L.scale/10)),A["default"].init({type:"myContr",posi:D,contr:L,isAlt:!0}),$.setDrag({name:"myContrDragAdd",posi:D,target:y,moveFunc:function(e){A["default"].move({posi:[e.clientX,e.clientY]})},endFunc:function(){var e,t=P["default"].getContrPosi(),n={contr:O};t?(e=$.extend(!0,{},n.contr),$.changeContrPosiAllState(e,t,n),$.isUndefined(e.isDragContr)||delete e.isDragContr,$.isUndefined(e.isDragPosi)||delete e.isDragPosi,P["default"].hide(),!e.mergeName||e.states&&$.objLength(e.states)>0||b["default"].getAllValsChildContr(e),z.pasteContrAction([e],undefined,!0)):P["default"].hide()}})}else if(E){D=[e.clientX,e.clientY];var j=v.map(function(e){var t=b["default"].getAllValsContr({contrKey:$.extend(!0,{},b["default"].getContrByAll(e)),notCopy:!0,changeThisContr:!0});return!t.mergeName||t.states&&$.objLength(t.states)>0||b["default"].getAllValsChildContr(t),"symbol"==t.type&&10!=t.scale&&(t.width=Math.round(t.scale*t.width/10),t.height=Math.round(t.height*t.scale/10)),t}),I={};j.forEach(function(e){I[$.getContrId(e)]=$.posiObjToArr(e)});var L,R=$.getMaxPosi(I);j=j.map(function(e){return e.left-=R.left+1,e.top-=R.top+1,e}),(L=$.extend(!0,{},R)).mutiContrs=j,A["default"].init({type:"mutiContr",posi:D,contr:L,isAlt:!0}),$.setDrag({name:"mutiContrDragAdd",posi:D,target:y,moveFunc:function(e){A["default"].move({posi:[e.clientX,e.clientY]})},endFunc:function(){var e=P["default"].getContrPosi();if(e){var t=$.mainBoxOffsetPosi(!0);e[0]=e[0]*g/100+t.left,e[1]=e[1]*g/100+t.top;var n=window.localStorage.copy;window.Mousetrap.trigger(window.hotKey.command+"+c"),$.pasteFunc(window.event,e),setTimeout(function(){window.localStorage.copy=n},0)}P["default"].hide()}})}}else{if(window.isKeyDown.isShift,r=K.getParentRotateVals(!1,!0),1==v.length?(a=b["default"].getSelectContr(),O=b["default"].getAllValsContr({contrKey:$.extend(!0,{},O),notCopy:!0}),n=[Math.round(O.left),Math.round(O.top)],c="null"!=O.mergeName&&O.mergeName):(a=b["default"].getSelectContr(),i=$.getSeveralElPosition(a),a.forEach(function(e){e=b["default"].getAllValsContr({contrKey:e}),m.push([Math.round(e.left),Math.round(e.top)])}),c="null"!=a[0].mergeName&&a[0].mergeName),c&&(l=$.extend(!0,{},b["default"].getContrByAll(c)),l=b["default"].getAllValsContr({contrKey:l,notCopy:!0}),u="0"==l.rotate?l:$.getRotateBoxPosi(!1,l),d=l.independWH)){for(var B in p=[],l.contrs)p.push(l.contrs[B]);f=$.getPosiByContrs(p),h=$.getMaxPosi(f)}t=d?[]:ne.getInterfaceContr(_,v),o=$.rotateToAngle(r.rotate),k["default"].initDragOption({contrs:t}),O&&O.isLock?O.isLock&&($.addAttention("lockToggle",!0),$.setDrag({name:"contrLockCover",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){M["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"组件已锁定"})},endFunc:function(){M["default"].show(!1)}})):$.setDrag({name:"contrCoverMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){if(!((new Date).getTime()-C.getTime()<100)){var t,r,a,c=[0,0],p=[0,0],y=[100*(e.clientX-window.mouseDownTarget.posi[0])/g,100*(e.clientY-window.mouseDownTarget.posi[1])/g],w=0;if(1==v.length){if(y=$.angleChangeArrVals(y,o),O.left=n[0]+y[0],O.top=n[1]+y[1],r=$.getContrPosi(O),$.isDependBottomContr(O)?(a=$.extend(!0,{},r),w=$.getDependBottomVal(),a.top+=w):a=r,p=ne._redLine(a),"0"!=O.rotate){var x=$.rotateChangePosiVal([O.width+2,O.height+2],O.rotate);s=[r.left+p[0]-x.left,r.top+p[1]-x.top]}else s=[r.left+p[0],r.top+p[1]];if(d){var S=f[_];S[0]=s[0],S[1]=s[1];var P=$.getMaxPosi(f);if(c=[h.left-P.left,h.top-P.top],window.isKeyDown.isShift)(j=[Math.abs(c[0]),Math.abs(c[1])])[0]<j[1]?c[0]=0:c[1]=0;for(var k in N["default"].contrPosi({key:$.getContrId(l),width:P.width,height:P.height,left:u.left-c[0],top:u.top-c[1]},!0),f){var E=f[k];T["default"].moveContr(k,[E[0]+c[0],E[1]+c[1]],!0)}b["default"].emitChange()}else{if(window.isKeyDown.isShift)(j=[Math.abs(s[0]-n[0]),Math.abs(s[1]-n[1])])[0]<j[1]?s[0]=n[0]:s[1]=n[1];T["default"].moveContr(_,s)}if("0"!=O.rotate){var D={left:O.left,top:O.top,width:O.width,height:O.height,type:O.type,rotate:O.rotate};$.extend(!0,D,{left:s[0]+c[0],top:s[1]+c[1]});var A=$.getRotateBoxPosi(!1,D);t="x:"+Math.round(A.left)+" y:"+Math.round(A.top+w)}else t="x:"+Math.round(s[0]+c[0])+" y:"+Math.round(s[1]+c[1]+w)}else{if(p=ne._redLine({left:i.left+y[0],top:i.top+y[1],width:i.width,height:i.height}),p=[y[0]+ +p[0],y[1]+ +p[1]],window.isKeyDown.isShift)(j=[Math.abs(p[0]),Math.abs(p[1])])[0]<j[1]?p[0]=0:p[1]=0;if(d){v.forEach(function(e,t){var n=f[e];n[0]=m[t][0]+p[0],n[1]=m[t][1]+p[1]});var j;P=$.getMaxPosi(f);if(c=[h.left-P.left,h.top-P.top],window.isKeyDown.isShift)(j=[Math.abs(c[0]),Math.abs(c[1])])[0]<j[1]?c[0]=0:c[1]=0;for(var k in N["default"].contrPosi({key:$.getContrId(l),width:P.width,height:P.height,left:u.left-c[0],top:u.top-c[1]},!0),f){E=f[k];T["default"].moveContr(k,[E[0]+c[0],E[1]+c[1]],!0)}}else v.forEach(function(e,t){T["default"].moveContr(e,[m[t][0]+p[0],m[t][1]+p[1]],!0,[p[0],p[1]])});b["default"].emitChange(),t="x:"+Math.round(i.left+p[0]+c[0])+" y:"+Math.round(i.top+p[1]+c[1])}M["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:t})}},endFunc:function(){(new Date).getTime()-C.getTime()<100||(k["default"].init(),M["default"].show(!1),E?Math.round(a[0].left)==m[0][0]&&Math.round(a[0].top)==m[0][1]||S["default"].createData({type:"contrMove",name:"[多个组件] 位置改变",handleObjType:"mutiContrs",autoSaveType:"pageContrs"}):s&&(Math.round(s[0])==n[0]&&Math.round(s[1])==n[1]||S["default"].createData({type:"contrMove",name:"["+O.name+"] 位置改变",handleObjType:O.type,autoSaveType:"pageContrs"})))}})}e.stopPropagation(),e.preventDefault()},getInterfaceContr:function(e,t){var n,r=x["default"].getThisContr(),o=x["default"].getMergeBoxShow(),a=x["default"].getIsWrapEdit();if(t||(t=b["default"].getSelect()),1==t.length&&r&&$.getContrId(r)==e&&t[0]==e&&b["default"].selectChange([e]),r&&(r=b["default"].getAllValsContr({contrKey:r})),n=o&&$.getContrId(r)!=e?x["default"].getContrsArr():O["default"].getSymbolMaskShow()?U.getThisSymbolChildContr(!0):G.getActiveInterface(),!o||a)if(a)n.push({type:r.type,id:r.id,left:0,top:0,width:r.width,height:r.height});else if(O["default"].getSymbolMaskShow()){var i=O["default"].getSymbolMaskContr();n.push({type:"symbolBox",id:i.id,left:0,top:0,width:i.width,height:i.height})}else $.addMainbox(n);else n.push({type:"mergeBox",left:0,top:0,width:r.width,height:r.height});return n=n.filter(function(e){return-1==t.indexOf($.getContrId(e))})},_redLine:function(e){var t,n,r,o=k["default"].getDragOption(),a={minVal:o.minSize+1,minContr:[],vals:[]},i={minVal:o.minSize+1,minContr:[],vals:[]},s={vals:[],contrs:[]},l={vals:[],contrs:[]},u="lX"==X[o.dragPointKey]?1:-1,c="tY"==Z[o.dragPointKey]?1:-1;t=o.isWrapEdit&&!o.isWrapBox?$.getContrLinePosi(e,o.parentPosi,o.isRotate):$.getContrLinePosi(e,undefined,o.isRotate),o.isSymbolWH&&("width"==o.isSymbolWH?n=!0:"height"==o.isSymbolWH&&(r=!0)),!C["default"].getView().isGuide||n||r||(o.thisGuideLineX.forEach(function(n){var r=Math.round(n.value*window.ss),i=parseInt(o.isMergeIn?r-1:r);ee.forEach(function(n){e.width-(i-t[n])*u>=o.minWHarr[0]&&(!o.dragPointKey||o.dragPointKey&&X[o.dragPointKey]==n?Math.abs(i-t[n])<Math.abs(a.minVal)?(a.minVal=i-t[n],a.vals=[i]):i-t[n]==a.minVal&&a.minVal!=o.minSize+1&&-1==a.vals.indexOf(i)&&a.vals.push(i):Math.abs(i-t[n])<1&&-1==s.vals.indexOf(i)&&s.vals.push(i))})}),o.thisGuideLineY.forEach(function(n){var r=Math.round(n.value*window.ss),a=parseInt(o.isMergeIn?r-1:r);te.forEach(function(n){e.height-(a-t[n])*c>=o.minWHarr[1]&&(!o.dragPointKey||o.dragPointKey&&Z[o.dragPointKey]==n?Math.abs(a-t[n])<Math.abs(i.minVal)?(i.minVal=a-t[n],i.vals=[a]):a-t[n]==i.minVal&&i.minVal!=o.minSize+1&&-1==i.vals.indexOf(a)&&i.vals.push(a):Math.abs(a-t[n])<1&&-1==l.vals.indexOf(a)&&l.vals.push(a))})})),o.contrs.forEach(function(d){if($.isContrShow(d,o.viewMode)){var f,p=o.isWrapEdit&&"mainBox"!=d.type&&"symbolBox"!=d.type?$.getContrLinePosi(d,o.parentPosi):$.getContrLinePosi(d);if(f="mainBox"==d.type?d.type+d.id:"mergeBox"==d.type&&o.isMergeIn?"mainBoxBorderEditor":d.isOpt?d.type+"_"+d.id+"_startState":d.type+"_"+d.id,o.isRotate){var h=function(u){var c=parseInt(p[u]);-1!==ee.indexOf(u)?r||n&&"rX"!=u||ee.forEach(function(n){(("mX"==u||"mX"==n)&&"mX"==u&&"mX"==n||"mX"!=u&&"mX"!=n)&&(e.width-(c-t[n])>=o.minWHarr[0]?Math.abs(c-t[n])<Math.abs(a.minVal)?(a.minContr=[f],a.minVal=c-t[n],a.vals=[c]):c-t[n]==a.minVal&&a.minVal!=o.minSize+1&&(-1==a.minContr.indexOf(f)&&a.minContr.push(f),-1==a.vals.indexOf(c)&&a.vals.push(c)):c-t[n]<1&&(-1==s.contrs.indexOf(f)&&s.contrs.push(f),-1==s.vals.indexOf(c)&&s.vals.push(c)))}):n||r&&"bY"!=u||te.forEach(function(n){(("mY"==u||"mY"==n)&&"mY"==u&&"mY"==n||"mY"!=u&&"mY"!=n)&&(e.height-(c-t[n])>=o.minWHarr[1]?Math.abs(c-t[n])<Math.abs(i.minVal)?(i.minContr=[f],i.minVal=c-t[n],i.vals=[c]):c-t[n]==i.minVal&&i.minVal!=o.minSize+1&&(-1==i.minContr.indexOf(f)&&i.minContr.push(f),-1==i.vals.indexOf(c)&&i.vals.push(c)):Math.abs(c-t[n])<1&&(-1==l.contrs.indexOf(f)&&l.contrs.push(f),-1==l.vals.indexOf(c)&&l.vals.push(c)))})};for(var g in p)h(g)}else r||J.forEach(function(n){var r=parseInt(p[n[0]]);e.width-(r-t[n[1]])*u>=o.minWHarr[0]&&(!o.dragPointKey||o.dragPointKey&&X[o.dragPointKey]==n[1]?Math.abs(r-t[n[1]])<Math.abs(a.minVal)?(a.minContr=[f],a.minVal=r-t[n[1]],a.vals=[r]):r-t[n[1]]==a.minVal&&a.minVal!=o.minSize+1&&(-1==a.minContr.indexOf(f)&&a.minContr.push(f),-1==a.vals.indexOf(r)&&a.vals.push(r)):(Math.abs(r-t[n[1]])<1||"mX"==n[1]&&Math.abs(r-t[n[1]])<o.minSize)&&(-1==s.contrs.indexOf(f)&&s.contrs.push(f),-1==s.vals.indexOf(r)&&s.vals.push(r)))}),n||Q.forEach(function(n){var r=parseInt(p[n[0]]);e.height-(r-t[n[1]])*c>=o.minWHarr[1]&&(!o.dragPointKey||o.dragPointKey&&Z[o.dragPointKey]==n[1]?Math.abs(r-t[n[1]])<Math.abs(i.minVal)?(i.minContr=[f],i.minVal=r-t[n[1]],i.vals=[r]):r-t[n[1]]==i.minVal&&i.minVal!=o.minSize+1&&(-1==i.minContr.indexOf(f)&&i.minContr.push(f),-1==i.vals.indexOf(r)&&i.vals.push(r)):(Math.abs(r-t[n[1]])<1||"mY"==n[1]&&Math.abs(r-t[n[1]])<o.minSize)&&(-1==l.contrs.indexOf(f)&&l.contrs.push(f),-1==l.vals.indexOf(r)&&l.vals.push(r)))})}});var d=$.arrayUnique(a.vals.concat(s.vals)),f=$.arrayUnique(i.vals.concat(l.vals));return k["default"].change({redLineX:d,redLineY:f},function(){[].slice.call(window.document.querySelectorAll(".redLineC")).forEach(function(e){$.removeClass(e,"redLineC")}),$.arrayUnique(a.minContr.concat(s.contrs).concat(i.minContr).concat(l.contrs)).forEach(function(e){$.addClass($.query("#middlePanel #"+e),"redLineC")})}),[Math.abs(a.minVal)<o.minSize+1&&a.minVal,Math.abs(i.minVal)<o.minSize+1&&i.minVal]},_contrSelect:function(e,t){-1==t.indexOf(e)?window.isKeyDown.isShift?b["default"].getContr(e).isLock||1==t.length&&b["default"].getFirstSelectContr().isLock?T["default"].selectChange([e]):1==t.length&&"wrapbox"==t[0].split("_")[0]&&b["default"].getContrByAll(t[0]).contrs[e]?T["default"].selectChange([e]):"wrapbox"==e.split("_")[0]&&x["default"].getIsWrapEdit()&&$.getContrId(x["default"].getThisContr())==e?T["default"].selectChange([e]):(t.push(e),T["default"].selectChange(t)):T["default"].selectChange([e]):window.isKeyDown.isShift&&(t.remove(e),T["default"].selectChange(t))},getEventTag:function(e){var t;if("edit-view"!=C["default"].getViewMode()&&e.events)for(var n in e.events)if(!e.events[n].disable){t=a["default"].createElement("div",{className:"event-tag tool-img contr-tag",onClick:function(){T["default"].selectChange([$.getContrId(e)],"event")},onMouseDown:$.stopPropagation});break}return t},getNoteTag:function(e){return e.noteContent?a["default"].createElement(_["default"],{i:e}):undefined},getAnimTag:function(e){var t;return"edit-view"!=C["default"].getViewMode()&&e.isStateContrast&&(t=a["default"].createElement("div",{className:"anim-tag tool-img contr-tag",onClick:function(){T["default"].selectChange([$.getContrId(e)]),setTimeout(function(){$.getElById("animPreviewBtn").click()},0)},onMouseDown:$.stopPropagation})),t},getStyles:L["default"].getStyles,getSingleStyle:L["default"].getSingleStyle};t["default"]=ne},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=r(n(5)),i=r(n(173)),s=r(n(32)),l=r(n(469)),u=r(n(40)),c=r(n(12)),d=r(n(149)),f=n(430),p=n(603),h=n(122),g=n(691),y=n(692),m=n(694),_=n(695),v=n(377),b=n(696),w=n(697),C=n(698),x=n(66).createJsonDiff(),S=window,P=S.$,k=S.window,O=S.noLogin,E=S.isDevelop,T=(S.log,0);function M(e){var t=h.getChangePagesArr();e?(t.splice(0,e),t.length>0&&R(!0)):h.setChangePagesArr([])}function D(e){var t=a["default"].getView();t.isOffLine&&d["default"].isOffLine({callback:function(n){if(0==n.code){var r=t.proid,o=window.localStorage.offLineData&&P.stringToObj(window.localStorage.offLineData);if(o&&o[r]&&o[r].data){var i=o[r].data;f.setProjectData();var s=a["default"].getProjectDataObj(),l=P.extend(!0,{},s.content);l=x.unpatch(l,i);var u=x.diff(l,s.content);u&&(h.setAutoSaveDataContent(u),delete o[r],window.localStorage.offLineData=P.objToString(o),t.isAutoSaving=!0,t.isOffLine=!1,A(!0))}else e&&(t.isOffLine=!1)}}})}function A(e,t){var n=a["default"].getPageIndexKey(),r=a["default"].getView();if(i["default"].setSaving(),E||window.navigator.onLine||c["default"].show("您处于无网环境中，请检测网络是否正常"),P.isUndefined(n))e||t||c["default"].show("当前项目没有页面，不能保存"),t&&P.isFunc(t)&&c["default"].show("当前项目没有页面，不能预览"),i["default"].setNotSaving(),r.isAutoSaving=!1;else{var o=h.getAutoSaveDataContent(),s=a["default"].getLastSaveKey();r.oldChangeNum=h.getChangePagesArr().length,r.autoSaveDate=new Date,r.lastAutoSaveData=P.extend(!0,{},o),a["default"].setAutoSaveSendData({data:r.lastAutoSaveData,sendDate:r.autoSaveDate,lastSaveKey:s}),d["default"].post({proid:r.proid,lastSaveKey:s,data:P.objToString(r.lastAutoSaveData),name:r.name,pageIndexKey:n,callback:function(n){0==n.code?(h.setAutoSaveDataContent({}),i["default"].saveToCloud(),a["default"].setLastSaveKey(n.lastSaveKey),r.isAutoSaving=!1,r.autoSaveDate=null,r.lastAutoSaveData=null,M(r.oldChangeNum),e||t||c["default"].show("保存成功"),t&&P.isFunc(t)&&t()):c["default"].show(n.msg)}})}}function j(){var e=a["default"].getPageIndexKey();if(P.isUndefined(e))c["default"].show("当前项目没有页面，不能保存");else{var t=a["default"].getView(),n=void 0;t.isOffLine=!0;var r=t.proid,o=function(e){var n=a["default"].getLastSaveKey();t.lastAutoSaveData?e[r]={data:t.lastAutoSaveData,startDate:t.autoSaveDate,lastSaveKey:n,num:1}:e[r]={data:t.lastAutoSaveData,startDate:new Date,lastSaveKey:n,num:1}};if(window.localStorage.offLineData)if((n=P.stringToObj(window.localStorage.offLineData))[r]){var i=h.getAutoSaveDataContent();n[r].data=P.extend(!0,{},i),n[r].endDate=new Date,n[r].num++}else o(n);else o(n={});window.localStorage.offLineData=P.objToString(n),window.navigator.onLine&&D()}}function I(){var e,t=a["default"].getView();t.isOffLine=!0;var n=t.proid,r=function(e){var t=a["default"].getAutoSaveSendData();t&&t.data&&(e[n]={data:t.data,startDate:t.sendDate,lastSaveKey:t.lastSaveKey,num:1},a["default"].setAutoSaveSendData({data:null,sendDate:null,lastSaveKey:null}))};window.localStorage.offLineData?(e=P.stringToObj(window.localStorage.offLineData))[n]||r(e):r(e={}),window.localStorage.offLineData=P.objToString(e)}function L(e,t,n){if(a["default"].getProId()&&k.noNew){var r=a["default"].getView(),l=h.getChangePagesArr(),u=(t?n||a["default"].getActivePage():"")+e,c=P.extend(!0,[],l);r.isAutoSaving&&c.splice(0,r.oldChangeNum),s["default"].getSymbolMaskShow()&&"__pageContrs"==e&&-1==c.indexOf("changeSymbol")&&l.push("changeSymbol"),r.isInit&&("changeStruct"==u&&-1!=c.indexOf("changePages")||("changePages"==u&&-1!=c.indexOf("changeStruct")?(l.remove("changeStruct"),-1==c.indexOf(u)&&l.push(u)):-1==c.indexOf(u)&&l.push(u))),n||(clearTimeout(o),o=setTimeout(function(){R(!0)},T),i["default"].addSaveNum())}}function R(e,t){var r=h.getChangePagesArr();o&&clearTimeout(o);var s,d,S=a["default"].getView(),k=a["default"].getProjectDataObj();if(O)c["default"].show("登录后才能保存哟");else if(S.isOffLine||E||window.navigator.onLine)if(e)if(!S.isAutoSaving||S.isOffLine){if(r.length>0){var T=n(6)["default"],L=n(24)["default"],R=!1,B=!1,N=a["default"].getOtherAutoSaveDataLength();S.isAutoSaving=!0;var F=h.getRedoUndoIndex(),H=a["default"].getOtherAutoSaveDataArr(),$=a["default"].getRedoUndoEmitArr();if(!P.isUndefined(F)&&F!=N){var z=P.extend(!0,{},k.content);f.setProjectData();for(var U=F;U<N;U++){var V=H[U];p.otherChangeProject(V.data,undefined,V.user,$)}var K=x.diff(z,k.content);K&&(h.setAutoSaveDataContent(K),R=!0)}else r.forEach(function(e){-1!=e.indexOf("__")?g.pageChangePatch(e,function(){R=!0}):"changePages"==e?y.pagesChangePatch(function(){R=!0}):"changeStruct"==e?m.structChangePatch(function(){R=!0}):"changeSymbol"==e?_.symbolChangePatch(function(){R=!0}):"changeLinkLine"==e?b.linkLineChangePatch(function(){R=!0}):"changePageFlow"==e?w.pageFlowChangePatch(function(){R=!0}):"changePrdData"==e?C.prdChangePatch(function(){R=!0}):"changePagesPosi"==e?B=!0:"changeProject"==e&&(R=!0)});R&&(-1!=$.indexOf("ContrStore.emitMustChange")&&T.emitMustChange(),-1!=$.indexOf("ViewStore.emitViewChange")&&a["default"].emitViewChange(),-1!=$.indexOf("MergeBoxStore.emitChange")&&L.emitChange(),-1!=$.indexOf("")&&u["default"].emitChange()),a["default"].setRedoUndoEmitArr([]),h.setRedoUndoIndex(undefined),B&&function(e){var t=[],n=a["default"].getView();v.getAllPageFromStruct(t,n.structHierarchy),t.forEach(function(t){var n=h.getAutoSaveDataContent(),r=a["default"].getProjectDataObj(),o=a["default"].getPages(),i=r.content[t],s=o[t];s.top==i.top&&s.left==i.left||(s.top!=i.top&&(e&&e(),r.content[t].top=s.top,n[t]?n[t].top=[i.top,s.top]:n[t]={top:[i.top,s.top]}),s.left!=i.left&&(e&&e(),r.content[t].left=s.left,n[t]?n[t].left=[i.left,s.left]:n[t]={left:[i.left,s.left]}))})}(function(){R=!0}),R?(l["default"].changeData(),S.isOffLine?(j(),D()):(s=a["default"].getView().proid,(d=window.localStorage.offLineData&&P.stringToObj(window.localStorage.offLineData))&&d[s]&&d[s].data?(j(),D()):A(e,t))):(S.isOffLine||(S.isAutoSaving=!1),h.setAutoSaveDataContent({}),i["default"].saveToCloud(),M())}}else S.autoSaveDate&&(new Date).getTime()-S.autoSaveDate>1e4&&r.length>0&&I();else S.isOffLine?c["default"].show("数据已离线保存"):E||window.navigator.onLine?S.isAutoSaving?c["default"].show("正在上传数据中，请稍等"):c["default"].show("已实时保存你的操作"):c["default"].show("您处于无网环境中，请检测网络是否正常");else I()}function B(){I()}function N(){a["default"].getView().isOffLine&&D(!0)}t.setAutoSaveChangePages=L,t.saveFunc=R,t.socketDisconnect=B,t.socketConnect=N,t["default"]={setAutoSaveChangePages:L,socketDisconnect:B,socketConnect:N,saveFunc:R}},function(e,t,n){"use strict";(function(e){var r=n(179),o=n(180),a=n(181);function i(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=n===undefined&&r===undefined?new Uint8Array(t):r===undefined?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,o){var a,i=1,s=e.length,l=t.length;if(r!==undefined&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,s/=2,l/=2,n/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){var c=-1;for(a=n;a<s;a++)if(u(e,a)===u(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*i}else-1!==c&&(a-=a-c),c=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var d=!0,f=0;f<l;f++)if(u(e,a+f)!==u(t,f)){d=!1;break}if(d)return a}return-1}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var i=0;i<r;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[n+i]=s}return i}function v(e,t,n,r){return z(H(t,e.length-n),e,n,r)}function b(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return b(e,t,n,r)}function C(e,t,n,r){return z($(t),e,n,r)}function x(e,t,n,r){return z(function(e,t){for(var n,r,o,a=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),r=n>>8,o=n%256,a.push(o),a.push(r);return a}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var a,i,s,l,u=e[o],c=null,d=u>239?4:u>223?3:u>191?2:1;if(o+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(a=e[o+1]))&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:a=e[o+1],i=e[o+2],128==(192&a)&&128==(192&i)&&(l=(15&u)<<12|(63&a)<<6|63&i)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=e[o+1],i=e[o+2],s=e[o+3],128==(192&a)&&128==(192&i)&&128==(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&i)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=d}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=i(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):n!==undefined?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(t===undefined)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!l.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):function(e,t,n){var r=!1;if((t===undefined||t<0)&&(t=0),t>this.length)return"";if((n===undefined||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(t===undefined&&(t=0),n===undefined&&(n=e?e.length:0),r===undefined&&(r=0),o===undefined&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),i=(n>>>=0)-(t>>>=0),s=Math.min(a,i),u=this.slice(r,o),c=e.slice(t,n),d=0;d<s;++d)if(u[d]!==c[d]){a=u[d],i=c[d];break}return a<i?-1:i<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(t===undefined)r="utf8",n=this.length,t=0;else if(n===undefined&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,r===undefined&&(r="utf8")):(r=n,n=undefined)}var o=this.length-t;if((n===undefined||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",a=t;a<n;++a)o+=F(e[a]);return o}function M(e,t,n){for(var r=e.slice(t,n),o="",a=0;a<r.length;a+=2)o+=String.fromCharCode(r[a]+256*r[a+1]);return o}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,o,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,a=Math.min(e.length-n,2);o<a;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,a=Math.min(e.length-n,4);o<a;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function L(e,t,n,r,o,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,a){return a||L(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,a){return a||L(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===undefined?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,undefined);for(var a=0;a<o;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=t,o=1,a=this[e+--r];r>0&&(o*=256);)a+=this[e+--r]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);A(this,e,t,n,o-1,-o)}var a=0,i=1,s=0;for(this[t]=255&e;++a<n&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);A(this,e,t,n,o-1,-o)}var a=n-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(r!==undefined&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=n===undefined?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var i=l.isBuffer(e)?e:H(new l(e,r).toString()),s=i.length;for(a=0;a<n-t;++a)this[a+t]=i[a%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||Infinity;for(var r=e.length,o=null,a=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&a.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function $(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(59))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(5)),i=window.$;function s(e){return l(a["default"].getActivePage(),e)}function l(e,t){var n=o["default"].getContrs(),r=[];return a["default"].getPageHierarchy(e).forEach(function(e){r.push(t?i.extend(!0,{},n[e]):n[e])}),r.reverse(),r}function u(e){var t=o["default"].getContrs();a["default"].getPageHierarchy(e).forEach(function(e){t[e]&&delete t[e]})}function c(){return d(a["default"].getActivePage())}function d(e){return function(e){var t=o["default"].getContrs(),n=[];for(var r in t)t[r].interfaceId==e&&n.push(t[r]);return n}(e||a["default"].getActivePage())}t.getActivePageByHierarchy=s,t.getPageByHierarchy=l,t.deletePageContrByHierarchy=u,t.getActiveInterface=c,t.getInterface=d,t["default"]={getActivePageByHierarchy:s,getPageByHierarchy:l,deletePageContrByHierarchy:u,getActiveInterface:c,getInterface:d}},function(e,t,n){e.exports=function(e){Promise.all([n.e(1),n.e(41)]).then(function(t){e(n(966))}.bind(null,n))["catch"](n.oe)}},function(e,t,n){"use strict";var r=!0,o="Invariant failed";t.a=function(e,t){if(!e)throw r?new Error(o):new Error(o+": "+(t||""))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=r(n(675));t.createJsonDiff=function(e){return new a["default"](e)},t.diff=function(){return o||(o=new a["default"]),o.diff.apply(o,arguments)},t.patch=function(){return o||(o=new a["default"]),o.patch.apply(o,arguments)},t.unpatch=function(){return o||(o=new a["default"]),o.unpatch.apply(o,arguments)},t.reverse=function(){return o||(o=new a["default"]),o.reverse.apply(o,arguments)},t.clone=function(){return o||(o=new a["default"]),o.clone.apply(o,arguments)}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s={},l=[],u=0,c=[],d={current:[],extra:[]},f=!1,p=null,h={},g=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setPrdDragPoint=function(e,t){d=e,t||g.emitChange()},t.prototype.getPrdDragPoint=function(){return d},t.prototype.getIsDragPoint=function(){return f},t.prototype.setIsDragPoint=function(e,t){void 0===t&&(t=!1),f=e,t||g.emitChange()},t.prototype.setPrdStage=function(e,t){void 0===t&&(t=!1),p=e},t.prototype.getPrdStage=function(){return p},t.prototype.setPrdLine=function(e,t,n){void 0===n&&(n=!1),s[e]=t,n||g.emitChange()},t.prototype.getPrdLine=function(){var e=[];for(var t in s)e.push(s[t]);return e},t.prototype.deleteLine=function(e,t){s[e]&&delete s[e],t||g.emitChange()},t.prototype.getPrdSelectArr=function(){return c},t.prototype.getPrdOneLine=function(e){return s[e]},t.prototype.setPrdSelectArr=function(e,t){void 0===t&&(t=!1),c=e,t||g.emitChange()},t.prototype.setHoverIdArr=function(e,t){void 0===t&&(t=!1),l=e,t||g.emitChange()},t.prototype.getHoverIdArr=function(){return l},t.prototype.getPrdLineType=function(){return u},t.prototype.setPrdLineType=function(e,t){void 0===t&&(t=!1),u=e,t||g.emitChange()},t.prototype.setLineLink=function(e,t){void 0===t&&(t=!1);var n=e.id;s[n]=e,t||g.emitChange()},t.prototype.getAllLine=function(){return s},t.prototype.setAllLine=function(e,t){void 0===t&&(t=!1),s=e,t||g.emitChange()},t.prototype.changePrdLine=function(e){var t=e.id,n=e.notEmit,r=void 0!==n&&n,o=a(e,["id","notEmit"]);$.extend(!1,s[t],o),r||g.emitChange()},t.prototype.changeMovePrdLine=function(e){var t=e.id,n=e.notEmit,r=void 0!==n&&n,o=a(e,["id","notEmit"]);$.extend(!1,s[t],o),r||g.emitMoveChange()},t.prototype.setPrdComment=function(e,t){void 0===t&&(t=!1),h=e,t||g.emitChange()},t.prototype.getPrdComment=function(){return h},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitMoveChange=function(){this.emit("move_change")},t.prototype.addMoveChangeListener=function(e){this.on("move_change",e)},t.prototype.removeMoveChangeListener=function(e){this.removeListener("move_change",e)},t}(i.EventEmitter));t["default"]=g},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(131)),i=window.$;function s(){var e=this,t=e.thisDom,n=e.props,o=n.contr,l=o.type,u=o.id,c=n.canvasDom;if(t&&c){var d=i(t.root).find("canvas")[0];if(d){var f=d.toDataURL(),p=new Image;p.onload=function(){if(c&&i("#middlePanelBox").length>0){var t=c.findAncestors(".contrs")[0];t&&t._getCanvasCache()&&t.clearCache(),c.find("."+l+"-"+u).each(function(e){e&&e.destroy()});var n=new a["default"].Image(r({image:p,name:l+"-"+u},function(e){var t=e.width,n=e.height,r=e.type,o=e.hasLegend,a={width:t,height:n};return"timelineChart"==r?a.height-=40:"radar"==r?a.height-=o?80:22:"circle"==r?a.width-=o?240:0:"pie"==r&&(a.width-=o?240:0),a}(e.props.contr)));c&&(c.add(n),c.draw(),i("body > #canvas-"+l+"-"+u).remove()),t&&!t._getCanvasCache()&&t.cache({pixelRatio:window.globalPixelRatio,drawBorder:!1})}},p.src=f}else setTimeout(function(){s.call(e)},10)}}t.canvasRender=s,t["default"]={canvasRender:s}},,function(e,t){var n=1e3,r=60*n,o=60*r,a=24*o,i=365.25*a;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var l,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*i;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return undefined}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(l=e,a,"day")||s(l,o,"hour")||s(l,r,"minute")||s(l,n,"second")||l+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(176)("socket.io-parser"),o=n(45),a=n(178),i=n(105),s=n(106);function l(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=l,t.Decoder=d;var u=t.ERROR+'"encode error"';function c(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var o=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===o)return u;n+=o}return r("encoded %j as %s",e,n),n}function d(){this.reconstructor=null}function f(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:"parser error: "+e}}l.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){a.removeBlobs(e,function(e){var n=a.deconstructPacket(e),r=c(n.packet),o=n.buffers;o.unshift(r),t(o)})}(e,n):n([c(e)])},o(d.prototype),d.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,o={type:Number(e.charAt(0))};if(null==t.types[o.type])return p("unknown packet type "+o.type);if(t.BINARY_EVENT===o.type||t.BINARY_ACK===o.type){for(var a="";"-"!==e.charAt(++n)&&(a+=e.charAt(n),n!=e.length););if(a!=Number(a)||"-"!==e.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(a)}if("/"===e.charAt(n+1))for(o.nsp="";++n;){var s=e.charAt(n);if(","===s)break;if(o.nsp+=s,n===e.length)break}else o.nsp="/";var l=e.charAt(n+1);if(""!==l&&Number(l)==l){for(o.id="";++n;){var s=e.charAt(n);if(null==s||Number(s)!=s){--n;break}if(o.id+=e.charAt(n),n===e.length)break}o.id=Number(o.id)}if(e.charAt(++n)){var u=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n)),c=!1!==u&&(o.type===t.ERROR||i(u));if(!c)return p("invalid payload");o.data=u}return r("decoded %s as %j",e,o),o}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){var r=n(184);e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(a){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(a){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(a){}}},function(e,t,n){var r=n(38),o=n(45);function a(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=a,o(a.prototype),a.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},a.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},a.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},a.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},a.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},a.prototype.onPacket=function(e){this.emit("packet",e)},a.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){e.exports=function(e){Promise.all([n.e(2),n.e(42)]).then(function(t){e(n(967))}.bind(null,n))["catch"](n.oe)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.POPUP_INIT="POPUP_INIT",e.POPUP_HIDE="POPUP_HIDE"}(t.PopupActionID||(t.PopupActionID={}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(364)),l=a(n(8)),u=a(n(268)),c=a(n(32)),d=n(88),f=n(63),p=8,h={show:!1,contr:null,type:null,inWindow:!1,left:0,top:0,interfaceContr:null,contrPosi:null,oldPosi:null,openWrapBoxDom:null,symbolMaskBoxDom:null,pageCanvas:null};function g(e){e.show?h.show=!0:(u["default"].init(),h.copyPageCanvas&&h.copyPageCanvas.destroy(),h={show:!1,contr:null,type:null,inWindow:!1,left:0,top:0,interfaceContr:null,contrPosi:null,oldPosi:null,openWrapBoxDom:null,symbolMaskBoxDom:null})}function y(e){var t=n(6)["default"],r={},o=e.contr;t.initAllContrs(),t.initAllValsContrs(),"myContr"==e.type&&o.states&&$.objLength(o.states)>0&&(r[$.getContrId(e.contr)]=e.contr,o=t.getContrValsAllChilds(e.contr,!1,r)),h.oldPosi=[o.left,o.top],h.show=!0,h.type=e.type,h.contr=o,h.inWindow="page"==h.type||"folder"==h.type,h.isAlt=e.isAlt,h.openWrapBoxDom=$.query(".wrapBox.openNow:not(.isStartState)"),h.symbolMaskBoxDom=$.query(".symbolMaskBox > .isSymbolEdit"),"page"==h.type&&(h.pagesNum=e.pagesNum,h.copyPageCanvas=function(e){var t=e.pageKey,r=e.width,o=window.phoneBaseSize.width,a=n(166)["default"],i=n(23)["default"],s=n(5)["default"].getZoom(),l=a.findPage(i.getStage().getStage(),"mainBox"+t),u=l&&l.clone();if(u){var c=(r-p*s)/o;u.setAttrs({scaleX:c,scaleY:c,offsetX:-p*s,offsetY:p*s}),u.find(".copy-remove").forEach(function(e){e.destroy()})}return u}(e.contr)),v(e.posi),"page"!=e.type&&"folder"!=e.type?(h.interfaceContr=m(),u["default"].initDragOption({contrs:h.interfaceContr})):t.selectChange([])}function m(){var e,t=n(24)["default"],r=t.getMergeBoxShow(),o=t.getIsWrapEdit(),a=r?t.getContrsArr():c["default"].getSymbolMaskShow()?d.getThisSymbolChildContr(!0):f.getActiveInterface();if(c["default"].getSymbolMaskShow()&&!r){var i=c["default"].getSymbolMaskContr();a.push({type:"symbolBox",id:i.id,left:0,top:0,width:i.width,height:i.height})}else!r||o?($.addMainbox(a),o&&(e=t.getThisContr(),a.push({type:e.type,id:e.id,left:0,top:0,width:e.width,height:e.height}))):(e=t.getThisContr(),a.push({type:"mergeBox",left:0,top:0,width:e.width,height:e.height}));return a}function _(e){var t=v(e.posi,!0,e.notInWrap);return g(!1),!!$.isDragInMid(e.posi)&&t}function v(e,t,r){var o,a,i,s=n(310)["default"],l=n(60)["default"],u=n(51)["default"].getZoom()/100,d={width:h.contr.width,height:h.contr.height};if("myContr"==h.type){var f=$.getRotateWH($.rotateToAngle(h.contr.rotate,!0),[h.contr.width,h.contr.height]);$.fixRotateWH(f,h.contr.rotate),d={width:f.w,height:f.h}}if("folder"!=h.type?(h.left=e[0]-d.width/2,h.top=e[1]-d.height/2):(h.left=e[0],h.top=e[1]),h.inWindow){var p="page"==h.type||"folder"==h.type?e:$.getContrInBoxPosi(e,[d.width,d.height],r);if(u>1.5&&("icon"==h.type||"baseIcon"==h.type)&&(p.left-=1,p.top-=1),o={left:p.left,top:p.top,width:d.width,height:d.height},"page"==h.type||"folder"==h.type)u=1;else{h.openWrapBoxDom&&!r?i=$.offset(h.openWrapBoxDom):c["default"].getSymbolMaskShow()&&h.symbolMaskBoxDom?(i=$.offset(h.symbolMaskBoxDom),!0):i=$.mainBoxOffsetPosi(!0),a=l._redLine(o),a=[Math.round(a[0]),Math.round(a[1])],p.left+=a[0],p.top+=a[1],o.left+=a[0],o.top+=a[1],h.left=i.left+p.left*u+(u-1)*d.width/2,h.top=i.top+p.top*u+(u-1)*d.height/2,s.moveTipUpdate({left:e[0]+50,top:e[1]-50,text:"x:"+p.left+", y:"+p.top}),t&&s.moveTipShow(!1)}return h.contrPosi=[p.left,p.top],o}return s.moveTipShow(!1),h.contrPosi=null,!1}var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getDragContr=function(){return h},t.prototype.getRedLineContr=function(){return m()},t.prototype.getContrPosi=function(){if("myContr"==h.type){var e=$.getDragRotateChangePosi(h.contr);return!!h.contrPosi&&[h.contrPosi[0]+e[0]+1,h.contrPosi[1]+e[1]+1]}return h.contrPosi},t.prototype.getIsDrag=function(){return h.show},t.prototype.add=function(e){var t=_(e);return w.emitChange(),t},t.prototype.hide=function(){var e=n(310)["default"];g(!1),e.moveTipShow(!1),w.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter);l["default"].register(function(e){switch(e.actionType){case s["default"].DRAGCONTR_INIT:y(e.options),w.emitChange();break;case s["default"].DRAGCONTR_SHOW:g(e.options),w.emitChange();break;case s["default"].DRAGCONTR_MOVE:t=e.options,h.inWindow="page"==h.type||"folder"==h.type||$.isDragInMid(t.posi),v(t.posi),w.emitChange();break;case s["default"].DRAGCONTR_ADD:_(e.options),w.emitChange()}var t});var w=new b;t["default"]=w},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(40)),a=r(n(6)),i=r(n(5)),s=r(n(29)),l=n(26),u=window.$;function c(){return o["default"].getTableData().selectCell}function d(){var e=o["default"].getTableData(),t=i["default"].isPrdView();return e.selectContr?e.selectContr&&!t?a["default"].getContrByAll(u.getContrId(e.selectContr)):s["default"].getPrdElementById(e.selectContr.id):null}function f(e,t){var n=p(e,t),r=u.getStatic("S_tableCellStatic",t);return r.text=u.getStatic("S_tableCellTextStatic",t),u.extend(!0,r,n)}function p(e,t){var n=o["default"].getTableData(),r={},l=n.selectContr,c=n.selectCell;if(t&&e||l&&c){l=i["default"].isPrdView()?s["default"].getPrdElementById((t||l).id):a["default"].getContrByAll(u.getContrId(t||l));var d=e||c[0],f=d.columnIndex,p=d.lineIndex,h=(t||l).child;h&&h[f+"_"+p]&&(r=h[f+"_"+p])}return u.extend(!0,{},r)}function h(){var e=o["default"].getTableData(),t=e.selectContr,n=e.selectCell;if(t&&n){var r=n[0],a=r.columnIndex,i=r.lineIndex,s=n[1],l=s.columnIndex,u=s.lineIndex;if(a===l&&i===u)return!0}return!1}function g(){var e=o["default"].getTableData(),t={left:0,top:0,width:0,height:0};if(e&&e.selectContr&&e.selectCell){for(var n=i["default"].isPrdView()?l.findSelectElement()[0]:a["default"].getFirstSelectContr(),r=n.columnPosi,s=n.linePosi,c=u.getMinMaxColumnLine(e.selectCell,n),d=c.minColumn,f=c.maxColumn,p=c.minLine,h=c.maxLine,g=0;g<d;g++)t.left+=r[g]||0;for(g=0;g<p;g++)t.top+=s[g]||0;for(g=d;g<=f;g++)t.width+=r[g]||0;for(g=p;g<=h;g++)t.height+=s[g]||0}return t}t.getTableSelectCell=c,t.getTableSelectContr=d,t.getOneCellData=f,t.findTableCell=p,t.isSelectOneCell=h,t.getSelectCellPosi=g,t["default"]={getTableSelectCell:c,getTableSelectContr:d,getOneCellData:f,findTableCell:p,isSelectOneCell:h,getSelectCellPosi:g}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(147)),a={isLock:!1,isShow:!0,rotate:0,isOpt:!1,mergeName:null,left:0,top:0,opacity:100},i={width:600,height:240,isLock:!1,isShow:!0,opacity:100,rotate:0,isOpt:!1,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",left:0,top:0,outerBorder:["rgba(198, 198, 198, 1)",1],innerBorder:["rgba(198, 198, 198, 1)",1],styleIndex:0,shadow:0},s={name:"",border:["rgba(216, 216, 216, 1)",0],hasBackColor:!1,backColor:"rgba(153, 153, 153, 1)",opacity:100,columnIndex:0,lineIndex:0,mergeColumn:0,mergeLine:0,mergeKey:""},l={content:"",fontSize:14,lineHeight:5,indent:0,adjaceney:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,isS:!1,horizontal:"hL",vertical:"vM"},u={isLock:!1,isShow:!0,rotate:0,isOpt:!1,mergeName:null,left:0,top:0,opacity:100},c={isLock:!1,isShow:!0,rotate:0,isOpt:!1,mergeName:null,left:0,top:0,opacity:100},d=["isDepend","dependType"],f=["name","content","mergeName"],p=["contrs","width","height","hierarchy"],h=["name","width","height","top","left","id","type","oriWidth","oriHeight","oriName","multiple","src","cutVals","contrs","content","hasBackColor","backColor","isBaseShape","baseContrType","hierarchy","fontSize","textColor","isB","serverKey","radius","lineHeight","horizontal","rotate","opacity","outerHidden","shadow","WHrelation","iconKey","iconColor","isMaxRadius","events","border","indent","adjaceney","textShadow","isI","isU","vertical","filter","isLock","isShow","insetBorder","isOpt","isOpenState","states","state","stateNum","isStateContrast","transition","dependType","isDepend","scrollX","scrollY","stateBindMove","userKey","outerBorder","innerBorder","styleIndex","columnIndex","lineIndex","mergeColumn","mergeLine","mergeKey","lineMin","rowMin","linePosi","columnPosi","mergeName"],g=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59"],y={text:{content:"文本",fontSize:14,lineHeight:5,indent:0,adjaceney:0,shadow:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,isS:!1,horizontal:"hC",vertical:"vM",filter:{},isLock:!1,isShow:!0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},image:{multiple:1,filter:{},isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,WHrelation:!0,cutVals:null,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},wrapbox:{filter:{},outerHidden:!1,scrollX:!1,scrollY:!1,isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,hierarchy:[],backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,isOpen:!1,mergeName:null,left:0,top:0},icon:{filter:{},isLock:!1,isShow:!0,WHrelation:!0,rotate:0,iconColor:"rgba(153, 153, 153, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},hotspot:{isLock:!1,isShow:!0,WHrelation:!1,rotate:0,isOpt:!1,mergeName:null,left:0,top:0},symbol:a,table:i};function m(e,t){for(var n in e){var r=e[n],o=t[n];$.isUndefined(o)||($.isArray(r)&&2==r.length&&r[0]==o[0]&&r[1]==o[1]?delete t[n]:r==o&&delete t[n])}}["map","audio","video","webPage"].forEach(function(e){y[e]=c});var _={removeInitVal:function(e,t,n,r){if($.isArray(e))e.forEach(function(e){e&&_.removeInitVal(e,undefined,n,r)});else if(e){var c=void 0,d=$.isAdvancedAllContr(e.type)?u:y[e.type];if("wrapbox"==e.type)for(var f in e.contrs)_.removeInitVal(e.contrs[f],!0,n,r);if(!window.isPc&&!window.isAppView&&(n?window.phoneSize.height!=window.phoneBaseSize.height:window.phoneSize.width!=window.phoneBaseSize.width)&&$&&$.otherSizeChangeContr&&(c=n?window.phoneBaseSize.height/window.phoneSize.height:window.phoneBaseSize.width/window.phoneSize.width,$.otherSizeChangeContr(e,c,!0)),$.isUndefined(e.type)&&e.uniqueKey&&(delete e.left,delete e.top),$.isAdvancedAllContr(e.type)&&e.data&&$.isArray(e.data)&&o["default"].changeListDataAll(e.data,function(e){$.isUndefined(e.unfold)||delete e.unfold}),"null"===e.mergeName&&(e.mergeName=null),d){if(d==a){if(r&&-1==r.indexOf(e.symbolKey)&&r.push(e.symbolKey),!$.isUndefined(c)&&e.children)for(var h in e.children)e.children[h]&&e.children[h].cutVals&&(e.children[h].cutVals=$.changeCutValsSize(e.children[h].cutVals,c));p.forEach(function(t){$.isUndefined(e[t])||delete e[t]})}if(d==i&&e&&($.isArray(e.linePosi)||(e.linePosi=[e.linePosi]),$.isArray(e.columnPosi)||(e.columnPosi=[e.columnPosi]),e.child))for(var h in e.child){var g=e.child[h];g.text&&($.isUndefined(g.text.lastContent)||delete g.text.lastContent,m(l,g.text),_.changeNameToKey(g.text)),m(s,g),_.changeNameToKey(g)}for(var h in $.isUndefined(e.src)||0!=e.src.indexOf("data:image")&&0!=e.src.indexOf("blob:")||(e.src="/userImages/defaultImage.png",$&&$.updateImage&&$.updateImage(e)),d){var v=d[h],b=e[h];if(!$.isUndefined(b))if($.isArray(v)&&2==v.length&&v[0]==b[0]&&v[1]==b[1])delete e[h];else if("isOpen"==h||"isOpt"==h)delete e[h];else if("filter"==h&&0==$.objLength(b))delete e[h];else if("cutVals"==h&&null==b)delete e[h];else if("cutVals"==h){var w=$.getDefaultCutVals(e);for(var C in w)"oriHeight"==C||"oriLeft"==C||"oriTop"==C||"oriWidth"==C?delete e[h][C]:Math.abs(+e[h][C]-+w[C])<.5&&delete e[h][C];0==$.objLength(e[h])&&delete e[h]}else v==b&&delete e[h]}t&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType,$.isUndefined(e.id)||delete e.id,$.isUndefined(e.type)||delete e.type,$.isUndefined(e.mergeName)||delete e.mergeName),$.isUndefined(e.interfaceId)&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType),$.isUndefined(e.transition)||_.removeTransition(e.transition),$.isUndefined(e.states)||_.statesChangeNameToKey(e.states),$.isUndefined(e.thisSelf)||delete e.thisSelf,$.isUndefined(e.hoverState)||delete e.hoverState,$.isUndefined(e.isStructOpen)||delete e.isStructOpen,$.isUndefined(e.interfaceId)||delete e.interfaceId,$.isUndefined(e.lastContent)||delete e.lastContent,$.isUndefined(e.isEdit)||delete e.isEdit,$.isUndefined(e.copyKey)||delete e.copyKey,$.isUndefined(e.canvasSymbolKey)||delete e.canvasSymbolKey,_.changeNameToKey(e)}}},addInitVal:function(e,t,n,r,o,i){if($.isArray(e)){var s=[];e.forEach(function(e,n){if(e){var r=!1;if(e[32]&&e[31]){var a=e[31][e[32].endState];a&&a.contrs&&a.contrs[e[6]+"_"+e[5]]&&a.contrs[e[6]+"_"+e[5]].isDelete&&(r=!0)}e.isDelete?(s.push(n),window.log("数据异常,isDelete",e)):e[6]||e.type||e.uniqueKey?r?(s.push(n),window.log("数据异常,stateIsDelete",e)):_.addInitVal(e,t,undefined,undefined,o,i):(s.push(n),window.log("数据异常,noType",e))}else s.push(n)}),s.length>0&&s.reverse().forEach(function(t){e.splice(t,1)})}else if(e){var l=void 0;if(_.changeKeyToName(e),$.isUndefined(e.states)||_.statesChangeKeyToName(e.states),!$.isUndefined(e.stateNum)&&$.isUndefined(e.hoverState)&&(e.hoverState={}),n){var c=n.split("_");e.type=c[0],e.id=c[1]}r&&(e.mergeName=r),"null"===e.mergeName&&(e.mergeName=null),$.isUndefined(t)||(e.interfaceId=t);var d=$.isAdvancedAllContr(e.type)?u:y[e.type];if("wrapbox"==e.type){var f=[];if(e.hierarchy)for(var p in e.hierarchy.forEach(function(n){e.contrs[n]&&(f.push(n),_.addInitVal(e.contrs[n],t,n,e.type+"_"+e.id,o,i))}),e.contrs)-1==f.indexOf(p)&&e.contrs[p]&&(window.log("数据异常,childNotInHierarchy",e),f.push(p),_.addInitVal(e.contrs[p],t,p,e.type+"_"+e.id,o,i));e.hierarchy=f}if("symbol"==e.type&&e.contrs&&(window.log("数据异常,symbol多了子集数据",e),delete e.contrs),e&&"table"==e.type&&($.isArray(e.linePosi)||(e.linePosi=[e.linePosi]),$.isArray(e.columnPosi)||(e.columnPosi=[e.columnPosi]),e.child))for(var h in e.child){var g=e.child[h];g.text&&_.changeKeyToName(g.text),_.changeKeyToName(g)}if(d)for(var h in d){var m=d[h],v=e[h];$.isUndefined(v)?$.isArray(m)?e[h]=m.concat():e[h]="hierarchy"==h?[]:"filter"==h?{}:"cutVals"==h?null:m:"isOpen"==h?e[h]=!1:"cutVals"==h&&(e[h]=$.extend($.getDefaultCutVals(e),e[h]))}if(window.isPc||i||window.isAppView||(o?window.phoneSize.height==window.phoneBaseSize.height:window.phoneSize.width==window.phoneBaseSize.width)||!$||!$.otherSizeChangeContr||(l=o?window.phoneSize.height/window.phoneBaseSize.height:window.phoneSize.width/window.phoneBaseSize.width,$.otherSizeChangeContr(e,l,!0)),!i&&d==a&&!$.isUndefined(l)&&e.children)for(var h in e.children)e.children[h]&&e.children[h].cutVals&&(e.children[h].cutVals=$.changeCutValsSize(e.children[h].cutVals,l));$.isUndefined(e.type)&&e.uniqueKey&&(delete e.left,delete e.top)}},statesChangeNameToKey:function(e){for(var t in e){var n=e[t].contrs,r=e[t].transition;for(var o in $.isUndefined(r)||_.removeTransition(r),n)_.changeNameToKey(n[o],!0)}},changeNameToKey:function(e,t){for(var n in e)if(t&&-1!=d.indexOf(n)&&!$.isUndefined(e[n]))delete e[n];else{var r=h.indexOf(n);-1==r||$.isUndefined(e[n])||(-1==f.indexOf(n)&&(e[n]=$.floatNum(e[n],2)),e[g[r]]=e[n],delete e[n])}},statesChangeKeyToName:function(e){for(var t in e){var n=e[t].contrs;for(var r in n)_.changeKeyToName(n[r],!0)}},changeKeyToName:function(e,t){for(var n in e){var r=g.indexOf(n);-1==r||$.isUndefined(e[n])||(t&&-1!=d.indexOf(h[r])||(e[h[r]]=e[n],-1!=f.indexOf(h[r])&&(e[h[r]]=""+e[h[r]])),delete e[n])}},removeTransition:function(e){for(var t in e){var n=e[t].contrs;for(var r in n){var o=n[r].units[0];!$.isUndefined(o.keyframes)&&2!=$.objLength(o.keyframes)||!$.isUndefined(o.props)&&0!=$.objLength(o.props)?($.isUndefined(o.index)||delete o.index,$.isUndefined(o.props)||0!=$.objLength(o.props)||delete o.props,$.isUndefined(o.keyframes)||2!=$.objLength(o.keyframes)||delete o.keyframes,$.isUndefined(o.active)||delete o.active):$.isUndefined(n[r])||delete n[r]}}}};t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i,s=a(n(8)),l=n(75),u=n(9);function c(){i={isShow:!1,title:"标题",width:640,content:null,noBottom:!1,type:"top",bottomContent:null,noCancel:!1,cancelBtnName:"关闭",submitBtnName:"确定",submitBtnFunc:function(e){e()},cancelBtnFunc:function(e){e()}}}c();var d=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getPopup=function(){return i},t.prototype.getShow=function(){return i.isShow},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(u.EventEmitter));s["default"].register(function(e){switch(e.actionType){case l.PopupActionID.POPUP_INIT:t=e.option,$.isUndefined(t.noBottom)&&(t.noBottom=!1),$.isUndefined(t.maxZindex)&&(t.maxZindex=!1),(i=$.extend(i,t)).isShow=!0,d.emitChange();break;case l.PopupActionID.POPUP_HIDE:c(),d.emitChange()}var t}),t["default"]=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TOAST_SHOW="TOAST_SHOW"}(t.ToastActionID||(t.ToastActionID={}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(598)),l=a(n(8)),u=n(483),c={},d={},f=0,p=null,h="stream";function g(e,t){var n=u.generateUUID();c[n]=$.extend(!0,{id:n,text:"",lastText:null,hasArea:!1,width:50,height:50,left:0,top:0,pageId:e.pageId,index:b.getNoteArr(e.pageId).length+1},e);var r=c[n];return r.contrKey&&(d[r.contrKey]=r),t||(p=n),c[n]}function y(e,t){if(c[e]){var n=c[e].pageId;delete c[e],p==e&&(p=null),_(n),t||b.emitChange()}}function m(e,t,n){c[e]&&(c[e]=$.extend(!0,c[e],t)),n||b.emitChange()}function _(e){b.getNoteArr(e).sort(function(e,t){return e.index-t.index}).forEach(function(e,t){e.index=t+1})}var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getNoteDisplay=function(){return h},t.prototype.getNoteSize=function(){return 25},t.prototype.getNoteArr=function(e,t){var n=[];for(var r in c){var o=c[r];o.pageId==e&&n.push(t?{id:o.id,text:o.text,hasArea:o.hasArea,width:o.width,height:o.height,left:o.left,top:o.top,pageId:o.pageId,index:o.index,contrKey:o.contrKey}:o)}return n},t.prototype.removeEditNote=function(e){if(c[p]){var t=c[p].pageId;delete c[p],p=null,_(t),e||b.emitChange()}},t.prototype.removeNote=function(e,t){y(e,t)},t.prototype.getEditNote=function(){return p&&c[p]?c[p]:null},t.prototype.getNoteById=function(e){return c[e]},t.prototype.isEditNote=function(e){return p==e},t.prototype.hasEditNote=function(){return p&&!!c[p]},t.prototype.editBlur=function(e){p&&(p=null,e||b.emitChange())},t.prototype.changeEdit=function(e,t){p=e,t||b.emitChange()},t.prototype.updateNote=function(e,t,n){m(e,t,n)},t.prototype.pageRemoveNote=function(e){for(var t in c)c[t].pageId==e&&delete c[t]},t.prototype.returnNewNote=function(){return c[f]},t.prototype.addNote=function(e,t){g(e,t)},t.prototype.getContrNoteKey=function(e,t,n){for(var r in c){var o=c[r];if(e==o.contrKey&&(!t||t==o.pageId))return n?o:r}return undefined},t.prototype.otherChangeNote=function(e,t,n){e&&(b.getNoteArr(t).forEach(function(e){delete c[e.id]}),e.forEach(function(e){var n;e.pageId=t,c[(n=e).id]=$.extend(!0,{id:n.id,text:"",lastText:null,hasArea:!1,width:50,height:50,left:0,top:0,pageId:n.pageId,index:b.getNoteArr(n.pageId).length+1},n),c[f]}),n&&b.emitChange())},t.prototype.pageAddNote=function(e,t,n){e&&(p=null,b.getNoteArr(t).forEach(function(e){delete c[e.id]}),e.forEach(function(e){e&&(e.pageId=t,delete e.id,b.addNote(e,!0))}),n&&b.emitChange())},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter);l["default"].register(function(e){switch(e.actionType){case s["default"].NOTE_ADD:g(e.option),b.emitChange();break;case s["default"].NOTE_UPDATE:m(e.id,e.option);break;case s["default"].NOTE_REMOVE:y(e.id),b.emitChange();break;case s["default"].NOTE_SWITCHDISPLAY:t=e.display,h=t,b.emitChange()}var t});var b=new v;t["default"]=b},,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=n(484),l=n(9),u=window.$,c=0,d={},f={show:!1,value:0,isHorizontal:!0};function p(e){var t=e;return t.id=++c,t.isShow=!!e.isShow,d[c]=t,d[c]}var h=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getPageTypeLine=function(e,t){var n=[];for(var r in d)d[r].pageId==e&&d[r].type==t&&n.push(d[r]);return n},t.prototype.removePageTypeLine=function(e,t,n){for(var r in d)d[r].pageId==e&&d[r].type==t&&delete d[r];n||h.emitChange()},t.prototype.getPageLineArr=function(e){var t={x:[],y:[]};for(var n in d){var r=d[n];r.pageId==e&&("x"===r.type?t.x.push(r.value):"y"===r.type&&t.y.push(r.value))}return t},t.prototype.pageRemoveLine=function(e){for(var t in d)d[t].pageId==e&&delete d[t]},t.prototype.returnNewLine=function(){return d[c]},t.prototype.isHave=function(e){for(var t in d)if(parseInt(t)!=e.id&&d[t].pageId==e.pageId&&d[t].type==e.type&&d[t].value==e.value)return!0;return!1},t.prototype.getLine=function(e){return d[e]},t.prototype.addGuideLine=function(e){p(e)},t.prototype.pageAddGuideAllLine=function(e,t,n){n&&h.pageRemoveLine(t);var r=function(n){e[n].unique().forEach(function(e){var r={pageId:t,type:n,value:e,isShow:!1};h.addGuideLine(r)})};for(var o in e)r(o);n&&h.emitChange()},t.prototype.initTempLine=function(e,t,n){f=e?u.extend(!0,f,t):{show:!1,value:0,isHorizontal:!0},n||h.emitChange()},t.prototype.updateTempLine=function(e,t){f.value=e,t||h.emitChange()},t.prototype.getTempLine=function(){return f},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(l.EventEmitter));i["default"].register(function(e){switch(e.actionType){case s.GuideLineActionID.GUIDE_ADD:p({pageId:e.pageId,type:e.type,value:e.value,isShow:e.isShow}),h.emitChange();break;case s.GuideLineActionID.GUIDE_UPDATE:t=e.id,n=e.value,d[t]&&(d[t].value=n),h.emitChange();break;case s.GuideLineActionID.GUIDE_REMOVE:!function(e){delete d[e]}(e.id),h.emitChange();break;case s.GuideLineActionID.GUIDE_SHOW:!function(e,t){d[e]&&(d[e].isShow=t)}(e.id,e.isShow),h.emitChange()}var t,n}),t["default"]=h},function(e,t,n){var r=n(337),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(6)),i=r(n(81)),s=r(n(83)),l=r(n(42)),u=r(n(78)),c=r(n(149)),d=n(316),f=n(291),p=n(63),h=n(269),g=n(154),y=n(204),m=window.$;function _(e,t){var n=o["default"].getView(),r=o["default"].getPages();return e?(t||n.structHierarchy).map(function(e){if("page"==e.type)return r[e.key];if("folder"==e.type){var t=m.extend(!0,{},e);return t.folderHierarchy=_(!0,e.folderHierarchy),t}return undefined}):n.structHierarchy}function v(e,t){o["default"].getView().structHierarchy=e,t&&o["default"].emitPageStructChange()}function b(e,t,n,r){var a=window,i=a.isPrototypeTool,s=a.structHierarchy,u=i?o["default"].getView().structHierarchy:m.extend(!0,[],s),c=i?o["default"].getPages():l["default"].getPagesObj(),d=0;return t||(n=u,r=[t={folderNum:0,pageLine:0,children:[],layers:0}]),n.forEach(function(n){if("folder"==n.type&&n.isShow){var o=x(n.key,"folder",u),a=r.concat(),i={key:n.key,folderNum:0,pageLine:0,children:[],before:{folderNum:t.folderNum,pageLine:t.pageLine+Math.ceil(d/e)}};t.children.push(i),r.forEach(function(t){t.folderNum++,t.pageLine+=Math.ceil(d/e)}),d=0,a.push(i),b(e,i,o.val.folderHierarchy,a)}else"page"==n.type&&!1!==c[n.key].isShow&&d++}),r[0].layers=Math.max(r[0].layers,r.length-1),r.forEach(function(t){t.pageLine+=Math.ceil(d/e)}),t}function w(e,t){if(e)return e.map(function(e){if("page"==e.type)return t.push(e.key),e;if("folder"==e.type){var n=x(e.key,"folder");return w(n.val.folderHierarchy,t),m.extend(!0,{},n.val)}return undefined})}function C(e){var t=x(e.key,"folder"),n=[];!function r(e,t){e&&e.forEach(function(e){"page"==e.type?t.push(e.key):"folder"==e.type&&r(e.folderHierarchy,t)})}(t.val.folderHierarchy,n),c["default"].isOtherEditing(n)||(m.extend(!0,[],t.val.folderHierarchy).forEach(function(e){"page"==e.type?d.deletePage(e.key,!0):"folder"==e.type&&C(e)}),t.hierarchy.splice(t.index,1))}function x(e,t,n,r,a){var i=o["default"].getView(),s=n||i.structHierarchy;return r||(r={}),s.forEach(function(n,o){n.key==e&&n.type==t&&(r.hierarchy=s,r.val=n,r.index=o,r.parentKey=a),"folder"!=n.type||r.val||x(e,t,n.folderHierarchy,r,n.key)}),r}function S(e){var t=x(e,"folder").val;t.fold=!t.fold}function P(e,t){x(e,"folder").val.name=t}function k(e,t){var n=x(e,"folder").val;n.isShow=!n.isShow,t||o["default"].emitPageStructChange(),h.resetPagePos()}function O(e,t,n,r){var a=o["default"].getView(),i=e||[];return r=r||1,(t||a.structHierarchy).forEach(function(e){(e=m.extend(!0,{},e)).parentHide=n,i.push(e),"folder"==e.type&&(e.index=r,O(i,e.folderHierarchy,!e.isShow||n,r+1),i.push({type:"endLine",key:e.key,name:e.name,isShow:e.isShow,parentHide:n}))}),i}function E(){var e=0;return O().forEach(function(t){"page"==t.type&&e++}),e}function T(e,t,n){("bottom"==n?e.reverse():e).forEach(function(e){var r=m.structDragKeyArr(e),o=x(r[0],r[1]),a=o.index,i=x(t[0],t[1]),s=i.index;o.hierarchy&&o.hierarchy.splice(a,1),"folder"==t[1]?"middle"==n&&i.val?i.val.folderHierarchy.push(o.val):"bottom"==n&&i.val?i.val.fold?i.hierarchy&&i.hierarchy.splice(s+1,0,o.val):i.val.folderHierarchy.unshift(o.val):i.hierarchy&&i.hierarchy.splice(s,0,o.val):("bottom"==n&&s++,i.hierarchy&&i.hierarchy.splice(s,0,o.val))}),o["default"].emitPageStructChange(),h.resetPagePos()}function M(e,t,n){var r=o["default"].getView(),a=[];e&&e.forEach(function(e){var t=x(e.key,e.type);a.push(t.val),t.hierarchy.splice(t.index,1)}),(n||r.structHierarchy).push({key:++r.folderTotal,type:"folder",name:"分组"+r.folderTotal,folderHierarchy:a,fold:!e,isShow:!0}),t&&o["default"].emitPageStructChange()}function D(e,t){var n=o["default"].getView(),r=x(e[0],e[1]);r.hierarchy.splice(r.index+1,0,{key:++n.folderTotal,type:"folder",name:"分组"+n.folderTotal,folderHierarchy:[],fold:!0,isShow:!0}),t&&o["default"].emitPageStructChange()}function A(e,t,n){var r,a=o["default"].getView(),i=x(e[0],e[1]);if(t){var s=x(t,n?"folder":"page");r=s.val,s.hierarchy.splice(s.index,1)}i.hierarchy.splice(parseInt(i.index),0,n?r:{key:t?parseInt(t):a.total,type:"page"})}function j(e,t,n){var r,a=o["default"].getView(),i=x(e[0],e[1]);if(t){var s=x(t,n?"folder":"page");r=s.val,s.hierarchy.splice(s.index,1)}i.hierarchy.splice(i.index+1,0,n?r:{key:t?parseInt(t):a.total,type:"page"})}function I(e,t,n){var r,a=o["default"].getView();if(t){var i=x(t,n?"folder":"page");r=i.val,i.hierarchy.splice(i.index,1)}var s=x(e,"folder");s.hierarchy.splice(parseInt(s.index),0,n?r:{key:t?parseInt(t):a.total,type:"page"})}function L(e,t,n,r){var a,i=o["default"].getView();if(t){var s=x(t,r?"folder":"page");a=s.val,s.hierarchy.splice(s.index,1)}if(m.isUndefined(e))i.structHierarchy[n?"unshift":"push"](r?a:{key:t?parseInt(t):i.total,type:"page"});else{var l=x(e,"folder");l&&l.val.folderHierarchy[n?"unshift":"push"](r?a:{key:t?parseInt(t):i.total,type:"page"})}}function R(e,t,n){var r=o["default"].getView();if(t){var a=x(t,"page");a.hierarchy.splice(a.index,1)}-1==n?e.unshift({key:t?parseInt(t):r.total,type:"page"}):e.splice(n+1,0,{key:t?parseInt(t):r.total,type:"page"})}function B(e){var t=o["default"].getView(),n=[],r={key:++t.folderTotal,type:"folder",name:"分组"+t.folderTotal,folderHierarchy:n,fold:e.fold,isShow:e.isShow};return e.folderHierarchy.forEach(function(e){"page"==e.type?(F(e.key,!0,!0),n.push({key:t.total,type:"page"})):"folder"==e.type&&n.push(B(e))}),r}function N(e,t){var n=x(""+e,"folder");n.hierarchy.splice(n.index+1,0,B(n.val)),t||(o["default"].emitViewChange(),o["default"].emitPagesChange(),a["default"].emitChange())}function F(e,t,n){var r=o["default"].getPages(),l=y.getNewPagePosi(),c=r[e];g.pageCreate(l,!1,n);var d=o["default"].getViewTotal();o["default"].updateProp(d,{serverKey:c.serverKey,backColor:c.backColor,pageHeight:c.pageHeight,isLandscape:c.isLandscape,events:c.events,name:c.name});var h=p.getPageByHierarchy(parseInt(e),!0);u["default"].removeInitVal(h,undefined,c.isLandscape);var m=i["default"].getNoteArr(parseInt(c.key),!0);f.importPage(h,d,undefined,m,c.key,c.isLandscape);var _=s["default"].getPageLineArr(c.key);s["default"].pageAddGuideAllLine(_,d),n||j([e,"page"],d),t||(o["default"].emitViewChange(),o["default"].emitPagesChange(),a["default"].emitChange())}t.getStructHierarchy=_,t.setStructHierarchy=v,t.getStructTree=b,t.getFolderAllVal=w,t.deleteFolder=C,t.findStructFolder=x,t.changeStructFolderFold=S,t.changeStructFolderName=P,t.changeStructFolderHide=k,t.getStructAll=O,t.getStructPagesLength=E,t.changeStructHierarchy=T,t.addStructFolder=M,t.addStructFolderAfter=D,t.addStructPageBefore=A,t.addStructPageAfter=j,t.addStructPageInFolderBefore=I,t.addStructPageInFolder=L,t.addStructPageInFolderIndex=R,t.copyFolder=B,t.structCopyFolder=N,t.structCopyPage=F,t["default"]={structCopyPage:F,structCopyFolder:N,addStructFolder:M,addStructFolderAfter:D,addStructPageBefore:A,addStructPageAfter:j,addStructPageInFolderBefore:I,addStructPageInFolder:L,addStructPageInFolderIndex:R,getStructHierarchy:_,setStructHierarchy:v,getStructTree:b,getFolderAllVal:w,deleteFolder:C,findStructFolder:x,changeStructFolderFold:S,changeStructFolderName:P,changeStructFolderHide:k,getStructAll:O,getStructPagesLength:E,changeStructHierarchy:T}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COPY_TOAST_SHOW="COPY_TOAST_SHOW",e.HIDE_TOAST="HIDE_TOAST"}(t.CopyToastActionID||(t.CopyToastActionID={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27)),a=r(n(23)),i=r(n(454)),s=r(n(5)),l=r(n(49));function u(){window.renderPages=!0,setTimeout(function(){s["default"].emitViewChange(),s["default"].emitPageStructChange(),l["default"].emitChange(),a["default"].emitChange(),i["default"].emitChange(),setTimeout(function(){o["default"].emitChange()},0),window.renderPages=!1},0)}t.pageEmitChange=u,t["default"]={pageEmitChange:u}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(10)),i=r(n(252)),s=r(n(32));function l(e,t,n,r,s){var l=t||i["default"].getChildKey(),u=n?o["default"].getContrByAll(n):o["default"].getFirstSelectContr();u.children?window.log("thisSymbolContr.children, undefined"):u.children={},u.children[l]||(u.children[l]={}),$.extend(!0,u.children[l],e),o["default"].initCache(),r||(o["default"].emitChange(),s||a["default"].createData({type:"changeSymbolChild",name:"["+u.name+"] 修改子集属性",handleObjType:"symbol",autoSaveType:"pageContrs"}))}function u(e,t,n,r){var s=t||i["default"].getChildKey(),l=n?o["default"].getContrByAll(n):o["default"].getFirstSelectContr();l.children[s]&&!$.isUndefined(l.children[s][e])&&delete l.children[s][e],o["default"].initCache(),r||(o["default"].emitChange(),a["default"].createData({type:"removeSymbolChildVal",name:"["+l.name+"] 去掉子集属性",handleObjType:"symbol",autoSaveType:"pageContrs"}))}function c(e,t,n){var r=o["default"].getSymbolContr(),a=r.symbols[e];a&&a.hierarchy&&a.hierarchy.forEach(function(o){var a=r.contrs[o];"symbol"==a.type?c(a.symbolKey,t,n):"wrapbox"==a.type?function i(e,t,n,r){for(var o in e.contrs){var a=e.contrs[o];"symbol"==a.type?c(a.symbolKey,n,r):"wrapbox"==a.type?i(a,t,n,r):n[$.getContrId(a)]=r}}(a,e,t,n):t[$.getContrId(a)]=n})}function d(e,t){var n=o["default"].getSymbolContr();if(t&&n.symbols[e]){var r=[];return n.symbols[e].hierarchy.forEach(function(e){n.contrs[e]&&r.push(n.contrs[e])}),r}var a={},i=[];return n.symbols[e]&&(n.symbols[e].hierarchy.forEach(function(e){n.contrs[e]&&(a[e]=n.contrs[e],i.push(e))}),n.symbols[e].hierarchy=i),a}function f(e){return d(s["default"].getSymbolMaskContr().symbolKey,e)}t.changeSymbolChild=l,t.removeSymbolChildVal=u,t.getAllSymbolChildContrKey=c,t.getSymbolChildContr=d,t.getThisSymbolChildContr=f,t["default"]={changeSymbolChild:l,removeSymbolChildVal:u,getAllSymbolChildContrKey:c,getSymbolChildContr:d,getThisSymbolChildContr:f}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=f(n(8)),a=f(n(362)),i=f(n(5)),s=n(607),l=n(389),u=n(716),c=n(457),d=n(348);function f(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var p,h,g={createBaseContr:function(e){var t=(0,s.createBaseContr)(e);t&&(0,c.createContr)(t)},createTextContr:function(e){o["default"].dispatch({actionType:a["default"].CONTR_CREATETEXT,option:e})},createIconContr:function(e){o["default"].dispatch({actionType:a["default"].CONTR_CREATEICON,option:e})},createHotspotContr:function(e){o["default"].dispatch({actionType:a["default"].CONTR_CREATEHOTSPOT,option:e})},createImageContr:function(e){var t=(0,l.createImageContr)(e);t&&(0,c.createContr)(t)},createWrapboxContr:function(){var e=(0,u.createWrapboxContr)();e&&(0,c.createContr)(e)},moveContr:function(e,t,n,r){o["default"].dispatch({actionType:a["default"].CONTR_MOVE,key:e,posi:t,changePosi:r,noEmit:n})},contrUpdate:function(e,t,n,r){i["default"].isPrdView()?(0,d.changePrdContrVal)(e,t,n,r):o["default"].dispatch({actionType:a["default"].CONTR_UPDATE,key:e,option:t,isOriginal:n,noEmit:r})},contrUpdateByAll:function(e,t,n){o["default"].dispatch({actionType:a["default"].CONTR_UPDATEBYALL,key:e,option:t,isOriginal:n})},selectAll:function(){o["default"].dispatch({actionType:a["default"].CONTR_SELECTALL})},selectChange:function(e,t){o["default"].dispatch({actionType:a["default"].CONTR_SELECTCHANGE,selectArr:e,tab:t})},saveMergeBox:function(){o["default"].dispatch({actionType:a["default"].CONTR_SAVEMERGE})},backMergeBox:function(){o["default"].dispatch({actionType:a["default"].CONTR_BACKMERGE})},editState:function(e){o["default"].dispatch({actionType:a["default"].CONTR_EDITSTATE,index:e})}},y=g;t["default"]=y,(p=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(p.register(g,"ContrActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ContrActions.js"),p.register(y,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ContrActions.js")),(h=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&h(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";n.r(t),n.d(t,"Block",function(){return Q}),n.d(t,"Change",function(){return Me}),n.d(t,"Data",function(){return M}),n.d(t,"Decoration",function(){return pe}),n.d(t,"Document",function(){return A}),n.d(t,"Editor",function(){return wt}),n.d(t,"Inline",function(){return I}),n.d(t,"KeyUtils",function(){return b}),n.d(t,"Leaf",function(){return N}),n.d(t,"Mark",function(){return R}),n.d(t,"Node",function(){return Z}),n.d(t,"Operation",function(){return Ee}),n.d(t,"PathUtils",function(){return ue}),n.d(t,"Point",function(){return de}),n.d(t,"Range",function(){return me}),n.d(t,"resetMemoization",function(){return q}),n.d(t,"Selection",function(){return ve}),n.d(t,"Text",function(){return X}),n.d(t,"TextUtils",function(){return ze}),n.d(t,"useMemoization",function(){return W}),n.d(t,"Value",function(){return we});var r=n(37),o=n.n(r),a=n(4),i=n(44),s=n(65),l=n(158),u=n.n(l),c=n(306),d=n(159),f=n.n(d),p=n(307),h=n.n(p),g=n(426),y=n.n(g),m=void 0,_=void 0;function v(){m=0,_=function(){return""+m++}}v();var b={create:function(e){if(null==e)return _();if("string"==typeof e)return e;throw new Error("Keys must be strings, but you passed: "+e)},setGenerator:function(e){_=e},resetGenerator:v},w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},k=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},O=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},E=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=undefined;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},M=function(){function e(){C(this,e)}return x(e,null,[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(a.Map.isMap(t))return t;if(o()(t))return e.fromJSON(t);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+t)}},{key:"fromJSON",value:function(e){return new a.Map(e)}}]),e}();M.fromJS=M.fromJSON;var D={data:undefined,key:undefined,nodes:undefined},A=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isDocument(e))return e;if((a.List.isList(e)||Array.isArray(e))&&(e={nodes:e}),o()(e))return t.fromJSON(e);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isDocument(e))return e;var n=e.data,r=n===undefined?{}:n,o=e.key,i=o===undefined?b.create():o,s=e.nodes,l=s===undefined?[]:s;return new t({key:i,data:new a.Map(r),nodes:Z.createList(l)})}}]),t}(Object(a.Record)(D)),j={data:undefined,key:undefined,nodes:undefined,type:undefined},I=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isInline(e))return e;if("string"==typeof e&&(e={type:e}),o()(e))return t.fromJSON(e);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e))return new a.List(e.map(t.create));throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isInline(e))return e;var n=e.data,r=n===undefined?{}:n,o=e.key,i=o===undefined?b.create():o,s=e.nodes,l=s===undefined?[]:s,u=e.type;if("string"!=typeof u)throw new Error("`Inline.fromJS` requires a `type` string.");return new t({key:i,type:u,data:new a.Map(r),nodes:Z.createList(l)})}},{key:"isInlineList",value:function(e){return a.List.isList(e)&&e.every(function(e){return t.isInline(e)})}}]),t}(Object(a.Record)(j)),L={data:undefined,type:undefined},R=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"toJSON",value:function(){return{object:this.object,type:this.type,data:this.data.toJSON()}}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isMark(e))return e;if("string"==typeof e&&(e={type:e}),o()(e))return t.fromJSON(e);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"createSet",value:function(e){if(a.Set.isSet(e)||Array.isArray(e))return new a.Set(e.map(t.create));if(null==e)return Object(a.Set)();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isMark(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(o()(e)){var n={};return"type"in e&&(n.type=e.type),"data"in e&&(n.data=M.create(e.data)),n}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,r=n===undefined?{}:n,o=e.type;if("string"!=typeof o)throw new Error("`Mark.fromJS` requires a `type` string.");return new t({type:o,data:new a.Map(r)})}},{key:"isMarkSet",value:function(e){return a.Set.isSet(e)&&e.every(function(e){return t.isMark(e)})}}]),t}(Object(a.Record)(L)),B={marks:undefined,text:undefined},N=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"updateMark",value:function(e,t){var n=this.marks;if(t.equals(e))return this;if(!n.has(e))return this;var r=n.withMutations(function(n){n.remove(e).add(t)});return this.set("marks",r)}},{key:"addMark",value:function(e){var t=this.marks;return this.set("marks",t.add(e))}},{key:"addMarks",value:function(e){var t=this.marks;return this.set("marks",t.union(e))}},{key:"insertText",value:function(e,t){var n=this.text,r=n.slice(0,e)+t+n.slice(e);return this.set("text",r)}},{key:"removeMark",value:function(e){var t=this.marks;return this.set("marks",t.remove(e))}},{key:"toJSON",value:function(){return{object:this.object,text:this.text,marks:this.marks.toArray().map(function(e){return e.toJSON()})}}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isLeaf(e))return e;if("string"==typeof e&&(e={text:e}),o()(e))return t.fromJSON(e);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+e)}},{key:"createLeaves",value:function(e){if(e.size<=1)return e;var t=!1,n=Object(a.List)().withMutations(function(n){e.findLast(function(e,r){var o=n.first();if(o){if(o.marks.equals(e.marks))return t=!0,void n.set(0,o.set("text",""+e.text+o.text));if(""===o.text)return t=!0,void n.set(0,e);if(""===e.text)return void(t=!0)}n.unshift(e)})});return t?n:e}},{key:"splitLeaves",value:function(e,t){if(t<0)return[Object(a.List)(),e];if(0===e.size)return[Object(a.List)(),Object(a.List)()];var n=0,r=-1,o=void 0,i=void 0;return e.find(function(e){r++;var a=n,s=e.text;if((n+=s.length)<t)return!1;if(a>t)return!1;var l=t-a;return o=e.set("text",s.slice(0,l)),i=e.set("text",s.slice(l)),!0}),o?""===o.text?0===r?[a.List.of(o),e]:[e.take(r),e.skip(r)]:""===i.text?r===e.size-1?[e,a.List.of(i)]:[e.take(r+1),e.skip(r+1)]:[e.take(r).push(o),e.skip(r+1).unshift(i)]:[e,Object(a.List)()]}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e))return new a.List(e.map(t.create));throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.text,r=n===undefined?"":n,o=e.marks,i=o===undefined?[]:o;return new t({text:r,marks:Object(a.Set)(i.map(R.fromJSON))})}},{key:"isLeafList",value:function(e){return a.List.isList(e)&&e.every(function(e){return t.isLeaf(e)})}}]),t}(Object(a.Record)(B)),F=!0,H=Symbol("LEAF"),$=Symbol("STORE_KEY"),z=Symbol("undefined"),U=Symbol("null"),V=undefined,K=new WeakMap;function G(e,t){var n=function(t){var n=e[t];if(!n)throw new Error('Object does not have a property named "'+t+'".');e[t]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];if(!F)return n.apply(this,r);K.has(this)||K.set(this,{noArgs:{},hasArgs:{}});var a=K.get(this),i=a.noArgs,s=a.hasArgs,l=0!==r.length,u=void 0,c=void 0;if((u=l?function(e,t){var n=!0,r=!1,o=undefined;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;if(s===undefined?s=z:null==s&&(s=U),(e="object"===(void 0===s?"undefined":w(s))?e[$]&&e[$].get(s):e[s])===V)return V}}catch(l){r=!0,o=l}finally{try{!n&&i["return"]&&i["return"]()}finally{if(r)throw o}}return e[H]}(s,c=[t].concat(r)):i[t])!==V)return u===z?undefined:u;var d=n.apply(this,r),f=d===undefined?z:d;return l?function(e,t,n){var r=e,o=!0,a=!1,i=undefined;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value;if(u===undefined?u=z:null==u&&(u=U),"object"===(void 0===u?"undefined":w(u)))if(r[$]||(r[$]=new WeakMap),r[$].has(u))r=r[$].get(u);else{var c={};r[$].set(u,c),r=c}else r[u]||(r[u]={}),r=r[u]}}catch(d){a=!0,i=d}finally{try{!o&&l["return"]&&l["return"]()}finally{if(a)throw i}}r[H]=n}(s,c,f):i[t]=f,d}},r=!0,o=!1,a=undefined;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){n(i.value)}}catch(l){o=!0,a=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw a}}}function q(){K=new WeakMap}function W(e){F=e}var Y={leaves:undefined,key:undefined},X=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"searchLeafAtOffset",value:function(e){var t=0,n=0,r=-1;return{leaf:this.leaves.find(function(o){return r++,(t=(n=t)+o.text.length)>=e}),endOffset:t,index:r,startOffset:n}}},{key:"addMark",value:function(e,t,n){var r=a.Set.of(n);return this.addMarks(e,t,r)}},{key:"addMarks",value:function(e,t,n){if(""===this.text&&0===t&&0===e){var r=this.leaves.first();if(!r)return this.set("leaves",a.List.of(N.fromJSON({text:"",marks:n})));var o=r.addMarks(n);return o===r?this:this.set("leaves",a.List.of(o))}if(""===this.text)return this;if(0===t)return this;if(e>=this.text.length)return this;var i=N.splitLeaves(this.leaves,e),s=E(i,2),l=s[0],u=s[1],c=N.splitLeaves(u,t),d=E(c,2),f=d[0],p=d[1],h=l.concat(f.map(function(e){return e.addMarks(n)}),p);return this.setLeaves(h)}},{key:"getLeaves",value:function(e){var t=this.leaves;if(!e||0===e.size)return t;if(0===t.size){var n=e.map(function(e){return e.mark}),r=N.create({marks:n});return Object(a.List)([r])}if(0===this.text.length){var o=e.map(function(e){return e.mark}),i=N.create({marks:o});return Object(a.List)([i])}var s=this.key,l=this.text;return e.forEach(function(e){var n=e.start,r=e.end,o=e.mark,a=n.key===s,i=r.key===s;if(a&&i){var u=a?n.offset:0,c=i?r.offset-u:l.length-u;if(c<1)return;if(u>=l.length)return;if(0!==u||c<l.length){var d=N.splitLeaves(t,u),f=E(d,2),p=f[0],h=f[1],g=N.splitLeaves(h,c),y=E(g,2),m=y[0],_=y[1];return void(t=p.concat(m.map(function(e){return e.addMark(o)}),_))}}t=t.map(function(e){return e.addMark(o)})}),t===this.leaves?t:N.createLeaves(t)}},{key:"getActiveMarksBetweenOffsets",value:function(e,t){if(e<=0&&t>=this.text.length)return this.getActiveMarks();if(e>=t)return Object(a.Set)();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach(function(o){var a=r;if(!((r=a+o.text.length)<=e)){if(a>=t)return!1;if(n)return(n=n.intersect(o.marks))&&n.size,!1;n=o.marks}}),n||Object(a.Set)()}},{key:"getActiveMarks",value:function(){var e=this;if(0===this.leaves.size)return Object(a.Set)();var t=this.leaves.first().marks;return 0===t.size?t:t.toOrderedSet().withMutations(function(t){e.leaves.forEach(function(e){if(t.intersect(e.marks),0===t.size)return!1})})}},{key:"getMarksBetweenOffsets",value:function(e,t){if(e<=0&&t>=this.text.length)return this.getMarks();if(e>=t)return Object(a.Set)();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach(function(o){var a=r;if(!((r=a+o.text.length)<=e))return!(a>=t)&&void(n=n?n.union(o.marks):o.marks)}),n||Object(a.Set)()}},{key:"getMarks",value:function(){var e=this.getMarksAsArray();return new a.OrderedSet(e)}},{key:"getMarksAsArray",value:function(){if(0===this.leaves.size)return[];var e=this.leaves.first().marks;if(1===this.leaves.size)return e.toArray();var t=[];return this.leaves.forEach(function(e){t.push(e.marks.toArray())}),Array.prototype.concat.apply(e.toArray(),t)}},{key:"getMarksAtIndex",value:function(e){var t=this.searchLeafAtOffset(e).leaf;return t?t.marks:Object(a.Set)()}},{key:"insertText",value:function(e,t,n){if(""===this.text)return this.set("leaves",a.List.of(N.create({text:t,marks:n})));if(0===t.length)return this;n||(n=Object(a.Set)());var r=this.searchLeafAtOffset(e),o=r.startOffset,i=r.leaf,s=r.index,l=e-o,u=i.text.slice(0,l),c=i.text.slice(l),d=this.leaves;if(i.marks.equals(n))return this.set("leaves",d.set(s,i.set("text",u+t+c)));var f=d.splice(s,1,i.set("text",u),N.create({text:t,marks:n}),i.set("text",c));return this.setLeaves(f)}},{key:"removeMark",value:function(e,t,n){if(""===this.text&&0===e&&0===t){var r=this.leaves.first();if(!r)return this;var o=r.removeMark(n);return o===r?this:this.set("leaves",a.List.of(o))}if(t<=0)return this;if(e>=this.text.length)return this;var i=N.splitLeaves(this.leaves,e),s=E(i,2),l=s[0],u=s[1],c=N.splitLeaves(u,t),d=E(c,2),f=d[0],p=d[1],h=l.concat(f.map(function(e){return e.removeMark(n)}),p);return this.setLeaves(h)}},{key:"removeText",value:function(e,t){if(t<=0)return this;if(e>=this.text.length)return this;if(1===t){var n=this.searchLeafAtOffset(e+1),r=n.leaf,o=n.index,i=e-n.startOffset;if(r){if(1===r.text.length){var s=this.leaves.remove(o);return this.setLeaves(s)}var l=r.text.slice(0,i)+r.text.slice(i+t);if(l.length>0)return this.set("leaves",this.leaves.set(o,r.set("text",l)))}}var u=N.splitLeaves(this.leaves,e),c=E(u,2),d=c[0],f=c[1],p=N.splitLeaves(f,t)[1],h=N.createLeaves(d.concat(p));if(1===h.size){var g=h.first();if(""===g.text)return this.set("leaves",a.List.of(g.set("marks",this.getActiveMarks())))}return this.set("leaves",h)}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t={object:this.object,leaves:this.getLeaves().toArray().map(function(e){return e.toJSON()})};return e.preserveKeys&&(t.key=this.key),t}},{key:"updateMark",value:function(e,t,n,r){var o=R.create(n),i=o.merge(r);if(""===this.text&&0===t&&0===e){var s=this.leaves.first();if(!s)return this;var l=s.updateMark(o,i);return l===s?this:this.set("leaves",a.List.of(l))}if(t<=0)return this;if(e>=this.text.length)return this;var u=N.splitLeaves(this.leaves,e),c=E(u,2),d=c[0],f=c[1],p=N.splitLeaves(f,t),h=E(p,2),g=h[0],y=h[1],m=d.concat(g.map(function(e){return e.updateMark(o,i)}),y);return this.setLeaves(m)}},{key:"splitText",value:function(e){var t=N.splitLeaves(this.leaves,e);return[this.set("leaves",t[0]),this.set("leaves",t[1]).regenerateKey()]}},{key:"mergeText",value:function(e){var t=this.leaves.concat(e.leaves);return this.setLeaves(t)}},{key:"setLeaves",value:function(e){if(1===(e=N.createLeaves(e)).size){var t=e.first();if((!t.marks||0===t.marks.size)&&""===t.text)return this.set("leaves",Object(a.List)([N.create()]))}return 0===e.size&&(e=e.push(N.create())),this.set("leaves",e)}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";if(t.isText(e))return e;if("string"==typeof e&&(e={leaves:[{text:e}]}),o()(e)){if(e.text){var n=e,r=n.text,a=n.marks;e={key:n.key,leaves:[{text:r,marks:a}]}}return t.fromJSON(e)}throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e))return new a.List(e.map(t.create));throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isText(e))return e;var n=e.key,r=n===undefined?b.create():n,o=e.leaves;if(o||(e.ranges?(Object(i.a)(!1,"As of slate@0.27.0, the `ranges` property of Slate objects has been renamed to `leaves`."),o=e.ranges):o=Object(a.List)()),Array.isArray(o))o=Object(a.List)(o.map(function(e){return N.create(e)}));else{if(!a.List.isList(o))throw new Error("leaves must be either Array or Immutable.List");o=o.map(function(e){return N.create(e)})}return 0===o.size&&(o=o.push(N.create())),new t({leaves:N.createLeaves(o),key:r})}},{key:"isTextList",value:function(e){return a.List.isList(e)&&e.every(function(e){return t.isText(e)})}}]),t}(Object(a.Record)(Y));G(X.prototype,["getActiveMarks","getMarks","getMarksAsArray"]);var Z=function(){function e(){C(this,e)}return x(e,null,[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(e.isNode(t))return t;if(o()(t)){var n=t.object;switch(!n&&t.kind&&(Object(i.a)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),n=t.kind),n){case"block":return Q.create(t);case"document":return A.create(t);case"inline":return I.create(t);case"text":return X.create(t);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(a.List.isList(t)||Array.isArray(t))return Object(a.List)(t.map(e.create));throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+t)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(Q.isBlock(e)||I.isInline(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(o()(e)){var t={};return"type"in e&&(t.type=e.type),"data"in e&&(t.data=M.create(e.data)),t}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var t=e.object;switch(!t&&e.kind&&(Object(i.a)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),t=e.kind),t){case"block":return Q.fromJSON(e);case"document":return A.fromJSON(e);case"inline":return I.fromJSON(e);case"text":return X.fromJSON(e);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+e)}}},{key:"isNode",value:function(e){return Q.isBlock(e)||A.isDocument(e)||I.isInline(e)||X.isText(e)}},{key:"isNodeList",value:function(t){return a.List.isList(t)&&t.every(function(t){return e.isNode(t)})}}]),e}(),J={data:undefined,key:undefined,nodes:undefined,type:undefined},Q=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isBlock(e))return e;if("string"==typeof e&&(e={type:e}),o()(e))return t.fromJSON(e);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e))return new a.List(e.map(t.create));throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isBlock(e))return e;var n=e.data,r=n===undefined?{}:n,o=e.key,i=o===undefined?b.create():o,s=e.nodes,l=s===undefined?[]:s,u=e.type;if("string"!=typeof u)throw new Error("`Block.fromJSON` requires a `type` string.");return new t({key:i,type:u,data:Object(a.fromJS)(r),nodes:Z.createList(l)})}},{key:"isBlockList",value:function(e){return a.List.isList(e)&&e.every(function(e){return t.isBlock(e)})}}]),t}(Object(a.Record)(J));function ee(e,t){for(var n=le(e,t),r=0;r<n;r++){var o=e.get(r),a=t.get(r);if(o<a)return-1;if(o>a)return 1}return e.size===t.size?0:null}function te(e){if(null==e)return null;if(a.List.isList(e))return e;if(Array.isArray(e))return Object(a.List)(e);throw new Error("Paths can only be created from arrays or lists, but you passed: "+e)}function ne(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:le(e,t);return[e.slice(0,n),t.slice(0,n)]}function re(e){return oe(e,0-(arguments.length>1&&arguments[1]!==undefined?arguments[1]:1),arguments.length>2&&arguments[2]!==undefined?arguments[2]:e.size-1)}function oe(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e.size-1,r=e.get(n)+t;return e.set(n,r)}function ae(e,t){var n=ne(e,t),r=E(n,2),o=r[0],a=r[1];return e.size<t.size&&0===ee(o,a)}function ie(e,t){return e.equals(t)}function se(e,t){var n=e.size-1,r=ne(e,t,n),o=E(r,2),a=o[0],i=o[1],s=e.get(n),l=t.get(n);return ie(a,i)&&s<l}function le(e,t){return Math.min(e.size,t.size)}var ue={compare:ee,create:te,crop:ne,decrement:re,getAncestors:function(e){return Object(a.List)().withMutations(function(t){for(var n=0;n<e.size;n++)t.push(e.slice(0,n))})},increment:oe,isAbove:ae,isAfter:function(e,t){var n=ne(e,t),r=E(n,2);return 1===ee(r[0],r[1])},isBefore:function(e,t){var n=ne(e,t),r=E(n,2);return-1===ee(r[0],r[1])},isEqual:ie,isOlder:function(e,t){var n=e.size-1,r=ne(e,t,n),o=E(r,2),a=o[0],i=o[1],s=e.get(n),l=t.get(n);return ie(a,i)&&s>l},isSibling:function(e,t){if(e.size!==t.size)return!1;var n=e.butLast(),r=t.butLast();return n.equals(r)},isYounger:se,lift:function(e){return e.slice(0,-1)},drop:function(e){return e.slice(1)},max:function(e,t){return Math.max(e.size,t.size)},min:le,relate:function(e,t){for(var n=[],r=0;r<e.size&&r<t.size;r++){var o=e.get(r);if(o!==t.get(r))break;n.push(o)}return te(n)},transform:function(e,t){var n=t.type,r=t.position,o=t.path;if("add_mark"===n||"insert_text"===n||"remove_mark"===n||"remove_text"===n||"set_mark"===n||"set_node"===n||"set_selection"===n||"set_value"===n||0===e.size)return Object(a.List)([e]);var i=o.size-1,s=ie(o,e),l=se(o,e),u=ae(o,e);if("insert_node"===n&&(s||l||u)&&(e=oe(e,1,i)),"remove_node"===n&&(l?e=re(e,1,i):(s||u)&&(e=[])),"merge_node"===n&&(s||l?e=re(e,1,i):u&&(e=oe(e=re(e,1,i),r,i+1))),"split_node"===n&&(s?e=[e,oe(e)]:l?e=oe(e,1,i):u&&e.get(i+1)>=r&&(e=re(e=oe(e,1,i),r,i+1))),"move_node"===n){var c=t.newPath;if(ie(o,c))return Object(a.List)([e]);u||s?e=se(o,c)&&o.size<c.size?re(c,1,le(c,o)-1).concat(e.slice(o.size)):c.concat(e.slice(o.size)):(l&&(e=re(e,1,i)),(se(c,e)||ie(c,e)||ae(c,e))&&(e=oe(e,1,c.size-1)))}var d=Array.isArray(e)?e:[e];return Object(a.List)(d)}},ce={key:undefined,offset:undefined,path:undefined},de=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"isAfterPoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset>e.offset||1===ue.compare(this.path,e.path))}},{key:"isAfterRange",value:function(e){return!this.isUnset&&this.isAfterPoint(e.end)}},{key:"isAtEndOfRange",value:function(e){return!this.isUnset&&this.equals(e.end)}},{key:"isAtStartOfRange",value:function(e){return!this.isUnset&&this.equals(e.start)}},{key:"isBeforePoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset<e.offset||-1===ue.compare(this.path,e.path))}},{key:"isBeforeRange",value:function(e){return!this.isUnset&&this.isBeforePoint(e.start)}},{key:"isInRange",value:function(e){return!this.isUnset&&(this.equals(e.start)||this.equals(e.end)||this.isAfterPoint(e.start)&&this.isBeforePoint(e.end))}},{key:"isAtEndOfNode",value:function(e){if(this.isUnset)return!1;var t=e.getLastText();return this.key===t.key&&this.offset===t.text.length}},{key:"isAtStartOfNode",value:function(e){if(this.isUnset)return!1;if(0!==this.offset)return!1;var t=e.getFirstText();return this.key===t.key}},{key:"isInNode",value:function(e){return!this.isUnset&&("text"===e.object&&e.key===this.key||!!e.hasNode(this.key))}},{key:"moveBackward",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return 0===e?this:e<0?this.moveForward(-e):this.setOffset(this.offset-e)}},{key:"moveForward",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return 0===e?this:e<0?this.moveBackward(-e):this.setOffset(this.offset+e)}},{key:"moveTo",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,n=this.key;return"number"==typeof e?(t=e,e=this.path):"string"==typeof e?e=(n=e)===this.key?this.path:null:n=e.equals(this.path)?this.key:null,this.merge({key:n,path:e,offset:t})}},{key:"moveToStartOfNode",value:function(e){var t=e.getFirstText();return this.moveTo(t.key,0)}},{key:"moveToEndOfNode",value:function(e){var t=e.getLastText();return this.moveTo(t.key,t.text.length)}},{key:"normalize",value:function(e){if(null==this.key&&null==this.path)return this.setOffset(null);var n=this.key,r=this.offset,o=this.path,a=o&&e.getNode(o);if(!a&&(a=e.getNode(n)))return this.merge({path:e.getPath(n)});if(!a){Object(i.a)(!1,"A point's `path` or `key` invalid and was reset!");var s=e.getFirstText();return s?this.merge({key:s.key,offset:0,path:e.getPath(s.key)}):t.create()}if("text"!==a.object){Object(i.a)(!1,"A point should not reference a non-text node!");var l=a.getTextAtOffset(r),u=a.getOffset(l.key);return this.merge({offset:r-u,key:l.key,path:e.getPath(l.key)})}return a&&o&&n&&n!==a.key&&Object(i.a)(!1,"A point's `key` did not match its `path`!"),this.merge({key:a.key,path:null==o?e.getPath(a.key):o,offset:null==r?0:Math.min(r,a.text.length)})}},{key:"setKey",value:function(e){return null!=e&&(e=b.create(e)),this.set("key",e)}},{key:"setOffset",value:function(e){return this.set("offset",e)}},{key:"setPath",value:function(e){return null!=e&&(e=ue.create(e)),this.set("path",e)}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return e.preserveKeys||delete t.key,t}},{key:"unset",value:function(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function(){return null!=this.key&&null!=this.offset&&null!=this.path}},{key:"isUnset",get:function(){return!this.isSet}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isPoint(e))return e;if(o()(e))return t.fromJSON(e);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isPoint(e))return{key:e.key,offset:e.offset,path:e.path};if(o()(e)){var n={};return"key"in e&&(n.key=e.key),"offset"in e&&(n.offset=e.offset),"path"in e&&(n.path=ue.create(e.path)),"path"in e&&!("key"in e)&&(n.key=null),"key"in e&&!("path"in e)&&(n.path=null),n}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.key,r=n===undefined?null:n,o=e.offset,a=o===undefined?null:o,i=e.path,s=i===undefined?null:i;return new t({key:r,offset:a,path:ue.create(s)})}}]),t}(Object(a.Record)(ce)),fe={anchor:undefined,focus:undefined,mark:undefined},pe=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"setProperties",value:function(e){var n=e=t.createProperties(e),r=n.anchor,o=n.focus,a=n.mark,i={};return r&&(i.anchor=de.create(r)),o&&(i.focus=de.create(o)),a&&(i.mark=R.create(a)),this.merge(i)}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),mark:this.mark.toJSON(e)}}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isDecoration(e))return e;if(me.isRange(e))return t.fromJSON(me.createProperties(e));if(o()(e))return t.fromJSON(e);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e))return new a.List(e.map(t.create));throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isDecoration(e))return{anchor:de.createProperties(e.anchor),focus:de.createProperties(e.focus),mark:R.create(e.mark)};if(o()(e)){var n={};return"anchor"in e&&(n.anchor=de.create(e.anchor)),"focus"in e&&(n.focus=de.create(e.focus)),"mark"in e&&(n.mark=R.create(e.mark)),n}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus,o=e.mark;if(!o)throw new Error("Decorations must be created with a `mark`, but you passed: "+JSON.stringify(e));return new t({anchor:de.fromJSON(n||{}),focus:de.fromJSON(r||{}),mark:R.fromJSON(o)})}}]),t}(Object(a.Record)(fe)),he={block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function ge(e,t){return!(!t||!t[he[e]])}var ye={anchor:undefined,focus:undefined},me=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)}}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isRange(e))return"range"===e.object?e:t.fromJSON(t.createProperties(e));if(o()(e))return t.fromJSON(e);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e))return new a.List(e.map(t.create));throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isRange(e))return{anchor:de.createProperties(e.anchor),focus:de.createProperties(e.focus)};if(o()(e)){var n={};return"anchor"in e&&(n.anchor=de.create(e.anchor)),"focus"in e&&(n.focus=de.create(e.focus)),n}throw new Error("`Range.createProperties` only accepts objects, decorations, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus;return new t({anchor:de.fromJSON(n||{}),focus:de.fromJSON(r||{})})}},{key:"isRange",value:function(e){return ge("range",e)||pe.isDecoration(e)||ve.isSelection(e)}}]),t}(Object(a.Record)(ye)),_e={anchor:undefined,focus:undefined,isFocused:undefined,marks:undefined},ve=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"setIsFocused",value:function(e){return this.set("isFocused",e)}},{key:"setMarks",value:function(e){return this.set("marks",e)}},{key:"setProperties",value:function(e){var n=e=t.createProperties(e),r=n.anchor,o=n.focus,a=k(n,["anchor","focus"]);return r&&(a.anchor=de.create(r)),o&&(a.focus=de.create(o)),this.merge(a)}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map(function(e){return e.toJSON()})}}},{key:"isBlurred",get:function(){return!this.isFocused}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isSelection(e))return e;if(me.isRange(e))return t.fromJSON(me.createProperties(e));if(o()(e))return t.fromJSON(e);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isSelection(e))return{anchor:de.createProperties(e.anchor),focus:de.createProperties(e.focus),isFocused:e.isFocused,marks:e.marks};if(me.isRange(e))return{anchor:de.createProperties(e.anchor),focus:de.createProperties(e.focus)};if(o()(e)){var n={};return"anchor"in e&&(n.anchor=de.create(e.anchor)),"focus"in e&&(n.focus=de.create(e.focus)),"isFocused"in e&&(n.isFocused=e.isFocused),"marks"in e&&(n.marks=null==e.marks?null:R.createSet(e.marks)),n}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus,o=e.isFocused,i=o!==undefined&&o,s=e.marks,l=s===undefined?null:s;return new t({anchor:de.fromJSON(n||{}),focus:de.fromJSON(r||{}),isFocused:i,marks:null==l?null:new a.Set(l.map(R.fromJSON))})}}]),t}(Object(a.Record)(_e)),be={data:undefined,decorations:undefined,document:undefined,selection:undefined},we=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"addMark",value:function(e,t,n,r){var o=this,a=o.document;return a=a.addMark(e,t,n,r),o=this.set("document",a)}},{key:"insertNode",value:function(e,t){var n=this,r=n.document;return r=r.insertNode(e,t),n=(n=n.set("document",r)).mapRanges(function(e){return e.updatePoints(function(e){return e.setPath(null)})})}},{key:"insertText",value:function(e,t,n,r){var o=this,a=o.document,i=a.assertNode(e);return a=a.insertText(e,t,n,r),o=(o=o.set("document",a)).mapRanges(function(e){return e.updatePoints(function(e){return e.key===i.key&&e.offset>=t?e.setOffset(e.offset+n.length):e})})}},{key:"mergeNode",value:function(e){var t=this,n=t.document,r=n.mergeNode(e);e=n.resolvePath(e);var o=ue.decrement(e),a=n.getNode(o),i=n.getNode(e);return t=(t=t.set("document",r)).mapRanges(function(e){if("text"===i.object){var t=a.text.length;e.anchor.key===i.key&&(e=e.moveAnchorTo(a.key,t+e.anchor.offset)),e.focus.key===i.key&&(e=e.moveFocusTo(a.key,t+e.focus.offset))}return e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,r=this,o=r.document;return o=o.moveNode(e,t,n),r=(r=r.set("document",o)).mapRanges(function(e){return e.updatePoints(function(e){return e.setPath(null)})})}},{key:"removeMark",value:function(e,t,n,r){var o=this,a=o.document;return a=a.removeMark(e,t,n,r),o=this.set("document",a)}},{key:"removeNode",value:function(e){var t=this,n=t.document,r=n.assertNode(e),o="text"===r.object?r:r.getFirstText()||r,a="text"===r.object?r:r.getLastText()||r,i=n.getPreviousText(o.key),s=n.getNextText(a.key);return n=n.removeNode(e),t=(t=t.set("document",n)).mapRanges(function(e){var t=e,n=t.start,o=t.end;return r.hasNode(n.key)&&(e=i?e.moveStartTo(i.key,i.text.length):s?e.moveStartTo(s.key,0):e.unset()),r.hasNode(o.key)&&(e=i?e.moveEndTo(i.key,i.text.length):s?e.moveEndTo(s.key,0):e.unset()),e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"removeText",value:function(e,t,n){var r=this,o=r.document,a=o.assertNode(e);o=o.removeText(e,t,n),r=r.set("document",o);var i=n.length,s=t,l=t+i;return r=r.mapRanges(function(e){return e.updatePoints(function(e){return e.key!==a.key?e:e.offset>=l?e.setOffset(e.offset-i):e.offset>s?e.setOffset(s):e})})}},{key:"setNode",value:function(e,t){var n=this,r=n.document;return r=r.setNode(e,t),n=n.set("document",r)}},{key:"setMark",value:function(e,t,n,r,o){var a=this,i=a.document;return i=i.setMark(e,t,n,r,o),a=a.set("document",i)}},{key:"setProperties",value:function(e){var t=this,n=t.document,r=e.data,o=e.decorations,a={};return r&&(a.data=r),o&&(a.decorations=o.map(function(e){return e.isSet?e:n.resolveDecoration(e)})),t=t.merge(a)}},{key:"setSelection",value:function(e){var t=this,n=t,r=n.document,o=n.selection,a=o.setProperties(e);return o=r.resolveSelection(a),t=t.set("selection",o)}},{key:"splitNode",value:function(e,t,n){var r=this,o=r.document,a=o.splitNode(e,t,n),i=o.assertNode(e);return r=(r=r.set("document",a)).mapRanges(function(e){var n=a.getNextText(i.key),r=e,o=r.start,s=r.end;return i.key===o.key&&t<=o.offset&&(e=e.moveStartTo(n.key,o.offset-t)),i.key===s.key&&t<=s.offset&&(e=e.moveEndTo(n.key,s.offset-t)),e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"mapRanges",value:function(e){var t=this,n=t,r=n.document,o=n.selection,a=n.decorations,i=o.isSet?e(o):o;i||(i=o.unset()),i!==o&&(i=r.createSelection(i)),t=t.set("selection",i);var s=a.map(function(t){var n=t.isSet?e(t):t;return n&&n!==t&&(n=r.createDecoration(n)),n});return s=s.filter(function(e){return!!e}),t=t.set("decorations",s)}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t={object:this.object,document:this.document.toJSON(e)};return e.preserveData&&(t.data=this.data.toJSON(e)),e.preserveDecorations&&(t.decorations=this.decorations.toArray().map(function(t){return t.toJSON(e)})),e.preserveSelection&&(t.selection=this.selection.toJSON(e)),t}},{key:"change",value:function(){Object(s.a)(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function(){return this.selection.isUnset?new a.Set:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function(){return this.selection.isUnset?new a.Set:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function(){return this.selection.isUnset?new a.List:this.document.getLeafBlocksAtRange(this.selection)}},{key:"fragment",get:function(){return this.selection.isUnset?A.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function(){return this.selection.isUnset?new a.List:this.document.getLeafInlinesAtRange(this.selection)}},{key:"texts",get:function(){return this.selection.isUnset?new a.List:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function(){Object(s.a)(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(t.isValue(e))return e;if(o()(e))return t.fromJSON(e,n);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isValue(e))return{data:e.data,decorations:e.decorations};if(o()(e)){var n={};return"data"in e&&(n.data=M.create(e.data)),"decorations"in e&&(n.decorations=pe.createList(e.decorations)),n}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,r=n===undefined?{}:n,o=e.decorations,i=o===undefined?[]:o,s=e.document,l=s===undefined?{}:s,u=e.selection,c=u===undefined?{}:u;if(r=M.fromJSON(r),c=(l=A.fromJSON(l)).createSelection(c),i=Object(a.List)(i.map(function(e){return pe.fromJSON(e)})),c.isUnset){var d=l.getFirstText();d&&(c=c.moveToStartOfNode(d)),c=l.createSelection(c)}return new t({data:r,decorations:i,document:l,selection:c})}}]),t}(Object(a.Record)(be)),Ce=u()("slate:operation:apply");function xe(e,t){var n=(t=Ee.create(t)).type;switch(Ce(n,t),n){case"add_mark":var r=t,o=r.path,a=r.offset,i=r.length,s=r.mark;return e.addMark(o,a,i,s);case"insert_node":var l=t,u=l.path,c=l.node;return e.insertNode(u,c);case"insert_text":var d=t,f=d.path,p=d.offset,h=d.text,g=d.marks;return e.insertText(f,p,h,g);case"merge_node":var y=t.path;return e.mergeNode(y);case"move_node":var m=t,_=m.path,v=m.newPath;return ue.isEqual(_,v)?e:e.moveNode(_,v);case"remove_mark":var b=t,w=b.path,C=b.offset,x=b.length,S=b.mark;return e.removeMark(w,C,x,S);case"remove_node":var P=t.path;return e.removeNode(P);case"remove_text":var k=t,O=k.path,E=k.offset,T=k.text;return e.removeText(O,E,T);case"set_mark":var M=t,D=M.path,A=M.offset,j=M.length,I=M.properties,L=M.newProperties;return e.setMark(D,A,j,I,L);case"set_node":var R=t,B=R.path,N=R.newProperties;return e.setNode(B,N);case"set_selection":var F=t.newProperties;return e.setSelection(F);case"set_value":var H=t.newProperties;return e.setProperties(H);case"split_node":var $=t,z=$.path,U=$.position,V=$.properties;return e.splitNode(z,U,V);default:throw new Error('Unknown operation type: "'+n+'".')}}var Se=u()("slate:operation:invert");function Pe(e){var t=(e=Ee.create(e)).type;switch(Se(t,e),t){case"insert_node":return e.set("type","remove_node");case"remove_node":return e.set("type","insert_node");case"move_node":var n=e,r=n.newPath,o=n.path;if(ue.isEqual(r,o))return e;var a=ue.transform(o,e).first(),i=ue.transform(ue.increment(o),e).first();return e.set("path",a).set("newPath",i);case"merge_node":var s=e.path,l=ue.decrement(s);return e.set("type","split_node").set("path",l);case"split_node":var u=e.path,c=ue.increment(u);return e.set("type","merge_node").set("path",c);case"set_node":case"set_value":case"set_selection":case"set_mark":var d=e,f=d.properties,p=d.newProperties;return e.set("properties",p).set("newProperties",f);case"insert_text":return e.set("type","remove_text");case"remove_text":return e.set("type","insert_text");case"add_mark":return e.set("type","remove_mark");case"remove_mark":return e.set("type","add_mark");default:throw new Error('Unknown operation type: "'+t+'".')}}var ke={add_mark:["path","offset","length","mark","data"],insert_node:["path","node","data"],insert_text:["path","offset","text","marks","data"],merge_node:["path","position","properties","target","data"],move_node:["path","newPath","data"],remove_mark:["path","offset","length","mark","data"],remove_node:["path","node","data"],remove_text:["path","offset","text","marks","data"],set_mark:["path","offset","length","properties","newProperties","data"],set_node:["path","properties","newProperties","data"],set_selection:["properties","newProperties","data"],set_value:["properties","newProperties","data"],split_node:["path","position","properties","target","data"]},Oe={length:undefined,mark:undefined,marks:undefined,newPath:undefined,node:undefined,offset:undefined,path:undefined,position:undefined,properties:undefined,newProperties:undefined,target:undefined,text:undefined,type:undefined,data:undefined},Ee=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"apply",value:function(e){return xe(e,this)}},{key:"invert",value:function(){return Pe(this)}},{key:"toJSON",value:function(){var e=this.object,t=this.type,n={object:e,type:t},r=ke[t],o=!0,a=!1,i=undefined;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,c=this[u];if("mark"!==u&&"marks"!==u&&"node"!==u&&"path"!==u&&"newPath"!==u||(c=c.toJSON()),"properties"===u&&"merge_node"===t){var d={};"data"in c&&(d.data=c.data.toJS()),"type"in c&&(d.type=c.type),c=d}if(("properties"===u||"newProperties"===u)&&"set_mark"===t){var f={};"data"in c&&(f.data=c.data.toJS()),"type"in c&&(f.type=c.type),c=f}if(("properties"===u||"newProperties"===u)&&"set_node"===t){var p={};"data"in c&&(p.data=c.data.toJS()),"type"in c&&(p.type=c.type),c=p}if(("properties"===u||"newProperties"===u)&&"set_selection"===t){var h={};"anchor"in c&&(h.anchor=c.anchor.toJSON()),"focus"in c&&(h.focus=c.focus.toJSON()),"isFocused"in c&&(h.isFocused=c.isFocused),"marks"in c&&(h.marks=c.marks&&c.marks.toJSON()),c=h}if(("properties"===u||"newProperties"===u)&&"set_value"===t){var g={};"data"in c&&(g.data=c.data.toJS()),"decorations"in c&&(g.decorations=c.decorations.toJS()),c=g}if("properties"===u&&"split_node"===t){var y={};"data"in c&&(y.data=c.data.toJS()),"type"in c&&(y.type=c.type),c=y}"data"===u&&(c=c.toJSON()),n[u]=c}}catch(m){a=!0,i=m}finally{try{!o&&l["return"]&&l["return"]()}finally{if(a)throw i}}return n}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isOperation(e))return e;if(o()(e))return t.fromJSON(e);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e))return new a.List(e.map(t.create));throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isOperation(e))return e;var n=e.type,r=ke[n],o={type:n};if(!r)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+n+'"');var i=!0,s=!1,l=undefined;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var d=u.value,f=e[d];if("data"===d&&f===undefined&&(f={}),f===undefined)throw new Error('`Operation.fromJSON` was passed a "'+n+'" operation without the required "'+d+'" attribute.');"path"!==d&&"newPath"!==d||(f=ue.create(f)),"mark"===d&&(f=R.create(f)),"marks"===d&&null!=f&&(f=R.createSet(f)),"node"===d&&(f=Z.create(f)),"properties"===d&&"merge_node"===n&&(f=Z.createProperties(f)),"properties"!==d&&"newProperties"!==d||"set_mark"!==n||(f=R.createProperties(f)),"properties"!==d&&"newProperties"!==d||"set_node"!==n||(f=Z.createProperties(f)),"properties"!==d&&"newProperties"!==d||"set_selection"!==n||(f=ve.createProperties(f)),"properties"!==d&&"newProperties"!==d||"set_value"!==n||(f=we.createProperties(f)),"properties"===d&&"split_node"===n&&(f=Z.createProperties(f)),"data"===d&&(f=Object(a.Map)(f)),o[d]=f}}catch(p){s=!0,l=p}finally{try{!i&&c["return"]&&c["return"]()}finally{if(s)throw l}}return new t(o)}},{key:"isOperationList",value:function(e){return a.List.isList(e)&&e.every(function(e){return t.isOperation(e)})}}]),t}(Object(a.Record)(Oe)),Te={operations:undefined,value:undefined},Me=function(e){function t(){return C(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{object:this.object,value:this.value.toJSON(e),operations:this.operations.toArray().map(function(t){return t.toJSON(e)})}}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.isChange(e))return e;if(o()(e))return t.fromJSON(e);throw new Error("`Change.create` only accepts objects or changes, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.value,r=e.operations,o=r===undefined?[]:r;return new t({value:we.create(n),operations:Ee.createList(o)})}}]),t}(Object(a.Record)(Te));function De(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{onCommand:function(t,n,r){var o=t.type,a=t.args,i=e[o];if(!i)return r();n.command.apply(n,[i].concat(T(a)))},onConstruct:function(t,n){for(var r in e)t.registerCommand(r);return n()}}}var Ae=55296,je=57343,Ie=/\s/,Le=/['\u2018\u2019]/,Re=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function Be(e){return Ae<=e&&e<=je}function Ne(e,t){if(Ie.test(e))return!1;if(Le.test(e)){var n=t.charAt(0),r=Fe(n);if(Ne(n=t.slice(0,r),t.slice(r)))return!0}return!Re.test(e)}function Fe(e){return Be(e.charCodeAt(0))?2:1}function He(e){return Fe(e.charAt(0))}function $e(e){for(var t=0,n=0,r=!1,o=void 0;o=e.charAt(n);){var a=Fe(o);if(Ne(o=e.slice(n,n+a),e.slice(n+a)))r=!0,t+=a;else{if(r)break;t+=a}n+=a}return t}var ze={getCharLength:Fe,getCharOffset:He,getCharOffsetBackward:function(e,t){return e=e.slice(0,t),He(e=Object(c.reverse)(e))},getCharOffsetForward:function(e,t){return He(e=e.slice(t))},getWordOffset:$e,getWordOffsetBackward:function(e,t){return e=e.slice(0,t),$e(e=Object(c.reverse)(e))},getWordOffsetForward:function(e,t){return $e(e=e.slice(t))},isSurrogate:Be,isWord:Ne};function Ue(e,t){t.isExpanded&&e.deleteAtRange(t);var n=e.value.document,r=t,o=r.start,a=r.end;return t=n.hasDescendant(o.key)?t.moveToStart():t.moveTo(a.key,0).normalize(n)}var Ve={addMarkAtRange:function(e,t,n){if(!t.isCollapsed){var r=e.value.document,o=t.start,a=t.end,i=r.getTextsAtRange(t);e.withoutNormalizing(function(){i.forEach(function(t){var r=t.key,i=0,s=t.text.length;r===o.key&&(i=o.offset),r===a.key&&(s=a.offset),r===o.key&&r===a.key&&(s=a.offset-o.offset),e.addMarkByKey(r,i,s,n)})})}},addMarksAtRange:function(e,t,n){n.forEach(function(n){return e.addMarkAtRange(t,n)})},deleteAtRange:function(e,t){e.snapshotSelection();var n=e.value,r=t.start,o=t.end,a=r.key,i=r.offset,s=o.key,l=o.offset,u=n.document,c=u.hasVoidParent(a,e),d=u.hasVoidParent(s,e),f=u.getClosestBlock(a),p=u.getClosestBlock(s),h=0===i&&0===l&&!1===c&&a===f.getFirstText().key&&s===p.getFirstText().key;if(h&&d){var g=u.getPreviousText(s);s=g.key,l=g.text.length,d=u.hasVoidParent(s,e)}e.withoutNormalizing(function(){for(;c;){var t=u.getClosestVoid(a,e),n=u.getNextText(a);if(e.removeNodeByKey(t.key),a===s)return;if(!n)return;u=e.value.document,a=n.key,i=0,c=u.hasVoidParent(a,e)}for(;d;){var r=u.getClosestVoid(s,e),o=u.getPreviousText(s);e.removeNodeByKey(r.key),u=e.value.document,s=o.key,l=o.text.length,d=u.hasVoidParent(s,e)}if(a===s&&h)e.removeNodeByKey(f.key);else if(a!==s){f=u.getClosestBlock(a),p=u.getClosestBlock(s);var g=u.getNode(a),y=u.getNode(s),m=g.text.length-i,_=l,v=u.getCommonAncestor(a,s),b=v.getFurthestAncestor(a),w=v.getFurthestAncestor(s),C=u.getParent(f.key),x=C.nodes.indexOf(f),S=C.nodes.indexOf(p),P=void 0;for(P=g;P.key!==b.key;){var k=u.getParent(P.key),O=k.nodes.indexOf(P);k.nodes.slice(O+1).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),P=k}var E=v.nodes.indexOf(b),T=v.nodes.indexOf(w);for(v.nodes.slice(E+1,T).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),P=y;P.key!==w.key;){var M=u.getParent(P.key),D=M.nodes.indexOf(P);M.nodes.slice(0,D).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),P=M}if(0!==m&&e.removeTextByKey(a,i,m),0!==_&&e.removeTextByKey(s,0,l),f.key!==p.key){var A=(u=e.value.document).getFurthestOnlyChildAncestor(p.key);S!==x+1&&e.moveNodeByKey(p.key,C.key,x+1),h?e.removeNodeByKey(f.key):e.mergeNodeByKey(p.key),A&&e.removeNodeByKey(A.key)}}else{var j=i,I=l-i;e.removeTextByKey(a,j,I)}})},deleteBackwardAtRange:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;if(0!==n){var r=e.value.document,o=t,a=o.start,i=o.focus;if(t.isExpanded)e.deleteAtRange(t);else{var s=r.getClosestVoid(a.key,e);if(s)e.removeNodeByKey(s.key);else if(!a.isAtStartOfNode(r)){var l=r.getClosestBlock(a.key);if(1!==r.nodes.size&&l&&""===l.text&&1===l.nodes.size)e.removeNodeByKey(l.key);else{var u=r.getDescendant(a.key);if(a.isAtStartOfNode(u)){var c=r.getPreviousText(u.key);r.getClosestInline(u.key)&&""===c.text&&(c=r.getPreviousText(c.key));var d=r.getClosestBlock(c.key),f=r.getClosestVoid(c.key,e);if(f)return void e.removeNodeByKey(f.key);if(1===n&&d!==l)return t=t.moveAnchorTo(c.key,c.text.length),void e.deleteAtRange(t)}if(n<i.offset)return t=t.moveFocusBackward(n),void e.deleteAtRange(t);for(var p=u,h=0,g=i.offset;n>g;){var y=g+(p=r.getPreviousText(p.key)).text.length;if(n<=y){h=y-n;break}g=y}t=t.moveAnchorTo(p.key,h),e.deleteAtRange(t)}}}}},deleteCharBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),a=o.getOffset(r.key)+r.offset,i=o.text,s=ze.getCharOffsetBackward(i,a);e.deleteBackwardAtRange(t,s)}},deleteCharForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),a=o.getOffset(r.key)+r.offset,i=o.text,s=ze.getCharOffsetForward(i,a);e.deleteForwardAtRange(t,s)}},deleteForwardAtRange:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;if(0!==n){var r=e.value.document,o=t,a=o.start,i=o.focus;if(t.isExpanded)e.deleteAtRange(t);else{var s=r.getClosestVoid(a.key,e);if(s)e.removeNodeByKey(s.key);else{var l=r.getClosestBlock(a.key);if(l&&!e.isVoid(l)&&""===l.text&&1!==r.nodes.size){var u=r.getNextBlock(l.key);return e.removeNodeByKey(l.key),void(u&&u.key&&e.moveToStartOfNode(u))}if(!a.isAtEndOfNode(r)){var c=r.getDescendant(a.key);if(a.isAtEndOfNode(c)){var d=r.getNextText(c.key),f=r.getClosestBlock(d.key),p=r.getClosestVoid(d.key,e);if(p)return void e.removeNodeByKey(p.key);if(1===n&&f!==l)return t=t.moveFocusTo(d.key,0),void e.deleteAtRange(t)}if(n<=c.text.length-i.offset)return t=t.moveFocusForward(n),void e.deleteAtRange(t);for(var h=c,g=i.offset,y=c.text.length-i.offset;n>y;){var m=y+(h=r.getNextText(h.key)).text.length;if(n<=m){g=n-y;break}y=m}t=t.moveFocusTo(h.key,g),e.deleteAtRange(t)}}}}},deleteLineBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key).getOffset(r.key)+r.offset;e.deleteBackwardAtRange(t,o)}},deleteLineForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),a=o.getOffset(r.key)+r.offset;e.deleteForwardAtRange(t,o.text.length-a)}},deleteWordBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),a=o.getOffset(r.key)+r.offset,i=o.text,s=0===a?1:ze.getWordOffsetBackward(i,a);e.deleteBackwardAtRange(t,s)}},deleteWordForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),a=o.getOffset(r.key)+r.offset,i=o.text,s=ze.getWordOffsetForward(i,a),l=0===s?1:s;e.deleteForwardAtRange(t,l)}},insertBlockAtRange:function(e,t,n){t=Ue(e,t),n=Q.create(n);var r=e.value.document,o=t.start,a=o.key,i=o.offset,s=r.getClosestBlock(a),l=r.getClosestInline(a),u=r.getParent(s.key),c=u.nodes.indexOf(s);if(e.isVoid(s)){var d=o.isAtEndOfNode(s)?1:0;e.insertNodeByKey(u.key,c+d,n)}else if(l||""!==s.text)if(o.isAtStartOfNode(s))e.insertNodeByKey(u.key,c,n);else if(o.isAtEndOfNode(s))e.insertNodeByKey(u.key,c+1,n);else{if(l&&e.isVoid(l)){var f=o.isAtEndOfNode(l),p=f?r.getNextText(a):r.getPreviousText(a),h=f?t.moveToStartOfNode(p):t.moveToEndOfNode(p);a=h.start.key,i=h.start.offset}e.withoutNormalizing(function(){e.splitDescendantsByKey(s.key,a,i),e.insertNodeByKey(u.key,c+1,n)})}else e.insertNodeByKey(u.key,c+1,n)},insertFragmentAtRange:function(e,t,n){e.withoutNormalizing(function(){if(t=Ue(e,t),n.nodes.size){n=n.mapDescendants(function(e){return e.regenerateKey()});var r=t.start,o=e.value.document,i=o.getDescendant(r.key),s=o.getClosestBlock(i.key),l=s.getFurthestAncestor(i.key),u=r.isAtStartOfNode(s),c=o.getParent(s.key),d=c.nodes.indexOf(s),f=n.getBlocks(),p=n.nodes.first(),h=n.nodes.last(),g=f.first(),y=f.last(),m=Ke(n,o,s.key);if(g===y&&e.isVoid(g))e.insertBlockAtRange(t,g);else if(m!==n||!p.hasBlockChildren()&&!h.hasBlockChildren()){if(g!==y){var _=m.getFurthest(g.key,function(e){return 1===e.nodes.size})||g,v=c.nodes.indexOf(s);m.removeNode(_.key).nodes.forEach(function(t,n){var r=v+n+1;e.insertNodeByKey(c.key,r,t)})}if(0!==r.offset&&e.splitDescendantsByKey(l.key,r.key,r.offset),i=(o=e.value.document).getDescendant(r.key),l=(s=o.getClosestBlock(r.key)).getFurthestAncestor(i.key),g!==y){var b=u?l:s.getNextSibling(l.key),w=b?s.nodes.skipUntil(function(e){return e.key===b.key}):Object(a.List)(),C=y.nodes.size;w.forEach(function(t,n){var r=C+n;e.moveNodeByKey(t.key,y.key,r)})}if(e.isVoid(s)||""!==s.text||s.findDescendant(function(t){return e.isVoid(t)})){var x=s.getFurthestAncestor(i.key),S=s.nodes.indexOf(x);g.nodes.forEach(function(t,n){var o=0===r.offset?0:1,a=S+n+o;e.insertNodeByKey(s.key,a,t)})}else e.removeNodeByKey(s.key),e.insertNodeByKey(c.key,d,g)}else n.nodes.reverse().forEach(function(n){e.insertBlockAtRange(t,n)})}})}},Ke=function(e,t,n){var r=function(e){if(e&&"text"!==e.object)return 1===e.nodes.size},o=function(e){return e&&e.nodes.first()},a=e;if(r(e)){var i=o(e),s=t.getFurthest(n,function(e){return e.type===i.type});for(s===t.getParent(n)&&(a=i);r(i)&&r(s)&&(i=o(i),s=o(s),i.type===s.type);)a=i}return a};Ve.insertInlineAtRange=function(e,t,n){n=I.create(n),e.withoutNormalizing(function(){t=Ue(e,t);var r=e.value.document,o=t.start,a=r.getParent(o.key),i=r.assertDescendant(o.key),s=a.nodes.indexOf(i);e.isVoid(a)||(e.splitNodeByKey(o.key,o.offset),e.insertNodeByKey(a.key,s+1,n))})},Ve.insertTextAtRange=function(e,t,n,r){t=Ue(e,t);var o=e.value.document,a=t.start,i=a.offset,s=o.getParent(a.key);e.isVoid(s)||e.insertTextByKey(a.key,i,n,r)},Ve.removeMarkAtRange=function(e,t,n){if(!t.isCollapsed){var r=e.value.document.getTextsAtRange(t),o=t.start,a=t.end;e.withoutNormalizing(function(){r.forEach(function(t){var r=t.key,i=0,s=t.text.length;r===o.key&&(i=o.offset),r===a.key&&(s=a.offset),r===o.key&&r===a.key&&(s=a.offset-o.offset),e.removeMarkByKey(r,i,s,n)})})}},Ve.setBlocksAtRange=function(e,t,n){var r=e.value.document,o=r.getLeafBlocksAtRange(t),a=t.start,i=t.end,s=t.isCollapsed,l=r.hasVoidParent(a.key,e),u=r.getClosestBlock(a.key),c=r.getClosestBlock(i.key),d=!1===s&&0===a.offset&&0===i.offset&&!1===l&&a.key===u.getFirstText().key&&i.key===c.getFirstText().key?o.slice(0,-1):o;e.withoutNormalizing(function(){d.forEach(function(t){e.setNodeByKey(t.key,n)})})},Ve.setInlinesAtRange=function(e,t,n){var r=e.value.document.getLeafInlinesAtRange(t);e.withoutNormalizing(function(){r.forEach(function(t){e.setNodeByKey(t.key,n)})})},Ve.splitBlockAtRange=function(e,t){for(var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1,r=t=Ue(e,t),o=r.start,a=r.end,i=e.value,s=i.document,l=s.assertDescendant(o.key),u=s.getClosestBlock(l.key),c=0;u&&"block"===u.object&&c<n;)l=u,u=s.getClosestBlock(u.key),c++;e.withoutNormalizing(function(){if(e.splitDescendantsByKey(l.key,o.key,o.offset),i=e.value,s=i.document,t.isExpanded){t.isBackward&&(t=t.flip());var n=s.getNextBlock(l.key);t=(t=t.moveAnchorToStartOfNode(n)).setFocus(t.focus.setPath(null)),o.key===a.key&&(t=t.moveFocusTo(t.anchor.key,a.offset-o.offset)),t=s.resolveRange(t),e.deleteAtRange(t)}})},Ve.splitInlineAtRange=function(e,t){for(var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity,r=(t=Ue(e,t)).start,o=e.value.document,a=o.assertDescendant(r.key),i=o.getClosestInline(a.key),s=0;i&&"inline"===i.object&&s<n;)a=i,i=o.getClosestInline(i.key),s++;e.splitDescendantsByKey(a.key,r.key,r.offset)},Ve.toggleMarkAtRange=function(e,t,n){t.isCollapsed||(n=R.create(n),e.value.document.getActiveMarksAtRange(t).some(function(e){return e.equals(n)})?e.removeMarkAtRange(t,n):e.addMarkAtRange(t,n))},Ve.unwrapBlockAtRange=function(e,t,n){n=Z.createProperties(n);var r=e.value.document,o=r.getLeafBlocksAtRange(t),a=o.map(function(e){return r.getClosest(e.key,function(e){return"block"===e.object&&((null==n.type||e.type===n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))})}).filter(function(e){return e}).toOrderedSet().toList();e.withoutNormalizing(function(){a.forEach(function(t){var n=t.nodes.first(),a=t.nodes.last(),i=e.value.document.getParent(t.key),s=i.nodes.indexOf(t),l=t.nodes.filter(function(e){return o.some(function(t){return e===t||e.hasDescendant(t.key)})}),u=l.first(),c=l.last();if(n===u&&a===c)t.nodes.forEach(function(t,n){e.moveNodeByKey(t.key,i.key,s+n)}),e.removeNodeByKey(t.key);else if(a===c)t.nodes.skipUntil(function(e){return e===u}).forEach(function(t,n){e.moveNodeByKey(t.key,i.key,s+1+n)});else if(n===u)t.nodes.takeUntil(function(e){return e===c}).push(c).forEach(function(t,n){e.moveNodeByKey(t.key,i.key,s+n)});else{var d=u.getFirstText();e.splitDescendantsByKey(t.key,d.key,0),r=e.value.document,l.forEach(function(t,n){if(0===n){var o=t;t=r.getNextBlock(t.key),e.removeNodeByKey(o.key)}e.moveNodeByKey(t.key,i.key,s+1+n)})}})})},Ve.unwrapInlineAtRange=function(e,t,n){n=Z.createProperties(n);var r=e.value.document,o=r.getTextsAtRange(t).map(function(e){return r.getClosest(e.key,function(e){return"inline"===e.object&&((null==n.type||e.type===n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))})}).filter(function(e){return e}).toOrderedSet().toList();e.withoutNormalizing(function(){o.forEach(function(t){var n=e.value.document.getParent(t.key),r=n.nodes.indexOf(t);t.nodes.forEach(function(t,o){e.moveNodeByKey(t.key,n.key,r+o)}),e.removeNodeByKey(t.key)})})},Ve.wrapBlockAtRange=function(e,t,n){n=(n=Q.create(n)).set("nodes",n.nodes.clear());var r=e.value.document,o=r.getLeafBlocksAtRange(t),a=o.first(),i=o.last(),s=void 0,l=void 0,u=void 0;if(1===o.length?(s=r.getParent(a.key),l=o):s=r.getClosest(a.key,function(e){return!!r.getClosest(i.key,function(t){return e===t})}),null==s&&(s=r),null==l){var c=s.nodes.reduce(function(e,t,n){return(t===a||t.hasDescendant(a.key))&&(e[0]=n),(t===i||t.hasDescendant(i.key))&&(e[1]=n),e},[]);u=c[0],l=s.nodes.slice(c[0],c[1]+1)}null==u&&(u=s.nodes.indexOf(l.first())),e.withoutNormalizing(function(){e.insertNodeByKey(s.key,u,n),l.forEach(function(t,r){e.moveNodeByKey(t.key,n.key,r)})})},Ve.wrapInlineAtRange=function(e,t,n){var r=e.value.document,o=t.start,i=t.end;if(t.isCollapsed){var s=r.getClosestInline(o.key);if(!s)return;if(!e.isVoid(s))return;return e.wrapInlineByKey(s.key,n)}n=(n=I.create(n)).set("nodes",n.nodes.clear());var l=r.getLeafBlocksAtRange(t),u=r.getClosestBlock(o.key),c=r.getClosestBlock(i.key),d=r.getClosestInline(o.key),f=r.getClosestInline(i.key),p=u.getFurthestAncestor(o.key),h=c.getFurthestAncestor(i.key);e.withoutNormalizing(function(){d&&d===f||(e.splitDescendantsByKey(h.key,i.key,i.offset),e.splitDescendantsByKey(p.key,o.key,o.offset)),r=e.value.document,u=r.getDescendant(u.key),c=r.getDescendant(c.key),p=u.getFurthestAncestor(o.key),h=c.getFurthestAncestor(i.key);var s=u.nodes.indexOf(p),g=c.nodes.indexOf(h);if(d&&d===f){var y=u.getTextsAtRange(t).get(0).splitText(o.offset)[1].splitText(i.offset-o.offset)[0];n=n.set("nodes",Object(a.List)([y])),e.insertInlineAtRange(t,n);var m=n.getFirstText().key,_={anchor:{key:m,offset:0},focus:{key:m,offset:i.offset-o.offset},isFocused:!0};e.select(_)}else if(u===c){r=e.value.document,u=r.getClosestBlock(o.key),p=u.getFurthestAncestor(o.key);var v=r.getNextSibling(p.key),b=u.nodes.indexOf(v),w=o.key===i.key?v:u.getFurthestAncestor(i.key),C=u.nodes.skipUntil(function(e){return e===v}).takeUntil(function(e){return e===w}).push(w),x=n.regenerateKey();e.insertNodeByKey(u.key,b,x),C.forEach(function(t,n){e.moveNodeByKey(t.key,x.key,n)})}else{var S=u.nodes.slice(s+1),P=c.nodes.slice(0,g+1),k=n.regenerateKey(),O=n.regenerateKey();e.insertNodeByKey(u.key,s+1,k),e.insertNodeByKey(c.key,g,O),S.forEach(function(t,n){e.moveNodeByKey(t.key,k.key,n)}),P.forEach(function(t,n){e.moveNodeByKey(t.key,O.key,n)}),l.slice(1,-1).forEach(function(t){var r=n.regenerateKey();e.insertNodeByKey(t.key,0,r),t.nodes.forEach(function(t,n){e.moveNodeByKey(t.key,r.key,n)})})}})},Ve.wrapTextAtRange=function(e,t,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:n,o=t.start,a=t.end,i=t.moveToStart(),s=t.moveToEnd();o.key===a.key&&(s=s.moveForward(n.length)),e.withoutNormalizing(function(){e.insertTextAtRange(i,n,[]),e.insertTextAtRange(s,r,[])})};var Ge={addMarkByPath:function(e,t,n,r,o){o=R.create(o);var a=e.value.document.assertNode(t).getLeaves(),i=[],s=n,l=n+r,u=0;a.forEach(function(e){var n=u,r=n+e.text.length;if(u+=e.text.length,!(r<s||l<n||e.marks.has(o))){var a=Math.max(n,s),c=Math.min(r,l);i.push({type:"add_mark",path:t,offset:a,length:c-a,mark:o})}}),i.forEach(function(t){return e.applyOperation(t)})},insertFragmentByPath:function(e,t,n,r){r.nodes.forEach(function(r,o){e.insertNodeByPath(t,n+o,r)})},insertNodeByPath:function(e,t,n,r){e.applyOperation({type:"insert_node",path:t.concat(n),node:r})},insertTextByPath:function(e,t,n,r,o){var a=e.value,i=a.decorations,s=a.document.assertNode(t);o=o||s.getMarksAtIndex(n);var l=!1,u=s.key,c=i.filter(function(t){var r=t.start,o=t.end,a=t.mark;return!e.isAtomic(a)||(r.key!==u||(!(r.offset<n&&(o.key!==u||o.offset>n))||(l=!0,!1)))});l&&e.setDecorations(c),e.applyOperation({type:"insert_text",path:t,offset:n,text:r,marks:o})},mergeNodeByPath:function(e,t){var n=e.value.document,r=n.getDescendant(t),o=n.getPreviousSibling(t);if(!o)throw new Error('Unable to merge node with path "'+t+'", because it has no previous sibling.');var a="text"===o.object?o.text.length:o.nodes.size;e.applyOperation({type:"merge_node",path:t,position:a,properties:{type:r.type,data:r.data},target:null})},moveNodeByPath:function(e,t,n,r){if(ue.isEqual(t,n))return e;var o=n.concat(r);if(ue.isEqual(t,o))return e;e.applyOperation({type:"move_node",path:t,newPath:o})},removeMarkByPath:function(e,t,n,r,o){o=R.create(o);var a=e.value.document.assertNode(t).getLeaves(),i=[],s=n,l=n+r,u=0;a.forEach(function(e){var n=u,r=n+e.text.length;if(u+=e.text.length,!(r<s||l<n)&&e.marks.has(o)){var a=Math.max(n,s),c=Math.min(r,l);i.push({type:"remove_mark",path:t,offset:a,length:c-a,mark:o})}}),i.forEach(function(t){return e.applyOperation(t)})},removeAllMarksByPath:function(e,t){var n=e.state.document.assertNode(t);("text"===n.object?[n]:n.getTextsAsArray()).forEach(function(t){t.getMarksAsArray().forEach(function(n){e.removeMarkByKey(t.key,0,t.text.length,n)})})},removeNodeByPath:function(e,t){var n=e.value.document.assertNode(t);e.applyOperation({type:"remove_node",path:t,node:n})},removeTextByPath:function(e,t,n,r){var o=e.value,a=o.decorations,i=o.document.assertNode(t),s=i.getLeaves(),l=i.text,u=!1,c=i.key,d=n,f=n+r,p=a.filter(function(t){var n=t.start,r=t.end,o=t.mark;return!e.isAtomic(o)||(n.key!==c||(n.offset<d&&(r.key!==c||r.offset>d)?(u=!0,!1):!(n.offset<f&&(r.key!==c||r.offset>f))||(u=!0,null)))});u&&e.setDecorations(p);var h=[],g=n,y=n+r,m=0;s.forEach(function(e){var n=m,r=n+e.text.length;if(m+=e.text.length,!(r<g||y<n)){var o=Math.max(n,g),a=Math.min(r,y),i=l.slice(o,a);h.push({type:"remove_text",path:t,offset:o,text:i,marks:e.marks})}}),h.reverse().forEach(function(t){return e.applyOperation(t)})},replaceNodeByPath:function(e,t,n){n=Z.create(n);var r=t.last(),o=ue.lift(t);e.withoutNormalizing(function(){e.removeNodeByPath(t),e.insertNodeByPath(o,r,n)})},replaceTextByPath:function(e,t,n,r,o,a){var i=e.value.document,s=i.assertNode(t);r+n>s.text.length&&(r=s.text.length-n);var l=i.createRange({anchor:{path:t,offset:n},focus:{path:t,offset:n+r}}),u=i.getActiveMarksAtRange(l);e.withoutNormalizing(function(){e.removeTextByPath(t,n,r),a?u&&(u=u.filter(function(e){return!a.find(function(t){return e.type===t.type})}),a=u.merge(a)):a=u||[],e.insertTextByPath(t,n,o,a)})},setMarkByPath:function(e,t,n,r,o,a){o=R.create(o),a=R.createProperties(a),e.applyOperation({type:"set_mark",path:t,offset:n,length:r,properties:o,newProperties:a})},setNodeByPath:function(e,t,n){var r=e.value.document.assertNode(t);n=Z.createProperties(n);var o=f()(r,Object.keys(n));e.applyOperation({type:"set_node",path:t,properties:o,newProperties:n})},setTextByPath:function(e,t,n,r){var o=e.value.document.assertNode(t).text.length;e.replaceTextByPath(t,0,o,n,r)},splitNodeByPath:function(e,t,n){var r=(arguments.length>3&&arguments[3]!==undefined?arguments[3]:{}).target,o=r===undefined?null:r,a=e.value.document.getDescendant(t);e.applyOperation({type:"split_node",path:t,position:n,target:o,properties:{type:a.type,data:a.data}})},splitDescendantsByPath:function(e,t,n,r){if(t.equals(n))e.splitNodeByPath(n,r);else{var o=e.value.document,a=o.assertNode(t),i=o.assertNode(n),s=o.getAncestors(n).skipUntil(function(e){return e.key===a.key}).reverse().unshift(i),l=void 0,u=void 0;e.withoutNormalizing(function(){s.forEach(function(t){var n=null==u?null:u;u=l?t.nodes.indexOf(l)+1:r,l=t,e.splitNodeByKey(t.key,u,{target:n})})})}},unwrapInlineByPath:function(e,t,n){var r=e.value,o=r.document,a=r.selection,i=o.assertNode(t),s=i.getFirstText(),l=i.getLastText(),u=a.moveToRangeOfNode(s,l);e.unwrapInlineAtRange(u,n)},unwrapBlockByPath:function(e,t,n){var r=e.value,o=r.document,a=r.selection,i=o.assertNode(t),s=i.getFirstText(),l=i.getLastText(),u=a.moveToRangeOfNode(s,l);e.unwrapBlockAtRange(u,n)},unwrapNodeByPath:function(e,t){var n=e.value.document;n.assertNode(t);var r=ue.lift(t),o=n.assertNode(r),a=t.last(),i=r.last(),s=ue.lift(r),l=0===a,u=a===o.nodes.size-1;e.withoutNormalizing(function(){if(1===o.nodes.size)e.moveNodeByPath(t,s,i+1),e.removeNodeByPath(r);else if(l)e.moveNodeByPath(t,s,i);else if(u)e.moveNodeByPath(t,s,i+1);else{var n=ue.increment(t,1,r.size-1);n=n.set(n.size-1,0),e.splitNodeByPath(r,a),e.moveNodeByPath(n,s,i+1)}})},unwrapChildrenByPath:function(e,t){t=ue.create(t);var n=e.value.document.assertNode(t),r=ue.lift(t),o=t.last(),a=n.nodes;e.withoutNormalizing(function(){a.reverse().forEach(function(n,i){var s=a.size-i-1,l=t.push(s);e.moveNodeByPath(l,r,o+1)}),e.removeNodeByPath(t)})},wrapBlockByPath:function(e,t,n){n=(n=Q.create(n)).set("nodes",n.nodes.clear());var r=ue.lift(t),o=t.last(),a=ue.increment(t);e.withoutNormalizing(function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(a,t,0)})},wrapInlineByPath:function(e,t,n){n=(n=I.create(n)).set("nodes",n.nodes.clear());var r=ue.lift(t),o=t.last(),a=ue.increment(t);e.withoutNormalizing(function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(a,t,0)})},wrapNodeByPath:function(e,t,n){"block"===(n=Z.create(n)).object?e.wrapBlockByPath(t,n):"inline"===n.object&&e.wrapInlineByPath(t,n)}},qe=function(e){Ge[e+"ByKey"]=function(t,n){for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var i=t.value.document.assertPath(n);t[e+"ByPath"].apply(t,[i].concat(o))}},We=!0,Ye=!1,Xe=undefined;try{for(var Ze,Je=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"][Symbol.iterator]();!(We=(Ze=Je.next()).done);We=!0){qe(Ze.value)}}catch(It){Ye=!0,Xe=It}finally{try{!We&&Je["return"]&&Je["return"]()}finally{if(Ye)throw Xe}}Ge.moveNodeByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var i=e.value.document,s=i.assertPath(t),l=i.assertPath(n);e.moveNodeByPath.apply(e,[s,l].concat(o))},Ge.splitDescendantsByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var i=e.value.document,s=i.assertPath(t),l=i.assertPath(n);e.splitDescendantsByPath.apply(e,[s,l].concat(o))};var Qe={};Qe.save=function(e,t){var n=e.operations,r=e.value.data,o=e.tmp,i=o.save,s=o.merge;if(!1!==i){var l,u,c=r.get("undos")||Object(a.List)(),d=c.last(),f=d&&d.last();if(null==s&&(0!==n.size?s=!0:(l=t,s=!!(u=f)&&("set_selection"===l.type&&"set_selection"===u.type||"insert_text"===l.type&&"insert_text"===u.type&&l.offset===u.offset+u.text.length&&l.path.equals(u.path)||"remove_text"===l.type&&"remove_text"===u.type&&l.offset+l.text.length===u.offset&&l.path.equals(u.path)))),s&&d){var p=d.push(t);c=(c=c.pop()).push(p)}else{var h=Object(a.List)([t]);c=c.push(h)}c.size>100&&(c=c.takeLast(100)),e.withoutSaving(function(){var t=Object(a.List)(),n=r.set("undos",c).set("redos",t);e.setData(n)})}},Qe.redo=function(e){var t=e.value.data,n=t.get("redos")||Object(a.List)(),r=t.get("undos")||Object(a.List)(),o=n.last();o&&e.withoutSaving(function(){e.withoutNormalizing(function(){o.forEach(function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",h()(o,"isFocused"))),e.applyOperation(t)}),n=n.pop(),r=r.push(o);var a=t.set("undos",r).set("redos",n);e.setData(a)})})},Qe.undo=function(e){var t=e.value.data,n=t.get("redos")||Object(a.List)(),r=t.get("undos")||Object(a.List)(),o=r.last();o&&e.withoutSaving(function(){e.withoutNormalizing(function(){o.slice().reverse().map(function(e){return e.invert()}).forEach(function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",h()(o,"isFocused"))),e.applyOperation(t)}),n=n.push(o),r=r.pop();var a=t.set("undos",r).set("redos",n);e.setData(a)})})},Qe.withoutMerging=function(e,t){var n=e.tmp.merge;e.tmp.merge=!1,t(e),e.tmp.merge=n},Qe.withoutSaving=function(e,t){var n=e.tmp.save;e.tmp.save=!1,t(e),e.tmp.save=n};var et={};function tt(e,t){for(var n,r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var i=(n=e.value.selection)[t].apply(n,o);e.select(i)}function nt(e,t,n,r){var o=t.slice(0,1).toUpperCase()+t.slice(1),a=n.slice(0,1).toUpperCase()+n.slice(1),i=r.slice(0,1).toUpperCase()+r.slice(1),s="move"+o+"To"+a+"OfNode",l="text"===r?"getNode":"getClosest"+i,u=e.value,c=u.document,d=u.selection[t],f=c[l](d.key);f&&e[s](f)}function rt(e,t,n,r,o){var a=t.slice(0,1).toUpperCase()+t.slice(1),i=n.slice(0,1).toUpperCase()+n.slice(1),s=r.slice(0,1).toUpperCase()+r.slice(1),l=o.slice(0,1).toUpperCase()+o.slice(1),u="move"+a+"To"+i+"OfNode",c="text"===o?"getNode":"getClosest"+l,d="get"+s+l,f=e.value,p=f.document,h=f.selection[t],g=p[c](h.key);if(g){var y=p[d](g.key);y&&e[u](y)}}function ot(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;if(0!==n){if(n<0)return at(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,a=o.document,i=o.selection,s=i[t],l=a.hasVoidParent(s.path,e);if(!l&&s.offset-n>=0){var u=i["move"+r+"Backward"](n);e.select(u)}else{var c=a.getPreviousText(s.path);if(c){var d=a.getClosestBlock(s.path).hasNode(c.key),f=c&&a.hasVoidParent(c.key,e);if(e["move"+r+"ToEndOfNode"](c),!l&&!f&&d){var p=e.value.selection["move"+r+"Backward"](n);e.select(p)}}}}}function at(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;if(0!==n){if(n<0)return ot(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,a=o.document,i=o.selection,s=i[t],l=a.getNode(s.path),u=a.hasVoidParent(s.path,e);if(!u&&s.offset+n<=l.text.length){var c=i["move"+r+"Forward"](n);e.select(c)}else{var d=a.getNextText(s.path);if(d){var f=a.getClosestBlock(s.path).hasNode(d.key),p=a.hasVoidParent(d.key,e);if(e["move"+r+"ToStartOfNode"](d),!u&&!p&&f){var h=e.value.selection["move"+r+"Forward"](n);e.select(h)}}}}}function it(e,t){var n=e.value,r=n.document,o=n.selection[t],a=r.getClosestBlock(o.key),i=a.getOffset(o.key)+o.offset,s=a.text,l=ze.getWordOffsetBackward(s,i);e.command(ot,t,l>0?l:1)}function st(e,t){var n=e.value,r=n.document,o=n.selection[t],a=r.getClosestBlock(o.key),i=a.getOffset(o.key)+o.offset,s=a.text,l=ze.getWordOffsetForward(s,i);e.command(at,t,l>0?l:1)}et.blur=function(e){e.select({isFocused:!1})},et.deselect=function(e){var t=ve.create();e.select(t)},et.focus=function(e){e.select({isFocused:!0})},et.flip=function(e){e.command(tt,"flip")},et.moveAnchorBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[ot,"anchor"].concat(n))},et.moveAnchorWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[it,"anchor"].concat(n))},et.moveAnchorForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[at,"anchor"].concat(n))},et.moveAnchorWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[st,"anchor"].concat(n))},et.moveAnchorTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveAnchorTo"].concat(n))},et.moveAnchorToEndOfBlock=function(e){e.command(nt,"anchor","end","block")},et.moveAnchorToEndOfInline=function(e){e.command(nt,"anchor","end","inline")},et.moveAnchorToEndOfDocument=function(e){e.moveAnchorToEndOfNode(e.value.document).moveToAnchor()},et.moveAnchorToEndOfNextBlock=function(e){e.command(rt,"anchor","end","next","block")},et.moveAnchorToEndOfNextInline=function(e){e.command(rt,"anchor","end","next","inline")},et.moveAnchorToEndOfNextText=function(e){e.command(rt,"anchor","end","next","text")},et.moveAnchorToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveAnchorToEndOfNode"].concat(n))},et.moveAnchorToEndOfPreviousBlock=function(e){e.command(rt,"anchor","end","previous","block")},et.moveAnchorToEndOfPreviousInline=function(e){e.command(rt,"anchor","end","previous","inline")},et.moveAnchorToEndOfPreviousText=function(e){e.command(rt,"anchor","end","previous","text")},et.moveAnchorToEndOfText=function(e){e.command(nt,"anchor","end","text")},et.moveAnchorToStartOfBlock=function(e){e.command(nt,"anchor","start","block")},et.moveAnchorToStartOfDocument=function(e){e.moveAnchorToStartOfNode(e.value.document).moveToAnchor()},et.moveAnchorToStartOfInline=function(e){e.command(nt,"anchor","start","inline")},et.moveAnchorToStartOfNextBlock=function(e){e.command(rt,"anchor","start","next","block")},et.moveAnchorToStartOfNextInline=function(e){e.command(rt,"anchor","start","next","inline")},et.moveAnchorToStartOfNextText=function(e){e.command(rt,"anchor","start","next","text")},et.moveAnchorToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveAnchorToStartOfNode"].concat(n))},et.moveAnchorToStartOfPreviousBlock=function(e){e.command(rt,"anchor","start","previous","block")},et.moveAnchorToStartOfPreviousInline=function(e){e.command(rt,"anchor","start","previous","inline")},et.moveAnchorToStartOfPreviousText=function(e){e.command(rt,"anchor","start","previous","text")},et.moveAnchorToStartOfText=function(e){e.command(nt,"anchor","start","text")},et.moveBackward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorBackward.apply(e,r)).moveFocusBackward.apply(t,r)},et.moveWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.moveFocusWordBackward.apply(e,n).moveToFocus()},et.moveEndBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[ot,"end"].concat(n))},et.moveEndWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[it,"end"].concat(n))},et.moveEndForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[at,"end"].concat(n))},et.moveEndWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[st,"end"].concat(n))},et.moveEndTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveEndTo"].concat(n))},et.moveEndToEndOfBlock=function(e){e.command(nt,"end","end","block")},et.moveEndToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},et.moveEndToEndOfInline=function(e){e.command(nt,"end","end","inline")},et.moveEndToEndOfNextBlock=function(e){e.command(rt,"end","end","next","block")},et.moveEndToEndOfNextInline=function(e){e.command(rt,"end","end","next","inline")},et.moveEndToEndOfNextText=function(e){e.command(rt,"end","end","next","text")},et.moveEndToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveEndToEndOfNode"].concat(n))},et.moveEndToEndOfPreviousBlock=function(e){e.command(rt,"end","end","previous","block")},et.moveEndToEndOfPreviousInline=function(e){e.command(rt,"end","end","previous","inline")},et.moveEndToEndOfPreviousText=function(e){e.command(rt,"end","end","previous","text")},et.moveEndToEndOfText=function(e){e.command(nt,"end","end","text")},et.moveEndToStartOfBlock=function(e){e.command(nt,"end","start","block")},et.moveEndToStartOfDocument=function(e){e.moveEndToStartOfNode(e.value.document).moveToEnd()},et.moveEndToStartOfInline=function(e){e.command(nt,"end","start","inline")},et.moveEndToStartOfNextBlock=function(e){e.command(rt,"end","start","next","block")},et.moveEndToStartOfNextInline=function(e){e.command(rt,"end","start","next","inline")},et.moveEndToStartOfNextText=function(e){e.command(rt,"end","start","next","text")},et.moveEndToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveEndToStartOfNode"].concat(n))},et.moveEndToStartOfPreviousBlock=function(e){e.command(rt,"end","start","previous","block")},et.moveEndToStartOfPreviousInline=function(e){e.command(rt,"end","start","previous","inline")},et.moveEndToStartOfPreviousText=function(e){e.command(rt,"end","start","previous","text")},et.moveEndToStartOfText=function(e){e.command(nt,"end","start","text")},et.moveFocusBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[ot,"focus"].concat(n))},et.moveFocusWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[it,"focus"].concat(n))},et.moveFocusForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[at,"focus"].concat(n))},et.moveFocusWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[st,"focus"].concat(n))},et.moveFocusTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveFocusTo"].concat(n))},et.moveFocusToEndOfBlock=function(e){e.command(nt,"focus","end","block")},et.moveFocusToEndOfDocument=function(e){e.moveFocusToEndOfNode(e.value.document).moveToFocus()},et.moveFocusToEndOfInline=function(e){e.command(nt,"focus","end","inline")},et.moveFocusToEndOfNextBlock=function(e){e.command(rt,"focus","end","next","block")},et.moveFocusToEndOfNextInline=function(e){e.command(rt,"focus","end","next","inline")},et.moveFocusToEndOfNextText=function(e){e.command(rt,"focus","end","next","text")},et.moveFocusToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveFocusToEndOfNode"].concat(n))},et.moveFocusToEndOfPreviousBlock=function(e){e.command(rt,"focus","end","previous","block")},et.moveFocusToEndOfPreviousInline=function(e){e.command(rt,"focus","end","previous","inline")},et.moveFocusToEndOfPreviousText=function(e){e.command(rt,"focus","end","previous","text")},et.moveFocusToEndOfText=function(e){e.command(nt,"focus","end","text")},et.moveFocusToStartOfBlock=function(e){e.command(nt,"focus","start","block")},et.moveFocusToStartOfDocument=function(e){e.moveFocusToStartOfNode(e.value.document).moveToFocus()},et.moveFocusToStartOfInline=function(e){e.command(nt,"focus","start","inline")},et.moveFocusToStartOfNextBlock=function(e){e.command(rt,"focus","start","next","block")},et.moveFocusToStartOfNextInline=function(e){e.command(rt,"focus","start","next","inline")},et.moveFocusToStartOfNextText=function(e){e.command(rt,"focus","start","next","text")},et.moveFocusToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveFocusToStartOfNode"].concat(n))},et.moveFocusToStartOfPreviousBlock=function(e){e.command(rt,"focus","start","previous","block")},et.moveFocusToStartOfPreviousInline=function(e){e.command(rt,"focus","start","previous","inline")},et.moveFocusToStartOfPreviousText=function(e){e.command(rt,"focus","start","previous","text")},et.moveFocusToStartOfText=function(e){e.command(nt,"focus","start","text")},et.moveForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorForward.apply(e,r)).moveFocusForward.apply(t,r)},et.moveWordForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveFocusWordForward.apply(e,r)).moveToFocus.apply(t,r)},et.moveStartBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[ot,"start"].concat(n))},et.moveStartWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[it,"start"].concat(n))},et.moveStartForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[at,"start"].concat(n))},et.moveStartWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[st,"start"].concat(n))},et.moveStartTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveStartTo"].concat(n))},et.moveStartToEndOfBlock=function(e){e.command(nt,"start","end","block")},et.moveStartToEndOfDocument=function(e){e.moveStartToEndOfNode(e.value.document).moveToStart()},et.moveStartToEndOfInline=function(e){e.command(nt,"start","end","inline")},et.moveStartToEndOfNextBlock=function(e){e.command(rt,"start","end","next","block")},et.moveStartToEndOfNextInline=function(e){e.command(rt,"start","end","next","inline")},et.moveStartToEndOfNextText=function(e){e.command(rt,"start","end","next","text")},et.moveStartToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveStartToEndOfNode"].concat(n))},et.moveStartToEndOfPreviousBlock=function(e){e.command(rt,"start","end","previous","block")},et.moveStartToEndOfPreviousInline=function(e){e.command(rt,"start","end","previous","inline")},et.moveStartToEndOfPreviousText=function(e){e.command(rt,"start","end","previous","text")},et.moveStartToEndOfText=function(e){e.command(nt,"start","end","text")},et.moveStartToStartOfBlock=function(e){e.command(nt,"start","start","block")},et.moveStartToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},et.moveStartToStartOfInline=function(e){e.command(nt,"start","start","inline")},et.moveStartToStartOfNextBlock=function(e){e.command(rt,"start","start","next","block")},et.moveStartToStartOfNextInline=function(e){e.command(rt,"start","start","next","inline")},et.moveStartToStartOfNextText=function(e){e.command(rt,"start","start","next","text")},et.moveStartToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveStartToStartOfNode"].concat(n))},et.moveStartToStartOfPreviousBlock=function(e){e.command(rt,"start","start","previous","block")},et.moveStartToStartOfPreviousInline=function(e){e.command(rt,"start","start","previous","inline")},et.moveStartToStartOfPreviousText=function(e){e.command(rt,"start","start","previous","text")},et.moveStartToStartOfText=function(e){e.command(nt,"start","start","text")},et.moveTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveTo"].concat(n))},et.moveToAnchor=function(e){e.command(tt,"moveToAnchor")},et.moveToEnd=function(e){e.command(tt,"moveToEnd")},et.moveToEndOfBlock=function(e){e.moveEndToEndOfBlock().moveToEnd()},et.moveToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},et.moveToEndOfInline=function(e){e.moveEndToEndOfInline().moveToEnd()},et.moveToEndOfNextBlock=function(e){e.moveEndToEndOfNextBlock().moveToEnd()},et.moveToEndOfNextInline=function(e){e.moveEndToEndOfNextInline().moveToEnd()},et.moveToEndOfNextText=function(e){e.moveEndToEndOfNextText().moveToEnd()},et.moveToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveToEndOfNode"].concat(n))},et.moveToEndOfPreviousBlock=function(e){e.moveStartToEndOfPreviousBlock().moveToStart()},et.moveToEndOfPreviousInline=function(e){e.moveStartToEndOfPreviousInline().moveToStart()},et.moveToEndOfPreviousText=function(e){e.moveStartToEndOfPreviousText().moveToStart()},et.moveToEndOfText=function(e){e.moveEndToEndOfText().moveToEnd()},et.moveToFocus=function(e){e.command(tt,"moveToFocus")},et.moveToRangeOfDocument=function(e){e.moveToRangeOfNode(e.value.document)},et.moveToRangeOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveToRangeOfNode"].concat(n))},et.moveToStart=function(e){e.command(tt,"moveToStart")},et.moveToStartOfBlock=function(e){e.moveStartToStartOfBlock().moveToStart()},et.moveToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},et.moveToStartOfInline=function(e){e.moveStartToStartOfInline().moveToStart()},et.moveToStartOfNextBlock=function(e){e.moveEndToStartOfNextBlock().moveToEnd()},et.moveToStartOfNextInline=function(e){e.moveEndToStartOfNextInline().moveToEnd()},et.moveToStartOfNextText=function(e){e.moveEndToStartOfNextText().moveToEnd()},et.moveToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"moveToStartOfNode"].concat(n))},et.moveToStartOfPreviousBlock=function(e){e.moveStartToStartOfPreviousBlock().moveToStart()},et.moveToStartOfPreviousInline=function(e){e.moveStartToStartOfPreviousInline().moveToStart()},et.moveToStartOfPreviousText=function(e){e.moveStartToStartOfPreviousText().moveToStart()},et.moveToStartOfText=function(e){e.moveStartToStartOfText().moveToStart()},et.select=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};t=ve.createProperties(t);var r=n.snapshot,o=r!==undefined&&r,i=e.value,s=i.document,l=i.selection,u={},c=l.setProperties(t);for(var d in c=s.resolveSelection(c),t=f()(c,Object.keys(t)))!0!==o&&Object(a.is)(t[d],l[d])||(u[d]=t[d]);if(l.marks&&!u.marks&&(u.anchor||u.focus)&&(u.marks=null),0!==Object.keys(u).length){var p=f()(l.toJSON(),Object.keys(u));e.applyOperation({type:"set_selection",value:i,properties:p,newProperties:u},o?{skip:!1,merge:!1}:{})}},et.setAnchor=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"setAnchor"].concat(n))},et.setEnd=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"setEnd"].concat(n))},et.setFocus=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"setFocus"].concat(n))},et.setStart=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[tt,"setStart"].concat(n))},et.snapshotSelection=function(e){e.withoutMerging(function(){e.select(e.value.selection,{snapshot:!0})})};var lt={};function ut(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{onConstruct:function(t,n){for(var r in e)t.registerQuery(r);return n()},onQuery:function(t,n,r){var o=t.type,a=t.args,i=e[o];if(!i)return r();var s=i.apply(undefined,[n].concat(T(a)));return s===undefined?r():s}}}lt.setData=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.value,r=we.createProperties({data:t}),o=f()(n,Object.keys(r));e.applyOperation({type:"set_value",properties:o,newProperties:r})},lt.setDecorations=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],n=e.value,r=we.createProperties({decorations:t}),o=f()(n,Object.keys(r));e.applyOperation({type:"set_value",properties:o,newProperties:r})};var ct=function(e){function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};C(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));for(var o in r.code=e,n)r[o]=n[o];return Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,r}return P(t,e),t}(Error);function dt(e){var t=e.rules,n=e.document,r=e.blocks,o=e.inlines,a=e.marks,i=[];if(t&&(i=i.concat(t)),n&&i.push(S({match:[{object:"document"}]},n)),r)for(var s in r)i.push(S({match:[{object:"block",type:s}]},r[s]));if(o)for(var l in o)i.push(S({match:[{object:"inline",type:l}]},o[l]));if(a)for(var u in a)i.push(S({match:[{object:"mark",type:u}]},a[u]));function c(e,t,n){var r=i.filter(function(t){return ft(e,t.match)}),o=pt(e,r,i,{every:!0});return o?new ct(o.code,o):n()}return[{normalizeNode:function(e,t,n){var r=c(e,0,function(){});return r?function(){var e=r.rule,n=t.operations.size;e.normalize&&e.normalize(t,r),t.operations.size===n&&function(e,t){var n=t.code,r=t.node,o=t.child,a=t.next,i=t.previous,s=t.key,l=t.mark;switch(n){case"child_max_invalid":case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return"text"===o.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(o.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return"text"===i.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(i.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return"text"===a.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(a.key);case"child_min_invalid":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return"document"===r.object?r.nodes.forEach(function(t){return e.removeNodeByKey(t.key)}):e.removeNodeByKey(r.key);case"node_data_invalid":return r.data.get(s)===undefined&&"document"!==r.object?e.removeNodeByKey(r.key):e.setNodeByKey(r.key,{data:r.data["delete"](s)});case"node_mark_invalid":return r.getTexts().forEach(function(t){return e.removeMarkByKey(t.key,0,t.text.length,l)});default:e.removeNodeByKey(r.key)}}(t,r)}:n()},validateNode:c},ut({isAtomic:function(e,t){var n=i.find(function(e){return"isAtomic"in e&&ft(t,e.match)});return n&&n.isAtomic},isVoid:function(e,t){var n=i.find(function(e){return"isVoid"in e&&ft(t,e.match)});return n&&n.isVoid}})]}function ft(e,t){return!pt(e,t)}function pt(e,t,n){var r=(arguments.length>3&&arguments[3]!==undefined?arguments[3]:{}).every,o=r!==undefined&&r;if(Array.isArray(t)){var a=t.length?t:[{}],i=void 0,s=!0,l=!1,u=undefined;try{for(var c,d=a[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=pt(e,c.value,n);if(i=i||f,o&&f)return f;if(!o&&!f)return}}catch(It){l=!0,u=It}finally{try{!s&&d["return"]&&d["return"]()}finally{if(l)throw u}}return i}return function(e,t){if(null==t.object)return;if(t.object===e.object)return;if("function"==typeof t.object&&t.object(e.object))return;return mt("node_object_invalid",{rule:t,node:e})}(e,t)||function(e,t){if(null==t.type)return;if(t.type===e.type)return;if("function"==typeof t.type&&t.type(e.type))return;return mt("node_type_invalid",{rule:t,node:e})}(e,t)||function(e,t){if(null==t.data)return;if(null==e.data)return;if("function"==typeof t.data){if(t.data(e.data))return;return mt("node_data_invalid",{rule:t,node:e})}for(var n in t.data){var r=t.data[n],o=e.data&&e.data.get(n),a="function"==typeof r?r(o):r===o;if(!a)return mt("node_data_invalid",{rule:t,node:e,key:n,value:o})}}(e,t)||function(e,t){if(null==t.marks)return;var n=e.getMarks().toArray(),r=function(n){var r=t.marks.some(function(e){return"function"==typeof e.type?e.type(n.type):e.type===n.type});return r?"continue":{v:mt("node_mark_invalid",{rule:t,node:e,mark:n})}},o=!0,a=!1,i=undefined;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,c=r(u);switch(c){case"continue":continue;default:if("object"===(void 0===c?"undefined":w(c)))return c.v}}}catch(It){a=!0,i=It}finally{try{!o&&l["return"]&&l["return"]()}finally{if(a)throw i}}}(e,t)||function(e,t){if(null==t.text)return;var n=e.text;if("function"==typeof t.text?t.text(n):t.text.test(n))return;return mt("node_text_invalid",{rule:t,node:e,text:n})}(e,t)||function(e,t){if(null==t.first)return;var n=e.nodes.first();if(!n)return;var r=pt(n,t.first);if(!r)return;return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","first_child_"),r}(e,t)||function(e,t){if(null==t.last)return;var n=e.nodes.last();if(!n)return;var r=pt(n,t.last);if(!r)return;return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","last_child_"),r}(e,t)||function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];if(null==e.nodes)return;var r=e.nodes,o=null!=t.nodes?t.nodes.slice():[],a=0,i=0,s=null,l=-1,u=null,c=null,d=null,f=null,p=null;function h(){return 0!==o.length&&(u=o.shift(),i=a,a=0,s=u.min||null,c=u.max||null,!0)}function g(){return f=(l+=1)?r.get(l-1):null,d=r.get(l),p=r.get(l+1),!!d&&(i=a,a+=1,!0)}function y(){l>0&&(l-=1,a=i)}null!=t.nodes&&h();for(;g();){var m=ht(e,d,n)||gt(e,d,f,l,n)||yt(e,d,p,l,n);if(m)return m;if(null!=t.nodes){if(!u)return mt("child_unknown",{rule:t,node:e,child:d,index:l});if(u.match){var _=pt(d,u.match);if(_){if(null!=c&&a-1>c)return y(),mt("child_max_invalid",{rule:t,node:e,index:l,child:r.get(l),count:a,limit:c});var v=s;if(h()){if(i-1>=v){l-=1;continue}return null==pt(d,u.match)?(y(),mt("child_min_invalid",{rule:t,node:e,index:l,count:i-1,limit:v})):(_.rule=t,_.node=e,_.child=d,_.index=l,_.code=_.code.replace("node_","child_"),_)}return null!=c&&a>c?mt("child_unknown",{rule:t,node:e,child:d,index:l}):(_.rule=t,_.node=e,_.child=d,_.index=l,_.code=_.code.replace("node_","child_"),_)}}}}if(null!=c&&a>c)return mt("child_max_invalid",{rule:t,node:e,index:l-1,count:a,child:r.get(l-1),limit:c});if(null!=t.nodes)do{if(a<s)return mt("child_min_invalid",{rule:t,node:e,index:l,count:a,limit:s})}while(h())}(e,t,n)}function ht(e,t,n){var r=!0,o=!1,a=undefined;try{for(var i,s=n[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value;if(null!=l.parent&&ft(t,l.match)){var u=pt(e,l.parent);if(u)return u.rule=l,u.parent=e,u.node=t,u.code=u.code.replace("node_","parent_"),u}}}catch(It){o=!0,a=It}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw a}}}function gt(e,t,n,r,o){if(n){var a=!0,i=!1,s=undefined;try{for(var l,u=o[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;if(null!=c.previous&&ft(t,c.match)){var d=pt(n,c.previous);if(d)return d.rule=c,d.node=e,d.child=t,d.index=r,d.previous=n,d.code=d.code.replace("node_","previous_sibling_"),d}}}catch(It){i=!0,s=It}finally{try{!a&&u["return"]&&u["return"]()}finally{if(i)throw s}}}}function yt(e,t,n,r,o){if(n){var a=!0,i=!1,s=undefined;try{for(var l,u=o[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;if(null!=c.next&&ft(t,c.match)){var d=pt(n,c.next);if(d)return d.rule=c,d.node=e,d.child=t,d.index=r,d.next=n,d.code=d.code.replace("node_","next_sibling_"),d}}}catch(It){i=!0,s=It}finally{try{!a&&u["return"]&&u["return"]()}finally{if(i)throw s}}}}function mt(e,t){return S({code:e},t)}function _t(e){e.value.selection.isExpanded&&e["delete"]()}var vt={};vt.addMark=function(e,t){t=R.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.addMarkAtRange(o,t);else if(o.marks){var a=o.marks.add(t),i=o.set("marks",a);e.select(i)}else{var s=r.getActiveMarksAtRange(o).add(t),l=o.set("marks",s);e.select(l)}},vt.addMarks=function(e,t){t.forEach(function(t){return e.addMark(t)})},vt["delete"]=function(e){var t=e.value.selection;e.deleteAtRange(t),e.moveToFocus()},vt.deleteBackward=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,n=e.value.selection;n.isExpanded?e["delete"]():e.deleteBackwardAtRange(n,t)},vt.deleteCharBackward=function(e){var t=e.value.selection;t.isExpanded?e["delete"]():e.deleteCharBackwardAtRange(t)},vt.deleteLineBackward=function(e){var t=e.value.selection;t.isExpanded?e["delete"]():e.deleteLineBackwardAtRange(t)},vt.deleteWordBackward=function(e){var t=e.value.selection;t.isExpanded?e["delete"]():e.deleteWordBackwardAtRange(t)},vt.deleteForward=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,n=e.value.selection;n.isExpanded?e["delete"]():e.deleteForwardAtRange(n,t)},vt.deleteCharForward=function(e){var t=e.value.selection;t.isExpanded?e["delete"]():e.deleteCharForwardAtRange(t)},vt.deleteLineForward=function(e){var t=e.value.selection;t.isExpanded?e["delete"]():e.deleteLineForwardAtRange(t)},vt.deleteWordForward=function(e){var t=e.value.selection;t.isExpanded?e["delete"]():e.deleteWordForwardAtRange(t)},vt.insertBlock=function(e,t){_t(e),t=Q.create(t);var n=e.value.selection;e.insertBlockAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},vt.insertFragment=function(e,t){if(t.nodes.size){_t(e);var n=e.value,r=n,o=r.document,a=r.selection,i=a.start,s=a.end,l=n,u=l.startText,c=l.endText,d=l.startInline,f=t.getLastText(),p=t.getClosestInline(f.key),h=t.getClosestBlock(f.key),g=t.nodes.first(),y=t.nodes.last(),m=o.getTexts().map(function(e){return e.key}),_=!d||i.isAtStartOfNode(u)||s.isAtStartOfNode(u)||i.isAtEndOfNode(c)||s.isAtEndOfNode(c),v=g.hasBlockChildren()||y.hasBlockChildren();e.insertFragmentAtRange(a,t);var b=(o=(n=e.value).document).getTexts().filter(function(e){return!m.includes(e.key)}),w=_?b.last():b.takeLast(2).first();w&&(p||v)?e.moveToEndOfNode(w):w&&e.moveToStartOfNode(w).moveForward(h.text.length)}},vt.insertInline=function(e,t){_t(e),t=I.create(t);var n=e.value.selection;e.insertInlineAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},vt.insertText=function(e,t,n){_t(e);var r=e.value,o=r.document,a=r.selection;n=n||a.marks||o.getInsertMarksAtRange(a),e.insertTextAtRange(a,t,n),a.marks&&o!==e.value.document&&e.select({marks:null})},vt.removeMark=function(e,t){t=R.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.removeMarkAtRange(o,t);else if(o.marks){var a=o.marks.remove(t),i=o.set("marks",a);e.select(i)}else{var s=r.getActiveMarksAtRange(o).remove(t),l=o.set("marks",s);e.select(l)}},vt.replaceMark=function(e,t,n){e.removeMark(t),e.addMark(n)},vt.setBlocks=function(e,t){var n=e.value.selection;e.setBlocksAtRange(n,t)},vt.setInlines=function(e,t){var n=e.value.selection;e.setInlinesAtRange(n,t)},vt.splitBlock=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;_t(e);var n=e.value,r=n.selection,o=n.document,a=r.marks||o.getInsertMarksAtRange(r);e.splitBlockAtRange(r,t).moveToEnd(),a&&0!==a.size&&e.select({marks:a})},vt.splitInline=function(e,t){_t(e);var n=e.value.selection;e.splitInlineAtRange(n,t)},vt.toggleMark=function(e,t){t=R.create(t),e.value.activeMarks.has(t)?e.removeMark(t):e.addMark(t)},vt.unwrapBlock=function(e,t){var n=e.value.selection;e.unwrapBlockAtRange(n,t)},vt.unwrapInline=function(e,t){var n=e.value.selection;e.unwrapInlineAtRange(n,t)},vt.wrapBlock=function(e,t){var n=e.value.selection;e.wrapBlockAtRange(n,t)},vt.wrapInline=function(e,t){var n=e.value.selection;e.wrapInlineAtRange(n,t)},vt.wrapText=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t,r=e.value.selection;e.wrapTextAtRange(r,t,n),r.isCollapsed&&e.moveStartBackward(t.length),e.moveEndBackward(n.length),r.isForward!==e.value.selection.isForward&&e.flip()};var bt=u()("slate:editor"),wt=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};C(this,e);var r=n.controller,o=r===undefined?this:r,i=n.construct,s=i===undefined||i,l=t.onChange,u=l===undefined?function(){}:l,c=t.plugins,d=c===undefined?[]:c,f=t.readOnly,p=f!==undefined&&f,h=t.value,g=h===undefined?we.create():h;this.controller=o,this.middleware={},this.onChange=u,this.operations=Object(a.List)(),this.readOnly=null,this.value=null,this.tmp={dirty:[],flushing:!1,merge:null,normalize:!0,save:!0},function y(e,t){if(Array.isArray(t))return void t.forEach(function(t){return y(e,t)});var n=t.commands,r=t.queries,o=t.schema,a=k(t,["commands","queries","schema"]);if(n){var i=De(n);y(e,i)}if(r){var s=ut(r);y(e,s)}if(o){var l=dt(o);y(e,l)}for(var u in a){var c=a[u],d=e.middleware[u]=e.middleware[u]||[];d.push(c)}}(this,function(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).plugins,t=e===undefined?[]:e,n=De(S({},Ve,Ge,Qe,et,lt,vt)),r=ut({isAtomic:function(){return!1},isVoid:function(){return!1}});return[dt({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function(e,t){var n=t.code,r=t.node;"child_min_invalid"===n&&r.nodes.isEmpty()&&e.insertNodeByKey(r.key,0,X.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=X.create(),a=void 0;if("first_child_object_invalid"===n)a=0;else{if("last_child_object_invalid"!==n)return;a=r.nodes.size}e.insertNodeByKey(r.key,a,o)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=t.index,a=X.create(),i=void 0;if("first_child_object_invalid"===n)i=0;else if("last_child_object_invalid"===n)i=r.nodes.size;else if("previous_sibling_object_invalid"===n)i=o;else{if("next_sibling_object_invalid"!==n)return;i=o+1}e.insertNodeByKey(r.key,i,a)}},{match:{object:"text"},next:[{object:"block"},{object:"inline"}],normalize:function(e,t){var n=t.code,r=t.next;"next_sibling_object_invalid"===n&&e.mergeNodeByKey(r.key)}}]})].concat(T(t),[n,r])}({plugins:d})),s&&(this.run("onConstruct"),this.setReadOnly(p),this.setValue(g,n))}return x(e,[{key:"applyOperation",value:function(e){var t=this,n=this.operations,r=this.controller,a=this.value;o()(e)&&(e=S({},e,{value:a})),e=Ee.create(e),this.withoutNormalizing(function(){r.save(e),a=t.value}),bt("apply",{operation:e}),this.value=e.apply(a),this.operations=n.push(e);var i=function(e){var t=e.type,n=e.node,r=e.path,o=e.newPath;switch(t){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":var a=ue.getAncestors(r).toArray();return[].concat(T(a),[r]);case"insert_node":var i=n.getKeysToPathsTable(),s=Object.values(i).map(function(e){return r.concat(e)}),l=ue.getAncestors(r).toArray();return[].concat(T(l),[r],T(s));case"split_node":var u=ue.getAncestors(r).toArray(),c=ue.increment(r);return[].concat(T(u),[r,c]);case"merge_node":var d=ue.getAncestors(r).toArray(),f=ue.decrement(r);return[].concat(T(d),[f]);case"move_node":if(ue.isEqual(r,o))return[];var p=ue.getAncestors(r).reduce(function(t,n){return t.push.apply(t,T(ue.transform(n,e).toArray())),t},[]),h=ue.getAncestors(o).reduce(function(t,n){return t.push.apply(t,T(ue.transform(n,e).toArray())),t},[]);return[].concat(T(p),T(h));case"remove_node":var g=ue.getAncestors(r).toArray();return[].concat(T(g));default:return[]}}(e),s=this.tmp.dirty.reduce(function(t,n){n=ue.create(n);var r=ue.transform(n,e);return t=t.concat(r.toArray())},i);return this.tmp.dirty=s,this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then(function(){return t.flush()})),r}},{key:"flush",value:function(){this.run("onChange");var e=this.value,t=this.operations,n=this.controller,r={value:e,operations:t};return this.operations=Object(a.List)(),this.tmp.flushing=!1,this.onChange(r),n}},{key:"command",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"==typeof e)return e.apply(undefined,[o].concat(n)),Ct(this),o;bt("command",{type:e,args:n});var a={type:e,args:n};return this.run("onCommand",a),Ct(this),o}},{key:"hasCommand",value:function(e){var t=this.controller;return e in t&&t[e].__command}},{key:"hasQuery",value:function(e){var t=this.controller;return e in t&&t[e].__query}},{key:"normalize",value:function(){var e=this.value,t=this.controller,n=e.document,r=n.getKeysToPathsTable(),o=Object.values(r).map(ue.create);this.tmp.dirty=this.tmp.dirty.concat(o),Ct(this);var a=e.selection;return n=e.document,a.isUnset&&n.nodes.size&&t.moveToStartOfDocument(),t}},{key:"query",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"==typeof e)return e.apply(undefined,[o].concat(n));bt("query",{type:e,args:n});var a={type:e,args:n};return this.run("onQuery",a)}},{key:"registerCommand",value:function(e){var t=this,n=this.controller;if(e in n&&n[e].__command)return n;Object(s.a)(!(e in n),"You cannot register a `"+e+"` command because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.command.apply(t,[e].concat(r))};return n[e]=r,r.__command=!0,n}},{key:"registerQuery",value:function(e){var t=this,n=this.controller;if(e in n&&n[e].__query)return n;Object(s.a)(!(e in n),"You cannot register a `"+e+"` query because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.query.apply(t,[e].concat(r))};return n[e]=r,r.__query=!0,n}},{key:"run",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller,a=this.middleware[e]||[],i=0;function l(){var e=a[i++];if(e){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];return r.length&&(n=r),e.apply(undefined,T(n).concat([o,l]))}}return Object.defineProperty(l,"change",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"onChange",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"props",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"schema",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"stack",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),l()}},{key:"setReadOnly",value:function(e){return this.readOnly=e,this}},{key:"setValue",value:function(e){var t=(arguments.length>1&&arguments[1]!==undefined?arguments[1]:{}).normalize,n=t===undefined?e!==this.value:t;return this.value=e,n&&this.normalize(),this}},{key:"withoutNormalizing",value:function(e){var t=this.controller,n=this.tmp.normalize;return this.tmp.normalize=!1,e(t),this.tmp.normalize=n,Ct(this),t}},{key:"change",value:function(e){Object(i.a)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so the `editor.change()` method is deprecated.`");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(undefined,[this.controller].concat(n))}},{key:"call",value:function(e){Object(i.a)(!1,"As of Slate 0.43 the `editor.call(fn)` method has been deprecated, please use `editor.command(fn)` instead.");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(undefined,[this.controller].concat(n)),this.controller}},{key:"applyOperations",value:function(e){var t=this;return Object(i.a)(!1,"As of Slate 0.43 the `applyOperations` method is deprecated, please apply each operation in a loop instead."),e.forEach(function(e){return t.applyOperation(e)}),this.controller}},{key:"setOperationFlag",value:function(e,t){return Object(i.a)(!1,"As of slate@0.41 the `change.setOperationFlag` method has been deprecated."),this.tmp[e]=t,this}},{key:"getFlag",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Object(i.a)(!1,"As of slate@0.41 the `change.getFlag` method has been deprecated."),t[e]!==undefined?t[e]:this.tmp[e]}},{key:"unsetOperationFlag",value:function(e){return Object(i.a)(!1,"As of slate@0.41 the `change.unsetOperationFlag` method has been deprecated."),delete this.tmp[e],this}},{key:"withoutNormalization",value:function(e){return Object(i.a)(!1,"As of slate@0.41 the `change.withoutNormalization` helper has been renamed to `change.withoutNormalizing`."),this.withoutNormalizing(e)}},{key:"editor",get:function(){return Object(i.a)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so you don't need to access `change.editor`."),this.controller}}]),e}();function Ct(e){e.tmp.normalize&&e.tmp.dirty.length&&e.withoutNormalizing(function(){for(;e.tmp.dirty.length;){var t=e.tmp.dirty.pop();xt(e,t)}})}function xt(e,t){for(var n=e.controller,r=e.value,o=r.document,a=o.assertNode(t),i=0,s=100+("text"===a.object?1:a.nodes.size);a;){var l=a.normalize(n);if(!l)break;l(n),o=(r=e.value).document;var u=a.key,c=o.getDescendant(t);if(c&&c.key===u)a=c;else{if(!(c=o.getDescendant(u)))break;a=c,t=o.getPath(u)}if(++i>s)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.")}}function St(e,t){var n=!0,r=!1,o=undefined;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,l=!0,u=!1,c=undefined;try{for(var d,f=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var p=d.value;if(!s.hasOwnProperty(p)){var h=Object.getOwnPropertyDescriptor(e,p);Object.defineProperty(s,p,h)}}}catch(It){u=!0,c=It}finally{try{!l&&f["return"]&&f["return"]()}finally{if(u)throw c}}var g=!0,y=!1,m=undefined;try{for(var _,v=Object.getOwnPropertyNames(e.prototype)[Symbol.iterator]();!(g=(_=v.next()).done);g=!0){var b=_.value;if(!s.prototype.hasOwnProperty(b)){h=Object.getOwnPropertyDescriptor(e.prototype,b);Object.defineProperty(s.prototype,b,h)}}}catch(It){y=!0,m=It}finally{try{!g&&v["return"]&&v["return"]()}finally{if(y)throw m}}}}catch(It){r=!0,o=It}finally{try{!n&&i["return"]&&i["return"]()}finally{if(r)throw o}}}Object.entries({Block:Q,Change:Me,Decoration:pe,Document:A,Editor:wt,Inline:I,Leaf:N,Mark:R,Node:Z,Operation:Ee,Point:de,Range:me,Selection:ve,Text:X,Value:we}).forEach(function(e){var t,n,r,o,a=E(e,2),i=a[0],s=a[1];return St((t=i.toLowerCase(),n=he[t],r="is"+t.charAt(0).toUpperCase()+t.slice(1),(o=function(){function e(){C(this,e)}return x(e,[{key:"object",get:function(){return t}}]),e}())[r]=ge.bind(null,t),o.prototype[n]=!0,o),[s])}),St(function(){function e(){C(this,e)}return x(e,[{key:"toJS",value:function(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function(){return this.fromJSON.apply(this,arguments)}}]),e}(),[Q,pe,A,I,N,R,Z,Ee,de,me,ve,X,we]);var Pt=function(){function e(){C(this,e)}return x(e,[{key:"getFirstText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.find(function(t){return"text"===t.object||!!(e=t.getFirstText())});return e||t}},{key:"getKeysToPathsTable",value:function(){var e,t,n,r=(e={},t=this.key,n=[],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e);return this.nodes&&this.nodes.forEach(function(e,t){var n=e.getKeysToPathsTable();for(var o in n){var a=n[o];Object(i.a)(!(o in r),'A node with a duplicate key of "'+o+'" was found! Duplicate keys are not allowed, you should use `node.regenerateKey` before inserting if you are reusing an existing node.'),r[o]=[t].concat(T(a))}}),r}},{key:"getLastText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.findLast(function(t){return"text"===t.object||(e=t.getLastText())});return e||t}},{key:"getNode",value:function(e){return(e=this.resolvePath(e))?"text"===this.object&&e.size?null:e.size?this.getDescendant(e):this:null}},{key:"getPath",value:function(e){if(a.List.isList(e))return e;var t=this.getKeysToPathsTable()[e];return t?Object(a.List)(t):null}},{key:"getText",value:function(){return("text"===this.object?this.leaves:this.nodes).reduce(function(e,t){return e+t.text},"")}},{key:"hasNode",value:function(e){return!!this.getNode(e)}},{key:"normalize",value:function(e){return e.run("normalizeNode",this)}},{key:"regenerateKey",value:function(){var e=b.create();return this.set("key",e)}},{key:"resolvePath",value:function(e,t){return"string"==typeof e?(e=this.getPath(e),null!=t&&(e=e.concat(t))):e=ue.create(e),e}},{key:"validate",value:function(e){return e.run("validateNode",this)}},{key:"text",get:function(){return this.getText()}}]),e}();G(Pt.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]),St(Pt,[Q,A,I,X]);var kt=function(){function e(){C(this,e)}return x(e,[{key:"addMark",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.addMark(t,n,r),this.replaceNode(e,o)}},{key:"createDecoration",value:function(e){return e=pe.createProperties(e),this.resolveDecoration(e)}},{key:"createPoint",value:function(e){return e=de.createProperties(e),this.resolvePoint(e)}},{key:"createRange",value:function(e){return e=me.createProperties(e),this.resolveRange(e)}},{key:"createSelection",value:function(e){return e=ve.createProperties(e),this.resolveSelection(e)}},{key:"filterDescendants",value:function(e){var t=[];return this.forEachDescendant(function(n,r,o){e(n,r,o)&&t.push(n)}),Object(a.List)(t)}},{key:"findDescendant",value:function(e){var t=null;return this.forEachDescendant(function(n,r,o){if(e(n,r,o))return t=n,!1}),t}},{key:"findDescendantAndPath",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ue.create([]),n=arguments.length>2&&arguments[2]!==undefined&&arguments[2],r=void 0,o=void 0;return this.forEachDescendantWithPath(function(t,n,a){if(e(t,n,a))return r=t,o=n,!1},t,n),r?[r,o]:null}},{key:"findFirstDescendantAndPath",value:function(e,t){return this.findDescendantAndPath(e,t,!1)}},{key:"findLastDescendantAndPath",value:function(e,t){return this.findDescendantAndPath(e,t,!0)}},{key:"forEachDescendant",value:function(e){var t=void 0;return this.nodes.forEach(function(n,r,o){return!1===e(n,r,o)?(t=!1,!1):"text"!==n.object?t=n.forEachDescendant(e):void 0}),t}},{key:"forEachDescendantWithPath",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ue.create([]),n=arguments[2],r=this.nodes,o=void 0;return n&&(r=r.reverse()),r.forEach(function(a,i){var s=t.concat(i);return!1===e(a,s,r)?(o=!1,!1):"text"!==a.object?o=a.forEachDescendantWithPath(e,s,n):void 0}),o}},{key:"getActiveMarksAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Object(a.Set)();if(e.isCollapsed){var t=e.start;return this.getMarksAtPosition(t.path,t.offset).toSet()}var n=e,r=n.start,o=n.end,i=r.path,s=r.offset,l=o.path,u=o.offset,c=this.getDescendant(i),d=this.getDescendant(l);if(!ue.isEqual(i,l)){for(;!ue.isEqual(i,l)&&0===u;){var f=this.getPreviousTextAndPath(l),p=E(f,2);d=p[0],l=p[1],u=d.text.length}for(;!ue.isEqual(i,l)&&s===c.text.length;){var h=this.getNextTextAndPath(i),g=E(h,2);c=g[0],i=g[1],s=0}}if(ue.isEqual(i,l))return c.getActiveMarksBetweenOffsets(s,u);var y=c.getActiveMarksBetweenOffsets(s,c.text.length);if(0===y.size)return Object(a.Set)();var m=d.getActiveMarksBetweenOffsets(0,u),_=y.intersect(m);if(0===_.size)return _;var v=this.getNextTextAndPath(i),b=E(v,2);for(c=b[0],i=b[1];!ue.isEqual(i,l);){if(0!==c.text.length&&0===(_=_.intersect(c.getActiveMarks())).size)return Object(a.Set)();var w=this.getNextTextAndPath(i),C=E(w,2);c=C[0],i=C[1]}return _}},{key:"getAncestors",value:function(e){var t=this;if(!(e=this.resolvePath(e)))return null;var n=[];return e.forEach(function(r,o){var a=e.slice(0,o),i=t.getNode(a);n.push(i)}),Object(a.List)(n)}},{key:"getBlocks",value:function(){var e=this.getBlocksAsArray();return Object(a.List)(e)}},{key:"getBlocksAsArray",value:function(){return this.nodes.reduce(function(e,t){return"block"!==t.object?e:t.isLeafBlock()?(e.push(t),e):e.concat(t.getBlocksAsArray())},[])}},{key:"getBlocksAtRange",value:function(e){return Object(i.a)(!1,"As of slate@0.44 the `node.getBlocksAtRange` method has been renamed to `getLeafBlocksAtRange`."),this.getLeafBlocksAtRange(e)}},{key:"getBlocksAtRangeAsArray",value:function(e){return Object(i.a)(!1,"As of slate@0.44 the `node.getBlocksAtRangeAsArray` method has been renamed to `getLeafBlocksAtRangeAsArray`."),this.getLeafBlocksAtRangeAsArray(e)}},{key:"getBlocksByType",value:function(e){var t=this.getBlocksByTypeAsArray(e);return Object(a.List)(t)}},{key:"getBlocksByTypeAsArray",value:function(e){return this.nodes.reduce(function(t,n){return"block"!==n.object?t:n.isLeafBlock()&&n.type===e?(t.push(n),t):t.concat(n.getBlocksByTypeAsArray(e))},[])}},{key:"getChild",value:function(e){return!(e=this.resolvePath(e))||e.size>1?null:this.nodes.get(e.first())}},{key:"getClosest",value:function(e,t){var n=this,r=this.getAncestors(e);return r&&r.findLast(function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return e!==n&&t.apply(undefined,[e].concat(o))})||null}},{key:"getClosestBlock",value:function(e){return this.getClosest(e,function(e){return"block"===e.object})}},{key:"getClosestInline",value:function(e){return this.getClosest(e,function(e){return"inline"===e.object})}},{key:"getClosestVoid",value:function(e,t){Object(s.a)(!we.isValue(t),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`.");var n=this.getAncestors(e);return n?n.findLast(function(e){return t.query("isVoid",e)}):null}},{key:"getCommonAncestor",value:function(e,t){if(e=this.resolvePath(e),t=this.resolvePath(t),!e||!t)return null;var n=ue.relate(e,t);return this.getNode(n)}},{key:"getDecorations",value:function(e){Object(s.a)(!we.isValue(e),"As of Slate 0.42.0, the `node.getDecorations` method takes an `editor` instead of a `value`.");var t=e.run("decorateNode",this);return pe.createList(t)}},{key:"getDepth",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return(e=this.resolvePath(e))&&this.getNode(e)?e.size-1+t:null}},{key:"getDescendant",value:function(e){if(!(e=this.resolvePath(e))||!e.size)return null;var t=this;return e.forEach(function(e){return!!(t=t.getIn(["nodes",e]))}),t}},{key:"getFragmentAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return A.create();for(var t=e,n=t.start,r=t.end,o=this,a=r.path,i=r.offset,s="end";a.size;){var l=a.last();o=o.splitNode(a,i),i=l+1,(a=ue.lift(a)).size||"end"!==s||(a=n.path,i=n.offset,s="start")}var u=n.path.first()+1,c=r.path.first()+2,d=o.nodes.slice(u,c);return A.create({nodes:d})}},{key:"getFurthest",value:function(e,t){var n=this,r=this.getAncestors(e);return r&&r.find(function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return e!==n&&t.apply(undefined,[e].concat(o))})||null}},{key:"getFurthestAncestor",value:function(e){return(e=this.resolvePath(e))&&e.size?this.nodes.get(e.first()):null}},{key:"getFurthestBlock",value:function(e){return this.getFurthest(e,function(e){return"block"===e.object})}},{key:"getFurthestInline",value:function(e){return this.getFurthest(e,function(e){return"inline"===e.object})}},{key:"getFurthestOnlyChildAncestor",value:function(e){var t=this.getAncestors(e);return t&&t.rest().reverse().takeUntil(function(e){return e.nodes.size>1}).last()||null}},{key:"getInlines",value:function(){var e=this.getInlinesAsArray();return Object(a.List)(e)}},{key:"getInlinesAsArray",value:function(){var e=[];return this.nodes.forEach(function(t){"text"!==t.object&&(t.isLeafInline()?e.push(t):e=e.concat(t.getInlinesAsArray()))}),e}},{key:"getInlinesAtRange",value:function(e){return Object(i.a)(!1,"As of slate@0.44 the `node.getInlinesAtRange` method has been renamed to `getLeafInlinesAtRange`."),this.getLeafInlinesAtRange(e)}},{key:"getInlinesAtRangeAsArray",value:function(e){return Object(i.a)(!1,"As of slate@0.44 the `node.getInlinesAtRangeAsArray` method has been renamed to `getLeafInlinesAtRangeAsArray`."),this.getLeafInlinesAtRangeAsArray(e)}},{key:"getInlinesByType",value:function(e){var t=this.getInlinesByTypeAsArray(e);return Object(a.List)(t)}},{key:"getInlinesByTypeAsArray",value:function(e){return this.nodes.reduce(function(t,n){return"text"===n.object?t:n.isLeafInline()&&n.type===e?(t.push(n),t):t.concat(n.getInlinesByTypeAsArray(e))},[])}},{key:"getInsertMarksAtRange",value:function(e){var t=(e=this.resolveRange(e)).start;return e.isUnset?Object(a.Set)():e.isCollapsed?this.getMarksAtPosition(t.path,t.offset):this.getDescendant(t.path).getMarksAtIndex(t.offset+1)}},{key:"getLeafBlocksAtRange",value:function(e){var t=this.getLeafBlocksAtRangeAsArray(e);return Object(a.List)(Object(a.OrderedSet)(t))}},{key:"getLeafBlocksAtRangeAsArray",value:function(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end;return this.getLeafBlocksBetweenPathPositionsAsArray(n.path,r.path)}},{key:"getLeafBlocksBetweenPathPositionsAsArray",value:function(e,t){if(e&&t&&ue.isEqual(e,t))return[this.getClosestBlock(e)];if(!e&&!t)return this.getBlocksAsArray();var n=e?e.get(0,0):0,r=t?t.get(0,this.nodes.size-1):this.nodes.size-1,o=[];return this.nodes.slice(n,r+1).forEach(function(a,i){if("block"===a.object)if(a.isLeafBlock())o.push(a);else{var s=e&&0===i?ue.drop(e):null,l=t&&i===r-n?ue.drop(t):null;o=o.concat(a.getLeafBlocksBetweenPathPositionsAsArray(s,l))}}),o}},{key:"getLeafInlinesAtRange",value:function(e){var t=this.getLeafInlinesAtRangeAsArray(e);return Object(a.List)(Object(a.OrderedSet)(t))}},{key:"getLeafInlinesAtRangeAsArray",value:function(e){var t=this;return(e=this.resolveRange(e)).isUnset?[]:this.getTextsAtRangeAsArray(e).map(function(e){return t.getClosestInline(e.key)}).filter(function(e){return e})}},{key:"getMarks",value:function(){var e=this.getMarksAsArray();return Object(a.Set)(e)}},{key:"getMarksAsArray",value:function(){var e,t=[];return this.nodes.forEach(function(e){t.push(e.getMarksAsArray())}),(e=[]).concat.apply(e,t)}},{key:"getMarksAtPosition",value:function(e,t){e=this.resolvePath(e);var n=this.getDescendant(e).getMarksAtIndex(t);if(0!==t)return n;var r=this.getClosestBlock(e);if(""===r.text)return n;var o=this.getPreviousTextAndPath(e);if(!o)return Object(a.Set)();var i=E(o,2),s=i[0],l=i[1];return r.hasDescendant(l)?o.getMarksAtIndex(s.text.length):n}},{key:"getMarksAtRange",value:function(e){return Object(a.Set)(this.getOrderedMarksAtRange(e))}},{key:"getMarksByType",value:function(e){var t=this.getMarksByTypeAsArray(e);return Object(a.Set)(t)}},{key:"getMarksByTypeAsArray",value:function(e){return this.nodes.reduce(function(t,n){return"text"===n.object?t.concat(n.getMarksAsArray().filter(function(t){return t.type===e})):t.concat(n.getMarksByTypeAsArray(e))},[])}},{key:"getNextBlock",value:function(e){e=this.resolvePath(e);var t=this.getNextDeepMatchingNodeAndPath(e,function(e){return"block"===e.object});return t?t[0]:null}},{key:"getNextNode",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t),r=ue.increment(n),o=this.getNode(r);if(o)return o}return null}},{key:"getNextMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return!0};if(!e)return null;for(var n=e.size;n>0;n--){for(var r=e.slice(0,n),o=ue.increment(r),a=this.getNode(o);a&&!t(a);)o=ue.increment(o),a=this.getNode(o);if(a)return[a,o]}return null}},{key:"getNextDeepMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return!0},n=this.getNextMatchingNodeAndPath(e);if(!n)return null;for(var r=E(n,2),o=r[0],a=r[1],i=void 0;i="text"!==o.object&&o.findFirstDescendantAndPath(t,a);){var s=E(i,2);o=s[0],a=s[1]}return o?t(o)?[o,a]:this.getNextDeepMatchingNodeAndPath(n[1],t):null}},{key:"getNextSibling",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=ue.increment(e);return this.getNode(t)}},{key:"getNextText",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getNextNode(e);return t?t.getFirstText():null}},{key:"getNextTextAndPath",value:function(e){return e&&e.size?this.getNextDeepMatchingNodeAndPath(e,function(e){return"text"===e.object}):null}},{key:"getNodesAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Object(a.List)();for(var t=e,n=t.start,r=t.end,o=Object(a.Stack)(this.nodes.slice(n.path.get(0),r.path.get(0)+1).map(function(e,t){return{node:e,onStartEdge:0===t,onEndEdge:t===r.path.get(0)-n.path.get(0),relativeStartPath:n.path.slice(1),relativeEndPath:r.path.slice(1)}})),i=[],s=function(){var e=o.peek(),t=e.node,n=e.onStartEdge,r=e.onEndEdge,a=e.relativeStartPath,s=e.relativeEndPath;if(o=o.shift(),i.push(t),"text"===t.object)return"continue";var l=n?a.get(0):0,u=r?s.get(0):t.nodes.size-1;o=o.pushAll(t.nodes.slice(l,u+1).map(function(e,t){return{node:e,onStartEdge:n&&0===t,onEndEdge:r&&t===u-l,relativeStartPath:n&&0===t?a.slice(1):null,relativeEndPath:r&&t===u-l?s.slice(1):null}}))};o.size>0;)s();return Object(a.List)(i)}},{key:"getOffset",value:function(e){e=this.resolvePath(e),this.assertDescendant(e);var t=e.first(),n=this.nodes.slice(0,t).reduce(function(e,t){return e+t.text.length},0);return 1===e.size?n:n+this.nodes.get(t).getOffset(ue.drop(e))}},{key:"getOffsetAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(e.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var t=e.start;return this.getOffset(t.path)+t.offset}},{key:"getOrderedMarks",value:function(){var e=this.getMarksAsArray();return Object(a.OrderedSet)(e)}},{key:"getOrderedMarksAtRange",value:function(e){var t=e=this.resolveRange(e),n=t.start,r=t.end;return e.isUnset?Object(a.OrderedSet)():e.isCollapsed?this.getMarksAtPosition(n.path,n.offset):this.getOrderedMarksBetweenPositions(n.path,n.offset,r.path,r.offset)}},{key:"getOrderedMarksBetweenPositions",value:function(e,t,n,r){e=this.resolvePath(e),n=this.resolvePath(n);var o=this.getDescendant(e);if(ue.isEqual(e,n))return o.getMarksBetweenOffsets(t,r);var i=this.getDescendant(n),s=this.getTextsBetweenPathPositionsAsArray(e,n);return Object(a.OrderedSet)().withMutations(function(e){s.forEach(function(n){n.key===o.key?e.union(n.getMarksBetweenOffsets(t,n.text.length)):n.key===i.key?e.union(n.getMarksBetweenOffsets(0,r)):e.union(n.getMarks())})})}},{key:"getOrderedMarksByType",value:function(e){var t=this.getMarksByTypeAsArray(e);return Object(a.OrderedSet)(t)}},{key:"getParent",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=ue.lift(e);return this.getNode(t)}},{key:"getPreviousBlock",value:function(e){e=this.resolvePath(e);var t=this.getPreviousDeepMatchingNodeAndPath(e,function(e){return"block"===e.object});return t?t[0]:null}},{key:"getRootBlocksAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Object(a.List)();var t=e,n=t.start,r=t.end;return this.nodes.slice(n.path.first(),r.path.first()+1)}},{key:"getRootInlinesAtRange",value:function(e){var t=this.getRootInlinesAtRangeAsArray(e);return Object(a.List)(Object(a.OrderedSet)(t))}},{key:"getRootInlinesAtRangeAsArray",value:function(e){var t=this;return(e=this.resolveRange(e)).isUnset?Object(a.List)():this.getTextsAtRangeAsArray(e).map(function(e){return t.getFurthestInline(e.key)}).filter(function(e){return e})}},{key:"getPreviousNode",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t);if(0!==n.last()){var r=ue.decrement(n),o=this.getNode(r);if(o)return o}}return null}},{key:"getPreviousMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return!0};if(!e)return null;for(var n=e.size;n>0;n--){var r=e.slice(0,n);if(0!==r.last()){for(var o=ue.decrement(r),a=this.getNode(o);a&&!t(a);)o=ue.decrement(o),a=this.getNode(o);if(a)return[a,o]}}return null}},{key:"getPreviousDeepMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return!0},n=this.getPreviousMatchingNodeAndPath(e);if(!n)return null;for(var r=E(n,2),o=r[0],a=r[1],i=void 0;i="text"!==o.object&&o.findLastDescendantAndPath(t,a);){var s=E(i,2);o=s[0],a=s[1]}return o?t(o)?[o,a]:this.getPreviousDeepMatchingNodeAndPath(n[1],t):null}},{key:"getPreviousSibling",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;if(0===e.last())return null;var t=ue.decrement(e);return this.getNode(t)}},{key:"getPreviousText",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getPreviousNode(e);return t?t.getLastText():null}},{key:"getPreviousTextAndPath",value:function(e){return e&&e.size?this.getPreviousDeepMatchingNodeAndPath(e,function(e){return"text"===e.object}):null}},{key:"getSelectionIndexes",value:function(e){var t=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],n=e.start,r=e.end;if(!t)return null;if(e.isUnset)return null;if(n.key===r.key){var o=this.getFurthestAncestor(n.key),a=o?this.nodes.indexOf(o):null;return{start:a,end:a+1}}var i=null,s=null;return this.nodes.forEach(function(e,t){return"text"===e.object?(null==i&&e.key===n.key&&(i=t),null==s&&e.key===r.key&&(s=t+1)):(null==i&&e.hasDescendant(n.key)&&(i=t),null==s&&e.hasDescendant(r.key)&&(s=t+1)),null==i||null==s}),t&&null==i&&(i=0),t&&null==s&&(s=this.nodes.size),null==i?null:{start:i,end:s}}},{key:"getTextAtOffset",value:function(e){if(0===e)return this.getFirstText();if(e===this.text.length)return this.getLastText();if(e<0||e>this.text.length)return null;var t=0;return this.getTexts().find(function(n,r,o){return(t+=n.text.length)>e})}},{key:"getTextDirection",value:function(){var e=y()(this.text);return"neutral"===e?null:e}},{key:"getTexts",value:function(){var e=this.getTextsAsArray();return Object(a.List)(e)}},{key:"getTextsAsArray",value:function(){var e=[];return this.nodes.forEach(function(t){"text"===t.object?e.push(t):e=e.concat(t.getTextsAsArray())}),e}},{key:"getTextsAtRange",value:function(e){var t=this.getTextsAtRangeAsArray(e);return Object(a.List)(t)}},{key:"getTextsAtRangeAsArray",value:function(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end;return this.getTextsBetweenPathPositionsAsArray(n.path,r.path)}},{key:"getTextsBetweenPositionsAsArray",value:function(e,t){return e=this.resolvePath(e),t=this.resolvePath(t),this.getTextsBetweenPathPositionsAsArray(e,t)}},{key:"getTextsBetweenPathPositionsAsArray",value:function(e,t){if(e&&t&&ue.isEqual(e,t))return[this.getDescendant(e)];if(!e&&!t)return this.getTextsAsArray();var n=e?e.get(0,0):0,r=t?t.get(0,this.nodes.size-1):this.nodes.size-1,o=[];return this.nodes.slice(n,r+1).forEach(function(a,i){if("text"===a.object)o.push(a);else{var s=e&&0===i?ue.drop(e):null,l=t&&i===r-n?ue.drop(t):null;o=o.concat(a.getTextsBetweenPathPositionsAsArray(s,l))}}),o}},{key:"hasBlockChildren",value:function(){return!(!this.nodes||!this.nodes.find(function(e){return"block"===e.object}))}},{key:"hasChild",value:function(e){return!!this.getChild(e)}},{key:"hasInlineChildren",value:function(){return!(!this.nodes||!this.nodes.find(function(e){return"inline"===e.object||"text"===e.object}))}},{key:"hasDescendant",value:function(e){return!!this.getDescendant(e)}},{key:"hasVoidParent",value:function(e,t){return Object(s.a)(!we.isValue(t),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`."),!!this.getClosestVoid(e,t)}},{key:"insertNode",value:function(e,t){var n=(e=this.resolvePath(e)).last(),r=ue.lift(e),o=this.assertNode(r),a=o.nodes.splice(n,0,t);return o=o.set("nodes",a),this.replaceNode(r,o)}},{key:"insertText",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.insertText(t,n,r),this.replaceNode(e,o)}},{key:"isLeafBlock",value:function(){var e=this.object,t=this.nodes;return"block"===e&&(!t.size||"block"!==t.first().object)}},{key:"isLeafInline",value:function(){var e=this.object,t=this.nodes;return"inline"===e&&(!t.size||"inline"!==t.first().object)}},{key:"isNodeInRange",value:function(e,t){if(this.assertDescendant(e),e=this.resolvePath(e),(t=this.resolveRange(t)).isUnset)return!1;var n=ue.compare(e,t.start.path),r=t.start.key===t.end.key?n:ue.compare(e,t.end.path);return-1!==n&&1!==r}},{key:"mapChildren",value:function(e){var t=this,n=this.nodes;return n.forEach(function(r,o){var a=e(r,o,t.nodes);a!==r&&(n=n.set(a.key,a))}),this.set("nodes",n)}},{key:"mapDescendants",value:function(e){var t=this,n=this.nodes;return n.forEach(function(r,o){var a=r;"text"!==a.object&&(a=a.mapDescendants(e)),(a=e(a,o,t.nodes))!==r&&(n=n.set(o,a))}),this.set("nodes",n)}},{key:"mergeNode",value:function(e){var t=this.assertNode(e);if(0===(e=this.resolvePath(e)).last())throw new Error("Unable to merge node because it has no previous sibling: "+t);var n=ue.decrement(e),r=this.assertNode(n);if(r.object!==t.object)throw new Error("Unable to merge two different kinds of nodes: "+r+" and "+t);var o="text"===r.object?r.mergeText(t):r.set("nodes",r.nodes.concat(t.nodes)),a=this;return a=(a=(a=a.removeNode(e)).removeNode(n)).insertNode(n,o)}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,r=this.assertNode(e);e=this.resolvePath(e),t=this.resolvePath(t,n);var o=ue.lift(t);this.assertNode(o);var a=Ee.create({type:"move_node",path:e,newPath:t});t=ue.transform(e,a).first();var i=this;return i=(i=i.removeNode(e)).insertNode(t,r)}},{key:"removeMark",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.removeMark(t,n,r),this.replaceNode(e,o)}},{key:"removeNode",value:function(e){this.assertDescendant(e);var t=(e=this.resolvePath(e)).flatMap(function(e){return["nodes",e]});return this.deleteIn(t)}},{key:"removeText",value:function(e,t,n){var r=this.assertDescendant(e);return r=r.removeText(t,n.length),this.replaceNode(e,r)}},{key:"replaceNode",value:function(e,t){if(!(e=this.resolvePath(e)))throw new Error("Unable to replace a node because it could not be found in the first place: "+e);if(!e.size)return t;this.assertNode(e);var n=e.flatMap(function(e){return["nodes",e]});return this.setIn(n,t)}},{key:"resolveDecoration",value:function(e){return e=(e=pe.create(e)).normalize(this)}},{key:"resolvePoint",value:function(e){return e=(e=de.create(e)).normalize(this)}},{key:"resolveRange",value:function(e){return e=(e=me.create(e)).normalize(this)}},{key:"resolveSelection",value:function(e){return e=(e=ve.create(e)).normalize(this)}},{key:"setNode",value:function(e,t){var n=this.assertNode(e);return n=n.merge(t),this.replaceNode(e,n)}},{key:"setMark",value:function(e,t,n,r,o){var a=this.assertNode(e);return a=a.updateMark(t,n,r,o),this.replaceNode(e,a)}},{key:"splitNode",value:function(e,t,n){var r=this.assertNode(e);e=this.resolvePath(e);var o=void 0,a=void 0;if("text"===r.object){var i=r.splitText(t),s=E(i,2);o=s[0],a=s[1]}else{var l=r.nodes.take(t),u=r.nodes.skip(t);o=r.set("nodes",l),a=r.set("nodes",u).regenerateKey()}n&&"text"!==r.object&&(a=a.merge(n));var c=this;return c=(c=(c=c.removeNode(e)).insertNode(e,a)).insertNode(e,o)}}]),e}(),Ot=function(e){kt.prototype["assert"+e]=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=this["get"+e].apply(this,[t].concat(r));if(null==a)throw new Error("`Node.assert"+e+"` could not find node with path or key: "+t);return a}},Et=!0,Tt=!1,Mt=undefined;try{for(var Dt,At=["Child","Depth","Descendant","Node","Parent","Path"][Symbol.iterator]();!(Et=(Dt=At.next()).done);Et=!0){Ot(Dt.value)}}catch(It){Tt=!0,Mt=It}finally{try{!Et&&At["return"]&&At["return"]()}finally{if(Tt)throw Mt}}G(kt.prototype,["getBlocksAsArray","getLeafBlocksAtRangeAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesByTypeAsArray","getLeafBlocksAtRangeAsArray","getLeafInlinesAtRangeAsArray","getMarksAsArray","getMarksAtPosition","getNodesAtRange","getOrderedMarksBetweenPositions","getInsertMarksAtRange","getMarksByTypeAsArray","getNextBlock","getOffset","getOffsetAtRange","getPreviousBlock","getRootBlocksAtRange","getRootInlinesAtRangeAsArray","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPathPositionsAsArray"]),St(kt,[Q,A,I]),St(function(){function e(){C(this,e)}return x(e,[{key:"flip",value:function(){return this.setPoints([this.focus,this.anchor])}},{key:"moveForward",value:function(e){return this.updatePoints(function(t){return t.moveForward(e)})}},{key:"moveBackward",value:function(e){return this.updatePoints(function(t){return t.moveBackward(e)})}},{key:"moveAnchorBackward",value:function(e){return this.setAnchor(this.anchor.moveBackward(e))}},{key:"moveAnchorForward",value:function(e){return this.setAnchor(this.anchor.moveForward(e))}},{key:"moveAnchorTo",value:function(e,t){return this.setAnchor(this.anchor.moveTo(e,t))}},{key:"moveAnchorToStartOfNode",value:function(e){return this.setAnchor(this.anchor.moveToStartOfNode(e))}},{key:"moveAnchorToEndOfNode",value:function(e){return this.setAnchor(this.anchor.moveToEndOfNode(e))}},{key:"moveEndBackward",value:function(e){return this.setEnd(this.end.moveBackward(e))}},{key:"moveEndForward",value:function(e){return this.setEnd(this.end.moveForward(e))}},{key:"moveEndTo",value:function(e,t){return this.setEnd(this.end.moveTo(e,t))}},{key:"moveEndToStartOfNode",value:function(e){return this.setEnd(this.end.moveToStartOfNode(e))}},{key:"moveEndToEndOfNode",value:function(e){return this.setEnd(this.end.moveToEndOfNode(e))}},{key:"moveFocusBackward",value:function(e){return this.setFocus(this.focus.moveBackward(e))}},{key:"moveFocusForward",value:function(e){return this.setFocus(this.focus.moveForward(e))}},{key:"moveFocusTo",value:function(e,t){return this.setFocus(this.focus.moveTo(e,t))}},{key:"moveFocusToStartOfNode",value:function(e){return this.setFocus(this.focus.moveToStartOfNode(e))}},{key:"moveFocusToEndOfNode",value:function(e){return this.setFocus(this.focus.moveToEndOfNode(e))}},{key:"moveStartBackward",value:function(e){return this.setStart(this.start.moveBackward(e))}},{key:"moveStartForward",value:function(e){return this.setStart(this.start.moveForward(e))}},{key:"moveStartTo",value:function(e,t){return this.setStart(this.start.moveTo(e,t))}},{key:"moveStartToStartOfNode",value:function(e){return this.setStart(this.start.moveToStartOfNode(e))}},{key:"moveStartToEndOfNode",value:function(e){return this.setStart(this.start.moveToEndOfNode(e))}},{key:"moveTo",value:function(e,t){return this.updatePoints(function(n){return n.moveTo(e,t)})}},{key:"moveToAnchor",value:function(){return this.setFocus(this.anchor)}},{key:"moveToEnd",value:function(){return this.setStart(this.end)}},{key:"moveToEndOfNode",value:function(e){return this.updatePoints(function(t){return t.moveToEndOfNode(e)})}},{key:"moveToFocus",value:function(){return this.setAnchor(this.focus)}},{key:"moveToRangeOfNode",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;return this.setPoints([this.anchor.moveToStartOfNode(e),this.focus.moveToEndOfNode(t)])}},{key:"moveToStart",value:function(){return this.setEnd(this.start)}},{key:"moveToStartOfNode",value:function(e){return this.updatePoints(function(t){return t.moveToStartOfNode(e)})}},{key:"normalize",value:function(e){return this.updatePoints(function(t){return t.normalize(e)})}},{key:"setAnchor",value:function(e){return this.set("anchor",e)}},{key:"setEnd",value:function(e){return this.isBackward?this.setAnchor(e):this.setFocus(e)}},{key:"setFocus",value:function(e){return this.set("focus",e)}},{key:"setPoints",value:function(e){var t=E(e,2),n=t[0],r=t[1];return this.set("anchor",n).set("focus",r)}},{key:"updatePoints",value:function(e){var t=this.anchor,n=this.focus;return t=e(t),n=e(n),this.merge({anchor:t,focus:n})}},{key:"setStart",value:function(e){return this.isBackward?this.setFocus(e):this.setAnchor(e)}},{key:"setProperties",value:function(e){var t=e=me.createProperties(e),n=t.anchor,r=t.focus,o=k(t,["anchor","focus"]);return n&&(o.anchor=de.create(n)),r&&(o.focus=de.create(r)),this.merge(o)}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)}}},{key:"toRange",value:function(){var e=me.createProperties(this);return me.create(e)}},{key:"unset",value:function(){return this.updatePoints(function(e){return e.unset()})}},{key:"isCollapsed",get:function(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function(){return!this.isCollapsed}},{key:"isBackward",get:function(){var e=this.isUnset,t=this.anchor,n=this.focus;return e?null:t.key===n.key?t.offset>n.offset:ue.isBefore(n.path,t.path)}},{key:"isForward",get:function(){var e=this.isBackward;return null==e?null:!e}},{key:"isUnset",get:function(){var e=this.anchor,t=this.focus;return e.isUnset||t.isUnset}},{key:"isSet",get:function(){return!this.isUnset}},{key:"start",get:function(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function(){return this.isBackward?this.anchor:this.focus}}]),e}(),[pe,me,ve]);var jt={Block:Q,Change:Me,Data:M,Decoration:pe,Document:A,Editor:wt,Inline:I,KeyUtils:b,Leaf:N,Mark:R,Node:Z,Operation:Ee,PathUtils:ue,Point:de,Range:me,resetMemoization:q,Selection:ve,Text:X,TextUtils:ze,useMemoization:W,Value:we};t["default"]=jt},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s={},l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getAllPrdStruct=function(){return s},t.prototype.setAllPrdStruct=function(e){s=e},t.prototype.getPrdPages=function(){var e={};for(var t in s){"page"==s[t].type&&(e[t]=s[t])}return e},t.prototype.initPrdStruct=function(){s={}},t.prototype.getPrdFolders=function(){var e={};for(var t in s){"folder"==s[t].type&&(e[t]=s[t])}return e},t.prototype.updateValById=function(e){var t=e.id,n=e.updateVal,r=e.noEmit,o=void 0!==r&&r;s[t]&&(s[t]=a({},s[t],n),o||l.emitChange())},t.prototype.changeFoldById=function(e){var t=e.id,n=e.updateVal,r=e.noEmit,o=void 0!==r&&r;s[t]&&(s[t]=a({},s[t],n),o||l.emitFoldChange())},t.prototype.getPrdStructById=function(e){return s[e]},t.prototype.createStruct=function(e,t){void 0===t&&(t=!1);var n=e.id;s[n]=e,t||l.emitChange()},t.prototype.updateStructById=function(e){var t=e.updateVal,n=e.id,r=e.noEmit;s[n]&&(s[n]=a({},s[n],t),r||l.emitChange())},t.prototype.deleteStructById=function(e){var t=e.id,n=e.noEmit,r=void 0!==n&&n;s[t]&&(delete s[t],r||l.emitChange())},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitFoldChange=function(){this.emit("foldChange")},t.prototype.addFoldChangeListener=function(e){this.on("foldChange",e)},t.prototype.removeFoldChangeListener=function(e){this.removeListener("foldChange",e)},t}(i.EventEmitter));t["default"]=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$,o=["ref","koubei","output","contribute","hot"];function a(e,t){void 0===t&&(t=[]);var n={name:e};return o.forEach(function(e,o){n[e]=r.isUndefined(t[o])?"":t[o]}),n}var i=new(function(){function e(){}return e.prototype.getDefaultData=function(e,t,n){var i;switch(e){case"miniBar":i=[{x:"0",y:31},{x:"1",y:98},{x:"2",y:51},{x:"3",y:49},{x:"4",y:16},{x:"5",y:58},{x:"6",y:90},{x:"7",y:104},{x:"8",y:95},{x:"9",y:102},{x:"10",y:69},{x:"11",y:87},{x:"12",y:38},{x:"13",y:25},{x:"14",y:101},{x:"15",y:47},{x:"16",y:97},{x:"17",y:47},{x:"18",y:100},{x:"19",y:39}];break;case"bar":i=n?[{x:"1月",y:638,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"2月",y:300,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"3月",y:488,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"4月",y:1050,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"5月",y:214,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"6月",y:843,y2:"",y3:"",y4:"",y5:"",y6:""}]:[{x:"1月",y:638},{x:"2月",y:300},{x:"3月",y:488},{x:"4月",y:1050},{x:"5月",y:214},{x:"6月",y:843}];break;case"horizontalBar":i=n?[{x:"3月",y:461,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"6月",y:800,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"9月",y:1071,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"12月",y:240,y2:"",y3:"",y4:"",y5:"",y6:""}]:[{x:"3月",y:461},{x:"6月",y:800},{x:"9月",y:1071},{x:"12月",y:240}];break;case"miniArea":i=[{x:"0",y:34},{x:"1",y:29},{x:"2",y:102},{x:"3",y:25},{x:"4",y:104},{x:"5",y:107},{x:"6",y:58},{x:"7",y:44},{x:"8",y:13},{x:"9",y:68},{x:"10",y:62},{x:"11",y:80},{x:"12",y:64},{x:"13",y:43},{x:"14",y:84},{x:"15",y:31},{x:"16",y:106},{x:"17",y:31},{x:"18",y:39},{x:"19",y:13}];break;case"lineChart":i=n?[{x:"1月",y:638,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"2月",y:300,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"3月",y:488,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"4月",y:1050,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"5月",y:214,y2:"",y3:"",y4:"",y5:"",y6:""},{x:"6月",y:843,y2:"",y3:"",y4:"",y5:"",y6:""}]:[{x:"1月",y:638},{x:"2月",y:300},{x:"3月",y:488},{x:"4月",y:1050},{x:"5月",y:214},{x:"6月",y:843}];break;case"timelineChart":var s=[];[{y1:1040,y2:271},{y1:1010,y2:119},{y1:1024,y2:236},{y1:1012,y2:228},{y1:1029,y2:220},{y1:1051,y2:168},{y1:1055,y2:154},{y1:1057,y2:190},{y1:1e3,y2:123},{y1:1e3,y2:133},{y1:1021,y2:180},{y1:1035,y2:241},{y1:1027,y2:189},{y1:1097,y2:204},{y1:1087,y2:219},{y1:1044,y2:188},{y1:1011,y2:199},{y1:1008,y2:188},{y1:1062,y2:207},{y1:1024,y2:184},{y1:"",y2:""},{y1:"",y2:""},{y1:"",y2:""},{y1:"",y2:""},{y1:"",y2:""},{y1:"",y2:""},{y1:"",y2:""},{y1:"",y2:""},{y1:"",y2:""},{y1:"",y2:""}].forEach(function(e,t){var n={label:"客流量",labelVal:e.y1,val:"支付笔数",nameVal:e.y2};s.push(n)}),i=s;break;case"circle":case"pie":i=[{x:"北京",y:4544},{x:"广东",y:3321},{x:"上海",y:3113},{x:"四川",y:2341},{x:"浙江",y:1231},{x:"湖北",y:1231}];break;case"radar":var l=[a("个人",[10,8,4,5,7]),a("团队",[3,9,6,3,1]),a("部门",[4,1,6,5,7])],u={ref:"引用",koubei:"口碑",output:"产量",contribute:"贡献",hot:"热度"};!r.isEmptyObj(t)&&t&&15==t.length&&t.forEach(function(e,t){var n=e.name,r=e.label,a=e.value,i=t%5,s=Math.floor(t/5);0==s&&""!==r&&(u[o[i]]=r),0==i&&""!==n&&(l[s].name=n),l[s][o[i]]=+a}),l=(l=l.concat([a("群体"),a("组织")])).map(function(e){return r.extend(!0,e,function(e,t){void 0===t&&(t="");for(var n={},r=0;r<e;r++)n["extend"+(r+1)]=t;return n}(5))}),r.extend(!0,u,{extend1:"数据1",extend2:"数据2",extend3:"数据3",extend4:"数据4",extend5:"数据5"});var c=[];l.forEach(function(e){Object.keys(e).forEach(function(t){"name"!=t&&c.push({name:e.name,label:u[t],value:e[t]})})}),i=c}switch(e){case"bar":case"horizontalBar":case"miniArea":case"lineChart":case"circle":case"pie":case"miniBar":if(t&&0!==t.length){for(var d in t)i[d]||(i[d]={}),r.isUndefined(t[d].x)||(i[d].x=t[d].x),r.isUndefined(t[d].y)||(i[d].y=""===t[d].y?"":+t[d].y||0),r.isUndefined(t[d].y2)||""===t[d].y2||(i[d].y2=t[d].y2==+t[d].y2?+t[d].y2:0),r.isUndefined(t[d].y3)||""===t[d].y3||(i[d].y3=t[d].y3==+t[d].y3?+t[d].y3:0),r.isUndefined(t[d].y4)||""===t[d].y4||(i[d].y4=t[d].y4==+t[d].y4?+t[d].y4:0),r.isUndefined(t[d].y5)||""===t[d].y5||(i[d].y5=t[d].y5==+t[d].y5?+t[d].y5:0),r.isUndefined(t[d].y6)||""===t[d].y6||(i[d].y6=t[d].y6==+t[d].y6?+t[d].y6:0);i=i.slice(0,t.length)}break;case"radar":!r.isEmptyObj(t)&&t&&15!=t.length&&t.forEach(function(e,t){i[t]||(i[t]={}),r.isUndefined(e.value)||(i[t].value=""===e.value?"":+e.value||0),r.isUndefined(e.name)||(i[t].name=e.name),r.isUndefined(e.label)||(i[t].label=e.label)});break;case"timelineChart":t&&t.length&&(t.forEach(function(e,n){i[n]||(i[n]={}),r.isUndefined(e.nameVal)||(i[n].nameVal=""===t[n].nameVal?"":+t[n].nameVal||0),r.isUndefined(e.val)||(i[n].val=e.val),r.isUndefined(e.label)||(i[n].label=e.label),r.isUndefined(e.labelVal)||(i[n].labelVal=""===t[n].labelVal?"":+t[n].labelVal||0)}),i=i.slice(0,t.length))}return i},e}());t["default"]=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(19)),i=r(n(123)),s={homeInvitePopupFunc:function(){i["default"].setVipShare({isShow:!0,type:"popup1"})},showVipPopupFunc:function(){i["default"].setVipShare({isShow:!0,type:"popup2"})},registerPopupFunc:function(){var e={width:240,height:40,marginLeft:60,borderRadius:3,fontSize:14,color:"#fff",cursor:"pointer",display:"block",textAlign:"center"},t=$.extend(!0,$.extend(!0,{},e),{background:"#44B549",lineHeight:"40px"}),n=$.extend(!0,$.extend(!0,{},e),{marginTop:20,border:"solid 1px",lineHeight:"38px",boxSizing:"border-box"});a["default"].init({width:400,title:"注册「即时原型」",noBottom:!0,content:o["default"].createElement("div",{className:"popup-content"},$.getInviteCookie()?o["default"].createElement("span",{className:"popup-item-title no-float",style:{display:"block",textAlign:"center",marginBottom:20}},"微信注册可领取好友赠送的VIP会员"):undefined,o["default"].createElement("a",{className:"vip-wechatLogin",target:"_blank",href:"https://www.xiaopiu.com/login/wechat",style:t},"微信注册"),o["default"].createElement("a",{className:"vip-emailLogin",target:"_blank",href:"https://www.xiaopiu.com/login?type=register",style:n},"邮箱注册"),o["default"].createElement("span",{className:"popup-item-title no-float",style:{display:"block",textAlign:"center",marginTop:20}},"已有账号？",o["default"].createElement("a",{className:"red-text",target:"_blank",href:"https://www.xiaopiu.com/login"},"去登录")))})}};t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(541)),s=a(n(8)),l=n(9),u=window.$,c=[{tabType:"struct"},{tabType:"pageSet"},{tabType:"event",isFold:!1,rename:"页面事件"},{tabType:"versionManage"},{tabType:"note"}],d=[{tabType:"struct",isFold:!0},{tabType:"pageSet"},{tabType:"event",isFold:!1,rename:"页面事件"},{tabType:"versionManage"},{tabType:"note"}];function f(e){d=e}var p=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getLabel=function(e){return e?d:u.extend(!0,[],d)},t.prototype.getCurrLabel=function(){var e;return d.forEach(function(t){t.isFold&&(e=t.tabType)}),e},t.prototype.change=function(e,t){f(e),t||p.emitChange()},t.prototype.reset=function(e){d=u.extend(!0,[],c),e?d.forEach(function(t){e==t.tabType&&(t.isFold=!0)}):d[0].isFold=!0,p.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(l.EventEmitter));s["default"].register(function(e){switch(e.actionType){case i["default"].RIGHTLABEL_CHANGE:f(e.label),p.emitChange()}}),t["default"]=p},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(285);function o(e,t){void 0===t&&(t=!1);var n=Math.round((299*e.r+587*e.g+114*e.b+500)/1e3);return t?n:"rgba("+n+", "+n+", "+n+", "+e.a+")"}function a(e){var t={},n=255*e.s/100,r=255*e.b/100,o=e.h;if(0==n)t.r=t.g=t.b=r;else{var a=r,i=(255-n)*r/255,s=o%60*(a-i)/60;360==o&&(o=0),o<60?(t.r=a,t.b=i,t.g=i+s):o<120?(t.g=a,t.b=i,t.r=a-s):o<180?(t.g=a,t.r=i,t.b=i+s):o<240?(t.b=a,t.r=i,t.g=a-s):o<300?(t.b=a,t.g=i,t.r=i+s):o<360?(t.r=a,t.g=i,t.b=a-s):(t.r=0,t.g=0,t.b=0)}return{r:t.r,g:t.g,b:t.b}}function i(e){var t=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return t.forEach(function(e,n){1==e.length&&(t[n]="0"+e)}),t.join("")}function s(e){var t=l(e),n=d({r:t.r,g:t.g,b:t.b});return{h:n.h,s:n.s,b:n.b,a:100*t.a}}function l(e){var t=(e=e.substr(e.indexOf("rgba(")+5)).substr(0,e.indexOf(")")).split(",");return{r:+t[0],g:+t[1],b:+t[2],a:+t[3]}}function u(e,t){var n=l(e);if(t)return o(n,t);var r=n.r,a=n.g,i=n.b;return r==a&&a==i?e:o(n)}function c(e){var t=e.r,n=e.g,o=e.b,a=e.a;return"rgba("+Math.round(t)+", "+Math.round(n)+", "+Math.round(o)+", "+r.getTwoDecimal(a)+")"}function d(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),r=Math.max(e.r,e.g,e.b),o=r-n;return t.b=r,t.s=0!=r?255*o/r:0,0!=t.s?e.r==r?t.h=(e.g-e.b)/o:e.g==r?t.h=2+(e.b-e.r)/o:t.h=4+(e.r-e.g)/o:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),e.r==e.g&&e.r==e.b&&e.g==e.b&&(t.h=0),t.s*=100/255,t.b*=100/255,t.h=t.h,t.s=t.s,t.b=t.b,t}function f(e,t){var n=e.toLowerCase();if(n&&/^([0-9a-fA-f]{6})$/.test(n)){for(var r=[],o=0;o<6;o+=2)r.push(parseInt("0x"+n.slice(o,o+2)));return t?"rgb("+r[0]+", "+r[1]+", "+r[2]+")":{r:r[0],g:r[1],b:r[2]}}return t?"rgb(0, 0, 0)":{r:0,g:0,b:0}}function p(e){return"rgb"==e.split("(")[0]?"rgba("+e.split("(")[1].split(")")[0]+", 1)":e}function h(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=2);var r="rgba("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+", "+(e.a/100).toFixed(n)+")";return t?{background:r}:r}function g(e){return e[3]=parseFloat(e[3]/255+""),"rgba("+e.join(", ")+")"}t.HSBToRGB=a,t.RGBToHex=i,t.getHsbaFromColor=s,t.getRGBAobj=l,t.colorToGray=u,t.rgbaObjToStr=c,t.RGBToHSB=d,t.HexToRGB=f,t.RGBToRGBA=p,t.rgbaToRgbaStr=h,t.rgbaStrToHEX=function(e){return i(l(e))},t.transform2rgba=g,t["default"]={HSBToRGB:a,RGBToHex:i,getHsbaFromColor:s,getRGBAobj:l,colorToGray:u,rgbaObjToStr:c,HexToRGB:f,RGBToRGBA:p,rgbaToRgbaStr:h,transform2rgba:g}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(393),i=o(n(5)),s=o(n(23)),l=o(n(42)),u=o(n(27)),c=o(n(6)),d=o(n(67)),f=o(n(29)),p=o(n(34)),h=o(n(455)),g=n(303),y=o(n(205)),m=o(n(357)),_=n(46),v=n(456),b=n(504),w=n(166),C=n(98),x=n(145),S=n(10)["default"],P=window,k=P.$,O=P.isPrototypeTool,E=x.elementCanvasBaseVal.OFFSET_X,T=x.elementCanvasBaseVal.ABSORB_DISTANCE,M=x.elementCanvasBaseVal.CANVAS_WIDTH,D=15;function A(e){var t=e.length,n=e.nextLength;return Math.abs(t/2)>=6&&Math.abs(n/2)>=6?6:Math.min(Math.abs(t/2),Math.abs(n/2))}var j={getRealPosi:function(e){var t=e.startX,n=e.startY,r=e.startWidth,o=e.startHeight,a=e.pageX,i=e.pageWidth,s=e.pageY,l=e.pageHeight,u=t,c=n;return t<a?u=a:t>a+i&&(u=a+i),n<s?c=s:n>s+l&&(c=s+l),{actualStartX:u,actualStartY:c,actualStartW:Math.max(Math.min(t+r,a+i)-u,0),actualStartH:Math.max(Math.min(n+o,s+l)-c,0)}},getLineType:function(e){var t="";switch(e){case 0:t="#F56464";break;case 1:t="#FF8C8C";break;case 2:t="#5CC1FF";break;case 3:t="#FFBF38";break;case 4:t="#808080"}return t},getOpacity:function(e){var t=e.id,n=e.pageKey,r=u["default"].getSelectArr(),o=1;if(window.isPrototypeTool){var a=i["default"].getPageSelect();a.length?-1==a.indexOf(C.getPageIdByKey(n))&&(o=.4):-1!=r.indexOf(t)&&(o=1)}else{var s=l["default"].getSelectPage();s&&n!=s&&(o=.4)}return{opacityVale:o}},getActualPosi:function(e){var t,n,r,o,a,u,c,d,f=s["default"].getStage().getStage(),p=e.pageKey,h=e.endKey,y=e.startKey,m=e.zoom;h&&-1==h.indexOf("mainBox")&&(h="mainBox"+h);var _=w.findPage(f,p,!0);if(!_)return{noLine:!0};var b=_.attrs,x=b.width,S=b.height,P=b.scaleX,k=b.scaleY;a=x*(P||1);var E=C.getPageIdByKey(p),T=O?i["default"].getPageByKey(E):l["default"].getPage(E),M=T.pageHeight,D=T.height;D=!(!O||!i["default"].isMultiFree())&&i["default"].getIsShowLongPage()&&M||D,u=(O&&!i["default"].getIsShowLongPage()?window.phoneSize.height:D||S)*(k||1);var A=(O?i["default"]:l["default"]).getPage(E,!0),I=g.getPagePos(E,A);t=I.left,n=I.top;var L=w.findPage(f,h,!0);if(!L)return{noLine:!1};var R=L.attrs,B=R.width,N=R.height;c=B*(R.scaleX||1),d=N*(R.scaleY||1);var F=C.getPageIdByKey(h),H=(O?i["default"]:l["default"]).getPage(F,!0),$=g.getPagePos(F,H);r=$.left,o=$.top;var z=t,U=n,V=a,K=u;if(p!=y){var G=w.findContr(_,y);if(!G)return{noLine:!0};var q=function(e){var t=e.thisContr,n=e.zoom,r=e.startPage,o=e.pageX,a=e.pageY,i=e.scaleX,s=e.scaleY,u=v.getContrAbsolutePos(t),c=u.x,d=u.y,f=r.getAbsolutePosition(),p=f.x,h=f.y,g=t.attrs,y=g.width,m=g.height,_=d-h;return{startX:o+(c-p)/(n=window.isPrototypeTool?r.findAncestors("#canvasLayer")[0].getAttr("scaleX"):l["default"].getMultiZoom()),startY:a+_/n,startWidth:y*(i||1),startHeight:m*(s||1)}}({thisContr:G,zoom:m,startPage:_,pageX:z,pageY:U,scaleX:P,scaleY:k});t=q.startX,n=q.startY,a=q.startWidth,u=q.startHeight}var W=j.getRealPosi({startX:t,startY:n,startWidth:a,startHeight:u,pageX:z,pageWidth:V,pageY:U,pageHeight:K});return{startX:W.actualStartX,startY:W.actualStartY,startWidth:W.actualStartW,startHeight:W.actualStartH,endWidth:c,endHeight:d,endX:r,endY:o,pageX:z,pageY:U,pageWidth:V,pageHeight:K}},getPageToPagePath:function(e,t,n){var r=e.pageX,o=e.pageY,i=e.pageWidth,s=e.pageHeight,l=e.startX,u=e.startY,c=e.startWidth,d=e.startHeight,f=e.endX,p=e.endY,h=e.endWidth,g=e.endHeight,y=e.fixedArr,m=function(e){var t=e.startX,n=e.endX,r=e.startY,o=e.endY,a=["top","down","left","right"],i=["top","down","left","right"];return t<n?(a.splice(2,1),i.splice(3,1)):(a.splice(3,1),i.splice(2,1)),r<o?(a.splice(0,1),i.splice(1,1)):(a.splice(1,1),i.splice(0,1)),{startPosiArr:a,endPosiArr:i}}({startX:l,endX:f,startY:u,endY:p}),_=m.startPosiArr,v=m.endPosiArr;t&&(_=[t]),n&&(v=[n]);var b="",w="",C=-1;return _.forEach(function(e){v.forEach(function(t){var n=a.getPath({startPosi:e,startX:l,startY:u,startWidth:c,startHeight:d,endWidth:h,endHeight:g,endPosi:t,endX:f,endY:p,fixedArr:y,pageWidth:i,pageHeight:s,pageX:r,pageY:o}).pointArr,m=0;n.forEach(function(e,t){if(n[t+1]){var r=Math.abs(n[t+1][0]==e[0]?n[t+1][1]-e[1]:n[t+1][0]-e[0]);m+=r}}),(-1==C||C>m)&&(C=m,b=e,w=t)})}),{startPosi:b,endPosi:w}},getContrToPagePath:function(e){var t=["top","right","down","left"],n=this.getStartPosi(r({posiArr:t},e));return{startPosi:n,endPosi:function(e){var t,n=e.startPosi,r=e.posiArr,o=e.startX,i=e.startY,s=e.startWidth,l=e.startHeight,u=e.endWidth,c=e.endHeight,d=e.endX,f=e.endY,p=e.pageHeight,h=e.pageWidth,g=e.pageX,y=e.pageY,m=-1;return r.forEach(function(e,r){var _=e,v=a.getPath({startPosi:n,startX:o,startY:i,startWidth:s,startHeight:l,endWidth:u,endHeight:c,endPosi:_,endX:d,endY:f,fixedArr:[],pageHeight:p,pageWidth:h,pageX:g,pageY:y}).pointArr,b=0;v.forEach(function(e,t){if(v[t+1]){var n=Math.abs(v[t+1][0]==e[0]?v[t+1][1]-e[1]:v[t+1][0]-e[0]);b+=n}}),(-1==m||b<m)&&(m=b,t=r)}),r[t]}(r({startPosi:n,posiArr:t},e))}},hasLineAlready:function(e){var t=e.startKey,n=e.endKey,r=!1,o=u["default"].getAllLine(),a=_.getPageFlow();return o&&o.length&&o.forEach(function(e){var o=e.startKey,i=e.endKey,s=e.pageFlowId;t==o&&n==i&&a==s&&(r=!0)}),r},isEventLine:function(e){var t=e.startKey,n=e.endKey,r=e.pageKey,o=!1,a=s["default"].getStage().getStage(),i=w.findPage(a,r);if(r==t){(l=i.attrs["data-targetPage"])&&l==n&&(o=!0)}else{var l,u=w.findContr(i,t);if(u)(l=u.attrs["data-targetPage"])==n&&(o=!0)}return o},calcEventSymbolPos:function(e,t){var n,r,o=e[e.length-1],a=e[e.length-2];return o[0]==a[0]?(n=o[0],r=o[1]>a[1]?Math.max(o[1]-10/t,(o[1]+a[1])/2)-5/t:Math.min(o[1]+10/t,(o[1]+a[1])/2)+5/t):(r=o[1],n=o[0]>a[0]?Math.max(o[0]-10/t,(o[0]+a[0])/2)-5/t:Math.min(o[0]+10/t,(o[0]+a[0])/2)+5/t),{x:n,y:r}},getRotateOffPosi:function(e,t,n,r){var o=function(e){return e>=0?e%360:-Math.abs(e)%360+360}(e),a=0,i=0;return o<=90?a=n*Math.sin(o*Math.PI*2/360):o>90&&o<=180?(a=r.w,i=n*Math.cos((180-o)*Math.PI*2/360)):o>180&&o<=270?(a=t*Math.sin((o-180)*Math.PI*2/360),i=r.h):i=t*Math.sin((360-o)*Math.PI*2/360),{offX:a,offY:i}},getPointArr:function(e){var t=e.pageKey,n=e.endKey,r=e.startKey,o=e.id,i=e.startPosi,s=e.endPosi,l=e.fixedArr,u=e.zoom,c=e.noStartSupply,d=e.noEndSupply,f=j.getActualPosi({pageKey:t,endKey:n,startKey:r,zoom:u});if(f.noLine||!f.endWidth||!f.pageWidth)return{};var p={startPosi:i,endPosi:s,id:o,fixedArr:l,noStartSupply:c,noEndSupply:d};k.extend(!0,f,p);var h=a.getPath(f);return{pointArr:h.pointArr,startAroundPoint:h.startAroundPoint,endAroundPoint:h.endAroundPoint}},getPrdPointArr:function(e){var t,n,o=e.startPosi,i=e.endPosi,s=e.startKey,l=e.endKey,u=e.startPoint,c=e.endPoint,d=e.fixedArr,p=e.noStartSupply,h=e.noEndSupply,g=[];if(o&&i){var y=f["default"].getPrdElementById(s),m=y.x,_=y.y,v=y.width,b=y.height;m+=E;var w=f["default"].getPrdElementById(l),C=w.x,x=w.y,S=w.width,P=w.height,k={pageX:m,pageY:_,pageWidth:v,pageHeight:b,startX:m,startY:_,startWidth:v,startHeight:b,endX:C+=E,endY:x,endWidth:S,endHeight:P,fixedArr:[]},O=a.getPath(r({startPosi:o,endPosi:i,noStartSupply:p,noEndSupply:h,allowUndefined:!0},k)),T=O.startAroundPoint,M=O.endAroundPoint,D=O.supplyPoint;t=T,n=M;var A=[m+v*u[0],_+b*u[1]],j=[C+S*c[0],x+P*c[1]],I=void 0,L=void 0;switch(o){case"top":case"down":I=[A[0],(T||D)[1]];break;case"left":case"right":I=[(T||D)[0],A[1]]}switch(i){case"top":case"down":L=[j[0],(M||D)[1]];break;case"left":case"right":L=[(M||D)[0],j[1]]}g=a.getPointArrPath({fixedArr:d,startPoint:A,startSupply:I,startAroundPoint:T,endAroundPoint:M,endSupply:L,endPoint:j,supplyPoint:D,noStartSupply:p,noEndSupply:h}).pointArr}else{var R=u,B=c;if(s){var N=f["default"].getPrdElementById(s),F=N.x,H=N.y,$=N.width,z=N.height;R=[(F+=E)+$*u[0],H+z*u[1]]}if(l){var U=f["default"].getPrdElementById(l);F=U.x,H=U.y,$=U.width,z=U.height;B=[(F+=E)+$*c[0],H+z*c[1]]}g=a.getPointArrPath({fixedArr:d,startPoint:R,startSupply:undefined,startAroundPoint:undefined,endAroundPoint:undefined,endSupply:undefined,endPoint:B,supplyPoint:[R[0],B[1]],noStartSupply:p,noEndSupply:h}).pointArr}return{pointArr:g,startAroundPoint:t,endAroundPoint:n}},getSpecialType:function(e){var t="";if(k.isAdvancedContr(e)||k.isMobileContr(e))t="高级";else if(y["default"].isExtraBaseContr(e))switch(e){case"map":t="地图";break;case"audio":t="音频";break;case"video":t="视频";break;case"webPage":t="网页"}return t},isContrHasEvent:function(e){var t=!1,n=e.events;if(n&&!k.isEmptyObj(n))for(var r in n){var o=n[r].actions;o&&o.length&&o.some(function(e){return"page"==e.type&&(t=!0,!0)})}return t},contrAddEvent:function(e,t){var n=t.startKey,r=t.pageKey,o=t.endKey,a=[];if(n!=r){var i=c["default"].getContrByAll(n),s=i.type,l=j.getSpecialType(s);if(!j.isContrHasEvent(i)&&!l){var u=w.findPage(e,r);w.findContr(u,n).setAttr("data-targetPage",o);var d=C.getPageIdByKey(o);h["default"].create({data:{actions:[{type:"page",page:d}],disable:!1,name:null,type:"tA"},contr:i}),a.push(i.interfaceId)}}m["default"].createLine(t),S.createData({type:"dragAddLinkLine",name:"拖拽添加连线",changePagesKey:a})},combinePointArr:function(e){for(var t="",n=0;n<e.length-1;n++)if(e[n+1]&&e[n]){if(e[n][0]==e[n+1][0]&&e[n][1]==e[n+1][1])return e.splice(n,1),this.combinePointArr(e);if(e[n][0]!=e[n+1][0]||e[n][1]!=e[n+1][1])if(e[n][0]==e[n+1][0]){if("col"==t)return e.splice(n,1),this.combinePointArr(e);t="col"}else{if("row"==t)return e.splice(n,1),this.combinePointArr(e);t="row"}}},commentBoxFocus:function(e,t,n,r){void 0===t&&(t=!1);var o,a=!1,l=t?d["default"].getPrdOneLine(e):u["default"].getOneLine(e),c=l.hasComment,f=l.text,p=l.id,h=l.lineType,g=l.pageKey,y=l.endKey,m=l.startKey,_=l.startPosi,v=l.endPosi,b=l.fixedArr,C=l.noStartSupply,x=l.noEndSupply,S={pageKey:g,endKey:y,startKey:m,id:p,startPosi:_,endPosi:v,fixedArr:b,noStartSupply:C,noEndSupply:x};if(t){var P=d["default"].getPrdStage().getStage();o=P}else{P=s["default"].getStage().getStage();n=function(e,t,n){var r=i["default"].getView().zoom,o=.5,a=j.getPointArr(e).pointArr,s=w.findPage(t,e.pageKey),l=s.getAbsolutePosition(),u=l.x,c=l.y,d=s.attrs,f=d.x,p=d.y,h=n.x,g=n.y,y=(h-u)/r+f,m=(g-c)/r+p,_=0,v=0,b=!1;return a.forEach(function(e,t){var n=a[t+1];if(n){var r=n[1]==e[1],o=r?Math.abs(n[0]-e[0]):Math.abs(n[1]-e[1]);_+=o;var i=r?Math.min(n[0],e[0]):e[0]-D,s=r?Math.max(n[0],e[0]):e[0]+D,l=r?e[1]-D:Math.min(n[1],e[1]),u=r?e[1]+D:Math.max(n[1],e[1]);y>=i&&y<=s&&m>=l&&m<=u?(v+=r?y-i:m-l,b=!0):b||(v+=o)}}),o=v/_||o}(S,o=P,r)}return c?a=!0:t?d["default"].changePrdLine({id:e,hasComment:!0,commentPercent:n}):u["default"].changeLine({id:e,hasComment:!0,commentPercent:n}),setTimeout(function(){var n=w.findComment(o,p).getAbsolutePosition(),r=n.x,a=n.y;t?(d["default"].changePrdLine({id:e,hasComment:!1}),d["default"].setPrdComment({x:r,y:a,text:f||"输入文本",isShow:!0,id:p,lineType:h})):(u["default"].changeLine({id:e,hasComment:!1}),u["default"].setComment({x:r,y:a,text:f||"输入文本",isShow:!0,id:p,lineType:h}))},0),setTimeout(function(){var e=k(".comment-box .comment-input")[0];e.focus(),e.select()},0),a},isSpecialContr:function(e){var t=e.contrKey,n=e.pageKey,r=e.zoom,o="";if(!t)return{specialType:o};var a=s["default"].getStage().getStage(),i=w.findPage(a,n),l=w.findContr(i,t);if(!l)return{specialType:o};var u=i.getAbsolutePosition(),c=v.getContrAbsolutePos(l),d=c.x-u.x,f=c.y-u.y,p=i.attrs,h=p.x,g=p.y,y=p.width,m=p.height,_=l.attrs,b=(_.id,_.width),C=_.height,x=_.name,S=h+d/r,P=g+f/r;(-1!=(void 0===x?"":x).indexOf("symbol")||l.findAncestors(".symbol").length)&&(o="引用");var k=j.getRealPosi({startX:S,startY:P,startWidth:b,startHeight:C,pageX:h,pageWidth:y,pageY:g,pageHeight:m});return{x:k.actualStartX,y:k.actualStartY,specialType:o,w:k.actualStartW,h:k.actualStartH}},getHoverActualPosi:function(e){var t,n,r,o,a,i,s,l,u,c=e.stage,d=e.pageKey,f=e.contrKey,p=e.zoom,h=e.specialType,g=!0;if(c&&d){var y=w.findPage(c.getStage(),d);if(y){var m=y.attrs,_=m.x,b=m.y,C=m.width,x=m.height;if(t=_,a=_,n=b,s=b,r=C,i=C,o=x,l=x,f&&!h){var S=w.findContr(y,f);if(S){g=!1;var P=S.attrs,O=P.width,E=P.height,T=P.rotation,M=v.getContrAbsolutePos(S),D=M.x,A=M.y,I=c.getStage().findOne("#canvasLayer").getAbsolutePosition();if(t=(D-I.x)/p,n=(A-I.y)/p,r=O,o=E,T){u=T;var L=k.getRotateWH(k.rotateToAngle(u,!0),[r,o]);k.fixRotateWH(L,u),r=L.w,o=L.h;var R=j.getRotateOffPosi(u,O,E,L);t-=R.offX,n-=R.offY}}}}}var B=j.getRealPosi({startX:t,startY:n,startWidth:r,startHeight:o,pageX:a,pageWidth:i,pageY:s,pageHeight:l});return{isLarge:g,actualStartX:B.actualStartX,actualStartY:B.actualStartY,actualStartW:B.actualStartW,actualStartH:B.actualStartH,rotate:u}},drawLineShape:function(e){var t=e.ctx,n=e.pointArr;n.forEach(function(e,r){if(0==r)t.moveTo(e[0],e[1]);else if(r!=n.length-1)if(e[0]==n[r-1][0]){var o=A({length:a=e[1]-n[r-1][1],nextLength:i=n[r+1][0]-e[0]});a>0?(t.lineTo(e[0],e[1]-o),i>0?(t.arc(e[0]+o,e[1]-o,o,Math.PI,.5*Math.PI,!0),t.moveTo(e[0]+o,e[1])):(t.arc(e[0]-o,e[1]-o,o,0,.5*Math.PI),t.moveTo(e[0]-o,e[1]))):(t.lineTo(e[0],e[1]+o),i>0?(t.arc(e[0]+o,e[1]+o,o,Math.PI,1.5*Math.PI),t.moveTo(e[0]+o,e[1])):(t.arc(e[0]-o,e[1]+o,o,2*Math.PI,1.5*Math.PI,!0),t.moveTo(e[0]-o,e[1])))}else{var a,i;o=A({length:a=e[0]-n[r-1][0],nextLength:i=n[r+1][1]-e[1]});a>0?(t.lineTo(e[0]-o,e[1]),i>0?(t.arc(e[0]-o,e[1]+o,o,1.5*Math.PI,0),t.moveTo(e[0],e[1]+o)):(t.arc(e[0]-o,e[1]-o,o,.5*Math.PI,2*Math.PI,!0),t.moveTo(e[0],e[1]-o))):(t.lineTo(e[0]+o,e[1]),i>0?(t.arc(e[0]+o,e[1]+o,o,1.5*Math.PI,Math.PI,!0),t.moveTo(e[0],e[1]+o)):(t.arc(e[0]+o,e[1]-o,o,.5*Math.PI,Math.PI),t.moveTo(e[0],e[1]-o)))}else t.lineTo(e[0],e[1])})},getStartPosi:function(e){var t,n=e.posiArr,r=e.startY,o=e.pageY,a=e.pageX,i=e.pageWidth,s=e.startX,l=e.startWidth,u=e.pageHeight,c=e.startHeight,d=-1;return n.forEach(function(e){var n;switch(e){case"top":n=r-o;break;case"right":n=a+i-s-l;break;case"down":n=o+u-r-c;break;case"left":n=s-a}(n<d||-1==d)&&(d=n,t=e)}),t},isNearAdsorbPoint:function(e,t){var n,r,o,a=!1,i=t.x,s=t.y,l=["left","top","right","down"];return e.some(function(e,t){var u=e[0],c=e[1];return Math.sqrt(Math.pow(i-u,2)+Math.pow(s-c,2))<=T&&(n=u,r=c,a=!0,o=l[t],!0)}),{isAdsorb:a,endX:n,endY:r,endPosi:o}},getPrdLinePointArr:function(e){return this.getPrdPointArr(e).pointArr.map(function(e){return[Math.min(Math.max(E,e[0]),M),Math.max(0,e[1])]})},calcCommentPercent:function(e){var t=e.lineLengthArr,n=e.shortIdx,r=e.off,o=e.allLength,a=0;return t.forEach(function(e,t){t<n&&(a+=e)}),(a+r)/o},getShortIdx:function(e){var t=e._clientX,n=e.clientX,r=e.zoom,o=e._clientY,a=e.clientY,i=e._x,s=e._y,l=e.lineArr,u=i+(t-n)/r,c=s+(o-a)/r,d=-1,f=-1,p=0;return l.forEach(function(e,t){var n,r=e.x,o=e.y,a=e.start,i=e.end;if(r)if(c>=Math.min(a,i)&&c<=Math.max(a,i))((n=Math.abs(u-r))<d||-1==d)&&(d=n,p=Math.abs(c-a),f=t);else{var s=Math.min(Math.abs(c-a),Math.abs(c-i));((n=Math.sqrt(s*s+(u-r)*(u-r)))<d||-1==d)&&(d=n,f=t,p=a>i?c>a?0:a-i:c<a?0:i-a)}else if(u>=Math.min(a,i)&&u<=Math.max(a,i))((n=Math.abs(c-o))<d||-1==d)&&(d=n,p=Math.abs(u-a),f=t);else{s=Math.min(Math.abs(u-a),Math.abs(u-i));((n=Math.sqrt(s*s+(c-o)*(c-o)))<d||-1==d)&&(d=n,f=t,p=a>i?u>a?0:a-i:u<a?0:i-a)}}),{shortIdx:f,off:p}},getLineArr:function(e){var t=e.pointArr,n=[],r=[],o=0;return t.forEach(function(e,a){if(t[a+1])if(e[0]==t[a+1][0]){n.push({x:e[0],start:e[1],end:t[a+1][1]});var i=Math.abs(e[1]-t[a+1][1]);r.push(i),o+=i}else{n.push({y:e[1],start:e[0],end:t[a+1][0]});i=Math.abs(e[0]-t[a+1][0]);r.push(i),o+=i}}),{lineLengthArr:r,allLength:o,lineArr:n}},getCommentPosi:function(e){var t,n,r=e.lineLengthArr,o=e.allLineLength,a=e.commentPercent,i=e.pointArr,s=-1,l=0,u=0,c=!0;if(r.forEach(function(e,r){-1==s&&c&&(l+e<o*a?l+=e:l+e>o*a?(s=r,u=o*a-l):(t=i[r+1][0],n=i[r+1][1],c=!1))}),c){var d=i[s],f=i[s+1],p=1;d[0]==f[0]?(d[1]>f[1]&&(p=-1),t=d[0],n=d[1]+u*p):(d[0]>f[0]&&(p=-1),t=d[0]+u*p,n=d[1])}return{lineCommentLeft:t,lineCommentTop:n}},getLineLengthArr:function(e){var t=0,n=[];return e.forEach(function(r,o){if(e[o+1]){var a=Math.abs(r[0]-e[o+1][0]||r[1]-e[o+1][1]);t+=a,n.push(a)}}),{allLineLength:t,lineLengthArr:n}},isRectCludeLine:function(e,t){var n=!1,r=t.x,o=t.y,a=t.w,i=t.h;return e.some(function(t,s){if(e[s+1]){var l=t,u=e[s+1];if(l[1]==u[1]){var c=Math.min(l[0],u[0])-50,d=Math.max(l[0],u[0])-50;return c<r+a&&d>r&&l[1]>o&&l[1]<o+i&&(n=!0,!0)}var f=Math.min(l[1],u[1]),p=Math.max(l[1],u[1]);return f<o+i&&p>o&&l[0]-50>r&&l[0]-50<r+a&&(n=!0,!0)}return!1}),n},getAllLinePointPosi:function(e){void 0===e&&(e=!1);var t=[],n=[];if(e){var r=d["default"].getAllLine();for(var o in r)r[o]&&r[o].structKey&&r[o].structKey==p["default"].getSelectStructKey()&&n.push(r[o])}else{d["default"].getPrdSelectArr().forEach(function(e){var t=d["default"].getPrdOneLine(e);t&&n.push(t)})}return n.forEach(function(e){var n=e.startPosi,r=e.endPosi,o=e.startKey,a=e.endKey,i=e.startPoint,s=e.endPoint,l=e.fixedArr,u=e.noStartSupply,c=e.noEndSupply,d=e.isConnect,f=e.id;d||b.fixLineData(o,a,f)&&j.getPrdLinePointArr({startPosi:n,endPosi:r,startKey:o,endKey:a,startPoint:i,endPoint:s,fixedArr:l,noStartSupply:u,noEndSupply:c}).forEach(function(e){t.push(e)})}),t},getAllPageId:function(){var e=[],t=_.getPageFlow(),n=O?i["default"].getPages():l["default"].getPagesObj();for(var r in t?t.pageVal:n){var o=(n[r]||{}).isShow,a=void 0===o||o;if(n[r]&&a){var s="mainBox"+r;e.push(s)}}return e}};t["default"]=j},function(e,t,n){"use strict";function r(e){return e&&(""+e).replace("mainBox","")}function o(e){return"mainBox"+e}Object.defineProperty(t,"__esModule",{value:!0}),t.getPageIdByKey=r,t.getPageMainBoxId=o,t["default"]={getPageIdByKey:r,getPageMainBoxId:o}},,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(11)),u=0,c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={list:t.list},n}return o(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({list:e.list})},t.prototype.render=function(){var e,t=[],n=this.props,r=n.dir,o=n.name,i=n.hide,c=n.className,d=n.pos,f=n.widthAuto,p=n.mouseDownFunc,h=r||"left";return this.state.list.forEach(function(e){e[0]&&t.push(s["default"].createElement("li",a({key:"dropMenuList"+ ++u},e[2],{onClick:function(t){e[1]&&e[1](t),t.stopPropagation()},onMouseDown:p||$.noop}),e[0]))}),s["default"].createElement("div",{key:o,className:l["default"]((e={hide:i,"drop-menu-box":!0},e["dir-"+h]=!0,e["test"+t.length]=!0,e[""+c]=c,e["width-auto"]=f,e)),style:d},s["default"].createElement("ul",null,t))},t.prototype.setList=function(e){this.setState({list:e})},t}(s["default"].Component);t["default"]=c},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=n(103),i=new(function(){function e(){this.DropdownBoxActionID=a.DropdownBoxActionID}return e.prototype.show=function(e){o["default"].dispatch({actionType:a.DropdownBoxActionID.DROPDOWNBOX_SHOW,options:e})},e.prototype.hide=function(){o["default"].dispatch({actionType:a.DropdownBoxActionID.DROPDOWNBOX_HIDE})},e.prototype.edit=function(e){o["default"].dispatch({actionType:a.DropdownBoxActionID.DROPDOWNBOX_EDIT,options:e})},e}());t["default"]=i},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DROPDOWNBOX_SHOW="DROPDOWNBOX_SHOW",e.DROPDOWNBOX_HIDE="DROPDOWNBOX_HIDE",e.DROPDOWNBOX_EDIT="DROPDOWNBOX_EDIT"}(t.DropdownBoxActionID||(t.DropdownBoxActionID={}))},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,o=e.indexOf("["),a=e.indexOf("]");-1!=o&&-1!=a&&(e=e.substring(0,o)+e.substring(o,a).replace(/:/g,";")+e.substring(a,e.length));for(var i=n.exec(e||""),s={},l=14;l--;)s[r[l]]=i[l]||"";return-1!=o&&-1!=a&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t){e.exports=function(e){return n&&t.isBuffer(e)||r&&(e instanceof ArrayBuffer||o(e))};var n="function"==typeof t&&"function"==typeof t.isBuffer,r="function"==typeof ArrayBuffer,o=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}}).call(this,n(62).Buffer)},function(e,t,n){var r=n(182),o=n(113),a=n(45),i=n(71),s=n(114),l=n(115),u=n(53)("socket.io-client:manager"),c=n(112),d=n(198),f=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"==typeof e&&(t=e,e=undefined),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||Infinity),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||i;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var a=s(n,"open",function(){o.onopen(),e&&e()}),i=s(n,"error",function(t){if(u("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var l=this._timeout;u("connect attempt will timeout after %d",l);var c=setTimeout(function(){u("connect attempt timed out after %d",l),a.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",l)},l);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(a),this.subs.push(i),this},p.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",l(this,"ondata"))),this.subs.push(s(e,"ping",l(this,"onping"))),this.subs.push(s(e,"pong",l(this,"onpong"))),this.subs.push(s(e,"error",l(this,"onerror"))),this.subs.push(s(e,"close",l(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",l(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new o(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",a),n.on("connect",function(){n.id=r.generateId(e)}),this.autoConnect&&a()}function a(){~c(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(e){var t=c(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){var r=n(72),o=n(185),a=n(194),i=n(195);t.polling=function(e){var t=!1,n=!1,i=!1!==e.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,l=location.port;l||(l=s?443:80),t=e.hostname!==location.hostname||l!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new o(e);if(!i)throw new Error("JSONP disabled");return new a(e)},t.websocket=i},function(e,t,n){var r=n(73),o=n(54),a=n(38),i=n(55),s=n(111),l=n(56)("engine.io-client:polling");e.exports=c;var u=null!=new(n(72))({xdomain:!1}).responseType;function c(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}i(c,r),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(e){var t=this;function n(){l("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(l("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){l("pre-pause polling complete"),--r||n()})),this.writable||(l("we are currently writing - waiting to pause"),r++,this.once("drain",function(){l("pre-pause writing complete"),--r||n()}))}else n()},c.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(e){var t=this;l("polling got data %s",e);a.decodePayload(e,this.socket.binaryType,function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},c.prototype.doClose=function(){var e=this;function t(){l("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},c.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},c.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){var r=n(187),o=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),i="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.exports=function s(e){if(!e||"object"!=typeof e)return!1;if(r(e)){for(var n=0,o=e.length;n<o;n++)if(s(e[n]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||a&&e instanceof Blob||i&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return s(e.toJSON(),!0);for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&s(e[l]))return!0;return!1}}).call(this,n(62).Buffer)},function(e,t,n){"use strict";var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,i={},s=0,l=0;function u(e){var t="";do{t=o[e%a]+t,e=Math.floor(e/a)}while(e>0);return t}function c(){var e=u(+new Date);return e!==r?(s=0,r=e):e+"."+u(s++)}for(;l<a;l++)i[o[l]]=l;c.encode=u,c.decode=function(e){var t=0;for(l=0;l<e.length;l++)t=t*a+i[e.charAt(l)];return t},e.exports=c},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(71),o=n(45),a=n(197),i=n(114),s=n(115),l=n(53)("socket.io-client:socket"),u=n(54),c=n(110);e.exports=p;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=o.prototype.emit;function p(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[i(e,"open",s(this,"onopen")),i(e,"packet",s(this,"onpacket")),i(e,"close",s(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(d.hasOwnProperty(e))return f.apply(this,arguments),this;var t=a(arguments),n={type:(this.flags.binary!==undefined?this.flags.binary:c(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?u.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var o=a(arguments);l("sending ack %j",o),t.packet({type:c(o)?r.BINARY_ACK:r.ACK,id:e,data:o})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=r(n(117)),i={loadNotification:function(e){o["default"].dispatch({actionType:a["default"].HEADER_LOADNOTIFI,data:e})}};t["default"]=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(31));t["default"]=o["default"]({HEADER_LOADNOTIFI:null})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(33)),a=r(n(339)),i=r(n(29)),s=r(n(10)),l=r(n(240)),u=r(n(12)),c=n(26),d=n(292),f=n(452),p=r(n(214)),h=100,g=900;function y(){a["default"].changeImageFunc(undefined,!0)}function m(e){var t=e.changeVal,n=e.element,r=e.noEmit,o=void 0!==r&&r,a=n.id,s=n.x,l=p["default"].width-h;t.width>l&&(t.height=t.height/t.width*l,t.width=l),($.isUndefined(t.x)?s:t.x)+t.width>l&&(t.x=l-t.width),!$.isUndefined(t.x)&&t.x<0&&(t.x=0),!$.isUndefined(t.y)&&t.y<0&&(t.y=0),d.calcContainerHeight(),i["default"].updateValById({id:a,updateVal:t,noEmit:o})}function _(e){var t=c.findSelectElement()[0],n=t.oriWidth,r=t.oriHeight,o=t.width,a=t.height;n==o&&r==a||f.OriginSizeOverToast({oriWidth:n,fixElementPosOverSize:function(){m({changeVal:{width:g,height:r*g/n,cutVals:{}},element:t})},fixElementPosinSize:function(){m({changeVal:{width:n,height:r,cutVals:{}},element:t})},type:"图片"})&&s["default"].createData({type:"changeImageOriginalSize",name:"PRD 图片组件重置",autoSaveType:"prd"})}function v(e,t){if(void 0===t&&(t=!1),t){var n=e.width,r=e.height,a=e.fd,i=e.name;a&&!window.noLogin&&(u["default"].show("图片上传中..."),o["default"].post("/imageUpload").send(a).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){var o=t.body;"0"==o.code?(m({changeVal:{src:o.data[0].images.imgBig,oriName:i,oriWidth:n,oriHeight:r,width:n,height:r,cutVals:{}},element:c.findSelectElement()[0]}),s["default"].createData({type:"updatePrdImageSrc",name:"PRD 图片组件改变原图",autoSaveType:"prd"}),window.loginInfo.usedImageData=o.imageDataMsg.usedImageData,window.loginInfo.maxImageData=o.imageDataMsg.maxImageData,l["default"].addHistoryImage(o.data[0])):"用户未登录"!=o.msg&&u["default"].show(o.msg)}))}else{var d=new window.Image;d.onload=function(){var t=d.width,n=d.height;m({changeVal:{src:e.images.imgBig,oriName:e.name,oriWidth:t,oriHeight:n,width:t,height:n,cutVals:{}},element:c.findSelectElement()[0]}),s["default"].createData({type:"updatePrdImageSrc",name:"PRD 图片组件改变原图",autoSaveType:"prd"})},d.src=window.staticUrl+e.images.imgBig}}t.changeImageFunc=y,t.fixElementPosVal=m,t.changeImageOriginalSize=_,t.recoverImageClip=function(){var e=c.findSelectElement()[0],t=e.cutVals,n=t.boxWidth,r=t.boxHeight,o=e.width,a=e.height;n==o&&r==a||(m({changeVal:{width:n||o,height:r||a,cutVals:{}},element:e}),s["default"].createData({type:"recoverImageClip",name:"PRD 图片组件还原裁剪",autoSaveType:"prd"}))},t.updatePrdImageSrc=v,t["default"]={changeImageFunc:y,updatePrdImageSrc:v,changeImageOriginalSize:_}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(485)),s=a(n(8)),l=n(9),u={isShow:!1,isCutSpot:!0,thisImageKey:null};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(e){var t=n(6)["default"],r=t.getContrByAll(e),o=t.getAllValsContr({contrKey:r});if(u.isShow=!0,u.isCutSpot=!0,u.thisImageKey=e,o.cutVals&&!$.isUndefined(o.cutVals.left)){if(o.cutVals=$.extend(!0,o.cutVals,{oriLeft:o.left,oriTop:o.top,oriWidth:o.width,oriHeight:o.height}),"0"!=o.rotate){var a=$.rotateToAngle(o.rotate);o.cutVals=$.extend(!0,o.cutVals,{boxLeft:o.cutVals.boxLeft*Math.cos(a)-o.cutVals.boxTop*Math.sin(a),boxTop:o.cutVals.boxTop*Math.cos(a)+o.cutVals.boxLeft*Math.sin(a)})}t.contrUpdate(e,{cutVals:o.cutVals},!1,!0)}else t.contrUpdate(e,{cutVals:{oriLeft:o.left,oriTop:o.top,oriWidth:o.width,oriHeight:o.height,width:o.width,height:o.height,left:0,top:0,boxWidth:o.width,boxHeight:o.height,boxLeft:0,boxTop:0}},!1,!0);t.emitChange(),d.emitChange()},t.prototype.getCutImageShow=function(){return u.isShow},t.prototype.getCutImage=function(){return u},t.prototype.getCutImageContr=function(){var e=n(6)["default"],t=e.getContrByAll(u.thisImageKey);return e.getAllValsContr({contrKey:t})},t.prototype.getCutVals=function(){return d.getCutImageContr().cutVals},t.prototype.setInputVal=function(e){n(6)["default"].contrUpdate(u.thisImageKey,{cutVals:e})},t.prototype.setCutImage=function(e){u=e,d.emitChange()},t.prototype.into=function(e){u.isShow=!0,u.thisImageKey=e,d.emitChange()},t.prototype.exit=function(){var e=n(6)["default"];u.isShow=!1,e.emitChange(),d.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(l.EventEmitter);s["default"].register(function(e){switch(e.actionType){case i["default"].CUTIMAGE_INIT:d.init(e.contrId);break;case i["default"].CUTIMAGE_EXIT:d.exit();break;case i["default"].CUTIMAGE_CHANGECUTVALS:o=e.cutVals,n(6)["default"].contrUpdate(u.thisImageKey,{cutVals:o}),d.emitChange();break;case i["default"].CUTIMAGE_ISCUTSPOT:t=e.isCutSpot,r=n(6)["default"],u.isCutSpot=t,r.emitChange(),d.emitChange()}var t,r,o});var d=new c;t["default"]=d},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o={},a=[];function i(){return o}function s(e){o=e}function l(){return r}function u(e){r=e}function c(){return a}function d(e){a=e}t.getAutoSaveDataContent=i,t.setAutoSaveDataContent=s,t.getRedoUndoIndex=l,t.setRedoUndoIndex=u,t.getChangePagesArr=c,t.setChangePagesArr=d,t["default"]={getAutoSaveDataContent:i,setAutoSaveDataContent:s,getRedoUndoIndex:l,setRedoUndoIndex:u,getChangePagesArr:c,setChangePagesArr:d}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=n(124),i=new(function(){function e(){this.VipShareActionID=a.VipShareActionID}return e.prototype.setVipShare=function(e){o["default"].dispatch({actionType:a.VipShareActionID.SET_VIPSHARE,vipShare:e})},e}());t["default"]=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SET_VIPSHARE="SET_VIPSHARE"}(t.VipShareActionID||(t.VipShareActionID={}))},,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i={editor:null,comp:null},s={key:"",start:0,length:0,value:null},l={},u={},c=(window,new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setNodeData=function(e){s=e},t.prototype.getNodeData=function(){return s},t.prototype.initRichText=function(e){var t=e.editor,n=e.comp;i={editor:t,comp:n}},t.prototype.addAllTextEditor=function(e,t){l[t]=e},t.prototype.getAllTextEditor=function(){return l},t.prototype.getEditorById=function(e){return l[e]},t.prototype.setAllEditorVals=function(e,t){u[t]=e},t.prototype.getAllEditorVals=function(e){return u[e]},t.prototype.getRichText=function(){return i},t.prototype.getRichTextEditor=function(){return i.editor},t.prototype.getRichTextComp=function(){return i.comp},t.prototype.removeRichTextSet=function(){i={editor:null,comp:null}},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter)));t["default"]=c},function(e,t,n){e.exports={"default":n(441),__esModule:!0}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=n(86),i=new(function(){function e(){this.CopyToastActionID=a.CopyToastActionID}return e.prototype.show=function(e,t,n,r,i){o["default"].dispatch({actionType:a.CopyToastActionID.COPY_TOAST_SHOW,text:e,posiTop:t,posiLeft:n,callback:r,time:i})},e.prototype.setShow=function(e){o["default"].dispatch({actionType:a.CopyToastActionID.HIDE_TOAST,isShow:e})},e}());t["default"]=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window,o=r.$,a=r.isPrototypeTool;t["default"]=o.extend(o,{isAdvancedAllContr:function(e){return o.isAdvancedContr(e)||o.isMobileContr(e)||o.isChartContr(e)},getAdvancedList:function(e){var t=["dropdown","menu","pagination","cascader","checkbox","datePicker","rate","radio","select","slider","switch","treeSelect","timePicker","transfer","calendar","carousel","collapse","tree"],n=["carouselM","carouselTextM","sliderM","rangeM","stepperM","paginationM","radioM","checkboxM","switchM","menuM","pickerM","segmentedControlM","calendarM","datePickerM","accordionM"],r=["miniBar","bar","horizontalBar","miniArea","lineChart","timelineChart","miniProgress","progressCircle","circle","miniCircle","pie","gauge","radar","waterWave"],o=[];switch(e){case"advanced":o=t;break;case"mobile":o=n;break;case"chart":o=r;break;case"all":o=t.concat(n,r)}return o},isAdvancedContr:function(e){return-1!=o.getAdvancedList("advanced").indexOf(e)},isMobileContr:function(e){return-1!=o.getAdvancedList("mobile").indexOf(e)},isChartContr:function(e){return-1!=o.getAdvancedList("chart").indexOf(e)},getAdvancedType:function(e){return o.isAdvancedContr(e)?"advanced":o.isMobileContr(e)?"mobile":o.isChartContr(e)?"chart":""},isAdvancedAnimate:function(){return!1},getStaticUrl:function(){return"https://img.xiaopiu.com"},getPopupContainer:function(){return a&&(o.query(".symbolMaskBox")||o.query(".mainBox.active"))||o.query("#pageContainer")||document.body},noEditMove:function(e){return-1!=["pickerM","segmentedControlM","carouselM"].indexOf(e)},getAdvancedStyleClass:function(e){var t=" "+e+"-contr";switch(e){case"checkbox":case"rate":case"radio":case"slider":case"miniProgress":case"sliderM":case"rangeM":case"stepperM":case"paginationM":case"radioM":case"checkboxM":t+=" middle-advanced-box";break;case"menuM":case"calendarM":case"datePickerM":case"accordionM":t+=" top-advanced-box"}return t},getScaleRatio:function(){var e=window,t=e.jsImage,n=e.fontSize,r=e.ss,o=e.isPrototypeTool,a=e.document,i=e.isWeb,s=r||(n?n/50:1);return t&&!i?a.body.clientWidth/320:o?1:s},firstToUpperCase:function(e){return e[0].toUpperCase()+e.substring(1,e.length)},addHoverData:function(e){return{"data-contr":"hovertip","data-option":o.objToString(e||{text:"hoverTip"})}},sliceUrl:function(e){return 0==e.indexOf("https://")?e.substring(8,e.length):0==e.indexOf("http://")?e.substring(7,e.length):e},isCommonByEvent:function(e){return window.isMac?e.metaKey:e.ctrlKey}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.S_tableCellTextStatic={content:"",fontSize:14,lineHeight:10,indent:0,adjaceney:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,isS:!1,horizontal:"hL",vertical:"vM",lastContent:null},t.S_tableCellStatic={name:"",border:["rgba(216, 216, 216, 1)",0],hasBackColor:!1,backColor:"rgba(153, 153, 153, 1)",opacity:100,columnIndex:0,lineIndex:0,mergeColumn:0,mergeLine:0,mergeKey:"",events:{}}},function(e,t,n){var r=n(760).Konva;r._injectGlobal(r),t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=l(n(8)),a=l(n(363)),i=l(n(23)),s=(l(n(5)),l(n(27)),n(316));function l(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var u,c,d={changeZoom:function(e){o["default"].dispatch({actionType:a["default"].VIEW_CHANGEZOOM,zoom:e})},zoomOut:function(){o["default"].dispatch({actionType:a["default"].VIEW_ZOOMOUT})},switchToPrevMode:function(){o["default"].dispatch({actionType:a["default"].VIEW_SWITCHTOPREVMODE})},updateProp:function(e,t){o["default"].dispatch({actionType:a["default"].VIEW_UPDATEPROP,index:e,prop:t})},updateActiveProp:function(e){o["default"].dispatch({actionType:a["default"].VIEW_UPDATEACTIVEPROP,prop:e})},backColorChange:function(e,t){o["default"].dispatch({actionType:a["default"].VIEW_BACKCOLOR,pageId:e,backColor:t})},setViewProp:function(e){o["default"].dispatch({actionType:a["default"].VIEW_SETVIEWPROP,obj:e})},selectChange:function(e){o["default"].dispatch({actionType:a["default"].VIEW_SELECTCHANGE,selectArr:e}),i["default"].emitChange()},selectAll:function(){o["default"].dispatch({actionType:a["default"].VIEW_SELECTALL}),i["default"].emitChange()},copyPage:function(){o["default"].dispatch({actionType:a["default"].VIEW_COPYPAGE})},deletePages:function(){(0,s.deletePages)()}},f=d;t["default"]=f,(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(u.register(d,"ViewActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ViewActions.js"),u.register(f,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ViewActions.js")),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&c(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0}),window.Array.prototype.remove=function(e){var t=this.indexOf(e);return t>-1&&this.splice(t,1),this},window.String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},window.String.prototype.gblen=function(){for(var e=0,t=0;t<this.length;t++)this.charCodeAt(t)>127||94==this.charCodeAt(t)?e+=2:e++;return e},window.String.prototype.replaceAll=function(e,t,n){return this.replace(new RegExp(e,"gm"+(n?"i":"")),t)},window.Date.prototype.diff=function(e){return(this.getTime()-e.getTime())/864e5},window.Date.prototype.days=function(e){return Math.ceil((this.getTime()-e.getTime())/864e5)},window.Date.prototype.isOlder=function(e){return this.getTime()-e.getTime()>=0},window.Array.prototype.unique=function(){for(var e=[],t={},n=0;n<this.length;n++)t[this[n]]||(e.push(this[n]),t[this[n]]=1);return e};var o=["touchstart","touchmove","touchend","touchcancel","wheel"],a=window.document.addEventListener.bind();window.document.addEventListener=function(e,t,n,i){var s=n;return o.includes(e)&&("boolean"==typeof n?s={capture:n,passive:!1}:"object"==typeof n&&(s=r({passive:!1},n))),a(e,t,s,i)};var i=window.document.removeEventListener.bind();document.removeEventListener=function(e,t,n){var a=n;return o.includes(e)&&("boolean"==typeof n?a={capture:n,passive:!1}:"object"==typeof n&&(a=r({passive:!1},n))),i(e,t,a)},t["default"]="prototype"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41);window.hostUrl="https://www.xiaopiu.com",window.imgUrl="https://img.xiaopiu.com",window.staticUrl="https://img.xiaopiu.com",window.maxNameLength=24,window.isMac="Mac68K"===window.navigator.platform||"MacPPC"===window.navigator.platform||"Macintosh"===window.navigator.platform||"MacIntel"===window.navigator.platform,window.isLinux=String(navigator.platform).indexOf("Linux")>-1,window.$.noop=function(){},window.$.type=function(e){switch(e){case null:return"null";case undefined:return"undefined"}switch(Object.prototype.toString.call(e)){case"[object String]":return"string";case"[object Number]":return"number";case"[object Boolean]":return"boolean";case"[object Array]":return"array";case"[object Date]":return"date";case"[object Function]":return"function";case"[object RegExp]":return"regExp";case"[object Object]":default:return"object"}},window.$.isObject=function(e){return"object"==$.type(e)},window.$.unescapeObj=function(e){var t={};for(var n in e)$.isObject(e[n])?t[n]=$.unescapeObj(e[n]):"array"==$.type(e[n])?t[n]=$.unescapeArr(e[n]):"boolean"==$.type(e[n])?t[n]=e[n]:t[n]=unescape(e[n]);return t},window.$.unescapeArr=function(e){return e.map(function(e){return $.isObject(e)?$.unescapeObj(e):"array"==$.type(e)?$.unescapeArr(e):"boolean"==$.type(e)?e:unescape(e)})},window.mouseDownTarget={name:null,posi:[],movePosi:[],target:null,moveFunc:$.noop,endFunc:$.noop},window.log=window.isDevelop?console.log:$.noop,window.temporarySet={},window.loginInfo&&(window.loginInfo=$.unescapeObj(window.loginInfo)),window.userInfo&&(window.userInfo=$.unescapeObj(window.userInfo));try{window.parent&&window.parent.pcParentApp&&(window.pcApp=!0)}catch(o){window.parent=window,window.log(o)}window.mousePosi=[0,0],window.isPrototypeTool||window.document.addEventListener("mouseup",function(e){var t=window.mouseDownTarget;t.name&&(t.state="end",t.endFunc(e),$.mouseDownTargetInit());var n=$.getElById("viewIframe");if(n){var r=n.contentWindow.mouseDownTarget;r.name&&(r.state="end",r.endFunc(e),$.mouseDownTargetInit(n.contentWindow))}},!0),window.pcApp&&window.$(function(){var e,t=window,n=t.isPrototypeTool,r=t.projectName,o=t.pcParentApp,a=t.parent,i=t.document,s=o?window:a,l=i.title;if(n&&(l=r||"xiaopiu原型",a&&a.version)){var u=$(i).find("body");u.addClass("pc-app"),u.addClass("v"+a.version)}if(a){var c=$(a.document.body);(e=[]).push(!c.find(".back-btn.handle-btn").hasClass("disable")),e.push(!c.find(".forward-btn.handle-btn").hasClass("disable")),e.push(!c.find(".reload-btn.handle-btn").hasClass("disable"))}s.ipcRenderer&&s.ipcRenderer.sendToHost("changeTitle",1==s.iframeUrlArr.length?"":l,n,e)}),window.hotKey={comKey:window.isMac?"⌘":"Ctrl",shiftKey:window.isMac?"⇧":"Shift",command:window.isMac?"command":"ctrl",alt:window.isMac?"option":"alt","delete":"backspace"},r.checkIsInFeiShuPC()&&window.h5sdk&&window.h5sdk.biz.navigation.setTitle({title:"xiaopiu-原型设计"}),t["default"]="initWIN"},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _keys=__webpack_require__(144),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(261),_stringify2=_interopRequireDefault(_stringify),_superagent=__webpack_require__(33),_superagent2=_interopRequireDefault(_superagent),_CopyToastActions=__webpack_require__(128),_CopyToastActions2=_interopRequireDefault(_CopyToastActions),_BaseUtil=__webpack_require__(41),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ts$=__webpack_require__(136),all$=__webpack_require__(129);$.extend($,ts$),$.extend($,all$);var _default=$.extend($,{getElById:function(e){return window.document.getElementById(e)},stringToObj:function(e){try{return e?JSON.parse(e):e}catch(t){log(t)}},objToString:function(e){return e?(0,_stringify2["default"])(e):e},isEmail:function(e){return/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(e)},isPassword:function(e){return/^[0-9A-Za-z]{6,20}$/.test(e)},isEmptyString:function(e){return""===$.trim(e)},isQQ:function(e){return/^[0-9]{5,12}$/.test(e)},isPhoneNum:function(e){return/^1[34578]\d{9}$/.test(e)},isWechat:function(e){return/^[a-zA-Z]{1}[-_a-zA-Z0-9]{5,19}$/.test(e)},getRotateWH:function(e,t){return{w:Math.sin(e)*t[1]+Math.cos(e)*t[0],h:Math.cos(e)*t[1]+Math.sin(e)*t[0]}},fixRotateWH:function(e,t){if((t%180<0?t%180+180:t%180)>=90){var n=e.w;e.w=e.h,e.h=n}},getUrlParam:function(e,t){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=(t?t.split("?")[1]:encodeURI(window.location.search).substr(1)).match(n);return null!==r?unescape(r[2]):null},replaceParamGetUrl:function replaceParamGetUrl(_paramName,_replaceWith,_url){var url=_url,func=function func(_name,_replace){-1!==url.indexOf(_name+"=")?url=url.replace(eval("/("+_name+"=)([^&]*)/gi"),_name+"="+_replace):-1===url.indexOf("?")?url+="?"+_name+"="+_replace:url+="&"+_name+"="+_replace};return $.isArray(_paramName)?_paramName.forEach(function(e){func(e[0],e[1])}):func(_paramName,_replaceWith),url},ajax:function(e,t,n,r,o){var a=__webpack_require__(12)["default"];_superagent2["default"][r?"get":"post"](e).send(t).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){var r=t.body;r?0===r.code?n&&n(r):(a.show(r.msg),o&&o(r)):(a.show("网络不稳定"),o&&o())})},downloadPcApp:function(){window.isMac?window.open("http://xiaopiu-bucket.oss-cn-beijing.aliyuncs.com/xiaopiu-static/download/xiaopiu-0.0.2.dmg"):window.isLinux?window.open("http://xiaopiu-bucket.oss-cn-beijing.aliyuncs.com/xiaopiu-static/download/xiaopiuPc-0.0.2-x86_64.AppImage"):window.open("http://xiaopiu-bucket.oss-cn-beijing.aliyuncs.com/xiaopiu-static/download/xiaopiu%20Setup%200.0.2.exe")},replaceParamVal:function(e,t){var n=window.location.href.toString();(n=$.replaceParamGetUrl(e,t,n))!=window.location.href.toString()&&($.urlReplaceState(n),$.pcIframeUrlAdd())},loadStyleString:function(e,t){var n=document.createElement("style");n.id=t||"baseCss",n.type="text/css";try{n.appendChild(document.createTextNode(e))}catch(r){n.styleSheet.cssText=e}document.getElementsByTagName("head")[0].appendChild(n)},removeParamGetUrl:function(e,t){if(-1!==t.indexOf("?")){var n=t.substr(t.indexOf("?")+1),r="",o="",a="";if(-1!==n.indexOf("&")){for(var i in o=n.split("&"))$.isString(o[i])&&o[i].split("=")[0]!=e&&(a=a+o[i].split("=")[0]+"="+o[i].split("=")[1]+"&");r=t.substr(0,t.indexOf("?"))+"?"+a.substr(0,a.length-1)}else r=(o=n.split("="))[0]==e?t.substr(0,t.indexOf("?")):t;return r}return t},removeParamVal:function(e){var t=function(e){var t=window.location.href.toString(),n=$.removeParamGetUrl(e,t);n!=window.location.href.toString()&&($.urlReplaceState(n),$.pcIframeUrlAdd())};e&&($.isArray(e)?e.forEach(function(e){t(e)}):$.isString(e)&&t(e))},urlReplaceState:function(e){window.history.replaceState(null,null,e)},changeUrlRetainParam:function(e,t){var n=e+window.location.search;if(t)return n;n!=window.location.href.toString()&&window.history.replaceState(null,null,n)},isNull:function(e){return!e&&void 0!==e&&0!=e},offset:function(e,t,n){var r=e&&e.getBoundingClientRect();if(r&&(r.width||r.height)){var o=e.ownerDocument,a=$.isWindow(o)?o:9===o.nodeType&&o.defaultView,i=o.documentElement,s={left:r.left+a.pageXOffset-i.clientLeft,top:r.top+a.pageYOffset-i.clientTop},l=t?$.extend(s,{width:r.width,height:r.height}):s;return n?t?[l.left,l.top,l.width,l.height]:[l.left,l.top]:l}return n?t?[0,0,0,0]:[0,0]:{left:0,top:0,width:0,height:0}},getWinSize:function(){return{width:window.document.body.parentNode.clientWidth,height:window.document.body.parentNode.clientHeight}},isMac:function(){return"Mac68K"===window.navigator.platform||"MacPPC"===window.navigator.platform||"Macintosh"===window.navigator.platform||"MacIntel"===window.navigator.platform},isFunc:function(e){return"function"==typeof e},cancelBubble:function(e){var t=window.event||e;window.attachEvent?t.cancelBubble=!0:t.stopPropagation()},getBorderVal:function(e,t,n){var r=void 0,o=e.outerBorder,a=e.innerBorder,i=e.columnPosi,s=e.linePosi,l=t.columnIndex,u=t.lineIndex,c=!1;return n&&(0===l||l===i.length)||!n&&(0===u||u===s.length)?(r=o,c=!0):r=a,{val:r[1],color:r[0],style:r[2],isOuter:c}},rangeGoEnd:function(e,t){var n=t&&$.isDom(t)?t:e.target;if(window.getSelection)if("DIV"==n.nodeName){var r=window.document.createRange();r.selectNodeContents(n),r.collapse(!0),r.setEnd(n,n.childNodes.length),r.setStart(n,n.childNodes.length);var o=window.getSelection();o.removeAllRanges(),o.addRange(r)}else{var a=n.value.length;n.setSelectionRange(a,a)}else if(window.document.selection){var i=n.createTextRange();i.collapse(!1),i.select()}},isDom:function(e){return!(!e||"undefined"==typeof window||e!==window&&!e.nodeType)},selectTextRange:function(e,t,n){if(window.getSelection){var r=n||e.value.length;e.setSelectionRange(t,r)}},getCssPosi:function(e){return[e.offsetLeft,e.offsetTop,e.clientWidth,e.clientHeight]},getOffsetPosi:function(e){for(var t=[e.offsetLeft,e.offsetTop];e.offsetParent;)e=e.offsetParent,t[0]+=e.offsetLeft,t[1]+=e.offsetTop;return t},getParentAttr:function(e,t){return e.parentNode.getAttribute(t)},collide:function(e,t,n){var r=Math.abs(e[0]+e[2]/2-(t[0]+t[2]/2))<Math.abs((e[2]+t[2])/2),o=Math.abs(e[1]+e[3]/2-(t[1]+t[3]/2))<Math.abs((e[3]+t[3])/2);return n?{left:r,top:o}:r&&o},hasClass:function(e,t){return!!e&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){e&&($.hasClass(e,t)||(e.className+=" "+t))},removeClass:function(e,t){if($.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim()}},toggleClass:function(e,t){$.hasClass(e,t)?$.removeClass(e,t):$.addClass(e,t)},checkArrayEqual:function(e,t){var n=void 0;if(e.length===t.length&&0===e.length)n=!0;else if(e.length==t.length)for(var r=0;r<t.length;r++){n=!1;for(var o=0;o<e.length;o++)if(t[r]===e[o]){n=!0;break}}else n=!1;return n},setRegion:function(e,t,n){return Math.max(t,Math.min(e,n))},getScrollSize:function(e){var t=Math.abs(e),n=1;return t>=100?n=10:t>=20&&(n=4),(window.isMac?1:-1)/n},arrayUnique:function(e){if(e.length>0){e.sort();for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==t[t.length-1]&&t.push(e[n]);return t}return e},isUndefined:function(e){return void 0===e},isArray:function(e){return"[object Array]"===toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},blurInput:function(){var e=window.document.activeElement;e&&e.blur()},getWindowWH:function(){var e=(window.pcParentApp?window:window.parent).document.body.parentNode;return{width:e.clientWidth,height:e.clientHeight}},query:function(e){return window.document.querySelector(e)},queryAll:function(e){return window.document.querySelectorAll(e)},tipHide:function(){var e=window.document.querySelector("body>.C_tip");e&&(e.style.display="none")},rotateToAngle:function(e,t){return 2*Math.PI*(t?e%90<0?e%90+90:e%90:e)/360},stringCut:function(e,t){var n,r=0,o="";n=e.length;for(var a=0;a<n;a++){var i=e.charAt(a);if(r++,escape(i).length>4&&r++,o=o.concat(i),r>=t)return o}if(r<t)return e},ifCutString:function(e,t){var n=e.trim();return!!(n.gblen()>t)&&$.stringCut(n,t)},strLengthMoreThan:function(e,t){return e.gblen()>t},objLength:function(e){return(0,_keys2["default"])(e).length},searchIn:function(e,t,n,r){if(""===e)return"none";var o=t,a=!1;return(n?[e]:e.split(/\s+/)).forEach(function(e){(e=$.makeQueryStringAllRegExp(e))&&new RegExp(e,"i").exec(t)&&(a=!0,o=o.replace(new RegExp(e,"ig"),function(e){return"<span class='redspan'>"+e+"</span>"}))}),a?o:!!r&&t},makeQueryStringAllRegExp:function(e){return e?e.replace("\\","\\\\").replace("*","\\*").replace("+","\\+").replace("|","\\|").replace("{","\\{").replace("}","\\}").replace("(","\\(").replace(")","\\)").replace("^","\\^").replace("$","\\$").replace("[","\\[").replace("]","\\]").replace("?","\\?").replace(",","\\,").replace(".","\\.").replace("&","\\&"):e},slideDrag:function(e,t,n,r){n=n||58;var o=-e.target.offsetLeft+e.clientX;$.setDrag({name:"slideMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var n=e.clientX-o;t(n)},endFunc:function(e){r&&r(e.clientX-o)}})},getContentListPadding:function(){return window.pcApp?0:($.getWindowWH().width-1200)/2+"px"},commonKeyDown:function(e){var t=__webpack_require__(79)["default"];if(8==e.keyCode){var n=e.target&&"DIV"==e.target.nodeName&&$.hasClass(e.target,"ql-editor");if("TEXTAREA"!=e.target.nodeName&&"INPUT"!=e.target.nodeName&&!n)return e.preventDefault(),!1}else if(13==e.keyCode){if($(e.target).parents(".text-element-container").length>0)return!1;if(e.target&&"INPUT"==e.target.nodeName){var r=$.getElById("submitBtn");return e.target.blur(),r&&r.click(),e.preventDefault(),!1}if(t.getShow())return $.query(".popup .submit-btn").click(),e.preventDefault(),!1}else if(27==e.keyCode){if(e.target&&"INPUT"==e.target.nodeName)return e.target.blur(),e.preventDefault(),!1;if($("#closeBtn.phone-close").length>0)$("#closeBtn.phone-close").click();else if($("#closeBtn").length>0)$("#closeBtn").click();else{if(t.getShow()){var o=$.query(".popup-close-btn");return o&&o.click(),e.preventDefault(),!1}if($.query(".recycle-top-cancel"))return $.query(".recycle-top-cancel").click(),e.preventDefault(),!1;if($.query(".phone-view-mask .close-btn"))return $.query(".phone-view-mask .close-btn").click(),e.preventDefault(),!1;if($.query(".lib-item-list-box .close-btn"))return $.query(".lib-item-list-box .close-btn").click(),e.preventDefault(),!1}}},hoverContrInit:function(){$(window.document).on("mouseenter",".a_c[data-contr=hovertip]",function(){var e=$(this),t=$.stringToObj(e.attr("data-option"));e.length>0&&(e.hasClass("mark-data-common")||e.hasClass("shadow-list-text"))?$.offset(e[0].firstChild,!0).height>24&&e.showTip(t):e.showTip(t)}).on("mouseleave",".a_c[data-contr=hovertip]",function(){$("body>.C_tip").hide()})},ClickContrInit:function(){$(window.document).on("click",".copy-link-common",function(e){var t=$.offset(e.currentTarget,!0),n=t.top,r=t.left,o=t.width;_CopyToastActions2["default"].show("复制成功",n,r+o/2),_CopyToastActions2["default"].setShow(!0),$.tipHide()})},ClickResourceInit:function(){$(window.document).on("click",".download-link-common",function(e){var t=$.offset(e.currentTarget,!0),n=t.top,r=t.left,o=t.width;_CopyToastActions2["default"].show("下载成功",n,r+o/2),_CopyToastActions2["default"].setShow(!0),$.tipHide()})},escape:function(e){var t=window.document.createElement("div");return t.appendChild(window.document.createTextNode(e)),t.innerHTML.replaceAll('"',"&quot;")},unescape:function(e){var t=window.document.createElement("div");return t.innerHTML=e,t.innerText||t.textContent},humpToHythen:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},isRender:function(e){return!!window.renderTest&&(window.renderTest.all||window.renderTest[e])},notLoadPassword:function(e){e.target.type="password"},setDrag:function(e){return $.hideRightMenu&&$.hideRightMenu(),window.mouseDownTarget=$.extend(window.mouseDownTarget,e),$.blurInput(window.event),window.mouseDownTarget},mouseDownTargetInit:function(e){$.extend(!1,(e||window).mouseDownTarget,{name:null,posi:[],movePosi:[],target:null,state:null,moveFunc:$.noop,endFunc:$.noop})},isContrShow:function(e,t){return"preview"==t||"drag-preview"==t||!e.isDelete&&($.isUndefined(e.isShow)||e.isShow||($.getElById("structLabel")||$.getElById("wrapBoxLabel"))&&window.structHoverContrKey==e.type+"_"+e.id)},getThreeDecimal:function(e){return Math.round(1e3*e)/1e3},getCodeName:function(e){return $.textIsBox(e)?"box_"+e.id:"wrapbox"==e.type?"wrapper_"+e.id:$.getContrId(e)},getCutBgImgPosi:function(e,t,n){var r=e.boxLeft,o=r===undefined?0:r,a=e.boxTop,i=a===undefined?0:a,s=e.left,l=e.top,u={left:e&&!$.isUndefined(s)?o-s:0,top:e&&!$.isUndefined(l)?i-l:0};return n||(u={left:u.left*Math.cos(t)+u.top*Math.sin(t),top:u.top*Math.cos(t)-u.left*Math.sin(t)}),u},getContrId:function(e){try{return e.type+"_"+e.id}catch(t){log(t)}},textIsBox:function(e){return"text"==e.type&&""==e.content.trim()},conversionTime:function(e){var t=[];return t[0]=Math.floor(e/60),t[1]=e-60*t[0],t.map(function(e){var t=e;return t<10&&(t="0"+t),t}).join(":")},isIE:function(){return/msie/i.test(window.navigator.userAgent)&&!window.opera},floatNum:function(e,t){if(window.isNaN(e))return e;if($.isNull(e))return window.isDevelop&&log("warning, 不应该出现为null的情况"),0;var n=e.toString();return-1!=n.indexOf(".")?n.split(".")[1].length>t?+(+e).toFixed(t):+e:e},getStatic:function(e,t){var n=__webpack_require__(130);t=t||{};var r=$.extend(!0,{},n[e]||{});for(var o in r)$.isUndefined(t[o])||-1!=["name","backColor","hasBackColor","events","content"].indexOf(o)||(r[o]=t[o]);return r},getImageDataVal:function(e){var t=1073741824;return e>t?$.floatNum(e/t,2)+"Gb":e>1048576?$.floatNum(e/1048576,2)+"Mb":e>1024?$.floatNum(e/1024,2)+"Kb":$.floatNum(e,2)+"Byte"},getIsWechatImage:function(e){return e&&-1!=e.indexOf(".qlogo.cn/")},checkIsFeiShuImage:function(e){return e&&-1!=e.indexOf("lark.avatar")},changeWechatImageSize:function(e,t){if(e){var n=0;return 0==t?n=64:1==t?n=132:2==t&&(n=0),(e.substr(0,e.lastIndexOf("/"))+"/"+n).replace("http://","https://")}return window.staticUrl+"/userImages/imgBigDefault.png"},changeFeiShuImageSize:function(e,t){if(e){var n=250;return 0==t?n=64:1==t?n=132:2==t&&(n=250),e.split("~")[0]+"~"+n+"x"+n+".png"}return window.staticUrl+"/userImages/imgBigDefault.png"},getUserImageUrl:function(e,t){if(e&&$.getIsWechatImage(e))return $.changeWechatImageSize(e,t);if(e&&$.checkIsFeiShuImage(e))return $.changeFeiShuImageSize(e,t);var n="Small";return 0==t?n="Small":1==t?n="Normal":2==t&&(n="Big"),window.staticUrl+"/userImages/img"+n+e+".png"},isObjectEqual:function(e,t){var n=!0;if($.objLength(e)&&$.objLength(t)){for(var r in e)if(e[r]!=t[r]){n=!1;break}}else n=!1;return n},isEmptyObj:function(e){return $.isObject(e)&&0===$.objLength(e)},initLoginPage:function(e){setTimeout(function(){var t=$(".login-main");$.getWinSize().height<t.height()?t.addClass("top"):t.hasClass("top")&&t.removeClass("top"),e&&$(window).resize(function(){$.initLoginPage()})},0)},devType:function(e){return window.isDevelop?e:{}},getNewArrByNum:function(e,t){for(var n=[],r=0;r<Math.min(t,e?e.length:0);r++)n.push(e[r]);return n},cObj:function(e,t){return $.extend(!t,{},e)},stopParentScroll:function(e){var t=e.currentTarget.scrollTop+e.deltaY,n=e.currentTarget.scrollHeight-e.currentTarget.offsetHeight;(t<0||t>n)&&(e.currentTarget.scrollTop=$.setRegion(t,0,n),e.preventDefault())},stopPropagation:function(e){e.stopPropagation()},onlyPreventDefault:function(e){e.preventDefault()},preventDefault:function(e){e.stopPropagation(),e.preventDefault()},getPlatform:function(e){return e||"mobile"},getOtherPhoneSize:function(e){return[e.width+36,e.height+190,95,95,16]},getVersionQuery:function(e){var t="";return e.versionIndexKey!=e.versionSet.activeKey&&(""==e.versionSet.activeKey?t="&baseversion=true":$.isUndefined(e.versionSet.activeKey)||(t="&versionkey="+e.versionSet.activeKey)),t},pcChangeIframe:function(e,t,n){var r=window.pcParentApp?window:window.parent,o=t&&$.isString(t)?t:e&&e.currentTarget&&e.currentTarget.getAttribute("data-href");if(r&&!r.pcApp)return window.location.href=o,!1;var a=r.document.getElementById("lastIframe");a&&$.destroyIframe(a);var i=r.document.createElement("iframe"),s=r.document.querySelector(".home-box");-1!=o.indexOf("#/content/")&&-1==o.indexOf("/help#/content/")&&(o="/help"+o);var l=$.isEditUrl(o);i.id="pcIframe",i.className="page-iframe hide"+(l?" is-editor":""),i.name="web-page",i.title="web-page",i.src=o,s.appendChild(i),r.document&&r.document.body&&(l?$.addClass(r.document.body,"edit-page"):$.removeClass(r.document.body,"edit-page")),!n&&r.iframeUrlArr&&(r.iframeUrlArr.length=Math.min(r.iframeUrlIndex,r.iframeUrlArr.length),o&&r.iframeUrlArr.push(o),r.iframeUrlIndex=r.iframeUrlArr.length),!window.pcParentApp&&r.initToolBarRender&&r.initToolBarRender(),r.document.getElementById("pcIframe").id="lastIframe",e&&e.preventDefault&&e.preventDefault()},pcReloadIframe:function(){var e=window.pcParentApp?window:window.parent;$.pcChangeIframe(null,e.iframeUrlArr[e.iframeUrlIndex-1],!0)},pcBackIframe:function(){var e=window.pcParentApp?window:window.parent;e.iframeUrlArr.length>1&&e.iframeUrlIndex>1&&(e.iframeUrlIndex-=1,$.pcChangeIframe(null,e.iframeUrlArr[e.iframeUrlIndex-1],!0))},pcForwardIframe:function(){var e=window.pcParentApp?window:window.parent,t=e.iframeUrlArr.length;e.iframeUrlIndex<t&&(e.iframeUrlIndex+=1,$.pcChangeIframe(null,e.iframeUrlArr[e.iframeUrlIndex-1],!0))},pcOpenUrl:function(e,t,n){var r=t||e.currentTarget.getAttribute("data-href");window.pcParentApp&&window.ipcRenderer?window.ipcRenderer.sendToHost("openUrl",r):window.pcApp&&window.parent&&window.parent.ipcRenderer?window.parent.ipcRenderer.sendToHost("openUrl",r):n()},getFixedViewMinTop:function(e){var t=$.getElById("phoneConBox");return $.getWinSize().height/e-(t?t.scrollHeight:0)},destroyIframe:function(e){e.src="about:blank";try{e.contentWindow.document.write(""),e.contentWindow.document.clear()}catch(t){log(t)}e.parentNode.removeChild(e)},isEditUrl:function(e){return-1!=e.indexOf("https://www.xiaopiu.com/project?")||-1!=e.indexOf("https://www.xiaopiu.com/editor?")},getIconDownLoadUrl:function(e,t){var n="",r=function(r){n||t[r].some(function(t){if(!n)for(var o in t)return o==e&&(n=r,!0);return!1})};for(var o in t)r(o);return"https://img.xiaopiu.com/xiaopiu-icon/"+n+"/svg/design/ic_"+e+"_48px.svg"},downloadIcon:function(e,t,n){var r=e.name,o=e.iconColor,a=e.width,i=e.height,s=$(t.text),l=i/a,u={fill:o,width:256,height:256,viewBox:"0 0 48 48"};if(1!=l){var c={transform:"scale("+1/l+", 1)","transform-origin":"0 0"};u.height*=l,u.viewBox="0 0 "+48/l+" 48",s.find("path").eq(0).attr(c)}s.attr(u);var d=new window.Blob([s[0].outerHTML],{type:"image/svg+xml;charset=utf-8"});n.saveAs(d,r+".svg")},pcIframeUrlAdd:function(e){if(window.pcApp&&e){var t=window.pcParentApp?window:window.parent;t.iframeUrlArr&&(t.iframeUrlArr.length=Math.min(t.iframeUrlIndex,t.iframeUrlArr.length),e&&t.iframeUrlArr.push(e),t.iframeUrlIndex=t.iframeUrlArr.length),!window.pcParentApp&&t.initToolBarRender&&t.initToolBarRender()}},getIFrameDOM:function(e){var t=window.pcParentApp?window:window.parent;return t.document.getElementById(e).contentDocument||t.document.frames[e].document},isEmptyStr:function(e){return e.length>0&&""==e.trim()},isNumber:function(e){return"number"==typeof e&&!window.isNaN(e)},getRandomNum:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},getSortNumber:function(e){return e.sort(function(e,t){return e-t})},getAddValFromArray:function(e,t,n){var r=0;return e.forEach(function(e,o){o>=t&&o<=n&&(r+=e)}),r},setPageScrollTop:function(e){window.document.documentElement&&window.document.documentElement.scrollTop?window.document.documentElement.scrollTop=e||0:window.document.body&&(window.document.body.scrollTop=e||0)},getPageScrollTop:function(){var e=0;return window.document.documentElement&&window.document.documentElement.scrollTop?e=window.document.documentElement.scrollTop:window.document.body&&(e=window.document.body.scrollTop),e},copyUrl:function(e){var t=$.getElById($.isString(e)?e:"copiedTips");$.addClass(t,"show"),setTimeout(function(){$.removeClass(t,"show")},2e3)},getInviteCookie:function(){var e=__webpack_require__(250).get("invite"),t=void 0;return e&&6==e.length&&(t=e),t},isLineContr:function(e){return"hLine"==e.baseContrType||"vLine"==e.baseContrType},getAtUserText:function(e){for(var t=e,n=/(@[^@|(^<\/span>)]+) /g,r=n.exec(t);null!=r;r=n.exec(t))t=t.slice(0,r.index)+'<span class="pink-text">'+r[1]+"</span> "+t.slice(r.index+r[0].length);return t},getBorderStyle:function(e,t){var n=["solid","dashed","dotted"],r=[0,1,2];switch(e){case"styles":return n;case"values":return r;case"style":return n[t]||n[0];case"value":return r[t]||r[0]}},hasSpecialBorderStyle:function(e){return e&&e[1]&&"solid"!=$.getBorderStyle("style",e[2])},getOddNum:function(e){var t=Math.round(e);return t%2!=0?t+1:t},countDaySpace:function(e){var t=new Date(window.serverDate),n=new Date(e),r=Math.round((n.getTime()-t.getTime()+12096e5)/864e5);return r>0?r:0},copyToClipboard:function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(n){log(n)}document.body.removeChild(t)},contrSetAddKey:function(e,t){return e?e+$.firstToUpperCase(t):t},setColorOpacity:function(e,t){if($.isString(e)){var n=e.match(/(\d(\.\d+)?)+/g);return"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"}return e},getColorOpacity:function(e){var t=e.split(",")[3];return parseFloat(t)},getEventTarget:function(e){var t=e.event,n="";switch(t.type){case"contentMousedown":case"contextmenu":case"contentDblclick":n=t.currentTarget.clickStartShape;break;case"mouseenter":case"mousemove":case"mouseleave":case"dblclick":case"contentMousemove":n=t.currentTarget}return n},getEventAttr:function(e){var t=e.key;return $.getEventTarget(e).attrs[t]}}),reactHotLoader,leaveModule;exports["default"]=_default,window.isPrdShow=!0,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/commonJqueryExtend.js"),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$;t["default"]=r.extend(r,{changeTimeStyle:function(e){var t=new Date,n=t.getTime()-e.getTime();return n<6e4?"刚刚":n>=6e4&&n<36e5?Math.floor(n/1e3/60)+"分钟前":t.getDate()===e.getDate()&&n<864e5?"今天"+e.getHours()+":"+(e.getMinutes()/10<1?"0"+e.getMinutes():e.getMinutes()):t.getDate()===e.getDate()+1&&n<1728e5?"昨天"+e.getHours()+":"+e.getMinutes():t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()?e.getMonth()+1+"/"+e.getDate()+" "+e.getHours()+":"+e.getMinutes():t.getFullYear()===e.getFullYear()?e.getMonth()+1+"/"+e.getDate():e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()},sortByTimeAdd:function(e){return e.sort(function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})},sortByTimeMinus:function(e){return e.sort(function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})},getMousePos:function(e){var t=e||window.event,n=r.getElById("project-panel");return n?{x:t.clientX-r.offset(n,!1,!1).left,y:t.clientY-r.offset(n,!1,!1).top}:{x:0,y:0}},getRandomRGBA:function(e){return void 0===e&&(e=!1),"rgba("+Math.round(255*Math.random())+", "+Math.round(255*Math.random())+", "+Math.round(255*Math.random())+", "+(e?1*Math.random():1)+")"},getElByClassName:function(e,t){return window.document.getElementsByClassName(e)[t-1]},addHoverClass:function(e){var t=e.currentTarget.getAttribute("data-index"),n=r.query(".hover");if(n&&r.removeClass(n,"hover"),-1!=t){var o=r.getElById("project-panel"),a=r.query(".spot-box[data-index='"+t+"']");a&&(r.hasClass(o,"is-hover-dot")||r.addClass(o,"is-hover-dot"),r.hasClass(a,"hover")||r.addClass(a,"hover"))}},removeHoverClass:function(e){var t=e.currentTarget.getAttribute("data-index");if(-1!=t){var n=r.getElById("project-panel"),o=r.query(".spot-box[data-index='"+t+"']");o&&(r.hasClass(n,"is-hover-dot")&&r.removeClass(n,"is-hover-dot"),r.hasClass(o,"hover")&&r.removeClass(o,"hover"))}},getCreateDotPosi:function(e,t){return e.x==t.x&&t.x==t.y?{posi:{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y)},area:{w:0,h:0}}:{posi:{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y)},area:{w:Math.abs(e.x-t.x),h:Math.abs(e.y-t.y)}}},getStartEndPosiByTwoPosi:function(e,t){var n=r.getCreateDotPosi(e,t),o=n.posi,a=n.area;return{startPosi:{x:o.x,y:o.y},endPosi:{x:o.x+a.w,y:o.y+a.h}}},loadLazyErrorPopup:function(){var e=n(137).lazyErrorPopup;e&&e()},isProjectAuther:function(e){var t=window.loginInfo;return e.replyId?!(!t||t.id!=e.parentId):!(!t||t.id!=e.user.userId)},isCross:function(e,t){return!(e.left+e.width<=t.left||e.left>=t.left+t.width||e.top>=t.top+t.height||e.top+e.height<=t.top)},isHequalS:function(e,t){return e.left==t.left&&e.top==t.top&&e.width==t.width&&e.height==t.height},changeHorTextStyle:function(e,t){var n="";switch(e){case"hL":n=t?"left":"左对齐";break;case"hC":n=t?"center":"居中";break;case"hR":n=t?"right":"右对齐";break;case"hJ":n=t?"justify":"两侧对齐"}return n},changeVerTextStyle:function(e,t){var n="";switch(e){case"vT":n=t?"top":"顶对齐";break;case"vM":n=t?"middle":"居中";break;case"vB":n=t?"bottom":"底对齐"}return n},getColorData:function(e){},comLineHeight:function(e,t,n,r){var o;switch(e){case"top":o=t;break;case"middle":o=n;break;case"bottom":o=2*r-t}return o},saveTwoBit:function(e,t,n){return"rem"==t?e%1==0?e:10*e%1==0?e.toFixed(1):(e=Number((Math.round(100*e)/100).toFixed(2)))%1==0?Math.round(e):10*e%1==0?Math.round(10*e)/10:e:n?Math.ceil(e):Math.round(e)},changeColorUnit:function(e,t){var n;switch(t){case"RGBA":n=e;break;case"HEX":n=this.changeHEX(e);break;case"ARGB":n=this.changeARGB(e)}return n},changeHEX:function(e){var t="";return t+="#",e.replace(/rgba/,"").replace(/[()]/g,"").split(",").splice(0,3).forEach(function(e){1==Number(e).toString(16).length?t+="0"+Number(e).toString(16):t+=Number(e).toString(16)}),t},changeARGB:function(e){var t="";t+="#";var n=e.replace(/rgba/,"").replace(/[()]/g,"").split(",")[3],r=Math.round(100*Number(n)).toString(16);return t+=1==r.length?"0"+r:r,e.replace(/rgba/,"").replace(/[()]/g,"").split(",").splice(0,3).forEach(function(e){1==Number(e).toString(16).length?t+="0"+Number(e).toString(16):t+=Number(e).toString(16)}),t},changeToAndroid:function(e,t,n){var r=[];"text"==e.type?r.push("<TextView"):r.push("<View");for(var o=0,a=e.code;o<a.length;o++){var i=a[o];switch(i.option){case"width":r.push('android:layout_width="'+this.saveTwoBit(i.value/n,t)+t+'"');break;case"height":r.push('android:layout_height="'+this.saveTwoBit(i.value/n,t)+t+'"');break;case"color":r.push('android:textColor="'+this.changeARGB(i.value)+'"');break;case"content":r.push('android:text="'+i.value+'"');break;case"font-size":r.push('android:textSize="'+this.saveTwoBit(i.value/n,t)+t+'"');break;case"background":r.push('android:background="'+this.changeARGB(i.value)+'"')}}return r.push("/>"),r},isSupportFontFamily:function(e){if("string"!=typeof e)return!1;var t="Arial";if(e.toLowerCase()==t.toLowerCase())return!0;var n=100,r=100,o=document.createElement("canvas"),a=o.getContext("2d");o.width=n,o.height=r,a.textAlign="center",a.fillStyle="black",a.textBaseline="middle";var i=function(e){a.clearRect(0,0,n,r),a.font="100px "+e+", "+t,a.fillText("a",50,50);var o=a.getImageData(0,0,n,r).data;return[].slice.call(o).filter(function(e){return 0!=e})};return i(t).join("")!==i(e).join("")},getSupportFont:function(){var e=this,t="";return["PingFang SC","Microsoft YaHei","微软雅黑","Microsoft JhengHei","黑体","STHeiti"].forEach(function(n){e.isSupportFontFamily(n)&&!t&&(t=n)}),t||"黑体"},changeArrText:function(e){var t="";if(e.length)return e.forEach(function(e){t+=e+"\n"}),t}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(19));t.lazyErrorPopup=function(){a["default"].init({width:640,title:"资源加载失败",cancelBtnName:"取消",submitBtnName:"刷新",content:o["default"].createElement("div",{className:"popup-content"},o["default"].createElement("span",null,"网络资源加载失败，请立即刷新再进行编辑？")),submitBtnFunc:function(){window.location.reload()}})}},function(e,t,n){"use strict";(function(e){var r,o,a=s(n(82)),i=s(n(17));function s(e){return e&&e.__esModule?e:{"default":e}}(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var l,u,c,d=function(){function e(e){return null==e?String(e):V[K.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function o(t){return"object"==e(t)}function s(e){return o(e)&&!n(e)&&(0,i["default"])(e)==Object.prototype}function l(e){return"number"==typeof e.length}function u(e){return e.length>0?C.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function d(e){return e in D?D[e]:D[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function f(e,t){return"number"!=typeof t||A[c(e)]?t:t+"px"}function p(e){return"children"in e?O.call(e.children):C.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function h(e,t,n){for(w in t)n&&(s(t[w])||Y(t[w]))?(s(t[w])&&!s(e[w])&&(e[w]={}),Y(t[w])&&!Y(e[w])&&(e[w]=[]),h(e[w],t[w],n)):t[w]!==b&&(e[w]=t[w])}function g(e,t){return null==t?C(e):C(e).filter(t)}function y(e,n,r,o){return t(n)?n.call(e,r,o):n}function m(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function _(e,t){var n=e.className||"",r=n&&n.baseVal!==b;return t===b?r?n.baseVal:n:void(r?n.baseVal=t:e.className=t)}function v(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?C.parseJSON(e):e):e}catch(w){return e}}var b,w,C,x,S,P,k=[],O=k.slice,E=k.filter,T=window.document,M={},D={},A={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},j=/^\s*<(\w+|!)[^>]*>/,I=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,R=/^(?:body|html)$/i,B=/([A-Z])/g,N=["val","css","html","text","data","width","height","offset"],F=T.createElement("table"),H=T.createElement("tr"),$={tr:T.createElement("tbody"),tbody:F,thead:F,tfoot:F,td:H,th:H,"*":T.createElement("div")},z=/complete|loaded|interactive/,U=/^[\w-]*$/,V={},K=V.toString,G={},q=T.createElement("div"),W={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Y=Array.isArray||function(e){return e instanceof Array};return G.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,o=e.parentNode,a=!o;return a&&(o=q).appendChild(e),r=~G.qsa(o,t).indexOf(e),a&&q.removeChild(e),r},S=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},P=function(e){return E.call(e,function(t,n){return e.indexOf(t)==n})},G.fragment=function(e,t,n){var r,o,a;return I.test(e)&&(r=C(T.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(L,"<$1></$2>")),t===b&&(t=j.test(e)&&RegExp.$1),t in $||(t="*"),(a=$[t]).innerHTML=""+e,r=C.each(O.call(a.childNodes),function(){a.removeChild(this)})),s(n)&&(o=C(r),C.each(n,function(e,t){N.indexOf(e)>-1?o[e](t):o.attr(e,t)})),r},G.Z=function(e,t){return(e=e||[]).__proto__=C.fn,e.selector=t||"",e},G.isZ=function(e){return e instanceof G.Z},G.init=function(e,n){var r;if(!e)return G.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&j.test(e))r=G.fragment(e,RegExp.$1,n),e=null;else{if(n!==b)return C(n).find(e);r=G.qsa(T,e)}else{if(t(e))return C(T).ready(e);if(G.isZ(e))return e;if(Y(e))r=function(e){return E.call(e,function(e){return null!=e})}(e);else if(o(e))r=[e],e=null;else if(j.test(e))r=G.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==b)return C(n).find(e);r=G.qsa(T,e)}}return G.Z(r,e)},(C=function(e,t){return G.init(e,t)}).extend=function(e){var t,n=O.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){h(e,n,t)}),e},G.qsa=function(e,t){var n,o="#"==t[0],a=!o&&"."==t[0],i=o||a?t.slice(1):t,s=U.test(i);return r(e)&&s&&o?(n=e.getElementById(i))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:O.call(s&&!o?a?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},C.contains=T.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},C.type=e,C.isFunction=t,C.isWindow=n,C.isArray=Y,C.isPlainObject=s,C.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},C.inArray=function(e,t,n){return k.indexOf.call(t,e,n)},C.camelCase=S,C.trim=function(e){return null==e?"":String.prototype.trim.call(e)},C.uuid=0,C.support={},C.expr={},C.map=function(e,t){var n,r,o,a=[];if(l(e))for(r=0;r<e.length;r++)null!=(n=t(e[r],r))&&a.push(n);else for(o in e)null!=(n=t(e[o],o))&&a.push(n);return u(a)},C.each=function(e,t){var n,r;if(l(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},C.grep=function(e,t){return E.call(e,t)},window.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()}),C.fn={forEach:k.forEach,reduce:k.reduce,push:k.push,sort:k.sort,indexOf:k.indexOf,concat:k.concat,map:function(e){return C(C.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return C(O.apply(this,arguments))},ready:function(e){return z.test(T.readyState)&&T.body?e(C):T.addEventListener("DOMContentLoaded",function(){e(C)},!1),this},get:function(e){return e===b?O.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return k.every.call(this,function(t,n){return!1!==e.call(t,n,t)}),this},filter:function(e){return t(e)?this.not(this.not(e)):C(E.call(this,function(t){return G.matches(t,e)}))},add:function(e,t){return C(P(this.concat(C(e,t))))},is:function(e){return this.length>0&&G.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==b)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):l(e)&&t(e.item)?O.call(e):C(e);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return C(n)},has:function(e){return this.filter(function(){return o(e)?C.contains(this,e):C(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!o(e)?e:C(e)},last:function(){var e=this[this.length-1];return e&&!o(e)?e:C(e)},find:function(e){var t=this;return e?"object"==(void 0===e?"undefined":(0,a["default"])(e))?C(e).filter(function(){var e=this;return k.some.call(t,function(t){return C.contains(t,e)})}):1==this.length?C(G.qsa(this[0],e)):this.map(function(){return G.qsa(this,e)}):C()},closest:function(e,t){var n=this[0],o=!1;for("object"==(void 0===e?"undefined":(0,a["default"])(e))&&(o=C(e));n&&!(o?o.indexOf(n)>=0:G.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return C(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=C.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return g(t,e)},parent:function(e){return g(P(this.pluck("parentNode")),e)},children:function(e){return g(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return O.call(this.childNodes)})},siblings:function(e){return g(this.map(function(e,t){return E.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return C.map(this,function(t){return t[e]})},show:function(){return this.each(function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,M[e]||(t=T.createElement(e),T.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),M[e]=n),M[e]))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=C(e).get(0),o=r.parentNode||this.length>1;return this.each(function(t){C(this).wrapAll(n?e.call(this,t):o?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){C(this[0]).before(e=C(e));for(var t;(t=e.children()).length;)e=t.first();C(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=C(this),o=r.contents(),a=n?e.call(this,t):e;o.length?o.wrapAll(a):r.append(a)})},unwrap:function(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=C(this);(e===b?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return C(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return C(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;C(this).empty().append(y(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=y(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(e))for(w in e)m(this,w,e[w]);else m(this,e,y(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:b},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){m(this,e)},this)})},prop:function(e,t){return e=W[e]||e,1 in arguments?this.each(function(n){this[e]=y(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(B,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?v(r):b},val:function(e){return 0 in arguments?this.each(function(t){this.value=y(this,e,t,this.value)}):this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=C(this),r=y(this,e,t,n.offset()),o=n.offsetParent().offset(),a={top:r.top-o.top,left:r.left-o.left};"static"==n.css("position")&&(a.position="relative"),n.css(a)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r,o=this[0];if(!o)return;if(r=getComputedStyle(o,""),"string"==typeof t)return o.style[S(t)]||r.getPropertyValue(t);if(Y(t)){var a={};return C.each(t,function(e,t){a[t]=o.style[S(t)]||r.getPropertyValue(t)}),a}}var i="";if("string"==e(t))n||0===n?i=c(t)+":"+f(t,n):this.each(function(){this.style.removeProperty(c(t))});else for(w in t)t[w]||0===t[w]?i+=c(w)+":"+f(w,t[w])+";":this.each(function(){this.style.removeProperty(c(w))});return this.each(function(){this.style.cssText+=";"+i})},index:function(e){return e?this.indexOf(C(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&k.some.call(this,function(e){return this.test(_(e))},d(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){x=[];var n=_(this);y(this,e,t,n).split(/\s+/g).forEach(function(e){C(this).hasClass(e)||x.push(e)},this),x.length&&_(this,n+(n?" ":"")+x.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===b)return _(this,"");x=_(this),y(this,e,t,x).split(/\s+/g).forEach(function(e){x=x.replace(d(e)," ")}),_(this,x.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var r=C(this);y(this,e,n,_(this)).split(/\s+/g).forEach(function(e){(t===b?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===b?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===b?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=R.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(C(e).css("margin-top"))||0,n.left-=parseFloat(C(e).css("margin-left"))||0,r.top+=parseFloat(C(t[0]).css("border-top-width"))||0,r.left+=parseFloat(C(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||T.body;e&&!R.test(e.nodeName)&&"static"==C(e).css("position");)e=e.offsetParent;return e})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});C.fn[e]=function(o){var a,i=this[0];return o===b?n(i)?i["inner"+t]:r(i)?i.documentElement["scroll"+t]:(a=this.offset())&&a[e]:this.each(function(t){(i=C(this)).css(e,y(this,o,t,i[e]()))})}}),["after","prepend","before","append"].forEach(function(t,n){var r=n%2;C.fn[t]=function(){var t,o,a=C.map(arguments,function(n){return"object"==(t=e(n))||"array"==t||null==n?n:G.fragment(n)}),i=this.length>1;return a.length<1?this:this.each(function(e,t){o=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var s=C.contains(T.documentElement,o);a.forEach(function(e){if(i)e=e.cloneNode(!0);else if(!o)return C(e).remove();o.insertBefore(e,t),s&&function n(e,t){t(e);for(var r=0,o=e.childNodes.length;o>r;r++)n(e.childNodes[r],t)}(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},C.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return C(e)[t](this),this}}),G.Z.prototype=C.fn,G.uniq=P,G.deserializeValue=v,C.zepto=G,C}();window.Zepto=d,void 0===window.$&&(window.$=d),function(e){function t(e){return e._zid||(e._zid=d++)}function n(e,n,o,a){if((n=r(n)).ns)var i=function(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}(n.ns);return(g[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!i.test(e.ns)||o&&t(e.fn)!==t(o)||a&&e.sel!=a)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function o(e,t){return e.del&&!m&&e.e in _||!!t}function a(e){return v[e]||m&&_[e]||e}function i(n,i,s,u,d,f,p){var h=t(n),y=g[h]||(g[h]=[]);i.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(s);var i=r(t);i.fn=s,i.sel=d,i.e in v&&(s=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=f;var h=f||s;i.proxy=function(e){if(!(e=l(e)).isImmediatePropagationStopped()){e.data=u;var t=h.apply(n,e._args==c?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},i.i=y.length,y.push(i),"addEventListener"in n&&n.addEventListener(a(i.e),i.proxy,o(i,p))})}function s(e,r,i,s,l){var u=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,i,s).forEach(function(t){delete g[u][t.i],"removeEventListener"in e&&e.removeEventListener(a(t.e),t.proxy,o(t,l))})})}function l(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(x,function(e,r){var o=n[e];t[e]=function(){return this[r]=b,o&&o.apply(n,arguments)},t[r]=w}),(n.defaultPrevented!==c?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=b)),t}function u(e){var t,n={originalEvent:e};for(t in e)C.test(t)||e[t]===c||(n[t]=e[t]);return l(n,e)}var c,d=1,f=Array.prototype.slice,p=e.isFunction,h=function(e){return"string"==typeof e},g={},y={},m="onfocusin"in window,_={focus:"focusin",blur:"focusout"},v={mouseenter:"mouseover",mouseleave:"mouseout"};y.click=y.mousedown=y.mouseup=y.mousemove="MouseEvents",e.event={add:i,remove:s},e.proxy=function(n,r){var o=2 in arguments&&f.call(arguments,2);if(p(n)){var a=function(){return n.apply(r,o?o.concat(f.call(arguments)):arguments)};return a._zid=t(n),a}if(h(r))return o?(o.unshift(n[r],n),e.proxy.apply(null,o)):e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var b=function(){return!0},w=function(){return!1},C=/^([A-Z]|returnValue$|layer[XY]$)/,x={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,o,a){var l,d,g=this;return t&&!h(t)?(e.each(t,function(e,t){g.on(e,n,r,t,a)}),g):(h(n)||p(o)||!1===o||(o=r,r=n,n=c),(p(r)||!1===r)&&(o=r,r=c),!1===o&&(o=w),g.each(function(c,p){a&&(l=function(e){return s(p,e.type,o),o.apply(this,arguments)}),n&&(d=function(t){var r,a=e(t.target).closest(n,p).get(0);return a&&a!==p?(r=e.extend(u(t),{currentTarget:a,liveFired:p}),(l||o).apply(a,[r].concat(f.call(arguments,1)))):void 0}),i(p,t,o,r,n,d||l)}))},e.fn.off=function(t,n,r){var o=this;return t&&!h(t)?(e.each(t,function(e,t){o.off(e,n,t)}),o):(h(n)||p(r)||!1===r||(r=n,n=c),!1===r&&(r=w),o.each(function(){s(this,t,r,n)}))},e.fn.trigger=function(t,n){return(t=h(t)||e.isPlainObject(t)?e.Event(t):l(t))._args=n,this.each(function(){t.type in _&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var o,a;return this.each(function(i,s){(o=u(h(t)?e.Event(t):t))._args=r,o.target=s,e.each(n(s,t.type||t),function(e,t){return a=t.proxy(o),!o.isImmediatePropagationStopped()&&void 0})}),a},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){h(e)||(e=(t=e).type);var n=document.createEvent(y[e]||"Events"),r=!0;if(t)for(var o in t)"bubbles"==o?r=!!t[o]:n[o]=t[o];return n.initEvent(e,r,!0),l(n)}}(d),function(e){function t(t,n,r){var o=e.Event(n);return e(t).trigger(o,r),!o.isDefaultPrevented()}function n(e,n,r,o){return e.global?t(n||y,r,o):void 0}function r(t){t.global&&0==e.active++&&n(t,null,"ajaxStart")}function o(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function a(e,t){var r=t.context;return!1!==t.beforeSend.call(r,e,t)&&!1!==n(t,r,"ajaxBeforeSend",[e,t])&&void n(t,r,"ajaxSend",[e,t])}function i(e,t,r,o){var a=r.context,i="success";r.success.call(a,e,i,t),o&&o.resolveWith(a,[e,i,t]),n(r,a,"ajaxSuccess",[t,r,e]),l(i,t,r)}function s(e,t,r,o,a){var i=o.context;o.error.call(i,r,t,e),a&&a.rejectWith(i,[r,t,e]),n(o,i,"ajaxError",[r,o,e||t]),l(t,r,o)}function l(e,t,r){var a=r.context;r.complete.call(a,t,e),n(r,a,"ajaxComplete",[t,r]),o(r)}function u(){}function c(e){return e&&(e=e.split(";",2)[0]),e&&(e==w?"html":e==b?"json":_.test(e)?"script":v.test(e)&&"xml")||"text"}function d(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function f(t,n,r,o){return e.isFunction(n)&&(o=r,r=n,n=void 0),e.isFunction(r)||(o=r,r=void 0),{url:t,data:n,success:r,dataType:o}}var p,h,g=0,y=window.document,m=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,_=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,b="application/json",w="text/html",C=/^\s*$/,x=y.createElement("a");x.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var r,o,l=t.jsonpCallback,u=(e.isFunction(l)?l():l)||"jsonp"+ ++g,c=y.createElement("script"),d=window[u],f=function(t){e(c).triggerHandler("error",t||"abort")},p={abort:f};return n&&n.promise(p),e(c).on("load error",function(a,l){clearTimeout(o),e(c).off().remove(),"error"!=a.type&&r?i(r[0],p,t,n):s(null,l||"error",p,t,n),window[u]=d,r&&e.isFunction(d)&&d(r[0]),d=r=void 0}),!1===a(p,t)?(f("abort"),p):(window[u]=function(){r=arguments},c.src=t.url.replace(/\?(.+)=\?/,"?$1="+u),y.head.appendChild(c),t.timeout>0&&(o=setTimeout(function(){f("timeout")},t.timeout)),p)},e.ajaxSettings={type:"GET",beforeSend:u,success:u,error:u,complete:u,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:b,xml:"application/xml, text/xml",html:w,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,o=e.extend({},t||{}),l=e.Deferred&&e.Deferred();for(p in e.ajaxSettings)void 0===o[p]&&(o[p]=e.ajaxSettings[p]);r(o),o.crossDomain||((n=y.createElement("a")).href=o.url,n.href=n.href,o.crossDomain=x.protocol+"//"+x.host!=n.protocol+"//"+n.host),o.url||(o.url=window.location.toString()),function(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=d(t.url,t.data),t.data=void 0)}(o);var f=o.dataType,g=/\?.+=\?/.test(o.url);if(g&&(f="jsonp"),!1!==o.cache&&(t&&!0===t.cache||"script"!=f&&"jsonp"!=f)||(o.url=d(o.url,"_="+Date.now())),"jsonp"==f)return g||(o.url=d(o.url,o.jsonp?o.jsonp+"=?":!1===o.jsonp?"":"callback=?")),e.ajaxJSONP(o,l);var m,_=o.accepts[f],v={},b=function(e,t){v[e.toLowerCase()]=[e,t]},w=/^([\w-]+:)\/\//.test(o.url)?RegExp.$1:window.location.protocol,S=o.xhr(),P=S.setRequestHeader;if(l&&l.promise(S),o.crossDomain||b("X-Requested-With","XMLHttpRequest"),b("Accept",_||"*/*"),(_=o.mimeType||_)&&(_.indexOf(",")>-1&&(_=_.split(",",2)[0]),S.overrideMimeType&&S.overrideMimeType(_)),(o.contentType||!1!==o.contentType&&o.data&&"GET"!=o.type.toUpperCase())&&b("Content-Type",o.contentType||"application/x-www-form-urlencoded"),o.headers)for(h in o.headers)b(h,o.headers[h]);if(S.setRequestHeader=b,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=u,clearTimeout(m);var t,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&"file:"==w){f=f||c(o.mimeType||S.getResponseHeader("content-type")),t=S.responseText;try{"script"==f?(0,eval)(t):"xml"==f?t=S.responseXML:"json"==f&&(t=C.test(t)?null:e.parseJSON(t))}catch(p){n=p}n?s(n,"parsererror",S,o,l):i(t,S,o,l)}else s(S.statusText||null,S.status?"error":"abort",S,o,l)}},!1===a(S,o))return S.abort(),s(null,"abort",S,o,l),S;if(o.xhrFields)for(h in o.xhrFields)S[h]=o.xhrFields[h];var k=!("async"in o)||o.async;for(h in S.open(o.type,o.url,k,o.username,o.password),v)P.apply(S,v[h]);return o.timeout>0&&(m=setTimeout(function(){S.onreadystatechange=u,S.abort(),s(null,"timeout",S,o,l)},o.timeout)),S.send(o.data?o.data:null),S},e.get=function(){return e.ajax(f.apply(null,arguments))},e.post=function(){var t=f.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=f.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var o,a=this,i=t.split(/\s/),s=f(t,n,r),l=s.success;return i.length>1&&(s.url=i[0],o=i[1]),s.success=function(t){a.html(o?e("<div>").html(t.replace(m,"")).find(o):t),l&&l.apply(a,arguments)},e.ajax(s),this};var S=encodeURIComponent;e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(S(t)+"="+S(n))},function o(t,n,r,a){var i,s=e.isArray(n),l=e.isPlainObject(n);e.each(n,function(n,u){i=e.type(u),a&&(n=r?a:a+"["+(l||"object"==i||"array"==i?n:"")+"]"),!a&&s?t.add(u.name,u.value):"array"==i||!r&&"object"==i?o(t,u,r,n):t.add(n,u)})}(r,t,n),r.join("&").replace(/%20/g,"+")}}(d),(l=d).fn.serializeArray=function(){var e,t,n=[],r=function o(t){return t.forEach?t.forEach(o):void n.push({name:e,value:t})};return this[0]&&l.each(this[0].elements,function(n,o){t=o.type,(e=o.name)&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=t&&"reset"!=t&&"button"!=t&&"file"!=t&&("radio"!=t&&"checkbox"!=t||o.checked)&&r(l(o).val())}),n},l.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},l.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var t=l.Event("submit");this.eq(0).trigger(t),t.isDefaultPrevented()||this.get(0).submit()}return this},function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(n){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(n){return null}}}}(d),window.Zepto=d,"$"in window||(window.$=d),(r=function(){return d}.apply(t,[]))===undefined||(e.exports=r),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&u.register(d,"Zepto","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/zepto.min.js"),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&c(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(39),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=window.$.extend(window.$.fn,{showTip:function(e){var t=$(this),n=void 0,r=(0,i["default"])({text:"文字提示",direction:"top",changePosi:10,changeOtherPosi:0},e),o=t.getDomPosition();switch((n=0===$("body .C_tip").length?$('<div class="C_tip"><span>'+r.text+"</span></div>").hide().appendTo($("body")):$("body>.C_tip span").text(r.text).parent().hide())[0].className="C_tip",n.show(),n.width(n.find("span").width()),r.direction){case"left":n.addClass("tip_left").css({left:o[0]+o[2]+r.changePosi,top:o[1]+r.changeOtherPosi});break;case"right":n.addClass("tip_right").css({left:o[0]-o[2]-n.find("span").width()+r.changePosi,top:o[1]+r.changeOtherPosi});break;case"top":n.addClass("tip_top").css({left:o[0]+(o[2]-n.width())/2+r.changeOtherPosi,top:o[1]+o[3]+r.changePosi});break;case"bottom":n.addClass("tip_bottom").css({left:o[0]+(o[2]-n.width())/2+r.changeOtherPosi,top:o[1]-55+r.changePosi})}return t},getDomPosition:function(){var e=$(this).offset();return[e.left,e.top,e.width,e.height]},getCssPosition:function(){var e=$(this);return[parseInt(e.css("left")),parseInt(e.css("top")),e.width(),e.height()]},scrollUnique:function(){return $(this).each(function(){var e="mousewheel";window.document.mozHidden!==undefined&&(e="DOMMouseScroll"),$(this).on(e,function(e){var t=this.scrollTop,n=this.scrollHeight,r=this.clientHeight,o=e.originalEvent.wheelDelta?e.originalEvent.wheelDelta:-(e.originalEvent.detail||0);(o>0&&t<=o||o<0&&n-r-t<=-1*o)&&(this.scrollTop=o>0?0:n,e.preventDefault())})})}});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/commonJqueryFnExtend.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=n(344),o=n(920),a=n(840),i=n(1197),s=n(592);function l(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(o){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(n)}catch(o){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],o=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;o<a;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+n,a)))):r.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+n,a)))),o+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var n=65536,r=t.getTypeOf(e),o=!0;if("uint8array"===r?o=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(o=c.applyCanBeUsed.nodebuffer),o)for(;n>1;)try{return c.stringifyByChunk(e,r,n)}catch(a){n=Math.floor(n/2)}return c.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=d;var p={};p.string={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,a.allocBuffer(e.length))}},p.array={string:d,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},p.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return a.newBufferFrom(e)}},p.nodebuffer={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:l},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var r=t.getTypeOf(n);return p[r][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&a.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},t.delay=function(e,t,n){i(function(){e.apply(n||null,t||[])})},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,a,i,l){return s.Promise.resolve(n).then(function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(n){var c,d=t.getTypeOf(n);return d?("arraybuffer"===d?n=t.transformTo("uint8array",n):"string"===d&&(l?n=o.decode(n):a&&!0!==i&&(n=u(c=n,r.uint8array?new Uint8Array(c.length):new Array(c.length)))),n):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(550),o=n(553);e.exports=function(e,t){var n=o(e,t);return r(n)?n:undefined}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});window.$;t.elementBaseVal={text:{title:"文本",keyboard:"T",width:900,maxWidth:900,minWidth:20,noScaleHeight:!0,fontSize:14,color:"#505050",addCreateVal:{textFontSize:{fontSize:14,fontSizeText:"标题 1",isInnerLink:!1},content:{document:{nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:"默认文本"}]}]}]}}}},table:{title:"表格",keyboard:"S",width:900,height:240,maxWidth:900,maxHeight:3e3,minCellSize:20,addCreateVal:{columnPosi:[225,225,225,225],linePosi:[48,48,48,48,48],outerBorder:["rgba(198, 198, 198, 1)",1],innerBorder:["rgba(198, 198, 198, 1)",1],hasBackColor:!0,backColor:"#ffffff",rowMin:[],lineMin:[],child:{},styleIndex:0,shadow:0,bgColor:"#383838",textColor:"#383838",textAlign:"left",fontSize:14}},image:{title:"图片",keyboard:"S",width:400,height:220,maxWidth:900,minWidth:20,minHeight:20,isUniformScale:!0},line:{title:"连线",keyboard:"L",width:300,height:300,isMenuOpen:!1},page:{title:"页面快照",maxWidth:900,width:window.isPc?360:188,height:window.isPc?200:334,minWebW:90,minWebH:50,minMobileW:50,minMobileH:90,isUniformScale:!0,addCreateVal:{isOpen:!1,isCreating:!1,isShowName:!1,hasBorder:!1,phoneShellType:"iPhone6",borderType:"normal-border",modifyTitle:""}},contr:{title:"组件快照",width:150,height:150,maxWidth:900,minWidth:50,minHeight:50,isUniformScale:!0,addCreateVal:{isOpen:!1,isCreating:!1,isTutorial:!1,isShowName:!1,hasBorder:!1,modifyTitle:""}},pageflow:{title:"页面流程图",width:900,height:500,maxWidth:900,maxHeight:3e3,minWidth:90,minHeight:50,addCreateVal:{pageFlowId:"all",isOpen:!1,isCreating:!1,selectIndex:-1,borderType:""}},preview:{title:"交互原型",width:900,height:500,maxWidth:900,maxHeight:3e3,minWidth:90,minHeight:50,addCreateVal:{previewMode:"all"}},projectView:{title:"项目总览",width:900,height:500,maxWidth:900,maxHeight:3e3,minWidth:90,minHeight:50},webView:{title:"网页",width:900,height:600,maxWidth:900,maxHeight:3e3,minWidth:90,minHeight:60,cardW:360,cardH:100,maxCardH:300,minCardW:50,minCardH:20,noScaleHeight:!0,addCreateVal:{webMode:"web",webUrl:"",webDesc:"",isInnerLink:!1}},pageRemark:{title:"页面备注",minWidth:100,minHeight:100}},t.elementCanvasBaseVal={OFFSET_X:50,ABSORB_DISTANCE:15,CANVAS_WIDTH:950,LINE_MIN_LENGTH:10,TOP_DISTANCE:129},t["default"]={elementBaseVal:t.elementBaseVal,elementCanvasBaseVal:t.elementCanvasBaseVal}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(482)),l=(window.$,{val:"base"}),u=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setCursor=function(e){e&&l.val!=e&&(l.val=e,u.emitChange())},t.prototype.getCursor=function(){if("base"!=l.val)return l.val;var e="default";switch(s["default"].getToolType()){case"rectangle":e="add-ract";break;case"circular":e="add-circular";break;case"pen":e="pen";break;case"pencil":e="pencil";break;case"frame":case"line":case"arrow":case"triangle":case"pantagram":case"pentagon":case"text":e="crosshair";break;case"notAllowed":e="cursor-not-allowed"}return e},t.prototype.getCursorVal=function(){return l.val},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));t["default"]=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(92)),a=window.$,i=new(function(){function e(){}return e.prototype.getChartPadding=function(e,t,n){var r=[15,5,10,5];return e&&(r[2]+=30,r[3]+=40),t&&(r[0]-=10,r[2]-=10,r[1]+=15,r[3]+=15),n&&(r[2]+=30),r},e.prototype.getType=function(e){var t="";return a.isAdvancedContr(e)?t="advanced":a.isMobileContr(e)?t="mobile":a.isChartContr(e)&&(t="chart"),t},e.prototype.filterTableData=function(e,t,n){var r,a=o["default"].getDefaultData(e,t,n);switch(e){case"miniBar":case"bar":case"horizontalBar":case"miniArea":case"lineChart":if(n){r=a.map(function(e,t){return{x:e.x||"",y:e.y,y2:e.y2,y3:e.y3,y4:e.y4,y5:e.y5,y6:e.y6}});break}r=a.map(function(e,t){return{x:e.x||"",y:+(e.y||0)}});break;case"circle":case"pie":r=a.map(function(e,t){return{x:e.x||"",y:+(e.y||0)}})}return r||a},e.prototype.changeListDataAll=function(e,t,n){void 0===e&&(e=[]),void 0===n&&(n=""),e.forEach(function(e,r){var o=n+(n?"|":"")+r;t&&t(e,o),e.child&&e.child.length>0&&i.changeListDataAll(e.child,t,o)})},e}());t["default"]=i},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(5)),i=o(n(6)),s=o(n(94)),l=o(n(48)),u=o(n(173)),c=o(n(23)),d=o(n(149)),f=n(229),p=n(262),h=n(46),g=n(213),y=window.$;function m(e){var t=a["default"].getView(),n=a["default"].getPages(),o="fixed-view"==t.multiViewType,u=e.curPage||a["default"].getActivePage(!0),h=u&&u.isLandscape;if(i["default"].initCache(),!window.isPc)if(a["default"].isMultiView()&&t.isShowPageStruct&&(t.isShowPageStruct=!1,s["default"].reset()),"multi-view"==t.mode)y.setPhoneConBoxTrans(),f.switchMode("normal",!0);else if(!e.noPosiChange)if(e.noAnim||y.setPhoneConBoxTrans(),o){var g=y.getElById(u.id),m=y.getElById(n[e.index].id);g&&m&&l["default"].changePrevPos({left:0,top:g.offsetTop-m.offsetTop})}else u&&l["default"].changePrevPos({left:u.left-n[e.index].left,top:u.top-n[e.index].top});var _=a["default"].getActivePage();if(_&&(n[_].active=!1),n[e.index].active=!0,e.noEmit||e.isNotSendSocket||d["default"].choosePageSocket(e.index,t.proid),a["default"].selectChange([],!e.noAnim),!window.isPc){var v=n[e.index],b={activePage:r({},v),isFixedView:o,noEmit:e.noEmit};o&&(n[e.index].isLandscape||h)?(l["default"].emitChange(),setTimeout(function(){p.setCenter(b),c["default"].emitMoveChange()},0)):(p.setCenter(b),c["default"].emitMoveChange())}}function _(e,t,n,r,o){var i=a["default"].getPages();i[e]&&i[e].active&&!r||(m({index:e,noAnim:n,curPage:o}),t||(a["default"].emitViewChange(),a["default"].emitPagesChange()))}function v(e){var t=e;m({index:e}),a["default"].isMultiView()||setTimeout(function(){g.cacheCanvasPages(y.noop,[t])},600),u["default"].initSymbolSizeData(),a["default"].emitViewChange(),a["default"].emitPagesChange()}function b(){var e=a["default"].isMultiFree()&&h.getPageFlow(),t=a["default"].getOutLastPageIndex(),n=t;if(e){var r=e.pageVal;if(!r[t])for(var o in r){n=o;break}}else{a["default"].getPages()[t]||(n=a["default"].getPageIndexKey())}return n}t.choosePageFunc=m,t.choosePage=_,t.choosePageAction=v,t.backOutPageIndex=b,t["default"]={choosePage:_,choosePageFunc:m,backOutPageIndex:b,choosePageAction:v}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(33)),a=r(n(1)),i=r(n(164)),s=r(n(12)),l=r(n(19)),u=n(85),c={isOtherEditing:function(e){var t=n(459)["default"].getChoosePageUser(),r=!1;return t&&e.some(function(e){return!!t[e]&&(r=!0,!0)}),!!r&&(setTimeout(function(){s["default"].show("不能删除其他人正在操作的页面")},0),!0)},choosePageSocket:function(e,t){var r=n(5)["default"],o=n(6)["default"],a=n(416)["default"],l=o.getSelect(),u=t||r.getProId(),c=e||r.getActivePage(),d=a.getCooperation().list;if(d&&d.length>1){var f=r.getVersionSet().activeKey;i["default"].emit("choosePage",{proid:u,pageKey:c,versionKey:f,select:l},function(e){e&&0==e.code||s["default"].show(e&&e.msg?e.msg:"err")})}},saveErrorPopup:function(){l["default"].init({width:640,title:"网络连接失败",submitBtnName:"刷新",content:a["default"].createElement("div",{className:"popup-content"},a["default"].createElement("span",{className:"popup-item-title"},"网络连接不通畅，您当前的操作可能无法被保存，建议刷新后使用。")),submitBtnFunc:function(){window.location.reload()}})},isOffLine:function(e){i["default"].emit("autoSave",{isOffLine:!0},function(t){e.callback(t)})},post:function(e){var t=n(6)["default"],r=n(5)["default"],o=n(29)["default"],c=r.getVersionSet().activeKey,d=t.getSelect(),f=r.getActivePage();if(f||(f=undefined),"true"==$.getUrlParam("numsTest")){var p=t.getNums();for(var h in p)p[h]>1e3&&(l["default"].init({width:640,title:"id数据异常！！！",submitBtnName:"我知道了",noCancel:!0,content:a["default"].createElement("div",{className:"popup-content"},a["default"].createElement("span",null,"项目数据异常，请停止操作！"))}),window.log(p[h],h),window.log(e.data,"_option.data"),window.log(t.getContrs(),"getContrs"),window.log(t.getSymbolContr(),"getSymbolContr"))}window.log&&(window.log(e.data,"_option.data"),window.log(t.getContrs(),"getContrs"),window.log(t.getSymbolContr(),"getSymbolContr"),window.log(o.getPrdElements(),"getPrdElements")),i["default"].emit("autoSave",{proid:e.proid,lastSaveKey:e.lastSaveKey,data:e.data,pageIndexKey:e.pageIndexKey,pageNum:u.getStructPagesLength(),name:e.name,versionKey:c,activePage:f,select:d,coverImage:r.getCoverImage()||"",versionIndexKey:r.getVersionIndexKey()||""},function(t){e.callback(t),0!==t.code&&3!==t.code?s["default"].show(t.msg):3===t.code&&window.log(t.msg)})},getSaveKey:function(e){var t=n(5)["default"].getVersionSet().activeKey;o["default"].post("/project/getSaveKey").send({proid:e.proid,lastSaveKey:e.lastSaveKey,versionKey:t}).set("X-API-Key","foobar").set("Accept","application/json").end(function(t,n){var r=n.body;e.callback(r)})},offLinePopup:function(){l["default"].init({width:640,title:"网络连接失败",submitBtnName:"我知道了",noCancel:!0,content:a["default"].createElement("div",{className:"popup-content"},a["default"].createElement("span",null,"网络连接不通畅，已改为离线保存，待网络连接恢复后自动上传至云端。"))})},otherDeleteActivePage:function(e){var t=function(){setTimeout(function(){$.getElById("toMutiviewBtn").click(),l["default"].hide()},0)};l["default"].init({width:640,title:"当前页被他人删除",submitBtnName:"多视图",noCancel:!0,content:a["default"].createElement("div",{className:"popup-content"},a["default"].createElement("span",null,"协同用户 [",a["default"].createElement("span",{className:"redspan"},e.nickName),"]，删除了你当前操作的页面，前往多视图选择其他页面")),submitBtnFunc:function(){t()},closeBtnFunc:function(){t()}})}};t["default"]=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window,o=r.pcParentApp,a=r.phoneSize,i=window.$,s=i.noop,l=i.getOffsetPosi;function u(e){var t=a.width,n=a.height;return c(e?n:t,e?t:n)}function c(e,t){var n=o?window:window.parent,r=n.innerWidth,a=n.innerHeight;return{left:r/2-e/2+1,top:a/2-t/2>=90?a/2-t/2:90}}function d(){window.mouseDownTarget={name:null,posi:[],target:null,moveFunc:s,endFunc:s}}function f(e){void 0===e&&(e=".mainBox.active");var t=window.document.querySelector(e);if(t){var n=l(t),r=t,o=r.offsetWidth,a=void 0===o?0:o,i=r.offsetHeight,s=void 0===i?0:i;return[n[0],n[1],+a,+s]}return[0,0,0,0]}function p(e){var t=f();return e.top+e.height/2<=t[3]/2?"t":"b"}function h(e,t,n,r,o){var a=Math.abs(e-n),i=Math.abs(t-r),s=Math.sqrt(a*a+i*i),l=o?Math.asin(i/s)/Math.PI*180:Math.round(Math.asin(i/s)/Math.PI*180);return e<=n&&t<=r?l+=0:e>n&&t<=r?l=180-l:e>n&&t>r?l+=180:e<=n&&t>r&&(l=360-l),isNaN(l)?0:l}t.midMainboxPosi=u,t.getMidPos=c,t.dragInit=d,t.mainBoxPosi=f,t.getContrPosiYInPage=p,t.getAngle=h,t["default"]={midMainboxPosi:u,getMidPos:c,dragInit:d,mainBoxPosi:f,getContrPosiYInPage:p,getAngle:h}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=f(n(95)),a=f(n(394)),i=f(n(8)),s=f(n(6)),l=f(n(5)),u=f(n(147)),c=n(61),d=n(63);function f(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var p=n(69).EventEmitter,h={tA:"点击",dT:"双击",sH:"左右滑动",sV:"上下滑动",sL:"左滑动",sR:"右滑动",sT:"上滑动",sD:"下滑动",tM:"定时"};"web"==window.platform&&(h={tA:"点击",dT:"双击",hV:"悬停",sH:"左右滑动",sV:"上下滑动",sL:"左滑动",sR:"右滑动",sT:"上滑动",sD:"下滑动",tM:"定时"});var g={page:"跳转页面",state:"状态切换"},y={fadeInOut:"渐隐渐现",leftMenu:"左菜单",rightMenu:"右菜单",leftNav:"左导航",rightNav:"右导航",moveFromLeft:"左移入",moveFromRight:"右移入",moveFromBottom:"下移入",moveFromTop:"上移入",fadeFromLeft:"左弹入",fadeFromRight:"右弹入",fadeFromBottom:"下弹入",fadeFromTop:"上弹入",fadeRightFadeLeft:"左渐入",fadeLeftFadeRight:"右渐入",fadeTopFadeBottom:"下渐入",fadeBottomFadeTop:"上渐入",easingFromLeft:"左推入",easingFromRight:"右推入",easingFromBottom:"下推入",easingFromTop:"上推入",scaleDownFromLeft:"缩放(左)",scaleDownFromRight:"缩放(右)",scaleDownFromBottom:"缩放(下)",scaleDownFromTop:"缩放(上)",glueFromLeft:"折入(左)",glueFromRight:"折入(右)",glueFromBottom:"折入(下)",glueFromTop:"折入(上)"},m={};function _(e){var t={};t[e.data.type]=e.data,t[e.data.type].disable=!1,e.updateEventFunc?e.updateEventFunc(t,e.contr.idx):"page"==e.contr.type?l["default"].updatePageEvents(e.contr.key,t):s["default"].contrUpdate($.getContrId(e.contr),{events:t})}function v(e){if(e.data.type!==e.type)b(e),_(e);else{var t={};t[e.data.type]=e.data,t[e.data.type].disable=!1,e.updateEventFunc?e.updateEventFunc(t,e.contr.idx):"page"==e.contr.type?l["default"].updatePageEvents(e.contr.key,t):(s["default"].contrUpdate($.getContrId(e.contr),{events:t},undefined,!0),s["default"].initCache(),s["default"].emitChange())}}function b(e){var t={};t[e.type]={disable:!0},e.updateEventFunc?e.updateEventFunc(null,e.contr.idx):"page"==e.contr.type?l["default"].updatePageEvents(e.contr.key,t,e.noEmit):s["default"].contrUpdate($.getContrId(e.contr),{events:t},undefined,e.noEmit)}function w(e){var t=e.contr.events,n={};t[e.type].actions.splice(e.index,1),n[e.type]=t[e.type],"page"==e.contr.type?l["default"].updatePageEvents(e.contr.key,n,e.noEmit):s["default"].contrUpdate($.getContrId(e.contr),{events:n},undefined,e.noEmit),n[e.type].actions&&0!=n[e.type].actions.length||b(e)}function C(e){if("deletePage"==e.type){var t=l["default"].getPages();for(var n in t)x(e,n)}else"deleteContr"!=e.type&&"deleteState"!=e.type||x(e)}function x(e,t){var n=void 0;n=e.pageContrs?e.pageContrs:t?(0,d.getPageByHierarchy)(t):(0,d.getActivePageByHierarchy)(),S(e.pageEvents?{events:e.pageEvents}:t?l["default"].getPageByKey(t):l["default"].getActivePage(!0),e),n.forEach(function(t){S(t,e)})}function S(e,t,n){if(e&&($.isAdvancedContr(e.type)||$.isMobileContr(e.type))&&e.data)P(e,t);else{if("saveContr"!=t.type||n||(t.savedContrs=$.getIncludeContrs(e)),k(e,t,e.interfaceId),e.states)for(var r in e.states)for(var o in e.states[r].contrs)k(e.states[r].contrs[o],t,e.interfaceId);if("wrapbox"==e.type)for(var a in e.contrs)S(e.contrs[a],t,!0)}}function P(e,t){u["default"].changeListDataAll(e.data,function(n){n.events&&k(n,t,e.interfaceId)})}function k(e,t,n){if(e.events){for(var r in e.events)e.events[r].actions&&(e.events[r].actions=e.events[r].actions.filter(function(e){var r=!1;switch(t.type){case"deletePage":(r="page"==e.type&&e.page==t.pageId)&&n&&(0,c.setAutoSaveChangePages)("__pageContrs",!0,n);break;case"deleteContr":r="state"==e.type&&e.contr==t.targetId;break;case"deleteState":r="state"==e.type&&e.contr==t.targetId&&e.endState==t.stateId;break;case"savePage":r="page"==e.type&&e.page!=t.pageId;break;case"saveContr":r=!("state"==e.type&&t.savedContrs[e.contr]);break;case"pastePage":r="page"==e.type&&!t.pagesKey[e.page];break;case"pasteContr":if(t.isInProject){if("page"==e.type)r="-1"!=e.page&&$.isUndefined(l["default"].getPageByKey(e.page));else if("state"==e.type&&!t.pasteContrsKey[e.contr]){var o=s["default"].getContrByAll(e.contr);o&&o.interfaceId==l["default"].getActivePage()||(r=!0),r||"-1"===e.endState||(r=$.isUndefined(o.states[e.endState]))}}else r=!("state"==e.type&&t.pasteContrsKey[e.contr])}return!r}),0===e.events[r].actions.length&&delete e.events[r]);0===$.objLength(e.events)&&delete e.events}}function O(e){var t={},n=l["default"].getActivePage(),r=s["default"].getSelect(),o={},a=s["default"].getNowHierarchy();return e.forEach(function(e){var n=$.getContrId(e),i=s["default"].getAllValsContr({contrKey:n});if(o[n]=!0,i.events)for(var l in i.events)i.events[l].actions&&i.events[l].actions.forEach(function(e){-1==r.indexOf(e.contr)&&-1!=a.indexOf(e.contr)&&"state"==e.type&&e.contr!=n&&(t[e.contr]={name:s["default"].getContrName(e.contr)})})}),$("#mainBox"+n).find(".event-tag").parent().parent().each(function(){var e=$(this),n=e.attr("id");if(e.hasClass("isC")&&!e.hasClass("isStartState")&&!o[n]){var r=s["default"].getAllValsContr({contrKey:n});if(r.events)for(var i in r.events)r.events[i].actions&&r.events[i].actions.forEach(function(e){-1!=a.indexOf(n)&&"state"==e.type&&o[e.contr]&&(t[n]={name:s["default"].getContrName(n)})})}}),0===$.objLength(t)?null:t}var E=(0,o["default"])({},p.prototype,{getEventType:function(){return h},getEventTypeKey:function(){var e=[];for(var t in h)e.push(t);return e},getActionType:function(){return g},getPageTransition:function(){return y},setTempSelectedPage:function(e){m.selectedPage=e},deleteRelativedActions:function(e){C(e)},deletePageActions:function(e){x(e)},deleteContrActions:function(e,t){S(e,t)},correctPasteContrEvents:function(e,t){S(e,t)},getEventRelativedContrs:function(e){return O(e)},traverseEvents:function(e){x(e)},getTempData:function(){return m},setSettingData:function(e){m.settingData=e},setEditData:function(e,t){m.editData=e,m.curAction=t},emptyTempData:function(){m={}},deleteAction:function(e){e.noEmit=!0,w(e)},deleteEvent:function(e){e.noEmit=!0,b(e)},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});i["default"].register(function(e){switch(e.actionType){case a["default"].EVENT_CREATE:_(e.options);break;case a["default"].EVENT_EDIT:v(e.options),E.emitChange();break;case a["default"].EVENT_DELETE:case a["default"].EVENT_USEORIGIN:b(e.options),E.emitChange();break;case a["default"].EVENT_DELETEACTION:w(e.options),E.emitChange()}});var T,M,D=E;t["default"]=D,(T=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(T.register(p,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(h,"eventType","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(g,"actionType","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(y,"pageTransition","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(m,"tempData","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(_,"create","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(v,"edit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(b,"deleteEvent","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(w,"deleteAction","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(C,"deleteRelativedActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(x,"deletePageActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(S,"deleteContrActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(P,"deleteAdvancedContrActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(k,"_deleteActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(O,"getEventRelativedContrs","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(E,"EventStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js"),T.register(D,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/EventStore.js")),(M=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&M(e)}).call(this,n(7)(e))},,,function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(5)),i=o(n(23)),s=o(n(27)),l=o(n(49)),u=n(269),c=n(46),d=n(204),f=window.$;function p(e,t,n){var r=a["default"].getView(),o=a["default"].getPages(),l=e.notChangePageFlow,c=void 0!==l&&l,d=t?+e.key:++r.total,p=o[d]=f.extend({active:!!(t&&o[d]&&o[d].active)&&o[d].active,key:d,id:r.type+d,name:"页面 "+d,backColor:"rgba(255, 255, 255, 1)",left:0,top:0,isShow:!0,grid:!0,hierarchy:[],canvasDom:null,isSelect:!1,type:"page"},e);r.num++,t?r.total=Math.max(r.total,+e.key):(c||g(d,{left:p.left,top:p.top}),u.resetPagePos(),n||r.structHierarchy.push({key:d,type:"page"}),setTimeout(function(){i["default"].emitChange(),s["default"].setHoverKey({pageKey:"",contrKey:""})},0))}function h(e){p(e),a["default"].emitViewChange(),a["default"].emitPagesChange()}function g(e,t){var n=c.getPageFlow(),o=a["default"].isFreeView();if(n&&o){var i={},s=t||d.getNewPagePosi(!0);i[e]=r({key:e},s),l["default"].updateSelectPageFlowData({updateVal:{pageVal:i}})}}t.pageCreate=p,t.pageCreateAction=h,t.addPageInPageFlow=g,t["default"]={pageCreate:p,pageCreateAction:h,addPageInPageFlow:g}},function(e,t,n){"use strict";(function(e){var r,o,a,i,s=n(82),l=(a=s)&&a.__esModule?a:{"default":a};undefined,i=function(){function t(){return Le.apply(null,arguments)}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function i(e,t,n,r){return ne(e,t,n,r,!0).utc()}function s(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),e._pf}function u(e){if(null==e._isValid){var t=s(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function c(e){var t=i(NaN);return null!=e?a(s(t),e):s(t).userInvalidated=!0,t}function d(e,t){var n,r,o;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=s(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Be.length>0)for(n in Be)void 0!==(o=t[r=Be[n]])&&(e[r]=o);return e}function f(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===Ne&&(Ne=!0,t.updateOffset(this),Ne=!1)}function p(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function h(e){return 0>e?Math.ceil(e):Math.floor(e)}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=h(t)),n}function y(e,t,n){var r,o=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0;for(r=0;o>r;r++)(n&&e[r]!==t[r]||!n&&g(e[r])!==g(t[r]))&&i++;return i+a}function m(){}function _(e){return e?e.toLowerCase().replace("_","-"):e}function v(t){return!Fe[t]&&void 0!==e&&e&&e.exports,Fe[t]}function b(e,t){var n;return e&&((n=void 0===t?C(e):w(e,t))&&(Re=n)),Re._abbr}function w(e,t){return null!==t?(t.abbr=e,Fe[e]=Fe[e]||new m,Fe[e].set(t),b(e),Fe[e]):(delete Fe[e],null)}function C(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Re;if(!n(e)){if(t=v(e))return t;e=[e]}return function(e){for(var t,n,r,o,a=0;a<e.length;){for(t=(o=_(e[a]).split("-")).length,n=(n=_(e[a+1]))?n.split("-"):null;t>0;){if(r=v(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&y(o,n,!0)>=t-1)break;t--}a++}return null}(e)}function x(e,t){var n=e.toLowerCase();He[n]=He[n+"s"]=He[t]=e}function S(e){return"string"==typeof e?He[e]||He[e.toLowerCase()]:void 0}function P(e){var t,n,r={};for(n in e)o(e,n)&&((t=S(n))&&(r[t]=e[n]));return r}function k(e,n){return function(r){return null!=r?(E(this,e,r),t.updateOffset(this,n),this):O(this,e)}}function O(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function E(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function T(e,t){var n;if("object"==(void 0===e?"undefined":(0,l["default"])(e)))for(n in e)this.set(n,e[n]);else if("function"==typeof this[e=S(e)])return this[e](t);return this}function M(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}function D(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(Ve[e]=o),t&&(Ve[t[0]]=function(){return M(o.apply(this,arguments),t[1],t[2])}),n&&(Ve[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function A(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j(e,t){return e.isValid()?(t=I(t,e.localeData()),Ue[t]=Ue[t]||function(e){var t,n,r=e.match($e);for(t=0,n=r.length;n>t;t++)Ve[r[t]]?r[t]=Ve[r[t]]:r[t]=A(r[t]);return function(o){var a="";for(t=0;n>t;t++)a+=r[t]instanceof Function?r[t].call(o,e):r[t];return a}}(t),Ue[t](e)):e.localeData().invalidDate()}function I(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(ze.lastIndex=0;r>=0&&ze.test(e);)e=e.replace(ze,n),ze.lastIndex=0,r-=1;return e}function L(e,t,n){ot[e]=function(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}(t)?t:function(e){return e&&n?n:t}}function R(e,t){return o(ot,e)?ot[e](t._strict,t._locale):new RegExp(function(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,o){return t||n||r||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(e))}function B(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)at[e[n]]=r}function N(e,t){B(e,function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)})}function F(e,t,n){null!=t&&o(at,e)&&at[e](t,n._a,n,e)}function H(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function $(e,t){var n;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))?e:(n=Math.min(e.date(),H(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function z(e){return null!=e?($(this,e),t.updateOffset(this,!0),this):O(this,"Month")}function U(e){var t,n=e._a;return n&&-2===s(e).overflow&&(t=n[st]<0||n[st]>11?st:n[lt]<1||n[lt]>H(n[it],n[st])?lt:n[ut]<0||n[ut]>24||24===n[ut]&&(0!==n[ct]||0!==n[dt]||0!==n[ft])?ut:n[ct]<0||n[ct]>59?ct:n[dt]<0||n[dt]>59?dt:n[ft]<0||n[ft]>999?ft:-1,s(e)._overflowDayOfYear&&(it>t||t>lt)&&(t=lt),s(e).overflow=t),e}function V(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function K(e,t){var n=!0;return a(function(){return n&&(V(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function G(e){var t,n,r=e._i,o=yt.exec(r);if(o){for(s(e).iso=!0,t=0,n=mt.length;n>t;t++)if(mt[t][1].exec(r)){e._f=mt[t][0];break}for(t=0,n=_t.length;n>t;t++)if(_t[t][1].exec(r)){e._f+=(o[6]||" ")+_t[t][0];break}r.match(nt)&&(e._f+="Z"),Q(e)}else e._isValid=!1}function q(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function W(e){return Y(e)?366:365}function Y(e){return e%4==0&&e%100!=0||e%400==0}function X(e,t,n){var r,o=n-t,a=n-e.day();return a>o&&(a-=7),o-7>a&&(a+=7),r=re(e).add(a,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function Z(e,t,n){return null!=e?e:null!=t?t:n}function J(e){var t,n,r,o,a=[];if(!e._d){for(r=function(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[lt]&&null==e._a[st]&&function(e){var t,n,r,o,a,i,s;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,i=4,n=Z(t.GG,e._a[it],X(re(),1,4).year),r=Z(t.W,1),o=Z(t.E,1)):(a=e._locale._week.dow,i=e._locale._week.doy,n=Z(t.gg,e._a[it],X(re(),a,i).year),r=Z(t.w,1),null!=t.d?(o=t.d,a>o&&++r):o=null!=t.e?t.e+a:a),s=function(e,t,n,r,o){var a,i=6+o-r,s=q(e,0,1+i).getUTCDay();return o>s&&(s+=7),{year:(a=1+i+7*(t-1)-s+(n=null!=n?1*n:o))>0?e:e-1,dayOfYear:a>0?a:W(e-1)+a}}(n,r,o,i,a),e._a[it]=s.year,e._dayOfYear=s.dayOfYear}(e),e._dayOfYear&&(o=Z(e._a[it],r[it]),e._dayOfYear>W(o)&&(s(e)._overflowDayOfYear=!0),n=q(o,0,e._dayOfYear),e._a[st]=n.getUTCMonth(),e._a[lt]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ut]&&0===e._a[ct]&&0===e._a[dt]&&0===e._a[ft]&&(e._nextDay=!0,e._a[ut]=0),e._d=(e._useUTC?q:function(e,t,n,r,o,a,i){var s=new Date(e,t,n,r,o,a,i);return 1970>e&&s.setFullYear(e),s}).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ut]=24)}}function Q(e){if(e._f!==t.ISO_8601){e._a=[],s(e).empty=!0;var n,r,o,a,i,l=""+e._i,u=l.length,c=0;for(o=I(e._f,e._locale).match($e)||[],n=0;n<o.length;n++)a=o[n],(r=(l.match(R(a,e))||[])[0])&&((i=l.substr(0,l.indexOf(r))).length>0&&s(e).unusedInput.push(i),l=l.slice(l.indexOf(r)+r.length),c+=r.length),Ve[a]?(r?s(e).empty=!1:s(e).unusedTokens.push(a),F(a,r,e)):e._strict&&!r&&s(e).unusedTokens.push(a);s(e).charsLeftOver=u-c,l.length>0&&s(e).unusedInput.push(l),!0===s(e).bigHour&&e._a[ut]<=12&&e._a[ut]>0&&(s(e).bigHour=void 0),e._a[ut]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&12>t&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[ut],e._meridiem),J(e),U(e)}else G(e)}function ee(e){var t=e._i,o=e._f;return e._locale=e._locale||C(e._l),null===t||void 0===o&&""===t?c({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),p(t)?new f(U(t)):(n(o)?function(e){var t,n,r,o,i;if(0===e._f.length)return s(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,t=d({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Q(t),u(t)&&(i+=s(t).charsLeftOver,i+=10*s(t).unusedTokens.length,s(t).score=i,(null==r||r>i)&&(r=i,n=t));a(e,n||t)}(e):o?Q(e):r(t)?e._d=t:te(e),e))}function te(e){var o=e._i;void 0===o?e._d=new Date:r(o)?e._d=new Date(+o):"string"==typeof o?function(e){var n=vt.exec(e._i);null!==n?e._d=new Date(+n[1]):(G(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}(e):n(o)?(e._a=function(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}(o.slice(0),function(e){return parseInt(e,10)}),J(e)):"object"==(void 0===o?"undefined":(0,l["default"])(o))?function(e){if(!e._d){var t=P(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],J(e)}}(e):"number"==typeof o?e._d=new Date(o):t.createFromInputFallback(e)}function ne(e,t,n,r,o){var a={};return"boolean"==typeof n&&(r=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=e,a._f=t,a._strict=r,function(e){var t=new f(U(ee(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(a)}function re(e,t,n,r){return ne(e,t,n,r,!1)}function oe(e,t){var r,o;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return re();for(r=t[0],o=1;o<t.length;++o)(!t[o].isValid()||t[o][e](r))&&(r=t[o]);return r}function ae(e){var t=P(e),n=t.year||0,r=t.quarter||0,o=t.month||0,a=t.week||0,i=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+i+7*a,this._months=+o+3*r+12*n,this._data={},this._locale=C(),this._bubble()}function ie(e){return e instanceof ae}function se(e,t){D(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)})}function le(e){var t=(e||"").match(nt)||[],n=((t[t.length-1]||[])+"").match(xt)||["-",0,0],r=60*n[1]+g(n[2]);return"+"===n[0]?r:-r}function ue(e,n){var o,a;return n._isUTC?(o=n.clone(),a=(p(e)||r(e)?+e:+re(e))-+o,o._d.setTime(+o._d+a),t.updateOffset(o,!1),o):re(e).local()}function ce(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function de(){return this._isUTC&&0===this._offset}function fe(e,t){var n,r,a,i=e,s=null;return ie(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},t?i[t]=e:i.milliseconds=e):(s=St.exec(e))?(n="-"===s[1]?-1:1,i={y:0,d:g(s[lt])*n,h:g(s[ut])*n,m:g(s[ct])*n,s:g(s[dt])*n,ms:g(s[ft])*n}):(s=Pt.exec(e))?(n="-"===s[1]?-1:1,i={y:pe(s[2],n),M:pe(s[3],n),d:pe(s[4],n),h:pe(s[5],n),m:pe(s[6],n),s:pe(s[7],n),w:pe(s[8],n)}):null==i?i={}:"object"==(void 0===i?"undefined":(0,l["default"])(i))&&("from"in i||"to"in i)&&(a=function(e,t){var n;return t=ue(t,e),e.isBefore(t)?n=he(e,t):((n=he(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n}(re(i.from),re(i.to)),(i={}).ms=a.milliseconds,i.M=a.months),r=new ae(i),ie(e)&&o(e,"_locale")&&(r._locale=e._locale),r}function pe(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function he(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function ge(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(function(e,t){gt[e]||(V(t),gt[e]=!0)}(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),ye(this,fe(n="string"==typeof n?+n:n,r),e),this}}function ye(e,n,r,o){var a=n._milliseconds,i=n._days,s=n._months;o=null==o||o,a&&e._d.setTime(+e._d+a*r),i&&E(e,"Date",O(e,"Date")+i*r),s&&$(e,O(e,"Month")+s*r),o&&t.updateOffset(e,i||s)}function me(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():j(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function _e(e){var t;return void 0===e?this._locale._abbr:(null!=(t=C(e))&&(this._locale=t),this)}function ve(){return this._locale}function be(e,t){D(0,[e,e.length],0,t)}function we(e,t,n){return X(re([e,11,31+t-n]),t,n).week}function Ce(e,t){D(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function xe(e,t){return t._meridiemParse}function Se(e,t){t[ft]=g(1e3*("0."+e))}function Pe(e){return e}function ke(e,t,n,r){var o=C(),a=i().set(r,t);return o[n](a,e)}function Oe(e,t,n,r,o){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ke(e,t,n,o);var a,i=[];for(a=0;r>a;a++)i[a]=ke(e,a,n,o);return i}function Ee(e,t,n,r){var o=fe(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function Te(e){return 0>e?Math.floor(e):Math.ceil(e)}function Me(e){return 4800*e/146097}function De(e){return 146097*e/4800}function Ae(e){return function(){return this.as(e)}}function je(e){return function(){return this._data[e]}}function Ie(){var e,t,n=an(this._milliseconds)/1e3,r=an(this._days),o=an(this._months);e=h(n/60),t=h(e/60),n%=60,e%=60;var a=h(o/12),i=o%=12,s=r,l=t,u=e,c=n,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(a?a+"Y":"")+(i?i+"M":"")+(s?s+"D":"")+(l||u||c?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(c?c+"S":""):"P0D"}var Le,Re,Be=t.momentProperties=[],Ne=!1,Fe={},He={},$e=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ze=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ue={},Ve={},Ke=/\d/,Ge=/\d\d/,qe=/\d{3}/,We=/\d{4}/,Ye=/[+-]?\d{6}/,Xe=/\d\d?/,Ze=/\d{1,3}/,Je=/\d{1,4}/,Qe=/[+-]?\d{1,6}/,et=/\d+/,tt=/[+-]?\d+/,nt=/Z|[+-]\d\d:?\d\d/gi,rt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ot={},at={},it=0,st=1,lt=2,ut=3,ct=4,dt=5,ft=6;D("M",["MM",2],"Mo",function(){return this.month()+1}),D("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),D("MMMM",0,0,function(e){return this.localeData().months(this,e)}),x("month","M"),L("M",Xe),L("MM",Xe,Ge),L("MMM",rt),L("MMMM",rt),B(["M","MM"],function(e,t){t[st]=g(e)-1}),B(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[st]=o:s(n).invalidMonth=e});var pt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ht="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gt={};t.suppressDeprecationWarnings=!1;var yt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],_t=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],vt=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=K("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),D(0,["YY",2],0,function(){return this.year()%100}),D(0,["YYYY",4],0,"year"),D(0,["YYYYY",5],0,"year"),D(0,["YYYYYY",6,!0],0,"year"),x("year","y"),L("Y",tt),L("YY",Xe,Ge),L("YYYY",Je,We),L("YYYYY",Qe,Ye),L("YYYYYY",Qe,Ye),B(["YYYYY","YYYYYY"],it),B("YYYY",function(e,n){n[it]=2===e.length?t.parseTwoDigitYear(e):g(e)}),B("YY",function(e,n){n[it]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var bt=k("FullYear",!1);D("w",["ww",2],"wo","week"),D("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),L("w",Xe),L("ww",Xe,Ge),L("W",Xe),L("WW",Xe,Ge),N(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=g(e)}),D("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),L("DDD",Ze),L("DDDD",qe),B(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),t.ISO_8601=function(){};var wt=K("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=re.apply(null,arguments);return this>e?this:e}),Ct=K("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=re.apply(null,arguments);return e>this?this:e});se("Z",":"),se("ZZ",""),L("Z",nt),L("ZZ",nt),B(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=le(e)});var xt=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var St=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Pt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;fe.fn=ae.prototype;var kt=ge(1,"add"),Ot=ge(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Et=K("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});D(0,["gg",2],0,function(){return this.weekYear()%100}),D(0,["GG",2],0,function(){return this.isoWeekYear()%100}),be("gggg","weekYear"),be("ggggg","weekYear"),be("GGGG","isoWeekYear"),be("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),L("G",tt),L("g",tt),L("GG",Xe,Ge),L("gg",Xe,Ge),L("GGGG",Je,We),L("gggg",Je,We),L("GGGGG",Qe,Ye),L("ggggg",Qe,Ye),N(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=g(e)}),N(["gg","GG"],function(e,n,r,o){n[o]=t.parseTwoDigitYear(e)}),D("Q",0,0,"quarter"),x("quarter","Q"),L("Q",Ke),B("Q",function(e,t){t[st]=3*(g(e)-1)}),D("D",["DD",2],"Do","date"),x("date","D"),L("D",Xe),L("DD",Xe,Ge),L("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),B(["D","DD"],lt),B("Do",function(e,t){t[lt]=g(e.match(Xe)[0])});var Tt=k("Date",!0);D("d",0,"do","day"),D("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),D("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),D("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),D("e",0,0,"weekday"),D("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),L("d",Xe),L("e",Xe),L("E",Xe),L("dd",rt),L("ddd",rt),L("dddd",rt),N(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:s(n).invalidWeekday=e}),N(["d","e","E"],function(e,t,n,r){t[r]=g(e)});var Mt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),At="Su_Mo_Tu_We_Th_Fr_Sa".split("_");D("H",["HH",2],0,"hour"),D("h",["hh",2],0,function(){return this.hours()%12||12}),Ce("a",!0),Ce("A",!1),x("hour","h"),L("a",xe),L("A",xe),L("H",Xe),L("h",Xe),L("HH",Xe,Ge),L("hh",Xe,Ge),B(["H","HH"],ut),B(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),B(["h","hh"],function(e,t,n){t[ut]=g(e),s(n).bigHour=!0});var jt=k("Hours",!0);D("m",["mm",2],0,"minute"),x("minute","m"),L("m",Xe),L("mm",Xe,Ge),B(["m","mm"],ct);var It=k("Minutes",!1);D("s",["ss",2],0,"second"),x("second","s"),L("s",Xe),L("ss",Xe,Ge),B(["s","ss"],dt);var Lt,Rt=k("Seconds",!1);for(D("S",0,0,function(){return~~(this.millisecond()/100)}),D(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),D(0,["SSS",3],0,"millisecond"),D(0,["SSSS",4],0,function(){return 10*this.millisecond()}),D(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),D(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),D(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),D(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),D(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),x("millisecond","ms"),L("S",Ze,Ke),L("SS",Ze,Ge),L("SSS",Ze,qe),Lt="SSSS";Lt.length<=9;Lt+="S")L(Lt,et);for(Lt="S";Lt.length<=9;Lt+="S")B(Lt,Se);var Bt=k("Milliseconds",!1);D("z",0,0,"zoneAbbr"),D("zz",0,0,"zoneName");var Nt=f.prototype;Nt.add=kt,Nt.calendar=function(e,t){var n=e||re(),r=ue(n,this).startOf("day"),o=this.diff(r,"days",!0),a=-6>o?"sameElse":-1>o?"lastWeek":0>o?"lastDay":1>o?"sameDay":2>o?"nextDay":7>o?"nextWeek":"sameElse";return this.format(t&&t[a]||this.localeData().calendar(a,this,re(n)))},Nt.clone=function(){return new f(this)},Nt.diff=function(e,t,n){var r,o,a=ue(e,this),i=6e4*(a.utcOffset()-this.utcOffset());return"year"===(t=S(t))||"month"===t||"quarter"===t?(o=function(e,t){var n,r,o=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(o,"months");return 0>t-a?(n=e.clone().add(o-1,"months"),r=(t-a)/(a-n)):(n=e.clone().add(o+1,"months"),r=(t-a)/(n-a)),-(o+r)}(this,a),"quarter"===t?o/=3:"year"===t&&(o/=12)):(r=this-a,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-i)/864e5:"week"===t?(r-i)/6048e5:r),n?o:h(o)},Nt.endOf=function(e){return void 0===(e=S(e))||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},Nt.format=function(e){var n=j(this,e||t.defaultFormat);return this.localeData().postformat(n)},Nt.from=function(e,t){return this.isValid()?fe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Nt.fromNow=function(e){return this.from(re(),e)},Nt.to=function(e,t){return this.isValid()?fe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Nt.toNow=function(e){return this.to(re(),e)},Nt.get=T,Nt.invalidAt=function(){return s(this).overflow},Nt.isAfter=function(e,t){return"millisecond"===(t=S(void 0!==t?t:"millisecond"))?+this>+(e=p(e)?e:re(e)):(p(e)?+e:+re(e))<+this.clone().startOf(t)},Nt.isBefore=function(e,t){var n;return"millisecond"===(t=S(void 0!==t?t:"millisecond"))?+(e=p(e)?e:re(e))>+this:(n=p(e)?+e:+re(e),+this.clone().endOf(t)<n)},Nt.isBetween=function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},Nt.isSame=function(e,t){var n;return"millisecond"===(t=S(t||"millisecond"))?+this==+(e=p(e)?e:re(e)):(n=+re(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},Nt.isValid=function(){return u(this)},Nt.lang=Et,Nt.locale=_e,Nt.localeData=ve,Nt.max=Ct,Nt.min=wt,Nt.parsingFlags=function(){return a({},s(this))},Nt.set=T,Nt.startOf=function(e){switch(e=S(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},Nt.subtract=Ot,Nt.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Nt.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Nt.toDate=function(){return this._offset?new Date(+this):this._d},Nt.toISOString=me,Nt.toJSON=me,Nt.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Nt.unix=function(){return Math.floor(+this/1e3)},Nt.valueOf=function(){return+this._d-6e4*(this._offset||0)},Nt.year=bt,Nt.isLeapYear=function(){return Y(this.year())},Nt.weekYear=function(e){var t=X(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},Nt.isoWeekYear=function(e){var t=X(this,1,4).year;return null==e?t:this.add(e-t,"y")},Nt.quarter=Nt.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Nt.month=z,Nt.daysInMonth=function(){return H(this.year(),this.month())},Nt.week=Nt.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Nt.isoWeek=Nt.isoWeeks=function(e){var t=X(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Nt.weeksInYear=function(){var e=this.localeData()._week;return we(this.year(),e.dow,e.doy)},Nt.isoWeeksInYear=function(){return we(this.year(),1,4)},Nt.date=Tt,Nt.day=Nt.days=function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Nt.weekday=function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Nt.isoWeekday=function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},Nt.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Nt.hour=Nt.hours=jt,Nt.minute=Nt.minutes=It,Nt.second=Nt.seconds=Rt,Nt.millisecond=Nt.milliseconds=Bt,Nt.utcOffset=function(e,n){var r,o=this._offset||0;return null!=e?("string"==typeof e&&(e=le(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&n&&(r=ce(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!n||this._changeInProgress?ye(this,fe(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:ce(this)},Nt.utc=function(e){return this.utcOffset(0,e)},Nt.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ce(this),"m")),this},Nt.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(le(this._i)),this},Nt.hasAlignedHourOffset=function(e){return e=e?re(e).utcOffset():0,(this.utcOffset()-e)%60==0},Nt.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Nt.isDSTShifted=function(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(d(e,this),(e=ee(e))._a){var t=e._isUTC?i(e._a):re(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted},Nt.isLocal=function(){return!this._isUTC},Nt.isUtcOffset=function(){return this._isUTC},Nt.isUtc=de,Nt.isUTC=de,Nt.zoneAbbr=function(){return this._isUTC?"UTC":""},Nt.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Nt.dates=K("dates accessor is deprecated. Use date instead.",Tt),Nt.months=K("months accessor is deprecated. Use month instead",z),Nt.years=K("years accessor is deprecated. Use year instead",bt),Nt.zone=K("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()});var Ft=Nt,Ht=m.prototype;Ht._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ht.calendar=function(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r},Ht._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ht.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},Ht._invalidDate="Invalid date",Ht.invalidDate=function(){return this._invalidDate},Ht._ordinal="%d",Ht.ordinal=function(e){return this._ordinal.replace("%d",e)},Ht._ordinalParse=/\d{1,2}/,Ht.preparse=Pe,Ht.postformat=Pe,Ht._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ht.relativeTime=function(e,t,n,r){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,r):o.replace(/%d/i,e)},Ht.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},Ht.set=function(e){var t,n;for(n in e)"function"==typeof(t=e[n])?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},Ht.months=function(e){return this._months[e.month()]},Ht._months=pt,Ht.monthsShort=function(e){return this._monthsShort[e.month()]},Ht._monthsShort=ht,Ht.monthsParse=function(e,t,n){var r,o,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(o=i([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Ht.week=function(e){return X(e,this._week.dow,this._week.doy).week},Ht._week={dow:0,doy:6},Ht.firstDayOfYear=function(){return this._week.doy},Ht.firstDayOfWeek=function(){return this._week.dow},Ht.weekdays=function(e){return this._weekdays[e.day()]},Ht._weekdays=Mt,Ht.weekdaysMin=function(e){return this._weekdaysMin[e.day()]},Ht._weekdaysMin=At,Ht.weekdaysShort=function(e){return this._weekdaysShort[e.day()]},Ht._weekdaysShort=Dt,Ht.weekdaysParse=function(e){var t,n,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=re([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},Ht.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Ht._meridiemParse=/[ap]\.?m?\.?/i,Ht.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},b("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=K("moment.lang is deprecated. Use moment.locale instead.",b),t.langData=K("moment.langData is deprecated. Use moment.localeData instead.",C);var $t=Math.abs,zt=Ae("ms"),Ut=Ae("s"),Vt=Ae("m"),Kt=Ae("h"),Gt=Ae("d"),qt=Ae("w"),Wt=Ae("M"),Yt=Ae("y"),Xt=je("milliseconds"),Zt=je("seconds"),Jt=je("minutes"),Qt=je("hours"),en=je("days"),tn=je("months"),nn=je("years"),rn=Math.round,on={s:45,m:45,h:22,d:26,M:11},an=Math.abs,sn=ae.prototype;return sn.abs=function(){var e=this._data;return this._milliseconds=$t(this._milliseconds),this._days=$t(this._days),this._months=$t(this._months),e.milliseconds=$t(e.milliseconds),e.seconds=$t(e.seconds),e.minutes=$t(e.minutes),e.hours=$t(e.hours),e.months=$t(e.months),e.years=$t(e.years),this},sn.add=function(e,t){return Ee(this,e,t,1)},sn.subtract=function(e,t){return Ee(this,e,t,-1)},sn.as=function(e){var t,n,r=this._milliseconds;if("month"===(e=S(e))||"year"===e)return t=this._days+r/864e5,n=this._months+Me(t),"month"===e?n:n/12;switch(t=this._days+Math.round(De(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},sn.asMilliseconds=zt,sn.asSeconds=Ut,sn.asMinutes=Vt,sn.asHours=Kt,sn.asDays=Gt,sn.asWeeks=qt,sn.asMonths=Wt,sn.asYears=Yt,sn.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)},sn._bubble=function(){var e,t,n,r,o,a=this._milliseconds,i=this._days,s=this._months,l=this._data;return a>=0&&i>=0&&s>=0||0>=a&&0>=i&&0>=s||(a+=864e5*Te(De(s)+i),i=0,s=0),l.milliseconds=a%1e3,e=h(a/1e3),l.seconds=e%60,t=h(e/60),l.minutes=t%60,n=h(t/60),l.hours=n%24,i+=h(n/24),s+=o=h(Me(i)),i-=Te(De(o)),r=h(s/12),s%=12,l.days=i,l.months=s,l.years=r,this},sn.get=function(e){return this[(e=S(e))+"s"]()},sn.milliseconds=Xt,sn.seconds=Zt,sn.minutes=Jt,sn.hours=Qt,sn.days=en,sn.weeks=function(){return h(this.days()/7)},sn.months=tn,sn.years=nn,sn.humanize=function(e){var t=this.localeData(),n=function(e,t,n){var r=fe(e).abs(),o=rn(r.as("s")),a=rn(r.as("m")),i=rn(r.as("h")),s=rn(r.as("d")),l=rn(r.as("M")),u=rn(r.as("y")),c=o<on.s&&["s",o]||1===a&&["m"]||a<on.m&&["mm",a]||1===i&&["h"]||i<on.h&&["hh",i]||1===s&&["d"]||s<on.d&&["dd",s]||1===l&&["M"]||l<on.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,function(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},sn.toISOString=Ie,sn.toString=Ie,sn.toJSON=Ie,sn.locale=_e,sn.localeData=ve,sn.toIsoString=K("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ie),sn.lang=Et,D("X",0,0,"unix"),D("x",0,0,"valueOf"),L("x",tt),L("X",/[+-]?\d+(\.\d{1,3})?/),B("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),B("x",function(e,t,n){n._d=new Date(g(e))}),t.version="2.10.6",function(e){Le=e}(re),t.fn=Ft,t.min=function(){return oe("isBefore",[].slice.call(arguments,0))},t.max=function(){return oe("isAfter",[].slice.call(arguments,0))},t.utc=i,t.unix=function(e){return re(1e3*e)},t.months=function(e,t){return Oe(e,t,"months",12,"month")},t.isDate=r,t.locale=b,t.invalid=c,t.duration=fe,t.isMoment=p,t.weekdays=function(e,t){return Oe(e,t,"weekdays",7,"day")},t.parseZone=function(){return re.apply(null,arguments).parseZone()},t.localeData=C,t.isDuration=ie,t.monthsShort=function(e,t){return Oe(e,t,"monthsShort",12,"month")},t.weekdaysMin=function(e,t){return Oe(e,t,"weekdaysMin",7,"day")},t.defineLocale=w,t.weekdaysShort=function(e,t){return Oe(e,t,"weekdaysShort",7,"day")},t.normalizeUnits=S,t.relativeTimeThreshold=function(e,t){return void 0!==on[e]&&(void 0===t?on[e]:(on[e]=t,!0))},t},"object"==(0,l["default"])(t)&&void 0!==e?e.exports=i():(o="function"==typeof(r=i)?r.call(t,n,t,e):r)===undefined||(e.exports=o)}).call(this,n(7)(e))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var RotateBoxComp=function(_Component){function RotateBoxComp(e){(0,_classCallCheck3["default"])(this,RotateBoxComp);var t=(0,_possibleConstructorReturn3["default"])(this,(RotateBoxComp.__proto__||(0,_getPrototypeOf2["default"])(RotateBoxComp)).call(this,e));return t.state={},t}return(0,_inherits3["default"])(RotateBoxComp,_Component),(0,_createClass3["default"])(RotateBoxComp,[{key:"shouldComponentUpdate",value:function(e){return e.isOpt!=this.props.isOpt||e.width!=this.props.width||e.height!=this.props.height||e.rotate!=this.props.rotate}},{key:"render",value:function(){var e=$.getRotateWH($.rotateToAngle(this.props.rotate,!0),[this.props.width,this.props.height]);return _react2["default"].createElement("div",{className:"rotateBox"+(this.props.isOpt&&"0"!=this.props.rotate?" active":"")+("0"!=this.props.rotate?" isRotate":""),style:{width:Math.round(e.w),height:Math.round(e.h),left:Math.round((this.props.width-e.w)/2-1),top:Math.round((this.props.height-e.h)/2-1),transform:"rotate(-"+(this.props.rotate%90<0?this.props.rotate%90+90:this.props.rotate%90)+"deg)"}})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RotateBoxComp}(_react.Component),_default=RotateBoxComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(RotateBoxComp,"RotateBoxComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/RotateBox.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/RotateBox.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(733)),a=r(n(399)),i=r(n(400)),s=r(n(735));t["default"]={locale:"zh-cn",Pagination:o["default"],DatePicker:a["default"],TimePicker:i["default"],Calendar:s["default"],Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",emptyText:"暂无数据",selectAll:"全选当页",selectInvert:"反选当页"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{notFoundContent:"无匹配结果",searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项"},Select:{notFoundContent:"无匹配结果"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件"}}},function(e,t,n){"use strict";(function(r){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&void 0!==r&&"env"in r&&(e=Object({NODE_ENV:"production"}).DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(640)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(58))},function(e,t,n){var r=n(642),o=n(369)(function(e,t){return null==e?{}:r(e,t)});e.exports=o},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=n(120).CSSTransitionGroup,c=s(n(163)),d=s(n(3)),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,toast:c["default"].getToast()},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onToastChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onToastChange)},t.prototype._onToastChange=function(){this.setState({renderChange:this.state.renderChange+1,toast:c["default"].getToast()})},t.prototype.render=function(){return l["default"].createElement(u,{transitionName:"toast",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.state.toast.isShow?l["default"].createElement("div",{className:"main-fixed-comp toast",id:"toast"},this.state.toast.text):null)},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onToastChange",null),t}(l["default"].Component);t["default"]=f},function(e,t,n){var r=n(203),o=n(542),a=n(543),i="[object Null]",s="[object Undefined]",l=r?r.toStringTag:undefined;e.exports=function(e){return null==e?e===undefined?s:i:l&&l in Object(e)?o(e):a(e)}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isDraging:!1},n}return o(t,e),t.prototype._scrollBarMouseDown=function(e){var t=this,n=$.hasClass(e.target,"scrollBar")?e.target.parentNode:e.target;if(t.setState({isDraging:!0}),t.props.isVertical){var r=t.props.boxWidth||350;t.props.changeScrollLeft&&t.props.changeScrollLeft(t.props.maxLength*$.setRegion($.getOffsetPosi(n)[0]-e.clientX+r/2*r/t.props.maxLength,r*r/t.props.maxLength-r,0)/r),$.setDrag({name:"iconScrollBarComp",posi:[e.clientX,e.clientY],target:n,moveFunc:function(e){var o=$.getOffsetPosi(n)[0]-e.clientX+r/2*r/t.props.maxLength,a=r*r/t.props.maxLength-r;t.props.changeScrollLeft&&t.props.changeScrollLeft(t.props.maxLength*$.setRegion(o,a,0)/r)},endFunc:function(){t.setState({isDraging:!1})}})}else{var o=t.props.boxHeight||350;t.props.changeScrollTop&&t.props.changeScrollTop(t.props.maxLength*$.setRegion($.getOffsetPosi(n)[1]-e.clientY+o/2*o/t.props.maxLength,o*o/t.props.maxLength-o,0)/o),$.setDrag({name:"iconScrollBarComp",posi:[e.clientX,e.clientY],target:n,moveFunc:function(e){var r=$.getOffsetPosi(n)[1]-e.clientY+o/2*o/t.props.maxLength,a=o*o/t.props.maxLength-o;t.props.changeScrollTop&&t.props.changeScrollTop(t.props.maxLength*$.setRegion(r,a,0)/o)},endFunc:function(){t.setState({isDraging:!1})}})}e.stopPropagation(),e.preventDefault()},t.prototype.render=function(){if(this.props.isVertical){var e=this.props.boxWidth||350,t={width:e*e/this.props.maxLength,left:-this.props.scrollLeft*e/this.props.maxLength};return this.props.maxLength>e?l["default"].createElement("div",{className:"contentBox vertical-scroll"+(this.state.isDraging?" scroll-drag":""),onMouseDown:this._scrollBarMouseDown,onClick:$.stopPropagation},l["default"].createElement("div",{className:"scrollBar",style:t,onMouseDown:this._scrollBarMouseDown})):null}var n=this.props.boxHeight||350,r={height:n*n/this.props.maxLength,top:-this.props.scrollTop*n/this.props.maxLength};return this.props.maxLength>n?l["default"].createElement("div",{className:"contentBox"+(this.state.isDraging?" scroll-drag":""),onMouseDown:this._scrollBarMouseDown,onClick:$.stopPropagation},l["default"].createElement("div",{className:"scrollBar",style:r,onMouseDown:this._scrollBarMouseDown})):null},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",Object)],t.prototype,"_scrollBarMouseDown",null),t}(l["default"].Component);t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=n(80),l=n(9),u={isShow:!1,text:""};var c=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getToast=function(){return u},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(l.EventEmitter));i["default"].register(function(e){switch(e.actionType){case s.ToastActionID.TOAST_SHOW:!function(e,t,n){window.toastTimeout&&clearTimeout(window.toastTimeout);var r=n||4e3;u.isShow=!0,u.text=e,window.toastTimeout=setTimeout(function(){u.isShow=!1,c.emitChange(),clearTimeout(window.toastTimeout),t&&t()},r)}(e.text,e.callback,e.time),c.emitChange()}}),t["default"]=c},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=l(n(33)),a=l(n(172)),i=l(n(116)),s=l(n(12));function l(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var u=void 0;if(!u){var c=[];window.versionKey&&c.push("versionKey="+window.versionKey),window.pageIndexKey&&c.push("pageIndexKey="+window.pageIndexKey),u=(0,a["default"])(c.length>0?{query:c.join("&")}:undefined)}window.noLogin||window.isPrototypeTool||u.on("notification",function(){o["default"].post(window.hostUrl+"/user/noReadNotification").send({}).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){0==t.body.code?i["default"].loadNotification(t.body.data):s["default"].show(t.body.msg)})});var d,f,p=u;t["default"]=p,(d=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(d.register(u,"socket","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/socket/userSocket.js"),d.register(p,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/socket/userSocket.js")),(f=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&f(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i,s=a(n(602)),l=a(n(8)),u=n(9),c=window.pcParentApp?window:window.parent,d={fold:!0,height:220,minHeight:180,maxHeight:.75*$.getWinSize().height,precision:200,scale:1,minScale:.3,maxScale:2,lineLeft:0,time:200,reverse:!1,contrastHide:!1};function f(e){d.reverse=$.isUndefined(e)?!d.reverse:e}function p(e){var t=g.getTimeArea();if("preview"==e.type){if(e.previewArea[0]<t[0]||e.previewArea[1]>t[1]){var n=(t[0]-e.previewArea[0])*g.getUnitW();g.changeLeft(d.lineLeft+n),g.emitChange()}}else"progress"==e.type&&d.lineLeft+e.transX>i&&(g.changeLeft(d.lineLeft-i),g.emitChange())}i="web"==window.platform?c.document.body.clientWidth-271-45-380:c.document.body.clientWidth-922;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getPanel=function(){return d},t.prototype.getBtmW=function(){return i},t.prototype.getTimelineW=function(){return g.getUnitW()*d.time/10},t.prototype.contrastHideClassToggle=function(e){d.fold&&"preview"!=e||!d.contrastHide?$.removeClass($.getElById("reactBox"),"stateContrastHide"):$.addClass($.getElById("reactBox"),"stateContrastHide")},t.prototype.toggleContrastHide=function(e){d.contrastHide=!d.contrastHide,e||g.emitChange()},t.prototype.getFold=function(){return d.fold},t.prototype.toggleFold=function(e){var t=n(5)["default"];d.fold=!d.fold,e&&(g.emitChange(),t.emitViewChange())},t.prototype.fold=function(){d.fold=!0},t.prototype.unfold=function(){d.fold=!1},t.prototype.getBottomPanelHeight=function(){return d.fold?0:d.height},t.prototype.getUnitW=function(){return d.precision*d.scale},t.prototype.reverse=function(){f()},t.prototype.getReverse=function(){return d.reverse},t.prototype.changeLeft=function(e,t){d.lineLeft=Math.min(0,parseInt(e)),t&&g.emitChange()},t.prototype.correctRange=function(e){p(e)},t.prototype.getTimeArea=function(){var e=[],t=g.getUnitW();return e[0]=Math.abs(d.lineLeft)/t,e[1]=(Math.abs(d.lineLeft)+i)/t,e},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(u.EventEmitter);l["default"].register(function(e){switch(e.actionType){case s["default"].BOTTOMPANEL_TOGGLEFOLD:g.toggleFold(),g.emitChange();break;case s["default"].BOTTOMPANEL_CHANGEHEIGHT:t=e.height,d.height=t,g.emitChange();break;case s["default"].BOTTOMPANEL_CHANGESCALE:!function(e){d.scale=Math.max(Math.min(e,d.maxScale),d.minScale);var t=g.getTimelineW();i-d.lineLeft>=t&&g.changeLeft(i-t)}(e.scale),g.emitChange();break;case s["default"].BOTTOMPANEL_CHANGELEFT:g.changeLeft(e.left),g.emitChange();break;case s["default"].BOTTOMPANEL_REVERSE:f(e.reverse),g.emitChange();break;case s["default"].BOTTOMPANEL_CORRECTRANGE:p(e.options)}var t});var g=new h;t["default"]=g},function(e,t,n){"use strict";function r(e,t,n){var r;return void 0===n&&(n=!1),e&&e.find(".page").each(function(e){if(e.getAttr("id")==t){if(n&&(!e.attrs["data-isShow"]||e.attrs["data-isPageFlowHide"]))return;r=e}}),r}function o(e,t){var n;return e&&e.find(".canvasContr").each(function(e){e.getAttr("id")==t&&(n=e)}),n}function a(e,t){var n;return e&&e.find(".comment").each(function(e){e.getAttr("id")==t&&(n=e)}),n}function i(e,t){var n;return e.find(".user-name-layer").each(function(e){e.attrs["data-name"]==t&&(n=e)}),n}function s(e,t){var n;return e.find(".line").each(function(e){e.attrs["data-id"]==t&&(n=e)}),n}function l(e,t){void 0===t&&(t=[]),e.forEach(function(e){var n=e.key,r=e.type,o=e.isShow,a=e.folderHierarchy;"page"==r?t.push(n+""):"folder"==r&&o&&l(a,t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.findPage=r,t.findContr=o,t.findComment=a,t.findUserName=i,t.findLine=s,t.findAllShowPage=l,t["default"]={findPage:r,findContr:o,findComment:a,findUserName:i,findLine:s,findAllShowPage:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LEFT_PADDING_SIZE=272,t["default"]={LEFT_PADDING_SIZE:t.LEFT_PADDING_SIZE}},function(e,t,n){var r=n(102),o=n(438),a=n(544),i=n(568);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:a(i(e))}},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),i=l(n(3)),s=l(n(4));function l(e){return e&&e.__esModule?e:{"default":e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"]),o(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===r(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s["default"])(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a["default"]({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return c("action",e)}},{key:"defaultTarget",value:function(e){var t=c("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return c("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();function c(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=u},function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),s=(r=i)&&r.__esModule?r:{"default":r};var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,s["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,s["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(e!==undefined){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=l},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var a=0,i=r.length;a<i;a++)r[a].fn!==t&&r[a].fn._!==t&&o.push(r[a]);return o.length?n[e]=o:delete n[e],this}},e.exports=n},function(e,t,n){var r=n(5),o=n(6);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(r.string(e))return function(e,t,n){return o(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return e!==undefined&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return e!==undefined&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(7);function o(e,t,n,o,a){var i=function(e,t,n,o){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&o.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,i,a),{destroy:function(){e.removeEventListener(n,i,a)}}}e.exports=function(e,t,n,r,a){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return o(e,t,n,r,a)}))}},function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}}])},e.exports=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$;function o(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}function a(e){var t=[null,null,null,null];return!e||e&&0==e.length?t:(e.forEach(function(e){var n=e.x,o=e.y,a=e.w,i=e.h;t=[n<=t[0]||r.isNull(t[0])?n:t[0],o<=t[1]||r.isNull(t[1])?o:t[1],n+a>=t[2]||r.isNull(t[2])?n+a:t[2],o+i>=t[3]||r.isNull(t[3])?o+i:t[3]]}),{x:t[0],y:t[1],w:Math.round(t[2]-t[0]),h:Math.round(t[3]-t[1])})}function i(e){return{x:e.x,y:e.y,w:e.w,h:e.h}}function s(e,t,n){void 0===t&&(t=!1);var r=e.x,o=e.y,a=e.w,i=e.h,s={x:a<0?r+a:r,y:i<0?o+i:o,w:t?Math.abs(a):Math.max(1,Math.abs(a)),h:t?Math.abs(i):Math.max(1,Math.abs(i))};return l(s)}function l(e){var t={};for(var n in e)t[n]=Math.round(e[n]);return t}function u(e){var t=e.event,n=e.key,r="";switch(t.type){case"contentMousedown":case"contextmenu":r=t.currentTarget.clickStartShape.attrs[n];break;case"mouseenter":case"mousemove":case"mouseleave":r=t.currentTarget.attrs[n]}return r}t.generateUUID=o,t.getMaxPos=a,t.getPos=i,t.getAbsPos=s,t.getRoundVals=l,t.getEventAttr=u,t["default"]={generateUUID:o,getMaxPos:a,getAbsPos:s,getPos:i,getEventAttr:u,getRoundVals:l}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(101)),d=s(n(3)),f=window,p=f.$,h=(f.isPrototypeTool,function(e){function t(t){var n=e.call(this,t)||this;return n.state={text:n.props.text,value:p.isUndefined(n.props.value)?"":n.props.value,isOpen:!1},n}return o(t,e),t.prototype.componentWillReceiveProps=function(e){e.text!=this.props.text&&this.setState({text:e.text,value:p.isUndefined(e.value)?"":e.value})},t.prototype.enterFirstLi=function(e){this.props.selectFirstLi&&this.props.selectFirstLi(e)},t.prototype.leaveFirstLi=function(e){this.props.leaveFirstLi&&this.props.leaveFirstLi(e)},t.prototype._boxClick=function(e){if(!p.hasClass(e.currentTarget,"blank")){var t=this.refs.selectBox,n={target:t,text:this.state.text||"",value:this.state.value,callback:this._chooseCallback,includeSelected:this.props.includeSelected||!1,dropdownBoxWidth:this.props.dropdownW,dropdownClass:this.props.dropdownClass,id:this.props.id,hasSearch:!!p.isUndefined(this.props.hasSearch)||this.props.hasSearch,itemNum:this.props.itemNum||8};this.props.itemH?n.itemH=this.props.itemH:"simple"==this.props.type?(n.type=this.props.type,n.itemH=24):"white"==this.props.type?(n.type=this.props.type,n.itemH=48):n.itemH=32,this.props.itemLeft&&(n.dropdownBoxLeft=this.props.itemLeft),n=p.extend({},this.props,n),p.hasClass(t,"on")?c["default"].hide():c["default"].show(n),this.props.click&&this.props.click(),e.stopPropagation()}},t.prototype._chooseCallback=function(e,t,n){var r=this;r.props.popupCallback?r.props.popupCallback(e,t,function(n){n&&!r.props.unSelect&&r.setState({text:e,value:t})}):r.props.unSelect||r.setState({text:e,value:t}),r.props.callback&&r.props.callback(e,t,n)},t.prototype.render=function(){var e,t=this.state.isOpen;return l["default"].createElement("div",{id:this.props.id||"",className:u["default"]((e={C_selectBox:!0,blank:this.state.text&&this.props.texts.length<=1||this.props.disabled||0===this.props.texts.length,placeholder:this.props.placeholder&&!this.state.text},e[""+this.props.className]=this.props.className,e[""+this.props.type]=this.props.type,e["is-open"]=t,e)),style:{width:this.props.width,maxWidth:this.props.maxWidth},ref:"selectBox","data-text":this.state.text,"data-value":this.state.value,onMouseDown:p.stopPropagation,onClick:this._boxClick,onDoubleClick:p.noop,onMouseEnter:this.enterFirstLi,onMouseLeave:this.leaveFirstLi},l["default"].createElement("span",{"data-text":this.state.text,className:this.props.itemClassName},this.state.text||this.props.placeholder))},a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"enterFirstLi",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"leaveFirstLi",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_boxClick",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object,Object,Object]),i("design:returntype",void 0)],t.prototype,"_chooseCallback",null),t}(l["default"].Component));t["default"]=h},function(e,t,n){var r=n(174),o=n(71),a=n(107),i=n(53)("socket.io-client");e.exports=t=l;var s=t.managers={};function l(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,o=r(e),l=o.source,u=o.id,c=o.path,d=s[u]&&c in s[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(i("ignoring socket cache for %s",l),n=a(l,t)):(s[u]||(i("new io instance for %s",l),s[u]=a(l,t)),n=s[u]),o.query&&!t.query&&(t.query=o.query),n.socket(o.path,t)}t.protocol=o.protocol,t.connect=l,t.Manager=n(107),t.Socket=n(113)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i={hasSaveNum:0,updateTime:null,isChange:!1,isSaving:!1},s={},l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getAutoSave=function(){return i},t.prototype.initUpdateTime=function(e){i.updateTime=e,l.emitChange()},t.prototype.getUpdateTime=function(){return i.updateTime},t.prototype.setSaving=function(){i.isSaving=!0,l.emitChange()},t.prototype.saveSymbolSizeData=function(e,t){s[e]?$.extend(!0,s[e],t):s[e]=t},t.prototype.getSymbolSizeData=function(e){return s[e]},t.prototype.getAllSymbolSizeData=function(){return s},t.prototype.initSymbolSizeData=function(){s={}},t.prototype.removeSymbolSizeData=function(e){for(var t in s){s[t].contrKey==e&&delete s[t]}},t.prototype.setNotSaving=function(){i.isSaving=!1,l.emitChange()},t.prototype.addSaveNum=function(){i.hasSaveNum++,i.isChange=!0,l.emitChange()},t.prototype.saveToCloud=function(){i.isSaving=!1,i.hasSaveNum=0,i.isChange=!0,l.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=l},function(e,t,n){var r=n(104),o=n(53)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port,n.href=n.protocol+"://"+a+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,o=+new Date,a=o-(n||o);e.diff=a,e.prev=n,e.curr=o,n=o;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var l=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;l++;var o=t.formatters[r];if("function"==typeof o){var a=i[l];n=o.call(e,a),i.splice(l,1),l--}return n}),t.formatArgs.call(e,i),(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=o,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r["default"]=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var a=t.instances[n];a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(70),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){(function(r){function o(){var e;try{e=t.storage.debug}catch(n){}return!e&&void 0!==r&&"env"in r&&(e=Object({NODE_ENV:"production"}).DEBUG),e}(t=e.exports=n(177)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(a=o))}),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=o,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(o())}).call(this,n(58))},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,o=+new Date,a=o-(n||o);e.diff=a,e.prev=n,e.curr=o,n=o;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var l=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;l++;var o=t.formatters[r];if("function"==typeof o){var a=i[l];n=o.call(e,a),i.splice(l,1),l--}return n}),t.formatArgs.call(e,i),(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=o,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r["default"]=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var a=t.instances[n];a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(70),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){var r=n(105),o=n(106),a=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,a=e;return a.data=function i(e,t){if(!e)return e;if(o(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=i(e[s],t);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var l in e)a[l]=i(e[l],t);return a}return e}(n,t),a.attachments=t.length,{packet:a,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function n(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(r(e))for(var o=0;o<e.length;o++)e[o]=n(e[o],t);else if("object"==typeof e)for(var a in e)e[a]=n(e[a],t);return e}(e.data,t),e.attachments=undefined,e},t.removeBlobs=function(e,t){var n=0,a=e;!function l(e,u,c){if(!e)return e;if(i&&e instanceof Blob||s&&e instanceof File){n++;var d=new FileReader;d.onload=function(){c?c[u]=this.result:a=this.result,--n||t(a)},d.readAsArrayBuffer(e)}else if(r(e))for(var f=0;f<e.length;f++)l(e[f],f,e);else if("object"==typeof e&&!o(e))for(var p in e)l(e[p],p,e)}(a),n||t(a)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],i=n[1],s=new a(function(e,t,n){return 3*(t+n)/4-n}(0,r,i)),l=0,c=i>0?r-4:r,d=0;d<c;d+=4)t=o[e.charCodeAt(d)]<<18|o[e.charCodeAt(d+1)]<<12|o[e.charCodeAt(d+2)]<<6|o[e.charCodeAt(d+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===i&&(t=o[e.charCodeAt(d)]<<2|o[e.charCodeAt(d+1)]>>4,s[l++]=255&t);1===i&&(t=o[e.charCodeAt(d)]<<10|o[e.charCodeAt(d+1)]<<4|o[e.charCodeAt(d+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,a=[],i=0,s=n-o;i<s;i+=16383)a.push(c(e,i,i+16383>s?s:i+16383));1===o?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=i.length;s<l;++s)r[s]=i[s],o[i.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var o,a,i=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(r[(a=o)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return i.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var a,i,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=f,c-=8);for(i=a&(1<<-c)-1,a>>=-c,c+=r;c>0;i=256*i+e[t+d],d+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return i?NaN:(p?-1:1)*Infinity;i+=Math.pow(2,r),a-=u}return(p?-1:1)*i*Math.pow(2,a-r)},t.write=function(e,t,n,r,o,a){var i,s,l,u=8*a-o-1,c=(1<<u)-1,d=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(s=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(i++,l/=2),i+d>=c?(s=0,i=c):i+d>=1?(s=(t*l-1)*Math.pow(2,o),i+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),i=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(i=i<<o|s,u+=o;u>0;e[n+p]=255&i,p+=h,i/=256,u-=8);e[n+p-h]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(183),e.exports.parser=n(38)},function(e,t,n){var r=n(108),o=n(45),a=n(56)("engine.io-client:socket"),i=n(112),s=n(38),l=n(104),u=n(54);function c(e,t){if(!(this instanceof c))return new c(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized===undefined||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=c,c.priorWebsocketSuccess=!1,o(c.prototype),c.protocol=s.protocol,c.Socket=c,c.Transport=n(73),c.transports=n(108),c.parser=n(38),c.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},c.prototype.open=function(){var e;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},c.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},c.prototype.probe=function(e){a('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(a('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(a('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;c.priorWebsocketSuccess="websocket"===t.name,a('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(a("changing transport and sending upgrade packet"),f(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{a('probe transport "%s" failed',e);var i=new Error("probe error");i.transport=t.name,r.emit("upgradeError",i)}}))}function i(){n||(n=!0,f(),t.close(),t=null)}function s(n){var o=new Error("probe error: "+n);o.transport=t.name,i(),a('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",o)}function l(){s("transport closed")}function u(){s("socket closed")}function d(e){t&&e.name!==t.name&&(a('"%s" works - aborting "%s"',e.name,t.name),i())}function f(){t.removeListener("open",o),t.removeListener("error",s),t.removeListener("close",l),r.removeListener("close",u),r.removeListener("upgrading",d)}c.priorWebsocketSuccess=!1,t.once("open",o),t.once("error",s),t.once("close",l),this.once("close",u),this.once("upgrading",d),t.open()},c.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",c.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},c.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},c.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},c.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},c.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},c.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},c.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},c.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},c.prototype.write=c.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},c.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=undefined),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},c.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}function t(){e.onClose("forced close"),a("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},c.prototype.onError=function(e){a("socket error %j",e),c.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},c.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},c.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~i(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},function(e,t,n){var r=n(72),o=n(109),a=n(45),i=n(55),s=n(56)("engine.io-client:polling-xhr");function l(){}function u(e){if(o.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function c(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=undefined!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=u,e.exports.Request=c,i(u,o),u.prototype.supportsBinary=!0,u.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new c(e)},u.prototype.doWrite=function(e,t){var n="string"!=typeof e&&e!==undefined,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=r},u.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},a(c.prototype),c.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}catch(a){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{t.setRequestHeader("Accept","*/*")}catch(a){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(a){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},s("xhr data %s",this.data),t.send(this.data)}catch(a){return void setTimeout(function(){n.onError(a)},0)}"undefined"!=typeof document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},c.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},c.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},c.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},c.requestsCount=0,c.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",f);else if("function"==typeof addEventListener){var d="onpagehide"in self?"pagehide":"unload";addEventListener(d,f,!1)}function f(){for(var e in c.requests)c.requests.hasOwnProperty(e)&&c.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),a=new Uint8Array(n-t),i=t,s=0;i<n;i++,s++)a[s]=o[i];return a.buffer}},function(e,t){function n(){}e.exports=function(e,t,r){var o=!1;return r=r||n,a.count=e,0===e?t():a;function a(e,n){if(a.count<=0)throw new Error("after called too many times");--a.count,e?(o=!0,t(e),t=r):0!==a.count||o||t(null,n)}}},function(e,t){var n,r,o,a=String.fromCharCode;function i(e){for(var t,n,r=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(e,t){return a(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return a(e);var n="";return 0==(4294965248&e)?n=a(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=a(e>>12&15|224),n+=l(e,6)):0==(4292870144&e)&&(n=a(e>>18&7|240),n+=l(e,12),n+=l(e,6)),n+=a(63&e|128)}function c(){if(o>=r)throw Error("Invalid byte index");var e=255&n[o];if(o++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,a;if(o>r)throw Error("Invalid byte index");if(o==r)return!1;if(t=255&n[o],o++,0==(128&t))return t;if(192==(224&t)){if((a=(31&t)<<6|c())>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&t)){if((a=(15&t)<<12|c()<<6|c())>=2048)return s(a,e)?a:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(a=(7&t)<<18|c()<<12|c()<<6|c())>=65536&&a<=1114111)return a;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=i(e),o=r.length,a=-1,s="";++a<o;)s+=u(r[a],n);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;n=i(e),r=n.length,o=0;for(var l,u=[];!1!==(l=d(s));)u.push(l);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=a(t);return o}(u)}}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),o=r.length,a="";for(n=0;n<o;n+=3)a+=e[r[n]>>2],a+=e[(3&r[n])<<4|r[n+1]>>4],a+=e[(15&r[n+1])<<2|r[n+2]>>6],a+=e[63&r[n+2]];return o%3==2?a=a.substring(0,a.length-1)+"=":o%3==1&&(a=a.substring(0,a.length-2)+"=="),a},t.decode=function(e){var t,r,o,a,i,s=.75*e.length,l=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;t<l;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],a=n[e.charCodeAt(t+2)],i=n[e.charCodeAt(t+3)],d[u++]=r<<2|o>>4,d[u++]=(15&o)<<4|a>>2,d[u++]=(3&a)<<6|63&i;return c}}()},function(e,t){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),a=n&&n.prototype.append&&n.prototype.getBlob;function i(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function s(e,t){t=t||{};var r=new n;return i(e).forEach(function(e){r.append(e)}),t.type?r.getBlob(t.type):r.getBlob()}function l(e,t){return new Blob(i(e),t||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,l.prototype=Blob.prototype),e.exports=r?o?Blob:l:a?s:undefined},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,o=+new Date,a=o-(n||o);e.diff=a,e.prev=n,e.curr=o,n=o;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var l=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;l++;var o=t.formatters[r];if("function"==typeof o){var a=i[l];n=o.call(e,a),i.splice(l,1),l--}return n}),t.formatArgs.call(e,i),(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=o,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r["default"]=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var a=t.instances[n];a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(70),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){(function(t){var r=n(109),o=n(55);e.exports=c;var a,i=/\n/g,s=/\\n/g;function l(){}function u(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{}}function c(e){if(r.call(this,e),this.query=this.query||{},!a){var t=u();a=t.___eio=t.___eio||[]}this.index=a.length;var n=this;a.push(function(e){n.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=l)},!1)}o(c,r),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},c.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},c.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,o=document.createElement("form"),a=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=l,o.method="POST",o.setAttribute("accept-charset","utf-8"),a.name="d",o.appendChild(a),document.body.appendChild(o),this.form=o,this.area=a}function u(){c(),t()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),c(),e=e.replace(s,"\\\n"),this.area.value=e.replace(i,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&u()}:this.iframe.onload=u}}).call(this,n(59))},function(e,t,n){(function(t){var r,o,a=n(73),i=n(38),s=n(54),l=n(55),u=n(111),c=n(56)("engine.io-client:websocket");if("undefined"!=typeof WebSocket)r=WebSocket;else if("undefined"!=typeof self)r=self.WebSocket||self.MozWebSocket;else try{o=n(196)}catch(p){}var d=r||o;function f(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=o),a.call(this,e)}e.exports=f,l(f,a),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(r){return this.emit("error",r)}this.ws.binaryType===undefined&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},f.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,o=0,a=r;o<a;o++)!function(e){i.encodePacket(e,n.supportsBinary,function(o){if(!n.usingBrowserWebSocket){var a={};if(e.options&&(a.compress=e.options.compress),n.perMessageDeflate)("string"==typeof o?t.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(a.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,a)}catch(p){c("websocket closed before onclose event")}--r||s()})}(e[o]);function s(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},f.prototype.onClose=function(){a.prototype.onClose.call(this)},f.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},f.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},f.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===f.prototype.name)}}).call(this,n(62).Buffer)},function(e,t){},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(8)),l=a(n(390)),u={myImageLib:[],lastImageLibKey:null,isDownload:!1},c={myPublicImageLib:[],isDownload:!1},d={images:[],isDownload:!1},f={isShow:!1,searchKey:null,libType:null},p="history",h={"private":[],"public":[]};window.userLibSet&&window.userLibSet.image&&$.extend(!0,h,window.userLibSet.image);var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getSearchObj=function(){return f},t.prototype.closeSeachObj=function(e){f={isShow:!1,searchKey:null,libType:null},e||y.emitSearchChange()},t.prototype.getMyImageLib=function(){return u.myImageLib},t.prototype.getPublicImageLib=function(){return c.myPublicImageLib},t.prototype.getHistoryImages=function(){return d.images},t.prototype.getLastImageLibKey=function(){return u.lastImageLibKey},t.prototype.setLastImageLibKey=function(e){u.lastImageLibKey=e},t.prototype.getIsDownload=function(){return u.isDownload},t.prototype.getPublicIsDownload=function(){return c.isDownload},t.prototype.getHistoryIsDownload=function(){return d.isDownload},t.prototype.setSearchObj=function(e,t){f=$.extend(f,e),t||y.emitSearchChange()},t.prototype.getSearchLib=function(){if(f.isShow){if("public"==f.libType)return y.getPublicImageById(f.searchKey);if("private"==f.libType)return y.getImageLibById(f.searchKey);if("history"==f.libType)return y.getHistoryLib()}},t.prototype.getHistoryLib=function(){return{id:"history",images:d.images,name:"历史上传图片"}},t.prototype.changeImageLibPermission=function(e,t,n){u.myImageLib.every(function(n){return n.id!=t||(n.permission=e,!1)}),n||y.emitSearchChange()},t.prototype.getImageLibById=function(e){var t;return u.myImageLib.every(function(n){return n.id!=e||(t=n,!1)}),t},t.prototype.getPublicImageById=function(e,t){var n,r=-1;return c.myPublicImageLib.every(function(t,o){return t.id!=e||(r=o,n=t,!1)}),t?r:n},t.prototype.initHistoryImages=function(e){d.images=e,d.isDownload=!0,y.emitChange()},t.prototype.getOpenLibId=function(){return p},t.prototype.openChange=function(e,t){p=e.openLibId,t||y.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.getImageLibSet=function(){return h},t.prototype.libsManage=function(e){h[e.type]=e.data},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitSearchChange=function(){this.emit("searchChange")},t.prototype.addSearchChangeListener=function(e){this.on("searchChange",e)},t.prototype.removeSearchChangeListener=function(e){this.removeListener("searchChange",e)},t}(i.EventEmitter);s["default"].register(function(e){switch(e.actionType){case l["default"].IMAGELIB_INIT:h=e.myImageLib,g=e.isDownload,m=[],h.forEach(function(e){var t=[];e.images.forEach(function(e){t.push({id:e._id,images:e.images,name:e.name})}),m.push({id:e._id,images:t,name:e.name})}),u.myImageLib=m,g&&(u.isDownload=!0),y.emitChange();break;case l["default"].IMAGELIB_PUBLICINIT:!function(e,t){var n=[];e.forEach(function(e){var t=[];e.images.forEach(function(e){t.push({id:e._id,images:e.images,name:e.name})}),n.push({id:e._id,images:t,name:e.name})}),c.myPublicImageLib=n,t&&(c.isDownload=!0)}(e.publicImageLib,e.isDownload),y.emitChange();break;case l["default"].IMAGELIB_ADD:p=e.imageLib,u.myImageLib.unshift(p),y.emitChange();break;case l["default"].IMAGELIB_SCROLLTOP:s=e.imageLibId,f=e.scrollTop,u.myImageLib.forEach(function(e){e.id==s&&(e.scrollTop=f)}),y.emitChange();break;case l["default"].IMAGELIB_ADDIMAGE:a=e.id,i=e.image,u.myImageLib.forEach(function(e){e.id==a&&(e.scrollTop=0,$.isArray(i)?e.images.unshift.apply(e.images,i):e.images.unshift(i))}),y.emitChange();break;case l["default"].IMAGELIB_ADDHISTORYIMAGE:!function(e){d.images.splice(0,0,e)}(e.image),y.emitChange();break;case l["default"].IMAGELIB_UPDATEIMAGE:!function(e,t,n){u.myImageLib.forEach(function(r){r.id==e&&r.images.forEach(function(e){e.id==t&&$.extend(e,n)})})}(e.id,e.imageId,e.image),y.emitChange();break;case l["default"].IMAGELIB_DELIMAGE:!function(e,t){u.myImageLib.forEach(function(n){if(n.id==t){var r=!1;n.images.forEach(function(t,n){t.id==e&&(r=n)}),!1!==r&&n.images.splice(r,1)}})}(e.imageId,e.imageLibId),y.emitChange();break;case l["default"].IMAGELIB_DELHISTORYIMAGE:!function(e,t){d.images[e].id==t&&d.images.splice(e,1)}(e.id,e.key),y.emitChange();break;case l["default"].IMAGELIB_CONCAT:n=e.thisId,r=e.otherId,u.myImageLib.forEach(function(e){e.id==n&&(o=e.images)}),u.myImageLib.forEach(function(e){e.id==r&&(e.images=e.images.concat(o))}),y.emitChange();break;case l["default"].IMAGELIB_DELETE:!function(e){var t;u.myImageLib.forEach(function(n,r){n.id==e&&(t=r)}),u.myImageLib.splice(t,1)}(e.imageLibId),y.emitChange();break;case l["default"].IMAGELIB_EDIT:!function(e,t){u.myImageLib.forEach(function(n){n.id==t&&(n.name=e,n.isEdit&&delete n.isEdit)})}(e.name,e.imageLibId),y.emitChange();break;case l["default"].IMAGELIB_CHANGEEDIT:!function(e,t){u.myImageLib.forEach(function(n){n.id==e&&(t?n.isEdit=!0:n.isEdit&&delete n.isEdit)})}(e.imageLibId,e.isEdit),y.emitChange();break;case l["default"].IMAGELIB_OPENCHANGE:y.openChange(e.option);break;case l["default"].IMAGELIB_LIBSMANAGE:("public"==(t=e.options).type?c.myPublicImageLib:u.myImageLib).every(function(e){return $.isUndefined(t.data[e.id])||(t.data[e.id]?e.hide=!0:$.isUndefined(e.hide)||delete e.hide),!0}),y.emitChange()}var t,n,r,o,a,i,s,f,p,h,g,m});var y=new g;t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(43),l=n(258),u=n(20),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.children=new a.Collection,t}return o(t,e),t.prototype.getChildren=function(e){if(!e)return this.children;var t=new a.Collection;return this.children.each(function(n){e(n)&&t.push(n)}),t},t.prototype.hasChildren=function(){return this.getChildren().length>0},t.prototype.removeChildren=function(){for(var e,t=0;t<this.children.length;t++)(e=this.children[t]).parent=null,e.index=0,e.remove();return this.children=new a.Collection,this},t.prototype.destroyChildren=function(){for(var e,t=0;t<this.children.length;t++)(e=this.children[t]).parent=null,e.index=0,e.destroy();return this.children=new a.Collection,this},t.prototype.add=function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}if(e.getParent())return e.moveTo(this),this;var n=this.children;return this._validateAdd(e),e.index=n.length,e.parent=this,n.push(e),this._fire("add",{child:e}),e.isDragging()&&l.DD.anim.setLayers(e.getLayer()),this},t.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),e.prototype.destroy.call(this),this},t.prototype.find=function(e){return this._generalFind(e,!1)},t.prototype.get=function(e){return a.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(e)},t.prototype.findOne=function(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:undefined},t.prototype._generalFind=function(e,t){var n=[];return"string"==typeof e?n=this._findByString(e):"function"==typeof e&&(n=this._findByFunction(e,t)),a.Collection.toCollection(n)},t.prototype._findByString=function(e){var t,n,r,o,i,s,l,u=[],c=e.replace(/ /g,"").split(","),d=c.length;for(t=0;t<d;t++){if(r=c[t],!a.Util.isValidSelector(r)){var f='Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".\nIf you have a custom shape with such className, please change it to start with upper letter like "Triangle".\nKonva is awesome, right?';a.Util.warn(f)}if("#"===r.charAt(0))(i=this._getNodeById(r.slice(1)))&&u.push(i);else if("."===r.charAt(0))o=this._getNodesByName(r.slice(1)),u=u.concat(o);else for(l=(s=this.getChildren()).length,n=0;n<l;n++)u=u.concat(s[n]._get(r))}return u},t.prototype._findByFunction=function(e,t){var n=[],r=function(o){if(!(t&&n.length>0)){var a=o.getChildren(),i=a.length;e(o)&&(n=n.concat(o));for(var s=0;s<i;s++)r(a[s])}};return r(this),n},t.prototype._getNodeById=function(e){var t=s.ids[e];return t!==undefined&&this.isAncestorOf(t)?t:null},t.prototype._getNodesByName=function(e){var t=s.names[e]||[];return this._getDescendants(t)},t.prototype._get=function(e){for(var t=s.Node.prototype._get.call(this,e),n=this.getChildren(),r=n.length,o=0;o<r;o++)t=t.concat(n[o]._get(e));return t},t.prototype.toObject=function(){var e=s.Node.prototype.toObject.call(this);e.children=[];for(var t=this.getChildren(),n=t.length,r=0;r<n;r++){var o=t[r];e.children.push(o.toObject())}return e},t.prototype._getDescendants=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var o=e[r];this.isAncestorOf(o)&&t.push(o)}return t},t.prototype.isAncestorOf=function(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1},t.prototype.clone=function(e){var t=s.Node.prototype.clone.call(this,e);return this.getChildren().each(function(e){t.add(e.clone())}),t},t.prototype.getAllIntersections=function(e){var t=[];return this.find("Shape").each(function(n){n.isVisible()&&n.intersects(e)&&t.push(n)}),t},t.prototype._setChildrenIndices=function(){this.children.each(function(e,t){e.index=t})},t.prototype.drawScene=function(e,t,n){var r=this.getLayer(),o=e||r&&r.getCanvas(),a=o&&o.getContext(),i=this._getCanvasCache(),s=i&&i.scene;return(this.isVisible()||n)&&(!n&&s?(a.save(),r._applyTransform(this,a,t),this._drawCachedSceneCanvas(a),a.restore()):this._drawChildren(o,"drawScene",t,!1,n,n)),this},t.prototype.drawHit=function(e,t,n){var r=this.getLayer(),o=e||r&&r.hitCanvas,a=o&&o.getContext(),i=this._getCanvasCache(),s=i&&i.hit;return(this.shouldDrawHit(o)||n)&&(!n&&s?(a.save(),r._applyTransform(this,a,t),this._drawCachedHitCanvas(a),a.restore()):this._drawChildren(o,"drawHit",t,!1,n,n)),this},t.prototype._drawChildren=function(e,t,n,r,o,a){var i,s,l=this.getLayer(),u=e&&e.getContext(),c=this.clipWidth(),d=this.clipHeight(),f=this.clipFunc(),p=c&&d||f;if(p&&l){u.save();var h=this.getAbsoluteTransform(n),g=h.getMatrix();u.transform(g[0],g[1],g[2],g[3],g[4],g[5]),u.beginPath(),f?f.call(this,u,this):(i=this.clipX(),s=this.clipY(),u.rect(i,s,c,d)),u.clip(),g=h.copy().invert().getMatrix(),u.transform(g[0],g[1],g[2],g[3],g[4],g[5])}var y="source-over"!==this.globalCompositeOperation()&&!a;y&&l&&(u.save(),u._applyGlobalCompositeOperation(this)),this.children.each(function(a){a[t](e,n,r,o)}),y&&l&&u.restore(),p&&l&&u.restore()},t.prototype.shouldDrawHit=function(e){var t=this.getLayer(),n=l.DD.isDragging&&-1!==l.DD.anim.getLayers().indexOf(t);return e&&e.isCache||t&&t.hitGraphEnabled()&&this.isVisible()&&!n},t.prototype.getClientRect=function(e){var t,n,r,o,a=(e=e||{}).skipTransform,i=e.relativeTo,s={x:Infinity,y:Infinity,width:0,height:0},l=this;this.children.each(function(a){if(a.getVisible()){var i=a.getClientRect({relativeTo:l,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===i.width&&0===i.height||(t===undefined?(t=i.x,n=i.y,r=i.x+i.width,o=i.y+i.height):(t=Math.min(t,i.x),n=Math.min(n,i.y),r=Math.max(r,i.x+i.width),o=Math.max(o,i.y+i.height)))}});for(var u=this.find("Shape"),c=!1,d=0;d<u.length;d++){if(u[d]._isVisible(this)){c=!0;break}}return s=c?{x:t,y:n,width:r-t,height:o-n}:{x:0,y:0,width:0,height:0},a?s:this._transformedRect(s,i)},t}(s.Node);t.Container=c,i.Factory.addComponentsGetterSetter(c,"clip",["x","y","width","height"]),i.Factory.addGetterSetter(c,"clipX",undefined,u.getNumberValidator()),i.Factory.addGetterSetter(c,"clipY",undefined,u.getNumberValidator()),i.Factory.addGetterSetter(c,"clipWidth",undefined,u.getNumberValidator()),i.Factory.addGetterSetter(c,"clipHeight",undefined,u.getNumberValidator()),i.Factory.addGetterSetter(c,"clipFunc"),a.Collection.mapMethods(c)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(19)),c=s(n(79)),d=s(n(3)),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,popup:c["default"].getPopup()},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onPopupChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onPopupChange)},t.prototype._onPopupChange=function(){this.setState({renderChange:this.state.renderChange+1,popup:c["default"].getPopup()})},t.prototype._closeBtnClick=function(){this.state.popup.closeBtnFunc?this.state.popup.closeBtnFunc(function(){u["default"].hide()}):this.state.popup.cancelBtnFunc?this.state.popup.cancelBtnFunc(function(){u["default"].hide()}):u["default"].hide()},t.prototype._cencelBtnClick=function(){this.state.popup.cancelBtnFunc?this.state.popup.cancelBtnFunc(function(){u["default"].hide()}):u["default"].hide()},t.prototype._submitBtnClick=function(){this.state.popup.submitBtnFunc?this.state.popup.submitBtnFunc(function(){u["default"].hide()}):u["default"].hide()},t.prototype.render=function(){if(!this.state.popup.isShow)return null;$.isRender("main")&&Window.log("PopupRender");var e={width:this.state.popup.width};return this.state.popup.maxZindex&&(e.top=-1),l["default"].createElement("div",{className:"main-fixed-comp popup-mask",style:this.state.popup.maxZindex?{zIndex:1e7}:{}},l["default"].createElement("div",{className:"popup"+(this.state.popup.noBottom?" no-bottom":"")+" "+this.state.popup.type,style:e},l["default"].createElement("div",{className:"popup-title"},this.state.popup.title,l["default"].createElement("div",{className:"popup-close-btn cursor-pointer base-img",onClick:this._closeBtnClick})),this.state.popup.content,this.state.popup.noBottom?undefined:l["default"].createElement("div",{className:"popup-bottom"},this.state.popup.bottomContent,this.state.popup.noSubmit?undefined:l["default"].createElement("a",{className:"base-btn small submit-btn",onClick:this._submitBtnClick},this.state.popup.submitBtnName),this.state.popup.noCancel?undefined:l["default"].createElement("a",{className:"base-btn gray small",onClick:this._cencelBtnClick},this.state.popup.cancelBtnName))))},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onPopupChange",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_closeBtnClick",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_cencelBtnClick",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_submitBtnClick",null),t}(l["default"].Component);t["default"]=f},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(397));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={rightMenuUpdate:function(e){o["default"].dispatch({actionType:a["default"].RIGHTMENU_UPDATE,left:e.left,top:e.top,content:e.content})},show:function(e){o["default"].dispatch({actionType:a["default"].RIGHTMENU_SHOW,isShow:e})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"RightMenuActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/RightMenuActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/RightMenuActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){var r=n(84).Symbol;e.exports=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=n(46),i=n(486);function s(e){var t=e?a.getPageFlowPageVal():o["default"].getPages(),n={};for(var r in t)n[r]=[t[r].left,t[r].top];return $.pagesMaxPosi(n)}function l(e){void 0===e&&(e=!1);var t=window,n=t.isPc,r=t.phoneSize,o={left:0,top:0};if(n)return o;var a=s(e);return $.isNull(a.top)?o:{left:a.left+r.width+i.PAGE_LEFT_RIGHT_PADDING,top:a.top}}t.getPagesMaxPosi=s,t.getNewPagePosi=l,t["default"]={getPagesMaxPosi:s,getNewPagePosi:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["map","audio","video","webPage"],o={isExtraBaseContr:function(e){return-1!=r.indexOf(e)},getExtraBaseContr:function(){return r}};t["default"]=o},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(162)),d=l(n(207)),f=l(n(101)),p=l(n(3)),h=0,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,box:d["default"].getBox(),searchVal:"",scrollTop:0},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){d["default"].addChangeListener(this._onDropdownBoxChange)},t.prototype.componentWillUnmount=function(){d["default"].removeChangeListener(this._onDropdownBoxChange)},t.prototype.componentDidUpdate=function(){var e=$("#dropdownBoxSearch");e.length>0&&!e.is(":focus")&&e.focus()},t.prototype._onDropdownBoxChange=function(){this.setState({renderChange:this.state.renderChange+1,box:d["default"].getBox(),scrollTop:0,searchVal:""})},t.prototype._searchChange=function(e){this.setState({renderChange:this.state.renderChange+1,scrollTop:0,searchVal:e.currentTarget.value})},t.prototype._changeScrollTop=function(e){this.state.scrollTop!=e&&this.setState({renderChange:this.state.renderChange+1,scrollTop:e})},t.prototype._boxWheel=function(e){var t=this.state.box,n=$.setRegion((this.state.scrollTop?this.state.scrollTop:0)-e.deltaY,t.maxH-h,0);this.state.scrollTop!=n&&this.setState({renderChange:this.state.renderChange+1,scrollTop:n}),0!==n&&n!=t.maxH-h&&e.preventDefault()},t.prototype._choose=function(e){this.state.box.callback&&this.state.box.callback(e.currentTarget.getAttribute("data-text"),e.currentTarget.getAttribute("data-value"),e),f["default"].hide(),e.stopPropagation()},t.prototype._mouseEnter=function(e){this.state.box.mouseEnter&&this.state.box.mouseEnter(e.currentTarget.getAttribute("data-text"),e.currentTarget.getAttribute("data-value"),e),e.stopPropagation()},t.prototype._mouseLeave=function(e){this.state.box.mouseLeave&&this.state.box.mouseLeave(e.currentTarget.getAttribute("data-text"),e.currentTarget.getAttribute("data-value"),e),e.stopPropagation()},t.prototype.render=function(){if(!this.state.box.show)return null;$.isRender("main")&&Window.log("DropdownBoxRender");var e,t,n=this,r=n.state,o=r.searchVal,i=r.box,s=[],l={};return i.hasSearch&&i.values.length>=10&&(e=u["default"].createElement("div",{className:"drop-box-search"},u["default"].createElement("input",{id:"dropdownBoxSearch",value:o,placeholder:"搜索...",onChange:n._searchChange,onClick:$.stopPropagation}),u["default"].createElement("i",{className:"search-icon"}))),h=0,i.values.forEach(function(t,r){if(i.includeSelected||t!=i.value){var a=o&&$.searchIn(o,i.texts[r]);if(e&&o&&!a)return;var l=t==i.value;h+=i.itemH,s.push(u["default"].createElement("li",{key:t,className:(l?"active":"")+" "+i.itemClassName,onClick:l?$.noop:n._choose,onMouseEnter:n._mouseEnter,onMouseLeave:n._mouseLeave,"data-text":i.texts[r],"data-value":t,dangerouslySetInnerHTML:{__html:a||i.texts[r]}}))}}),h>i.maxH&&(t=u["default"].createElement(c["default"],a({},{boxHeight:i.maxH+(i?32:0),maxLength:h,scrollTop:n.state.scrollTop,changeScrollTop:n._changeScrollTop})),l={onWheel:n._boxWheel}),u["default"].createElement("div",a({className:"main-fixed-comp dropdownBox "+i.type+" "+(i.dropdownClass?i.dropdownClass:"")+(e?" drop-has-search":""),style:i.styles},l),e,u["default"].createElement("ul",{style:{marginTop:n.state.scrollTop}},s),t)},i([p["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onDropdownBoxChange",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_searchChange",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_changeScrollTop",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_boxWheel",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_choose",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_mouseEnter",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_mouseLeave",null),t}(u["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(103),s=a(n(8)),l=n(167),u=n(69).EventEmitter,c={show:!1,target:null,text:"",value:"",texts:[],values:[],type:"",styles:{width:0,top:0,left:0,maxHeight:0},includeSelected:!1,itemH:32,maxH:256,listH:0,callback:$.noop,mouseEnter:$.noop,mouseLeave:$.noop};var d=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getBox=function(){return c},t.prototype.isShow=function(){return c.show},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(u));s["default"].register(function(e){switch(e.actionType){case i.DropdownBoxActionID.DROPDOWNBOX_SHOW:!function(e){c.target&&$.removeClass(c.target,"on"),c.show=!0,$.extend(c,e),c.target="DIV"==c.target.nodeName?c.target:c.target.parentNode;var t=$.offset(c.target),n=""===c.text?c.texts.length:c.texts.length-1;e.itemH&&(c.maxH=e.itemH*e.itemNum),c.listH=n*c.itemH;var r=c.listH>c.maxH?c.maxH:c.listH;if(window.isPc){var o=$.getElById("allPanel");o&&$.hasClass(o,"left-unfold")&&(t.left-=l.LEFT_PADDING_SIZE)}c.styles={width:e.dropdownBoxWidth?e.dropdownBoxWidth+"px":c.target.clientWidth+"px",left:t.left+(e.dropdownBoxLeft||0)+"px",maxHeight:c.maxH+"px"},$.getWinSize().height-($.offset(c.target).top+40)<r?c.styles.top=t.top-r-8+"px":c.styles.top=t.top+c.itemH+"px",$.addClass(c.target,"on")}(e.options),d.emitChange();break;case i.DropdownBoxActionID.DROPDOWNBOX_HIDE:c.show&&(c.show=!1,c.type="",c.itemClassName="",c.callback=$.noop,c.mouseEnter=$.noop,c.mouseLeave=$.noop,c.target&&$.removeClass(c.target,"on"),d.emitChange());break;case i.DropdownBoxActionID.DROPDOWNBOX_EDIT:t=e.options,$.extend(c,t),d.emitChange()}var t}),t["default"]=d},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(40)),a=r(n(6)),i=r(n(5)),s=r(n(29)),l=r(n(10)),u=n(77),c=window.$;function d(e,t){var n=o["default"].getTableData(),r=n.selectContr,u=n.selectCell;if(r&&u){var d={},f=i["default"].isPrdView(),p=(r=f?s["default"].getPrdElementById(r.id):a["default"].getContrByAll(c.getContrId(r))).columnPosi,h=r.linePosi,g=c.getMinMaxColumnLine(u,r),y=g.minColumn,m=g.maxColumn,_=g.minLine,v=g.maxLine;if("width"==e){d.width=r.width;for(var b=y;b<=m;b++){var w=p[b];p[b]=t,d.width+=t-w}d.columnPosi=p}else if("height"==e){d.height=r.height;for(b=_;b<=v;b++){var C=h[b];h[b]=t,d.height+=t-C}d.linePosi=h}f?(s["default"].updateValById({id:r.id,updateVal:d}),l["default"].createData({type:"changeTableCellWH",name:"PRD 改变单元格"+("width"==e?"宽":"高"),autoSaveType:"prd"})):(a["default"].contrUpdate(c.getContrId(r),d,!0),l["default"].createData({type:"changeTableCellWH",name:"["+r.name+"] 改变单元格"+("width"==e?"宽":"高"),handleObjType:r.type,autoSaveType:"pageContrs"})),o["default"].emitChange()}}function f(e){void 0===e&&(e=!1);var t=o["default"].getTableData(),n=t.selectContr,r=t.selectCell;if(n&&r){var u=i["default"].isPrdView();n=u?s["default"].getPrdElementById(n.id):a["default"].getContrByAll(c.getContrId(n));for(var d=c.getMinMaxColumnLine(r,n),f=d.minColumn,p=d.maxColumn,h=d.minLine,g=d.maxLine,y=n.child,m=c.extend(!0,{},y),_=f;_<=p;_++)for(var v=h;v<=g;v++)if(_===f&&v===h){m[_+"_"+v]=m[_+"_"+v]||{};var b=m[_+"_"+v];b.mergeColumn=p-f,b.mergeLine=g-h}else m[_+"_"+v]={mergeKey:f+"_"+h};if(u)s["default"].updateValById({id:n.id,updateVal:{child:m},noEmit:e}),e||l["default"].createData({type:"tableMergeCell",name:"PRD 表格合并单元格",autoSaveType:"prd"});else{var w=c.getContrId(n);a["default"].contrUpdate(w,{child:m},!0,e,!0),e||l["default"].createData({type:"tableMergeCell",name:"["+n.name+"] 表格合并单元格",handleObjType:n.type,autoSaveType:"pageContrs"})}o["default"].setTableSelectCell([{columnIndex:f,lineIndex:h},{columnIndex:f,lineIndex:h}],e),e||o["default"].emitChange()}}function p(e){void 0===e&&(e=!1);var t=o["default"].getTableData(),n=t.selectContr,r=t.selectCell;if(n&&r){var d=i["default"].isPrdView();n=d?s["default"].getPrdElementById(n.id):a["default"].getContrByAll(c.getContrId(n));for(var f=u.getOneCellData(r[0]),p=r[0].columnIndex,h=r[0].lineIndex,g=p+(f.mergeColumn||0),y=h+(f.mergeLine||0),m=n.child,_=c.extend(!0,{},m),v=p;v<=g;v++)for(var b=h;b<=y;b++)if(v===p&&b===h){var w=_[v+"_"+b];w.mergeColumn=0,w.mergeLine=0}else _[v+"_"+b]&&delete _[v+"_"+b];if(d)s["default"].updateValById({id:n.id,updateVal:{child:_},noEmit:e}),e||l["default"].createData({type:"tableResolveCell",name:"PRD 表格分解单元格",autoSaveType:"prd"});else{var C=c.getContrId(n);a["default"].contrUpdate(C,{child:_},!0,e,!0),e||l["default"].createData({type:"tableResolveCell",name:"["+n.name+"] 表格分解单元格",handleObjType:n.type,autoSaveType:"pageContrs"})}o["default"].setTableSelectCell([{columnIndex:p,lineIndex:h},{columnIndex:g,lineIndex:y}],e),e||o["default"].emitChange()}}function h(e){void 0===e&&(e=!1);var t=o["default"].getTableData(),n=t.selectContr,r=t.selectCell,u=o["default"].getCopySaveCellData(),d=u[0].length,f=u.length;if(n&&r){var p=i["default"].isPrdView();n=p?s["default"].getPrdElementById(n.id):a["default"].getContrByAll(c.getContrId(n));for(var h=c.getMinMaxColumnLine(r,n),g=h.minColumn,y=h.maxColumn,m=h.minLine,_=h.maxLine,v=n.child,b=c.extend(!0,{},v),w=g;w<=y;w++)for(var C=m;C<=_;C++){var x=u[(w-g)%f][(C-m)%d];c.isEmptyObj(x)?b[w+"_"+C]&&delete b[w+"_"+C]:b[w+"_"+C]=c.extend(!0,{},x)}if(p)s["default"].updateValById({id:n.id,updateVal:{child:b},noEmit:e}),e||l["default"].createData({type:"tablePasteCell",name:"PRD 粘贴单元格内容",autoSaveType:"prd"});else{var S=c.getContrId(n);a["default"].contrUpdate(S,{child:b},!0,e,!0),e||l["default"].createData({type:"tablePasteCell",name:"["+n.name+"] 粘贴单元格内容",handleObjType:n.type,autoSaveType:"pageContrs"})}e||o["default"].emitChange()}}function g(e,t,n){void 0===n&&(n=!1);var r=o["default"].getTableData(),l=r.selectContr,d=r.selectCell;if(l&&d){var f=i["default"].isPrdView();l=f?s["default"].getPrdElementById(l.id):a["default"].getContrByAll(c.getContrId(l));for(var p=c.getMinMaxColumnLine(d,l),h=p.minColumn,g=p.maxColumn,y=p.minLine,m=p.maxLine,_=l.child,v=h;v<=g;v++)for(var b=y;b<=m;b++){var w=u.findTableCell({columnIndex:v,lineIndex:b});c.isFunc(e)?_[v+"_"+b]=c.extend(!0,w,e()):_[v+"_"+b]=c.extend(!0,w,e)}if(f)s["default"].updateValById({id:l.id,updateVal:{child:_},noEmit:n});else{var C=c.getContrId(l);a["default"].contrUpdate(C,{child:_},!0,n,!0)}o["default"].emitChange()}}t.changeTableCellWH=d,t.mergeCell=f,t.resolveCell=p,t.pasteCell=h,t.updateCellData=g,t["default"]={changeTableCellWH:d,mergeCell:f,resolveCell:p,pasteCell:h,updateCellData:g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$,o={primaryColor:"rgba(24, 144, 255, 1)",backgroundColor:"rgba(255, 255, 255, 1)",normalColor:"rgba(80, 80, 80, 1)",borderColor:"rgba(204, 204, 204, 1)",baseBorderW:1,baseRadius:4,baseFontSize:14,baseIconSize:20},a="标题 ",i="我们是一个小小的团队，但是有着大大的梦想。我们想做最酷的产品，想做最有挑战的技术，想用我们的力量改变国内研发团队的工作习惯! 现在，我们向全国的小伙伴发出邀请，欢迎加入「即时原型」！";function s(e,t){return void 0===t&&(t=!1),{title:a+e,active:t,unfold:!1,content:[i]}}var l=new(function(){function e(){}return e.prototype.getDefaultData=function(e,t){var n;switch(e){case"collapse":case"accordionM":n=[s("1",!0),s("2"),s("3")]}switch(e){case"collapse":case"accordionM":t&&t.length&&(n=[],t.forEach(function(e,o){var a=o+1+"";n[o]||(n[o]=s(a)),r.isUndefined(t[o])||r.extend(!0,n[o],t[o])}))}return n},e.prototype.getDefaultStyle=function(){return o},e}());t["default"]=l},,,function(e,t,n){var r=n(1467);e.exports=function(e){if(t=e,t&&t.window===t)return e;var t;var n=r(e);if(o){n.parentWindow.execScript("document._parentWindow = window;","Javascript");var a=n._parentWindow;return n._parentWindow=null,a}return n.defaultView||n.parentWindow};var o=n(1468)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(23)),a=r(n(5));function i(e,t,n){void 0===n&&(n=!1);var r=[];o["default"].getStage().getStage().find(".contrs").each(function(e){t.forEach(function(t){if(e.attrs.id.split("-")[0]=="mainBox"+t){var n=e._getCanvasCache();e.children&&e.children.length>0?n?(window.renderActivePage=!0,e.clearCache(),r.push(e)):r.push(e):(window.renderActivePage=!0,n&&(e.clearCache(),r.push(e)))}})}),n||a["default"].emitPagesChange(),o["default"].emitChange(),setTimeout(function(){r.length>0?(n||a["default"].emitPagesChange(),o["default"].emitChange(),e&&e(),window.renderActivePage=!1,r.forEach(function(e){e._getCanvasCache()&&e.cache({pixelRatio:window.globalPixelRatio,drawBorder:!1})})):e&&e()},0)}function s(e,t){void 0===t&&(t=!1),i(e,[a["default"].getActivePage()],t)}t.cacheCanvasPages=i,t.cacheActiveCanvasPage=s,t["default"]={cacheActiveCanvasPage:s,cacheCanvasPages:i}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});t["default"]=r({},{width:1e3,height:1500})},,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(491)),a=r(n(132)),i=r(n(492)),s=r(n(23)),l=r(n(5)),u=r(n(27)),c=r(n(51)),d=n(332),f=n(318);function p(e){d.canvasZoomChange(e),o["default"].change(e),s["default"].emitChange(),u["default"].emitChange()}function h(e){var t=e.left,n=e.top;f.phoneConBoxChangePos(e),d.canvasPosChange({x:t,y:n})}function g(e,t){var n=[e.pageX,e.pageY],r=parseInt(e.currentTarget.getAttribute("data-minwidth"));$.setDrag({name:"addLineDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var o=$.getWindowWH().width/r;h({left:t.left-(e.pageX-n[0])*o,top:t.top-(e.pageY-n[1])*o}),n=[e.pageX,e.pageY]},endFunc:function(){i["default"].optimizationOff()}}),e.stopPropagation()}t.zoomChange=p,t.viewZoomChange=function(e){d.canvasZoomChange(e),a["default"].changeZoom(e),c["default"].emitChange(),l["default"].isMultiFixed()&&(window.renderPages=!0,setTimeout(function(){window.renderPages=!1},0)),s["default"].emitChange(),setTimeout(function(){u["default"].emitChange()},0)},t.posChange=h,t.pageGuideDragMouseDown=g,t["default"]={zoomChange:p,posChange:h,pageGuideDragMouseDown:g}},function(e,t,n){"use strict";function r(e){return void 0===e}function o(e){return"[object Array]"===toString.apply(e)}function a(e){return"[object String]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isUndefined=r,t.isArray=o,t.isString=a,t["default"]={isUndefined:r,isArray:o,isString:a}},,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=r(n(34)),i=r(n(29)),s=r(n(91)),l=r(n(67)),u=n(674),c=n(66).createJsonDiff(),d=window.$,f=["textFontSize","fontSize","fontSizeText","isInnerLink","backColor","horizontal","child","text","textColor","isB","isI","isU","isS","styleIndex","cutVals","borderType","hasBorder","isShowName","cutTop","previewMode","webMode","height","id","isFixedWH","name","pageId","type","width","x","y","bgColor","columnPosi","hasBackColor","innerBorder","lineMin","linePosi","outerBorder","rowMin","shadow","textAlign","isLink","isCreating","isOpen","modifyTitle","phoneShellType","isTutorial","pageFlowId","selectIndex","webDesc","webUrl","pageKey","remarkId","lineId","src","oriName","oriWidth","oriHeight","boxHeight","boxWidth","left","top","lastContent","content","commentHeight","commentPercent","commentWidth","endKey","endPoint","endPosi","fixedArr","hasComment","isHide","lineType","noEndSupply","noStartSupply","startKey","startPoint","startPosi","structKey"];function p(e){var t=f.indexOf(e);return-1!=t?t.toString(16):e}function h(e,t,n,r){void 0===t&&(t={}),void 0===n&&(n=!1),void 0===r&&(r=!1),"null"===t&&(t=u.getDefaultVal(e[n?"type":p("type")]));var o=function(o){var a=n?p(o):function(e){return/^[a-f0-9]+$/.test(e)?f[parseInt(e,16)]:e}(o);if(a!=o){var i=function(e){var t=e.parentObj,n=e.key,r=e.newKey,o=e.diffFunc,a=void 0===o?d.noop:o,i=e.addValFunc,s=void 0===i?d.noop:i,l=e.isChild,u=void 0!==l&&l,c=t[n];if(delete t[n],s(),a(c))return t[r]=c,!0;"backColor"==n&&u&&delete t.hasBackColor;return!1}({parentObj:e,key:o,newKey:a,diffFunc:n?function(e){return!!(d.isObject(e)||d.isArray(e)?c.diff(e,t[o]):e!=t[o])}:function(){return!0},addValFunc:n?d.noop:function(){t[a]&&d.isUndefined(e[a])&&(e[a]=t[a])},isChild:r});if(d.isObject(e[a])){if(i)if(o==(n?"child":p("child")))for(var s in e[a])h(e[a][s],t[o],n,!0);else h(e[a],t[o],n)}else d.isArray(e[a])&&e[a][0]&&d.isObject(e[a][0])&&e[a].forEach(function(e,r){h(e,t[o][r],n)})}};for(var a in e)o(a)}function g(){var e=a["default"].getPrdSet(),t=e.createType,n=e.structHierarchy,r=d.extend(!0,{},i["default"].getPrdElements()),o=d.extend(!0,{},l["default"].getAllLine());for(var u in y(r,!0),r)h(r[u],"null",!0);for(var u in o)h(o[u],{},!0);return{prd:{createType:t,structHierarchy:n},prdStruct:s["default"].getAllPrdStruct(),prdElement:r,prdAllLine:o}}function y(e,t){for(var n in void 0===t&&(t=!1),e){var r=e[n],a=r.isEdit,s=r.content,l=r.type,u=r.id;if(d.isUndefined(a)||delete r.isEdit,"text"==l)if(t)r.content=o.Document.isDocument(s)?s.toJSON():s;else{var f=i["default"].getPrdElementById(u),p=f&&f.content;if((p=p&&(o.Document.isDocument(p)?p.toJSON():p))&&!c.diff(s,p))r.content=f.content;else{"document"==s.object&&(s=m(s));try{r.content="document"==s.object?o.Document.fromJSON(s):s}catch(h){console.log(s,"content"),console.log(h)}}}}return e}function m(e){var t=[];return e.nodes.forEach(function(n,r){if(n){var o=e.nodes[r];o.nodes&&(e.nodes[r]=m(o))}else t.push(r)}),t.reverse().forEach(function(t){e.nodes.splice(t,1)}),e}function _(e,t){void 0===t&&(t=!1);var n=d.extend(!0,{},e),r=n.prd,o=n.prdStruct,u=n.prdElement,c=n.prdAllLine,f=d.query(".element-edit"),p=f&&f.getAttribute("data-id");for(var g in u)h(u[g],"null");for(var g in function(e){for(var t in e)e[t]&&(e[t][40]>1||e[t][40]<0)&&(e[t][40]=.5),e[t]&&d.isUndefined(e[t][48])&&delete e[t]}(c),c)h(c[g]);y(u),p&&u[p]&&(u[p].isEdit=!0),i["default"].setPrdElements(u),a["default"].changePrdData(r),s["default"].setAllPrdStruct(o),l["default"].setAllLine(c||{})}t.clearDefaultValue=h,t.getPrdData=g,t.setPrdData=_,t["default"]={setPrdData:_,getPrdData:g}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(40)),a=r(n(94)),i=r(n(6)),s=r(n(10)),l=r(n(51)),u=r(n(5)),c=r(n(29)),d=r(n(126)),f=r(n(202)),p=r(n(12)),h=n(77),g=n(336),y=n(481),m=n(208),_=n(77),v=n(720),b=n(26),w=window.$,C=!1,x=!1;function S(e,t,n,r,o){var a=e.columnIndex,i=e.lineIndex,s=t.columnIndex,l=t.lineIndex,u=r[a+"_"+i];u&&u.mergeKey&&(u=r[u.mergeKey]);var c=w.extend(!0,{},u||{}),d=c.mergeColumn,f=c.mergeLine;if(d&&(c.mergeColumn=0),f&&(c.mergeLine=0),"right"===n&&s>=a){o.isChange||(o.isChange=!0);for(var p=a+(d||0)+1;p<=s;p++){(h=r[p+"_"+i])&&(h.mergeColumn||h.mergeLine)||(u?r[p+"_"+i]=w.extend(!0,{},c):r[p+"_"+i]&&delete r[p+"_"+i])}}else if("left"===n&&s<=a){o.isChange||(o.isChange=!0);for(p=a-1;p>=s;p--){(h=r[p+"_"+i])&&(h.mergeColumn||h.mergeLine)||(u?r[p+"_"+i]=w.extend(!0,{},c):r[p+"_"+i]&&delete r[p+"_"+i])}}else if("bottom"===n&&l>=i){o.isChange||(o.isChange=!0);for(p=i+(f||0)+1;p<=l;p++){(h=r[a+"_"+p])&&(h.mergeColumn||h.mergeLine)||(u?r[a+"_"+p]=w.extend(!0,{},c):r[a+"_"+p]&&delete r[a+"_"+p])}}else if("top"===n&&l<=i){o.isChange||(o.isChange=!0);for(p=i-1;p>=l;p--){var h;(h=r[a+"_"+p])&&(h.mergeColumn||h.mergeLine)||(u?r[a+"_"+p]=w.extend(!0,{},c):r[a+"_"+p]&&delete r[a+"_"+p])}}}var P=new(function(){function e(){}return e.prototype.cellContextMenu=function(e){var t=h.getTableSelectContr(),n=parseInt(e.currentTarget.getAttribute("data-columnindex")),r=parseInt(e.currentTarget.getAttribute("data-lineindex")),a=h.getTableSelectCell(),l=w.getMinMaxColumnLine(a,t),c=l.minColumn,d=l.maxColumn,v=l.minLine,b=l.maxLine,C=w.getMinMaxColumnLine(a),x=C.minColumn,S=C.maxColumn,P=C.minLine,k=C.maxLine,O=S>x,E=k>P,T=t.columnPosi,M=t.linePosi,D=window,A=D.hotKey,j=D.Mousetrap,I=[["复制",function(){j.trigger(A.command+"+c")},A.comKey+"+C"],["剪切",function(){j.trigger(A.command+"+x")},A.comKey+"+X"],["粘贴",function(){w("body").trigger("paste")},A.comKey+"+V",!0],["在上方插入行",function(){g.addLine(!0,{columnIndex:n,lineIndex:r})}],["在下方插入行",function(){g.addLine(!1,{columnIndex:n,lineIndex:r})}],M.length>2?[b>v?"删除多行":"删除整行",function(){if(M.length-(b-v+1)<1)p["default"].show("删除后，表格不能小于一列");else{for(var e=b;e>=v;e--)g.deleteLine(e,E);E&&(i["default"].emitChange(),o["default"].emitChange()),s["default"].createData({type:"tableDeleteLine",name:"表格"+b>v?"删除多行":"删除整行",handleObjType:"table",autoSaveType:u["default"].isPrdView()?"prd":"pageContrs"})}},undefined,!0]:undefined,["在左侧插入列",function(){y.addColumn(!0,{columnIndex:n,lineIndex:r})}],["在右侧插入列",function(){y.addColumn(!1,{columnIndex:n,lineIndex:r})}],T.length>2?[d>c?"删除多列":"删除整列",function(){if(T.length-(d-c+1)<1)p["default"].show("删除后，表格不能小于一行");else{for(var e=d;e>=c;e--)y.deleteColumn(e,O);O&&(i["default"].emitChange(),o["default"].emitChange()),s["default"].createData({type:"tableDeleteColumn",name:"表格"+(d>c?"删除多列":"删除整列"),handleObjType:"table",autoSaveType:u["default"].isPrdView()?"prd":"pageContrs"})}}]:undefined].filter(function(e){return!w.isUndefined(e)});if((O||E)&&I.push(["合并单元格",function(){m.mergeCell()}]),!O&&!E){var L=_.getOneCellData({columnIndex:c,lineIndex:v});(L.mergeColumn||L.mergeLine)&&I.push(["分解单元格",function(){m.resolveCell()}])}I.length>0&&f["default"].rightMenuUpdate({content:I,left:e.clientX,top:e.clientY}),e.stopPropagation(),e.preventDefault()},e.prototype.copySpotMouseDown=function(e){var t=e.currentTarget,n=e.currentTarget.getAttribute("data-type"),r=h.getTableSelectCell();if(r){var a=u["default"].isPrdView(),l=a?b.findSelectElement()[0]:i["default"].getFirstSelectContr(),c=r[0];C=!1,o["default"].setDraging(!0),o["default"].setCopySpotData({selectCell:w.extend(!0,{},r),contr:w.extend(!0,{},l),direction:n}),o["default"].setTableSelectCell([c,w.extend(!0,{},c)]),w.setDrag({name:"copySpotDrag",posi:[e.clientX,e.clientY],target:t,moveFunc:function(){},endFunc:function(){o["default"].setCopySpotData({selectCell:null,contr:null,direction:""}),C&&(a?s["default"].createData({type:"tableCellCopy",name:"表格内容复制",autoSaveType:"prd"}):s["default"].createData({type:"tableCellCopy",name:"["+l.name+"] 内容复制",handleObjType:l.type,autoSaveType:"pageContrs"}),C=!1),o["default"].setDraging(!1)}})}e.stopPropagation(),e.preventDefault()},e.prototype.cellMouseDown=function(e){var t=u["default"].isPrdView();e.stopPropagation(),e.preventDefault();var n=e.currentTarget,r=parseInt(n.getAttribute("data-columnindex")),i=parseInt(n.getAttribute("data-lineindex")),s=h.getTableSelectCell(),l=h.getTableSelectContr(),c=w.getMinMaxColumnLine(s,l),f=c.minColumn,p=c.maxColumn,g=c.minLine,y=c.maxLine;if(!(2==e.button&&r>=f&&r<=p&&i>=g&&i<=y)){var m=e.shiftKey,_={columnIndex:r,lineIndex:i};o["default"].setDraging(!0),m?o["default"].setTableSelectCellEnd(_):o["default"].setTableSelectCell([_,w.extend(!0,{},_)]),w.setDrag({name:"iconScrollBarComp",posi:[e.clientX,e.clientY],target:n,moveFunc:function(){},endFunc:function(){o["default"].setDraging(!1)}}),t?d["default"].emitChange():a["default"].change([{tabType:"tableCell",isFold:!0,rename:"表格单元"},{tabType:"text"},{tabType:"event"},{tabType:"struct"}])}},e.prototype.cellMouseEnter=function(e){var t=e.currentTarget,n=parseInt(t.getAttribute("data-columnindex")),r=parseInt(t.getAttribute("data-lineindex")),a={columnIndex:n,lineIndex:r},s=window.mouseDownTarget;if(s&&"copySpotDrag"===s.name){var l=o["default"].getCopySpotData(),d=l.selectCell,f=l.contr,p=l.direction;if(d&&f){var h={isChange:!1},g=d[0],y=g.columnIndex,m=g.lineIndex,_=d[1],v=_.columnIndex,x=_.lineIndex,P=w.getMinMaxColumnLine(d,f),k=P.minColumn,O=P.maxColumn,E=P.minLine,T=P.maxLine,M=f.child,D=w.extend(!0,{},M);if("right"!==p&&"left"!==p||y!=v){if(("bottom"===p||"top"===p)&&m==x){a.columnIndex=v,a.lineIndex=r;for(A=k;A<=O;A++){S({columnIndex:A,lineIndex:m},{columnIndex:A,lineIndex:r},p,D,h)}}}else{a.columnIndex=n,a.lineIndex=x;for(var A=E;A<=T;A++){S({columnIndex:y,lineIndex:A},{columnIndex:n,lineIndex:A},p,D,h)}}if(h.isChange){if(o["default"].setTableSelectCellEnd(a),u["default"].isPrdView()){var j=b.findSelectElement()[0];c["default"].updateValById({id:j.id,updateVal:{child:D}})}else i["default"].contrUpdate(w.getContrId(f),{child:D},!0,undefined,!0);C=!0}}}else o["default"].setTableSelectCellEnd(a)},e.prototype.lineMouseEnter=function(e){var t=e.currentTarget.getAttribute("data-key");w(".table-drag-line.active").removeClass("active");var n=w(e.currentTarget).parent(".table-line-box").find(".table-drag-line[data-key='"+t+"']");n.hasClass("active")||n.addClass("active")},e.prototype.lineMouseLeave=function(e){var t=e.currentTarget.getAttribute("data-key"),n=w(e.currentTarget).parent(".table-line-box").find(".table-drag-line[data-key='"+t+"']");n.hasClass("active")&&n.removeClass("active no-event")},e.prototype.copylineMouseEnter=function(e){var t,n=e.currentTarget.getAttribute("data-type"),r=e.currentTarget.getAttribute("data-key");w(".table-drag-line.active").removeClass("active"),(t=u["default"].isPrdView()?w(e.currentTarget).parents(".element-container").eq(0).find(".table-cell-box .table-line-box .table-"+n+"-drag-line[data-key='"+r+"']"):w(e.currentTarget).parents(".select-cell").eq(0).find(".table-"+n+"-drag-line[data-key='"+r+"']")).hasClass("active")||t.addClass("no-event active")},e.prototype.copylineMouseLeave=function(e){if(w(".table-drag-line.active").removeClass("active"),!x){var t=e.currentTarget.getAttribute("data-type"),n=e.currentTarget.getAttribute("data-key"),r=void 0;(r=u["default"].isPrdView()?w(e.currentTarget).parents(".element-container").eq(0).find(".table-cell-box .table-line-box .table-"+t+"-drag-line[data-key='"+n+"']"):w(e.currentTarget).parents(".select-cell").eq(0).find(".table-"+t+"-drag-line[data-key='"+n+"']")).hasClass("active")&&r.removeClass("no-event active")}},e.prototype.tableCopyLineMouseDown=function(e){var t=e.currentTarget.getAttribute("data-type");P.tableLineMouseDown(e,w.noop,"vertical"==t)},e.prototype.tableLineMouseDown=function(e,t,n){var r,a=n||w.hasClass(e.currentTarget,"table-vertical-drag-line"),i=a?e.clientX:e.clientY,c=parseInt(e.currentTarget.getAttribute("data-key")),d=o["default"].getTableData().selectContr,f=w.extend(!0,{},d),p=a?"columnPosi":"linePosi",h=a?"left":"top",g=a?"width":"height",y=-Number.MAX_VALUE,m=Number.MAX_VALUE,_=l["default"].getZoom()/100;d&&(c!==d[p].length&&(m=d[p][c-(c===d[p].length?1:0)]-20),0!==c&&(y=-(d[p][c-1]-20)),x=!0,w.setDrag({name:"tableVerticalDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t,n,o,s=a?e.clientX:e.clientY;r=w.setRegion((s-i)/_,y,m);var l=[].concat(f[p]);0===c?(l[c]-=r,v.changeTableContr(((t={})[""+p]=l,t[""+h]=f[h]+r,t[""+g]=f[g]-r,t))):c===d[p].length?(l[c-1]+=r,v.changeTableContr(((n={})[""+p]=l,n[""+g]=f[g]+r,n))):(l[c-1]+=r,l[c]-=r,v.changeTableContr(((o={})[""+p]=l,o)))},endFunc:function(){if(r){var e=u["default"].isPrdView();x=!1,e?s["default"].createData({type:"tableLineMouseDown",name:"表格间距的改变",autoSaveType:"prd"}):s["default"].createData({type:"tableLineMouseDown",name:"["+f.name+"] 表格间距的改变",handleObjType:f.type,autoSaveType:"pageContrs"})}t&&t()}})),e.stopPropagation(),e.preventDefault()},e.prototype.tableCellWidthSliderFunc=function(e,t){m.changeTableCellWH("width",t.width)},e.prototype.tableCellHeightSliderFunc=function(e,t){m.changeTableCellWH("height",t.height)},e.prototype.tableAddColumnFunc=function(e){y.addColumn(!1),e.stopPropagation(),e.preventDefault()},e.prototype.tableAddLineFunc=function(e){g.addLine(!1),e.stopPropagation(),e.preventDefault()},e.prototype.celldbclick=function(){if(u["default"].isPrdView())o["default"].setTableCellEdit(!0),setTimeout(function(){var e=w.query(".is-editing textarea");e&&e.focus()},0);else{var e=w.query(".textLabel");e&&e.click()}},e.prototype.editMouseDownFunc=function(e){var t=w(e.currentTarget).find("textarea")[0];setTimeout(function(){t&&t.focus()},0),w.stopPropagation(e)},e}());t["default"]=P},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(34)),a=r(n(91));function i(e){return(e||o["default"].getStructHierarchy()).map(function(e){return a["default"].getPrdStructById(e)})}function s(){return a["default"].getPrdStructById(o["default"].getSelectStructKey())}function l(e){var t,n=e.structId,r=e.parentHierarchy,a=void 0===r?o["default"].getStructHierarchy():r;return i(a).some(function(e){var r=e.type,o=e.id,i=e.pageHierarchy;if(n==o)return t=a,!0;if("folder"==r){var s=l({structId:n,parentHierarchy:i});if(s)return t=s,!0}return!1}),t}function u(e){var t,n=e.structId,r=e.parentHierarchy;return i(void 0===r?o["default"].getStructHierarchy():r).some(function(e){var r=e.id,o=e.pageHierarchy;if(o&&o.length&&-1!=o.indexOf(n))return t=r,!0;if(o&&o.length){var a=u({structId:n,parentHierarchy:o});if(a)return t=a,!0}return!1}),t}function c(e){var t=e.idx,n=e.isNear,r=void 0!==n&&n,i=[],s=o["default"].getStructHierarchy(),l=t.split("|");return l.forEach(function(e,t){if(t!=l.length-1){var n=s[e];i.push(n);var r=a["default"].getPrdStructById(n).pageHierarchy;s=r}}),r?i[i.length-1]:i}function d(){for(var e=o["default"].getSelectStructKey(),t=e,n=[];t;){(t=u({structId:t}))&&n.push(t)}if(n.length){var r=!1;n.forEach(function(e){a["default"].getPrdStructById(e).isFold&&(r=!0,a["default"].changeFoldById({updateVal:{isFold:!1},id:e,noEmit:!0}))}),r&&a["default"].emitFoldChange()}setTimeout(function(){f(e)},0)}function f(e){var t=$('.drag-page-comp[data-id="'+e+'"]')[0],n=$(".prd-page-list")[0],r=$.offset(n,!0),o=r.top,a=r.height;if(t){var i=$.offset(t,!0),s=i.top,l=i.height,u=o+a/2;(s<o||s+l>o+a)&&$(n).scrollTop(-u+s+l/2)}}t.getPrdAllStructDataArr=i,t.getSelectStruct=s,t.findStructInHierarchy=l,t.findStructParent=u,t.findAllParentByIdx=c,t.showStructFromFoldParent=d,t.moveStructMiddle=f,t["default"]={getPrdAllStructDataArr:i,getSelectStruct:s,findStructInHierarchy:l,findAllParentByIdx:c,showStructFromFoldParent:d,moveStructMiddle:f}},function(e,t,n){var r=n(294),o=n(367);e.exports=function(e,t,n,a){var i=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=a?a(n[u],e[u],u,n,e):undefined;c===undefined&&(c=e[u]),i?o(n,u,c):r(n,u,c)}return n}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(22),s=n(404),l=n(21),u=n(18),c=n(20);var d=function(){function e(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var t=(e||{}).pixelRatio||l.Konva.pixelRatio||function(){if(a)return a;var e=i.Util.createCanvasElement().getContext("2d");return a=(l.glob.window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}();this.pixelRatio=t,this._canvas=i.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return e.prototype.getContext=function(){return this.context},e.prototype.getPixelRatio=function(){return this.pixelRatio},e.prototype.setPixelRatio=function(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)},e.prototype.setWidth=function(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)},e.prototype.setHeight=function(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.setSize=function(e,t){this.setWidth(e),this.setHeight(t)},e.prototype.toDataURL=function(e,t){try{return this._canvas.toDataURL(e,t)}catch(n){try{return this._canvas.toDataURL()}catch(r){return i.Util.error("Unable to get data URL. "+r.message),""}}},e}();t.Canvas=d,u.Factory.addGetterSetter(d,"pixelRatio",undefined,c.getNumberValidator());var f=function(e){function t(t){void 0===t&&(t={width:0,height:0});var n=e.call(this,t)||this;return n.context=new s.SceneContext(n),n.setSize(t.width,t.height),n}return o(t,e),t}(d);t.SceneCanvas=f;var p=function(e){function t(t){void 0===t&&(t={width:0,height:0});var n=e.call(this,t)||this;return n.hitCanvas=!0,n.context=new s.HitContext(n),n.setSize(t.width,t.height),n}return o(t,e),t}(d);t.HitCanvas=p},,function(e,t,n){var r=n(254),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(48)),i=r(n(165)),s=window.$;function l(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=o["default"].getView();if("multi-view"==r.mode&&"normal"==e){var l=s("#allPanel");n||a["default"].savePrevPos(),l.on("webkitTransitionEnd",function(){l.removeClass("bottomUnfold"),l.off("webkitTransitionEnd")})}else"multi-view"==e?(n||a["default"].replacePrevPos(),r.bottomUnfold=!i["default"].getPanel().fold):"edit-view"==e&&"multi-view"!=r.mode&&(r.bottomUnfold=!i["default"].getPanel().fold);r.prevMode=r.mode,r.mode=e,t||o["default"].emitViewChange()}t.switchMode=l,t["default"]={switchMode:l}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(391));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={init:function(e){o["default"].dispatch({actionType:a["default"].COLORPICKER_INIT,option:e})},change:function(e){o["default"].dispatch({actionType:a["default"].COLORPICKER_CHANGE,hsba:e})},changeOne:function(e,t){o["default"].dispatch({actionType:a["default"].COLORPICKER_CHANGEONE,val:e,type:t})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"ColorPickerActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ColorPickerActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ColorPickerActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l,u=s(n(1)),c=n(120).CSSTransitionGroup,d=s(n(234)),f=s(n(3)),p=function(e){function t(t){var n=e.call(this,t)||this,r=d["default"].getToast();return n.state={renderChange:0,toast:r,actuallShow:d["default"].getIsShow()},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){d["default"].addChangeListener(this._onToastChange)},t.prototype.componentWillUnmount=function(){d["default"].removeChangeListener(this._onToastChange)},t.prototype._onToastChange=function(){var e=d["default"].getToast();this.setState({renderChange:this.state.renderChange+1,toast:e,actuallShow:d["default"].getIsShow()})},t.prototype.componentDidUpdate=function(){var e=this.state.toast.id;l!=e&&(l=e,this.setState({renderChange:this.state.renderChange+1,actuallShow:d["default"].getIsShow()}))},t.prototype.render=function(){var e=this.state.toast,t=e.isShow,n=e.id,r=e.posiLeft,o=e.posiTop,a=e.text,i=this.state.actuallShow;return l&&l!=n?null:u["default"].createElement(c,{transitionName:"copy_toast",transitionEnterTimeout:300,transitionLeaveTimeout:300,transitionAppear:!0,transitionAppearTimeout:300},t&&i?u["default"].createElement("div",{style:{left:r,top:o-39},className:"main-fixed-comp copy_toast",id:"copy_toast"},a):null)},a([f["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onToastChange",null),t}(u["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=n(86),l=n(9),u={id:1,isShow:!1,text:"",posiTop:undefined,posiLeft:undefined},c=!0;var d=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getToast=function(){return u},t.prototype.getIsShow=function(){return c},t.prototype.setShow=function(e){c=e},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(l.EventEmitter));i["default"].register(function(e){switch(e.actionType){case s.CopyToastActionID.COPY_TOAST_SHOW:!function(e,t,n,r,o){window.toastTimeout&&clearTimeout(window.toastTimeout);var a=o||2e3;u.id+=1,u.isShow=!0,u.text=e,u.posiTop=t,u.posiLeft=n,window.toastTimeout=setTimeout(function(){u.isShow=!1,d.emitChange(),clearTimeout(window.toastTimeout),r&&r()},a)}(e.text,e.posiTop,e.posiLeft,e.callback,e.time),d.emitChange();break;case s.CopyToastActionID.HIDE_TOAST:d.setShow(e.isShow),d.emitChange()}}),t["default"]=d},function(e,t,n){var r=n(143)(Object,"create");e.exports=r},function(e,t,n){var r=n(558),o=n(559),a=n(560),i=n(561),s=n(562);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(312);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(564);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(24)),i=r(n(32)),s=r(n(48)),l=r(n(10)),u=window.$;function c(e,t,n,r,c){var d;if(o["default"].initCache(),e){u.isArray(e)&&(d=e,e=e[0]);var f=e?o["default"].getContrByAll(e):undefined;if(c){var p=c||[];o["default"].selectChange([],!1,!0),a["default"].wrapBoxEditOut();var h=!1;p.reverse().forEach(function(e){e&&"wrapbox"==e.type?a["default"].wrapBoxEdit(e):e&&"symbol"==e.type&&(h=!0,i["default"].init(u.getContrId(e),!0))}),t||(h&&l["default"].createData({type:"changeToSymbolMask",name:"["+f.name+"] 进入引用编辑",handleObjType:f.type,autoSaveType:"none"}),s["default"].emitChange(),i["default"].emitChange())}else{if(f&&f.mergeName||r&&r.length>0){p=r||[];o["default"].selectChange([],!1,!0),a["default"].wrapBoxEditOut(),r&&r.length>0||function e(t,n){if(n&&n.mergeName){var r=o["default"].getContrByAll(n.mergeName);t.push(r),e(t,r)}}(p,f),p.reverse().forEach(function(e){a["default"].wrapBoxEdit(e)})}if(n){var g=!1;n.forEach(function(e){g=!0,i["default"].init(e,!0)}),t||(g&&l["default"].createData({type:"changeToSymbolMask",name:"["+f.name+"] 进入引用编辑",handleObjType:f.type,autoSaveType:"none"}),s["default"].emitChange(),i["default"].emitChange())}}o["default"].selectChange(d||[e],!1,t)}}t.selectContr=c,t["default"]={selectContr:c}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(390));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={init:function(e,t){o["default"].dispatch({actionType:a["default"].IMAGELIB_INIT,myImageLib:e,isDownload:t})},initPublic:function(e,t){o["default"].dispatch({actionType:a["default"].IMAGELIB_PUBLICINIT,publicImageLib:e,isDownload:t})},add:function(e){o["default"].dispatch({actionType:a["default"].IMAGELIB_ADD,imageLib:e})},addImage:function(e,t){o["default"].dispatch({actionType:a["default"].IMAGELIB_ADDIMAGE,id:e,image:t})},addHistoryImage:function(e){o["default"].dispatch({actionType:a["default"].IMAGELIB_ADDHISTORYIMAGE,image:e})},updateImage:function(e,t,n){o["default"].dispatch({actionType:a["default"].IMAGELIB_UPDATEIMAGE,id:e,imageId:t,image:n})},deleteImage:function(e,t){o["default"].dispatch({actionType:a["default"].IMAGELIB_DELIMAGE,imageId:e,imageLibId:t})},deleteHistoryImage:function(e,t){o["default"].dispatch({actionType:a["default"].IMAGELIB_DELHISTORYIMAGE,id:e,key:t})},changeScrollTop:function(e,t){o["default"].dispatch({actionType:a["default"].IMAGELIB_SCROLLTOP,imageLibId:e,scrollTop:t})},concatImageLibs:function(e,t){o["default"].dispatch({actionType:a["default"].IMAGELIB_CONCAT,thisId:e,otherId:t})},"delete":function(e){o["default"].dispatch({actionType:a["default"].IMAGELIB_DELETE,imageLibId:e})},edit:function(e,t){o["default"].dispatch({actionType:a["default"].IMAGELIB_EDIT,name:e,imageLibId:t})},changeEdit:function(e,t){o["default"].dispatch({actionType:a["default"].IMAGELIB_CHANGEEDIT,imageLibId:e,isEdit:t})},openChange:function(e){o["default"].dispatch({actionType:a["default"].IMAGELIB_OPENCHANGE,option:e})},libsManage:function(e){o["default"].dispatch({actionType:a["default"].IMAGELIB_LIBSMANAGE,options:e})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"ImageLibActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ImageLibActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/ImageLibActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(40)),a=r(n(6)),i=r(n(5)),s=n(26),l=window.$;function u(e){var t=o["default"].getTableData(),n=t.selectContr,r=t.selectCell,u=t.isDraging,c=i["default"].isPrdView()?s.findSelectElement()[0]:a["default"].getFirstSelectContr(),d=e?c:null;!e&&l.isNull(n)&&l.isNull(r)&&u||(o["default"].setTableData({selectContr:d,selectCell:null,isDraging:!1}),o["default"].emitChange())}t.initTableSelectCell=function(e,t,n){var r=i["default"].isPrdView()?s.findSelectElement()[0]:a["default"].getContrByAll(e);o["default"].setTableData({selectContr:r,selectCell:l.extend(!0,[],t),isDraging:!1,isEditing:n})},t.tableDataInit=u,t["default"]={tableDataInit:u}},,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(5)),i=r(n(78)),s=n(66).createJsonDiff();function l(){var e=a["default"].getSymbolSaveData(),t=$.extend(!0,{},o["default"].getSymbolContr()),n=[],r=[];for(var l in t.contrs)n.push(t.contrs[l]);for(var l in i["default"].removeInitVal(n),t.symbols)r.push(t.symbols[l]);return i["default"].removeInitVal(r),s.diff(e,t)}function u(e,t){var n=$.extend(!0,{},o["default"].getSymbolContr()),r=[];for(var a in n.contrs)r.push(n.contrs[a]);i["default"].removeInitVal(r);var l=[];for(var a in n.symbols)l.push(n.symbols[a]);i["default"].removeInitVal(l);try{n=s[t?"unpatch":"patch"](n,e)}catch(u){window.log(u)}for(var a in n||(n={contrs:{},symbols:{}}),r=[],n.contrs)r.push(n.contrs[a]);for(var a in i["default"].addInitVal(r),l=[],n.symbols)l.push(n.symbols[a]);i["default"].addInitVal(l),o["default"].setSymbolContrs(n)}function c(e){var t=[],n=[];if(e.contrs)for(var r in e.contrs)t.push(e.contrs[r]);i["default"].addInitVal(t);var a={};if(t.forEach(function(e){a[$.getContrId(e)]=e}),e.contrs=a,e.symbols)for(var r in e.symbols)n.push(e.symbols[r]);if(i["default"].addInitVal(n),e.contrs)for(var r in e.contrs)d(e.contrs[r]);if(e.symbols)for(var r in e.symbols)d(e.symbols[r],"symbol",r);o["default"].setSymbolContrs(e)}function d(e,t,n){var r,a,i=o["default"].getNums(),s=t||e.type,l=n||e.id;if(e.type){if(o["default"].changeNums(((a={})[s+"Contr"]=Math.max(i[s+"Contr"],$.getContrKeyByUserKey(e,l)),a)),"wrapbox"==s)for(var u in e.contrs)d(e.contrs[u])}else o["default"].changeNums(((r={})[""+s]=Math.max(i[""+s],$.getContrKeyByUserKey(e,l)),r))}t.getSymbolContrsChange=l,t.setSaveDateSymbolContr=u,t.setSymbolContr=c,t["default"]={getSymbolContrsChange:l,setSaveDateSymbolContr:u,setSymbolContr:c}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(95),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=n(69).EventEmitter,c={contrKey:null},d=(0,i["default"])({},u.prototype,{init:function(e){c.contrKey=e},exit:function(){c={contrKey:null}},getChildKey:function(){return c.contrKey},isShow:function(){var e=n(6)["default"].getSelect();return c.contrKey&&e&&1==e.length&&"symbol"==e[0].split("_")[0]},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),f=d;t["default"]=f,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolChildStore.js"),s.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolChildStore.js"),s.register(c,"__childSet","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolChildStore.js"),s.register(d,"SymbolChildStore","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolChildStore.js"),s.register(f,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Symbol/SymbolChildStore.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=n(378),i=new(function(){function e(){this.MoveTipActionID=a.MoveTipActionID}return e.prototype.moveTipUpdate=function(e){o["default"].dispatch({actionType:a.MoveTipActionID.MOVETIP_UPDATE,left:e.left,top:e.top,text:e.text})},e.prototype.show=function(e){o["default"].dispatch({actionType:a.MoveTipActionID.MOVETIP_SHOW,isShow:e})},e}());t["default"]=i},function(e,t,n){var r=n(161),o=n(142),a="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==a}},function(e,t,n){var r=n(350),o=n(581),a=n(293);e.exports=function(e){return a(e)?r(e):o(e)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(440)),a=r(n(6)),i=r(n(24)),s=r(n(32)),l=window.$;function u(e,t,n){var r,u={left:e?0:-2,top:e?0:-2,rotate:0};t||(r=o["default"].translate(u.left,u.top).rotate(u)),i["default"].getIsWrapEdit()&&i["default"].getContrList().forEach(function(e){return a["default"].getSelect()[0]!=l.getContrId(e)&&(e=a["default"].getAllValsContr({contrKey:e}),u.left+=e.left,u.top+=e.top,u.rotate+=e.rotate,t||(r=n?n(r,e):r.translate(e.left,e.top).rotate(l.rotateToAngle(e.rotate))),!0)}),s["default"].getSymbolMaskShow()&&s["default"].getParentArr().forEach(function(e){u.left+=e.posi.left,u.top+=e.posi.top});var c={left:u.left,top:u.top,rotate:u.rotate};return t||(c.matrix=r),c}t.getParentRotateVals=u,t["default"]={getParentRotateVals:u}},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ContrHandle=void 0,BorderBoxComp=function(_Component){function BorderBoxComp(e){(0,_classCallCheck3["default"])(this,BorderBoxComp);var t=(0,_possibleConstructorReturn3["default"])(this,(BorderBoxComp.__proto__||(0,_getPrototypeOf2["default"])(BorderBoxComp)).call(this,e));return t.state={},ContrHandle=__webpack_require__(60)["default"],t}return(0,_inherits3["default"])(BorderBoxComp,_Component),(0,_createClass3["default"])(BorderBoxComp,[{key:"shouldComponentUpdate",value:function(e){return!0}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"outerBorderBox stretch-wrapper",style:ContrHandle.getStyles({contr:this.props.contr,type:"outerBorderBox",isActivePage:this.props.isActivePage})})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),BorderBoxComp}(_react.Component),_default=BorderBoxComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/OuterBorderBox.react.js"),reactHotLoader.register(BorderBoxComp,"BorderBoxComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/OuterBorderBox.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/OuterBorderBox.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(259),o=n(21);t.DD={startPointerPos:{x:0,y:0},anim:new r.Animation(function(){var e=this.dirty;return this.dirty=!1,e}),isDragging:!1,justDragged:!1,offset:{x:0,y:0},node:null,_drag:function(e){var n=t.DD.node;if(n){if(!t.DD.isDragging){var r=n.getStage().getPointerPosition();r||(n.getStage().setPointersPositions(e),r=n.getStage().getPointerPosition());var o=n.dragDistance();if(Math.max(Math.abs(r.x-t.DD.startPointerPos.x),Math.abs(r.y-t.DD.startPointerPos.y))<o)return}if(n.getStage().setPointersPositions(e),!t.DD.isDragging&&(t.DD.isDragging=!0,n.fire("dragstart",{type:"dragstart",target:n,evt:e},!0),!n.isDragging()))return;n._setDragPosition(e),n.fire("dragmove",{type:"dragmove",target:n,evt:e},!0)}},_endDragBefore:function(e){var n=t.DD.node;if(n){t.DD.anim.stop(),t.DD.isDragging&&(t.DD.isDragging=!1,t.DD.justDragged=!0,o.Konva.listenClickTap=!1,e&&(e.dragEndNode=n)),t.DD.node=null;var r=n.getLayer()||n instanceof o.Konva.Stage&&n;r&&r.draw()}},_endDragAfter:function(e){var t=(e=e||{}).dragEndNode;e&&t&&t.fire("dragend",{type:"dragend",target:t,evt:e},!0)}},o.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()},a=function(){function e(t,n){this.id=e.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:o(),frameRate:0},this.func=t,this.setLayers(n)}return e.prototype.setLayers=function(e){var t=[];return t=e?e.length>0?e:[e]:[],this.layers=t,this},e.prototype.getLayers=function(){return this.layers},e.prototype.addLayer=function(e){var t,n=this.layers,r=n.length;for(t=0;t<r;t++)if(n[t]._id===e._id)return!1;return this.layers.push(e),!0},e.prototype.isRunning=function(){var t,n=e.animations,r=n.length;for(t=0;t<r;t++)if(n[t].id===this.id)return!0;return!1},e.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=o(),e._addAnimation(this),this},e.prototype.stop=function(){return e._removeAnimation(this),this},e.prototype._updateFrameObject=function(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},e._addAnimation=function(e){this.animations.push(e),this._handleAnimation()},e._removeAnimation=function(e){var t,n=e.id,r=this.animations,o=r.length;for(t=0;t<o;t++)if(r[t].id===n){this.animations.splice(t,1);break}},e._runFrames=function(){var e,t,n,r,a,i,s,l,u={},c=this.animations;for(r=0;r<c.length;r++)if(t=(e=c[r]).layers,n=e.func,e._updateFrameObject(o()),i=t.length,!n||!1!==n.call(e,e.frame))for(a=0;a<i;a++)(s=t[a])._id!==undefined&&(u[s._id]=s);for(l in u)u.hasOwnProperty(l)&&u[l].draw()},e._animationLoop=function(){var t=e;t.animations.length?(t._runFrames(),requestAnimationFrame(t._animationLoop)):t.animRunning=!1},e._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},e.animations=[],e.animIdCounter=0,e.animRunning=!1,e}();t.Animation=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=window.$,s={canvas:null,scaleCanvas:null,lastZoom:1,lastPos:{left:0,top:0},cloneStage:null},l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(e,t,r){void 0===t&&(t={left:0,top:0}),void 0===r&&(r=1);var o=n(23)["default"],a=n(332)["default"],l=n(5)["default"];if(!s.canvas||s.lastZoom!=r||s.lastPos.left!=t.left||s.lastPos.top!=t.top){if(!s.cloneStage){s.cloneStage=e.clone();var u=s.cloneStage.findOne(".layerBackground");if(u){var c=s.cloneStage.width(),d=s.cloneStage.height();u.setAttrs({x:u.getAttr("x")-c/2,y:u.getAttr("y")-d/2,width:2*c,height:2*d,fill:"#2c2c31"})}}var f=s.cloneStage.children[0],p=a.getCanvasPos(),h=p.canvasX,g=p.canvasY,y=p.canvasZoom,m=l.getActivePage();f.setAttrs({offsetX:-h/y,offsetY:-g/y,scaleX:y,scaleY:y});var _=f.children&&f.children[1]&&f.children[1].children;_&&(_.forEach(function(e){e.attrs&&"page"==e.attrs["data-eventkey"]&&e.attrs["data-key"]=="mainBox"+m||e.destroy()}),e.children&&e.children[0]&&e.children[0].children&&e.children[0].children[1]&&e.children[0].children[1].children&&(e.children[0].children[1].children.forEach(function(e){e.attrs&&"page"==e.attrs["data-eventkey"]&&e.attrs["data-key"]=="mainBox"+m||e.visible(!1)}),o.emitChange())),s.canvas=s.cloneStage.toCanvas(),s.lastZoom=r,s.lastPos=i.extend(!0,{},t)}var v=document.createElement("canvas");if(v){v.width=e.width(),v.height=e.height();var b=v.getContext("2d");b.drawImage(s.canvas,0,0,v.width,v.height),b.scale(.25,.25),s.scaleCanvas=v}},t.prototype.setColorPickerGlass=function(e){i.extend(!0,s,e),l.emitChange()},t.prototype.getColorPickerGlass=function(){return s},t.prototype.hide=function(){var e=n(23)["default"];s.cloneStage&&s.cloneStage.destroy(),s={canvas:null,scaleCanvas:null,cloneStage:null};var t=e.getStage().getStage();t.children&&t.children[0]&&t.children[0].children&&t.children[0].children[1]&&t.children[0].children[1].children&&(t.children[0].children[1].children.forEach(function(e){e.visible(!0)}),e.emitChange()),l.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=l},,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(48)),a=r(n(5)),i=n(46);function s(e){var t=e.activePage,n=t.id,r=t.isLandscape,s=e.activePage,l=e.isFixedView,u=e.isMultiFixed,c=e.minTop,d=e.noEmit,f=e.getNewPos,p=window.phoneSize,h=p.width,g=p.height,y=f?$.extend(!0,{},o["default"].getCurPos()):o["default"].getCurPos(),m=function(e){var t=i.getPageFlowPageVal(),n=e.key,r=e.left,o=e.top;if(t&&t[n]){var a=t[n];r=a.left,o=a.top}return[r,o]}(s);if(l){var _=$.getElById(n);_&&(m=[_.offsetLeft,_.offsetTop])}var v=m[0]+y.left+(r?g:h)/2,b=m[1]+y.top+((r?h:g)-40)/2,w=o["default"].setPageCenter(r);if(u){var C=a["default"].getZoom();y.top+=w.top/C-b,y.top=$.setRegion(y.top,c,0)}else y.left+=w.left-v,y.top+=w.top-b;if(y.left=parseInt(y.left),y.top=parseInt(y.top),d||o["default"].emitChange(),f)return y}t.setCenter=s,t["default"]={setCenter:s}},function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=r},,,function(e,t,n){"use strict";var r,o;Object.defineProperty(t,"__esModule",{value:!0});var a=[],i=[];function s(){return r}function l(e){r=e}function u(){return o}function c(e){o=e}function d(){return a}function f(e){a.push(e)}function p(){a=[]}function h(){return i}function g(e){i.push(e)}function y(){i=[]}t.getCancelDot=s,t.setCancelDot=l,t.getBlinkContr=u,t.setBlinkContr=c,t.getCanvasAnim=d,t.setCanvasAnim=f,t.clearCanvasAnim=p,t.getCanvasTransform=h,t.setCanvasTransform=g,t.clearCanvasTransform=y,t["default"]={getCancelDot:s,setCancelDot:l,getBlinkContr:u,setBlinkContr:c,getCanvasAnim:d,setCanvasAnim:f,clearCanvasAnim:p,getCanvasTransform:h,setCanvasTransform:g,clearCanvasTransform:y}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(83)),l=a(n(24)),u={redLineX:[],redLineY:[]},c={},d=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getRedLineObj=function(){return u},t.prototype.initDragOption=function(e){var t=n(6)["default"],r=n(5)["default"],o=t.getFirstSelectContr(),a=t.getSelect(),i=r.getActiveMainbox();(c=$.extend({contrs:null,dragPointKey:null,isWrapBox:!1,minWHarr:[1,1],minSize:3,parentPosi:[0,0],isMergeIn:l["default"].getMergeBoxIn(),isWrapEdit:l["default"].getIsWrapEdit(),isRotate:"0"!=o.rotate,viewMode:r.getViewMode()},e)).isMergeIn||(c.thisGuideLineX=s["default"].getPageTypeLine(i.props.page.key,"x"),c.thisGuideLineY=s["default"].getPageTypeLine(i.props.page.key,"y")),c.isWrapEdit&&!c.isWrapBox&&l["default"].getContrList().forEach(function(e){e=t.getAllValsContr({contrKey:e}),c.parentPosi[0]+=e.left,c.parentPosi[1]+=e.top}),1==a.length&&o.isOpt&&o.isStateContrast&&c.contrs.push(t.getAllValsContr({contrKey:o,type:"start"})),c.contrs=c.contrs.map(function(e){var n=e;return $.getContrId(e)!==$.getContrId(o)&&(n=t.getAllValsContr({contrKey:e})),$.isDependBottomContr(n)&&((n=$.extend(!0,{},n)).top+=$.getDependBottomVal()),$.isSymbolContr(n)&&((n=$.extend(!0,{},n)).width*=n.scale/10,n.height*=n.scale/10),n})},t.prototype.getDragOption=function(){return c},t.prototype.init=function(){0===u.redLineX.length&&0===u.redLineY.length||(u={redLineX:[],redLineY:[]},[].slice.call(window.document.querySelectorAll(".redLineC")).forEach(function(e){$.removeClass(e,"redLineC")}),d.emitChange())},t.prototype.change=function(e,t){$.checkArrayEqual(u.redLineX,e.redLineX)&&$.checkArrayEqual(u.redLineY,e.redLineY)||(u=$.extend(!0,{},e),t&&t(),d.emitChange())},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));t["default"]=d},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=n(148);window.$;function i(){var e=o["default"].getView();"normal"==e.mode&&"fixed-view"==e.multiViewType&&setTimeout(function(){var e=o["default"].getActivePage();e&&a.choosePageFunc({index:e})},0)}t.resetPagePos=i,t["default"]={resetPagePos:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={LINE_ARR:[{textColor:"#fff",backColor:"#F56464",color:"#F56464",hasBorder:!1,isRing:!0},{textColor:"#FF8C8C",backColor:undefined,color:"#FF8C8C",hasBorder:!0,isRing:!0},{textColor:"#fff",backColor:"#5CC1FF",color:"#5CC1FF",hasBorder:!1,isRing:!1},{textColor:"#FFBF38",backColor:undefined,color:"#FFBF38",hasBorder:!0,isRing:!1},{textColor:"#fff",backColor:"#808080",color:"#808080",hasBorder:!1,isRing:!0}],SUPPLY_HORIZONTAL:90,SUPPLY_VERTICAL:90,TOP_DISTANCE:45,EDIT_PAGE_TOP:108,COLOR_BAR_WIDTH:172}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(126)),a=r(n(29)),i=n(26);function s(e,t){var n=e.type;void 0===t&&(t=!1);var r=o["default"].getNodeData(),a=r.key,i=r.start,s=r.length,l=r.value,u=o["default"].getRichText().editor,c=function(e){return e.type===n},d=function(e){return e.marks.filter(c)};t?u&&d(l).map(function(e){return u.removeMarkByKey(a,i,s,e)}):u&&d(u.value).map(function(e){return u.removeMark(e)})}function l(e){void 0===e&&(e=!1),s({type:"a-link"},e),s({type:"a-link-inner"},e)}function u(e){var t=e.type,n=o["default"].getRichText().editor;return n&&n.value.activeMarks.some(function(e){return e.type===t})}function c(e){var t=e.type,n=o["default"].getRichText().editor,r=!1,a=!1;return n&&(!function i(e){e.forEach(function(e){var n=e.type,o=e.nodes;if(n==t)r=!0;else if(o)return i(o)})}(n.value.fragment.nodes),a=n.value.blocks.some(function(e){return e.type===t})),r||a}function d(e){var t,n=e.type,r=o["default"].getRichText().editor;return r&&r.value.activeMarks.some(function(e){return e.type===n&&(t=e.toJSON().data.val,!0)}),t}function f(){var e=!0,t=i.findSelectElement()[0].id;a["default"].getPrdElementById(t).isEdit||(e=!1,a["default"].updateValById({id:t,updateVal:{isEdit:!0}}));var n=$.noop;return e&&(n=function(){$(".element-container.element-edit .editor-pre>div")[0].focus(),o["default"].getRichText().editor.moveToRangeOfDocument()}),n}t.removeMarks=s,t.removeLink=l,t.isActiveMark=u,t.isActiveNode=c,t.getMarkVal=d,t.setEditorRange=f,t["default"]={removeLink:l,removeMarks:s,isActiveMark:u,isActiveNode:c,getMarkVal:d,setEditorRange:f}},function(e,t,n){var r=n(143)(n(84),"Map");e.exports=r},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(584),o=n(272),a=n(585),i=n(502),s=n(503),l=n(161),u=n(338),c=u(r),d=u(o),f=u(a),p=u(i),h=u(s),g=l;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=g(new o)||a&&"[object Promise]"!=g(a.resolve())||i&&"[object Set]"!=g(new i)||s&&"[object WeakMap]"!=g(new s))&&(g=function(e){var t=l(e),n="[object Object]"==t?e.constructor:undefined,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=g},function(e,t,n){var r=n(572),o=n(142),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(392)),l=a(n(8)),u={myPageLib:[],lastPageLibKey:null,isDownload:!1,invisibleNum:null},c={myPublicPageLib:[],isDownload:!1,invisibleNum:null},d="",f={isShow:!1,searchKey:null,libType:null},p={searchKey:null,searchVal:null},h={isShow:!1,searchKey:null,pageList:[],isDownload:!1,isFirst:!0},g={"private":[],"public":[]};window.userLibSet&&window.userLibSet.page&&$.extend(!0,g,window.userLibSet.page);var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getSearchObj=function(){return f},t.prototype.getAllSearchObj=function(){return h},t.prototype.closeAllSeachObj=function(e){h.isShow=!1,e||m.emitAllSearchChange()},t.prototype.showAllSeachObj=function(e){h.isShow=!0,e||m.emitAllSearchChange()},t.prototype.initAllSeachObj=function(e,t){h.isDownload=!0,h.pageList=e.data,h.searchKey=e.searchKey,h.isFirst=!1,t||m.emitAllSearchChange()},t.prototype.allSearchIsDownload=function(e,t){h.isDownload=e,t||m.emitAllSearchChange()},t.prototype.closeSeachObj=function(e,t){p={searchKey:f.searchKey,searchVal:e},f={isShow:!1,searchKey:null,libType:null},t||m.emitSearchChange()},t.prototype.searchLastVal=function(){return p.searchKey!=f.searchKey?"":p.searchVal},t.prototype.setSearchObj=function(e,t){f=$.extend(f,e),t||m.emitSearchChange()},t.prototype.getSearchLib=function(){if(f.isShow){if("public"==f.libType)return m.getPublicPageById(f.searchKey);if("private"==f.libType)return m.getPageLibById(f.searchKey)}},t.prototype.changePageLibPermission=function(e,t,n){u.myPageLib.every(function(n){return n.id!=t||(n.permission=e,!1)}),n||m.emitSearchChange()},t.prototype.changeNamePageIn=function(e,t,n,r){u.myPageLib.every(function(r){return r.id!=n||(r.pages.every(function(n){return n.id!=t||(n.name=e,!1)}),!1)}),r||m.emitSearchChange()},t.prototype.getMyPageLib=function(){return u.myPageLib},t.prototype.getMyInvisibleNum=function(){return u.invisibleNum},t.prototype.getLastPageLibKey=function(){return u.lastPageLibKey},t.prototype.setLastPageLibKey=function(e){u.lastPageLibKey=e},t.prototype.getIsDownload=function(){return u.isDownload},t.prototype.getPageLibById=function(e){var t;return u.myPageLib.every(function(n){return n.id!=e||(t=n,!1)}),t},t.prototype.getPublicPageById=function(e,t){var n,r=-1;return c.myPublicPageLib.every(function(t,o){return t.id!=e||(r=o,n=t,!1)}),t?r:n},t.prototype.deletePublicPageById=function(e,t){var n=m.getPublicPageById(e,!0);return n>-1&&(c.myPublicPageLib.splice(n,1),t||m.emitChange(),!0)},t.prototype.getPublicPageLib=function(){return c.myPublicPageLib},t.prototype.getPublicIsDownload=function(){return c.isDownload},t.prototype.getPublicInvisibleNum=function(){return u.invisibleNum},t.prototype.getOpenLibId=function(){return d},t.prototype.openChange=function(e,t){d=e.openLibId,t||m.emitChange()},t.prototype.changeLibCooperationLength=function(e,t){var n=m.getPageLibById(e);n.cooperationUserNum!=t&&(n.cooperationUserNum=t,m.emitSearchChange())},t.prototype.getPageLibSet=function(){return g},t.prototype.libsManage=function(e){g[e.type]=e.data},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitSearchChange=function(){this.emit("searchChange")},t.prototype.addSearchChangeListener=function(e){this.on("searchChange",e)},t.prototype.removeSearchChangeListener=function(e){this.removeListener("searchChange",e)},t.prototype.emitAllSearchChange=function(){this.emit("allSearchChange")},t.prototype.addAllSearchChangeListener=function(e){this.on("allSearchChange",e)},t.prototype.removeAllSearchChangeListener=function(e){this.removeListener("allSearchChange",e)},t}(i.EventEmitter);l["default"].register(function(e){switch(e.actionType){case s["default"].PAGELIB_INIT:f=e.myPageLib,p=e.isDownload,h=e.invisibleNum,u.myPageLib=f,u.invisibleNum=h,p&&(u.isDownload=!0),m.emitChange();break;case s["default"].PAGELIB_INITPUBLIC:!function(e,t,n){c.myPublicPageLib=e,c.invisibleNum=n,t&&(c.isDownload=!0)}(e.pageLib,e.isDownload,e.invisibleNum),m.emitChange();break;case s["default"].PAGELIB_ADD:m.getPageLibById(e.pageLib.id)||(d=e.pageLib,u.myPageLib.unshift(d),m.emitChange());break;case s["default"].PAGELIB_SCROLLTOP:i=e.pageLibId,l=e.scrollTop,u.myPageLib.forEach(function(e){e.id==i&&(e.scrollTop=l)}),m.emitChange();break;case s["default"].PAGELIB_ADDPAGE:o=e.id,a=e.page,u.myPageLib.forEach(function(e){e.id==o&&e.pages.unshift(a)}),m.emitChange();break;case s["default"].PAGELIB_UPDATEPAGE:!function(e,t,n){u.myPageLib.forEach(function(r){r.id==e&&r.pages.forEach(function(e){e.id==t&&$.extend(e,n)})})}(e.id,e.pageId,e.page),m.emitChange();break;case s["default"].PAGELIB_DELPAGE:!function(e,t){u.myPageLib.every(function(n){if(n.id==t){var r=!1;return n.pages.every(function(t,n){return t.id!=e||(r=n,!1)}),!1!==r&&n.pages.splice(r,1),!1}return!0})}(e.pageId,e.pageLibId),m.emitChange();break;case s["default"].PAGELIB_CONCAT:t=e.thisId,n=e.otherId,u.myPageLib.forEach(function(e){e.id==t&&(r=e.pages)}),u.myPageLib.forEach(function(e){e.id==n&&(e.pages=e.pages.concat(r))}),m.emitChange();break;case s["default"].PAGELIB_DELETE:!function(e){var t=-1;u.myPageLib.some(function(n,r){return n.id==e&&(t=r,!0)}),-1!==t&&u.myPageLib.splice(t,1)}(e.pageLibId),m.emitChange();break;case s["default"].PAGELIB_EDIT:!function(e,t){u.myPageLib.forEach(function(n){n.id==t&&(n.name=e,n.isEdit&&delete n.isEdit)})}(e.name,e.pageLibId),m.emitChange();break;case s["default"].PAGELIB_CHANGEEDIT:!function(e,t){u.myPageLib.forEach(function(n){n.id==e&&(t?n.isEdit=!0:n.isEdit&&delete n.isEdit)})}(e.pageLibId,e.isEdit),m.emitChange();break;case s["default"].PAGELIB_OPENCHANGE:m.openChange(e.option);break;case s["default"].PAGELIB_LIBSMANAGE:m.libsManage(e.options),m.emitChange()}var t,n,r,o,a,i,l,d,f,p,h});var m=new y;t["default"]=m},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(392));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={init:function(e,t,n){o["default"].dispatch({actionType:a["default"].PAGELIB_INIT,myPageLib:e,isDownload:t,invisibleNum:n})},initPublic:function(e,t,n){o["default"].dispatch({actionType:a["default"].PAGELIB_INITPUBLIC,pageLib:e,isDownload:t,invisibleNum:n})},add:function(e){o["default"].dispatch({actionType:a["default"].PAGELIB_ADD,pageLib:e})},addPage:function(e,t){o["default"].dispatch({actionType:a["default"].PAGELIB_ADDPAGE,id:e,page:t})},updatePage:function(e,t,n){o["default"].dispatch({actionType:a["default"].PAGELIB_UPDATEPAGE,id:e,pageId:t,page:n})},deletePage:function(e,t){o["default"].dispatch({actionType:a["default"].PAGELIB_DELPAGE,pageId:e,pageLibId:t})},changeScrollTop:function(e,t){o["default"].dispatch({actionType:a["default"].PAGELIB_SCROLLTOP,pageLibId:e,scrollTop:t})},concatPageLibs:function(e,t){o["default"].dispatch({actionType:a["default"].PAGELIB_CONCAT,thisId:e,otherId:t})},"delete":function(e){o["default"].dispatch({actionType:a["default"].PAGELIB_DELETE,pageLibId:e})},edit:function(e,t){o["default"].dispatch({actionType:a["default"].PAGELIB_EDIT,name:e,pageLibId:t})},changeEdit:function(e,t){o["default"].dispatch({actionType:a["default"].PAGELIB_CHANGEEDIT,pageLibId:e,isEdit:t})},openChange:function(e){o["default"].dispatch({actionType:a["default"].PAGELIB_OPENCHANGE,option:e})},libsManage:function(e){o["default"].dispatch({actionType:a["default"].PAGELIB_LIBSMANAGE,options:e})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"PageLibActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PageLibActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PageLibActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(95),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=n(69).EventEmitter,c={isLoaded:!1,desc:"LOADING..."},d=(0,i["default"])({},u.prototype,{getLoad:function(){return c.isLoaded},getLoadingInfo:function(){return c},setLoaded:function(e,t){c.isLoaded=e,e?c.desc="LOADING...":t&&(c.desc=t),d.emitChange()},init:function(){c.isLoaded=!1},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),f=d;t["default"]=f,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/LoadingStore.js"),s.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/LoadingStore.js"),s.register("LOADING...","defalutDesc","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/LoadingStore.js"),s.register(c,"loadingInfo","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/LoadingStore.js"),s.register(d,"LoadingStore","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/LoadingStore.js"),s.register(f,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/LoadingStore.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},,function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){(function(e){var r=n(337),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s}).call(this,n(7)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(583),o=n(352),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return a.call(e,t)}))}:o;e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(705);function o(e){if(!r.isUndefined(e))return Math.round(100*e)/100}t.getTwoDecimal=o,t["default"]={getTwoDecimal:o}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(5)),i=r(n(24)),s=r(n(32)),l=r(n(10)),u=r(n(612)),c=n(396),d=n(331),f=u["default"].moveWindowToCenterByContr,p=window.$;function h(e,t){"symbol"==e.type&&t["symbolKey_"+e.symbolKey]&&(e.symbolKey=t["symbolKey_"+e.symbolKey])}function g(e,t,n){if(e&&(p.changeEventsContrName(e,t,n),p.changeTransitionContrName(e,t),e.states))for(var r in e.states){var o=e.states[r],a={};for(var i in o.contrs)t[i]&&(p.changeEventsContrName(o.contrs[i],t,n),a[t[i]]=o.contrs[i]);o.contrs=a,p.changeTransitionContrName(o,t)}if(e&&"wrapbox"==e.type)e.hierarchy.forEach(function(r){g(e.contrs[r],t,n)});else if(e&&"table"==e.type){if(e.child)for(var s in e.child)g(e.child[s],t,n)}else if(e&&"symbol"==e.type&&e.children){var l={};for(var s in e.children)l[t[s]||s]=e.children[s];e.children=l}}function y(e){var t=e.contrArr,r=e.isImport,l=e._pageId,u=e._fromProject,c=e._isInProject,f=e._copyPageId,y=e._pagesKey,m=e.allContrChangeKey,_=[],v=e.changeKeyObj||{},b=i["default"].getMergeBoxShow()&&!u,w=s["default"].getSymbolMask(),C=!b&&w.isShow,x=b?i["default"].getThisContr():null,S=o["default"].getSymbolContr(),P=o["default"].getNums(),k=o["default"].getContrs(),O=b?i["default"].getContrs():C?S.contrs:k,E=l||a["default"].getActivePage(),T=r&&!u,M=r&&u,D={},A=!1,j=!0;if(e.symbol)for(var I in e.symbol.contrs){var L=e.symbol.contrs[I];L.inSymbolObj=!0,t.unshift(L)}if(t.forEach(function(t){var n,r,s,c=p.getContrId(t);if(M)s=O[t.type+"_"+t.id]=t,o["default"].changeNums(((n={})[t.type+"Contr"]=Math.max(P[t.type+"Contr"],p.getContrKeyByUserKey(t)),n));else{j=!1,o["default"].changeNums(((r={})[t.type+"Contr"]=P[t.type+"Contr"]+1,r));var f=P[t.type+"Contr"],g=p.getNumKey(f);t.inSymbolObj?s=S.contrs[t.type+"_"+g]=t:(A||(!function(e,t){var n=o["default"].getSymbolContr();for(var r in e)if("symbolKey"==r.split("_")[0]){var a=n.symbols[e[r]];if(t)for(var i in t)if(t[i].uniqueKey==a.uniqueKey){n.symbols[e[r]]=t[i],a=t[i];break}a.hierarchy=a.hierarchy.map(function(t){return 0==t.indexOf("changed_")?t.replace("changed_",""):e[t]||t})}}(v,e.symbol&&e.symbol.symbols),A=!0),s=O[t.type+"_"+g]=t),e.symbol&&h(s,v),window.userKey&&(s.userKey=window.userKey),p.changeContrName(s,t,P,f),s.id=g,p.addUserKeyToContr(s)}t.inSymbolObj||w.isShow||(s.interfaceId=E);var y=p.getContrId(s);(s.mergeName=C?null:b?p.getContrId(x):null,function m(e,t,n,r,a,i,s,l){var u=o["default"].getNums(),c=r||{};if(c[t]=p.getContrId(e),"wrapbox"==e.type){var d=a,f={},g=[];e.hierarchy.forEach(function(t){var y,_,v=e.contrs[t];if(v){a&&c[p.getContrId(v)]&&(d=!1);var b,w,C=p.getContrId(v);d?(w=b=v.id,o["default"].changeNums(((y={})[v.type+"Contr"]=Math.max(u[v.type+"Contr"],p.getContrKeyByUserKey(v)),y))):(o["default"].changeNums(((_={})[v.type+"Contr"]=u[v.type+"Contr"]+1,_)),w=u[v.type+"Contr"],b=p.getNumKey(w)),a&&!d&&i&&(i[C]=v.type+"_"+b),c[C]=v.type+"_"+b;var x=f[v.type+"_"+b]=v;x.id=b,l||(x.interfaceId=n),s&&h(x,r),a||p.addUserKeyToContr(x),p.changeContrName(x,v,u,w),x.mergeName=p.getContrId(e),g.push(v.type+"_"+b),m(v,C,n,c,a,i,s,l)}}),e.contrs=f,e.hierarchy=g}}(s,c,E,v,j,D,e.symbol,t.inSymbolObj),l||u||t.inSymbolObj||_.push(y),t.inSymbolObj)?delete t.inSymbolObj:C?o["default"].getThisSymbolHierarchy().unshift(y):b?(i["default"].hierarchyAddContr(y),p.isUsedState(s)&&-1!=s.state.endState&&d.selectState(s.state.endState,s,s.state.startState)):w.isShow||a["default"].pageAddContr(s.interfaceId,y)}),!j||0!==p.objLength(D)){if(t.forEach(function(e){r||n(151)["default"].correctPasteContrEvents(e,{type:"pasteContr",isInProject:c,pasteContrsKey:j?D:v})}),y)n(151)["default"].deletePageActions({type:"pastePage",pageContrs:t,pageEvents:a["default"].getPageByKey(l).events||{},pagesKey:y});if(T){var R=l||a["default"].getActivePage();p.isUndefined(a["default"].getPageByKey(R))&&console.log("error4",l,a["default"].getActivePage()),g(a["default"].getPageByKey(R),j?D:v,{importPage:T,pageId:l,copyPageId:f,pagesKey:y})}t.forEach(function(e){g(e,j?D:v,{importPage:T,pageId:l,copyPageId:f,pagesKey:y})})}return m&&p.extend(!0,m,v),l||u||o["default"].selectChangeFunc(_),{newNamesKeyObj:v}}function m(e,t,r,a,i){y({contrArr:e,_isInProject:r,symbol:a,changeKeyObj:i}),c.createInStateWrap(),o["default"].initCache(),o["default"].emitChange(),setTimeout(function(){var e=o["default"].getSelectContr();if(f(undefined,p.query("#middlePanel .eightSpotBox")),e.length>0){var r=n(61)["default"],i=e.length>1?"多元素":e[0].name,s=e.length>1?"mutiContr":e[0].type;t||(a&&r.setAutoSaveChangePages("changeSymbol",undefined,!0),l["default"].createData({type:"pasteContr",name:"["+i+"] 粘贴创建",handleObjType:s,autoSaveType:"pageContrs"}))}},0)}function _(e){return y(e)}function v(e,t){y({contrArr:e,isImport:!0,_pageId:t,_fromProject:!0}),o["default"].initCache(),o["default"].emitChange()}t.pasteContr=y,t.pasteContrAction=m,t.pasteContrFunc=_,t.importContrFromSketch=v,t["default"]={pasteContr:y,pasteContrFunc:_,pasteContrAction:m,importContrFromSketch:v}},,function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(301),a=(r=o)&&r.__esModule?r:{"default":r};t["default"]=function(e,t,n){return t in e?(0,a["default"])(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t="";switch(e){case"dropdown":t="下拉菜单";break;case"menuM":t="菜单";break;case"slider":case"sliderM":t="滑动输入条";break;case"paginationM":case"pagination":t="分页器";break;case"rate":t="评分";break;case"carouselM":case"carousel":t="轮播图";break;case"carouselTextM":t="走马灯";break;case"checkbox":case"checkboxM":t="多选框";break;case"radio":case"radioM":t="单选框";break;case"switchM":case"switch":t="开关";break;case"select":t="下拉选择";break;case"datePicker":t="日期选择器";break;case"timePicker":t="时间选择框";break;case"cascader":t="级联选择";break;case"treeSelect":t="树选择";break;case"transfer":t="穿梭框";break;case"menu":t="导航菜单";break;case"calendarM":case"calendar":t="日历";break;case"accordionM":case"collapse":t="折叠面板";break;case"tree":t="树形控件";break;case"rangeM":t="区域选择";break;case"stepperM":t="步进器";break;case"pickerM":t="选择器";break;case"segmentedControlM":t="分段器";break;case"datePickerM":t="日期选择";break;case"miniBar":t="迷你柱状图";break;case"bar":t="柱状图";break;case"horizontalBar":t="横向柱状图";break;case"miniArea":t="迷你区域图";break;case"lineChart":t="折线图";break;case"timelineChart":t="时间轴图表";break;case"miniProgress":t="迷你进度条";break;case"progressCircle":t="进度圆环";break;case"circle":t="圆环图";break;case"miniCircle":t="迷你圆环图";break;case"pie":t="饼状图";break;case"gauge":t="仪表盘";break;case"radar":t="雷达图";break;case"waterWave":t="水波图";break;case"map":t="地图";break;case"audio":t="音频";break;case"video":t="视频";break;case"webPage":t="网页"}return t}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=$.getMidPosi?$.getMidPosi():undefined,s=i?{left:i[0],top:i[1],width:i[2],height:i[3]}:undefined,l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.resetSize=function(){i=$.getMidPosi?$.getMidPosi():undefined,s=i?{left:i[0],top:i[1],width:i[2],height:i[3]}:undefined},t.prototype.getSize=function(){return s},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=l},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(5)),i=r(n(83)),s=r(n(81)),l=r(n(78)),u=n(443),c=n(286),d=window.$;function f(e,t,n,r,f,p,h,g){d.isUndefined(t)&&console.log("errorqewrew ",t);var y=t||a["default"].getActivePage();!t&&a["default"].getPageHierarchy(y).length>0&&(o["default"].selectAllContr(!0),u.deleteSelectContr()),n&&i["default"].pageAddGuideAllLine(n,y),r&&s["default"].pageAddNote(r,y,!0);var m=e,_=d.getSymbolObjFunc(e,undefined,t);_=d.extend(!0,{},_),l["default"].addInitVal(e,t,undefined,undefined,p),c.pasteContrFunc({contrArr:m,isImport:!0,_pageId:t,_copyPageId:f,_pagesKey:h,symbol:_.symbol,changeKeyObj:_.changeKeyObj,allContrChangeKey:g}),t||o["default"].selectChangeFunc([])}function p(e,t,n,r,a){f(e,t,n,r,undefined,a),o["default"].emitChange()}t.importPage=f,t.importPageAction=p,t["default"]={importPage:f,importPageAction:p}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),a=r(n(97)),i=r(n(34)),s=n(145),l=window.$,u=50,c=s.elementCanvasBaseVal.TOP_DISTANCE;function d(){var e=o.findAllElement(),t=a["default"].getAllLinePointPosi(!0),n=-1;for(var r in e)if(e[r]){var i=e[r],s=i.height,u=i.y;if(!l.isUndefined(s)&&!l.isUndefined(u)){var d=s+u+c;n=Math.max(n,d)}}return t.forEach(function(e){n=Math.max(n,e[1]+c)}),Math.max(document.body.clientHeight-165,n)}function f(){var e=0,t=l(".prd-drag-container")[0];if(t){var n=l.offset(t,!0),r=n.height,o=n.top;e=Math.max(document.body.clientHeight-(r+o)-u,0)}return e}function p(){var e=d(),t=Math.round(e);t!=Math.round(i["default"].getContainerHeight())&&i["default"].setContainerHeight(t+f())}t.getDeepest=d,t.getBottomDistance=f,t.calcContainerHeight=p,t["default"]={getDeepest:d,getBottomDistance:f,calcContainerHeight:p}},function(e,t,n){var r=n(334),o=n(273);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(367),o=n(312),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];a.call(e,t)&&o(i,n)&&(n!==undefined||t in e)||r(e,t,n)}},function(e,t,n){var r=n(351)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(480);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(298)),s=a(n(374)),l=function(e){function t(t,n){var r=e.call(this)||this;return r.left=t,r.right=n,r.pipe="diff",r}return o(t,e),t.prototype.setResult=function(e){if(this.options.cloneDiffValues&&"object"==typeof e){var t="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:s["default"];"object"==typeof e[0]&&(e[0]=t(e[0])),"object"==typeof e[1]&&(e[1]=t(e[1]))}return i["default"].prototype.setResult.apply(this,arguments)},t}(i["default"]);t["default"]=l},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(373)),a=function(){function e(){}return e.prototype.setResult=function(e){return this.result=e,this.hasResult=!0,this},e.prototype.exit=function(){return this.exiting=!0,this},e.prototype.switchTo=function(e,t){return"string"==typeof e||e instanceof o["default"]?this.nextPipe=e:(this.next=e,t&&(this.nextPipe=t)),this},e.prototype.push=function(e,t){return e.parent=this,void 0!==t&&(e.childName=t),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this},e}();t["default"]=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var r=e.call(this)||this;return r.left=t,r.delta=n,r.pipe="patch",r}return o(t,e),t}(a(n(298))["default"]);t["default"]=i},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this)||this;return n.delta=t,n.pipe="reverse",n}return o(t,e),t}(a(n(298))["default"]);t["default"]=i},function(e,t,n){e.exports={"default":n(380),__esModule:!0}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(33)),a=r(n(5)),i=r(n(6)),s=r(n(12)),l=r(n(240)),u=n(322),c=n(118),d=window.$;function f(e,t,r){if(e&&!window.noLogin){var u=a["default"].getActivePage();o["default"].post("/imageUpload").send(e).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,o){var a=o.body;if("0"==a.code){var c=n(61)["default"];r?r(a.data[0].images.imgBig):i["default"].contrUpdate(d.getContrId(t),{src:a.data[0].images.imgBig},undefined,!0),window.loginInfo.usedImageData=a.imageDataMsg.usedImageData,window.loginInfo.maxImageData=a.imageDataMsg.maxImageData,l["default"].addHistoryImage(a.data[0]),c.setAutoSaveChangePages(u+"__pageContrs"),i["default"].emitChange()}else"用户未登录"!=a.msg&&s["default"].show(a.msg)})}}t.changeImgByFd=f,t.updateImageContrData=function(e){if(a["default"].isPrdView())c.updatePrdImageSrc(e,!0);else{if(i["default"].getSelectContrFunc().length>1)i["default"].getSelectContr().forEach(function(t){u.updateImageContrFunc(e,t)}),f(e.fd,null,function(e){i["default"].getSelectContr().forEach(function(t){t.src=e})});else{var t=u.updateImageContrFunc(e);f(e.fd,t)}i["default"].emitChange()}},t["default"]={changeImgByFd:f}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(42)),i=n(46),s=window.isPrototypeTool;function l(e,t){var n=i.getPageFlow();if(n){if(n.pageVal[e]){var r=n.pageVal[e];return{left:r.left,top:r.top}}}else{var l=t||(s?o["default"].getPageByKey(e):a["default"].getPage(e));if(l)return{left:l.left,top:l.top}}return{left:-99999999,top:-99999999}}t.getPagePos=l,t["default"]={getPagePos:l}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(200),s=n(21),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._validateAdd=function(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&a.Util["throw"]("You may only add groups and shapes to groups.")},t}(i.Container);t.Group=l,l.prototype.nodeType="Group",s._registerNode(l),a.Collection.mapMethods(l)},function(e,t,n){"use strict";n.r(t);var r=n(82),o=n.n(r),a={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},i={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[],l=[];function u(e,t,n){e.addEventListener(t,n,!1)}function c(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];for(var a in o)if(a in e){n.push(o[a]);break}}}"AnimationEvent"in window||(delete a.animationstart.animation,delete i.animationend.animation),"TransitionEvent"in window||(delete a.transitionstart.transition,delete i.transitionend.transition),t(a,s),t(i,l)}();var d={startEvents:s,addStartEventListener:function(e,t){0!==s.length?s.forEach(function(n){u(e,n,t)}):window.setTimeout(t,0)},removeStartEventListener:function(e,t){0!==s.length&&s.forEach(function(n){c(e,n,t)})},endEvents:l,addEndEventListener:function(e,t){0!==l.length?l.forEach(function(n){u(e,n,t)}):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(n){c(e,n,t)})}},f=n(425),p=n.n(f);n.d(t,"isCssAnimationSupported",function(){return h});var h=0!==d.endEvents.length,g=["Webkit","Moz","O","ms"],y=["-webkit-","-moz-","-o-","ms-",""];function m(e,t){for(var n=window.getComputedStyle(e,null),r="",o=0;o<y.length&&!(r=n.getPropertyValue(y[o]+t));o++);return r}function _(e){if(h){var t=parseFloat(m(e,"transition-delay"))||0,n=parseFloat(m(e,"transition-duration"))||0,r=parseFloat(m(e,"animation-delay"))||0,o=parseFloat(m(e,"animation-duration"))||0,a=Math.max(n+t,o+r);e.rcEndAnimTimeout=setTimeout(function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()},1e3*a+200)}}function v(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}var b=function(e,t,n){var r="object"===(void 0===t?"undefined":o()(t)),a=r?t.name:t,i=r?t.active:t+"-active",s=n,l=void 0,u=void 0,c=p()(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(s=n.end,l=n.start,u=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),v(e),c.remove(a),c.remove(i),d.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,s&&s())},d.addEndEventListener(e,e.rcEndListener),l&&l(),c.add(a),e.rcAnimTimeout=setTimeout(function(){e.rcAnimTimeout=null,c.add(i),u&&setTimeout(u,0),_(e)},30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};b.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),v(e),d.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},d.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout(function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,_(e)},0)},b.setTransition=function(e,t,n){var r=t,o=n;n===undefined&&(o=r,r=""),r=r||"",g.forEach(function(t){e.style[t+"Transition"+r]=o})},b.isCssAnimationSupported=h;t["default"]=b},function(e,t,n){(function(e,r){var o;!function(a){var i="object"==typeof t&&t,s=("object"==typeof e&&e&&e.exports,"object"==typeof r&&r);s.global!==s&&s.window;var l=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,u=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,c=function(e){for(var t="",n=(e=e.replace(l,function(e,t,n){return c(n)+t}).replace(u,"$2$1")).length;n--;)t+=e.charAt(n);return t},d={version:"0.2.0",reverse:c};(o=function(){return d}.call(t,n,t,e))===undefined||(e.exports=o)}()}).call(this,n(7)(e),n(59))},function(e,t,n){var r=n(349),o=n(650),a=n(669),i=n(168),s=n(225),l=n(673),u=n(369),c=n(372),d=u(function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,function(t){return t=i(t,e),u||(u=t.length>1),t}),s(e,c(e),n),u&&(n=o(n,7,l));for(var d=t.length;d--;)a(n,t[d]);return n});e.exports=d},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(23)),a=r(n(493));function i(){if(o["default"].getStage()){var e=a["default"].getCreateLayer(),t=e.layer,n=e.stage,r=$("#hoverLine");r&&r.length&&r.remove(),t&&t.destroy(),n&&n.destroy(),(t||n)&&a["default"].setCreateLayer({})}}t.removeHoveringLine=i,t["default"]={removeHoveringLine:i}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i,s,l,u,c,d=a(n(375)),f=a(n(8)),p=a(n(6)),h=n(688),g=n(9),y={delay:0,time:.5,count:1},m={contrId:null,anim:null,keyframe:null},_={},v={effect:["Linear","Sine","Quad","Cubic","Quart","Quint","Expo","Circ","Back","Elastic","Bounce"],type:["easeIn","easeOut","easeInOut"]};function b(e){w(),m.anim=O(e,!0),m.contrId=e,m.anim.active=!0}function w(){m.anim&&(m.anim.active=!1),m.keyframe&&(m.keyframe.active=!1)}function C(e,t,n,r){m.contrId=t,m.anim=O(t),m.anim.keyframes[e]={frame:n||{},show:!0,active:!r},m.keyframe=m.anim.keyframes[e]}function x(e,t,n,r){var o,a;(!r||!$.isEmptyObj(e)||s[l.end]&&s[l.end].contrs&&s[l.end].contrs[t])&&(t?((a=O(t,!0)).keyframes[n]||C(n,t,{},!0),o=a.keyframes[n].frame):o=m.keyframe.frame,r?t?a.keyframes[n].frame=e:m.keyframe.frame=e:$.extend(o,e))}function S(){var e=$.extend({},y);return s[l.end]&&s[l.end].props&&$.extend(e,s[l.end].props),e}function P(e){var t=s[l.end],n=e||{},r=S();if(t&&t.props||(s[l.end]||(s[l.end]={}),s[l.end].props||(s[l.end].props=$.extend({},y)),t=s[l.end]),e){for(var o in n)"time"!=o&&"delay"!=o||(n[o]=$.getDecimals(Math.max(n[o],"time"==o?.1:0)));if(t.contrs)for(var a in t.contrs){var i=t.contrs[a].units[0].props,u=$.extend($.extend({},r),i),d=$.extend($.extend({},r),n);$.isUndefined(n.time)||$.isUndefined(i.time)?d.delay==r.delay||$.isUndefined(n.delay)||$.isUndefined(i.delay)||k({delay:Math.max(u.delay+d.delay-r.delay,d.delay)},a,null,!0):d.time>r.time||u.time>.1||.1==u.time&&u.delay==d.delay?k({time:Math.min(d.time-r.time+u.time,d.time)},a,null,!0):.1==u.time&&u.time+u.delay>=d.time+d.delay&&u.delay!=d.delay&&k({delay:Math.max(d.time+d.delay-u.time,d.delay)},a,null,!0)}}else{for(var a in c)if(-1==a.indexOf("_state")){i=T(a);n.delay=n.delay===undefined?i.delay:Math.min(i.delay,n.delay),n.time=n.time===undefined?i.time+i.delay:Math.max(i.time+i.delay,n.time)}for(var f in n.delay=$.getDecimals(n.delay),n.time=$.getDecimals(n.time-n.delay),c)if(-1==f.indexOf("_state")){i=t.contrs[f]?t.contrs[f].units[0].props:{};$.isUndefined(i.time)&&k({time:r.time},f,null,!0)}}$.extend(t.props,n)}function k(e,t,n,r){for(var o in e)"time"!=o&&"delay"!=o||(e[o]=$.getDecimals(Math.max(e[o],"time"==o?.1:0)));n&&("0"==e.delay&&(e.time=n),e.delay=$.getDecimals(n-e.time)),t?$.extend(O(t,!0).props,e):$.extend(m.anim.props,e),r||P()}function O(e,t){if(s&&s[l.end]&&s[l.end].contrs&&s[l.end].contrs[e]&&s[l.end].contrs[e].units){var n=s[l.end].contrs[e].units[0];return $.isUndefined(n.keyframes)&&(n.keyframes={}),$.isUndefined(n.props)&&(n.props={}),n}return t?(function(e){s[l.end]||(s[l.end]={});var t=s[l.end];t.contrs||(t.contrs={});t.contrs[e]||(t.contrs[e]={units:[{index:0,props:{},keyframes:{}}]})}(e),s[l.end].contrs[e].units[0]):E()}function E(e,t){var n={units:[{index:0,props:t||{},keyframes:{}}]},r={};return e&&s&&s[l.end]&&s[l.end].contrs&&(r=s[l.end].contrs[e]),$.extend(!0,n,r)}function T(e){var t=e?E(e).units[0]:m.anim;return $.extend(!0,S(),t.props)}function M(e){var t=e.startContr[e.prop],n=e.endContr[e.prop];if("cutVals"==e.prop){var r=e.reverse?n:t;for(var o in t||(t=$.getDefaultCutVals(e.startContr)),n||(n=$.getDefaultCutVals(e.endContr)),r)t[o]!=n[o]&&($.isUndefined(e.startData[e.prop])&&(e.startData[e.prop]={}),$.isUndefined(e.endData[e.prop])&&(e.endData[e.prop]={}),e.startData[e.prop][o]=t[o],e.endData[e.prop][o]=n[o])}else e.reverse?(e.startData[e.prop]=$.isUndefined(t)?null:t,"filter"==e.prop?e.endData[e.prop]=$.extend(!0,$.extend(!0,{},t),n):e.endData[e.prop]=n):(e.endData[e.prop]=$.isUndefined(n)?null:n,"filter"==e.prop?e.startData[e.prop]=$.extend(!0,$.extend(!0,{},n),t):e.startData[e.prop]=t)}function D(e,t){var n=$.extend(!0,{},t),r=$.getContrId(e);for(var o in n){var a=n[o];p["default"].getAllValsContr({contrKey:o,parentSaveContrVals:a,parentSaveContrId:r}),p["default"].getAllValsContr({contrKey:o,type:"start",parentSaveContrVals:a,parentSaveContrId:r})}return n}var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setTransition=function(e,t,n){return e=p["default"].getAllValsContr({contrKey:e,changeThisContr:!0}),i=e,l=t||p["default"].getSelectStateInfo(i),s=h.getTransition(p["default"].getContrByAll(e.id?$.getContrId(e):e),l),n||w(),s},t.prototype.getCurData=function(){return{curContr:i,curState:l,curTr:s}},t.prototype.getDisabled=function(){return!(!s||!s[l.end])&&s[l.end].disabled},t.prototype.getCurState=function(){return l},t.prototype.getTrProps=function(){return S()},t.prototype.getDefaultProps=function(){return y},t.prototype.getDefalutContrAnim=function(e){return E(null,e)},t.prototype.getAnimListInfo=function(e){var t=S(),n=function r(e,t,n){var o={},a=e||i,u=$.getContrId(a),d=a.name?a.name:u;if(c[u+"_state"]){var f=void 0,p=T(u).stateDelay;j.setTransition(u,{start:c[u+"_state"].start,end:c[u+"_state"].end,reverse:l.reverse},!0),j.getDisabled()||(f=S(),$.isUndefined(p)||(f.delay=p),t[0]=Math.min(t[0],f.delay),t[1]=Math.max(t[1],f.time+f.delay),o[u+"_state"]=j.getDefalutContrAnim(f),o[u+"_state"].units[0].keyframes["0%"]={state:{startState:c[u+"_state"].start,endState:c[u+"_state"].end}},o[u+"_state"].contrName=d,o[u+"_state"].contrType=a.type),j.setTransition(n,null,!0)}if(c[u]&&(s[l.end]&&s[l.end].contrs&&s[l.end].contrs[u]?o[u]=$.extend(!0,{},s[l.end].contrs[u]):o[u]={"default":!0},o[u].contrName=d,o[u].contrType=a.type),"wrapbox"==a.type)for(var h in a.contrs){var g=r(a.contrs[h],t,n).anims;$.objLength(g)>0&&(o[u]||(o[u]={}),o[u].children||(o[u].children={}),$.extend(o[u].children,g))}return{anims:o,area:t}}(e||i,[t.delay,t.time+t.delay],i);return u=n.area,{anims:n.anims,trProps:t,area:n.area,disabled:j.getDisabled()}},t.prototype.getTrArea=function(){return u},t.prototype.getEasings=function(){return v},t.prototype.getChangedContrs=function(e){var t={},n=i;return t[l.start]={},t[l.end]={},-1!=l.start&&(t[l.start]=D(n,n.states[l.start].contrs)),-1!=l.end&&(t[l.end]=D(n,n.states[l.end].contrs)),function(e,t,n){for(var r in c={},t[l.end]){var o=$.filterState(t[l.end][r]),a=$.filterState(t[l.start][r]),i={},s={},u=!1,d=(m=p["default"].getStartEndContrs(r)).start,f=m.end;for(var h in l.reverse&&(d=m.end,f=m.start),o.state&&!$.isPropEqual(d.state,o.state,!0)&&(c[r+"_state"]={start:$.getContrEndState(d),end:$.getContrEndState(o)},n&&M({prop:"state",startContr:d,endContr:o,reverse:!0,startData:i,endData:s})),o)if("state"!=h&&!$.isPropEqual(d[h],o[h])){if(c[r]=!0,!n){u=!0;break}M({prop:h,startContr:d,endContr:o,reverse:!0,startData:i,endData:s})}if(!u)for(var g in a.state&&!$.isPropEqual(a.state,f.state,!0)&&(c[r+"_state"]={start:$.getContrEndState(a),end:$.getContrEndState(f)},n&&M({prop:"state",startContr:a,endContr:f,reverse:!1,startData:i,endData:s})),a)if("state"!=g&&!$.isPropEqual(a[g],f[g],"state"==g)){if(c[r]=!0,!n)break;M({prop:g,startContr:a,endContr:f,reverse:!1,startData:i,endData:s})}n&&((s.isDelete||i.isDelete)&&(s={isDelete:s.isDelete},i={isDelete:i.isDelete}),x(s,r,"0%",!0),x(i,r,"100%",!0))}for(var y in t[l.start])if(!t[l.end][y]){var m;for(var _ in a=$.filterState(t[l.start][y]),i={},s={},f=(m=p["default"].getStartEndContrs(y)).end,l.reverse&&(f=m.start),a.state&&!$.isPropEqual(a.state,f.state,!0)&&(c[y+"_state"]={start:$.getContrEndState(a),end:$.getContrEndState(f)},n&&M({prop:"state",startContr:a,endContr:f,reverse:!1,startData:i,endData:s})),a)if("state"!=_&&!$.isPropEqual(a[_],f[_])){if(c[y]=!0,!n)break;M({prop:_,startContr:a,endContr:f,reverse:!1,startData:i,endData:s})}n&&((s.isDelete||i.isDelete)&&(s={isDelete:s.isDelete},i={isDelete:i.isDelete}),x(s,y,"0%",!0),x(i,y,"100%",!0))}}(0,t,e),j.getAnimListInfo(n)},t.prototype.getChangedContrsData=function(){return c},t.prototype.saveGlobalData=function(){_.changedContrs=$.cObj(c),_.trArea=$.cObj(u)},t.prototype.resetGlobalData=function(){c=$.cObj(_.changedContrs),u=$.cObj(_.trArea)},t.prototype.editFrame=function(e,t,n,r){x(e,t,n,r)},t.prototype.deleteRelativedTr=function(e,t){!function(e,t){if(e.transition){for(var n in e.transition)n==t&&delete e.transition[n];0===$.objLength(e.transition)&&delete e.transition}if(e.states)for(var r in e.states){var o=e.states[r].transition;if(o){for(var n in o)n==t&&delete o[n];0===$.objLength(o)&&delete e.states[r].transition}}}(e,t)},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(g.EventEmitter);f["default"].register(function(e){switch(e.actionType){case d["default"].ANIM_CHOOSEANIM:b(e.animId),j.emitChange();break;case d["default"].ANIM_EDITFRAMEKEY:o=e.prevKey,a=e.currKey,i=m.anim.keyframes[o],m.anim.keyframes[a]=i,delete m.anim.keyframes[o],j.emitChange();break;case d["default"].ANIM_CREATEFRAME:C(e.key,e.contrKey),j.emitChange();break;case d["default"].ANIM_CHOOSEFRAME:n=e.key,r&&r!=m.contrId&&b(),m.keyframe=m.anim.keyframes[n],m.keyframe.active=!0,j.emitChange();break;case d["default"].ANIM_DELETEFRAME:!function(e){delete m.anim.keyframes[e]}(e.key),j.emitChange();break;case d["default"].ANIM_EMPTYFRAME:!function(e){m.anim.keyframes[e].frame={}}(),j.emitChange();break;case d["default"].ANIM_UNSELECTANIM:w(),j.emitChange();break;case d["default"].ANIM_UNSELECTFRAME:t=!0,m.keyframe&&m.keyframe.active&&(m.keyframe.active=!1,t&&j.emitChange());break;case d["default"].ANIM_EDITTRPROPS:P(e.options),j.emitChange();break;case d["default"].ANIM_EDITCONTRPROPS:k(e.options,e.contrId,e.total),j.emitChange();break;case d["default"].ANIM_EDITALLEASING:!function(e){for(var t in c)-1==t.indexOf("_state")&&k({easing:e},t)}(e.easing),j.emitChange();break;case d["default"].ANIM_EDITSTATEDELAY:!function(e,t){e=$.getDecimals(Math.max(e,0)),$.extend(O(t,!0).props,{stateDelay:e})}(e.delay,e.contrId),j.emitChange();break;case d["default"].ANIM_TOGGLEDISABLED:s[l.end]||(s[l.end]={}),s[l.end].disabled=!s[l.end].disabled,j.emitChange()}var t,n,r,o,a,i});var j=new A;t["default"]=j},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=n(378),l=n(9),u={isShow:!1,left:0,top:0,text:""};function c(e){u.isShow=e}var d=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.moveTipShow=function(e){u.isShow=e,d.emitChange()},t.prototype.moveTipUpdate=function(e){var t;u.isShow&&e.left==u.left&&e.top==u.top&&e.text==u.text||(t=e,u.left=t.left,u.top=t.top,u.text=t.text,c(!0),d.emitChange())},t.prototype.getMoveTip=function(){return u},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(l.EventEmitter));i["default"].register(function(e){switch(e.actionType){case s.MoveTipActionID.MOVETIP_UPDATE:d.moveTipUpdate(e);break;case s.MoveTipActionID.MOVETIP_SHOW:e.isShow!=u.isShow&&(c(e.isShow),d.emitChange())}}),t["default"]=d},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(364));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={init:function(e){o["default"].dispatch({actionType:a["default"].DRAGCONTR_INIT,options:e})},show:function(e){o["default"].dispatch({actionType:a["default"].DRAGCONTR_SHOW,options:e})},move:function(e){o["default"].dispatch({actionType:a["default"].DRAGCONTR_MOVE,options:e})},add:function(e){o["default"].dispatch({actionType:a["default"].DRAGCONTR_ADD,options:e})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"DragContrActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/DragContrActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/DragContrActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(33)),a=r(n(1)),i=r(n(19)),s={moreThanOneMB:function(e){i["default"].init({width:620,title:"上传图片文件过大",content:a["default"].createElement("div",{className:"popup-content"},"以下文件的大小超过了2MB，网站不支持上传，请压缩以后上传：",a["default"].createElement("br",null),e.join(", "),a["default"].createElement("br",null),"建议去",a["default"].createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"base-link",href:"https://tinypng.com/"},"https://tinypng.com/"),"对图片进行压缩")})},imageSearch:function(e){var t={key:"3255823-e43ec56e0a4b8b5aaf6d579dd",pretty:!0,lang:"zh"};e&&(t.q=e),o["default"].get("https://pixabay.com/api").query(t).set({"API-Key":"foobar",Accept:"application/json"}).end(function(e,t){window.log(t)})}};t["default"]=s},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(505)),a=r(n(34)),i=r(n(126)),s=r(n(67)),l=r(n(319)),u=n(26),c=n(326),d=n(451),f=n(249),p=n(292),h=r(n(97)),g=n(26),y=50;function m(){var e=$.offset($.getElById("editorContentPanel"));return{viewX:e.left,viewY:e.top}}function _(e){var t=e.clientX,n=e.clientY,r=!1;l["default"].getPrdDropdown().isOpen&&l["default"].setPrdDropdown({isOpen:!1,type:""});var a=u.getAllElementBySelectPageHierarchy(),i=m(),s=i.viewX,c=i.viewY;v({startEvent:{clientX:t,clientY:n},endEvent:{clientX:t,clientY:n},allElement:a}),$.setDrag({name:"prdEditorSelectDrag",posi:[t,n],target:e.target,moveFunc:function(e){r||(r=!0,o["default"].init({pos:{x:t-s,y:n-c}})),o["default"].move({pos:{x:e.clientX-s,y:e.clientY-c}}),v({startEvent:{clientX:t,clientY:n},endEvent:{clientX:e.clientX,clientY:e.clientY},allElement:a})},endFunc:function(e){r&&o["default"].hide()}})}function v(e){var t,n=e.allElement,r=(t=[],g.getAllLineByStructKey().forEach(function(e){var n=e.id,r=e.startPosi,o=e.endPosi,a=e.startKey,i=e.endKey,s=e.startPoint,l=e.endPoint,u=e.fixedArr,c=e.noStartSupply,d=e.noEndSupply;if(!e.isConnect){var f=h["default"].getPrdLinePointArr({startPosi:r,endPosi:o,startKey:a,endKey:i,startPoint:s,endPoint:l,fixedArr:u,noStartSupply:c,noEndSupply:d});t.push({id:n,pointArr:f})}}),t),o=function(e){var t=e.startEvent,n=t.clientX,r=t.clientY,o=e.endEvent,a=o.clientX,i=o.clientY,s=m(),l=s.viewX,u=s.viewY,c={x:n-l-y,y:r-u,w:a-n,h:i-r};return c.w<0&&(c.w=-c.w,c.x-=c.w),c.h<0&&(c.h=-c.h,c.y-=c.h),c}(e),i=o.x,l=o.y,u=o.w,c=o.h,d=[i,l,u,c],f=[],p=[],_=a["default"].getSelectElementArr(),v=s["default"].getPrdSelectArr();n.forEach(function(e){if(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.id;$.collide(d,[t,n,r,o])&&f.push(a)}}),r.forEach(function(e){var t=e.id,n=e.pointArr;h["default"].isRectCludeLine(n,{x:i,y:l,w:u,h:c})&&p.push(t)}),$.checkArrayEqual(f,_)||b(f),$.checkArrayEqual(p,v)||s["default"].setPrdSelectArr(p)}function b(e,t){void 0===t&&(t=!1),C(),d.saveImageCutVals(),c.changeEditElementInPage(),c.changeLinkElementInPage(),f.tableDataInit(!0),a["default"].setSelectElementArr(e,t),p.calcContainerHeight(),window.Mousetrap.unpause()}t.prdEditorSelectDrag=_,t.dragMoveSelectElement=v,t.changeElementSelect=b;var w="getSelection"in window?function(){window.getSelection().removeAllRanges()}:function(){document.selection.empty()};function C(){setTimeout(function(){var e=i["default"].getAllTextEditor();for(var t in e){var n=e[t];n?(n.deselect(),n.blur()):delete e[t]}w()},0)}t.removeTextSelect=C,t["default"]={prdEditorSelectDrag:_}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=null,s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setAutoMoveFunc=function(e){i=e},t.prototype.getAutoMoveFunc=function(){return i},t}(a.EventEmitter));t["default"]=s},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(23)),i=r(n(76)),s=r(n(151)),l=r(n(27)),u=r(n(10)),c=r(n(49)),d=r(n(12)),f=r(n(149)),p=r(n(85)),h=n(46),g=n(824),y=n(87),m=n(825),_=n(393),v=n(415),b=window.$;function w(e){var t=e.pageKey;x({pageKey:t}),g.deletePageFlowOnePage({pageKey:t}),v.deletePageRelationLines({fromProject:!0,pageKey:t})}function C(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=b.noop);var a=h.getPageFlow(),i=e||o["default"].getPageSelect();a?n?i.forEach(function(e){w({pageKey:parseInt(e)})}):m.popupDeletePageFlowPage({callback:function(e){r&&r(),i.forEach(function(t){var n=parseInt(t);e?w({pageKey:n}):g.deleteSelectPageFlowOnePage({pageKey:n})}),m.pageDispearFunc({arr:i,callback:t})},cancelCallBack:function(){r&&r()}}):i.some(function(e){var t=parseInt(e);return g.hasPageFlowOnePage({pageKey:t})})?m.popupDeleteOhterPageFlowPage({callback:function(){i.forEach(function(e){var t=parseInt(e);x({pageKey:t}),g.deletePageFlowOnePage({pageKey:t})}),m.pageDispearFunc({arr:i,callback:t})}}):(i.forEach(function(e){x({pageKey:parseInt(e)})}),m.pageDispearFunc({arr:i,callback:t}))}function x(e){var t=e.pageKey,n=o["default"].getView(),r=o["default"].getPages(),a=p["default"].findStructFolder(t,"page");delete r[t],n.num--,a.hierarchy.splice(a.index,1),s["default"].deleteRelativedActions({type:"deletePage",pageId:t}),_.deleteLineFromPage(t+"",!0)}function S(e,t,n,r,s){void 0===r&&(r=!1),void 0===s&&(s=b.noop);var p,h=e||o["default"].getPageSelect(),g=b.getElById("trashBox");if(!f["default"].isOtherEditing(h)&&(t&&(p=b.getElById("allPanel"),b.addClass(p,"multi-fixed-remove")),h.length>0)){var m="["+(h.length>1?"多个页面":o["default"].getPageByKey(h[0]).name)+"] 删除";C(e,function(){b.addClass(g,"active"),function(e){var t=e.isFixedDrag,n=e.noEmit,r=e.allPanel,s=e.saveDataText,f=void 0===s?"":s,p=o["default"].isMultiView(),h=b.getElById("trashBox");o["default"].selectChange([]),p?setTimeout(function(){b.removeClass(h,"active"),t&&(b.removeClass(r,"multi-fixed-drag"),b.removeClass(r,"multi-fixed-remove"),i["default"].hide()),n||(y.pageEmitChange(),0==o["default"].getPageNum()&&d["default"].show("页面数不能为0，请创建新页面"))},300):n||(o["default"].emitPageStructChange(),a["default"].emitChange(),c["default"].emitChange(),l["default"].setHoverKey({pageKey:"",contrKey:""}),0==o["default"].getPageNum()&&d["default"].show("页面数不能为0，请创建新页面"));d["default"].show("删除成功"),u["default"].createData({type:"deletePage",name:f,handleObjType:"page",autoSaveType:"changePages"})}({isFixedDrag:t,noEmit:n,allPanel:p,saveDataText:m})},r,s)}}function P(e,t,n){void 0===n&&(n=!1),f["default"].isOtherEditing([e])||(C([parseInt(e)],undefined,n),t||(o["default"].emitPageStructChange(),0==o["default"].getPageNum()&&d["default"].show("页面数不能为0，请创建新页面")))}t.deletePageFunc=C,t.deletePages=S,t.deletePage=P,t["default"]={deletePages:S,deletePage:P}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(8)),l=a(n(488));n(833),n(690);var u,c,d,f,p=a(n(6)),h=a(n(309)),g=a(n(5)),y=a(n(165)),m=n(150),_={start:0,total:0,past:0,state:"paused",unitW:0,data:[]},v=new window.TimelineMax({paused:!0,onUpdate:function(){u.isStateContrast&&f&&S();_.past=v.time(),(0===v.progress()||1===v.progress())&&P();E.emitChange()}});function b(e,t,n,r,o){var a=v,i={},s=r||1,l=h["default"].getTrArea();t?h["default"].setTransition(t,n):a.clear(),h["default"].getChangedContrs(!0);var g=h["default"].getCurData(),y=h["default"].getChangedContrsData();t||(u=g.curContr,d=$.getElById($.getContrId(u)),c=p["default"].getAllValsContr({contrKey:$.getContrId(u),type:"start"}),f=$.getElById("linkLine"),h["default"].saveGlobalData());var m=g.curTr,C=g.curState,x=h["default"].getTrProps(),S=$.isUndefined(o)?0:$.getDecimals(o-x.delay),P=_.past/_.total,k={},O=[];if(h["default"].getDisabled()&&(x.delay=0,x.time=0),!m[C.end])return window.log("warning"),i;for(var T in m[C.end].contrs)if(y[T]||y[T+"_state"]){var M=p["default"].getStartEndContrs(T),D=M.start,A=M.end,j=m[C.end].contrs[T],I=[],L=[];for(var R in C.reverse&&(D=M.end,A=M.start),j.units[0].keyframes)L.push(R),I[R]=j.units[0].keyframes[R].frame;L=L.sort(function(e,t){return parseInt(e)-parseInt(t)}),k[T]={keyArr:L,keyframes:I,props:j.units[0].props||{},startContr:D,endContr:A}}var B=function(e){var t=$.getElById(e),n=k[e].keyArr,r=k[e].props.time||x.time,o=k[e].props.delay?k[e].props.delay-l[0]:x.delay-l[0]+S,u=k[e].props.easing||x.easing;a.set(t,{x:"+=0"},0),O[e]=[],i[e]||(i[e]={}),i[e+"_start"]||(i[e+"_start"]={}),n.forEach(function(t,a){if(0!==a)for(var l=k[e].keyframes[t],c=$.extend(!0,$.extend(!0,{},k[e].startContr),l),d=a-1;d>=0;d--){var f=k[e].keyframes[n[d]],p=$.extend(!0,$.extend(!0,{},k[e].startContr),f);for(var h in l){if("state"==h){var g=k[e].props.stateDelay;$.extend(!0,i,b(!1,e,{start:$.getContrEndState(c),end:$.getContrEndState(p),reverse:C.reverse},s+1,g))}O[e].push(h),"100%"!=t&&$.isUndefined(k[e].keyframes["100%"][h])&&(k[e].keyframes["100%"][h]=k[e].endContr[h])}i[e][s]={contrId:e,styles:l,curData:c,prevData:p,time:r*(parseInt(t)-parseInt(n[d]))/100,delay:o+parseInt(n[d])/100*r,easing:u}}}),i[e+"_start"][s]={contrId:e,styles:k[e].keyframes["0%"],curData:$.extend(!0,$.extend(!0,{},k[e].endContr),k[e].keyframes["0%"])}};for(var N in k)B(N);if(!t){var F=[],H=[];for(var z in i)for(var U in i[z])-1==z.indexOf("_start")?H=H.concat(w(i[z][U])):F=F.concat(w(i[z][U]));F.forEach(function(e){a.set(e.element,$.extend(!0,"self"==e.type?{transformOrigin:"50% 50%"}:{},e.props),0)}),H.forEach(function(e){var t=e.props;e.start&&a.set(e.element,e.start,e.delay),e.easing&&(t=$.extend(!0,{ease:$.getEasingFuncName(e.easing)},t)),a.to(e.element,e.time,t,e.delay),e.end&&a.set(e.element,e.end)})}return t?i:(_.start=l[0],_.total=$.getDecimals(l[1]-l[0]),_.state="paused",_.data=O,e&&(_.past=_.total*P,a.progress(P),E.emitChange()),h["default"].resetGlobalData(),h["default"].setTransition($.getContrId(u)),a.progress(C.reverse?1:0),undefined)}function w(e){var t,n,r={},o=[],a=e.contrId.split("_")[0],i={text:{self:t={"class":"",stylesArr:["width","height","left","top","rotate"]},textBox:{"class":" .contrTextBox",stylesArr:["radius","isMaxRadius","width","height","insetBorder","opacity","backColor","hasBackColor","shadow","isShow","isDelete","vertical","horizontal"]},text:{"class":".inputText",stylesArr:["adjaceney","fontSize","lineHeight","indent","filter","textColor","textShadow","isB","isI","isU","isS"]},content:{"class":" .noSelect",stylesArr:["content"]},contentPre:{"class":" pre span",stylesArr:["content"]},outerBorderBox:n={"class":">.outerBorderBox",stylesArr:["radius","isMaxRadius","width","height","border"]}},image:{self:t,borderBox:{"class":" .contrBorder",stylesArr:["radius","isMaxRadius","width","height","insetBorder"]},imgBox:{"class":" .cutImgOutBox",stylesArr:["radius","isMaxRadius","width","height","opacity","backColor","hasBackColor","shadow","isShow","isDelete"]},outerBorderBox:n,img:{"class":" .cImg",stylesArr:["cutVals","filter"]}},wrapbox:{self:t,borderBox:{"class":">.contrWrapBox>.contrBorder",stylesArr:["radius","isMaxRadius","width","height","insetBorder"]},wrapBox:{"class":">.contrWrapBox",stylesArr:["radius","isMaxRadius","width","height","backColor","hasBackColor","opacity","shadow","independWH","outerHidden","isShow","isDelete"]},outerBorderBox:n},symbol:{self:t,children:{"class":" .contrGroup",stylesArr:["scale"]}},icon:{self:t,icon:{"class":">i",stylesArr:["width","height","iconColor","opacity","isShow","isDelete"]}}}[a],s=e.curData,l=$.getContrPosi(s,undefined,!0),u=function(t){i[t].stylesArr.forEach(function(n){$.isUndefined(e.styles[n])||($.isUndefined(r[t])&&(r[t]={element:$.query("#"+e.contrId+i[t]["class"]),process:{},ins:{},startData:{}}),function o(t,n,r){var a=$.styleDict(t);var i=e.styles[t];switch(t){case"textShadow":n.process[a]="rgba(0,0,0,0.5) 0px "+i+"px "+i+"px";break;case"opacity":n.process[a]=i/100;break;case"insetBorder":n.process[a]=i[1]+"px "+$.getBorderStyle("style",i[2])+" "+i[0],"borderBox"==r&&o("radius",n,r);break;case"content":"contentPre"==r?n.ins.content=i:n.ins[a]=i;break;case"vertical":case"horizontal":n.ins[t]=i;break;case"isB":n.ins[a]=i?"bold":"normal";break;case"isI":n.ins[a]=i?"italic":"normal";break;case"isU":n.ins[a]=i?"underline":"none";break;case"isS":n.ins[a]=i?"line-through":"none";break;case"isShow":n.process.opacity=!1===i?0:s.opacity/100;break;case"isDelete":n.process.opacity=i?0:s.opacity/100;break;case"border":"outerBorderBox"==r?(n.process.border=s.border&&null!==(s.border&&s.border[0])?Math.ceil(s.border[1])+"px "+$.getBorderStyle("style",s.border[2])+" "+s.border[0]:"none",n.process.left=-Math.ceil(s.border[1]),n.process.top=-Math.ceil(s.border[1])):o("shadow",n,r);break;case"shadow":if(!n.process[a]){var u="";!s.border&&"table"!=s.type||$.isUndefined(s.shadow)||"0"==s.shadow||(u=$.isArray(s.shadow)?s.shadow[0]+"px "+s.shadow[1]+"px "+s.shadow[2]+"px "+s.shadow[3]+"px "+s.shadow[4]+(s.shadow[5]?" inset":""):"0px "+s.shadow+"px "+s.shadow+"px "+(s.border&&s.border[1]?s.border[1]:0)+"px rgba(0,0,0,0.5)"),n.process[a]=u?""+u:"none"}break;case"rotate":n.process[a]=i,o("left",n,r),o("top",n,r);break;case"cutVals":$.extend(!0,n.process,{width:i.boxWidth,height:i.boxHeight,left:i.boxLeft,top:i.boxTop});break;case"filter":n.process.webkitFilter=$.getFilter(i),n.process.filter=$.getFilter(i);break;case"radius":case"isMaxRadius":n.process[a]||("outerBorderBox"==r&&s.border[1]?n.process[a]=s.isMaxRadius?Math.ceil(Math.min(s.width,s.height))+$.getRadiusAddValue(s.radius,s.border[1]):$.isArray(s.radius)?s.radius.map(function(e){return Math.ceil(e)+$.getRadiusAddValue(e,s.border[1])+"px"}).join(" "):Math.ceil(s.radius)+$.getRadiusAddValue(s.radius,s.border[1]):n.process[a]=s.isMaxRadius?Math.ceil(Math.min(s.width,s.height)):$.isArray(s.radius)?s.radius.map(function(e){return e+"px"}).join(" "):Math.ceil(s.radius));break;case"backColor":case"hasBackColor":n.process[a]||(n.process[a]=s.hasBackColor?s.backColor:"transparent");break;case"left":l||(l=$.getContrPosi(s,undefined,!0)),$.isUndefined(n.process[a])&&(n.process[a]=l.left+l.width/2-s.width/2);break;case"top":l||(l=$.getContrPosi(s,undefined,!0)),$.isUndefined(n.process[a])&&(n.process[a]=l.top+l.height/2-s.height/2);break;case"width":case"height":if("icon"==r){if($.isUndefined(n.process.fontSize)){var c=1,d=1;n.process.fontSize=Math.max(Math.max(s.width,s.height),12),s.width!=s.height&&(s.width>s.height?d=s.height/s.width:c=s.width/s.height),n.process.transform=1!=c||1!=d?(1!=c?"scaleX("+c+")":"")+(1!=d?" scaleY("+d+")":""):"none"}}else"self"!=r?(o("radius",n,r),"textBox"==r&&(n.process[a]=i)):n.process[a]=i;break;case"fontSize":i<12&&(n.ins.width="100%",n.ins.scale=1,"vM"==s.vertical?n.ins.y="-50%":n.ins.y=0,i=Math.max(i,12)),n.process[a]=i;break;case"independWH":case"outerHidden":n.process.overflow=!s.independWH&&s.outerHidden?"hidden":"visible";break;case"scale":n.process.transform="scale("+i/10+")";break;default:n.process[a]=i}}(n,r[t],t))})};for(var c in i)u(c);var d=function(t){if(Object.keys(r[t].process).length>0&&r[t].element){var n={},a={};o.push({element:r[t].element,props:r[t].process,time:e.time,delay:e.delay,start:0!==$.objLength(n)&&n,end:0!==$.objLength(a)&&a,easing:e.easing,type:t})}if(Object.keys(r[t].ins).length>0&&r[t].element){if("textBox"==t){var i="";[["horizontal",r[t].ins.horizontal],["vertical",r[t].ins.vertical]].forEach(function(e){$.isUndefined(r[t].ins[e[0]])||(i+=(""!==i?" ":"")+e[1],delete r[t].ins[e[0]])}),""!==i&&(e.prevData?r[t].ins.className="+="+i:r[t].ins.className="-="+i)}o.push({element:r[t].element,props:r[t].ins,time:0,delay:e.delay,type:t})}};for(var f in r)d(f);return o}function C(e,t,n){var r=(e-_.start)/_.total;r=$.setRegion(r,0,1),v.progress(r),_.unitW=n}function x(e){1!=v.progress()?v.resume():v.restart(),y["default"].correctRange({type:"preview",previewArea:h["default"].getTrArea(),transX:E.getTransX()}),_.state="running",e&&E.emitChange()}function S(){var e=$.getCssPosi(d),t=$.getContrPosi(c),n=e[0],r=e[1],o=e[2],a=e[3],i={sX:t.left+t.width/2,sY:t.top+t.height/2,eX:n+o/2,eY:r+a/2},s=Math.abs(i.sX-i.eX),l=Math.abs(i.sY-i.eY),u=Math.sqrt(s*s+l*l),p=m.getAngle(i.sX,i.sY,i.eX,i.eY,!0);f.style.transform="rotate("+p+"deg)",f.style.width=u+"px"}function P(){v.pause(),_.state="paused",E.emitChange()}function k(){var e=n(229)["default"],t=y["default"].getReverse();p["default"].initAllValsContrs(),v.progress(t?1:0),e.switchMode("normal")}window.TweenLite.defaultEase=window.Linear.easeNone;var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setPreviewData=function(e){b(e)},t.prototype.resetLinkLine=function(){u=$.isInState(p["default"].getFirstSelectContr(),undefined,!0)||p["default"].getFirstSelectContr(),c=p["default"].getAllValsContr({contrKey:u,type:"start"}),d=$.getElById(u.type+"_"+u.id),S()},t.prototype.getTransX=function(e,t,n){return t?e?t[1]*n:t[0]*n:(v.time()+_.start)*_.unitW},t.prototype.exit=function(){k()},t.prototype.move=function(e,t,n){return C(e,0,n)},t.prototype.reload=function(){v.progress(0)},t.prototype.getPreviewInfo=function(){return _},t.prototype.getPreviewState=function(){return _.state},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter);s["default"].register(function(e){switch(e.actionType){case l["default"].PREVIEW_SETPREVIEWDATA:b(e.time);break;case l["default"].PREVIEW_MOVE:C(e.time,e.contrId,e.unitW);break;case l["default"].PREVIEW_STOP:o=e.reverse,v.progress(o?1:0),"preview"!=g["default"].getViewMode()&&$.removeClass($.getElById("phoneConWrapBox"),"preview"),a&&E.emitChange();break;case l["default"].PREVIEW_PAUSE:P();break;case l["default"].PREVIEW_PLAY:x(!0);break;case l["default"].PREVIEW_EXIT:k();break;case l["default"].PREVIEW_PREVIEW:t=e.unitW,r=n(229)["default"],p["default"].initAllValsContrs(),r.switchMode("preview"),setTimeout(function(){b(),_.unitW=t,x()},0),E.emitChange();break;case l["default"].PREVIEW_SETUNITW:_.unitW=e.unitW,E.emitChange();break;case l["default"].PREVIEW_RESTART:v.restart(),_.state="running"}var t,r,o,a});var E=new O;t["default"]=E},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(48)),a=r(n(5)),i=r(n(432));function s(e){var t=e.noEmit,n=void 0!==t&&t,r=o["default"].getCurPos();if(r.left!=e.left||r.top!=e.top){var s=a["default"].isMultiFixed();if(o["default"].setOptimization(!!$.isUndefined(e.optimization)||e.optimization),e.autoOff){var l=o["default"].getOptimizationTimer();l&&clearTimeout(l),l=setTimeout(function(){o["default"].setOptimization(!1),n||(o["default"].emitChange(),i["default"].emitChange())},800),o["default"].setOptimizationTimer(l)}s?r.top=$.setRegion(e.top,e.minTop,0):($.isUndefined(e.left)||(r.left=parseInt(e.left)),$.isUndefined(e.top)||(r.top=parseInt(e.top))),o["default"].getTransition()&&$.removePhoneConBoxTrans(null,null,!0),e.transition&&$.setPhoneConBoxTrans("trans300"),n||(i["default"].emitChange(),o["default"].emitChange())}}t.phoneConBoxChangePos=s,t["default"]={phoneConBoxChangePos:s}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s={isOpen:!1,type:""},l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getPrdDropdown=function(){return s},t.prototype.setPrdDropdown=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!1),s=a({},s,e),t||l.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));t["default"]=l},function(e,t,n){var r=n(168),o=n(228);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[o(t[n++])];return n&&n==a?e:undefined}},function(e,t,n){var r=n(547),o=n(563),a=n(565),i=n(566),s=n(567);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,e.exports=l},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=n(88),i=n(285);function s(e,t,n){var r=new window.Image,i=t&&t.split&&t.split("|"),s=i&&i.length>1;r.src=window.staticUrl+e.images.imgBig,r.onload=function(){if(s){var u=i[i.length-1],c=o["default"].getAllValsContr({contrKey:u});a.changeSymbolChild({src:e.images.imgBig,cutVals:$.getCutValsChangeObj(r,c)},u,i[0],!0,!0)}else l({name:e.name,width:r.width,height:r.height,src:e.images.imgBig},t);n&&n()}}function l(e,t){var n=o["default"].getMULTIPLE(),r=t||o["default"].getFirstSelectContr();return r=o["default"].getAllValsContr({contrKey:r}),o["default"].contrUpdate($.getContrId(r),{multiple:i.getTwoDecimal($.getMultiple(n,[e.width,e.height])),src:e.src,oriName:e.name,oriWidth:e.width,oriHeight:e.height,cutVals:$.getCutValsChangeObj(e,r)},undefined,!0),r}function u(e,t){var n=new window.Image,r=o["default"].getSelectContrFunc();n.src=window.staticUrl+e.images.imgBig,n.onload=function(){r.length>1?o["default"].getSelectContr().forEach(function(t){l({name:e.name,width:n.width,height:n.height,src:e.images.imgBig},t)}):l({name:e.name,width:n.width,height:n.height,src:e.images.imgBig}),t&&t(),o["default"].emitChange()}}function c(e,t){return l(e,t)}t.updateImageOneContr=s,t.updateImageContr=u,t.updateImageContrFunc=c,t["default"]={updateImageOneContr:s,updateImageContr:u,updateImageContrFunc:c}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.MiddlePanelEvent=undefined;var r,o=A(n(6)),a=A(n(94)),i=A(n(24)),s=A(n(51)),l=A(n(5)),u=A(n(81)),c=A(n(32)),d=A(n(48)),f=A(n(290)),p=A(n(119)),h=A(n(23)),g=A(n(27)),y=A(n(610)),m=A(n(89)),_=A(n(132)),v=A(n(202)),b=A(n(12)),w=A(n(313)),C=n(431),x=n(216),S=n(88),P=n(63),k=n(820),O=n(471),E=n(98),T=n(308),M=n(61),D=n(444);function A(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var j=0,I=void 0,L=void 0,R=[];function B(e,t,n,r,a){var s=[],l=i["default"].getIsWrapEdit();n.forEach(function(t){if((t=o["default"].getAllValsContr({contrKey:$.extend(!0,{},t),notCopy:!0})).isShow&&!t.isLock){var n=$.getContrPosi(t);$.isDependBottomContr(t)&&(n.top+=$.getDependBottomVal()),$.collide([+n.left*r+a.left,+n.top*r+a.top,(+n.width+2)*r,(+n.height+2)*r],[e.left,e.top,e.width,e.height])&&s.push(t.type+"_"+t.id)}}),t?(R=[],l&&0===s.length&&i["default"].wrapBoxEditOut(),$.checkArrayEqual(o["default"].getSelect(),s)||m["default"].selectChange(s.filter(function(e){return $.getElById(e)}))):$.checkArrayEqual(R,s)||(R=$.extend(!0,[],s),m["default"].selectChange(s.filter(function(e){return $.getElById(e)})))}var N,F,H=t.MiddlePanelEvent={contextMenu:function(e){var t=l["default"].getView(),n=t.mode,r=t.multiViewType,o=[],a=[e.clientX,e.clientY],i=["全选",function(){window.Mousetrap.trigger(window.hotKey.command+"+a")},window.hotKey.comKey+"+A"];if("multi-view"!=n){(0,P.getActiveInterface)().length>0&&o.push(i),window.localStorage.copy&&(o.push(["粘贴",function(){$("body").trigger("paste")},window.hotKey.comKey+"+V"]),o.push(["粘贴到当前位置",function(){$.pasteFunc(window.event,a)},window.hotKey.comKey+"+"+window.hotKey.shiftKey+"+V"]));var s=c["default"].getSymbolMask();s.isShow&&(s.parentArr.length>0&&o.push(["返回上一个引用",function(){c["default"].exitAndSave()},"tab"]),o.push(["返回页面",function(){c["default"].exitAndSave(undefined,!0)},0==s.parentArr.length?"[tab]":undefined]))}else o.push(i),o.push(["粘贴",function(){$("body").trigger("paste")},window.hotKey.comKey+"+V"]),"free-view"==r&&o.push(["粘贴到当前位置",function(){(0,C.getPageFromClipboard)(a)},window.hotKey.comKey+"+"+window.hotKey.shiftKey+"+v"]);$.hasClass(e.target,"mainBoxBorder")&&o.push(["修改页面背景色",function(){var e=$.getElById("pageSetLabel");e&&e.click(),setTimeout(function(){var e=$.getElById("interfaceBgPicker");e&&e.click()},0)}]),o.length>0&&v["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:o}),e.stopPropagation(),e.preventDefault()},dragEnter:function(e){$.addClass($.getElById("middlePanel"),"isDropping"),e.preventDefault()},dragOver:function(e){$.addClass($.getElById("middlePanel"),"isDropping"),e.preventDefault()},dragLeave:function(e){$.removeClass($.getElById("middlePanel"),"isDropping"),e.preventDefault()},dropImage:function(e){p["default"].getCutImageShow()&&$.exitCutImage(!0);for(var t=[e.clientX,e.clientY],n=[],r=e.dataTransfer.files,o=function(e){var o,a,i;o=r[e],a=new window.Image,i=new window.FormData,o.size/1048576<=2?(i.append("imgs",o),a.src=window.URL.createObjectURL(o),a.onload=function(){m["default"].createImageContr({src:a.src,oriName:o.name,oriWidth:a.width,oriHeight:a.height,fd:i,posi:t})}):n.push(o.name),e==r.length-1&&n.length>0&&w["default"].moreThanOneMB(n)},a=0;a<r.length;a++)o(a);$.removeClass($.getElById("middlePanel"),"isDropping"),e.preventDefault()},mouseDown:function(e){if(!(!window.noNew||window.noNew&&l["default"].getIsInit()))return!1;var t=s["default"].getZoom()/100,n=l["default"].getView(),r=n.mode,o=n.zoom,u=c["default"].getSymbolMaskShow()&&"multi-view"!=r;if(i["default"].getIsWrapEdit())setTimeout(function(){i["default"].wrapBoxEditOut(),m["default"].selectChange([]),(0,M.setAutoSaveChangePages)("__pageContrs",!0)},0);else if(u){var d=(0,S.getThisSymbolChildContr)(!0),f=$.offset($.getElById("symbolWrapper"));$.setDrag({name:"mouseBox",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var n=$.getEventPosi(e);y["default"].changePosi({width:n.width,height:n.height,left:n.left,top:n.top}),B(n,!1,d,t,f)},endFunc:function(e){var n=$.getEventPosi(e);y["default"].show(!1),B(n,!0,d,t,f)}})}else if("multi-view"!=r&&"keyframe"!=r){var p=(0,P.getActiveInterface)(),g=$.offset(i["default"].getMergeBoxIn()?$.getElById("mergeMainBox"):window.document.querySelector(".mainBox.active"));if($.isUndefined(g))return!1;$.setDrag({name:"mouseBox",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var n=$.getEventPosi(e);y["default"].changePosi({width:n.width,height:n.height,left:n.left,top:n.top}),B(n,!1,p,t,g)},endFunc:function(e){y["default"].show(!1),B($.getEventPosi(e),!0,p,t,g)}})}else if("multi-view"==r){var v={};h["default"].getStage().getStage().find(".page").each(function(e){var t=e.getAbsolutePosition(),n=t.x,r=t.y;v[(0,E.getPageIdByKey)(e.getAttr("id"))]={left:n,top:r,width:e.getAttr("width")*o,height:e.getAttr("height")*o}}),$.setDrag({name:"mouseBox",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=$.getEventPosi(e),n={width:t.width,height:t.height,left:t.left,top:t.top};y["default"].changePosi(n),function(e){var t=[];for(var n in v){var r=v[n];$.collide([e.left+2,e.top+2,e.width,e.height],[r.left,r.top,r.width,r.height])&&t.push(n)}_["default"].selectChange(t),h["default"].emitChange()}(n)},endFunc:function(){y["default"].show(!1)}}),_["default"].selectChange([]),h["default"].emitChange()}"history"==a["default"].getLabel()[0].btnType?"multi-view"!=r?a["default"].reset():$.getElById("historyLabel")&&(a["default"].change([{tabType:"struct",isFold:!0,rename:"行为记录"},{tabType:"autoCloud",isFold:!1,rename:"历史备份"}]),setTimeout(function(){a["default"].reset()},300)):"pageStruct"==a["default"].getLabel()[0].btnType&&"multi-view"==r&&$.getElById("pageStructLabel")&&setTimeout(function(){$(".iconfont.showPageStruct").mousedown()},0),$.initKeyDown(),e.stopPropagation()},click:function(){($.hasClass($.getElById("noteLabel"),"active")||u["default"].hasEditNote())&&u["default"].editBlur()},wheel:function(e){var t=d["default"].getCurPos(),n=t.left,r=t.top,o=l["default"].getView(),a=s["default"].getZoom(),i=void 0,u=void 0;if(!window.mouseDownTarget.name)if(window.isKeyDown.isAlt)j+=(window.isMac?-1:1)*e.deltaY*5,u=$.getScrollSize(e.deltaY)*j/10,$.isUndefined(u)||(j=0,"multi-view"==o.mode?(i=$.setRegion(Math.round(100*o.zoom+.5*u),25,75),100*o.zoom!=i&&(0,x.viewZoomChange)(i)):(a!=(i=$.setRegion(Math.round(a+u),50,200))&&(0,x.zoomChange)(i),(0,O.changeColorPicker)(e)));else if(l["default"].isMultiFixed())L||(L=$.getFixedViewMinTop(o.zoom)),(0,x.posChange)({left:0,top:r-e.deltaY,transition:!1,autoOff:!0,isMultiFixed:!0,minTop:L}),(0,D.hidePageIdxInput)(),h["default"].emitChange();else{var c=f["default"].getSize(),p=c.left,y=c.top,m=window.document.body.parentNode,_=m.clientWidth,v=m.clientHeight,b=d["default"].getCurPos(),w="multi-view"==o.mode,C=w?o.zoom:s["default"].getZoom()/100,S=n-e.deltaX/C,P=r-e.deltaY/C;if(window.isPc){var k=l["default"].getActivePage(!0),E=k&&k.pageHeight||window.phoneSize.height;S=$.setRegion(S,(p+200-window.phoneSize.width*C-_/2*(1-C))/C,(_/2*(1+C)-200-270)/C),P=$.setRegion(P,(y+200-E*C-v/2*(1-C))/C,(v/2*(1+C)-200)/C),Math.abs(S-b.left)>Math.abs(P-b.top)?P=b.top:S=b.left}w&&((0,T.removeHoveringLine)(),$(".comment-input").blur(),$(".page-idx-input").blur(),$(".page-idx-input").length>0&&g["default"].setPageInput({})),(0,x.posChange)({left:S,top:P,transition:!1,autoOff:!0}),(0,O.changeColorPicker)(e)}clearTimeout(I),I=setTimeout(function(){L=null},1e3),e.preventDefault()},dblclick:function(e){if(!i["default"].getMergeBoxShow()&&!window.isPc){var t=l["default"].getView(),n=t.mode,r=t.editing,o=t.multiViewType;"multi-view"!=n?b["default"].show("点击「Tab」键可切换至多视图"):r||"free-view"!=o?r||"fixed-view"!=o||(b["default"].show("固定模式下，请点击顶部 [+] 创建页面"),$.addAttention("add-components")):(0,k.dbclickCreatePage)({e:e})}}},z=H;t["default"]=z,(N=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(N.register(j,"oldScrollY","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),N.register(I,"fixedScrollTimer","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),N.register(L,"fixedViewMinTop","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),N.register(R,"oldSelectArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),N.register(B,"_collideCheck","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),N.register(H,"MiddlePanelEvent","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js"),N.register(z,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/MiddlePanelEvent.js")),(F=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&F(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=n(615),l=n(9),u=window.$,c=a(n(616)),d=[{name:"personName",text:"人名",detail:[["随机",function(){c["default"].getName("random")}],["男性",function(){c["default"].getName("man")}],["女性",function(){c["default"].getName("women")}]]},{name:"date",text:"日期",detail:[["Y/MM/DD",function(){c["default"].getTime("YYYY/M/D")}],["年月日",function(){c["default"].getTime("YYYY年M月D日")}],["MM/DD",function(){c["default"].getTime("M/D")}],["月日",function(){c["default"].getTime("M月D日")}]]},{name:"time",text:"时间",detail:[["hh/mm/ss",function(){c["default"].getTime("H:mm:ss")}],["时分秒",function(){c["default"].getTime("H时mm分ss秒")}]]},{name:"paragraph",text:"段落",detail:[["标题",function(){c["default"].getParagraph("title")}],["对话",function(){c["default"].getParagraph("dialogue")}],["地址",function(){c["default"].getParagraph("address")}]]},{name:"content",text:"内容",interval:["content","字数"]},{name:"evaluate",text:"评价",detail:[["电商评价",function(){c["default"].getEvaluate("e_commerce")}],["文章评价",function(){c["default"].getEvaluate("article")}],["美食评价",function(){c["default"].getEvaluate("food")}],["服务评价",function(){c["default"].getEvaluate("service")}]]},{name:"telephone",text:"号码",detail:[["手机号",function(){c["default"].getPhoneNum("mobile")}],["固话",function(){c["default"].getPhoneNum("fixed")}]]},{name:"number",text:"数字",interval:["number","位数"]},{name:"email",text:["邮箱",c["default"].getEmail]}],f=[{name:"character",text:"人物",data:["324164da746310.jpg","323164da746310.jpg","322164da746310.jpg","321164da746310.jpg","320164da746310.jpg","319164da746310.jpg","318164da746310.jpg","317164da746310.jpg","316164da746310.jpg","315164da746310.jpg","314164da746310.jpg","313164da746310.jpg","312164da746310.jpg","311164da746310.jpg","310164da746310.jpg","309164da746310.jpg","308164da746310.jpeg","305164da746310.jpg","304164da746310.jpeg","307164da746310.jpeg","306164da746310.jpg","341164da748e08.jpg","340164da748e08.jpg","339164da748e08.jpg","338164da748e08.jpg","337164da748e08.jpg","335164da748e08.jpg","334164da748e08.jpg","333164da748e08.jpg","336164da748e08.jpg","332164da748e08.png","331164da748e08.jpg","330164da748e08.jpg","328164da748e08.jpeg","329164da748e08.jpg","327164da748e08.jpeg","326164da748e08.jpeg"]},{name:"technology",text:"科技",data:["436164da758808.jpg","435164da758808.jpg","434164da758808.jpeg","433164da758808.jpg","432164da758808.jpg","431164da758808.jpg","430164da758808.jpeg","429164da758808.jpg","428164da758808.jpg","427164da758808.jpg","426164da758808.jpg","425164da758808.jpg","424164da758808.jpg","423164da758808.jpg","422164da758808.jpg","421164da758808.jpg","420164da758808.jpg","418164da758808.jpg","419164da758808.jpg","417164da758808.jpg"]},{name:"business",text:"商业",data:["363164da74c4b8.jpg","362164da74c4b8.jpg","361164da74c4b8.jpg","364164da74c4b8.jpg","360164da74c4b8.jpeg","359164da74c4b8.jpg","358164da74c4b8.jpeg","355164da74c4b8.jpg","354164da74c4b8.jpg","353164da74c4b8.jpg","357164da74c4b8.jpg","356164da74c4b8.jpg","352164da74c4b8.jpeg","351164da74c4b8.jpg","350164da74c4b8.jpg","349164da74c4b8.jpg","348164da74c4b8.jpeg","346164da74c4b8.jpg","347164da74c4b8.jpg","345164da74c4b8.jpeg"]},{name:"scenery",text:"风景",data:["292164da731af0.jpg","290164da731af0.jpg","289164da731af0.jpg","288164da731af0.jpg","291164da731af0.jpg","287164da731af0.jpg","286164da731af0.jpg","285164da731af0.jpg","284164da731af0.jpg","283164da731af0.jpg","281164da731af0.jpg","280164da731af0.jpg","279164da731af0.jpeg","282164da731af0.jpg","278164da731af0.jpg","277164da731af0.png","275164da72e058.jpg","274164da72e058.jpeg","273164da72e058.jpg","276164da72e058.jpeg","272164da72e058.jpg","271164da72e058.jpeg","270164da72e058.jpeg","269164da72e058.jpeg","268164da72e058.jpeg","267164da72e058.jpg","266164da72e058.jpg","265164da72e058.jpeg","264164da72e058.jpeg","263164da72e058.jpeg","262164da72e058.png"]},{name:"building",text:"建筑",data:["250164da709e38.jpg","249164da709e38.jpg","248164da709e38.jpeg","247164da709e38.jpeg","245164da709e38.jpg","244164da709e38.jpg","243164da709e38.jpg","242164da709e38.jpg","241164da709e38.jpg","240164da709e38.png","239164da709e38.jpeg","238164da709e38.jpg","237164da709e38.jpg","236164da709e38.jpg","235164da709e38.jpeg","233164da709e38.jpeg","232164da709e38.jpg","231164da709e38.jpg","234164da709e38.jpg","230164da709e38.jpg","229164da709e38.jpeg","226164da709e38.jpeg","228164da709e38.jpeg","227164da709e38.jpeg","225164da709e38.jpeg"]},{name:"food",text:"美食",data:["411164da755928.jpg","410164da755928.jpg","409164da755928.jpg","414164da755928.jpg","412164da755928.jpg","413164da755928.jpg","407164da755928.jpeg","408164da755928.jpeg","405164da755928.jpeg","404164da755928.jpg","403164da755928.jpg","406164da755928.jpg","402164da755928.jpg","401164da755928.jpg","400164da755928.jpg","398164da755928.jpg","397164da755928.jpg","396164da755928.jpg","399164da755928.jpg","395164da755928.jpeg","394164da755928.jpeg"]},{name:"sport",text:"运动",data:["392164da74ff50.jpg","390164da74ff50.jpg","388164da74ff50.jpg","393164da74ff50.jpg","387164da74ff50.jpg","391164da74ff50.jpg","386164da74ff50.jpeg","389164da74ff50.jpg","385164da74ff50.jpeg","384164da74ff50.jpeg","383164da74ff50.jpg","382164da74ff50.jpg","381164da74ff50.jpg","380164da74ff50.jpg","378164da74ff50.jpg","376164da74ff50.jpg","375164da74ff50.jpg","379164da74ff50.jpeg","374164da74ff50.jpg","377164da74ff50.jpg","373164da74ff50.jpg","372164da74ff50.jpeg","371164da74ff50.jpeg","370164da74ff50.jpg","369164da74ff50.jpeg","368164da74ff50.jpeg"]},{name:"animal",text:"动物",data:["218164da6ef470.jpg","217164da6ef470.jpg","216164da6ef470.jpg","214164da6ef470.jpg","213164da6ef470.jpg","212164da6ef470.jpg","215164da6ef470.jpg","211164da6ef470.jpg","210164da6ef470.jpg","209164da6ef470.jpeg","208164da6ef470.jpg","207164da6ef470.jpeg","206164da6ef470.jpg","205164da6ef470.jpg","204164da6ef470.jpg","203164da6ef470.jpg","202164da6ef470.jpg","201164da6ef470.jpg","200164da6ef470.jpg","198164da6ef470.jpg","197164da6ef470.jpg","196164da6ef470.jpg","199164da6ef470.jpg","194164da6ef470.jpg","193164da6ef470.jpg","192164da6ef470.jpg","195164da6ef470.jpg","191164da6ef470.jpg","190164da6ef470.jpg","189164da6ef470.png","188164da6ef470.jpg","187164da6ef470.jpg","186164da6ef470.jpg","185164da6ef470.jpg","184164da6ef470.jpg"]}],p=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],h=[],g={_id:"",iconKey:"theme-icon-1",name:"",content:""},y=null,m=null,_=[],v=!1,b=!1,w=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getSelectKey=function(){return y},t.prototype.getIdList=function(){return m},t.prototype.getOneImageData=function(e){var t;return f.some(function(n){return n.name==e&&(t=n.data,!0)}),t},t.prototype.setSelectKey=function(e,t){y=e,u.isUndefined(t)||(m=t)},t.prototype.getTextPanel=function(){return d},t.prototype.getPicturePanel=function(){return f},t.prototype.getThemeIcon=function(){return p},t.prototype.getIsTextGroupEdit=function(){return v},t.prototype.getIsPictureGroupEdit=function(){return b},t.prototype.setIsEdit=function(e,t,n){e?v=t:b=n},t.prototype.listDataAdd=function(e,t){t?h.push(e):_.push(e)},t.prototype.getPanelDataIndex=function(e,t){var n=-1;return(t?h:_).some(function(t,r){return t._id==e&&(n=r,!0)}),n},t.prototype.getPanelData=function(e,t){var n;return(e?h:_).some(function(e){return!(!t||e._id!=t)&&(n=e,!0)}),n},t.prototype.panelDataDelete=function(e,t){var n=this.getPanelDataIndex(e,t);-1!=n&&(t?h:_).splice(n,1)},t.prototype.initSelectPanelData=function(e){g={_id:"",iconKey:e?"theme-icon-1":"theme-icon-2",name:"",content:""}},t.prototype.panelDataModify=function(e,t,n,r,o){var a=this.getPanelData(t,e);a&&(a.iconKey=n,a.name=r,a.content=o)},t.prototype.getTextGroupList=function(){return h},t.prototype.setTextGroupList=function(e){h=e},t.prototype.getPictureLibList=function(){return _},t.prototype.setPictureLibList=function(e){_=e},t.prototype.getSelectPanelData=function(){return g},t.prototype.changeSelectPanelData=function(e){u.extend(!0,g,e)},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(l.EventEmitter));i["default"].register(function(e){switch(e.actionType){case s.FillPanelActionID.SET_ISEDIT:w.setIsEdit(e.listType,e.isTextGroupEdit,e.isPictureGroupEdit),w.emitChange();break;case s.FillPanelActionID.LISTDATA_ADD:w.listDataAdd(e.obj,e.listType),w.emitChange();break;case s.FillPanelActionID.PANELDATA_DELATE:w.panelDataDelete(e._id,e.listType),w.emitChange();break;case s.FillPanelActionID.PANELDATA_MODIFY:w.panelDataModify(e._id,e.listType,e.iconKey,e.name,e.content),w.emitChange();break;case s.FillPanelActionID.CHANGE_SELECTPANELDATA:w.changeSelectPanelData(e.option),w.emitChange();break;case s.FillPanelActionID.INIT_SELECTPANELDATA:w.initSelectPanelData(e.listType),w.emitChange();break;case s.FillPanelActionID.SET_TEXT:w.setTextGroupList(e.textList),w.emitChange();break;case s.FillPanelActionID.SET_IMAGE:w.setPictureLibList(e.imgList),w.emitChange();break;case s.FillPanelActionID.SELECT_KEY:w.setSelectKey(e.selectKey),w.emitChange()}}),t["default"]=w},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(34)),a=r(n(29)),i=r(n(91)),s=r(n(67)),l=n(489),u=n(314),c=n(26);n(145).elementCanvasBaseVal.OFFSET_X;function d(e){var t=(void 0===e?{}:e).noEmit,n=void 0!==t&&t,r=o["default"].getSelectElementArr();!function(e){var t=s["default"].getPrdLine(),n=!1;t.forEach(function(t){var r=t.startKey,o=t.endKey,a=t.id;t.isConnect||-1==e.indexOf(r)&&-1==e.indexOf(o)||(n||(n=!0),s["default"].deleteLine(a))}),n&&s["default"].emitChange()}(r),p({keyArr:r,noEmit:n})}function f(){s["default"].getPrdSelectArr().forEach(function(e){s["default"].deleteLine(e,!0)}),s["default"].setPrdSelectArr([])}function p(e){var t=void 0===e?{}:e,n=t.keyArr,r=void 0===n?[]:n,s=t.noEmit,c=void 0!==s&&s;if(r&&r.length){var d=l.getChangeHierarchy({needRemoveIdArr:r}).filterElementArr;r.forEach(function(e){a["default"].deleteElementById({id:e,noEmit:!0})}),u.changeElementSelect([],!0),i["default"].updateValById({id:o["default"].getSelectStructKey(),updateVal:{elementHierarchy:d},noEmit:c}),c||a["default"].emitChange()}}function h(e){var t=e.pageId,n=e.noEmit,r=void 0!==n&&n,o=(i["default"].getPrdStructById(t)||{}).elementHierarchy;o&&(p({keyArr:o,noEmit:r}),i["default"].updateStructById({updateVal:{elementHierarchy:[]},id:t,noEmit:r}))}function g(e){var t=e.pageId,n=e.noEmit,r=void 0!==n&&n,o=c.getAllLineByStructKey(t);o.length&&(o.forEach(function(e){var t=e.id;s["default"].deleteLine(t,!0)}),r&&s["default"].setPrdSelectArr([]),r&&s["default"].emitChange())}t.deleteSelectElement=d,t.deleteSelectLine=f,t.deleteLineById=function(e,t){void 0===t&&(t=!1);var n=s["default"].getPrdSelectArr();s["default"].deleteLine(e,t),-1!=n.indexOf(e)&&(n.remove(e),s["default"].setPrdSelectArr(n,t))},t.deleteElementByIdArr=p,t.deleteAllElementByPageId=h,t.deleteAllLineByPageId=g,t["default"]={deleteSelectElement:d,deleteSelectLine:f,deleteAllElementByPageId:h,deleteAllLineByPageId:g}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(29)),a=r(n(10)),i=r(n(126)),s=r(n(34)),l=n(26),u=n(271);function c(e){var t=e.isEdit,n=void 0===t||t,r=e.id,a=e.noEmit,i=void 0!==a&&a;o["default"].getPrdElementById(r)&&o["default"].updateValById({id:r,updateVal:{isEdit:n},noEmit:i})}function d(e){var t=e.isLink,n=void 0===t||t,r=e.id,a=e.noEmit,i=void 0!==a&&a;o["default"].getPrdElementById(r)&&o["default"].updateValById({id:r,updateVal:{isLink:n},noEmit:i})}function f(e){var t=e.id,n=e.pageId,r=e.noEmit,i=void 0!==r&&r;o["default"].getPrdElementById(t)&&(o["default"].updateValById({id:t,updateVal:{linkUrl:n,isEdit:!1,isInnerLink:!0},noEmit:i}),a["default"].createData({type:"addInnerLink",name:"PRD 添加网页卡片的内部链接",autoSaveType:"prd"}))}function p(e,t,n){void 0===n&&(n=!1),s["default"].setLinkInput({isShow:!1}),setTimeout(function(){o["default"].updateValById({id:e,updateVal:{isEdit:!0}});var n=i["default"].getRichText().editor,r=i["default"].getNodeData(),a=r.key,s=r.start,l=r.length;u.removeLink(!0),n.addMarkByKey(a,s,l,{type:"a-link-inner",data:{val:t}})},0)}function h(){l.getSelectPageElementHierarchy().forEach(function(e){c({isEdit:!1,id:e,noEmit:!0})})}function g(){l.getSelectPageElementHierarchy().forEach(function(e){d({isLink:!1,id:e,noEmit:!0})})}t.changeEditById=c,t.changeLinkById=d,t.webBindLinkPageById=f,t.textBindLinkPageById=p,t.changeEditElementInPage=h,t.changeLinkElementInPage=g,t["default"]={changeEditById:c,changeEditElementInPage:h,changeLinkElementInPage:g,webBindLinkPageById:f,changeLinkById:d,textBindLinkPageById:p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=!window.isPrototypeTool&&!window.isWeb,o={getStyles:function(e){var t=e.type?[]:e.styleList,n={};switch(e.type){case"box":t=["width","height","left","top","rotate"],window.isPrototypeTool||(t.push("opacity"),t.push("isDelete"),t.push("isShow"));break;case"textBox":t=["opacity","radius","insetBorder","backColor","shadow"];break;case"outerBorderBox":t=["opacity","border","radius"];break;case"tableBox":t=["opacity","backColor","shadow"];break;case"advancedBox":t=["opacity"];break;case"extraBox":t=["width","height","opacity","radius","shadow"]}return t.forEach(function(t){$.extend(n,o.getSingleStyle({contr:e.contr,prop:t,textCorrect:e.textCorrect,isActivePage:e.isActivePage,type:e.type}))}),n},getSingleStyle:function(e){var t={},n=e.contr;switch(e.prop){case"rotate":$.isUndefined(n.rotate)||(t.transform="rotate("+n.rotate+"deg)");break;case"opacity":$.isUndefined(n.opacity)||(t.opacity=n.opacity/100);break;case"isDelete":!1!==n.isShow&&!n.isDelete||(t.display="none");break;case"radius":"outerBorderBox"==e.type&&n.border[1]?t.borderRadius=n.isMaxRadius?Math.ceil(Math.min(n.width,n.height))+$.getRadiusAddValue(n.radius,n.border[1]):$.isArray(n.radius)?n.radius.map(function(e){return Math.ceil(e)+$.getRadiusAddValue(e,n.border[1])+"px"}).join(" "):Math.ceil(n.radius)+$.getRadiusAddValue(n.radius,n.border[1]):t.borderRadius=n.isMaxRadius?Math.ceil(Math.min(n.width,n.height)):$.isArray(n.radius)?n.radius.map(function(e){return e+"px"}).join(" "):Math.ceil(n.radius);break;case"backColor":if(n.gradientColor&&n.hasBackColor)t.background=n.gradientColor;else if(n.hasBackColor)if($.isLineContr(n)){var a="hLine"==n.baseContrType?n.height:n.width;$.extend(!0,t,o.getSingleStyle({contr:{lineType:n.baseContrType,insetBorder:[n.backColor,a,n.lineStyle]},prop:"insetBorder"}))}else t.background=n.backColor;else t.background="none";break;case"insetBorder":if($.isLineContr(n))return;var i="border";"hLine"==n.lineType?i="borderTop":"vLine"==n.lineType&&(i="borderLeft"),t[i]=n.insetBorder&&null!==(n.insetBorder&&n.insetBorder[0])?Math.ceil(n.insetBorder[1])+"px "+$.getBorderStyle("style",n.insetBorder[2])+" "+n.insetBorder[0]:"none";break;case"border":t.border=n.border&&null!==(n.border&&n.border[0])?Math.ceil(n.border[1])+"px "+$.getBorderStyle("style",n.border[2])+" "+n.border[0]:"none",t.left=-Math.ceil(n.border[1]),t.top=-Math.ceil(n.border[1]);break;case"shadow":var s=n.border&&n.border[1]?" 0 0 0 "+n.border[1]+"px "+n.border[0]:"",l="";!n.border&&"table"!=n.type||$.isUndefined(n.shadow)||"0"==n.shadow||(l=$.isArray(n.shadow)?n.shadow[0]+"px "+n.shadow[1]+"px "+n.shadow[2]+"px "+n.shadow[3]+"px "+n.shadow[4]+(n.shadow[5]?" inset":""):"0px "+n.shadow+"px "+n.shadow+"px "+(n.border&&n.border[1]?n.border[1]:0)+"px rgba(0,0,0,0.5)"),e.isActivePage||$.hasSpecialBorderStyle(n.border)?t.boxShadow=l||"none":t.boxShadow=s||l?s+(s&&l?",":"")+l:"none";break;case"outerHidden":t.overflow=!n.independWH&&n.outerHidden?"hidden":"visible";break;case"filter":t.WebkitFilter=$.getFilter(n.filter);break;case"left":case"top":t[e.prop]=Math.round(("top"==e.prop&&window.isPrototypeTool?$.getDependBottomTopVal(n):n[e.prop])+(e.textCorrect?1:0)),r&&(t[e.prop]=$.convertNum(t[e.prop],undefined,!0));break;case"width":"text"==n.type&&n.autoW?t[e.prop]="auto":(t[e.prop]=Math.round(n[e.prop]),r&&(t[e.prop]=$.convertNum(t[e.prop],undefined,!0)));break;case"height":"text"==n.type&&n.autoH?t[e.prop]="auto":(t[e.prop]=Math.round(n[e.prop]),r&&(t[e.prop]=$.convertNum(t[e.prop],undefined,!0)));break;default:t[e.prop]=n[e.prop]}return t}};t["default"]=o},function(e,t,n){(function(e){var r=n(84),o=n(579),a="object"==typeof t&&t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a?r.Buffer:undefined,l=(s?s.isBuffer:undefined)||o;e.exports=l}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(209)),a=window.$,i=o["default"].getDefaultStyle(),s={createHorizontalBar:function(){return{barColor:["rgba(60, 144, 247, 1)","rgba(85, 191, 192, 1)","rgba(94, 190, 103, 1)","rgba(244, 205, 73, 1)","rgba(224, 86, 103, 1)","rgba(124, 75, 216, 1)"],data:{},showAxis:!0,tooltip:!0,isHorizontal:!0,hasLegend:!1,headArr:["名称","数据"]}},createLineChart:function(){return{barColor:["rgba(60, 144, 247, 1)","rgba(85, 191, 192, 1)","rgba(94, 190, 103, 1)","rgba(244, 205, 73, 1)","rgba(224, 86, 103, 1)","rgba(124, 75, 216, 1)"],data:{},showAxis:!0,tooltip:!0,isSmooth:!1,isExtend:!1,hasLegend:!1,headArr:["名称","数据"]}},createProgressCircle:function(){return{WHrelation:!0,defaultColor:"rgba(245, 245, 245, 1)",progressColor:"rgba(73, 157, 248, 1)",percent:36,showText:!0,textColor:"rgba(73, 157, 248, 1)",lineWidth:10,colorList:[]}},createMiniArea:function(){return{lineColor:"rgba(52, 139, 247, 1)",areaColor:"rgba(209, 233, 252, 1)",data:{},isSmooth:!0,showAxis:!1,tooltip:!0,headArr:["名称","数据"]}},createMiniBar:function(){return{barColor:"rgba(58, 145, 247, 1)",data:{},showAxis:!1,tooltip:!0,headArr:["名称","数据"]}},createMiniProgress:function(){return{defaultColor:"rgba(245, 245, 245, 1)",progressColor:"rgba(84, 191, 193, 1)",percent:34}},createBar:function(){return{barColor:["rgba(60, 144, 247, 1)","rgba(85, 191, 192, 1)","rgba(94, 190, 103, 1)","rgba(244, 205, 73, 1)","rgba(224, 86, 103, 1)","rgba(124, 75, 216, 1)"],data:{},showAxis:!0,tooltip:!0,isHorizontal:!1,hasLegend:!1,headArr:["名称","数据"]}},createCircle:function(){return{WHrelation:!0,tooltip:!0,title:"在线用户数",titleFontSize:12,textFontSize:18,inner:75,hasLegend:!1,legendFontSize:14,headArr:["名称","数据"],colorList:["rgba(60, 144, 247, 1)","rgba(85, 191, 192, 1)","rgba(94, 190, 103, 1)","rgba(244, 205, 73, 1)","rgba(224, 86, 103, 1)","rgba(124, 75, 216, 1)"],titleColor:"rgba(0, 0, 0, 0.45)",textColor:"rgba(51, 51, 51, 1)",nameColor:"rgba(51, 51, 51, 1)",numberColor:"rgba(0, 0, 0, 0.45)",percentColor:"rgba(51, 51, 51, 1)"}},createMiniCircle:function(){return{WHrelation:!0,tooltip:!0,defaultColor:"rgba(245, 245, 245, 1)",progressColor:"rgba(73, 157, 248, 1)",title:"标题",percent:35,titleFontSize:12,titleColor:"rgba(0, 0, 0, 0.45)",textFontSize:18,textColor:"rgba(51, 51, 51, 1)",inner:75}},createPie:function(){return{WHrelation:!0,tooltip:!0,inner:0,hasLegend:!1,legendFontSize:14,colorList:["rgba(60, 144, 247, 1)","rgba(85, 191, 192, 1)","rgba(94, 190, 103, 1)","rgba(244, 205, 73, 1)","rgba(224, 86, 103, 1)","rgba(124, 75, 216, 1)"],headArr:["名称","数据"],nameColor:"rgba(51, 51, 51, 1)",numberColor:"rgba(0, 0, 0, 0.45)",percentColor:"rgba(51, 51, 51, 1)"}},createRadar:function(){return{fontSize:14,tooltip:!0,hasLegend:!0,legendFontSize:14,dataFontSize:20,typeFirstColor:"rgba(60, 144, 247, 1)",typeSecondColor:"rgba(244, 205, 73, 1)",typeThirdColor:"rgba(94, 190, 103, 1)",typeFourthColor:"rgba(224, 86, 103, 1)",typeFifthColor:"rgba(123, 78, 216, 1)",legendTextColor:"rgba(0, 0, 0, 0.45)",legendNumberColor:"rgba(0, 0, 0, 0.45)",textColor:"rgba(51, 51, 51, 1)"}},createGauge:function(){return{WHrelation:!0,defaultColor:"rgba(245, 245, 245, 1)",progressColor:"rgba(73, 157, 248, 1)",percent:86,title:"合格率",titleFontSize:14,percentFontSize:20,degree:"优；良；中；差",titleColor:"rgba(0,0,0,0.43)",textColor:"rgba(0,0,0,0.85)",degreeColor:"rgba(0, 0, 0, 0.65)"}},createWaterWave:function(){return{WHrelation:!0,color:"rgba(24, 144, 255, 100)",borderColor:"rgba(124, 144, 255, 100)",fontColor:"rgba(0, 0, 0, 0.45)",percentColor:"rgba(51, 51, 51, 1)",percent:36,title:"众筹金额剩余",titleFontSize:14,percentFontSize:20}},createTimelineChart:function(){return{data:[],startTime:"08:00",intervalTime:"01:00",showTimeLine:!0,isSmooth:!0,tooltip:!0,hasLegend:!0,legendFontSize:14}}},l={createCarouselM:function(){return{typeIndex:1,speed:30,autoplay:!0,dots:!0,radius:0,isMaxRadius:!1,dotColor:"rgba(187, 187, 187, 1)",activeDotColor:"rgba(51, 51, 51, 1)"}},createCarouselTextM:function(){return{speed:30,vertical:!0,fontSize:14,textColor:"rgba(80, 80, 80, 1)"}},createSliderM:function(){return{value:60,btnWidthHeight:20,btnBackground:"rgba(255, 255, 255, 1)",btnBorder:1,btnBorderColor:"rgba(74, 144, 226, 1)",lineHeight:6,lineColor:"rgba(204, 204, 204, 1)",lineSelectColor:"rgba(74, 144, 226, 1)"}},createRangeM:function(){return{minVal:30,maxVal:70,btnWidthHeight:20,btnBackground:"rgba(255, 255, 255, 1)",btnBorder:1,btnBorderColor:"rgba(74, 144, 226, 1)",lineHeight:6,lineColor:"rgba(204, 204, 204, 1)",lineSelectColor:"rgba(74, 144, 226, 1)"}},createStepperM:function(){return{minVal:0,maxVal:30,value:2,allowInput:!0,btnIconColor:"rgba(74, 144, 226, 1)",btnIconSize:16,btnBackground:"rgba(255, 255, 255, 1)",btnBorder:1,btnBorderColor:"rgba(204, 204, 204, 1)",btnRadius:2,btnIsMaxRadius:!1,fontSize:14,textColor:"rgba(80, 80, 80, 1)",btnWidthHeight:24}},createPaginationM:function(){return{maxVal:5,value:1,btnWidth:60,btnRadius:4,btnIsMaxRadius:!1,btnBackground:"rgba(255, 255, 255, 1)",btnBorder:1,btnBorderColor:"rgba(204, 204, 204, 1)",btnFontSize:14,btnTextColor:"rgba(80, 80, 80, 1)",leftBtnText:"上一页",rightBtnText:"下一页",fontSize:14,textColor:"rgba(80, 80, 80, 1)",activeTextColor:"rgba(74, 144, 226, 1)"}},createRadioM:function(){return{listHeight:44,background:"rgba(255, 255, 255, 1)",fontSize:14,textColor:"rgba(80, 80, 80, 1)",selectTextColor:"rgba(80, 80, 80, 1)",selectIconColor:"rgba(74, 144, 226, 1)"}},createCheckboxM:function(){return{listHeight:44,background:"rgba(255, 255, 255, 1)",fontSize:14,textColor:"rgba(80, 80, 80, 1)",selectTextColor:"rgba(80, 80, 80, 1)",iconColor:"rgba(200, 200, 200, 1)",selectIconColor:"rgba(74, 144, 226, 1)"}},createSwitchM:function(){return{WHrelation:!0,typeIndex:1,checked:!0,disabled:!1,themeColor:"rgba(77,216,101,1)",btnColor:i.backgroundColor,background:i.backgroundColor}},createMenuM:function(){return{typeIndex:1,allowMultiple:!1,level:1,themeColor:i.primaryColor,background:i.backgroundColor,title:"菜单",fontSize:i.baseFontSize,textColor:i.normalColor,iconKey:"menu",iconSize:i.baseIconSize,iconColor:i.normalColor}},createPickerM:function(){return{title:"选择",fontSize:14,textColor:"rgba(80, 80, 80, 1)"}},createSegmentedControlM:function(){return{selectedIndex:0,themeColor:i.primaryColor,background:null,fontSize:i.baseFontSize,textColor:i.primaryColor,activeTextColor:"rgba(255, 255, 255, 1)"}},createCalendarM:function(){return{typeIndx:1,title:"选择日期区间",fontSize:14,textColor:"rgba(80, 80, 80, 1)"}},createDatePickerM:function(){return{formatType:"YYYY-MM-DD HH:mm",title:"日期",fontSize:14,textColor:"rgba(80, 80, 80, 1)"}},createAccordionM:function(){return{listHeight:44,iconSize:12,iconColor:"rgba(180, 180, 180, 1)",fontSize:14,textColor:"rgba(80, 80, 80, 1)",background:"rgba(255, 255, 255, 1)",childFontSize:12,childTextColor:"rgba(80, 80, 80, 1)",childBackground:"rgba(255, 255, 255, 1)"}}},u={createDropdown:function(){return{trigger:"click",btnContent:"菜单",btnBackground:null,btnFontSize:14,btnTextColor:"rgba(80, 80, 80, 1)",btnRadius:0,btnIsMaxRadius:!1,btnBorder:0,btnBorderColor:"rgba(204, 204, 204, 1)",boxBackground:"rgba(255, 255, 255, 1)",boxRadius:4,boxIsMaxRadius:!1,boxBorder:0,boxBorderColor:"rgba(204, 204, 204, 1)",boxFontSize:14,boxTextColor:"rgba(80, 80, 80, 1)",hoverBackground:"rgba(230, 247, 255, 1)",hoverTextColor:"rgba(80, 80, 80, 1)"}},createCascader:function(){return{placeholder:"请选择",defaultValue:[],value:[],showSearch:!1,expandTrigger:"hover",btnBackground:"rgba(255,255,255,1)",btnBorder:1,btnBorderColor:"rgba(217,217,217,1)",btnRadius:4,btnIsMaxRadius:!1,btnFontSize:14,btnTextColor:"rgba(80, 80, 80, 1)"}},createCheckbox:function(){return{isVertical:!1,fontSize:14,textColor:"rgba(80, 80, 80, 1)",iconColor:"rgba(74, 144, 226, 1)",selectIconColor:"rgba(74, 144, 226, 1)",paddingVal:10}},createSelect:function(){return{showSearch:!1,placeholder:"请选择",trigger:"hover",btnBackground:"rgba(255, 255, 255, 1)",btnFontSize:14,btnTextColor:"rgba(80, 80, 80, 1)",btnRadius:4,btnIsMaxRadius:!1,btnBorder:1,btnBorderColor:"rgba(204, 204, 204, 1)",boxBackground:"rgba(255, 255, 255, 1)",boxRadius:4,boxIsMaxRadius:!1,boxBorder:0,boxBorderColor:"rgba(204, 204, 204, 1)",boxFontSize:14,boxTextColor:"rgba(80, 80, 80, 1)",hoverBackground:"rgba(230, 247, 255, 1)",hoverTextColor:"rgba(80, 80, 80, 1)",selectBackground:"rgba(255, 255, 255, 1)",selectTextColor:"rgba(80, 80, 80, 1)"}},createMenu:function(){return{typeIndex:1,selectable:!0,isShowIcon:!0,listHeight:40,background:i.backgroundColor,fontSize:i.baseFontSize,textColor:i.normalColor,iconSize:i.baseIconSize,iconColor:i.normalColor,themeColor:i.primaryColor,onlyExtandOne:!1,allowRouter:!0,selectBackground:a.setColorOpacity(i.primaryColor,".1"),selectFontSize:i.baseFontSize,selectTextColor:i.primaryColor,lineWidth:3,lineColor:i.primaryColor,borderColor:"rgba(232, 232, 232, 1)"}},createPagination:function(){return{themeColor:i.primaryColor,total:5,current:1,showQuickJumper:!1,btnRadius:4,btnIsMaxRadius:!1,btnBackground:"rgba(255, 255, 255, 1)",btnBorder:1,btnBorderColor:"rgba(204, 204, 204, 1)",btnFontSize:14,btnTextColor:"rgba(80, 80, 80, 1)"}},createDatePicker:function(){return{value:"",typeIndex:1,format:1,placeholder:"请选择日期",btnBackground:"rgba(255,255,255,1)",btnBorder:1,btnBorderColor:"rgba(217, 217, 217, 1)",btnRadius:4,btnIsMaxRadius:!1,btnFontSize:14,btnTextColor:"rgba(80, 80, 80, 1)"}},createRate:function(){return{typeIndex:1,num:5,value:2,disabled:!1,allowClear:!1,allowHalf:!1,iconSize:20,iconColor:"rgba(232, 232, 232, 1)",selectIconColor:"rgba(246, 219, 77, 1)"}},createRadio:function(){return{isVertical:!1,fontSize:14,textColor:"rgba(80, 80, 80, 1)",iconColor:"rgba(74, 144, 226, 1)",selectIconColor:"rgba(74, 144, 226, 1)",paddingVal:10}},createSlider:function(){return{value:60,btnWidthHeight:20,btnBackground:"rgba(255, 255, 255, 1)",btnBorder:1,btnBorderColor:"rgba(74, 144, 226, 1)",lineHeight:6,lineColor:"rgba(204, 204, 204, 1)",lineSelectColor:"rgba(74, 144, 226, 1)"}},createSwitch:function(){return{WHrelation:!0,typeIndex:4,checked:!0,disabled:!1,themeColor:i.primaryColor,btnColor:i.backgroundColor,background:"rgba(190, 190, 190 ,1)"}},createTreeSelect:function(){return{isMultiple:!1,showSearch:!1,placeholder:"请选择",btnBackground:"rgba(255,255,255,1)",btnBorder:1,btnBorderColor:"rgba(217,217,217,1)",btnRadius:4,btnIsMaxRadius:!1,btnFontSize:14,btnTextColor:"rgba(80, 80, 80, 1)"}},createTimePicker:function(){return{placeholder:"请选择时间",value:"",formatType:"HH:mm",btnBackground:"rgba(255,255,255,1)",btnBorder:1,btnBorderColor:"rgba(217,217,217,1)",btnRadius:4,btnIsMaxRadius:!1,btnFontSize:14,btnTextColor:"rgba(80, 80, 80, 1)"}},createTransfer:function(){return{themeColor:i.primaryColor,background:i.backgroundColor,radius:i.baseRadius,isMaxRadius:!1,border:i.baseBorderW,borderColor:i.borderColor,fontSize:i.baseFontSize,textColor:i.normalColor,listOneName:"P2",listTwoName:"P1"}},createCalendar:function(){return{typeIndex:1,themeColor:i.primaryColor,background:i.backgroundColor}},createCarousel:function(){return{data:[],speed:30,autoplay:!0,dots:!0,effect:!1,vertical:!1,radius:0,isMaxRadius:!1,dotBackground:"rgba(255, 255, 255, 1)",dotSelectBackground:"rgba(255, 255, 255, .6)"}},createCollapse:function(){return{accordion:!1,typeIndex:1,border:1,borderColor:"rgba(217, 217, 217, 1)",radius:4,isMaxRadius:!1,listHeight:40,iconSize:12,iconColor:"rgba(180, 180, 180, 1)",fontSize:14,textColor:"rgba(80, 80, 80, 1)",background:"rgba(255, 255, 255, 1)",headerBackground:"rgba(255, 255, 255, 1)",childFontSize:14,childTextColor:"rgba(80, 80, 80, 1)",childBackground:"rgba(255, 255, 255, 1)"}},createTree:function(){return{checkable:!1,fontSize:14,textColor:"rgba(98, 98, 98, 1)",checkboxIconColor:"rgba(24, 144, 255, 1)"}}};function c(e){var t=e.type,n={};return a.isAdvancedContr(t)?(n=u["create"+a.firstToUpperCase(t)](),"menu"==t&&a.isUndefined(e.selectTextColor)&&(e.selectTextColor=e.themeColor,e.lineColor=e.themeColor,e.selectBackground=a.setColorOpacity(e.themeColor,".1"))):a.isMobileContr(t)?n=l["create"+a.firstToUpperCase(t)]():a.isChartContr(t)&&(n=s["create"+a.firstToUpperCase(t)](),"lineChart"==t&&a.isString(e.lineColor)?(delete e.lineColor,e.barColor=[e.lineColor]):"bar"!=t&&"horizontalBar"!=t||!a.isString(e.barColor)||(e.barColor=[e.barColor])),a.extend(!0,n||{},e)}t.fixDefaultData=c,t["default"]={createAdvancedFunc:u,createMobileFunc:l,createChartFunc:s,fixDefaultData:c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{src:"/images/defaultImg.png"},{src:"/images/defaultImg.png"},{src:"/images/defaultImg.png"}],o=window.$,a=new(function(){function e(){}return e.prototype.getDefaultData=function(e,t){var n;switch(e){case"carousel":case"carouselM":n=t&&t.length>0?t.map(function(e){var t=o.isString(e)?{src:e}:{src:e.src?e.src:r};return e&&e.events&&(t.events=e.events),t}):r}return n},e}());t["default"]=a},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6));function a(e,t,n){var r=t||o["default"].getFirstSelectContr(),a=o["default"].getAllValsContr({contrKey:r}).state,i=o["default"].getContrState(r);r.isOpenState?-1==e?(r.isOpenState=!1,i.startState=a.endState,i.endState=-1):"undefined"!=typeof i.endState?(i.startState==e&&(i.startState=n||a.endState),i.endState=e):(i.endState=e,i.startState=n||-1):(r.isOpenState=!0,i.endState=e,i.startState=n||-1),r.hoverState&&r.hoverState.isEndHover&&(r.hoverState.isEndHover=!1,r.hoverState.hoverEndIndex=null),o["default"].initAllValsContrs(),o["default"].emitChange()}function i(e,t){var n=o["default"].getFirstSelectContr(),r=o["default"].getContrState(n);r.startState=e,$.isUndefined(r.endState)&&(r.endState="-1"),n.hoverState.isStartHover=!1,o["default"].initAllValsContrs(),t||o["default"].emitChange()}t.selectState=a,t.selectStartState=i,t["default"]={selectState:a,selectStartState:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(51)),i=r(n(48)),s=r(n(23)),l=r(n(42)),u=window.$;function c(e){s["default"].emitChange()}function d(e){s["default"].emitMoveChange()}function f(){var e=u.getWinSize(),t=e.width,n=e.height,r=o["default"].isFixedView(),s=o["default"].getView(),c=a["default"].getZoom(),d=i["default"].getCurPos(),f=window.isPrototypeTool?"multi-view"==s.mode?s.zoom:c/100:l["default"].getMultiZoom();return r&&"multi-view"==s.mode?{canvasX:d.left*f,canvasY:d.top*f,canvasZoom:f}:{canvasX:d.left*f+t*(1-f)/2,canvasY:d.top*f+n*(1-f)/2,canvasZoom:f}}t.canvasZoomChange=c,t.canvasPosChange=d,t.getCanvasPos=f,t["default"]={canvasZoomChange:c,canvasPosChange:d,getCanvasPos:f}},,function(e,t,n){var r=n(161),o=n(141),a="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==i||t==s||t==a||t==l}},function(e,t,n){e.exports={"default":n(386),__esModule:!0}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(40)),a=r(n(6)),i=r(n(5)),s=r(n(10)),l=r(n(29)),u=n(26),c=n(118),d=window.$;function f(e,t,n){for(var r in e){var o=r.split("_"),a=parseInt(o[0]),i=parseInt(o[1]);(n&&a===t-1||!n&&i===t-1)&&delete e[r]}}function p(e,t){var n=i["default"].isPrdView(),r=o["default"].getTableData(),l=n&&u.findSelectElement()[0],f=l||a["default"].getFirstSelectContr();if(f){var p=f.height,h=f.linePosi,g=f.columnPosi,y=f.child,m=t||{columnIndex:g.length-1,lineIndex:h.length-1},_=d.extend(!0,{},y),v=h[m.lineIndex],b=[].concat(h);b.splice(m.lineIndex+(e?0:1),0,v);var w={height:p+v,linePosi:b},C={};for(var x in _){var S=x.split("_"),P=parseInt(S[0]),k=parseInt(S[1]);k>=m.lineIndex+(e?0:1)&&y[x]?C[P+"_"+(k+1)]=_[x]:C[x]=_[x]}if(w.child=C,e&&r&&r.selectCell&&(r.selectCell[0].lineIndex=r.selectCell[0].lineIndex+1,r.selectCell[1].lineIndex=r.selectCell[1].lineIndex+1,o["default"].emitChange()),n)c.fixElementPosVal({changeVal:w,element:l}),s["default"].createData({type:"changeAddLine",name:"PRD 表格添加行",autoSaveType:"prd"});else{var O=d.getContrId(f);a["default"].contrUpdate(O,w,!0,undefined,!0),s["default"].createData({type:"changeAddLine",name:"["+f.name+"] 表格添加行",handleObjType:f.type,autoSaveType:"pageContrs"})}}}function h(e){var t=i["default"].isPrdView(),n=t?u.findSelectElement()[0]:a["default"].getFirstSelectContr();if(n){var r=n.height,o=n.linePosi,l=n.child,p=e-o.length,h=[].concat(o),g=void 0;if(p>0){for(var y=o[o.length-1],m=0;m<p;m++)h.push(y);g={linePosi:h,height:r+y*p}}else if(p<0){var _=0,v=d.extend(!0,{},l||{});for(m=o.length;m>e;m--)_+=o[m-1],f(v,m,!1);h.splice(e),g={linePosi:h,height:r-_,child:v}}if(g)if(t)c.fixElementPosVal({changeVal:g,element:n}),s["default"].createData({type:"changeLineByNum",name:"PRD 修改表格列数",autoSaveType:"prd"});else{var b=d.getContrId(n);a["default"].contrUpdate(b,g,!0,undefined,!0),s["default"].createData({type:"changeLineByNum",name:"["+n.name+"] 修改表格列数",handleObjType:n.type,autoSaveType:"pageContrs"})}}}function g(e,t){var n=o["default"].getTableData(),r=n.selectContr,s=n.selectCell;if(r&&s){var u=i["default"].isPrdView(),f=u?l["default"].getPrdElementById(r.id):a["default"].getContrByAll(d.getContrId(r)),p=d.extend(!0,{},f),h=p.height,g=p.linePosi,y=p.child,m=s[0],_=m.columnIndex,v=m.lineIndex,b=e===g.length-1,w=g[e],C=[].concat(g);C.splice(e,1);var x={};for(var S in y){var P=S.split("_"),k=parseInt(P[0]),O=parseInt(P[1]);O==e||(O>e?x[k+"_"+(O-1)]=y[S]:x[S]=y[S])}var E={height:h-w,linePosi:C,child:x};u?c.fixElementPosVal({changeVal:E,element:f}):a["default"].contrUpdate(d.getContrId(f),E,!0,t,!0),o["default"].setTableSelectCell([{columnIndex:_,lineIndex:b?E.linePosi.length-1:v},{columnIndex:_,lineIndex:b?E.linePosi.length-1:v}],t)}}t.removeColumnOrLineChild=f,t.addLine=p,t.changeLineByNum=h,t.deleteLine=g,t["default"]={removeColumnOrLineChild:f,addLine:p,changeLineByNum:h,deleteLine:g}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(59))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(706)),i=r(n(707)),s=r(n(340)),l=r(n(6)),u=r(n(10)),c=r(n(199)),d=r(n(252)),f=r(n(19)),p=new(function(){function e(){}return e.prototype.changeImageFunc=function(e,t){void 0===t&&(t=!1);var n=window,r=n.noLogin,l=n.isEdit;function u(){l||(e&&d["default"].init(e),f["default"].init({width:800,title:"原图替换",noBottom:!0,content:o["default"].createElement("div",{className:"popup-content no-padding"},o["default"].createElement(a["default"],null),o["default"].createElement(i["default"],{changePrdImage:t}))}))}s["default"].getHistoryImages(function(){!r&&c["default"].getIsDownload()&&c["default"].getPublicIsDownload()&&u()}),s["default"].getImageLib(function(){!r&&c["default"].getHistoryIsDownload()&&c["default"].getPublicIsDownload()&&u()}),s["default"].getPublicImageLib(function(){r?u():c["default"].getIsDownload()&&c["default"].getHistoryIsDownload()&&u()})},e.prototype.changeImageSaveFunc=function(){var e=l["default"].getSelect();l["default"].changeRightLabel(e),u["default"].createData({type:"updateImageChange",name:"修改图片原图",handleObjType:1===e.length?e[0].split("_")[0]:"mutiContr",autoSaveType:"pageContrs"})},e}());t["default"]=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(708),o=n(709),a=n(710),i=n(711),s=n(712),l={getHistoryImages:r.getHistoryImages,getImageLib:o.getImageLib,getPublicImageLib:a.getPublicImageLib,getPageLib:i.getPageLib,getPublicPageLib:s.getPublicPageLib};t["default"]=l},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_BaseUtil=__webpack_require__(150),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var startPosi=void 0,endPosi=void 0,oldStartPosi=void 0,oldEndPosi=void 0,LinkLineComp=function(_Component){function LinkLineComp(e){(0,_classCallCheck3["default"])(this,LinkLineComp),startPosi=oldStartPosi=$.getContrPosi(e.start),endPosi=oldEndPosi=$.getContrPosi(e.end),$.isDependBottomContr(e.start)&&(startPosi.top+=$.getDependBottomVal()),$.isDependBottomContr(e.end)&&(endPosi.top+=$.getDependBottomVal());var t=(0,_possibleConstructorReturn3["default"])(this,(LinkLineComp.__proto__||(0,_getPrototypeOf2["default"])(LinkLineComp)).call(this,e));return t.state={},t}return(0,_inherits3["default"])(LinkLineComp,_Component),(0,_createClass3["default"])(LinkLineComp,[{key:"shouldComponentUpdate",value:function(e){return startPosi=$.getContrPosi(e.start),endPosi=$.getContrPosi(e.end),$.isDependBottomContr(e.start)&&(startPosi.top+=$.getDependBottomVal()),$.isDependBottomContr(e.end)&&(endPosi.top+=$.getDependBottomVal()),(!oldStartPosi||startPosi.left!=oldStartPosi.left||startPosi.top!=oldStartPosi.top||startPosi.width!=oldStartPosi.width||startPosi.height!=oldStartPosi.height||!oldEndPosi||endPosi.left!=oldEndPosi.left||endPosi.top!=oldEndPosi.top||endPosi.width!=oldEndPosi.width||endPosi.height!=oldEndPosi.height)&&(oldStartPosi=$.extend(!0,{},startPosi),oldEndPosi=$.extend(!0,{},endPosi),!0)}},{key:"render",value:function(){var e={sX:startPosi.left+startPosi.width/2,sY:startPosi.top+startPosi.height/2,eX:endPosi.left+endPosi.width/2,eY:endPosi.top+endPosi.height/2},t=Math.abs(e.sX-e.eX),n=Math.abs(e.sY-e.eY),r=Math.sqrt(t*t+n*n),o=(0,_BaseUtil.getAngle)(e.sX,e.sY,e.eX,e.eY,!0),a={left:e.sX,top:e.sY,transform:"rotate("+o+"deg)",width:r+"px"};return _react2["default"].createElement("div",{id:"linkLine",className:"link-line",style:a})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),LinkLineComp}(_react.Component),_default=LinkLineComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(startPosi,"startPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js"),reactHotLoader.register(endPosi,"endPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js"),reactHotLoader.register(oldStartPosi,"oldStartPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js"),reactHotLoader.register(oldEndPosi,"oldEndPosi","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js"),reactHotLoader.register(LinkLineComp,"LinkLineComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/LinkLine.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(170),a=r(n(357)),i=n(98);function s(e){var t=e.linkLineData,n=e.pageKeyArr,r=e.allPageChangeKey,s=void 0===r?{}:r,l=e.allContrChangeKey,u=void 0===l?{}:l;t.forEach(function(e){if(function(e){var t=e.line,n=e.pageKeyArr,r=t.endKey,o=t.pageKey;return-1!=n.indexOf(+i.getPageIdByKey(o))&&-1!=n.indexOf(+i.getPageIdByKey(r))}({line:e,pageKeyArr:n})){var t=$.extend(!0,{},e),r=t.endKey,l=t.pageKey,c=t.startKey,d=i.getPageIdByKey(r),f=i.getPageIdByKey(l);if(s[d]&&(t.endKey=i.getPageMainBoxId(s[d])),s[f]&&(t.pageKey=i.getPageMainBoxId(s[f])),-1!=c.indexOf("_"))u[c]&&(t.startKey=u[c]);else{var p=i.getPageIdByKey(c);s[p]&&(t.startKey=i.getPageMainBoxId(s[p]))}t.fixedArr&&(t.fixedArr=[]),t.id=o.generateUUID(),delete t.pageFlowId,a["default"].createLine(t,!0)}})}t.addLinkLineByPaste=s,t["default"]={addLinkLineByPaste:s}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=i},function(e,t,n){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(a){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(r),t.blob=0===o.getBlob("application/zip").size}catch(a){t.blob=!1}}}try{t.nodestream=!!n(914).Readable}catch(a){t.nodestream=!1}}).call(this,n(62).Buffer)},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)o(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var a=0;a<r;a++)e[o+a]=t[n+a]},flattenChunks:function(e){var t,n,r,o,a,i;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(i=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)a=e[t],i.set(a,o),o+=a.length;return i}},i={arraySet:function(e,t,n,r,o){for(var a=0;a<r;a++)e[o+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(96);function o(e){var t=e.data,n=e.compNameArr,r={};return n.forEach(function(e){r["has"+e]=a({data:t,compName:e})}),r}function a(e){var t=e.data,n=e.compName,o=t.border,a=t.shadow,i=t.content,s=t.insetBorder,l=t.hasBackColor,u=t.backColor,c=!1;switch(n){case"OuterBorderComp":var d=o&&o[1]||0;c=!(d<=0||!Math.round(d));break;case"OuterShadowComp":c=!(0==(a.length?a[2]:a)||a.length&&a[5]);break;case"InnerShadowComp":c=!(0==(a.length?a[2]:a)||!a.length||!a[5]);break;case"TextContentCanvasComp":c=""!=i;break;case"InnerBorderComp":c=0!=Math.round(s&&s[1]||0);break;case"BackgroundColorComp":c=l&&0!=r.getRGBAobj(u).a}return c}t.hasStyleInCanvasArr=o,t.hasStyleInCanvas=a,t["default"]={hasStyleInCanvasArr:o,hasStyleInCanvas:a}},,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(40)),a=n(26),i=n(77),s=n(208),l=r(n(717)),u=l["default"].SCROLL_TOP_CRITICAL,c=l["default"].SCROLL_BOTTOM_CRITICAL,d=l["default"].COMP_LINE_BOTTOM_CRITICAL;function f(e,t,n,r){if("table"==(a.findSelectElement()[0]||{}).type){var l=$.isChangeStaticVal(t,"S_tableCellTextStatic")&&o["default"].isEdting(),u=$.isChangeStaticVal(t,"S_tableCellStatic")&&i.getTableSelectCell();if(l){var c={};c.text=t,s.updateCellData(c,undefined,r)}else u&&s.updateCellData(t,undefined,r)}}function p(e,t,n){void 0===n&&(n=0);var r=0,o=t?d:c,a=document.body.clientHeight-e.clientY;return(a<=o||e.clientY<=u+n)&&(r=a<=o?1:-1),r}t.changePrdContrVal=f,t.getDragScrollRatio=p,t["default"]={changePrdContrVal:f,getDragScrollRatio:p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(578),o=n(275),a=n(102),i=n(328),s=n(267),l=n(468),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),c=!n&&o(e),d=!n&&!c&&i(e),f=!n&&!c&&!d&&l(e),p=n||c||d||f,h=p?r(e.length,String):[],g=h.length;for(var y in e)!t&&!u.call(e,y)||p&&("length"==y||d&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,g))||h.push(y);return h}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(281),o=n(102);e.exports=function(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(40)),a=r(n(6)),i=r(n(5)),s=r(n(34)),l=r(n(29)),u=r(n(417)),c=n(77),d=window.$;function f(e,t,n){var r=o["default"].getTableData();if(r&&r.selectContr&&r.selectCell){var s=r.selectContr,u=r.selectCell,c=i["default"].isPrdView()?l["default"].getPrdElementById(s.id):a["default"].getContrByAll(d.getContrId(s)),f=c.columnPosi,p=c.linePosi,h=u[0],g=h.columnIndex,y=h.lineIndex,m=u[1],_=m.columnIndex,v=m.lineIndex;"up"===e?v=t?n?0:v-1:y=n?0:y-1:"down"===e?v=t?n?p.length-1:v+1:y=n?p.length-1:y+1:"left"===e?_=t?n?0:_-1:g=n?0:g-1:"right"===e&&(_=t?n?f.length-1:_+1:g=n?f.length-1:g+1),y=d.setRegion(y,0,p.length-1),g=d.setRegion(g,0,f.length-1),v=d.setRegion(v,0,p.length-1),(_=d.setRegion(_,0,f.length-1))==u[1].columnIndex&&v==u[1].lineIndex&&g==u[0].columnIndex&&y==u[0].lineIndex||o["default"].setTableSelectCell([{columnIndex:g,lineIndex:y},{columnIndex:_,lineIndex:v}])}}function p(e){var t=o["default"].getTableData().selectContr;if(t){var n=i["default"].isPrdView();t=n?l["default"].getPrdElementById(t.id):a["default"].getContrByAll(d.getContrId(t));for(var r=e.x,f=e.y,p=t.linePosi,h=t.columnPosi,g={columnIndex:0,lineIndex:0},y=!1,m=0,_=0;m<h.length;m++){for(var v=0,b=0;v<p.length&&(r>=_&&r<_+h[m]&&f>=b&&f<b+p[v]&&(y=!0,g.columnIndex=m,g.lineIndex=v),b+=p[v],!y);v++);if(_+=h[m],y)break}var w=c.getOneCellData(g,t);if(w.mergeKey){var C=w.mergeKey.split("_");g.columnIndex=parseInt(C[0]),g.lineIndex=parseInt(C[1])}if(y)if(o["default"].setTableSelectCell([g,d.extend(!0,{},g)]),n)s["default"].emitChange();else{var x=d.getContrId(t);u["default"]([x]),a["default"].emitMustChange()}}}function h(){var e=o["default"].getTableData(),t=e.selectContr,n=e.selectCell;if(t&&n){var r=i["default"].isPrdView(),u=(t=r?l["default"].getPrdElementById(t.id):a["default"].getContrByAll(d.getContrId(t))).columnPosi,c=t.linePosi;e.selectCell=[{columnIndex:0,lineIndex:0},{columnIndex:u.length-1,lineIndex:c.length-1}],e.isEditing&&(e.isEditing=!1,r?s["default"].emitChange():a["default"].emitMustChange()),o["default"].emitChange()}}t.MouseKeyChangeSelect=f,t.selectTableCellByPosi=p,t.selectAllCell=h,t["default"]={MouseKeyChangeSelect:f,selectTableCellByPosi:p,selectAllCell:h}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["projectSet","symbolContrs","linkLines","pageFlows","prdData"];function o(e){return-1!=r.indexOf(e)}t.isInOtherSet=o,t["default"]={isInOtherSet:o}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27)),a=n(46);function i(e,t){void 0===t&&(t=!1);var n,r=$.extend(!0,{},{commentPercent:.5,text:"输入条件",hasComment:!1,isHide:!1,lineType:0,commentWidth:64,commentHeight:24,fixedArr:[],pageFlowId:(n=a.getPageFlow())?n.id:null,noStartSupply:!1,noEndSupply:!1}),i=$.extend(!1,r,e);o["default"].setLink(i,t)}t.createLine=i,t["default"]={createLine:i}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(470),i=n(490),s=n(46),l=n(46),u=n(342),c=n(87),d=n(411),f=n(154),p=n(213),h=n(262),g=o(n(5));function y(e,t,n){d.copyPageAndLine(e,t,n,function(e){var t=e.allPageChangeKey,n=[],r=99999999;for(var o in t){var a=t[o];n.push(a),r=Math.min(r,a),f.addPageInPageFlow(a)}var i=l.getPageFlowPageVal();h.setCenter({activePage:i[r]}),window.renderPagesKeyArr=n,p.cacheCanvasPages(function(){g["default"].isMultiView()&&c.pageEmitChange(),setTimeout(function(){window.renderPagesKeyArr&&delete window.renderPagesKeyArr},0)},n)})}function m(e,t,n){var r,o,s={};if(n){var d=l.getPageFlowPageVal(),f=(r=e,o=l.getPageFlowPageVal(),r.every(function(e){var t=e.key;return!!o[t]})),p=[];if(e.length>0&&!f){e.forEach(function(e){var t=e.key;d[t]||(p.push(+t),s[t]=i.getOnePageVal(e))});var h=e[0]&&e[0].allSet&&e[0].allSet.linkLineData;h&&h.length>0&&(u.addLinkLineByPaste({linkLineData:h,pageKeyArr:p}),c.pageEmitChange()),a.pageFlowAddPage({pageVal:s})}else y(e,t,n)}else y(e,t,n)}function _(e){var t=e.key,n=e.vals,o=e.pageFlow;(void 0===o?s.getPageFlow():o).pageVal[t]=r({},n,{key:t})}t.copyPageToPageFlow=m,t.createPageToPageFlow=_,t["default"]={copyPageToPageFlow:m,createPageToPageFlow:_}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(49)),i=n(46);function s(e){var t=e.key,n=e.pos;i.getPageFlow()?a["default"].updateOnePageFlowData({updateVal:n,key:t,noEmit:!0}):o["default"].updateProp(t,n)}t.pagePosChange=s,t["default"]={pagePosChange:s}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(319));function a(e){var t=o["default"].getPrdDropdown(),n=t.isOpen;e!=t.type?o["default"].setPrdDropdown({isOpen:!0,type:e}):o["default"].setPrdDropdown({isOpen:!n,type:n?"":e})}t.changePrdDropdownOpen=a,t.hidePrdDropdownOpen=function(){o["default"].setPrdDropdown({isOpen:!1,type:""})},t["default"]={changePrdDropdownOpen:a}},function(e,t,n){var r,o=o||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,a=/constructor/i.test(e.HTMLElement)||e.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l=function(e){setTimeout(function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()},4e4)},u=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=function(t,c,d){d||(t=u(t));var f,p=this,h="application/octet-stream"===t.type,g=function(){!function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var o=e["on"+t[r]];if("function"==typeof o)try{o.call(e,n||e)}catch(a){s(a)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,o)return f=n().createObjectURL(t),void setTimeout(function(){var e,t;r.href=f,r.download=c,e=r,t=new MouseEvent("click"),e.dispatchEvent(t),g(),l(f),p.readyState=p.DONE});!function(){if((i||h&&a)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=i?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=undefined,p.readyState=p.DONE,g()},r.readAsDataURL(t),void(p.readyState=p.INIT)}f||(f=n().createObjectURL(t)),h?e.location.href=f:e.open(f,"_blank")||(e.location.href=f);p.readyState=p.DONE,g(),l(f)}()},d=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=u(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,n){return new c(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=o:null!==n(627)&&null!==n(379)&&((r=function(){return o}.call(t,n,t,e))===undefined||(e.exports=r))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({CONTR_CREATETEXT:null,CONTR_CREATEHOTSPOT:null,CONTR_CREATEICON:null,CONTR_CREATEIMAGE:null,CONTR_CREATEWRAP:null,CONTR_MOVE:null,CONTR_SELECTCHANGE:null,CONTR_UPDATE:null,CONTR_ALLUPDATE:null,CONTR_SELECTALL:null,CONTR_UPDATEBYALL:null,CONTR_SAVEMERGE:null,CONTR_BACKMERGE:null,CONTR_EDITSTATE:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/ContrConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({VIEW_ZOOMOUT:null,VIEW_UPDATEPROP:null,VIEW_SWITCHTOPREVMODE:null,VIEW_PROJECTWEBINIT:null,VIEW_CHANGEZOOM:null,VIEW_BACKCOLOR:null,VIEW_SETVIEWPROP:null,VIEW_UPDATEACTIVEPROP:null,VIEW_SELECTCHANGE:null,VIEW_SELECTALL:null,VIEW_COPYPAGE:null,VIEW_DELETEPAGES:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/ViewConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({DRAGCONTR_INIT:null,DRAGCONTR_SHOW:null,DRAGCONTR_MOVE:null,DRAGCONTR_ADD:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/DragContrConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ZOOM_CHANGE="ZOOM_CHANGE"}(t.ZoomActionID||(t.ZoomActionID={}))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({PHONECONBOX_OPTIMIZATIONOFF:null,PHONECONBOX_OPTIMIZATIONON:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/PhoneConBoxConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){var r=n(368);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(143),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},function(e,t,n){var r=n(645),o=n(629),a=n(625);e.exports=function(e){return a(o(e,undefined,r),e+"")}},function(e,t,n){var r=n(350),o=n(653),a=n(293);e.exports=function(e){return a(e)?r(e,!0):o(e)}},function(e,t,n){var r=n(281),o=n(295),a=n(284),i=n(352),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:i;e.exports=s},function(e,t,n){var r=n(353),o=n(371),a=n(370);e.exports=function(e){return r(e,a,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.name=e,this.filters=[]}return e.prototype.process=function(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var t=this.debug,n=this.filters.length,r=e,o=0;o<n;o++){var a=this.filters[o];if(t&&this.log("filter: "+a.filterName),a(r),"object"==typeof r&&r.exiting){r.exiting=!1;break}}!r.next&&this.resultCheck&&this.resultCheck(r)},e.prototype.log=function(e){console.log("[jsondiffpatch] "+this.name+" pipe, "+e)},e.prototype.append=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.filters).push.apply(e,t),this},e.prototype.prepend=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.filters).unshift.apply(e,t),this},e.prototype.indexOf=function(e){if(!e)throw new Error("a filter name is required");for(var t=0;t<this.filters.length;t++){if(this.filters[t].filterName===e)return t}throw new Error("filter not found: "+e)},e.prototype.list=function(){return this.filters.map(function(e){return e.filterName})},e.prototype.after=function(e){var t=this.indexOf(e),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(t+1,0),Array.prototype.splice.apply(this.filters,n),this},e.prototype.before=function(e){var t=this.indexOf(e),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(t,0),Array.prototype.splice.apply(this.filters,n),this},e.prototype.replace=function(e){var t=this.indexOf(e),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(t,1),Array.prototype.splice.apply(this.filters,n),this},e.prototype.remove=function(e){var t=this.indexOf(e);return this.filters.splice(t,1),this},e.prototype.clear=function(){return this.filters.length=0,this},e.prototype.shouldHaveResult=function(e){if(!1!==e){if(!this.resultCheck){var t=this;return this.resultCheck=function(e){if(!e.hasResult){console.log(e);var n=new Error(t.name+" failed");throw n.noResult=!0,n}},this}}else this.resultCheck=null},e}();t["default"]=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array};t["default"]=function o(e){if("object"!=typeof e)return e;if(null===e)return null;if(r(e))return e.map(o);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return t=/^\/(.*)\/([gimyu]*)$/.exec(e.toString()),new RegExp(t[1],t[2]);var t,n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=o(e[a]));return n}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({ANIM_CHOOSEANIM:null,ANIM_UNSELECTANIM:null,ANIM_UNSELECTFRAME:null,ANIM_DELETEANIM:null,ANIM_INITFRAMES:null,ANIM_EDITFRAMEKEY:null,ANIM_INTOKEYFRAME:null,ANIM_EXITKEYFRAME:null,ANIM_CREATEFRAME:null,ANIM_CHOOSEFRAME:null,ANIM_DELETEFRAME:null,ANIM_EMPTYFRAME:null,ANIM_EDITTRPROPS:null,ANIM_EDITCONTRPROPS:null,ANIM_EDITALLEASING:null,ANIM_EDITSTATEDELAY:null,ANIM_TOGGLEDISABLED:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/AnimConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5));function a(){var e=o["default"].getView(),t=$.extend(!0,{},e.versionSet);return delete t.activeKey,{isGrid:e.isGrid,isRule:e.isRule,isGuide:e.isGuide,isHideHotspot:e.isHideHotspot,isHideOtherPage:e.isHideOtherPage,isHideNote:e.isHideNote,isShowName:e.isShowName,isShowPageNo:e.isShowPageNo,isShowPageGuide:e.isShowPageGuide,isShowLongPage:e.isShowLongPage,isHideEventTag:e.isHideEventTag,isHideAnimTag:e.isHideAnimTag,structHierarchy:$.extend(!0,[],e.structHierarchy),multiViewType:e.multiViewType,versionSet:t}}t.copyProjectSet=a,t["default"]={copyProjectSet:a}},function(e,t,n){"use strict";function r(e,t,n){return t.forEach(function(t){t&&("folder"==t.type?r(e,t.folderHierarchy,n):e.push(""+t.key))}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.getAllPageFromStruct=r,t["default"]={getAllPageFromStruct:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.MOVETIP_UPDATE="MOVETIP_UPDATE",e.MOVETIP_SHOW="MOVETIP_SHOW"}(t.MoveTipActionID||(t.MoveTipActionID={}))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){n(381);var r=n(121).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(215);r(r.S+r.F*!n(427),"Object",{defineProperty:n(435).f})},function(e,t,n){e.exports={"default":n(383),__esModule:!0}},function(e,t,n){n(384),e.exports=n(121).Object.setPrototypeOf},function(e,t,n){var r=n(215);r(r.S,"Object",{setPrototypeOf:n(385).set})},function(e,t,n){var r=n(436),o=n(347),a=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(448)(Function.call,n(355).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):undefined),check:a}},function(e,t,n){n(387);var r=n(121).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(215);r(r.S,"Object",{create:n(835)})},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_SaveDataStore=__webpack_require__(10),_SaveDataStore2=_interopRequireDefault(_SaveDataStore),_ContrActions=__webpack_require__(89),_ContrActions2=_interopRequireDefault(_ContrActions),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_AutoSaveStore=__webpack_require__(173),_AutoSaveStore2=_interopRequireDefault(_AutoSaveStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var textStyle=void 0,TextAreaComp=function(_Component){function TextAreaComp(e){(0,_classCallCheck3["default"])(this,TextAreaComp);var t=(0,_possibleConstructorReturn3["default"])(this,(TextAreaComp.__proto__||(0,_getPrototypeOf2["default"])(TextAreaComp)).call(this,e));return t.inputText=null,t.initTextStyle=t.initTextStyle.bind(t),t._change=t._change.bind(t),t._focus=t._focus.bind(t),t._blur=t._blur.bind(t),t._contrAutoRender=t._contrAutoRender.bind(t),t}return(0,_inherits3["default"])(TextAreaComp,_Component),(0,_createClass3["default"])(TextAreaComp,[{key:"componentDidMount",value:function(){this._contrAutoRender()}},{key:"initTextStyle",value:function(){var e=this.props.contr,t=e.insetBorder,n=e.fontSize<12?parseFloat(e.fontSize/12).toFixed(2):1;textStyle={letterSpacing:e.adjaceney,fontSize:Math.round(Math.max(e.fontSize,12)),lineHeight:10*Math.ceil(e.lineHeight+5)+"%",textIndent:e.indent+"px",WebkitFilter:$.getFilter(e.filter),color:null===e.textColor?"none":e.textColor,textShadow:"0"==e.textShadow?"none":"rgba(0,0,0,0.5) 0px "+e.textShadow+"px "+e.textShadow+"px",width:e.fontSize<12?e.width/n+"px":"100%"},e.fontSize<12&&("vB"!=e.vertical&&(textStyle.transformOrigin="0 0"),textStyle.transform="scale("+n+")","vM"==e.vertical&&(textStyle.transform+=" translateY(-50%)")),t&&t[1]>0&&("vT"==e.vertical||"vB"==e.vertical&&(textStyle.bottom=t[1]),textStyle.width=(e.width-2*t[1])/n),e.fontSize<12&&e.autoW&&delete textStyle.width}},{key:"_change",value:function(e){_ContrActions2["default"].contrUpdate(this.props.contrId,{content:e.currentTarget.value}),setTimeout($.textContentChangeLine,0),window.textEditingContent=e.currentTarget.value}},{key:"_focus",value:function(e){_ContrActions2["default"].contrUpdate(this.props.contrId,{lastContent:this.props.contr.content},!0,!0),this.props.contr.lastContent=this.props.contr.content,e.stopPropagation()}},{key:"_blur",value:function(e){var t=this.props.contr.lastContent||"",n=_ViewStore2["default"].isPrdView();if($.trim(String(t))!=$.trim(String(e.currentTarget.value))){var r=_ContrStore2["default"].getSelectContr(),o=this.props.contr.autoW&&""==$.trim(String(e.currentTarget.value));_ContrActions2["default"].contrUpdate(this.props.contrId,{lastContent:null},!0,!0),o&&(_ContrActions2["default"].contrUpdate(this.props.contrId,{content:"文本"}),_ContrStore2["default"].emitMustChange()),n?_SaveDataStore2["default"].createData({type:"textareaChange",name:"文字内容改变",autoSaveType:"prd"}):_SaveDataStore2["default"].createData({type:"textareaChange",name:"["+(r.length>1?"多个组件":r[0].name)+"] 文字内容改变",handleObjType:r[0].type,autoSaveType:"pageContrs"})}e.stopPropagation(),window.textEditingContent=""}},{key:"_contrAutoRender",value:function(){if(this.inputText&&(this.props.contr.autoW||this.props.contr.autoH)&&0==$(this.inputText).parents(".isC.isStartState").length&&0==$(this.inputText).parents(".isC.isHover").length){var e=this.props.contr,t=e.width,n=e.height,r=e.autoW,o=e.autoH,a=e.insetBorder,i=e.horizontal,s=e.left,l=this.props.parentComp.state.symbolContrKey,u=_AutoSaveStore2["default"].getSymbolSizeData(l),c=u?u.data:{},d=c.width,f=c.height,p=c.left,h=$.isUndefined(d)?t:d,g=$.isUndefined(f)?n:f,y=$.isUndefined(p)?s:p,m=Math.round(a&&a[1]>0?a[1]:0),_=1*this.inputText.clientWidth+m,v=1*this.inputText.clientHeight+m,b=!1,w={};if(0!=_||0!=v){if(r&&Math.round(_)!=Math.round(h)){var C=Math.round(_)-Math.round(h);b=!0,"hC"==i?(w.width=Math.round(_),w.left=Math.round(y-C/2)):"hR"==i?(w.width=Math.round(_),w.left=Math.round(y-C)):w.width=Math.round(_)}if(o&&Math.round(v)!=Math.round(g)&&(b=!0,w.height=Math.round(v)),b){var x=$(this.inputText);if(x.parents(".symbolDiv").length>0){var S="";x.parents(".isC").get().reverse().forEach(function(e){S+=(""==S?"":" ")+e.id}),S+="|"+this.props.contr.content,_AutoSaveStore2["default"].saveSymbolSizeData(S,{contrKey:this.props.contrId,data:$.extend(!0,{},w)}),this.props.parentComp.setState({symbolContrKey:S})}else _ContrStore2["default"].contrUpdate(this.props.contrId,w,!1,!0),_ContrStore2["default"].emitMustChange()}}}}},{key:"componentDidUpdate",value:function(){this._contrAutoRender()}},{key:"render",value:function(){var e=this,t=e.props.contr,n=$.isString(t.content)?t.content.replace("\b",""):"",r=void 0;return e.initTextStyle(),e.props.isActivePage||t.autoW||t.autoH||e.props.isInSymbol?t.isEdit||n?(r=t.isEdit?_react2["default"].createElement("textarea",{ref:"textarea",spellCheck:"false",className:"isEdit",value:n,onChange:e._change,onFocus:e._focus,onBlur:e._blur}):_react2["default"].createElement("div",{ref:"textarea",spellCheck:"false",className:"noSelect",onClick:$.stopPropagation},n),t.autoW&&(textStyle.width="auto"),t.autoH&&(textStyle.height="auto"),_react2["default"].createElement("div",{className:"inputText",style:$.extend(!0,$.extend(!0,{},textStyle),{position:e.props.isActivePage?"absolute":"relative"}),ref:function(t){e.inputText=t}},_react2["default"].createElement("pre",null,_react2["default"].createElement("span",null,n),_react2["default"].createElement("br",null)),r)):null:n?_react2["default"].createElement("p",{className:"inputText"+e.props.alignClass,style:textStyle},n):null}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),TextAreaComp}(_react.Component),_default=TextAreaComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(textStyle,"textStyle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextArea.react.js"),reactHotLoader.register(TextAreaComp,"TextAreaComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextArea.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextArea.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(76)),a=r(n(6)),i=n(285),s=n(302),l=window.$;function u(e,t){var n,r="baseImage"==e.type?{width:150,height:150,ePosi:e.posi,oriWidth:150,oriHeight:150,oriName:e.name,src:window.baseContrImg.imageImg}:e;t&&l.extend(!0,r,t);var u,c=a["default"].getMULTIPLE(),d=r.src==window.baseContrImg.imageImg,f=a["default"].getNums();if(u=i.getTwoDecimal(l.getMultiple(c,[r.oriWidth,r.oriHeight])),!r.posi&&r.ePosi){if(!(n=o["default"].add({posi:r.ePosi})))return!1}else if(r.posi||r.ePosi)n=l.getContrInBoxPosi(r.posi,[1*r.oriWidth*u,1*r.oriHeight*u]);else{var p=l.getParentBoxPosi().posi,h=p.left,g=p.top,y=p.width,m=p.height,_=l.getMinPosi({mainboxPosi:[h,g,y,m],midPosi:l.getMidPosi()},!0);n=l.getContrInBoxPosi([_[2]/2+_[0],_[3]/2+_[1]],[1*r.oriWidth*u,1*r.oriHeight*u])}a["default"].changeNums({imageContr:f.imageContr+1});var v=f.imageContr,b={id:l.getNumKey(v),name:"图片 "+v,type:"image",oriWidth:r.oriWidth,oriHeight:r.oriHeight,oriName:r.oriName,multiple:u,src:r.src,width:Math.round(1*r.oriWidth*u),height:Math.round(1*r.oriHeight*u),left:Math.round(n.left),top:Math.round(n.top),filter:{},isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,WHrelation:!d,cutVals:null,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!0};return"baseImage"!=r.type&&s.changeImgByFd(r.fd,b),b}t.createImageContr=u,t["default"]={createImageContr:u}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({IMAGELIB_INIT:null,IMAGELIB_PUBLICINIT:null,IMAGELIB_ADD:null,IMAGELIB_DELETE:null,IMAGELIB_EDIT:null,IMAGELIB_CHANGEEDIT:null,IMAGELIB_ADDIMAGE:null,IMAGELIB_DELIMAGE:null,IMAGELIB_ADDHISTORYIMAGE:null,IMAGELIB_DELHISTORYIMAGE:null,IMAGELIB_SCROLLTOP:null,IMAGELIB_CONCAT:null,IMAGELIB_UPDATEIMAGE:null,IMAGELIB_OPENCHANGE:null,IMAGELIB_LIBSMANAGE:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/ImageLibConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({COLORPICKER_CHANGE:null,COLORPICKER_CHANGEONE:null,COLORPICKER_INIT:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/ColorPickerConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({PAGELIB_INIT:null,PAGELIB_ADD:null,PAGELIB_DELETE:null,PAGELIB_EDIT:null,PAGELIB_CHANGEEDIT:null,PAGELIB_ADDPAGE:null,PAGELIB_DELPAGE:null,PAGELIB_SCROLLTOP:null,PAGELIB_CONCAT:null,PAGELIB_UPDATEPAGE:null,PAGELIB_INITPUBLIC:null,PAGELIB_OPENCHANGE:null,PAGELIB_LIBSMANAGE:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/PageLibConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27)),a=n(713),i=r(n(97)),s=r(n(270)),l=s["default"].SUPPLY_HORIZONTAL,u=s["default"].SUPPLY_VERTICAL;function c(e){var t,n,r=e.posi,o=e.contrX,a=e.contrY,i=e.contrWidth,s=e.contrHeight,c=e.pageX,d=e.pageY,f=e.pageWidth,p=e.pageHeight;switch(r){case"top":n=[(t=[o+i/2,a])[0],d-u];break;case"right":n=[c+f+l,(t=[o+i,a+s/2])[1]];break;case"down":n=[(t=[o+i/2,a+s])[0],d+p+u];break;case"left":n=[c-u,(t=[o,a+s/2])[1]]}return{point:t,supplyPoint:n}}function d(e){var t=e.fixedArr,n=e.startPoint,r=e.startSupply,o=e.startAroundPoint,s=e.endAroundPoint,l=e.endSupply,u=e.endPoint,c=e.supplyPoint,d=e.noStartSupply,f=e.noEndSupply,p=[];if(t.length){var h=void 0;h=(h=d?[n,[n[0],t[0][1]]]:[n,r,o,[(o||r||n)[0],t[0][1]]]).filter(function(e){return!!e}),a.clearRectLine(h),p=p.concat(h),t.forEach(function(e,n){var r=t[n+1];r&&e[0]!=r[0]&&e[1]!=r[1]?p.push(e,[e[0],r[1]]):p.push(e)});var g=void 0;g=(g=f?[[t[t.length-1][0],u[1]],u]:[[t[t.length-1][0],(s||l||u)[1]],s,l,u]).filter(function(e){return!!e}),a.clearRectLine(g),p=p.concat(g)}else o&&c&&o[0]!=c[0]&&o[1]!=c[1]&&((r||n)[0]==o[0]?o[1]=c[1]:o[0]=c[0]),p.push(n,r,o,c,s,l,u),p=p.filter(function(e){return!!e});return i["default"].combinePointArr(p),t.length||(a.clearRectLine(p),a.clearWaveLine(p),a.clearArroundLine(p),a.clearBackLine(p)),{pointArr:p}}function f(e){var t,n,r,o,a=e.startPosi,i=e.startX,s=e.startY,f=e.startWidth,p=e.startHeight,h=e.endWidth,g=e.endHeight,y=e.endPosi,m=e.endX,_=e.endY,v=e.fixedArr,b=e.pageWidth,w=e.pageHeight,C=e.pageX,x=e.pageY,S=e.noStartSupply,P=e.noEndSupply,k=e.allowUndefined,O=c({posi:a,contrX:i,contrY:s,contrWidth:f,contrHeight:p,pageX:C,pageY:x,pageWidth:b,pageHeight:w}),E=O.point,T=O.supplyPoint,M=c({posi:y,contrX:m,contrWidth:h,contrY:_,contrHeight:g,pageX:m,pageY:_,pageWidth:h,pageHeight:g}),D=M.point,A=M.supplyPoint,j=function(e){var t,n,r=e.startPosi,o=e.endPosi,a=e.startSupply,i=e.endSupply,s=e.startPoint,c=e.endPoint,d=e.pageX,f=e.pageY,p=e.pageWidth,h=e.pageHeight,g=e.endHeight,y=e.endY,m=e.endX,_=e.endWidth,v=!0;switch(r){case"top":f<i[1]&&(t=[d+p/2+(b=s[0]>c[0]?-1:1)*(p/2+l),a[1]]);break;case"down":f+h>i[1]&&(t=[d+p/2+(b=s[0]>c[0]?-1:1)*(p/2+l),a[1]]);break;case"right":if(c[0]<d+p){var b=s[1]>i[1]?-1:1;t=[a[0],b*(h/2+u)+f+h/2],v=!1}break;case"left":c[0]>d&&(b=s[1]>c[1]?-1:1,t=[a[0],b*(h/2+u)+f+h/2],v=!1)}switch(o){case"right":if(s[0]<c[0]){var w=s[1]>c[1]?1:-1;if(n=[i[0],i[1]+w*(g/2+u)],"top"==r&&n[1]>a[1])t=[d+p+l,a[1]];else if("left"==r&&t)f>y&&f<y+g+u?(t[1]=f+h+u,n[1]=t[1]):y>f&&y<f+h+u&&(t[1]=f-u,n[1]=t[1]);else if("down"==r&&a[1]>y-u){t=[d+p+l,a[1]];var C=s[1]>c[1]?1:-1;n=[i[0],i[1]+C*(g/2+u)]}}break;case"left":if(s[0]>c[0])if(w=s[1]>c[1]?1:-1,n=[i[0],i[1]+w*(g/2+u)],"top"==r&&n[1]>a[1])t=[d-l,a[1]];else if("right"==r&&t)f>y&&f<y+g+u?(t[1]=f+h+u,n[1]=t[1]):y>f&&y<f+h+u&&(t[1]=f-u,n[1]=t[1]);else if("down"==r&&a[1]>y-u){t=[d-l,a[1]];var x=a[1]>c[1]?1:-1;n=[i[0],i[1]+x*(g/2+u)]}break;case"top":t&&"right"==r&&i[1]<t[1]?n=[m+_+l,i[1]]:"left"==r&&(t=f+h+u<y?[a[0],f+h+u]:[a[0],Math.min(f-u,y-u)]);break;case"down":t&&"right"==r&&i[1]>t[1]?n=[m+_+l,i[1]]:"left"==r&&(t=f-u>y+g?[a[0],f-u]:[a[0],Math.max(f+h+u,y+g+u)])}return{isSupply:v,startAroundPoint:t,endAroundPoint:n}}({startPosi:a,endPosi:y,startSupply:T,endSupply:A,startPoint:E,endPoint:D,pageX:C,pageY:x,pageWidth:b,pageHeight:w,endHeight:g,endY:_,endX:m,endWidth:h});return t=j.isSupply,{pointArr:d({fixedArr:v,startPoint:E,startSupply:T,startAroundPoint:n=j.startAroundPoint,endAroundPoint:r=j.endAroundPoint,endSupply:A,endPoint:D,supplyPoint:o=function(e){var t=e.isSupply,n=e.startAroundPoint,r=e.startSupply,o=e.startPoint,a=e.endAroundPoint,i=e.endSupply,s=e.endPoint;return t?[(n||r||o)[0],(a||i||s)[1]]:[(a||i||s)[0],(n||r||o)[1]]}({isSupply:t,startAroundPoint:n,startSupply:T,startPoint:E,endAroundPoint:r,endSupply:A,endPoint:D}),noStartSupply:S,noEndSupply:P}).pointArr,startAroundPoint:k?n:n||o,endAroundPoint:k?r:r||o,supplyPoint:o}}function p(e,t){var n;n=t&&-1==e.indexOf("mainBox")?"mainBox"+e:e,o["default"].getAllLine().forEach(function(e){var t=e.pageKey,r=e.endKey,a=e.id;t!=n&&r!=n||o["default"].deleteLine(a,!0)}),o["default"].emitChange()}t.getPointArrPath=d,t.getPath=f,t.deleteLineFromPage=p,t.deleteLineFromContr=function(e){},t["default"]={getPath:f,deleteLineFromPage:p}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({EVENT_CREATE:null,EVENT_EDIT:null,EVENT_CHANGETYPE:null,EVENT_DELETE:null,EVENT_USEORIGIN:null,EVENT_DELETEACTION:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/EventConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(289)),a=n(76)["default"],i=window.$;function s(e,t,n){var r;if(n&&i.extend(!0,t,n),e){var o=a.add({posi:t.posi});o&&i.extend(!0,t,o),i.changeNums(((r={})[t.type+"Contr"]=e[t.type+"Contr"]+1,r)),t.nameKey=e[t.type+"Contr"],t.numKey=i.getNumKey(t.nameKey)}}function l(e){var t=e.width,n=e.height,r=e.left,a=e.top,i=e.type,s=e.nameKey,l=void 0===s?"":s,u=e.numKey;return{name:o["default"](i)+" "+l,type:i,id:u,isLock:!1,isShow:!0,opacity:100,rotate:0,isOpt:!0,width:t,height:n,left:r,top:a}}t.createInit=s,t.getBaseVal=l,t["default"]={createInit:s,getBaseVal:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(24)),i=window.$;function s(){var e,t,n=a["default"].getMergeBoxShow(),r=n?a["default"].getThisContr():null,s=n?i.isInState(r,!0):null;r&&i.isEditState(r)?(e=r,t=o["default"].getContrState(e).endState):r&&s&&(e=s,t=o["default"].getContrState(e).endState),e&&o["default"].getSelect().forEach(function(n){var a=o["default"].getContrByAll(i.getContrId(e)).states[t].contrs,s=r.contrs[n];s.isDelete=!0,a[n]?a[n].isDelete=!1:a[n]={isDelete:!1},s.state&&(a[n].state=i.extend({},s.state))})}t.createInStateWrap=s,t["default"]={createInStateWrap:s}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({RIGHTMENU_UPDATE:null,RIGHTMENU_SHOW:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/RightMenuConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s,l=i(n(1)),u=i(n(11)),c=n(329),d=i(n(257)),f=n(156)["default"],p=n(6)["default"],h=n(5)["default"],g=window.$,y=function(e){function t(t){var r=e.call(this,t)||this;return s=n(60)["default"],r}return o(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.i,o=n.isInSymbol,i=n.isStartState,y=n.specialType,m=n.isWrap,_=n.contrId,v=n.children,b=n.containerStyle,w=n.containerClassName,C=n.noCover,x=n.hasBorder,S=p.getSelect().length,P=r&&r.interfaceId==h.getActivePage()||o,k=s.getStyles({contr:r,type:"box"});b=b||s.getStyles({contr:r,type:"advancedBox"});var O={isC:!0,selectC:!0,isStartState:i,mDiv:!1,isHover:this.props.isHover},E={};if(P&&"isInLib"!=y){var T=s.getEventTag(r),M=s.getAnimTag(r),D=s.getNoteTag(r),A=m?s.getmDivCoverEvent(i):s.getCoverEvent(i);e=l["default"].createElement(f,a({},{isOpt:r.isOpt,width:r.width,height:r.height,rotate:0})),C||(t=r.isEdit?g.noEditMove(r.type)?undefined:l["default"].createElement("div",a({},A,{className:"cover"})):l["default"].createElement("div",a({},A,{className:"cover"}),D,T,M)),m&&(E={onMouseDown:g.stopPropagation})}return m?O.mDiv=!0:g.extend(O,{cDiv:!0,opt:r.isOpt,isOnlyOpt:1==S&&r.isOpt,lock:r.isLock,isEdit:r.isEdit,isAdvancedContr:!0}),l["default"].createElement("div",a({key:_,ref:_,className:u["default"](O),id:_,"data-id":_,"data-type":r.type,style:k},E,{onMouseDown:g.stopPropagation}),e,l["default"].createElement("div",{className:w,style:b},v?l["default"].cloneElement(v,{contr:c.fixDefaultData(r),contrId:_,boxStyle:k}):undefined),x?l["default"].createElement(d["default"],{contr:r}):undefined,t)},t}(l["default"].Component);t.ContainerContrComp=y,t["default"]=y},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(734)),i=o(n(400)),s={lang:r({placeholder:"请选择日期",rangePlaceholder:["开始日期","结束日期"]},a["default"]),timePickerLocale:r({},i["default"])};s.lang.ok="确 定",t["default"]=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t["default"]={placeholder:"请选择时间"}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(466)),f=n(6)["default"],p=n(10)["default"],h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._change=function(e){var t=this.props,n=t.contrId,r=t.contr;return function(t){"afterChange"==e?p.createData({type:"sliderDragChange",name:"["+r.name+"] 拖拽滑动组件修改值",handleObjType:r.type,autoSaveType:"pageContrs"}):f.contrUpdate(n,{value:t})}},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._change}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_change",null),t}(u["default"].Component);t.SliderMContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(467)),f=n(6)["default"],p=n(10)["default"],h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._change=function(e){var t=this.props,n=t.contrId,r=t.contr;r.checked!=e&&(f.contrUpdate(n,{checked:e}),p.createData({type:"switchValueChange",name:"["+r.name+"] 开关组件修改值",handleObjType:r.type,autoSaveType:"pageContrs"}))},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._change}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_change",null),t}(u["default"].Component);t.SwitchMContrComp=h,t["default"]=h},function(e,t){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(21),s=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],l=function(){function e(e){this.canvas=e,this._context=e._canvas.getContext("2d"),i.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return e.prototype.fillShape=function(e){e.getFillEnabled()&&this._fill(e)},e.prototype._fill=function(e){},e.prototype.strokeShape=function(e){e.getStrokeEnabled()&&this._stroke(e)},e.prototype._stroke=function(e){},e.prototype.fillStrokeShape=function(e){e.getFillEnabled()&&this._fill(e),e.getStrokeEnabled()&&this._stroke(e)},e.prototype.getTrace=function(e){var t,n,r,o,i=this.traceArr,s=i.length,l="";for(t=0;t<s;t++)(r=(n=i[t]).method)?(o=n.args,l+=r,e?l+="()":a.Util._isArray(o[0])?l+="(["+o.join(",")+"])":l+="("+o.join(",")+")"):(l+=n.property,e||(l+="="+n.val)),l+=";";return l},e.prototype.clearTrace=function(){this.traceArr=[]},e.prototype._trace=function(e){var t=this.traceArr;t.push(e),t.length>=100&&t.shift()},e.prototype.reset=function(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)},e.prototype.getCanvas=function(){return this.canvas},e.prototype.clear=function(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)},e.prototype._applyLineCap=function(e){var t=e.getLineCap();t&&this.setAttr("lineCap",t)},e.prototype._applyOpacity=function(e){var t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)},e.prototype._applyLineJoin=function(e){var t=e.getLineJoin();t&&this.setAttr("lineJoin",t)},e.prototype.setAttr=function(e,t){this._context[e]=t},e.prototype.arc=function(e,t,n,r,o,a){this._context.arc(e,t,n,r,o,a)},e.prototype.arcTo=function(e,t,n,r,o,a){this._context.arc(e,t,n,r,o,a)},e.prototype.beginPath=function(){this._context.beginPath()},e.prototype.bezierCurveTo=function(e,t,n,r,o,a){this._context.bezierCurveTo(e,t,n,r,o,a)},e.prototype.clearRect=function(e,t,n,r){this._context.clearRect(e,t,n,r)},e.prototype.clip=function(){this._context.clip()},e.prototype.closePath=function(){this._context.closePath()},e.prototype.createImageData=function(e,t){var n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0},e.prototype.createLinearGradient=function(e,t,n,r){return this._context.createLinearGradient(e,t,n,r)},e.prototype.createPattern=function(e,t){return this._context.createPattern(e,t)},e.prototype.createRadialGradient=function(e,t,n,r,o,a){return this._context.createRadialGradient(e,t,n,r,o,a)},e.prototype.drawImage=function(e,t,n,r,o,a,i,s,l){var u=arguments,c=this._context;3===u.length?c.drawImage(e,t,n):5===u.length?c.drawImage(e,t,n,r,o):9===u.length&&c.drawImage(e,t,n,r,o,a,i,s,l)},e.prototype.isPointInPath=function(e,t){return this._context.isPointInPath(e,t)},e.prototype.fill=function(){this._context.fill()},e.prototype.fillRect=function(e,t,n,r){this._context.fillRect(e,t,n,r)},e.prototype.strokeRect=function(e,t,n,r){this._context.strokeRect(e,t,n,r)},e.prototype.fillText=function(e,t,n){this._context.fillText(e,t,n)},e.prototype.measureText=function(e){return this._context.measureText(e)},e.prototype.getImageData=function(e,t,n,r){return this._context.getImageData(e,t,n,r)},e.prototype.lineTo=function(e,t){this._context.lineTo(e,t)},e.prototype.moveTo=function(e,t){this._context.moveTo(e,t)},e.prototype.rect=function(e,t,n,r){this._context.rect(e,t,n,r)},e.prototype.putImageData=function(e,t,n){this._context.putImageData(e,t,n)},e.prototype.quadraticCurveTo=function(e,t,n,r){this._context.quadraticCurveTo(e,t,n,r)},e.prototype.restore=function(){this._context.restore()},e.prototype.rotate=function(e){this._context.rotate(e)},e.prototype.save=function(){this._context.save()},e.prototype.scale=function(e,t){this._context.scale(e,t)},e.prototype.setLineDash=function(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)},e.prototype.getLineDash=function(){return this._context.getLineDash()},e.prototype.setTransform=function(e,t,n,r,o,a){this._context.setTransform(e,t,n,r,o,a)},e.prototype.stroke=function(){this._context.stroke()},e.prototype.strokeText=function(e,t,n,r){this._context.strokeText(e,t,n,r)},e.prototype.transform=function(e,t,n,r,o,a){this._context.transform(e,t,n,r,o,a)},e.prototype.translate=function(e,t){this._context.translate(e,t)},e.prototype._enableTrace=function(){var e,t,n=this,r=s.length,o=a.Util._simplifyArray,i=this.setAttr,l=function(e){var r,a=n[e];n[e]=function(){return t=o(Array.prototype.slice.call(arguments,0)),r=a.apply(n,arguments),n._trace({method:e,args:t}),r}};for(e=0;e<r;e++)l(s[e]);n.setAttr=function(){i.apply(n,arguments);var e=arguments[0],t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}},e.prototype._applyGlobalCompositeOperation=function(e){var t=e.getGlobalCompositeOperation();"source-over"!==t&&this.setAttr("globalCompositeOperation",t)},e}();t.Context=l,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation"].forEach(function(e){Object.defineProperty(l.prototype,e,{get:function(){return this._context[e]},set:function(t){this._context[e]=t}})});var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._fillColor=function(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)},t.prototype._fillPattern=function(e){var t=e.getFillPatternX(),n=e.getFillPatternY(),r=e.getFillPatternScaleX(),o=e.getFillPatternScaleY(),a=i.Konva.getAngle(e.getFillPatternRotation()),s=e.getFillPatternOffsetX(),l=e.getFillPatternOffsetY();(t||n)&&this.translate(t||0,n||0),a&&this.rotate(a),(r||o)&&this.scale(r,o),(s||l)&&this.translate(-1*s,-1*l),this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)},t.prototype._fillLinearGradient=function(e){var t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))},t.prototype._fillRadialGradient=function(e){var t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))},t.prototype._fill=function(e){var t=e.fill(),n=e.getFillPriority();if(t&&"color"===n)this._fillColor(e);else{var r=e.getFillPatternImage();if(r&&"pattern"===n)this._fillPattern(e);else{var o=e.getFillLinearGradientColorStops();if(o&&"linear-gradient"===n)this._fillLinearGradient(e);else{var a=e.getFillRadialGradientColorStops();a&&"radial-gradient"===n?this._fillRadialGradient(e):t?this._fillColor(e):r?this._fillPattern(e):o?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}}}},t.prototype._strokeLinearGradient=function(e){var t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(var a=0;a<r.length;a+=2)o.addColorStop(r[a],r[a+1]);this.setAttr("strokeStyle",o)}},t.prototype._stroke=function(e){var t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}},t.prototype._applyShadow=function(e){var t=a.Util,n=t.get(e.getShadowRGBA(),"black"),r=t.get(e.getShadowBlur(),5),o=t.get(e.getShadowOffset(),{x:0,y:0}),i=e.getAbsoluteScale(),s=this.canvas.getPixelRatio(),l=i.x*s,u=i.y*s;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",r*Math.min(Math.abs(l),Math.abs(u))),this.setAttr("shadowOffsetX",o.x*l),this.setAttr("shadowOffsetY",o.y*u)},t}(l);t.SceneContext=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._fill=function(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()},t.prototype._stroke=function(e){if(e.hasStroke()&&e.hitStrokeWidth()){var t=e.getStrokeScaleEnabled();if(!t){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e);var r=e.hitStrokeWidth(),o="auto"===r?e.strokeWidth():r;this.setAttr("lineWidth",o),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}},t}(l);t.HitContext=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(200),s=n(43),l=n(18),u=n(226),c=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=new u.SceneCanvas,n._waitingForDraw=!1,n.on("visibleChange",n._checkVisibility),n._checkVisibility(),n}return o(t,e),t.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},t.prototype.getCanvas=function(){return this.canvas},t.prototype.getHitCanvas=function(){return this.hitCanvas},t.prototype.getContext=function(){return this.getCanvas().getContext()},t.prototype.clear=function(e){return this.getContext().clear(e),this},t.prototype.setZIndex=function(t){e.prototype.setZIndex.call(this,t);var n=this.getStage();return n&&(n.content.removeChild(this.getCanvas()._canvas),t<n.getChildren().length-1?n.content.insertBefore(this.getCanvas()._canvas,n.getChildren()[t+1].getCanvas()._canvas):n.content.appendChild(this.getCanvas()._canvas)),this},t.prototype.moveToTop=function(){s.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),e.content.appendChild(this.getCanvas()._canvas)),!0},t.prototype.moveUp=function(){if(!s.Node.prototype.moveUp.call(this))return!1;var e=this.getStage();return!!e&&(e.content.removeChild(this.getCanvas()._canvas),this.index<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas),!0)},t.prototype.moveDown=function(){if(s.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.getChildren();e.content.removeChild(this.getCanvas()._canvas),e.content.insertBefore(this.getCanvas()._canvas,t[this.index+1].getCanvas()._canvas)}return!0}return!1},t.prototype.moveToBottom=function(){if(s.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.getChildren();e.content.removeChild(this.getCanvas()._canvas),e.content.insertBefore(this.getCanvas()._canvas,t[1].getCanvas()._canvas)}return!0}return!1},t.prototype.getLayer=function(){return this},t.prototype.remove=function(){var e=this.getCanvas()._canvas;return s.Node.prototype.remove.call(this),e&&e.parentNode&&a.Util._isInDocument(e)&&e.parentNode.removeChild(e),this},t.prototype.getStage=function(){return this.parent},t.prototype.setSize=function(e){var t=e.width,n=e.height;return this.canvas.setSize(t,n),this},t.prototype._toKonvaCanvas=function(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==undefined?e.x:this.x(),e.y=e.y!==undefined?e.y:this.y(),s.Node.prototype._toKonvaCanvas.call(this,e)},t.prototype._checkVisibility=function(){var e=this.visible();this.canvas._canvas.style.display=e?"block":"none"},t.prototype.getWidth=function(){if(this.parent)return this.parent.width()},t.prototype.setWidth=function(){a.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},t.prototype.getHeight=function(){if(this.parent)return this.parent.height()},t.prototype.setHeight=function(){a.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},t.prototype.getIntersection=function(e,t){return null},t.prototype.batchDraw=function(){var e=this;return this._waitingForDraw||(this._waitingForDraw=!0,a.Util.requestAnimFrame(function(){e.draw(),e._waitingForDraw=!1})),this},t.prototype._applyTransform=function(e,t,n){var r=e.getAbsoluteTransform(n).getMatrix();t.transform(r[0],r[1],r[2],r[3],r[4],r[5])},t}(i.Container);t.BaseLayer=c,c.prototype.nodeType="BaseLayer",l.Factory.addGetterSetter(c,"clearBeforeDraw",!0),a.Collection.mapMethods(c)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(20),u=n(21),c=function(e){function t(t){var n=e.call(this,t)||this;return n.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")}),n}return o(t,e),t.prototype._sceneFunc=function(e){var t,n,r,o=this.points(),a=o.length,i=this.tension(),s=this.closed(),l=this.bezier();if(a){if(e.beginPath(),e.moveTo(o[0],o[1]),0!==i&&a>4){for(n=(t=this.getTensionPoints()).length,r=s?0:4,s||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);r<n-2;)e.bezierCurveTo(t[r++],t[r++],t[r++],t[r++],t[r++],t[r++]);s||e.quadraticCurveTo(t[n-2],t[n-1],o[a-2],o[a-1])}else if(l)for(r=2;r<a;)e.bezierCurveTo(o[r++],o[r++],o[r++],o[r++],o[r++],o[r++]);else for(r=2;r<a;r+=2)e.lineTo(o[r],o[r+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}},t.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},t.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():a.Util._expandPoints(this.points(),this.tension())},t.prototype._getTensionPointsClosed=function(){var e=this.points(),t=e.length,n=this.tension(),r=a.Util._getControlPoints(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),o=a.Util._getControlPoints(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),i=a.Util._expandPoints(e,n);return[r[2],r[3]].concat(i).concat([o[0],o[1],e[t-2],e[t-1],o[2],o[3],r[0],r[1],e[0],e[1]])},t.prototype.getWidth=function(){return this.getSelfRect().width},t.prototype.getHeight=function(){return this.getSelfRect().height},t.prototype.getSelfRect=function(){for(var e,t,n,r=(e=0!==this.tension()?this._getTensionPoints():this.points())[0],o=e[0],a=e[1],i=e[1],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),o=Math.max(o,t),a=Math.min(a,n),i=Math.max(i,n);return{x:Math.round(r),y:Math.round(a),width:Math.round(o-r),height:Math.round(i-a)}},t}(s.Shape);t.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],u._registerNode(c),i.Factory.addGetterSetter(c,"closed",!1),i.Factory.addGetterSetter(c,"bezier",!1),i.Factory.addGetterSetter(c,"tension",0,l.getNumberValidator()),i.Factory.addGetterSetter(c,"points",[],l.getNumberArrayValidator()),a.Collection.mapMethods(c)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(21),u=function(e){function t(n){var r=e.call(this,n)||this;r.dataArray=[],r.pathLength=0,r.dataArray=t.parsePathData(r.data()),r.pathLength=0;for(var o=0;o<r.dataArray.length;++o)r.pathLength+=r.dataArray[o].pathLength;return r.on("dataChange.konva",function(){this.dataArray=t.parsePathData(this.getData()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength}),r}return o(t,e),t.prototype._sceneFunc=function(e){var t=this.dataArray;e.beginPath();for(var n=0;n<t.length;n++){var r=t[n].command,o=t[n].points;switch(r){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],i=o[1],s=o[2],l=o[3],u=o[4],c=o[5],d=o[6],f=o[7],p=s>l?s:l,h=s>l?1:s/l,g=s>l?l/s:1;e.translate(a,i),e.rotate(d),e.scale(h,g),e.arc(0,0,p,u,u+c,1-f),e.scale(1/h,1/g),e.rotate(-d),e.translate(-a,-i);break;case"z":e.closePath()}}e.fillStrokeShape(this)},t.prototype.getSelfRect=function(){var e=[];this.dataArray.forEach(function(t){e=e.concat(t.points)});for(var t,n,r=e[0],o=e[0],a=e[1],i=e[1],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],isNaN(t)||(r=Math.min(r,t),o=Math.max(o,t)),isNaN(n)||(a=Math.min(a,n),i=Math.max(i,n));return{x:Math.round(r),y:Math.round(a),width:Math.round(o-r),height:Math.round(i-a)}},t.prototype.getLength=function(){return this.pathLength},t.prototype.getPointAtLength=function(e){var n,r=0,o=this.dataArray.length;if(!o)return null;for(;r<o&&e>this.dataArray[r].pathLength;)e-=this.dataArray[r].pathLength,++r;if(r===o)return{x:(n=this.dataArray[r-1].points.slice(-2))[0],y:n[1]};if(e<.01)return{x:(n=this.dataArray[r].points.slice(0,2))[0],y:n[1]};var a=this.dataArray[r],i=a.points;switch(a.command){case"L":return t.getPointOnLine(e,a.start.x,a.start.y,i[0],i[1]);case"C":return t.getPointOnCubicBezier(e/a.pathLength,a.start.x,a.start.y,i[0],i[1],i[2],i[3],i[4],i[5]);case"Q":return t.getPointOnQuadraticBezier(e/a.pathLength,a.start.x,a.start.y,i[0],i[1],i[2],i[3]);case"A":var s=i[0],l=i[1],u=i[2],c=i[3],d=i[4],f=i[5],p=i[6];return d+=f*e/a.pathLength,t.getPointOnEllipticalArc(s,l,u,c,d,p)}return null},t.getLineLength=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},t.getPointOnLine=function(e,t,n,r,o,a,i){a===undefined&&(a=t),i===undefined&&(i=n);var s=(o-n)/(r-t+1e-8),l=Math.sqrt(e*e/(1+s*s));r<t&&(l*=-1);var u,c=s*l;if(r===t)u={x:a,y:i+c};else if((i-n)/(a-t+1e-8)===s)u={x:a+l,y:i+c};else{var d,f,p=this.getLineLength(t,n,r,o);if(p<1e-8)return undefined;var h=(a-t)*(r-t)+(i-n)*(o-n);d=t+(h/=p*p)*(r-t),f=n+h*(o-n);var g=this.getLineLength(a,i,d,f),y=Math.sqrt(e*e-g*g);l=Math.sqrt(y*y/(1+s*s)),r<t&&(l*=-1),u={x:d+l,y:f+(c=s*l)}}return u},t.getPointOnCubicBezier=function(e,t,n,r,o,a,i,s,l){function u(e){return e*e*e}function c(e){return 3*e*e*(1-e)}function d(e){return 3*e*(1-e)*(1-e)}function f(e){return(1-e)*(1-e)*(1-e)}return{x:s*u(e)+a*c(e)+r*d(e)+t*f(e),y:l*u(e)+i*c(e)+o*d(e)+n*f(e)}},t.getPointOnQuadraticBezier=function(e,t,n,r,o,a,i){function s(e){return e*e}function l(e){return 2*e*(1-e)}function u(e){return(1-e)*(1-e)}return{x:a*s(e)+r*l(e)+t*u(e),y:i*s(e)+o*l(e)+n*u(e)}},t.getPointOnEllipticalArc=function(e,t,n,r,o,a){var i=Math.cos(a),s=Math.sin(a),l=n*Math.cos(o),u=r*Math.sin(o);return{x:e+(l*i-u*s),y:t+(l*s+u*i)}},t.parsePathData=function(e){if(!e)return[];var t=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)t=t.replace(new RegExp(n[r],"g"),"|"+n[r]);var o,a=t.split("|"),i=[],s=[],l=0,u=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<a.length;r++){var d=a[r],f=d.charAt(0);for(d=d.slice(1),s.length=0;o=c.exec(d);)s.push(o[0]);for(var p=[],h=0,g=s.length;h<g;h++){var y=parseFloat(s[h]);isNaN(y)?p.push(0):p.push(y)}for(;p.length>0&&!isNaN(p[0]);){var m,_,v,b,w,C,x,S,P,k,O=null,E=[],T=l,M=u;switch(f){case"l":l+=p.shift(),u+=p.shift(),O="L",E.push(l,u);break;case"L":l=p.shift(),u=p.shift(),E.push(l,u);break;case"m":var D=p.shift(),A=p.shift();if(l+=D,u+=A,O="M",i.length>2&&"z"===i[i.length-1].command)for(var j=i.length-2;j>=0;j--)if("M"===i[j].command){l=i[j].points[0]+D,u=i[j].points[1]+A;break}E.push(l,u),f="l";break;case"M":l=p.shift(),u=p.shift(),O="M",E.push(l,u),f="L";break;case"h":l+=p.shift(),O="L",E.push(l,u);break;case"H":l=p.shift(),O="L",E.push(l,u);break;case"v":u+=p.shift(),O="L",E.push(l,u);break;case"V":u=p.shift(),O="L",E.push(l,u);break;case"C":E.push(p.shift(),p.shift(),p.shift(),p.shift()),l=p.shift(),u=p.shift(),E.push(l,u);break;case"c":E.push(l+p.shift(),u+p.shift(),l+p.shift(),u+p.shift()),l+=p.shift(),u+=p.shift(),O="C",E.push(l,u);break;case"S":_=l,v=u,"C"===(m=i[i.length-1]).command&&(_=l+(l-m.points[2]),v=u+(u-m.points[3])),E.push(_,v,p.shift(),p.shift()),l=p.shift(),u=p.shift(),O="C",E.push(l,u);break;case"s":_=l,v=u,"C"===(m=i[i.length-1]).command&&(_=l+(l-m.points[2]),v=u+(u-m.points[3])),E.push(_,v,l+p.shift(),u+p.shift()),l+=p.shift(),u+=p.shift(),O="C",E.push(l,u);break;case"Q":E.push(p.shift(),p.shift()),l=p.shift(),u=p.shift(),E.push(l,u);break;case"q":E.push(l+p.shift(),u+p.shift()),l+=p.shift(),u+=p.shift(),O="Q",E.push(l,u);break;case"T":_=l,v=u,"Q"===(m=i[i.length-1]).command&&(_=l+(l-m.points[0]),v=u+(u-m.points[1])),l=p.shift(),u=p.shift(),O="Q",E.push(_,v,l,u);break;case"t":_=l,v=u,"Q"===(m=i[i.length-1]).command&&(_=l+(l-m.points[0]),v=u+(u-m.points[1])),l+=p.shift(),u+=p.shift(),O="Q",E.push(_,v,l,u);break;case"A":b=p.shift(),w=p.shift(),C=p.shift(),x=p.shift(),S=p.shift(),P=l,k=u,l=p.shift(),u=p.shift(),O="A",E=this.convertEndpointToCenterParameterization(P,k,l,u,x,S,b,w,C);break;case"a":b=p.shift(),w=p.shift(),C=p.shift(),x=p.shift(),S=p.shift(),P=l,k=u,l+=p.shift(),u+=p.shift(),O="A",E=this.convertEndpointToCenterParameterization(P,k,l,u,x,S,b,w,C)}i.push({command:O||f,points:E,start:{x:T,y:M},pathLength:this.calcLength(T,M,O||f,E)})}"z"!==f&&"Z"!==f||i.push({command:"z",points:[],start:undefined,pathLength:0})}return i},t.calcLength=function(e,n,r,o){var a,i,s,l,u=t;switch(r){case"L":return u.getLineLength(e,n,o[0],o[1]);case"C":for(a=0,i=u.getPointOnCubicBezier(0,e,n,o[0],o[1],o[2],o[3],o[4],o[5]),l=.01;l<=1;l+=.01)s=u.getPointOnCubicBezier(l,e,n,o[0],o[1],o[2],o[3],o[4],o[5]),a+=u.getLineLength(i.x,i.y,s.x,s.y),i=s;return a;case"Q":for(a=0,i=u.getPointOnQuadraticBezier(0,e,n,o[0],o[1],o[2],o[3]),l=.01;l<=1;l+=.01)s=u.getPointOnQuadraticBezier(l,e,n,o[0],o[1],o[2],o[3]),a+=u.getLineLength(i.x,i.y,s.x,s.y),i=s;return a;case"A":a=0;var c=o[4],d=o[5],f=o[4]+d,p=Math.PI/180;if(Math.abs(c-f)<p&&(p=Math.abs(c-f)),i=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],c,0),d<0)for(l=c-p;l>f;l-=p)s=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],l,0),a+=u.getLineLength(i.x,i.y,s.x,s.y),i=s;else for(l=c+p;l<f;l+=p)s=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],l,0),a+=u.getLineLength(i.x,i.y,s.x,s.y),i=s;return s=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],f,0),a+=u.getLineLength(i.x,i.y,s.x,s.y)}return 0},t.convertEndpointToCenterParameterization=function(e,t,n,r,o,a,i,s,l){var u=l*(Math.PI/180),c=Math.cos(u)*(e-n)/2+Math.sin(u)*(t-r)/2,d=-1*Math.sin(u)*(e-n)/2+Math.cos(u)*(t-r)/2,f=c*c/(i*i)+d*d/(s*s);f>1&&(i*=Math.sqrt(f),s*=Math.sqrt(f));var p=Math.sqrt((i*i*(s*s)-i*i*(d*d)-s*s*(c*c))/(i*i*(d*d)+s*s*(c*c)));o===a&&(p*=-1),isNaN(p)&&(p=0);var h=p*i*d/s,g=p*-s*c/i,y=(e+n)/2+Math.cos(u)*h-Math.sin(u)*g,m=(t+r)/2+Math.sin(u)*h+Math.cos(u)*g,_=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},v=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(_(e)*_(t))},b=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(v(e,t))},w=b([1,0],[(c-h)/i,(d-g)/s]),C=[(c-h)/i,(d-g)/s],x=[(-1*c-h)/i,(-1*d-g)/s],S=b(C,x);return v(C,x)<=-1&&(S=Math.PI),v(C,x)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),[y,m,i,s,w,S,u,a]},t}(s.Shape);t.Path=u,u.prototype.className="Path",u.prototype._attrsAffectingSize=["data"],l._registerNode(u),i.Factory.addGetterSetter(u,"data"),a.Collection.mapMethods(u)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(20),u=n(21),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._sceneFunc=function(e){var t=this.cornerRadius(),n=this.width(),r=this.height();e.beginPath(),t?(t=Math.min(t,n/2,r/2),e.moveTo(t,0),e.lineTo(n-t,0),e.arc(n-t,t,t,3*Math.PI/2,0,!1),e.lineTo(n,r-t),e.arc(n-t,r-t,t,0,Math.PI/2,!1),e.lineTo(t,r),e.arc(t,r-t,t,Math.PI/2,Math.PI,!1),e.lineTo(0,t),e.arc(t,t,t,Math.PI,3*Math.PI/2,!1)):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)},t}(s.Shape);t.Rect=c,c.prototype.className="Rect",u._registerNode(c),i.Factory.addGetterSetter(c,"cornerRadius",0,l.getNumberValidator()),a.Collection.mapMethods(c)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(22),s=n(18),l=n(50),u=n(21),c=n(20),d=n(21),f="Change.konva",p="2d",h=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],g=h.length;function y(){return a||(a=i.Util.createCanvasElement().getContext(p))}var m=function(e){function t(t){var n=e.call(this,function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(t))||this;n._partialTextX=0,n._partialTextY=0;for(var r=0;r<g;r++)n.on(h[r]+f,n._setTextData);return n._setTextData(),n}return o(t,e),t.prototype._sceneFunc=function(e){var t,n=this.padding(),r=this.fontSize(),o=this.lineHeight()*r,a=this.textArr,i=a.length,s=this.verticalAlign(),l=0,u=this.align(),c=this.getWidth(),d=this.letterSpacing(),f=this.fill(),p=this.textDecoration(),h=-1!==p.indexOf("underline"),g=-1!==p.indexOf("line-through"),y=0,m=(y=o/2,0),_=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline","middle"),e.setAttr("textAlign","left"),"middle"===s?l=(this.getHeight()-i*o-2*n)/2:"bottom"===s&&(l=this.getHeight()-i*o-2*n),e.translate(n,l+n),t=0;t<i;t++){m=0,_=0;var v,b,w,C=a[t],x=C.text,S=C.width,P=t!==i-1;if(e.save(),"right"===u?m+=c-S-2*n:"center"===u&&(m+=(c-S-2*n)/2),h&&(e.save(),e.beginPath(),e.moveTo(m,y+_+Math.round(r/2)),b=0===(v=x.split(" ").length-1),w="justify"===u&&P&&!b?c-2*n:S,e.lineTo(m+Math.round(w),y+_+Math.round(r/2)),e.lineWidth=r/15,e.strokeStyle=f,e.stroke(),e.restore()),g&&(e.save(),e.beginPath(),e.moveTo(m,y+_),b=0===(v=x.split(" ").length-1),w="justify"===u&&P&&!b?c-2*n:S,e.lineTo(m+Math.round(w),y+_),e.lineWidth=r/15,e.strokeStyle=f,e.stroke(),e.restore()),0!==d||"justify"===u){v=x.split(" ").length-1;for(var k=0;k<x.length;k++){var O=x[k];" "===O&&t!==i-1&&"justify"===u&&(m+=Math.floor((c-2*n-S)/v)),this._partialTextX=m,this._partialTextY=y+_,this._partialText=O,e.fillStrokeShape(this),m+=Math.round(this.measureSize(O).width)+d}}else this._partialTextX=m,this._partialTextY=y+_,this._partialText=x,e.fillStrokeShape(this);e.restore(),i>1&&(y+=o)}},t.prototype._hitFunc=function(e){var t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)},t.prototype.setText=function(e){var t=i.Util._isString(e)?e:(e||"").toString();return this._setAttr("text",t),this},t.prototype.getWidth=function(){return"auto"===this.attrs.width||this.attrs.width===undefined?this.getTextWidth()+2*this.padding():this.attrs.width},t.prototype.getHeight=function(){return"auto"===this.attrs.height||this.attrs.height===undefined?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},t.prototype.getTextWidth=function(){return this.textWidth},t.prototype.getTextHeight=function(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},t.prototype.measureSize=function(e){var t,n=y(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),t=n.measureText(e),n.restore(),{width:t.width,height:r}},t.prototype._getContextFont=function(){return u.Konva.UA.isIE?this.fontStyle()+" "+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily()},t.prototype._addTextLine=function(e){"justify"===this.align()&&(e=e.trim());var t=this._getTextWidth(e);return this.textArr.push({text:e,width:t})},t.prototype._getTextWidth=function(e){var t=this.letterSpacing(),n=e.length;return y().measureText(e).width+(n?t*(n-1):0)},t.prototype._setTextData=function(){var e=this.text().split("\n"),t=+this.fontSize(),n=0,r=this.lineHeight()*t,o=this.attrs.width,a=this.attrs.height,i="auto"!==o&&o!==undefined,s="auto"!==a&&a!==undefined,l=this.padding(),u=o-2*l,c=a-2*l,d=0,f=this.wrap(),p="none"!==f,h="char"!==f&&p,g=this.ellipsis()&&!p;this.textArr=[],y().font=this._getContextFont();for(var m=g?this._getTextWidth("…"):0,_=0,v=e.length;_<v;++_){var b=e[_],w=this._getTextWidth(b);if(i&&w>u)for(;b.length>0;){for(var C=0,x=b.length,S="",P=0;C<x;){var k=C+x>>>1,O=b.slice(0,k+1),E=this._getTextWidth(O)+m;E<=u?(C=k+1,S=O+(g?"…":""),P=E):x=k}if(!S)break;if(h){var T,M=b[S.length];(T=(" "===M||"-"===M)&&P<=u?S.length:Math.max(S.lastIndexOf(" "),S.lastIndexOf("-"))+1)>0&&(C=T,S=S.slice(0,C),P=this._getTextWidth(S))}if(S=S.trimRight(),this._addTextLine(S),n=Math.max(n,P),d+=r,!p||s&&d+r>c)break;if((b=(b=b.slice(C)).trimLeft()).length>0&&(w=this._getTextWidth(b))<=u){this._addTextLine(b),d+=r,n=Math.max(n,w);break}}else this._addTextLine(b),d+=r,n=Math.max(n,w);if(s&&d+r>c)break}this.textHeight=t,this.textWidth=n},t.prototype.getStrokeScaleEnabled=function(){return!0},t}(l.Shape);t.Text=m,m.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},m.prototype._strokeFunc=function(e){e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},m.prototype.className="Text",m.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],d._registerNode(m),s.Factory.overWriteSetter(m,"width",c.getNumberOrAutoValidator()),s.Factory.overWriteSetter(m,"height",c.getNumberOrAutoValidator()),s.Factory.addGetterSetter(m,"fontFamily","Arial"),s.Factory.addGetterSetter(m,"fontSize",12,c.getNumberValidator()),s.Factory.addGetterSetter(m,"fontStyle","normal"),s.Factory.addGetterSetter(m,"fontVariant","normal"),s.Factory.addGetterSetter(m,"padding",0,c.getNumberValidator()),s.Factory.addGetterSetter(m,"align","left"),s.Factory.addGetterSetter(m,"verticalAlign","top"),s.Factory.addGetterSetter(m,"lineHeight",1,c.getNumberValidator()),s.Factory.addGetterSetter(m,"wrap","word"),s.Factory.addGetterSetter(m,"ellipsis",!1),s.Factory.addGetterSetter(m,"letterSpacing",0,c.getNumberValidator()),s.Factory.addGetterSetter(m,"text","",c.getStringValidator()),s.Factory.addGetterSetter(m,"textDecoration",""),i.Collection.mapMethods(m)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=n(1),l=Math.round(175*Math.PI*2),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"text",{get:function(){var e=this.props,t=e.progress,n=e.showPercentage,r=e.textColor,o=e.textStyle,a=e.percentSpacing,s=e.showPercentageSymbol;if(n)return i["default"].createElement("text",{style:o,fill:r,x:"50%",y:"50%",dx:"-25",textAnchor:"middle"},t,s&&i["default"].createElement("tspan",{dx:a},"%"))},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e,t=this.text,n=this.props,r=n.progress,o=n.size,a=n.width,s=n.height,u=n.bgColor,c=n.progressColor,d=n.lineWidth,f=n.animate,p=n.animationDuration,h=n.roundedStroke,g=n.responsive,y=n.onAnimationEnd,m=(void 0===(e=r)&&(e=0),Math.round((100-e)/100*l)),_=f?"stroke-dashoffset "+p+" ease-out":null,v=h?"round":"butt",b=g?{width:"100%",height:"100%"}:{width:a||o,height:s||o};return i["default"].createElement("svg",{width:b.width,height:b.height,viewBox:"-25 -25 400 400"},i["default"].createElement("circle",{stroke:u,cx:"175",cy:"175",r:"175",strokeWidth:d,fill:"none"}),i["default"].createElement("circle",{stroke:c,transform:"rotate(-90 175 175)",cx:"175",cy:"175",r:"175",strokeDasharray:"1100",strokeWidth:d,strokeDashoffset:"1100",strokeLinecap:v,fill:"none",style:{strokeDashoffset:m,transition:_},onTransitionEnd:y}),t)},t.defaultProps={progress:0,animate:!0,animationDuration:"1s",showPercentage:!0,showPercentageSymbol:!0,progressColor:"rgb(76, 154, 255)",bgColor:"#ecedf0",textColor:"#6b778c",size:"100",width:"100",height:"100",lineWidth:"25",percentSpacing:10,textStyle:{font:"bold 4rem Helvetica, Arial, sans-serif"}},t}(s.Component);t.Circle=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(818),o=n(342),a=n(87);function i(e,t,n,i){r.copyPageToProject(e,t,n,undefined,function(t){var n=t.allPageChangeKey,r=t.allContrChangeKey,s=e[0]&&e[0].allSet&&e[0].allSet.linkLineData;if(s&&s.length>0){var l=[];for(var u in n)l.push(+u);o.addLinkLineByPaste({linkLineData:s,pageKeyArr:l,allPageChangeKey:n,allContrChangeKey:r})}i&&i({allPageChangeKey:n,allContrChangeKey:r}),a.pageEmitChange()})}t.copyPageAndLine=i,t["default"]={copyPageAndLine:i}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({ANIMLINE_SHOW:null,ANIMLINE_MOVE:null,ANIMLINE_HIDE:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/AnimLineConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SHADOW_X="SHADOW_X",e.SHADOW_Y="SHADOW_Y",e.SHADOW_INIT="SHADOW_INIT",e.SHADOW_HIDE="SHADOW_HIDE",e.SHADOW_BLUR="SHADOW_BLUR",e.SHADOW_SPREAD="SHADOW_SPREAD",e.SHADOW_COLOR="SHADOW_COLOR",e.SHADOW_INSET="SHADOW_INSET",e.SHADOW_LOCK="SHADOW_LOCK",e.SHADOW_NOSHADOW="SHADOW_NOSHADOW",e.SHADOW_NORMALSHADOW="SHADOW_NORMALSHADOW",e.SHADOW_SINKSHADOW="SHADOW_SINKSHADOW",e.SHADOW_FLOATSHADOW="SHADOW_FLOATSHADOW",e.SHADOW_EMBEDSHADOW="SHADOW_EMBEDSHADOW"}(t.ShadowActionID||(t.ShadowActionID={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(24)),i=n(614),s=window.$;function l(e,t){var n,r,l,c,d=o["default"].getContrs(),f=a["default"].getMergeBoxIn()?a["default"].getContrs():d,p=f[e.key]?f[e.key]:o["default"].getContrByAll(e.key);if(s.isEditState(p)&&(n=p,p=o["default"].getThisStateContr(p,e.key),n.left!=e.left&&p.cancelObj&&p.cancelObj.left&&(p.cancelObj.left=!1),n.top!=e.top&&p.cancelObj&&p.cancelObj.top&&(p.cancelObj.top=!1),n.width!=e.height&&p.cancelObj&&p.cancelObj.width&&(p.cancelObj.width=!1),n.height!=e.height&&p.cancelObj&&p.cancelObj.height&&(p.cancelObj.height=!1)),"image"==(p=o["default"].getAllValsContr({contrKey:n||p,changeThisContr:!0})).type){var h=p.cutVals||i.initImageCutVals(p);if(p.WHrelation)r=p,l=h,c=e.width/p.width,o["default"].contrUpdate(s.getContrId(r),{cutVals:{left:l.left*c,top:l.top*c,width:l.width*c,height:l.height*c,boxLeft:l.boxLeft*c,boxTop:l.boxTop*c,boxWidth:l.boxWidth*c,boxHeight:l.boxHeight*c}},!1,!0);else{var g=e.width/p.width,y=e.height/p.height;o["default"].contrUpdate(s.getContrId(p),{cutVals:{width:h.width*g,boxWidth:h.boxWidth*g,boxLeft:h.boxLeft*g,height:h.height*y,boxHeight:h.boxHeight*y,boxTop:h.boxTop*y}},!1,!0)}}else"wrapbox"==p.type&&p.isOpt&&!p.isOpen&&u(s.extend(!0,{},p.contrs),e.width/p.width);var m={width:e.width,height:e.height,left:e.left,top:e.top};if("table"===p.type){var _=p.width,v=p.height,b=p.columnPosi,w=p.linePosi,C=p.left,x=p.top,S=m.width-_,P=m.height-v;if(0!==S){var k=s.getChangePosiArr(S,b);m.columnPosi=k}if(0!==P){var O=s.getChangePosiArr(P,w);m.linePosi=O}m.width<20*b.length&&(m.left=C),m.height<20*w.length&&(m.top=x)}else if("text"==p.type){var E=window.mouseDownTarget&&"eightSpotDrag"==window.mouseDownTarget.name,T=!1;if(s.isUndefined(m.width)||p.width==m.width||(m.autoW=!1),!s.isUndefined(m.height)&&p.height!=m.height){if(E){var M=window.mouseDownTarget.target;(s.hasClass(M,"mr")||s.hasClass(M,"ml"))&&(T=!0)}T||(m.autoH=!1)}}o["default"].contrUpdate(s.getContrId(p),m,!1,!0),t||o["default"].emitChange()}function u(e,t){for(var n in e){var r=e[n];"wrapbox"==(r=o["default"].getAllValsContr({contrKey:r,changeThisContr:!0})).type&&u(r.contrs,t);var a=s.getOtherSizeChangeObj(r,t);"symbol"==r.type&&(a.scale=r.scale*a.width/r.width,delete a.width,delete a.height),o["default"].contrUpdate(n,a,!1,!0)}}t.contrPosi=l,s.changeWrapChildPosi=u,t["default"]={contrPosi:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27)),a=n(46),i=n(98);function s(e){var t=e.line,n=e.pageKey,r=t.endKey,o=t.pageKey;return i.getPageIdByKey(o)==n||i.getPageIdByKey(r)==n}function l(e){var t=e.pageFlow,n=void 0===t?undefined:t,r=e.pageKey,i=e.fromProject,l=void 0!==i&&i,u=(n||a.getPageFlow()).id,c=l?o["default"].getAllLinkLine():o["default"].getLinkLineByPageFlowId({pageFlowId:u,isArr:!0});for(var d in c){s({line:c[d],pageKey:r})&&o["default"].deleteLine(u,!0)}}t.deletePageRelationLines=l,t["default"]={deletePageRelationLines:l}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i={notification:{data:[],isDownload:!1},cooperation:{}},s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getListData=function(){return i},t.prototype.loadNotification=function(e,t){i.notification.data=e,i.notification.isDownload=!0,t||s.emitChange()},t.prototype.setCooperation=function(e,t){i.cooperation=e,window.hasOtherPeople=i.cooperation.list.length>1,t||s.emitCooperationChange()},t.prototype.getCooperation=function(){return i.cooperation},t.prototype.getIsDownLoad=function(e){return i[e].isDownload},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitCooperationChange=function(){this.emit("cooperationChange")},t.prototype.addCooperationChangeListener=function(e){this.on("cooperationChange",e)},t.prototype.removeCooperationChangeListener=function(e){this.removeListener("cooperationChange",e)},t}(a.EventEmitter));t["default"]=s},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(81)),a=r(n(24)),i=r(n(94)),s=r(n(119)),l=r(n(32)),u=r(n(205)),c=window.$;t["default"]=function(e,t){var r,d=n(6)["default"],f=[],p=d.getSelect();if(!o["default"].hasEditNote()||4==e.length&&"note"==e[3][0]&&e[3][1]||o["default"].editBlur(),1==e.length){var h=!1;if("table"==e[0].split("_")[0]){var g=n(40)["default"];r=d.getFirstSelectContr();var y=g.getTableData().selectCell;y&&y[0]?(f=[{tabType:"tableCell",isFold:!t,rename:"表格单元"},{tabType:"text"}],h=!0):f=[{tabType:"box",isFold:!t,rename:"表格框体"}]}else if("text"==e[0].split("_")[0]){var m=(r=d.getFirstSelectContr()).isBaseShape?"形状框体":"文字框体";"inputText"==r.baseContrType&&(m="输入框体"),p&&!c.isTextLine(p[0])?f=r.isEdit?[{tabType:"box",isFold:!1,rename:m},{tabType:"text",isFold:!0}]:[{tabType:"box",isFold:!t,rename:m},{tabType:"text"}]:(f=[{tabType:"box",isFold:!t,rename:"线条框体"}],h=!0)}else"hotspot"==e[0].split("_")[0]?(r=d.getFirstSelectContr(),f=[{tabType:"box",isFold:!t,rename:"热区框体"}]):c.isMobileContr(e[0].split("_")[0])?(r=d.getFirstSelectContr(),f=[{tabType:"box",isFold:!t,rename:"框体"},{tabType:"mobileSet"}]):c.isAdvancedContr(e[0].split("_")[0])?(r=d.getFirstSelectContr(),f=[{tabType:"box",isFold:!t,rename:"框体"},{tabType:"advancedSet"}]):c.isChartContr(e[0].split("_")[0])?(r=d.getFirstSelectContr(),f=[{tabType:"box",isFold:!t,rename:"框体"},{tabType:"chartSet"}]):u["default"].isExtraBaseContr(e[0].split("_")[0])?(r=d.getFirstSelectContr(),f=[{tabType:"box",isFold:!t,rename:"框体"}]):"icon"==e[0].split("_")[0]?f=(r=d.getFirstSelectContr()).isEdit?[{tabType:"box",isFold:!1,rename:"图标框体"},{tabType:"icon",isFold:!t}]:[{tabType:"box",isFold:!t,rename:"图标框体"},{tabType:"icon"}]:"table"==e[0].split("_")[0]?f=(r=d.getFirstSelectContr()).isEdit?[{tabType:"box",isFold:!1,rename:"表格框体"},{tabType:"table",isFold:!t}]:[{tabType:"box",isFold:!t,rename:"表格框体"},{tabType:"table"}]:"image"==e[0].split("_")[0]?(r=d.getFirstSelectContr(),f=c.isDefaultImg(r.src)?[{tabType:"box",isFold:!t,rename:"图片框体"}]:s["default"].getCutImageShow()?[{tabType:"box",isFold:!1,rename:"图片框体"},{tabType:"cutImage",isFold:!0}]:[{tabType:"box",isFold:!t,rename:"图片框体"},{tabType:"cutImage"}]):"wrapbox"==e[0].split("_")[0]?f=(r=d.getFirstSelectContr()).isOpen?[{tabType:"box",isFold:!1,rename:"集合框体"},{tabType:"wrapBox",isFold:!0}]:[{tabType:"box",isFold:!t,rename:"集合框体"},{tabType:"wrapBox"}]:"symbol"==e[0].split("_")[0]&&(f=l["default"].getSymbolMaskShow()&&l["default"].getSymbolContrKey()==e[0]?[{tabType:"box",isFold:!1,rename:"引用框体"},{tabType:"symbol",isFold:!0}]:[{tabType:"box",isFold:!t,rename:"引用框体"},{tabType:"symbol"}]);"symbol"==e[0].split("_")[0]||c.isMobileContr(e[0].split("_")[0])||c.isAdvancedContr(e[0].split("_")[0])||u["default"].isExtraBaseContr(e[0].split("_")[0])||f.push({tabType:"event",isFold:"event"==t}),f.push({tabType:"struct"}),h||f.push({tabType:"note"})}else if(0===e.length)f=l["default"].getSymbolMaskShow()?[{tabType:"box",isFold:!1,rename:"引用框体"},{tabType:"symbol",isFold:!0},{tabType:"struct"},{tabType:"note"}]:a["default"].getIsWrapEdit()&&!a["default"].getMergeBoxIn()?[{tabType:"box",isFold:!1,rename:"集合框体"},{tabType:"wrapBox",isFold:!0},{tabType:"event"},{tabType:"struct"},{tabType:"note"}]:[{tabType:"struct",isFold:!t},{tabType:"pageSet"},{tabType:"event",isFold:"event"==t,rename:"页面事件"},{tabType:"versionManage"},{tabType:"note"}];else{var _,v;e.forEach(function(e,t){var n=e.split("_")[0];if(0===t)switch(n){case"text":_=!0;break;case"icon":v=!0}else switch(n){case"text":v=!1;break;case"icon":_=!1}}),f=[{tabType:"mutibox",isFold:!0}],_?f.push({tabType:"textEditAll"}):v&&f.push({tabType:"iconEditAll"}),f.push({tabType:"struct"})}f[0].isFold&&f[1].isFold,i["default"].change(f)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(419));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={show:function(e){window.Mousetrap&&window.Mousetrap.pause(),o["default"].dispatch({actionType:a["default"].POPUPPREVIEW_SHOW,options:e})},close:function(){window.Mousetrap&&window.Mousetrap.unpause(),o["default"].dispatch({actionType:a["default"].POPUPPREVIEW_CLOSE})},loaded:function(){o["default"].dispatch({actionType:a["default"].POPUPPREVIEW_LOADED})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"PopupPreviewActions","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/actions/PopupPreviewActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/actions/PopupPreviewActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({POPUPPREVIEW_SHOW:null,POPUPPREVIEW_CLOSE:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/constants/PopupPreviewConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=n(838),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var a=n(591);a.inherits=n(462);var i=n(915),s=n(871);a.inherits(d,i);for(var l=o(s.prototype),u=0;u<l.length;u++){var c=l[u];d.prototype[c]||(d.prototype[c]=s.prototype[c])}function d(e){if(!(this instanceof d))return new d(e);i.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";function r(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.w,i=e.h,s=e.notClockwise;return void 0!==s&&s?"M"+-n+", "+-o+" V"+(i+o)+" H"+(a+n)+" V"+-o+" Z":"M"+-n+", "+-o+" H"+(a+n)+" V"+(i+o)+" H"+-n+" Z"}function o(e){e.x,e.y;var t=e.w,n=e.h,r=e.borderSize;return"M"+r+", "+r+" H"+(t-r)+" V"+(n-r)+" H"+r+" Z"}function a(e){e.x,e.y;var t=e.w,n=e.h,r=e.r,o=e.borderSize;return"M"+o+", "+(r+o)+" A"+r+", "+r+", 0, 0, 1, "+(r+o)+", "+o+" H"+(t-r-o)+" A"+r+", "+r+", 0, 0, 1, "+(t-o)+", "+(r+o)+" V"+(n-r-o)+" A"+r+", "+r+", 0, 0, 1, "+(t-r-o)+" "+(n-o)+" H"+(r+o)+" A"+r+", "+r+", 0, 0, 1, "+o+" "+(n-r-o)+" Z"}function i(e){e.x,e.y;var t=e.w,n=e.h,r=e.borderSize;return"M"+-r+", "+-r+" H"+(t+r)+" V"+(n+r)+" H"+-r+" Z"}function s(e){var t=e.x,n=e.y;return"M"+t+", "+n+" H"+e.w+" V"+(n+e.h)+" H0 Z"}function l(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.w,i=e.h,s=e.r,l=e.borderWidth,u=void 0===l?0:l;return"M"+(n-u)+", "+(o+s)+" A"+(s+u)+", "+(s+u)+", 0, 0, 1, "+(n+s)+", "+(o-u)+" H"+(n+a-s)+" A"+(s+u)+", "+(s+u)+", 0, 0, 1, "+(n+a+u)+", "+(o+s)+" V"+(o+i-s)+" A"+(s+u)+", "+(s+u)+", 0, 0, 1, "+(n+a-s)+", "+(o+i+u)+" H"+(n+s)+" A"+(s+u)+", "+(s+u)+", 0, 0, 1, "+(n-u)+", "+(o+i-s)+" Z"}function u(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.w,i=e.h,s=e.rTL,l=e.rTR,u=e.rBR,c=e.rBL,d=e.borderWidth,f=void 0===d?0:d;return"M"+(n-f)+", "+(o+s)+" A"+(s+f)+", "+(s+f)+", 0, 0, 1, "+(n+s)+", "+(o-f)+" H"+(n+a-l)+" A"+(l+f)+", "+(l+f)+", 0, 0, 1, "+(n+a+f)+", "+(o+l)+" V"+(o+i-u)+" A"+(u+f)+", "+(u+f)+", 0, 0, 1, "+(n+a-u)+", "+(o+i+f)+" H"+(n+c)+" A"+(c+f)+", "+(c+f)+", 0, 0, 1, "+(n-f)+", "+(o+i-c)+" Z"}function c(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.w,i=e.h,s=e.r,l=void 0===s?0:s,u=e.borderWidth,c=void 0===u?0:u;return"M"+(n-c)+", "+(o+l)+" A"+(l+c)+", "+(l+c)+", 0, 0, 1, "+(n+l)+", "+(o-c)+" H"+(n+a-l)+" A"+(l+c)+", "+(l+c)+", 0, 0, 1, "+(n+a+c)+", "+(o+l)+" V"+(o+i-l)+" A"+(l+c)+", "+(l+c)+", 0, 0, 1, "+(n+a-l)+", "+(o+i+c)+" H"+(n+l)+" A"+(l+c)+", "+(l+c)+", 0, 0, 1, "+(n-c)+", "+(o+i-l)+" Z"}function d(e){e.x,e.y;var t=e.w,n=e.h,r=e.rTL,o=e.rTR,a=e.rBR,i=e.rBL,s=e.notClockwise;return void 0!==s&&s?"M0, "+r+" A"+r+", "+r+", 0, 0, 1, "+r+", 0 H"+(t-o)+" A"+o+", "+o+", 0, 0, 1, "+t+", "+o+" V"+(n-a)+" A"+a+", "+a+", 0, 0, 1, "+(t-a)+", "+n+" H"+i+" A"+i+", "+i+", 0, 0, 1, 0, "+(n-i)+" Z":"M"+r+", 0 A"+r+", "+r+", 0, 0, 0, 0, "+r+" V"+(n-i)+" A"+i+", "+i+", 0, 0, 0, "+i+", "+n+" H"+(t-a)+" A"+a+", "+a+", 0, 0, 0, "+t+", "+(n-a)+" V"+o+" A"+o+", "+o+", 0, 0, 0, "+(t-o)+", 0 Z"}function f(e){var t=e.w,n=e.h,r=e.rTL,o=e.rTR,a=e.rBR,i=e.rBL,s=e.borderWidth;return"M"+s+" "+r+" A"+(r-s)+", "+(r-s)+", 0, 0, 1, "+r+", "+s+" H"+(t-o)+" A"+(o-s)+", "+(o-s)+", 0, 0, 1, "+(t-s)+", "+o+" V"+(n-a)+" A"+(a-s)+", "+(a-s)+", 0, 0, 1, "+(t-a)+", "+(n-s)+" H"+i+" A"+(i-s)+", "+(i-s)+", 0, 0, 1, "+s+", "+(n-i)+" Z"}function p(e){var t=e.w,n=e.h,r=e.insetBorderW,o=e.radiusTL,a=e.radiusTR,i=e.radiusBR,s=e.radiusBL;return(r>o?"M"+r+", "+r:"M"+r+", "+o+" A"+(o-r)+", "+(o-r)+", 0, 0, 1, "+o+", "+r)+" "+(r>a?"H"+(t-r):"H"+(t-a)+" A"+(a-r)+", "+(a-r)+", 0, 0, 1, "+(t-r)+", "+a)+" "+(r>i?"V"+(n-r):"V"+(n-i)+" A"+(i-r)+", "+(i-r)+", 0, 0, 1, "+(t-i)+", "+(n-r))+" "+(r>s?"H"+r:"H"+s+" A"+(s-r)+", "+(s-r)+", 0, 0, 1, "+r+", "+(n-s))+" Z"}function h(e){var t=e.xOffset,n=e.rOffset,r=e.w,o=e.h,a=e.insetBorderW,i=e.radiusTL,s=e.radiusTR,l=e.radiusBR,u=e.radiusBL,c=e.shadowBlur;return(a>i?"M"+(a-c)+", "+(a-c):"M"+t+", "+i+" A"+(i+n)+", "+(i+n)+", 0, 0, 1, "+i+", "+t)+" "+(a>s?"H"+(r-a+c):"H"+(r-s)+" A"+(s+n)+", "+(s+n)+", 0, 0, 1, "+(r-t)+", "+s)+" "+(a>l?"V"+(o-a+c):"V"+(o-l)+" A"+(l+n)+", "+(l+n)+", 0, 0, 1, "+(r-l)+", "+(o-t))+" "+(a>u?"H"+(a-c):"H"+u+" A"+(u+n)+", "+(u+n)+", 0, 0, 1, "+t+", "+(o-u))+" Z"}function g(e){var t=e.w,n=e.h,r=e.radius,o=e.insetBorderW;return"M"+o+", "+r+" A"+(r-o)+", "+(r-o)+", 0, 0, 1, "+r+", "+o+" H"+(t-r)+" A"+(r-o)+", "+(r-o)+", 0, 0, 1, "+(t-o)+", "+r+" V"+(n-r)+" A"+(r-o)+", "+(r-o)+", 0, 0, 1, "+(t-r)+", "+(n-o)+" H"+r+" A"+(r-o)+", "+(r-o)+", 0, 0, 1, "+o+", "+(n-r)+" Z"}function y(e){var t=e.xOffset,n=e.rOffset,r=e.w,o=e.h,a=e.radius;return"M"+t+", "+a+" A"+n+", "+n+", 0, 0, 1, "+a+", "+t+" H"+(r-a)+" A"+n+", "+n+", 0, 0, 1, "+(r-t)+", "+a+" V"+(o-a)+" A"+n+", "+n+", 0, 0, 1, "+(r-a)+", "+(o-t)+" H"+a+" A"+n+", "+n+", 0, 0, 1, "+t+", "+(o-a)+" Z"}function m(e){var t=e.w,n=e.h,r=e.insetBorderW,o=e.shadowBlur;return"M"+(r-o)+", "+(r-o)+" H"+(t+o-r)+" V"+(n+o-r)+" H"+(-o+r)+" Z"}function _(e){var t=e.w,n=e.h,r=e.r;return"M0, "+r+" A"+r+", "+r+", 0, 0, 1, "+r+", 0 H"+t+" V"+n+" H"+r+" A"+r+", "+r+", 0, 0, 1, 0, "+(n-r)+" Z"}function v(e){var t=e.x;return"M"+t+", 0 H"+(t-e.w)+" V"+e.h+" H"+t+" Z"}function b(e){var t=e.x,n=e.w,r=e.h,o=e.r;return"M"+t+" 0 H"+(n-o)+" A"+o+", "+o+", 0, 0, 1, "+n+", "+o+" V"+(r-o)+" A"+o+", "+o+", 0, 0, 1, "+(n-o)+" "+r+" H"+t+" Z"}Object.defineProperty(t,"__esModule",{value:!0}),t.drawRectPath=r,t.drawInsetRectBorderPath=o,t.drawInsetArcBorderPath=a,t.drawRectBorderPath=i,t.drawRowRectClipPath=s,t.drawArcLinePath=l,t.drawAdvanceArcLinePath=u,t.drawArcPath=c,t.drawAdvanceArcPath=d,t.drawInsetArcPath=f,t.drawAdvanceInnerShadowClipPath=p,t.drawAdvanceInnerShadowPath=h,t.drawArcInnerShadowClipPath=g,t.drawArcInnerShadowPath=y,t.drawRectInnerShadowPath=m,t.drawSegHeadPath=_,t.drawSegMiddlePath=v,t.drawSegLastPath=b,t["default"]={drawRectPath:r,drawRectBorderPath:i,drawRowRectClipPath:s,drawArcLinePath:l,drawAdvanceArcLinePath:u,drawArcPath:c,drawAdvanceArcPath:d,drawInsetArcPath:f,drawAdvanceInnerShadowClipPath:p,drawAdvanceInnerShadowPath:h,drawRectInnerShadowPath:m,drawArcInnerShadowClipPath:g,drawArcInnerShadowPath:y,drawInsetRectBorderPath:o,drawInsetArcBorderPath:a,drawSegHeadPath:_,drawSegMiddlePath:v,drawSegLastPath:b}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(36)),c=n(421),d=n(346),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){if(!d.hasStyleInCanvas({data:this.props.data,compName:"OuterShadowComp"}))return null;var e=this.props,t=e.shadow,n=e.data,r=n.width,o=n.height,i=n.radius,f=void 0===i?0:i,p=n.isMaxRadius,h=n.type,g=n.id,y=e.data,m=t.length?t[3]:0,_=t.length?t[2]:t,v=p?Math.min(r,o)/2:f,b=f.length&&!p?f:[v,v,v,v],w=b[0],C=b[1],x=b[2],S=b[3];return s["default"].createElement(l.Group,a({},u["default"].setOpacity(y),u["default"].setBaseShadow(r,o,_,v,m)),f.length&&!p?s["default"].createElement(l.Shape,a({},u["default"].setShadowProperty(t,_),{key:h+g+"realShadow",sceneFunc:function(e){var t=new Path2D(c.drawAdvanceArcPath({w:r,h:o,rTL:w,rTR:C,rBR:x,rBL:S,notClockwise:!1}));e._context.fill(t)}})):s["default"].createElement(l.Rect,a({},"table"!=h?a({},u["default"].setBorderMaxRadius(y)):{},u["default"].setShadowProperty(t,_),{width:r,height:o,x:0,y:0})))},t}(s["default"].Component);t.OuterShadowComp=f,t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(36)),c=n(421),d=n(346),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){if(!d.hasStyleInCanvas({data:this.props.data,compName:"InnerShadowComp"}))return null;var e=this.props,t=e.shadow,n=e.data,r=n.width,o=n.height,i=n.radius,f=void 0===i?0:i,p=n.isMaxRadius,h=n.insetBorder,g=e.data,y=t.length?t[2]:t,m=h?h[1]:0,_=p?Math.min(r,o)/2:f,v=f.length&&!p?f:[_,_,_,_],b=v[0],w=v[1],C=v[2],x=v[3],S=Math.abs(t[0]),P=Math.abs(t[1]),k=Math.max(S,P),O=k>2*Math.round(t[2])?k:t[2];return f.length&&!p?s["default"].createElement(l.Group,a({},u["default"].setOpacity(g),{clipFunc:function(e){e.arc(0,0,2*Math.max(r,o),0,2*Math.PI,!1);var t=new Path2D(c.drawAdvanceInnerShadowClipPath({w:r,h:o,insetBorderW:m,radiusTL:b,radiusTR:w,radiusBR:C,radiusBL:x}));e._context.clip(t)}}),s["default"].createElement(l.Shape,a({},u["default"].setShadowProperty(t,y),{sceneFunc:function(e){var t=m-y,n=y-m,a=new Path2D(c.drawAdvanceInnerShadowPath({xOffset:t-Math.round(O/2),rOffset:n+Math.round(O/2),w:r,h:o,insetBorderW:m,radiusTL:b,radiusTR:w,radiusBR:C,radiusBL:x,shadowBlur:y+Math.round(O/2)}));e._context.strokeStyle="rgba(0, 0, 0, 1)",e._context.lineWidth=2*y+Math.round(O),e._context.stroke(a)}}))):p||0!=f?m>=_?s["default"].createElement(l.Group,a({},u["default"].setOpacity(g),{clipFunc:function(e){e.arc(0,0,2*Math.max(r,o),0,2*Math.PI,!1);var t=new Path2D(c.drawArcPath({x:0+m,y:0+m,w:r-2*m,h:o-2*m,r:0}));e._context.clip(t)}}),s["default"].createElement(l.Shape,a({},u["default"].setShadowProperty(t,y),{sceneFunc:function(e){var t=new Path2D(c.drawRectInnerShadowPath({w:r,h:o,insetBorderW:m,shadowBlur:y+Math.round(O/2)}));e._context.strokeStyle="rgba(0, 0, 0, 1)",e._context.lineWidth=2*y+Math.round(O),e._context.stroke(t)}}))):s["default"].createElement(l.Group,a({},u["default"].setOpacity(g),{clipFunc:function(e){e.arc(0,0,2*Math.max(r,o),0,2*Math.PI,!1);var t=new Path2D(c.drawArcInnerShadowClipPath({w:r,h:o,radius:_,insetBorderW:m}));e._context.clip(t)}}),s["default"].createElement(l.Shape,a({},u["default"].setShadowProperty(t,y),{sceneFunc:function(e){var t=m-y,n=_-m+y,a=new Path2D(c.drawArcInnerShadowPath({xOffset:t-Math.round(O/2),rOffset:n+Math.round(O/2),w:r,h:o,radius:_}));e._context.strokeStyle="rgba(0, 0, 0, 1)",e._context.lineWidth=2*y+Math.round(O),e._context.stroke(a)}}))):s["default"].createElement(l.Group,a({},u["default"].setOpacity(g),{clipFunc:function(e){e.arc(0,0,2*Math.max(r,o),0,2*Math.PI,!1);var t=new Path2D(c.drawArcPath({x:0+m,y:0+m,w:r-2*m,h:o-2*m,r:_}));e._context.clip(t)}}),s["default"].createElement(l.Shape,a({},u["default"].setShadowProperty(t,y),{sceneFunc:function(e){var t=new Path2D(c.drawRectInnerShadowPath({w:r,h:o,insetBorderW:m,shadowBlur:y+Math.round(O/2)}));e._context.strokeStyle="rgba(0, 0, 0, 1)",e._context.lineWidth=2*y+Math.round(O),e._context.stroke(t)}})))},t}(s["default"].Component);t.InnerShadowComp=f,t["default"]=f},,function(e,t,n){try{var r=n(403)}catch(s){r=n(403)}var o=/\s+/,a=Object.prototype.toString;function i(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}e.exports=function(e){return new i(e)},i.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~r(t,e)||t.push(e),this.el.className=t.join(" "),this},i.prototype.remove=function(e){if("[object RegExp]"==a.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},i.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},i.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},i.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===e[0]&&e.shift(),e},i.prototype.has=i.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}},function(e,t,n){"use strict";var r,o;r=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*[A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿]"),o=new RegExp("^[^A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]"),e.exports=function(e){return e=e.toString(),o.test(e)?"rtl":r.test(e)?"ltr":"neutral"}},,function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var o,a,i={getPage:function(e,t){var n=void 0,r=void 0;return window.pages.every(function(t,o){return t.key!=e||(n=o,r=t,!1)}),t?r:n},getPageByName:function(e,t){var n=void 0,r=void 0;return window.pages.every(function(t){return t.name!=e||(n=t.key,r=t,!1)}),t?r:n},getPageContrs:function(e){return i.getPage(e,!0).contrsObj},getActivePage:function(e){var t=void 0,n=void 0;return window.pages.every(function(e,r){return!e.active||(t=r,n=e,!1)}),e?n:t},getActiveContrs:function(){return i.getActivePage(!0).contrsObj},getContrByAll:function(e,t,n){if((t=t||($.isUndefined(n)?i.getActiveContrs():i.getPageContrs(n)))[e])return t[e];for(var r in t){var o=t[r];if("wrapbox"==o.type){var a=i.getContrByAll(e,o.contrs,n);if(a)return a}else if("symbol"==o.type){var s=i.getSymbolChildContr(o.symbolKey),l=i.getContrByAll(e,s,n);if(l)return l}}},getSymbolChildContr:function(e,t){var n=window.symbolContrs.symbols[e];if(n&&n.hierarchy||log("警告：getSymbolChildContr"),t&&n&&n.hierarchy){var r=[];return n.hierarchy.forEach(function(e){r.push(window.symbolContrs.contrs[e])}),r}var o={};return n&&n.hierarchy&&n.hierarchy.forEach(function(e){o[e]=window.symbolContrs.contrs[e]}),o},hasStates:function(e){return e&&e.states&&$.objLength(e.states)>0},isUsedState:function(e){return e&&e.state&&!$.isUndefined(e.state.endState)},getStateIndex:function(e,t,n){if(i.hasStates(e)){if(n&&$.getContrId(e)==$.getContrId(n))return e.hoverState.hoverEndIndex;if(t&&$.getContrId(e)==$.getContrId(t))return e.state.startState;if(-1!=e.state.endState)return e.state.endState}},getContrState:function(e){return i.getAllValsContr({contrKey:e,getLastState:!0})},getSymbol:function(e){var t=window.symbolContrs.symbols[e];if(!t)return{};var n=t.hierarchy||[],r={};return n.forEach(function(e){r[e]=window.symbolContrs.contrs[e]}),{contrs:r,hierarchy:n,width:t.width,height:t.height}},getSymbolContrVals:function(e,t){var n=$.isObject(e)?$.getContrId(e):e,r=i.getContrByAll(n,!1,t);if(!r)return log("警告！快速修复脏数据报错问题"),{};var o=$.extend(!0,{},r);return $.extend(!0,o,i.getSymbol(r.symbolKey)),o},getAllValsContr:function(e){if($.isEmptyObj(e.contrKey))return e.contrKey;var t={contrKey:undefined,notCopy:undefined,type:"end",parentContrKey:undefined,parentStateIndex:undefined,breakContrKey:undefined,thisContrs:undefined,stateIndex:undefined,parentSaveContrVals:undefined,parentSaveContrId:undefined,getLastState:!1,symbolChild:undefined},n=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=e.parentContr,u=!1,c=!1,d=!1,f={};t=$.extend(t,e),$.isUndefined(t.parentStateIndex)||(l=i.getContrByAll(t.parentContrKey)),t.contrKey.id?(n=$.getContrId(t.contrKey),r="symbol"==t.contrKey.type?i.getSymbolContrVals(n,t.pageKey):t.contrKey):r="symbol"==(n=t.contrKey).split("_")[0]?i.getSymbolContrVals(n,t.pageKey):i.getContrByAll(n,t.thisContrs),o=t.notCopy?r:$.extend(!0,{},r);var p=i.getContrAllParent(r,!0,!1,t.thisContrs);if(p&&p.every(function(e){var r=$.getContrId(e);if(t.breakContrKey&&t.breakContrKey==r)return!1;if(i.hasStates(e)){var s=f[r],p=void 0,h=void 0;if(t.symbolChild&&t.symbolChild[r]&&!$.isUndefined(t.symbolChild[r].endState)&&(h=+t.symbolChild[r].endState),$.isUndefined(h))if(l&&t.parentContrKey!=n&&r==$.getContrId(l))$.isUndefined(s)?!$.isUndefined(t.parentStateIndex)&&e.states[t.parentStateIndex]&&(c||(c=!0),p=e.states[t.parentStateIndex]):p=e.states[t.parentStateIndex];else if($.isUndefined(s)){if(!c){var g=i.getStateIndex(e,l);!$.isUndefined(g)&&e.states[g]&&(c=!0,p=e.states[g])}}else p=e.states[s.isEndHover?s.hoverEndIndex:s.endState];else p=e.states[h];if(p){if(p.contrs[n]&&(t.getLastState&&p.contrs[n].state&&(a=p.contrs[n].state),u=!0,o=$.extend(!0,o,p.contrs[n]),t.parentSaveContrId))if(d)for(var y in p.contrs[n])$.isUndefined(t.parentSaveContrVals[y])||delete t.parentSaveContrVals[y];else r==t.parentSaveContrId&&(d=!0);for(var m in p.contrs)if(i.getContrByAll(m)){var _=p.contrs[m];m!=n&&"wrapbox"==m.split("_")[0]&&(f[m]=i.isUsedState(_)?_.state:i.getContrByAll(m).state)}else;}}return!0}),t.symbolChild&&t.symbolChild[n]&&!$.isUndefined(t.symbolChild[n].endState)&&(s=+t.symbolChild[n].endState),$.isUndefined(s)){if(n!=t.breakContrKey&&i.hasStates(o)){var h=t.parentContrKey==n?t.parentStateIndex:i.getStateIndex(o,l);if(!$.isUndefined(h)&&o.states[h]){var g=$.extend(!0,{},o.state);if(u=!0,t.parentSaveContrId&&t.parentSaveContrId!=n)for(var y in o.states[h].contrs[n])$.isUndefined(t.parentSaveContrVals[y])||delete t.parentSaveContrVals[y];(o=$.extend(!0,o,o.states[h].contrs[n])).state=g}}}else{var m=s;if(!$.isUndefined(m)&&r.states[m]&&r.states[m].contrs[n]){var _=$.extend(!0,{},o.state);u=!0,$.handleEventsData(o,r.states[m].contrs[n].events),(o=$.extend(!0,o,r.states[m].contrs[n])).state=_}}return u&&(o.getAllVal=!0),t.getLastState?a||r.state:u?o:r},getContrAllParent:function(e,t,n,r,o){if(r=r||i.getActiveContrs(),e&&r[$.getContrId(e)])return o||[];for(var a in r){var s=o?[].concat(o):[],l=r[a];if("wrapbox"==l.type||"symbol"==l.type&&l.contrs){n&&!i.hasStates(l)||s.push(t?l:$.getContrId(l));var u=i.getContrAllParent(e,t,n,l.contrs,s);if(u)return u}}},getStartEndContrs:function(e,t,n){return{start:i.getAllValsContr({contrKey:e,parentContrKey:t,parentStateIndex:n}),end:i.getAllValsContr({contrKey:e})}},changeState:function(e){var t=i.getContrState(e.contrId);window.pagesCache[e.pageIndex]||(window.pagesCache[e.pageIndex]=$.extend(!0,{},window.pages[e.pageIndex])),t.endState=e.state},initPageState:function(e){var t=window.pagesCache[e],n=void 0;t&&(t.hierarchy&&delete t.hierarchy,t.contrsObj&&delete t.contrsObj,(n=window.pages[e]=$.extend(!0,{},t)).active=!0,n.hierarchy=[],n.contrsObj={},n.contrs.forEach(function(e){var t=$.getContrId(e);n.hierarchy.push(t),n.contrsObj[t]=e}))}},s=i;t["default"]=s,(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(o.register(i,"DataHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/DataHandle.js"),o.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/DataHandle.js")),(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&a(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1));function a(e,t){var n,r;void 0===t&&(t=!1);var a=$.rotateToAngle(e.rotate);if(t)r={width:e.cutVals?e.cutVals.boxWidth:"100%",height:e.cutVals?e.cutVals.boxHeight:"100%"};else{var i=$.getCutBgImgPosi(e.cutVals||{},a,!0);r={left:i.left,top:i.top,width:e.cutVals&&!$.isUndefined(e.cutVals.boxWidth)?e.cutVals.boxWidth:e.width,height:e.cutVals&&!$.isUndefined(e.cutVals.boxHeight)?e.cutVals.boxHeight:e.height,WebkitFilter:$.getFilter(e.filter)}}if(e.layers&&!e.isSvg){var s=[];e.layers.forEach(function(e,t){s.push(o["default"].createElement("path",{d:e.path,key:e.type+t}))}),n=o["default"].createElement("div",{className:"cImg",style:r},o["default"].createElement("svg",{fill:e.hasBackColor?e.backColor:"rgba(0, 0, 0, 0)",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",version:"1.1"},s))}else!e.src||e.src&&-1!=e.src.indexOf("defaultImg")?(r.backgroundColor=e.hasBackColor?e.backColor:"#d9d9d9",n=o["default"].createElement("div",{className:"cImg default-img material-icons",style:r})):(r.backgroundImage="url("+(-1!=e.src.indexOf("userImages")||-1!=e.src.indexOf("static")||-1!=e.src.indexOf("images")?window.imgUrl:"")+e.src+")",e.isSvg&&e.svgToGray&&(e.filter?(e.filter.saturate=0,r.WebkitFilter=$.getFilter(e.filter)):r.WebkitFilter="saturate(0)"),n=o["default"].createElement("div",{className:"cImg",title:e.oriName,style:r}));return n}t.getImageNode=a,t["default"]={getImageNode:a}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(6)),i=r(n(81)),s=r(n(83)),l=r(n(27)),u=r(n(49)),c=r(n(78)),d=n(85),f=n(63),p=n(222),h=window.$;function g(e){var t=d.getStructAll(),n=h.extend(!0,{},a["default"].getSymbolContr()),r=h.extend(!0,{},l["default"].getAllLinkLine()),g=h.extend(!0,{},u["default"].getAllPageFlow()),y=h.extend(!0,{},p.getPrdData()),m={},_=o["default"].getPages(),v=o["default"].getView();t.forEach(function(t){if("page"===t.type){var n=t.key;m[n]={};var r=m[n],o=_[n];if(!o)return;r.top=o.top,r.left=o.left,r.name=o.name,r.guideLine=s["default"].getPageLineArr(o.key),r.note=i["default"].getNoteArr(o.key,!0),r.backColor=o.backColor,r.pageHeight=o.pageHeight,r.isLandscape=o.isLandscape,r.key=n,r.serverKey=o.serverKey,r.isShow=o.isShow,o.events&&(r.events=o.events),e&&e(t,n),r.pageContrs=f.getPageByHierarchy(n,!0),c["default"].removeInitVal(r.pageContrs,undefined,o.isLandscape)}});var b=h.extend(!0,{},v.versionSet);delete b.activeKey,m.projectSet={isGrid:v.isGrid,isRule:v.isRule,isGuide:v.isGuide,isHideHotspot:v.isHideHotspot,isHideOtherPage:v.isHideOtherPage,isHideNote:v.isHideNote,isShowName:v.isShowName,isShowPageGuide:v.isShowPageGuide,isShowLongPage:v.isShowLongPage,isShowPageNo:v.isShowPageNo,isHideEventTag:v.isHideEventTag,isHideAnimTag:v.isHideAnimTag,structHierarchy:v.structHierarchy,multiViewType:v.multiViewType,versionSet:b};var w=[],C=[];for(var x in n.contrs)w.push(n.contrs[x]);for(var x in c["default"].removeInitVal(w),n.symbols)C.push(n.symbols[x]);return c["default"].removeInitVal(C),m.symbolContrs=n,m.linkLines=r,m.pageFlows=g,m.prdData=y,m}function y(){var e=g(),t=o["default"].getProjectDataObj();for(var n in t.content={},e)t.content[n]=h.extend(!0,{},e[n])}t.getProjectData=g,t.setProjectData=y,t["default"]={getProjectData:g,setProjectData:y}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(12)),i=n(817);function s(e){window.noLogin?a["default"].show("用户未登录"):$.ajax("/page/getClipboardDate",{},function(t){var n=o["default"].getLocalPageClipboard();if(0==t.code){var r=function(){$.ajax("/page/getClipboard",{},function(t){0==t.code?i.addPageFromClipboard($.stringToObj(t.content),e):n.date&&i.addPageFromClipboard($.stringToObj(n.content),e,!0)})};if(n.date){var a=(new Date).getTime();Math.abs(a-new Date(t.date).getTime())<Math.abs(a-n.date.getTime())?r():i.addPageFromClipboard($.stringToObj(n.content),e,!0)}else r()}else n.date&&i.addPageFromClipboard($.stringToObj(n.content),e,!0)},undefined,function(){var t=o["default"].getLocalPageClipboard();t.date&&i.addPageFromClipboard($.stringToObj(t.content),e,!0)})}t.getPageFromClipboard=s,t["default"]={getPageFromClipboard:s}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(95)),a=r(n(397)),i=r(n(8)),s=n(69).EventEmitter,l=window.$,u={isShow:!1,left:0,top:0,content:[]};var c=o["default"]({},s.prototype,{getRightMenu:function(){return u},rightMenuUpdate:function(e){var t,n,r,o;n=(t=e).left,r=t.top,o=t.content,l.isUndefined(n)||(u.left=n),l.isUndefined(r)||(u.top=r),l.isUndefined(o)||(u.content=o),c.rightMenuShow(!0),c.emitChange()},rightMenuShow:function(e,t){u.isShow!=e&&(u.isShow=e,t&&c.emitChange())},getRightMenuShow:function(){return u.isShow},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});i["default"].register(function(e){switch(e.actionType){case a["default"].RIGHTMENU_UPDATE:c.rightMenuUpdate(e);break;case a["default"].RIGHTMENU_SHOW:c.rightMenuShow(e.isShow),c.emitChange()}}),t["default"]=c},,,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s={isShow:!1,imagePos:null,dragPos:null,elementId:null},l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getPrdImageCut=function(){return s},t.prototype.setPrdImageCut=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!1),s=a({},s,e),t||l.emitChange()},t.prototype.initImageCut=function(e){var t=e.imagePos,n=e.dragPos,r=e.elementId,o=e._noEmit,i=void 0!==o&&o;s=a({},s,{imagePos:t,dragPos:n,elementId:r,isShow:!0}),i||l.emitChange()},t.prototype.hideImageCut=function(e){var t=(void 0===e?{}:e)._noEmit;s={imagePos:null,dragPos:null,elementId:null,isShow:!1},void 0!==t&&t||l.emitChange()},t.prototype.changeDragPos=function(e){var t=e.dragPos,n=e._noEmit,r=void 0!==n&&n;s.dragPos=t,r||l.emitChange()},t.prototype.isShow=function(){return s.isShow},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));t["default"]=l},function(e,t,n){var r=n(102),o=n(254),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||i.test(e)||!a.test(e)||null!=t&&e in Object(t)}},,function(e,t,n){"use strict";(function(e){var r;function o(e){"null"==e&&(e=[]);var t=[e[0]||1,e[1]||0,e[2]||0,e[3]||1,e[4]||0,e[5]||0];return t.getAngle=function(){return Math.atan2(this[1],this[0])},t.concat=function(e){return o([this[0]*e[0]+this[2]*e[1],this[1]*e[0]+this[3]*e[1],this[0]*e[2]+this[2]*e[3],this[1]*e[2]+this[3]*e[3],this[0]*e[4]+this[2]*e[5]+this[4],this[1]*e[4]+this[3]*e[5]+this[5]])},t.rotate=function(e,t){return this.concat(o.rotate(e,t))},t.setRotation=function(e,t){return this.rotate(e-this.getAngle(),t)},t.scale=function(e,t,n){return this.concat(o.scale(e,t,n))},t.translate=function(e,t){return this.concat(o.translate(e,t))},t.toCSSTransform=function(){return"matrix("+this.join(", ")+")"},t}Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e),o.rotate=function(e,t){var n=o([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]);return t&&(n=o.translate(t[0],t[1]).concat(n).concat(o.translate(-t[0],-t[1]))),n},o.scale=function(e,t,n){var r=o([e,0,0,t=t||e,0,0]);return n&&(r=o.translate(n[0],n[1]).concat(r).concat(o.translate(-n[0],-n[1]))),r},o.translate=function(e,t){return o([1,0,0,1,e,t])};var a,i,s=o;t["default"]=s,(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(a.register(o,"Matrix","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/Matrix.js"),a.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/Matrix.js")),(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&i(e)}).call(this,n(7)(e))},function(e,t,n){n(442);var r=n(121).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(540),o=n(355).f;n(439)("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(5)),i=r(n(24)),s=r(n(32)),l=r(n(94)),u=r(n(10)),c=n(819),d=window.$;function f(e,t,r){var u,f,p,h,g,y=o["default"].getSymbolContr(),m=o["default"].getContrs(),_=o["default"].getSelectContrFunc(),v=i["default"].getMergeBoxShow(),b=s["default"].getSymbolMask(),w=r||(v?i["default"].getContrs():b.isShow?y.contrs:m),C=t||_;if((v||r)&&(u=d.query(".wrapBox.openNow:not(.isStartState)"))&&(f=u.getAttribute("data-id"),p=o["default"].getContrByAll(f),(h=d.isEditState(p))&&(g=d.getThisStateIndex(p))),C.forEach(function(t){var l,u=d.hasStates(w[t]);if(h&&(l=d.getIsNotOnlyExistInState(p,t,g))&&o["default"].contrUpdate(t,{isDelete:!0},undefined,!0),!h||h&&!l){if(v||r){var f=w[t]||o["default"].getContrByAll(t),m=o["default"].getContrAllParent(f,!0,!0)||[];(p=p||i["default"].getThisContr()).hierarchy.remove(t),m.forEach(function(e){e.states&&d.removeStatesThisContrAll(e.states,t,f)})}else if(b.isShow){var _=y.symbols[s["default"].getSymbolMaskContr().symbolKey].hierarchy;_&&_.remove(t)}else a["default"].pageRemoveContr(w[t].interfaceId,w[t].type+"_"+w[t].id);if(c.deleteContrRelationLines({contrKey:t}),delete o["default"].getAllContrs()[t],delete w[t],o["default"].initAllValsContrs(),u&&!e)n(151)["default"].deleteRelativedActions({type:"deleteContr",targetId:t})}}),!t)if(i["default"].getIsWrapEdit()){var x=d.getContrId(i["default"].getThisContr());o["default"].setSelectContr([x]),o["default"].changeRightLabel([x]),l["default"].change([{tabType:"box",isFold:!1,rename:"集合框体"},{tabType:"wrapBox",isFold:!0},{tabType:"event"},{tabType:"struct"},{tabType:"note"}])}else o["default"].setSelectContr([]),o["default"].changeRightLabel([])}function p(e){f(e)}function h(){var e=o["default"].getSelectContr(),t=e.length>1?"多元素":e[0].name,n=e.length>1?"mutiContr":e[0].type,r=!1;e.some(function(e){return"symbol"==e.type&&(r=!0,!0)}),p(),o["default"].emitChange(),u["default"].createData({type:"contrDeleteSelect",name:"["+t+"] 删除",handleObjType:n,autoSaveType:"pageContrs",isSymbolChange:r})}t.deleteContr=f,t.deleteSelectContr=p,t.deleteSelectContrAction=h,t["default"]={deleteContr:f,deleteSelectContr:p,deleteSelectContrAction:h}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(27));function i(){if(o["default"].isMultiView()){var e=$(".page-idx-input");e.blur(),e.length>0&&a["default"].setPageInput({})}}t.hidePageIdxInput=i,t["default"]={hidePageIdxInput:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(458)),a=r(n(495)),i=r(n(6)),s=r(n(10)),l=r(n(146)),u=r(n(23)),c=r(n(496)),d=r(n(589)),f=r(n(5)),p=r(n(446));function h(){if(o["default"].isShow()){if(o["default"].getColorIsChange()){var e=window.localStorage.colorSaveArr?$.stringToObj(window.localStorage.colorSaveArr):null,t=o["default"].getColorPicker(),n=t.hsba,r={h:(+n.h).toFixed(2),s:(+n.s).toFixed(2),b:(+n.b).toFixed(2),a:(+n.a).toFixed(2)};if(e&&$.isArray(e)){var a=!1,i=null,l=$.objToString(r);if(e.every(function(e,t){return $.objToString(e)!=l||(a=!0,i=t,!1)}),a){var u=e[i];e.splice(i,1),e.unshift(u)}else e.length>8&&(e.length=8),e.unshift(r);window.localStorage.colorSaveArr=$.objToString(e)}else window.localStorage.colorSaveArr=$.objToString([r]);var c=t.name,d=t.handleObjType,f=t.type;s["default"].createData({name:c,handleObjType:d,type:f,autoSaveType:"pageBackColorChange"==f?"pageVals":"pageContrs"})}o["default"].hide()}}function g(){if(a["default"].getIsShow()){var e=!1,t=a["default"].getOldShadow();if(t){var n=a["default"].getShadowVal();if(t.some(function(t,r){return t!=n[r]&&(e=!0,!0)}),e){var r=i["default"].getSelect();s["default"].createData({type:"shadowChange",name:(r.length>1?"多个组件":"单个组件")+"阴影修改",handleObjType:1===r.length?r[0].split("_")[0]:"mutiContr",autoSaveType:"pageContrs"})}}p["default"].hideShadow()}}function y(){c["default"].hideDistance()}function m(){l["default"].setCursor("base"),$("#phoneConWrapBox, #bottomPanel, #leftPanel, header, #rightPanel, #interfaceSetBox, .colorPickerMask, .distance-container, .pc-scroll-box, .canvas-container").removeClass("invisible"),$("#allPanel").removeClass("colorPicker"),u["default"].emitChange(),f["default"].emitPagesChange()}function _(){if(d["default"].getIsShow()){var e=!1,t=d["default"].getBorderRadius(),n=d["default"].getOldBorderRadius();if(n){if($.isArray(n)?n.some(function(n,r){return n!=t[r]&&(e=!0,!0)}):n!=t&&(e=!0),e){var r=i["default"].getSelect();s["default"].createData({type:"borderRadiusChange",name:(r.length>1?"多个组件":"单个组件")+"阴影修改",handleObjType:1===r.length?r[0].split("_")[0]:"mutiContr",autoSaveType:"pageContrs"})}d["default"].hideBorderRadius()}}}function v(){h(),g(),y(),_()}t.hideColorPicker=h,t.hideShadow=g,t.hideDistance=y,t.hideColorPickerGlass=m,t.hideBorderRadiusSet=_,t.hideAllPopup=v,t["default"]={hideColorPicker:h,hideShadow:g,hideColorPickerGlass:m,hideDistance:y,hideAllPopup:v,hideBorderRadiusSet:_}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=n(413),i=new(function(){function e(){this.ShadowActionID=a.ShadowActionID}return e.prototype.setShadowX=function(e){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_X,shadowX:e})},e.prototype.setShadowY=function(e){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_Y,shadowY:e})},e.prototype.initShadow=function(e){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_INIT,option:e})},e.prototype.hideShadow=function(){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_HIDE})},e.prototype.setShadowBlur=function(e){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_BLUR,shadowBlur:e})},e.prototype.setShadowSpread=function(e){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_SPREAD,shadowSpread:e})},e.prototype.setShadowColor=function(e){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_COLOR,shadowColor:e})},e.prototype.setIsInset=function(e){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_INSET,isInset:e})},e.prototype.setIsLock=function(e){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_LOCK,isLock:e})},e.prototype.setNoShadow=function(){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_NOSHADOW})},e.prototype.setNormalShadow=function(){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_NORMALSHADOW})},e.prototype.setSinkShadow=function(){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_SINKSHADOW})},e.prototype.setFloatShadow=function(){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_FLOATSHADOW})},e.prototype.setEmbedShadow=function(){o["default"].dispatch({actionType:a.ShadowActionID.SHADOW_EMBEDSHADOW})},e}());t["default"]=i},,,,function(e,t,n){var r=n(236),o=n(573),a=n(574),i=n(575),s=n(576),l=n(577);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype["delete"]=a,u.prototype.get=i,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(29)),a=r(n(437)),i=r(n(10)),s=n(26),l=n(326),u=n(118);function c(){var e=s.findSelectElement()[0],t=e.id,n=e.x,r=e.y,i=e.width,u=e.height,c=e.src,d=e.cutVals,f=void 0===d?{}:d,p=f.left,h=f.top,g=f.boxWidth,y=f.boxHeight;c&&(a["default"].initImageCut({elementId:t,imagePos:{x:n,y:r,width:g||i,height:y||u},dragPos:{x:p||0,y:h||0,width:i,height:u}}),g&&o["default"].updateValById({id:t,updateVal:{x:n-p,y:r-h,width:g,height:y}}),l.changeEditById({id:t}))}t.clipImageFunc=c,t.saveImageCutVals=function(){if(a["default"].isShow()){var e=s.findSelectElement()[0],t=(e.id,e.x),n=e.y,r=a["default"].getPrdImageCut(),o=r.dragPos,l=o.x,c=o.y,d=o.width,f=o.height,p=r.imagePos,h=p.width,g=p.height;u.fixElementPosVal({changeVal:{x:t+l,y:n+c,width:d,height:f,cutVals:{left:l,top:c,width:d,height:f,boxWidth:h,boxHeight:g}},noEmit:!0,element:e}),i["default"].createData({type:"saveImageCutVals",name:"PRD 保存图片裁剪信息",autoSaveType:"prd"}),a["default"].hideImageCut()}},t["default"]={clipImageFunc:c}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(19)),i=900;function s(e){var t=e.oriWidth,n=e.fixElementPosOverSize,r=e.fixElementPosinSize,s=e.type,l=!1;return t>i?a["default"].init({width:520,title:"原始大小",cancelBtnName:"关闭",submitBtnName:"确定",content:o["default"].createElement("div",{className:"popup-content"},o["default"].createElement("span",null,s+"原始大小超出编辑页范围，将按照最佳尺寸调整。")),submitBtnFunc:function(){l=!0,n(),a["default"].hide()},cancelBtnFunc:function(){a["default"].hide()},closeBtnFunc:function(){a["default"].hide()}}):(l=!0,r()),l}t.OriginSizeOverToast=s,t["default"]={OriginSizeOverToast:s}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(759)),a=r(n(798)),i=r(n(799)),s=r(n(800)),l=r(n(802)),u=r(n(803)),c=r(n(804)),d=r(n(805)),f=r(n(806)),p=r(n(807)),h=r(n(808)),g=r(n(809)),y=r(n(810)),m=r(n(811)),_=new(function(){function e(){}return e.prototype.getContr=function(e){var t;switch(e){case"miniBar":t=a["default"];break;case"bar":t=l["default"];break;case"horizontalBar":t=c["default"];break;case"miniArea":t=o["default"];break;case"lineChart":t=u["default"];break;case"timelineChart":t=m["default"];break;case"miniProgress":t=i["default"];break;case"progressCircle":t=s["default"];break;case"circle":t=d["default"];break;case"miniCircle":t=f["default"];break;case"pie":t=p["default"];break;case"gauge":t=g["default"];break;case"radar":t=h["default"];break;case"waterWave":t=y["default"]}return t},e}());t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=i},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(394));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={create:function(e){o["default"].dispatch({actionType:a["default"].EVENT_CREATE,options:e})},edit:function(e){o["default"].dispatch({actionType:a["default"].EVENT_EDIT,options:e})},changeType:function(e,t){o["default"].dispatch({actionType:a["default"].EVENT_CHANGETYPE,eventId:e,type:t})},"delete":function(e){o["default"].dispatch({actionType:a["default"].EVENT_DELETE,options:e})},useOrigin:function(e){o["default"].dispatch({actionType:a["default"].EVENT_USEORIGIN,options:e})},deleteAction:function(e){o["default"].dispatch({actionType:a["default"].EVENT_DELETEACTION,options:e})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"EventActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/EventActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/EventActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(42));function i(e,t){var n=t||{x:0,y:0},r=e.attrs.name;if(r&&-1!=r.indexOf("page")){var s=window.isPrototypeTool?o["default"].getZoom():a["default"].getMultiZoom()*window.ss,l=e.getAbsolutePosition();return{x:l.x+n.x*s,y:l.y+n.y*s}}var u=e.getParent();return n.x+=e.x(),n.y+=e.y(),i(u,n)}t.getContrAbsolutePos=i,t["default"]={getContrAbsolutePos:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(24)),i=r(n(32)),s=r(n(5)),l=r(n(10)),u=n(396),c=n(61),d=window.$;function f(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=a["default"].getMergeBoxShow(),f=r?a["default"].getThisContr():null,p=i["default"].getSymbolMask().isShow;if(!f&&p)o["default"].addSymbolContr(e);else{var h=o["default"].getContrs();(r?a["default"].getContrs():h)[d.getContrId(e)]=e,p||n||(e.interfaceId=s["default"].getActivePage()),e.mergeName=f?f.type+"_"+f.id:null}o["default"].selectChangeFunc([e.type+"_"+e.id]),window.userKey&&d.addUserKeyToContr(e),a["default"].getMergeBoxShow()?a["default"].hierarchyAddContr(e.type+"_"+e.id):p||n||s["default"].pageAddContr(e.interfaceId,e.type+"_"+e.id),u.createInStateWrap(),o["default"].initCache(),o["default"].emitChange(),t||(l["default"].createData({type:"createContr",name:"["+e.name+"] 创建",handleObjType:e.type,autoSaveType:"pageContrs",isSymbolChange:"symbol"==e.type}),"symbol"==e.type&&c.setAutoSaveChangePages("changeSymbol",undefined,!0))}t.createContr=f,t["default"]={createContr:f}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(391)),s=a(n(8)),l=n(9),u=n(96),c={hsba:{h:0,s:0,b:0,a:100},posi:[0,0],callback:$.noop,isShow:!1,oldColor:null,target:null};var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getColorPicker=function(){return c},t.prototype.getColorIsChange=function(){var e=c.hsba;return e.h!=c.oldColor.h||e.s!=c.oldColor.s||e.b!=c.oldColor.b||e.a!=c.oldColor.a},t.prototype.changePosi=function(){var e=$.offset(c.target,!0),t=window.localStorage.userColorSaveArr?$.stringToObj(window.localStorage.userColorSaveArr):null,n=e.top+e.height/2,r=t&&t.length>7?420:397,o=n-r/2,a=n+r/2;o<45?o=e.top:a>window.document.body.clientHeight&&(o=e.top-r+e.height),c=$.extend(c,{posi:[c.posi[0],o]}),f.emitChange()},t.prototype.isShow=function(){return c.isShow},t.prototype.hide=function(){c.isShow&&(c.isShow=!1,f.emitChange())},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(l.EventEmitter);s["default"].register(function(e){switch(e.actionType){case i["default"].COLORPICKER_INIT:!function(e){e=$.extend({hsba:{h:0,s:0,b:0,a:100},target:null,isLeft:!0,isBottom:!0,callback:$.noop},e),c.oldColor=$.extend({},e.hsba);var t=$.getOffsetPosi(e.target),n=$.offset(e.target,!0),r=window.localStorage.userColorSaveArr?$.stringToObj(window.localStorage.userColorSaveArr):null,o=n.top+n.height/2,a=r&&r.length>7?420:397,i=o-a/2,s=o+a/2,l=window.document.querySelector(".rightBox"),u=l?[l.scrollLeft,l.scrollTop]:[0,0];i<45?i=n.top:s>window.document.body.clientHeight&&(i=n.top-a+n.height),c=$.extend(c,{hsba:e.hsba,target:e.target,isShow:!0,callback:e.callback,name:e.name,handleObjType:e.handleObjType,type:e.type,posi:[(e.isLeft?t[0]+e.target.offsetWidth-290:t[0]-2)-u[0],i]})}(e.option),f.emitChange();break;case i["default"].COLORPICKER_CHANGE:t=e.hsba,c.hsba=t,f.emitChange();break;case i["default"].COLORPICKER_CHANGEONE:!function(e,t){var n,r=u.HSBToRGB({h:c.hsba.h,s:c.hsba.s,b:c.hsba.b});switch(t){case"RGBr":n=u.RGBToHSB({r:e,g:r.g,b:r.b}),c.hsba.h=n.h,c.hsba.s=n.s,c.hsba.b=n.b;break;case"RGBg":n=u.RGBToHSB({r:r.r,g:e,b:r.b}),c.hsba.h=n.h,c.hsba.s=n.s,c.hsba.b=n.b;break;case"RGBb":n=u.RGBToHSB({r:r.r,g:r.g,b:e}),c.hsba.h=n.h,c.hsba.s=n.s,c.hsba.b=n.b;break;case"RGBa":c.hsba.a=e;break;case"HSBh":c.hsba.h=e;break;case"HSBs":c.hsba.s=e;break;case"HSBb":c.hsba.b=e}}(e.val,e.type),f.emitChange()}var t});var f=new d;t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i={user:{},choosePage:{}},s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setCooperationUser=function(e,t){var n={},r={};e.list.forEach(function(e){n[e.id]=$.extend(!0,{},e),i.choosePage[e.id]?r[e.id]=i.choosePage[e.id]:e.id!=window.loginInfo.userId&&(r[e.id]={pageKey:e.pageIndexKey,socketId:e.socketId})}),i.choosePage=r,i.user=n,t||s.emitChoosePageChange()},t.prototype.setChoosePage=function(e,t){i.choosePage[e.userId]={pageKey:e.pageKey,socketId:e.socketId},t||s.emitChoosePageChange()},t.prototype.getChoosePageUser=function(){var e={};for(var t in i.choosePage)if(t!=window.loginInfo.userId){var n=i.choosePage[t];e[n.pageKey]||(e[n.pageKey]=[]),i.user[t]&&e[n.pageKey].push(i.user[t])}return e},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitChoosePageChange=function(){this.emit("change")},t.prototype.addChoosePageChangeListener=function(e){this.on("change",e)},t.prototype.removeChoosePageChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=s},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(95),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=n(69).EventEmitter,c={createUser:{},userList:[],lastUserList:[],emailArrList:[],searchData:{},initData:{},userNum:1},d=(0,i["default"])({},u.prototype,{setCooperationUserNum:function(e,t,n){t?(c.userNum+=e,n&&n()):c.userNum!=e&&(c.userNum=e,n&&n())},getCooperationUserNum:function(){return c.userNum},setInitCooperation:function(e){c.initData=e},getInitCooperation:function(){return c.initData},getCooperationUser:function(){return c},setCooperationCreateUser:function(e){c.createUser=e},getCooperationCreateUser:function(){return c.createUser},setCooperationEmailArrList:function(e){c.emailArrList=e},getCooperationEmailArrList:function(){return c.emailArrList},setCooperationUserList:function(e){c.userList=e},getCooperationUserList:function(){return c.userList},setCooperationLastUserList:function(e){c.lastUserList=e},getCooperationLastUserList:function(){return c.lastUserList},getAllCooperationUserList:function(){var e={};return c.lastUserList.forEach(function(t){e[t._id]=$.extend(!0,{},t)}),c.userList.forEach(function(t){e[t._id]=$.extend(!0,{cooperationUser:!0},t)}),c.createUser._id&&(e[c.createUser._id]=$.extend(!0,{createUser:!0},c.createUser)),e},setSearchUser:function(e,t){c.searchData.text=e,c.searchData.userList=t},getSearchUser:function(){return c.searchData.userList||[]},getSearchText:function(){return c.searchData.text},removeCooperation:function(e,t){var n=-1;t?c.emailArrList.remove(e):(c.userList.some(function(t,r){return t._id==e&&(n=r,!0)}),-1!==n&&c.userList.splice(n,1))},addCooperation:function(e,t,n){var r=!1;n?c.emailArrList&&-1==c.emailArrList.indexOf(e)&&c.emailArrList.push(e):(c.userList.some(function(t){return t._id==e&&(r=!0,!0)}),r||c.userList.unshift(t))}}),f=d;t["default"]=f,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/CooperationStore.js"),s.register(c,"CooperationUser","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/CooperationStore.js"),s.register(d,"CooperationStore","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/CooperationStore.js"),s.register(f,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/CooperationStore.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";for(var r=n(140),o=n(344),a=n(840),i=n(263),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1;function u(){i.call(this,"utf-8 decode"),this.leftOver=null}function c(){i.call(this,"utf-8 encode")}t.utf8encode=function(e){return o.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,r,a,i,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=o.uint8array?new Uint8Array(l):new Array(l),i=0,a=0;i<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t}(e)},t.utf8decode=function(e){return o.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,o,a,i=e.length,l=new Array(2*i);for(n=0,t=0;t<i;)if((o=e[t++])<128)l[n++]=o;else if((a=s[o])>4)l[n++]=65533,t+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&t<i;)o=o<<6|63&e[t++],a--;a>1?l[n++]=65533:o<65536?l[n++]=o:(o-=65536,l[n++]=55296|o>>10&1023,l[n++]=56320|1023&o)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(o.uint8array?"uint8array":"array",e))},r.inherits(u,i),u.prototype.processChunk=function(e){var n=r.transformTo(o.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var a=n;(n=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),n.set(a,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var i=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}(n),l=n;i!==n.length&&(o.uint8array?(l=n.subarray(0,i),this.leftOver=n.subarray(i,n.length)):(l=n.slice(0,i),this.leftOver=n.slice(i,n.length))),this.push({data:t.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=u,r.inherits(c,i),c.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=c},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(1)),u=n(28),c=n(421),d=s(n(36)),f=n(346),p=window.$,h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props.radius,n=p.isArray(t)?[t,t,t,t]:t,r=n[0],o=n[1],a=n[2],i=n[3],s=p.isArray(e.radius)?[e.radius,e.radius,e.radius,e.radius]:e.radius,l=s[0],u=s[1],c=s[2],d=s[3];return this.props.width!=e.width||this.props.height!=e.height||this.props.type!=e.type||this.props.id!=e.id||this.props.radius!=e.radius||r!=l||o!=u||a!=c||i!=d||this.props.isMaxRadius!=e.isMaxRadius||this.props.borderColor!=e.borderColor||this.props.borderSize!=e.borderSize||this.props.borderType!=e.borderType},t.prototype.render=function(){if(!f.hasStyleInCanvas({data:this.props.data,compName:"OuterBorderComp"}))return null;var e=this.props,t=e.width,n=e.height,r=e.type,o=e.id,i=e.radius,s=e.isMaxRadius,h=e.borderColor,g=e.borderSize,y=e.borderType,m=void 0===y?0:y,_=0==g?0:Math.round(g),v=s?Math.min(t,n)/2:i,b=p.isArray(i)&&!s,w=s?Math.min(t,n)/2:i;return 0!=_?[l["default"].createElement(u.Group,a({},b?a({},d["default"].setRadiusClip(t,n,i,s,h,g)):{},{key:r+o+"fakeBorder"}),l["default"].createElement(u.Rect,{width:t+2*_,height:n+2*_,x:-_,y:-_,cornerRadius:b?0:w,fill:"red",opacity:0})),0!=g?p.isArray(i)&&!s?l["default"].createElement(u.Shape,a({},d["default"].setBorderClip(t,n,i,s,g,h),d["default"].setBorderType(h,g,m),{key:r+o+"realBorder"},1==m?{dash:[g>2?2*g:3*g,g],lineCap:"butt"}:{},2==m?{dash:[g/1e3,2*g,.001,2*g],lineCap:"round"}:{},{lineCap:"butt"})):i>=0||s?l["default"].createElement(u.Path,a({key:r+o+"realBorder",data:0!=i||s?c.drawArcPath({w:t,h:n,r:v,borderWidth:g/2}):c.drawRectBorderPath({w:t,h:n,borderSize:g/2}),stroke:h,strokeWidth:g},1==m?{dash:[g>2?2*g:3*g,g],lineCap:"butt"}:{},2==m?{dash:[g/1e3,2*g,.001,2*g],lineCap:"round"}:{})):undefined:undefined]:null},t}(l.Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=n(1320),l=n(944),u={page:s.getStatic("page"),otherViewSize:{ovLeft:296,ovRight:232,ovTop:68,ovBottom:0},stage:null,setObj:{hideRuler:!1,hideLayerPanel:!1,showAll:!1},hierarchy:[]},c=window,d=c.$,f=c.innerWidth,p=c.innerHeight,h=l.getZoomArr(),g=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.changePostion=function(e){void 0===e&&(e={});var t=e.noEmit,n=void 0!==t&&t,r=a(e,["noEmit"]);d.extend(!0,u.page.position,r),n||g.emitChange()},t.prototype.setStage=function(e){u.stage=e},t.prototype.setSetObj=function(e){d.extend(!0,u.setObj,e),g.emitChange()},t.prototype.getSetObj=function(){return u.setObj},t.prototype.getStage=function(){return u.stage},t.prototype.pushPage=function(e,t){d.isUndefined(t)?u.hierarchy.push(e):u.hierarchy.splice(t+1,0,e),g.emitChange()},t.prototype.getAllPage=function(){return u.hierarchy},t.prototype.getViewSize=function(e){void 0===e&&(e=!1);var t=u.setObj,n=t.showAll,r=t.hideRuler,o=t.hideLayerPanel,a=d.extend(!0,{},u.otherViewSize);return n&&!e?{ovLeft:0,ovRight:0,ovTop:0,ovBottom:0}:(o&&(a.ovLeft=20),r&&(a.ovLeft-=20,a.ovTop-=20),a)},t.prototype.getRulerSize=function(){return u.setObj.hideRuler?0:20},t.prototype.mainViewWH=function(){var e=g.getViewSize(),t=e.ovLeft,n=e.ovRight,r=e.ovTop,o=e.ovBottom;return{width:f-(t+n),height:p-(r+o)}},t.prototype.setPage=function(e){e!=u.page&&(u.page=e,g.emitChange())},t.prototype.changeViewSize=function(e){var t=e.noEmit,n=void 0!==t&&t,r=a(e,["noEmit"]);d.extend(!0,u.otherViewSize,r),n||g.emitChange()},t.prototype.getPage=function(){return u.page},t.prototype.getMain=function(){return u},t.prototype.getZoom=function(){return u.page.zoom},t.prototype.zoomIn=function(e,t){var n=u.page.zoom,r=Math.min(2*n,256);u.page.zoom=r,g.setAfterZoomPosi(n,r,e,t)},t.prototype.zoomOut=function(e,t){var n=u.page.zoom,r=Math.max(n/2,.02);u.page.zoom=r,g.setAfterZoomPosi(n,r,e,t)},t.prototype.zoomByKey=function(e){var t=h.indexOf(e);-1!==t&&(u.page.zoom=h[t],g.emitChange())},t.prototype.changeZoom=function(e,t,n){g.setAfterZoomPosi(u.page.zoom,e,t,n),u.page.zoom=e,g.emitChange()},t.prototype.setFitZoom=function(e,t){u.page.zoom=e,g.changePostion(t)},t.prototype.getMainPos=function(){return u.page.position},t.prototype.getMainBasePos=function(e){var t=u.page.position,n=t.x,r=t.y,o=g.getViewSize();return{x:o.ovLeft+n*e,y:o.ovTop+r*e}},t.prototype.setAfterZoomPosi=function(e,t,n,r){var o=u.page.position,a=o.x,i=o.y,s=g.mainViewWH(),l=s.width,c=s.height/2,d=n?l/2:r.x,f=n?c:r.y,p={x:a-((t-1)*d/t-(e-1)*d/e),y:i-((t-1)*f/t-(e-1)*f/e)};this.changePostion(p)},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));t["default"]=g},,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(64)),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t=this.props,n=t.contr,r=n.value,o=n.btnWidthHeight,i=n.btnBackground,l=n.btnBorder,u=n.btnBorderColor,c=n.lineHeight,d=n.lineColor,f=n.lineSelectColor,p=t.changeFunc,h={};p?(h.value=r,h.onChange=p("change"),h.onAfterChange=p("afterChange")):h.defaultValue=r;var g=e.Slider;return s["default"].createElement(g,a({},{style:{height:c}},h,{min:0,max:100,handleStyle:{background:i||"transparent",width:o,height:o,top:c/2,border:"solid "+Math.round(l)+"px "+u},trackStyle:{background:f,height:c},railStyle:{height:c,background:d}}))},t}(s["default"].Component);t.SliderMBaseContrComp=u,t["default"]=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(64)),f=window,p=f.$,h=f.isPrototypeTool,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={checked:undefined,antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;d["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype._handleChangeFunc=function(e){this.setState({checked:e})},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t,n,r,o,i,s,l=this.props,c=l.changeFunc,d=l.contr,f=d.typeIndex,g=d.checked,y=d.disabled,m=d.themeColor,_=d.btnColor,v=d.background,b=d.width,w=d.height,C=this.state.checked,x=Math.ceil(Math.min(b,w)/2);switch(f){case 1:r={background:v,borderRadius:x},o={boxShadow:"0 0 0 "+x+"px "+m+" inset",border:"1px solid "+m},s={transform:"translate("+(b-(i={width:w-2*(n=2),height:w-2*n,background:_}).width-n)+"px)"};break;case 2:t="android",r={background:v},o={background:m},s={transform:"translate("+(b-(i={width:b/2-(n=1),height:w-2*n,background:_}).width-2*n)+"px)"};break;case 3:t="md",r={background:v,borderRadius:x},o={background:p.setColorOpacity(m,".6")},i={width:w,height:w,background:_},s={transform:"translate("+(b-w)+"px)",background:m};break;case 4:t="web",r={background:v,borderRadius:x},o={background:m},s={transform:"translate("+(b-(i={width:w-2*(n=2),height:w-2*n,background:_}).width-2*n)+"px)"}}var S={};h?S.checked=g:(S.checked=p.isUndefined(C)?g:C,c=this._handleChangeFunc);var P=e.Switch;return u["default"].createElement(P,a({disabled:y,onClick:c,style:{width:b,height:w},boxStyle:r,activeBoxStyle:o,btnStyle:i,activeBtnStyle:s,platform:t||null},S))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleChangeFunc",null),t}(u["default"].Component);t.SwitchMContrComp=g,t["default"]=g},function(e,t,n){var r=n(580),o=n(279),a=n(282),i=a&&a.isTypedArray,s=i?o(i):r;e.exports=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=window.$,s={lastSaveDate:(new Date).getTime()-48e4,hasChangeData:!1},l=[],u=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setData=function(e){s=i.extend(!0,s,e)},t.prototype.changeData=function(){s.hasChangeData=!0},t.prototype.getData=function(){return s},t.prototype.setListData=function(e){l=e,u.emitChange()},t.prototype.getListData=function(){return l},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(49)),a=r(n(10)),i=n(87);function s(e){l(e,"为流程 ["+o["default"].getSelectPageFlow().title+"] 添加页面")}function l(e,t){void 0===t&&(t="");var n=t||"";""==t&&(n="修改流程 ["+o["default"].getSelectPageFlow().title+"] 页面");o["default"].updateSelectPageFlowData({updateVal:e}),i.pageEmitChange(),a["default"].createData({type:"pageFlowAddPage",name:n})}t.pageFlowAddPage=s,t.pageFlowChangePage=l,t["default"]={pageFlowAddPage:s,pageFlowChangePage:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(146)),a=r(n(23)),i=r(n(260)),s=r(n(51)),l=r(n(48)),u=n(96);function c(e){if("color-picker"==o["default"].getCursor()){var t=a["default"].getStage();t=t.getStage(),i["default"].init(t,l["default"].getCurPos(),s["default"].getZoom()/100);var n=i["default"].getColorPickerGlass().canvas.getContext("2d").getImageData(e.clientX-1,e.clientY-1,1,1).data;i["default"].setColorPickerGlass({x:e.clientX,y:e.clientY,color:"0000"==n.join("")?"rgba(44, 44, 49, 100)":u.transform2rgba(n)})}}t.changeColorPicker=c,t["default"]={changeColorPicker:c}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a,i,s,l=o(n(433)),u=o(n(821)),c=o(n(76)),d=o(n(5)),f=o(n(48)),p=o(n(146)),h=o(n(473)),g=o(n(23)),y=o(n(315)),m=o(n(27)),_=o(n(260)),v=o(n(822)),b=o(n(474)),w=o(n(101)),C=o(n(494)),x=n(823),S=n(216),P=n(359),k=n(445),O=null,E=[];function T(e){var t=e.scrollFunc,n=e.posVal,o=e.event;S.posChange(r({transition:!1,autoOff:!0},n));var a=y["default"].getAutoMoveFunc();return a&&a(o),window.requestAnimationFrame(t)}function M(){var e=f["default"].getPageMoveDspl(),t=e.pageMoveDspl,n=e.pageOldPosi,r=f["default"].getDspl();0===E.length&&(d["default"].getPageSelect().forEach(function(e){P.pagePosChange({key:parseInt(e),pos:{left:t[0]-r[0]+n[e].left,top:t[1]-r[1]+n[e].top}})}),d["default"].emitPagesChange(),m["default"].emitChange(),g["default"].emitChange())}var D={mouseDown:function(){a=null,l["default"].rightMenuShow(!1,!0)},mouseMove:function(e){window.mouseDownTarget.name?a&&(!a||e.clientX==a[0]&&e.clientY==a[1])||(window.mouseDownTarget.moveFunc(e),a=[e.clientX,e.clientY],window.mouseDownTarget.lastMoveDate=new Date):u["default"].getAnimLine().show&&v["default"].move({eX:e.pageX,eY:e.pageY}),d["default"].isMultiView()&&(c["default"].getIsDrag()||$.hasClass($.getElById("allPanel"),"dragTarget"))&&function(e){var t,n=e.event,r=e.callback,o=[n.pageX,n.pageY],a=d["default"].isFixedView(),l=d["default"].getZoom(),u={clientX:n.clientX,clientY:n.clientY},c="";if(o[1]>window.document.body.clientHeight-Math.max(150,window.phoneSize.height*l+50)&&o[0]>window.document.body.clientWidth-Math.max(150,window.phoneSize.width*l+50)?c="":o[1]<150?c="top":o[1]>window.document.body.clientHeight-150?c="bottom":o[0]<150&&!a?c="left":o[0]>window.document.body.clientWidth-150&&!a&&(c="right"),""!=c){switch(t=f["default"].getCurPos(),$.isUndefined(i)||window.cancelAnimationFrame(i),c){case"top":O=function(){d["default"].isMultiFixed()&&(s||(s=$.getFixedViewMinTop(l))),i=T({scrollFunc:O,posVal:{left:t.left,top:t.top+100*l*(1-Math.max(o[1]-0,0)/150),isMultiFixed:!0,minTop:s},event:u}),a||r()};break;case"bottom":O=function(){d["default"].isMultiFixed()&&(s||(s=$.getFixedViewMinTop(l))),i=T({scrollFunc:O,posVal:{left:t.left,top:t.top-100*l*(1-(window.document.body.clientHeight-o[1])/150),isMultiFixed:!0,minTop:s},event:u}),a||r()};break;case"left":O=function(){i=T({scrollFunc:O,posVal:{left:t.left+100*l*(1-(o[0]-0)/150),top:t.top},event:u}),r()};break;case"right":O=function(){i=T({scrollFunc:O,posVal:{left:t.left-100*l*(1-(window.document.body.clientWidth-o[0])/150),top:t.top},event:u}),r()}}O()}else $.isUndefined(i)||(window.cancelAnimationFrame(i),O=null,i=undefined)}({event:e,callback:M}),window.mousePosi=[e.pageX,e.pageY]},mouseUp:function(e){var t=$.getElById("reactBox");window.mouseDownTarget.name&&(window.mouseDownTarget.endFunc(e),$.mouseDownTargetInit()),$.isUndefined(i)||(window.cancelAnimationFrame(i),O=null,i=undefined),!e.altKey&&$.hasClass(t,"isAltKey")&&$.removeClass(t,"isAltKey"),E=[]},contextMenu:function(e){l["default"].rightMenuShow(!1,!0),e.preventDefault()},click:function(){var e=window.document.querySelector("body>.C_tip"),t=d["default"].getView().mode,n=p["default"].getCursor(),r=h["default"].getMaskShow()&&h["default"].getMaskType();"keyframe"!=t&&b["default"].unselectFrame(),"color-picker"==n&&_["default"].getColorPickerGlass().color?(x.changeColor(),k.hideColorPickerGlass()):r&&r&&("zoomKey"==r||"spaceKey"==r)||k.hideAllPopup(),w["default"].hide(),C["default"].hide(),e&&(e.style.display="none")},wheel:function(e){if(Math.abs(e.deltaX)>Math.abs(e.deltaY)||Math.abs(e.deltaX)>10)try{e.preventDefault()}catch(t){}}};t["default"]=D},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i={isShow:!1,mousePosi:[0,0],type:"spaceKey"},s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getMaskShow=function(){return i.isShow},t.prototype.getMaskType=function(){return i.type},t.prototype.getMousePosi=function(){return i.mousePosi},t.prototype.changeMaskShow=function(e,t,n){n&&(i.type=n),t&&(i.mousePosi=t),i.isShow=e,s.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=s},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(375)),a=i(n(8));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={chooseAnim:function(e,t){a["default"].dispatch({actionType:o["default"].ANIM_CHOOSEANIM,animId:e,index:t})},unselectAnim:function(){a["default"].dispatch({actionType:o["default"].ANIM_UNSELECTANIM})},unselectFrame:function(){a["default"].dispatch({actionType:o["default"].ANIM_UNSELECTFRAME})},editFrameKey:function(e,t){a["default"].dispatch({actionType:o["default"].ANIM_EDITFRAMEKEY,prevKey:e,currKey:t})},createFrame:function(e,t){a["default"].dispatch({actionType:o["default"].ANIM_CREATEFRAME,key:e,contrKey:t})},chooseFrame:function(e){a["default"].dispatch({actionType:o["default"].ANIM_CHOOSEFRAME,key:e})},deleteFrame:function(e){a["default"].dispatch({actionType:o["default"].ANIM_DELETEFRAME,key:e})},emptyFrame:function(){a["default"].dispatch({actionType:o["default"].ANIM_EMPTYFRAME})},editTrProps:function(e,t){a["default"].dispatch({actionType:o["default"].ANIM_EDITTRPROPS,options:e,trData:t})},editContrProps:function(e,t,n){a["default"].dispatch({actionType:o["default"].ANIM_EDITCONTRPROPS,options:e,contrId:t,total:n})},editAllEasing:function(e){a["default"].dispatch({actionType:o["default"].ANIM_EDITALLEASING,easing:e})},editStateDelay:function(e,t){a["default"].dispatch({actionType:o["default"].ANIM_EDITSTATEDELAY,delay:e,contrId:t})},toggleDisabled:function(){a["default"].dispatch({actionType:o["default"].ANIM_TOGGLEDISABLED})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"AnimActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/AnimActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/AnimActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=n(1730),l=n(9),u=1,c=null,d=[],f={replyId:null,isActive:!1,editId:null},p=null,h=!1,g=null,y=!1,m=null,_=0,v="",b="",w=!1,C=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.hasReplyDiscuss=function(e){var t=!1;return d.forEach(function(n){n.replyId==e&&(t=!0)}),t},t.prototype.getLastID=function(){return b},t.prototype.getCommentNum=function(e){var t=0;return d.some(function(n){n.parentId===e&&++t}),t},t.prototype.getEditContent=function(){return v},t.prototype.getReplyHide=function(e){d.some(function(t){if(t.id===e)return t.isReplyHide})},t.prototype._getReplyName=function(){return p},t.prototype._getEditState=function(){return h},t.prototype._getEditNum=function(){return g},t.prototype.getPageId=function(){return u},t.prototype.getNumInPageList=function(){if(w){var e={};return d.forEach(function(t){e[t.pageId]?e[t.pageId]+=1:e[t.pageId]=1}),e}},t.prototype._getEndPosi=function(){return c},t.prototype._getParentId=function(e){var t;return d.some(function(n,r){if(n.id===e){if(!n.replyId)return t=n.id,!0;t=n.parentId}return!1}),t},t.prototype._getScrollTop=function(){return _},t.prototype._getIsDownload=function(){return w},t.prototype._getEditDotData=function(){return m},t.prototype._getDiscussIndex=function(e){var t=-1;return d.some(function(n,r){return n.id===e&&(t=r,!0)}),t},t.prototype._getDiscuss=function(e){var t;return d.some(function(n,r){return!(!e||n.id!==e)&&(t=n,!0)}),t},t.prototype._getDiscussPosi=function(e){var t=this._getDiscuss(e);if(t){var n=t.point,r=n.posi,o=n.area;return o=o||{w:0,h:0},{startPosi:{x:r.x,y:r.y},endPosi:{x:r.x+o.w,y:r.y+o.h}}}},t.prototype.isMine=function(e){var t,r=n(475)["default"],o=window.loginInfo;return r._getDiscuss(e)&&(t=r._getDiscuss(e).user),!(!o||!t||o.userId!=t.id)},t.prototype.getDiscussList=function(){var e=[],t=d.filter(function(t){return t.pageId==u+""&&(!!t.replyId||(e.push(t),!1))});$.sortByTimeAdd(e),$.sortByTimeMinus(t);for(var n=0;n<e.length;n++)for(var r=0;r<t.length&&(!e[n].isDone||e[n].isDoneShow);r++)e[n].id===t[r].parentId&&e.splice(n+1,0,t[r]);return e},t.prototype.getEditData=function(){return f},t.prototype._getIsHoverSpot=function(){return y},t.prototype._setHoverSpot=function(e,t){y=e,t||C.emitChange()},t.prototype.setLastID=function(e){b=e},t.prototype.setEditContent=function(e){v=e},t.prototype.setReplyName=function(e){p=e},t.prototype.discussChangePoint=function(e,t){var n=this._getDiscuss(e);n&&(n.point=t)},t.prototype.discussChangeReplyHide=function(e,t){var n=this._getDiscuss(e);n&&(n.isReplyHide=t)},t.prototype.setEditNum=function(e){g=e},t.prototype.setEditState=function(e){h=e},t.prototype.setSolvedNick=function(e,t){var n=this._getDiscuss(e);n&&(n.doneUser=t)},t.prototype.setPageId=function(e,t){u=e,t&&(C.emitEditChange(),C.emitDotChange())},t.prototype.setEndPos=function(e){c=e},t.prototype.setScrollTop=function(e){var t=$.query(".edit-box-active"),n=$.getWinSize().height-45-(t?178:60),r=$.query(".discuss-scroll-list"),o=$.offset(r,!0).height;_=n<o?$.setRegion(e,n-o,0):0},t.prototype.setEditDotData=function(e){m=e},t.prototype.initListByServer=function(e){w=!0,d=e.map(function(e){e.id=e._id;var t,n={userImage:e.user.userImage,name:e.user.nickName,id:e.user._id};return e.replyUser&&(t={userImage:e.replyUser.userImage,name:e.replyUser.nickName,id:e.replyUser._id}),e.replyUser=t,e.isReplyHide=!e.isDone,e.user=n,delete e._id,delete e.__v,e})},t.prototype.addDiscuss=function(e){d.push(e)},t.prototype.deleteDiscuss=function(e){for(var t=0;t<d.length;t++)d[t].id!=e&&d[t].parentId!=e||(d.splice(t,1),t--)},t.prototype.discussIsDone=function(e,t){var n=this._getDiscuss(e);n&&(n.isDone=t)},t.prototype.discussReplyHide=function(e){var t=this._getDiscuss(e);t&&(t.isReplyHide=!1)},t.prototype.discussIsDoneShow=function(e,t){var n=this._getDiscuss(e);n&&(n.isDoneShow=t)},t.prototype.discussChangeContent=function(e,t){var n=this._getDiscuss(e);n&&(n.content=t)},t.prototype.editChangeState=function(e){f=e},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitEditChange=function(){this.emit("edit_change")},t.prototype.addEditChangeListener=function(e){this.on("edit_change",e)},t.prototype.removeEditChangeListener=function(e){this.removeListener("edit_change",e)},t.prototype.emitDotChange=function(){this.emit("dot_change")},t.prototype.addDotChangeListener=function(e){this.on("dot_change",e)},t.prototype.removeDotChangeListener=function(e){this.removeListener("dot_change",e)},t}(l.EventEmitter));i["default"].register(function(e){switch(e.actionType){case s.DiscussActionID.DISCUSS_ADD:C.addDiscuss(e.discuss),C.emitEditChange();break;case s.DiscussActionID.DISCUSS_DELETE:C.deleteDiscuss(e.id),C.emitEditChange();break;case s.DiscussActionID.DISCUSS_DONE:C.discussIsDone(e.id,e.isDone),C.emitEditChange();break;case s.DiscussActionID.DISCUSS_REPLYHIDE:C.discussReplyHide(e.id),C.emitEditChange();break;case s.DiscussActionID.DISCUSS_DONESHOW:C.discussIsDoneShow(e.id,e.isDoneShow),C.emitEditChange();break;case s.DiscussActionID.DISCUSS_CHANGEPOINT:C.discussChangePoint(e.id,e.point),C.emitEditChange(),C.emitDotChange();break;case s.DiscussActionID.DISCUSS_CHANGECONTENT:C.discussChangeContent(e.id,e.content),C.emitEditChange();break;case s.DiscussActionID.DISCUSS_INITEDITSTATE:C.editChangeState(e.editData),C.emitChange();break;case s.DiscussActionID.DISCUSS_DOTCREATESTATE:C.setEditDotData(e.editDotData),C.emitDotChange(),C.emitEditChange();break;case s.DiscussActionID.DISCUSS_SCROLLTOP:C.setScrollTop(e.scrollTop),C.emitChange();break;case s.DiscussActionID.DISCUSS_SETDISCUSSLIST:C.initListByServer(e.discussList),C.emitEditChange();break;case s.DiscussActionID.DISCUSS_SETENDPOS:C.setEndPos(e.endPos),C.emitDotChange();break;case s.DiscussActionID.DISCUSS_SETPAGEID:C.setPageId(e.currentPageId),C.emitChange();break;case s.DiscussActionID.DISCUSS_SETSOLVEDNICK:C.setSolvedNick(e.id,e.doneUser),C.emitEditChange();break;case s.DiscussActionID.DISCUSS_EDITSTATE:C.setEditState(e.editState),C.emitChange();break;case s.DiscussActionID.DISCUSS_EDITNUM:C.setEditNum(e.editNum),C.emitChange();break;case s.DiscussActionID.DISCUSS_SETREPLYNAME:C.setReplyName(e.replyName),C.emitChange();break;case s.DiscussActionID.DISCUSS_EDITCONTENT:C.setEditContent(e.editContent),C.emitEditChange();break;case s.DiscussActionID.DISCUSS_LASTID:C.setLastID(e.lastID),C.emitChange();break;case s.DiscussActionID.DISCUSS_CHANGE_REPLYHIDE:C.discussChangeReplyHide(e.id,e.isReplyHide),C.emitChange()}}),t["default"]=C},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1231),a=r(n(34)),i=r(n(67)),s=n(26),l=n(314),u=n(26);function c(e){(void 0===e?{}:e).isReturnArr;var t=s.getAllElementBySelectPageHierarchy().map(function(e){return e.id}),n=a["default"].getSelectElementArr();$.checkArrayEqual(t,n)||l.changeElementSelect(t)}function d(){var e=u.getAllLineByStructKey(),t=[];e.forEach(function(e){t.push(e.id)}),i["default"].setPrdSelectArr(t)}function f(e){void 0===e&&(e=!1),a["default"].getSelectElementArr().length>0&&l.changeElementSelect([],e)}t.selectAllElement=c,t.selectAllLine=d,t.clickChangeElementSelect=function(e){var t=e.currentTarget.getAttribute("data-id"),n=a["default"].getSelectElementArr(),r=o.isKey(e,"cmd"),i=o.isKey(e,"shift");r||i?(-1!=n.indexOf(t)?n.remove(t):n.push(t),a["default"].emitChange()):-1==n.indexOf(t)&&l.changeElementSelect([t])},t.elementDeselect=f,t["default"]={selectAllElement:c,changeElementSelect:l.changeElementSelect,elementDeselect:f,selectAllLine:d}},function(e,t,n){var r=n(570),o=n(571);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t,n){var r=n(353),o=n(284),a=n(255);e.exports=function(e){return r(e,a,o)}},function(e,t,n){var r=n(84).Uint8Array;e.exports=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(40)),a=r(n(6)),i=r(n(5)),s=r(n(10)),l=r(n(29)),u=r(n(12)),c=n(26),d=n(118),f=n(336),p=r(n(214)),h=window.$,g=100;function y(e){var t=e.changeObj,n=p["default"].width-g;if(t.width>n){var r=Math.round(n-t.width);if(r&&0!==r){t.width=n;var o=h.getChangePosiArr(r,t.columnPosi);t.columnPosi=o}}}function m(e,t){var n=i["default"].isPrdView(),r=o["default"].getTableData(),l=n&&c.findSelectElement()[0],f=l||a["default"].getFirstSelectContr();if(f){var p=f.width,g=f.columnPosi,m=f.linePosi,_=f.child,v=t||{columnIndex:g.length-1,lineIndex:m.length-1},b=h.extend(!0,{},_),w=g[v.columnIndex],C=[].concat(g);C.splice(v.columnIndex+(e?0:1),0,w);var x={columnPosi:C,width:p+w},S={};for(var P in b){var k=P.split("_"),O=parseInt(k[0]),E=parseInt(k[1]);O>=v.columnIndex+(e?0:1)&&_[P]?S[O+1+"_"+E]=b[P]:S[P]=b[P]}if(x.child=S,e&&r&&r.selectCell&&(r.selectCell[0].columnIndex=r.selectCell[0].columnIndex+1,r.selectCell[1].columnIndex=r.selectCell[1].columnIndex+1,o["default"].emitChange()),n)y({changeObj:x}),x.columnPosi.length>45?u["default"].show("列数不能超过45列"):(d.fixElementPosVal({changeVal:x,element:l}),s["default"].createData({type:"changeAddColumn",name:"PRD 表格添加列",autoSaveType:"prd"}));else{var T=h.getContrId(f);a["default"].contrUpdate(T,x,!0,undefined,!0),s["default"].createData({type:"changeAddColumn",name:"["+f.name+"] 表格添加列",handleObjType:f.type,autoSaveType:"pageContrs"})}}}function _(e){var t=i["default"].isPrdView(),n=t?c.findSelectElement()[0]:a["default"].getFirstSelectContr();if(n){var r=n.width,o=n.columnPosi,l=n.child,u=e-o.length,p=[].concat(o),g=void 0;if(u>0){for(var m=o[o.length-1],_=0;_<u;_++)p.push(m);g={columnPosi:p,width:r+m*u}}else if(u<0){var v=0,b=h.extend(!0,{},l||{});for(_=o.length;_>e;_--)v+=o[_-1],f.removeColumnOrLineChild(b,_,!0);p.splice(e),g={columnPosi:p,width:r-v,child:b}}if(g)if(t)y({changeObj:g}),d.fixElementPosVal({changeVal:g,element:n}),s["default"].createData({type:"changeColumnByNum",name:"PRD 修改表格行数",autoSaveType:"prd"});else{var w=h.getContrId(n);a["default"].contrUpdate(w,g,!0,undefined,!0),s["default"].createData({type:"changeColumnByNum",name:"["+n.name+"] 修改表格行数",handleObjType:n.type,autoSaveType:"pageContrs"})}}}function v(e,t){var n=o["default"].getTableData(),r=n.selectContr,s=n.selectCell;if(r&&s){var u=i["default"].isPrdView(),c=u?l["default"].getPrdElementById(r.id):a["default"].getContrByAll(h.getContrId(r)),f=h.extend(!0,{},c),p=f.width,g=f.columnPosi,y=f.child,m=s[0],_=m.columnIndex,v=m.lineIndex,b=e===g.length-1,w=g[e],C=[].concat(g);C.splice(e,1);var x={};for(var S in y){var P=S.split("_"),k=parseInt(P[0]),O=parseInt(P[1]);k==e||(k>e?x[k-1+"_"+O]=y[S]:x[S]=y[S])}var E={width:p-w,columnPosi:C,child:x};u?d.fixElementPosVal({changeVal:E,element:c}):a["default"].contrUpdate(h.getContrId(c),E,!0,t,!0),o["default"].setTableSelectCell([{columnIndex:b?E.columnPosi.length-1:_,lineIndex:v},{columnIndex:b?E.columnPosi.length-1:_,lineIndex:v}],t)}}t.fixChangeColumnMaxWidth=y,t.addColumn=m,t.changeColumnByNum=_,t.deleteColumn=v,t["default"]={fixChangeColumnMaxWidth:y,addColumn:m,changeColumnByNum:_,deleteColumn:v}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=(window.$,{type:"move",openType:"",chooseSnap:!0}),s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.changeToolType=function(e,t){if(void 0===t&&(t=!1),e!=i.type){var r=n(146)["default"];i.type=e,t||(s.emitChange(),r.emitChange())}},t.prototype.getToolType=function(){return i.type},t.prototype.changeChooseSnap=function(e){i.chooseSnap=e,s.emitChange()},t.prototype.cancelOpenSelect=function(){""!=i.openType&&(i.openType="",s.emitChange())},t.prototype.setOpenSelect=function(e){e!=i.openType&&(i.openType=e,s.emitChange())},t.prototype.getTool=function(){return i},t.prototype.getChooseSnap=function(){return i.chooseSnap},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=s},function(e,t,n){"use strict";function r(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}Object.defineProperty(t,"__esModule",{value:!0}),t.generateUUID=r,t["default"]={generateUUID:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GUIDE_ADD="GUIDE_ADD",e.GUIDE_UPDATE="GUIDE_UPDATE",e.GUIDE_REMOVE="GUIDE_REMOVE",e.GUIDE_SHOW="GUIDE_SHOW"}(t.GuideLineActionID||(t.GuideLineActionID={}))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({CUTIMAGE_INIT:null,CUTIMAGE_EXIT:null,CUTIMAGE_CHANGECUTVALS:null,CUTIMAGE_ISCUTSPOT:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/CutImageConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_LEFT_RIGHT_PADDING=200,t.VIEW_TOP_BOTTOM_PADDING=150,t.PAGE_LEFT_RIGHT_PADDING=180,t.PAGE_TOP_BOTTOM_PADDING=220,t["default"]={VIEW_LEFT_RIGHT_PADDING:t.VIEW_LEFT_RIGHT_PADDING,VIEW_TOP_BOTTOM_PADDING:t.VIEW_TOP_BOTTOM_PADDING,PAGE_LEFT_RIGHT_PADDING:t.PAGE_LEFT_RIGHT_PADDING,PAGE_TOP_BOTTOM_PADDING:t.PAGE_TOP_BOTTOM_PADDING}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i={list:[],index:-1},s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setList=function(e){i.list=e},t.prototype.initVersion=function(e,t){i.list=e,t&&s.emitChange()},t.prototype.addVersion=function(e){i.list.push({title:e.title,desc:e.desc,time:e.time,key:e.key}),s.emitChange()},t.prototype.changeVersion=function(e){i.list.every(function(t){return t.key!==e.key||(t.title=e.title,t.desc=e.desc,!1)})},t.prototype.deleteVersion=function(e){var t;i.list.every(function(n,r){return n.key===e.key&&(t=r),!0}),i.list.splice(t,1),s.emitChange()},t.prototype.getVersion=function(){return i},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=s},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({PREVIEW_SETPREVIEWDATA:null,PREVIEW_MOVE:null,PREVIEW_STOP:null,PREVIEW_PAUSE:null,PREVIEW_PLAY:null,PREVIEW_EXIT:null,PREVIEW_PREVIEW:null,PREVIEW_SETUNITW:null,PREVIEW_PREVIEWGROUP:null,PREVIEW_PREVIEWEVENT:null,PREVIEW_RESTART:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/PreviewConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(34)),a=r(n(91)),i=n(26);function s(e){var t=(void 0===e?{}:e).needRemoveIdArr,n=void 0===t?o["default"].getSelectElementArr():t,r=i.getSelectPageElementHierarchy().slice(),a=[],s=r.filter(function(e){return-1!=n.indexOf(e)||(a.push(e),!1)});return{filterElementArr:a,findSelectElementByHierarchy:s}}function l(e){var t=(void 0===e?{}:e).noEmit,n=void 0!==t&&t,r=s(),o=r.filterElementArr,l=r.findSelectElementByHierarchy,u=i.getSelectPageObj().id;a["default"].updateValById({id:u,updateVal:{elementHierarchy:l.concat(o)},noEmit:n})}function u(e){var t=(void 0===e?{}:e).noEmit,n=void 0!==t&&t,r=s(),o=r.filterElementArr,l=r.findSelectElementByHierarchy,u=i.getSelectPageObj().id;a["default"].updateValById({id:u,updateVal:{elementHierarchy:o.concat(l)},noEmit:n})}t.getChangeHierarchy=s,t.elementHierarchyFront=l,t.elementHierarchyBack=u,t["default"]={elementHierarchyFront:l,elementHierarchyBack:u}},function(e,t,n){"use strict";function r(e){return{key:e.key,left:e.left,top:e.top}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOnePageVal=r,t["default"]={getOnePageVal:r}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=n(365),i=new(function(){function e(){this.ZoomActionID=a.ZoomActionID}return e.prototype.change=function(e){o["default"].dispatch({actionType:a.ZoomActionID.ZOOM_CHANGE,zoom:e})},e}());t["default"]=i},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(366));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={optimizationOff:function(){o["default"].dispatch({actionType:a["default"].PHONECONBOX_OPTIMIZATIONOFF})},optimizationOn:function(){o["default"].dispatch({actionType:a["default"].PHONECONBOX_OPTIMIZATIONON})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"PhoneConBoxActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PhoneConBoxActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PhoneConBoxActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=n(9),l={},u=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setCreateLayer=function(e,t){void 0===t&&(t=!1),l=e,t||u.emitChange()},t.prototype.getCreateLayer=function(){return l},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(s.EventEmitter));i["default"].register(function(e){e.actionType}),t["default"]=u},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(613));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={hide:function(){o["default"].dispatch({actionType:a["default"].POPSELECT_HIDE})},toggleTransition:function(){o["default"].dispatch({actionType:a["default"].POPSELECT_TOGGLETRANSITION})},toggleEasing:function(e,t,n){o["default"].dispatch({actionType:a["default"].POPSELECT_TOGGLEEASING,selected:e,contrId:t,bottom:n})},showEasing:function(e,t,n){o["default"].dispatch({actionType:a["default"].POPSELECT_SHOWEASING,selected:e,contrId:t,bottom:n})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"PopSelectActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PopSelectActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PopSelectActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=n(413),l=n(9),u=window.$,c=0,d=0,f=0,p=0,h=!1,g="rgba(0, 0, 0, 1)",y=!0,m=!1,_=u.noop,v={x:0,y:0},b=null,w=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getIsShow=function(){return m},t.prototype.getPosi=function(){return v},t.prototype.getShadowX=function(){return c},t.prototype.getShadowY=function(){return d},t.prototype.getShadowBlur=function(){return f},t.prototype.getShadowSpread=function(){return p},t.prototype.getInset=function(){return h},t.prototype.getColor=function(){return g},t.prototype.getLock=function(){return y},t.prototype.getShadowVal=function(e){return void 0===e&&(e=!1),e?{shadowX:c,shadowY:d,shadowBlur:f,shadowSpread:p,shadowColor:g,isInset:h}:[c,d,f,p,g,h]},t.prototype.getOldShadow=function(){return b},t.prototype.initShadow=function(e){m=!0,c=e.shadowX,d=e.shadowY,f=e.shadowBlur,p=e.shadowSpread,g=e.shadowColor,h=e.isInset,v=e.posi,e.updateFunc&&(_=e.updateFunc)},t.prototype.hideShadow=function(){m=!1},t.prototype.setOldShadow=function(e){b=e},t.prototype.setShadowX=function(e){c=e},t.prototype.setShadowY=function(e){d=e},t.prototype.setShadowBlur=function(e){f=e},t.prototype.setShadowSpread=function(e){p=e},t.prototype.setShadowColor=function(e){g=e},t.prototype.setIsInset=function(e){h=e},t.prototype.setIsLock=function(e){y=e},t.prototype.setNoShadow=function(){c=0,d=0,f=0,p=0,h=!1,y=!0},t.prototype.setNormalShadow=function(){c=0,d=2,f=5,p=0,h=!1,y=!0},t.prototype.setSinkShadow=function(){c=0,d=2,f=5,p=0,h=!0,y=!0},t.prototype.setFloatShadow=function(){c=3,d=3,f=0,p=0,h=!1,y=!1},t.prototype.setEmbedShadow=function(){c=0,d=0,f=10,p=0,h=!1,y=!1},t.prototype.emitChange=function(){_(),this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(l.EventEmitter));i["default"].register(function(e){switch(e.actionType){case s.ShadowActionID.SHADOW_X:w.setShadowX(e.shadowX),w.emitChange();break;case s.ShadowActionID.SHADOW_Y:w.setShadowY(e.shadowY),w.emitChange();break;case s.ShadowActionID.SHADOW_INIT:w.initShadow(e.option),w.emitChange();break;case s.ShadowActionID.SHADOW_HIDE:m&&(w.hideShadow(),w.emitChange());break;case s.ShadowActionID.SHADOW_BLUR:w.setShadowBlur(e.shadowBlur),w.emitChange();break;case s.ShadowActionID.SHADOW_SPREAD:w.setShadowSpread(e.shadowSpread),w.emitChange();break;case s.ShadowActionID.SHADOW_COLOR:w.setShadowColor(e.shadowColor),w.emitChange();break;case s.ShadowActionID.SHADOW_INSET:w.setIsInset(e.isInset),w.emitChange();break;case s.ShadowActionID.SHADOW_LOCK:w.setIsLock(e.isLock),w.emitChange();break;case s.ShadowActionID.SHADOW_NOSHADOW:w.setNoShadow(),w.emitChange();break;case s.ShadowActionID.SHADOW_NORMALSHADOW:w.setNormalShadow(),w.emitChange();break;case s.ShadowActionID.SHADOW_SINKSHADOW:w.setSinkShadow(),w.emitChange();break;case s.ShadowActionID.SHADOW_FLOATSHADOW:w.setFloatShadow(),w.emitChange();break;case s.ShadowActionID.SHADOW_EMBEDSHADOW:w.setEmbedShadow(),w.emitChange()}}),t["default"]=w},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=n(6)["default"],s=n(89)["default"],l=window.$,u=!1,c={x:0,y:0},d={distanceX:0,distanceY:0},f=0,p=0,h=[],g=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.matchDistance=function(e){var t=0,n=0,r=[],o=[],a=i.getSelectContr(),s=e&&e.copyBeforeSelect.length;return a.length>=2?(a.forEach(function(t,n){t=i.getAllValsContr({contrKey:t});var a=l.getContrPosi(t);l.isUndefined(s)?(r.push([t.type+"_"+t.id,a]),o.push([t.type+"_"+t.id,a])):1==s&&(n>=0&&n<=e.horizontalNum&&r.push([t.type+"_"+t.id,a]),n%(e.horizontalNum+1)==0&&o.push([t.type+"_"+t.id,a]))}),r.sort(function(e,t){return e[1].left-t[1].left}),o.sort(function(e,t){return e[1].top-t[1].top}),r.length>1&&(t=r[1][1].left-r[0][1].left-r[0][1].width),o.length>1&&(n=o[1][1].top-o[0][1].top-o[0][1].height),{distanceX:t,distanceY:n}):{distanceX:t,distanceY:n}},t.prototype.getIsShow=function(){return u},t.prototype.getPosi=function(){return c},t.prototype.getDistance=function(){return{distanceX:f,distanceY:p}},t.prototype.getOldDistanceData=function(){return h},t.prototype.getInitDistance=function(){return d},t.prototype.setDistance=function(e){l.isUndefined(e.distanceX)||(f=e.distanceX),l.isUndefined(e.distanceY)||(p=e.distanceY),g.emitChange()},t.prototype.initDistance=function(e){u=!0,c=e.posi;var t=this.matchDistance(),n=t.distanceX,r=t.distanceY;f=n,p=r,d={distanceX:n,distanceY:r},g.emitChange(),h=l.extend(!0,[],this._getSelectContrPosiArr())},t.prototype._getSelectContrPosiArr=function(){var e=i.getSelectContr(),t=[],n=0,r=0;return e.forEach(function(e,o){if(0==o){r=e.left,n=e.top;var a={key:l.getContrId(e),left:0,top:0};t.push(a)}else{a={key:l.getContrId(e),left:e.left-r,top:e.top-n};t.push(a)}}),t},t.prototype.hideDistance=function(){u&&(u=!1,f=0,p=0,d={distanceX:0,distanceY:0},g.emitChange())},t.prototype.changeDistance=function(e,t,n){var r,o=[],a=[],u=i.getSelectContr(),c=0,d=0,f=!1,p=n&&n.copyBeforeSelect.length;if(u.length>=2)if(l.isUndefined(p)){if(u.forEach(function(e,t){e=i.getAllValsContr({contrKey:e});var n=l.getContrPosi(e);o.push([e.type+"_"+e.id,n,e.top-n.top]),a.push([e.type+"_"+e.id,n,e.left-n.left])}),o.sort(function(e,t){return e[1].top-t[1].top}),a.sort(function(e,t){return e[1].left-t[1].left}),d=o[0][1].top,c=a[0][1].left,"y"==e){var h=l.isUndefined(t.distanceY)?t.verticalDistance:t.distanceY;o.forEach(function(e,t){0!==t&&Math.round(e[1].top)!=Math.round(d)&&(s.contrUpdate(e[0],{top:e[2]+d},!1,!0),f=!0),d+=e[1].height+h}),f&&i.emitMustChange()}else if("x"==e){var g=l.isUndefined(t.distanceX)?t.horizontalDistance:t.distanceX;a.forEach(function(e,t){0!==t&&Math.round(e[1].left)!=Math.round(c)&&(s.contrUpdate(e[0],{left:e[2]+c},!1,!0),f=!0),c+=e[1].width+g}),f&&i.emitMustChange()}}else{var y=n.copyBeforeSelect,m=n.horizontalNum,_=n.changeVerticalPosi,v=n.changeHorizontalPosi,b=n.verticalDistance,w=n.horizontalDistance,C=0,x=0,S="y"==e?[_,b,"verticalDistance","top"]:[v,w,"horizontalDistance","left"];for(var P in S[0]){var k=S[0][P],O=Math.floor("y"==e?x/(y.length*(m+1)):x%(y.length*m)/y.length);0!=(C=(t[S[2]]-S[1])*(O+1))&&s.contrUpdate(P,((r={})[""+S[3]]=k[S[3]]+C,r),!1,!0),x++}0!=C&&i.emitMustChange()}},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=g},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(23)),a=r(n(5)),i=r(n(27));function s(e,t){if(void 0===t&&(t=!1),window.isLoadMulti)e&&e();else{var n=(new Date).getTime();t||a["default"].setLoad(!1,undefined,"正在为您生成多视图..."),setTimeout(function(){window.isLoadMulti=!0,t?a["default"].emitPageStructChange():a["default"].emitViewChange(),o["default"].emitChange(),i["default"].emitChange(),setTimeout(function(){o["default"].emitChange(),setTimeout(function(){o["default"].setCache(),t?a["default"].emitPageStructChange():a["default"].setLoad(!0),e&&e(),window.log("加载完成多视图 Time --------------------- >"+((new Date).getTime()-n)/1e3)},0)},500)},0)}}t.loadMultiViewCanvas=s,t["default"]={loadMultiViewCanvas:s}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.emitMustChange=function(){this.emit("must_change")},t.prototype.addMustChangeListener=function(e){this.on("must_change",e)},t.prototype.removeMustChangeListener=function(e){this.removeListener("must_change",e)},t}(a.EventEmitter));t["default"]=i},,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(11)),d=l(n(3)),f=l(n(319)),p=l(n(1464)),h=n(26),g=n(360),y=window.$,m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.openDropList=function(){var e=this.props.btnSet.type;g.changePrdDropdownOpen(e)},t.prototype.render=function(){var e=f["default"].getPrdDropdown(),t=(e.type,e.isOpen,this.props),n=t.btnSet,r=n.type,o=n.clickFunc,i=void 0===o?y.noop:o,s=n.isDisableFunc,l=void 0===s?y.noop:s,d=n.showNameFunc,g=(void 0===d&&y.noop,n.isActiveFunc),m=n.tips,_=n.isHaveLine,v=void 0!==_&&_,b=(n.remarkId,t.btnSet),w=h.findSelectElement()[0].isShowName,C=void 0!==w&&w,x=l&&l();return"text-color"!=r&&"table-bg-color"!=r&&"page-border"!=r?u["default"].createElement("div",{className:"prd-head-btn-panel"},v?u["default"].createElement("div",{className:c["default"]("column-line",{"left-line":"left"==v,"right-line":"right"==v,"is-short-page":"short-page"==r||"text-hyperlink"==r})}):undefined,u["default"].createElement("div",a({className:c["default"]("prd-head-btn-icon "+r+"-btn a_c",{"have-column-line":v,"left-line":"left"==v,"right-line":"right"==v,"is-disable":x,"is-active":g&&g(),"is-short-page":"short-page"==r,"is-hyperlink-icon":"text-hyperlink"==r})},m?y.addHoverData({text:"hide-snapshots-title"==r?C?"隐藏"+m:"显示"+m:"page-remarks"==r?g()?"隐藏"+m:"显示"+m:m}):{},{onClick:x?y.noop:i}))):u["default"].createElement(p["default"],{btnType:r,btnSet:b})},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"openDropList",null),t}(u["default"].Component);t["default"]=m},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(29)),a=r(n(10)),i=r(n(5)),s=n(26),l=n(360),u=n(118),c=n(452),d=n(868),f=r(n(214)),p=window.isPc,h=f["default"].width-100,g=900;function y(e){var t=s.findSelectElement()[0],n=t.width,r=t.height,o=t.phoneShellType,i=void 0===o?"iPhone6":o,c=t.borderType,f=t.hasBorder,p=d.phoneShellConfig[i],h=p.horizEdge,g={topEdge:p.topEdge,bottomEdge:p.bottomEdge,horizEdge:h,phoneWidth:p.width,phoneHeight:p.height},y=_({width:n,height:r,shellElement:g}),v=y.shellW,b=y.shellTop,w=y.shellBottom,C=m({width:n,height:r,shellElement:g}),x=C.shellW,S=C.shellTop,P=C.shellBottom;if(f){if(e==c){var k="phone-border"==c?n-2*v:n,O="phone-border"==c?r-b-w:r;u.fixElementPosVal({changeVal:{hasBorder:!1,borderType:"normal-border",width:k,height:O},element:t})}else if(e!=c){k="phone-border"==c?n-2*v:n+2*x,O="phone-border"==c?r-b-w:r+S+P;u.fixElementPosVal({changeVal:{hasBorder:!0,borderType:e,width:k,height:O},element:t})}}else{k="phone-border"==e?n+2*x:n,O="phone-border"==e?r+S+P:r;u.fixElementPosVal({changeVal:{hasBorder:!0,borderType:e,width:k,height:O},element:t})}a["default"].createData({type:"showOrHidePageBorder",name:"PRD 显示/隐藏页面描边",autoSaveType:"prd"}),l.hidePrdDropdownOpen()}function m(e){var t=e.width,n=e.height,r=e.shellElement,o=r.topEdge,a=r.bottomEdge,i=r.horizEdge,s=r.phoneWidth,l=t*(i/s),u=t*(o/s),c=t*(a/s);return{width:t+2*l,height:n+u+c,shellW:l,shellTop:u,shellBottom:c}}function _(e){var t=e.width,n=e.height,r=e.shellElement,o=r.topEdge,a=r.bottomEdge,i=r.horizEdge,s=r.phoneWidth,l=t*s/(s+2*i),u=t*o/(s+2*i),c=t*a/(s+2*i);return{width:l,height:n-u-c,shellW:(t-l)/2,shellTop:u,shellBottom:c}}function v(){var e=s.findSelectElement()[0],t=e.width,n=e.height,r=e.pageKey,o=i["default"].getPages(),l=window.phoneSize,c=l.width,d=l.height,f=o[r],h=(f||{}).pageHeight,g=h||d,y=t/c;f&&(p?u.fixElementPosVal({changeVal:{height:Math.round(g*y),cutTop:0},element:e}):p||Math.round(g*y)!=Math.round(n)&&u.fixElementPosVal({changeVal:{height:Math.round(g*y),cutTop:0},element:e})),a["default"].createData({type:"showAllPage",name:"PRD 展示页面的全部内容",autoSaveType:"prd"})}function b(e,t){o["default"].updateValById({id:t,updateVal:{modifyTitle:e}}),a["default"].createData({type:"updatePageContrName",name:"修改页面或组件的名称",autoSaveType:"prd"})}function w(e){return d.phoneShellConfig[e]}function C(){var e=s.findSelectElement()[0],t=e.phoneShellType,n=e.hasBorder,r=e.borderType,o=window.phoneSize,i=o.width,l=o.height,f=d.phoneShellConfig[t],y=(f.radius,f.topEdge),_=f.width,v=f.horizEdge,b=f.bottomEdge,w=!1;if(p){var C=Math.round(h),x=Math.round(9*h/16);w=c.OriginSizeOverToast({oriWidth:C,fixElementPosOverSize:function(){u.fixElementPosVal({changeVal:{width:g,height:g*x/C,cutTop:0},element:e})},fixElementPosinSize:function(){u.fixElementPosVal({changeVal:{width:C,height:x,cutTop:0},element:e})},type:"页面快照"})}else if(n&&"phone-border"==r){var S=m({width:i,height:l,shellElement:{topEdge:y,bottomEdge:b,horizEdge:v,phoneWidth:_}}),P=S.shellW,k=S.shellTop,O=S.shellBottom,E=Math.round(i+2*Math.round(P)),T=Math.round(l+Math.round(k)+Math.round(O));w=c.OriginSizeOverToast({oriWidth:E,fixElementPosOverSize:function(){u.fixElementPosVal({changeVal:{width:g,height:g*T/E,cutTop:0},element:e})},fixElementPosinSize:function(){u.fixElementPosVal({changeVal:{width:E,height:T,cutTop:0},element:e})},type:"页面快照"})}else{var M=Math.round(i),D=Math.round(l);w=c.OriginSizeOverToast({oriWidth:M,fixElementPosOverSize:function(){u.fixElementPosVal({changeVal:{width:g,height:g*D/M,cutTop:0},element:e})},fixElementPosinSize:function(){u.fixElementPosVal({changeVal:{width:M,height:D,cutTop:0},element:e})},type:"页面快照"})}w&&a["default"].createData({type:"recoverDefaultPageSize",name:"PRD 恢复页面组件的原始大小",autoSaveType:"prd"})}t.setPageBorderFunc=y,t.getPhoneShellSize=m,t.getPhoneContentSize=_,t.handleRecoverClip=v,t.handleUpdateTitle=b,t.getPhoneShellOffset=w,t.recoverPageOriginSize=C,t["default"]={setPageBorderFunc:y,getPhoneShellOffset:w,handleRecoverClip:v,handleUpdateTitle:b,recoverPageOriginSize:C}},function(e,t,n){var r=n(143)(n(84),"Set");e.exports=r},function(e,t,n){var r=n(143)(n(84),"WeakMap");e.exports=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(29)),a=n(325);t.fixLineData=function(e,t,n){var r=!0;return r&&e&&!o["default"].getPrdElementById(e)&&(r=!1),r&&t&&!o["default"].getPrdElementById(t)&&(r=!1),r||(console.log("fixLineData",n),a.deleteLineById(n)),r}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=window.$,s={pos:{x:0,y:0,w:0,h:0}},l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(e){var t=e.pos;i.extend(!0,s,{pos:t}),l.emitChange()},t.prototype.move=function(e){var t=e.pos,n=t.x,r=t.y,o=s.pos,a=o.x,u=o.y;i.extend(!0,s,{pos:{w:n-a,h:r-u}}),l.emitChange()},t.prototype.hide=function(){s={pos:{x:0,y:0,w:0,h:0}},l.emitChange()},t.prototype.getPrdDragSelectSet=function(){return s},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(1)),u=s(n(40)),c=s(n(223)),d=n(77),f=n(588),p=[["left","左","right",-22,-9],["right","右","left",10,-9],["top","上","bottom",14,0],["bottom","下","top",14,0]],h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={tableData:u["default"].getTableData()},n._onChange=n._onChange.bind(n),n._getCopyDom=n._getCopyDom.bind(n),n}return o(t,e),t.prototype.componentWillMount=function(){u["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){u["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({tableData:u["default"].getTableData()})},t.prototype._getCopyDom=function(){var e=[],t=d.getTableSelectCell();return p.forEach(function(n){var r=0,o=0;if(t){var i=t[0],s=i.columnIndex,u=i.lineIndex,d=t[1],f=d.columnIndex;if(r=s,o=u,d.lineIndex!==u&&("top"===n[0]||"bottom"===n[0])||f!==s&&("left"===n[0]||"right"===n[0]))return}e.push(l["default"].createElement("div",{key:n[0],className:"copy-line copy-"+n[0]+"-line","data-type":"left"==n[0]||"right"==n[0]?"vertical":"horizontal","data-key":"left"==n[0]||"top"==n[0]?"left"==n[0]?r:o:"right"==n[0]?r+1:o+1,onMouseEnter:c["default"].copylineMouseEnter,onMouseLeave:c["default"].copylineMouseLeave,onMouseDown:c["default"].tableCopyLineMouseDown},l["default"].createElement("div",a({"data-type":n[0],className:"copy-spot a_c",onMouseDown:c["default"].copySpotMouseDown},$.addHoverData({text:"向"+n[1]+"拖拽复制填充",direction:n[2],changePosi:n[3],changeOtherPosi:n[4]})))))}),l["default"].createElement("div",{className:"copy-box"},e)},t.prototype.render=function(){var e=d.getSelectCellPosi(),t=f.getStartCellPosi();return l["default"].createElement("div",{className:"table-select",style:{left:e.left-1,top:e.top-1,width:e.width+1,height:e.height+1}},l["default"].createElement("div",{className:"shadow-box"},l["default"].createElement("div",{className:"selectCell",style:{left:t.left,top:t.top,width:t.width,height:t.height}})),this._getCopyDom())},t}(l.Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(1)),u=s(n(223)),c=window.$,d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){return l["default"].createElement("div",{className:"table-add-box"},l["default"].createElement("div",a({className:"column-add table-add-btn a_c",onMouseDown:u["default"].tableAddColumnFunc},c.addHoverData({text:"点击添加一列",direction:"left",changeOtherPosi:-5}))),l["default"].createElement("div",a({className:"line-add table-add-btn a_c",onMouseDown:u["default"].tableAddLineFunc},c.addHoverData({text:"点击添加一行",direction:"top",changeOtherPosi:0}))))},t}(l.Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=l(n(11)),d=l(n(721)),f=l(n(723)),p=l(n(724)),h=l(n(60)),g=l(n(3)),y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._getTableCellList=function(e){for(var t=this.props,n=t.i,r=t.isActivePage,o=[],a=0,i=0;i<n.linePosi.length;i++)o.push(u["default"].createElement(d["default"],{key:i,lineIndex:i,i:n,top:a,mergeObj:e,isActivePage:r})),a+=n.linePosi[i];return o},t.prototype.render=function(){var e,t=this.props,n=t.i,r=t.i.styleIndex,o=h["default"].getStyles({contr:n,type:"tableBox"}),a={mergeCellArr:[],mergeLineData:{rowArr:[],lineArr:[]}};return u["default"].createElement("div",{className:c["default"]("table-cell-box",(e={},e["table-style-"+r]=!0,e)),style:o},this._getTableCellList(a),u["default"].createElement(f["default"],{mergeObj:a,i:n}),u["default"].createElement(p["default"],{mergeObj:a,i:n}))},a([g["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",Array)],t.prototype,"_getTableCellList",null),t}(u.Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(57)),l=a(n(35)),u=window.$,c={position:"absolute",right:10,top:"50%",transform:"translateY(-50%)"},d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props.contr,n=t.btnBackground,r=t.btnFontSize,o=t.btnTextColor,a=t.btnRadius,s=t.btnIsMaxRadius,d=t.btnBorder,f=t.btnBorderColor,p=t.boxBackground,h=t.boxRadius,g=t.boxIsMaxRadius,y=t.boxBorder,m=t.boxBorderColor,_=t.boxFontSize,v=t.hoverBackground,b=t.type,w=t.data,C=t.btnContent,x=t.width,S=t.height,P=t.trigger,k=u.extend(!0,[],l["default"].getDefaultData(b,w)),O=s?Math.ceil(Math.min(x,S)/2):a,E=g?Math.ceil(x/2):h,T={position:"absolute",width:x*u.getScaleRatio(),height:S*u.getScaleRatio(),top:-1,left:-1,boxSizing:"border-box",lineHeight:(S-2*(d||0))*u.getScaleRatio()+"px",background:n,fontSize:r,color:o,borderRadius:O,border:"solid "+Math.round(d*u.getScaleRatio())+"px "+f,textIndent:10},M=e.Dropdown,D=e.Menu,A=e.Icon;return i["default"].createElement(M,{getPopupContainer:u.getPopupContainer,trigger:[P],overlay:i["default"].createElement(D,{style:{background:p,borderRadius:E,border:"solid "+Math.round(y)+"px "+m}},k.map(function(e,t){return i["default"].createElement(D.Item,{key:t,hoverStyle:{background:v},textStyle:{}},i["default"].createElement("div",{style:{fontSize:_}},e.title))}))},i["default"].createElement("div",{className:"ant-dropdown-link",style:T},C," ",i["default"].createElement(A,{style:c,type:"down"})))},t}(i["default"].Component);t.DropdownContrComp=d,t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(57)),d=l(n(3)),f=l(n(35)),p=window,h=p.$,g=p.isPrototypeTool,y=["home","mail_outline","today","turned_in_not","inbox","widgets"],m=function(e){function t(t){var n=e.call(this,t)||this;return n.selectedKeys=null,n.keysObj={selectedKeys:[],openKeys:[],eventKeys:[]},n.state={selectArr:null,antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;c["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype._getItem=function(e,t,n,r,o){var a=this,i=a.state.antdBase.Menu,s=i.SubMenu,l=i.Item,c=a.props.contr.isShowIcon,d=[];return h.isArray(e)?d=e.map(function(e,o){return a._getItem(e,t+(""==t?"":"|")+o,n,r,y[o%6])}):(n[t]=e,d=e.child.length>0?u["default"].createElement(s,{key:t,title:c?u["default"].createElement("div",{className:"menu-list-title"},1==t.split("|").length?u["default"].createElement("i",{className:"expand-icon material-icons menu-list-icon",style:r.iconStyle},e.icon||o):undefined,u["default"].createElement("span",null,e.title)):e.title,selectMenuStyle:r.selectMenuStyle,selectSubMenuStyle:r.selectSubMenuStyle},a._getItem(e.child,t,n,r)):u["default"].createElement(l,{key:t,selectMenuStyle:r.selectMenuStyle,selectItemStyle:r.selectItemStyle},c?u["default"].createElement("div",{className:"menu-list-title"},1==t.split("|").length?u["default"].createElement("i",{className:"expand-icon material-icons menu-list-icon",style:r.iconStyle},e.icon||o):undefined,u["default"].createElement("span",null,e.title)):e.title)),d},t.prototype._getMode=function(){var e=this.props.contr.typeIndex,t="inline";switch(void 0===e?1:e){case 1:t="inline";break;case 2:t="vertical";break;case 3:t="horizontal"}return t},t.prototype._getKeys=function(e){var t=this.keysObj;t.selectedKeys=[],t.openKeys=[],t.eventKeys=[];var r=t.selectedKeys,o=t.openKeys,a=t.eventKeys;for(var i in e){var s=e[i].events&&e[i].events.tA&&"page"==e[i].events.tA.actions[0].type,l=!1;if(!g){var u=n(428)["default"].getPageByName(e[i].title);l=this.props.contr.allowRouter&&!h.isUndefined(u)}e[i].select&&r.push(i),e[i].active&&o.push(i),(s||l)&&a.push(i)}},t.prototype._handleSelectChange=function(e){this.state.selectArr;-1==this.keysObj.eventKeys.indexOf(e.key)&&this.setState({selectArr:[e.key]})},t.prototype.render=function(){var e=this,t=e.state.antdBase;if(!t)return null;var n=e.props,r=n.contr,o=r.type,i=r.data,s=r.background,l=r.fontSize,c=r.textColor,d=r.iconSize,p=r.selectable,y=r.width,m=r.height,_=r.selectBackground,v=r.selectFontSize,b=r.selectTextColor,w=r.lineColor,C=r.lineWidth,x=r.borderColor,S=void 0===x?"rgba(232, 232, 232, 1)":x,P=n.selectFunc,k=void 0===P?h.noop:P,O=n.openFunc,E=void 0===O?h.noop:O,T=e.state.selectArr,M=e._getMode(),D={background:s,fontSize:l,color:c};S&&(D.borderRight="1px solid "+S);var A={fontSize:d},j={},I={},L={};switch("horizontal"==M&&(D.lineHeight=m+"px"),M){case"inline":L=j={background:_,borderRight:C+"px solid "+w,color:b,fontSize:v};break;case"vertical":j={background:_,borderRight:C+"px solid "+w,color:b,fontSize:v},I={background:_,color:b,fontSize:v},L={background:_,color:b,fontSize:v};break;case"horizontal":j={background:_,borderBottom:C+"px solid "+w,color:b,fontSize:v},I={background:_,color:b,fontSize:v},L={background:_,color:b,fontSize:v},D.lineHeight=m+"px"}var R={};e.thisData=h.extend(!0,[],f["default"].getDefaultData(o,i));var B=e._getItem(e.thisData,"",R,{selectMenuStyle:j,selectSubMenuStyle:I,selectItemStyle:L,iconStyle:A});e._getKeys(R);var N=e.keysObj,F=N.selectedKeys,H=N.openKeys;e.selectedKeys=F;var $={};g?("inline"==M&&($.openKeys=H,$.onOpenChange=function(t){E(t,R,e.thisData)}),$.selectedKeys=F,$.onSelect=function(t){k(t,R,e.thisData)}):("inline"==M?$.defaultOpenKeys=H:$.defaultSelectedKeys=F,$.onSelect=e._handleSelectChange,$.selectedKeys=T||F);var z=t.Menu;return u["default"].createElement(z,a({style:h.extend({width:y,height:m},D),mode:M,selectable:p,getPopupContainer:h.getPopupContainer},$),B)},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,String,Object,Object,String]),s("design:returntype",void 0)],t.prototype,"_getItem",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_getMode",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_getKeys",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleSelectChange",null),t}(u["default"].Component);t.MenuBaseContrComp=m,t["default"]=m},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(57)),l=a(n(157)),u=window.$,c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props.contr,n=t.total,r=t.current,o=t.showQuickJumper,a=t.showSizeChanger,s=t.btnRadius,c=t.btnIsMaxRadius,d=t.btnBackground,f=t.btnBorder,p=t.btnBorderColor,h=t.btnFontSize,g=t.btnTextColor,y=t.width,m=t.height,_=t.themeColor,v=c?Math.ceil(Math.min(y,m)/2):s,b=u.setRegion(m,25,35),w={width:b,height:b,lineHeight:b-2*(f||0)+"px",boxSizing:"border-box",background:d,fontSize:h,color:g,borderRadius:v,border:"solid "+Math.round(f)+"px "+p},C={color:_,border:"solid "+Math.round(f)+"px "+_},x=e.LocaleProvider,S=e.Pagination;return i["default"].createElement(x,{locale:l["default"]},i["default"].createElement(S,{defaultCurrent:r,total:10*n,showQuickJumper:o,showSizeChanger:a,btnStyle:w,activeBtnStyle:C}))},t}(i["default"].Component);t.PaginationContrComp=c,t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(57)),c=s(n(157)),d=s(n(3)),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype._onPanelChange=function(e,t){this.props.contrId},t.prototype.componentDidMount=function(){var e=this;u["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props.contr,n=t.themeColor,r={background:t.background},o={height:t.height-32-20},a={borderColor:n,color:n},i={background:$.setColorOpacity(n,".15")},s={borderTopColor:n},u=e.LocaleProvider,d=e.Calendar;return l["default"].createElement(u,{locale:c["default"]},l["default"].createElement(d,{onPanelChange:this._onPanelChange,style:r,tableStyle:o,checkedTypeStyle:a,selectTdStyle:i,todayTdStyle:s}))},a([d["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"_onPanelChange",null),t}(l["default"].Component);t.CalendarContrComp=f,t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(57)),d=s(n(330)),f=s(n(42)),p=window,h=p.$,g=p.isPrototypeTool,y=h.getStaticUrl(),m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;c["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype._handleChange=function(e){this.props.contrId},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props.contr,n=t.type,r=t.data,o=t.radius,a=t.isMaxRadius,i=t.autoplay,s=t.dots,u=t.effect,c=t.vertical,p=t.dotBackground,m=t.dotSelectBackground,_=t.speed,v=void 0===_?20:_,b=t.width,w=t.height,C=t.isEdit,x=void 0!==C&&C,S=h.extend(!0,[],d["default"].getDefaultData(n,r)),P=a?Math.ceil(Math.min(b,w)/2):o,k="preview"==f["default"].getPreviewInfo().mode,O=e.Carousel;return l["default"].createElement(O,{style:{width:b*h.getScaleRatio(),height:w*h.getScaleRatio()},boxStyle:{borderRadius:P||0},dotStyle:{background:p},dotSelectStyle:{background:m},afterChange:this._handleChange,autoplay:(k&&!g||x)&&i,dots:s,effect:u?"fade":"scrollx",vertical:c,speed:10*v},S.map(function(e,t){return l["default"].createElement("a",{key:e.src+t,className:"carousel-img-a",style:{display:"inline-block",width:"100%",height:w,borderRadius:P,overflow:"hidden"}},-1==e.src.indexOf("default")?l["default"].createElement("img",{src:y+e.src,alt:"",style:{width:"100%",verticalAlign:"middle"}}):l["default"].createElement("div",{className:"default-img material-icons carousel-default-img",style:{height:w,width:b}}))}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_handleChange",null),t}(l["default"].Component);t.CarouselContrComp=m,t["default"]=m},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(57)),d=l(n(157)),f=l(n(35)),p=l(n(3)),h=window,g=h.$,y=h.isPrototypeTool;function m(e,t){return t.some(function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1})}var _=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;c["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype._getOptions=function(e,t){var n=this;return e.map(function(e,r){var o=e.child,a=e.title,i=e.select,s=t+(t?"|":"")+r;return{value:s,label:a,select:i,children:n._getOptions(o,s)}})},t.prototype._getSelectArr=function(e,t,n){var r,o=this;if(e.map(function(e,a){var i=e.select,s=e.child,l=t+(t?"|":"")+a;s&&o._getSelectArr(s,l,n),i&&(r=l)}),r){var a="";r.split("|").forEach(function(e){a=a+(a?"|":"")+e,n.push(a)})}return n},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props,n=t.contr,r=n.showSearch,o=n.placeholder,i=n.expandTrigger,s=n.btnBackground,l=n.btnFontSize,c=n.btnTextColor,p=n.btnRadius,h=n.btnIsMaxRadius,_=n.btnBorder,v=n.btnBorderColor,b=n.type,w=n.data,C=n.width,x=n.height,S=t.changeFunc,P=void 0===S?g.noop:S,k=h?Math.ceil(Math.min(C,x)/2):p,O=Math.max(x,20),E=g.getScaleRatio(),T={width:C*E,height:O*E},M=a({position:"absolute",boxSizing:"border-box",background:s||"transparent",borderRadius:k,border:"solid "+Math.round(_)+"px "+v},T),D={fontSize:l,color:c},A=g.extend(!0,[],f["default"].getDefaultData(b,w)),j=this._getOptions(A,""),I={},L=[];L=this._getSelectArr(A,"",L),y?I.value=L:I.defaultValue=L;var R=e.LocaleProvider,B=e.Cascader;return r&&(I.showSearch={filter:m}),u["default"].createElement(R,{locale:d["default"]},u["default"].createElement(B,a({onChange:P,style:T,options:j,placeholder:L.length?L:o,getPopupContainer:g.getPopupContainer,inputStyle:M,textStyle:D,expandTrigger:i},I)))},i([p["default"],s("design:type",Function),s("design:paramtypes",[Object,String]),s("design:returntype",void 0)],t.prototype,"_getOptions",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object,String,Object]),s("design:returntype",void 0)],t.prototype,"_getSelectArr",null),t}(u["default"].Component);t.CascaderContrComp=_,t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(57)),u=i(n(35)),c=window,d=c.$,f=c.isPrototypeTool,p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props,n=t.contr,r=n.fontSize,o=n.textColor,i=n.iconColor,l=n.selectIconColor,c=n.isVertical,p=n.type,h=n.data,g=n.paddingVal,y=void 0===g?10:g,m=t.changeFunc,_=void 0===m?d.noop:m,v={fontSize:r,color:o},b={borderColor:l},w={borderColor:i},C="";c&&(C=" is-vertical");var x=d.extend(!0,[],u["default"].getDefaultData(p,h)),S=[],P=[];x.forEach(function(e,t){var n=e.select,r=e.title;n&&P.push(r+"|"+t),S.push(r)});var k={};f?k.value=P:k.defaultValue=P;var O=e.Checkbox;return s["default"].createElement(O.Group,a({options:S,onChange:_,style:v,iconStyle:b,baseIconStyle:w,labelAddClass:C,paddingVal:y},k))},t}(s["default"].Component);t.CheckboxContrComp=p,t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(57)),u=i(n(155)),c=i(n(157)),d=window.$,f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props,n=t.contr,r=n.placeholder,o=n.typeIndex,i=n.btnBackground,l=n.btnFontSize,f=n.btnTextColor,p=n.btnRadius,h=n.btnIsMaxRadius,g=n.btnBorder,y=n.btnBorderColor,m=n.width,_=n.height,v=n.value,b=t.changeFunc,w=void 0===b?d.noop:b,C=t.openChangeFunc,x=void 0===C?d.noop:C,S=t.dateVal,P=2==o?["开始时间","结束时间"]:r,k=h?Math.ceil(Math.min(m,_)/2):p,O=Math.max(_,20),E={position:"absolute",width:m*d.getScaleRatio(),height:O*d.getScaleRatio(),boxSizing:"border-box",background:i||"transparent",borderRadius:k,border:"solid "+Math.round(g)+"px "+y},T={fontSize:l,color:f},M={width:m*d.getScaleRatio(),height:O*d.getScaleRatio()},D={},A=d.isUndefined(S)?v:S;2==o&&A?d.isArray(A)&&""==A[0]&&""==A[1]||(d.isArray(A)||(A=[A,A]),D.value=[u["default"](A[0],"YYYY-MM-DD"),u["default"](A[1],"YYYY-MM-DD")]):A&&(d.isArray(A)&&(A=A[0]),D.value=u["default"](A,"YYYY-MM-DD"));var j=e.LocaleProvider,I=e.DatePicker,L=2==o?I.RangePicker:I;return s["default"].createElement(j,{locale:c["default"]},s["default"].createElement(L,a({style:M,placeholder:P,onChange:w,onOpenChange:x,getCalendarContainer:d.getPopupContainer},{inputStyle:E,textStyle:T},D)))},t}(s["default"].Component);t.DatePickerBaseContrComp=f,t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(57)),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props,n=t.contr,r=n.num,o=n.value,i=n.disabled,l=n.allowClear,u=n.allowHalf,c=n.iconSize,d=n.iconColor,f=n.typeIndex,p=n.selectIconColor,h=t.changeFunc,g={};h?(g.value=Math.min(o,r),g.onChange=h):g.defaultValue=Math.min(o,r),2==f&&(g.iconType="heart");var y=e.Rate;return s["default"].createElement(y,a({count:r,disabled:i,allowClear:l,allowHalf:u,style:{color:d},iconStyle:{fontSize:c,color:p}},g))},t}(s["default"].Component);t.RateBaseContrComp=u,t["default"]=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(57)),u=i(n(35)),c=window,d=c.$,f=c.isPrototypeTool,p=function(e){function t(t){var n=e.call(this,t)||this;return n.domRef=null,n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props,n=t.contr,r=n.fontSize,o=n.textColor,i=n.iconColor,l=n.selectIconColor,c=n.isVertical,p=n.type,h=n.data,g=n.paddingVal,y=void 0===g?10:g,m=t.changeFunc,_=void 0===m?d.noop:m,v=d.extend(!0,[],u["default"].getDefaultData(p,h)),b={fontSize:r,color:o},w={borderColor:l},C={borderColor:i},x="";c&&(x=" is-vertical");var S=0,P=e.Radio,k=v.map(function(e,t){var n=e.select,r=e.title;return n&&(S=t),s["default"].createElement(P,{labelAddClass:x,key:t,value:t,style:b,iconStyle:w,baseIconStyle:C,paddingVal:y,isLast:t==v.length-1},r)}),O={};return f?O.value=S:O.defaultValue=S,s["default"].createElement(P.Group,a({onChange:_},O),k)},t}(s["default"].Component);t.RadioContrComp=p,t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(57)),u=i(n(157)),c=i(n(35)),d=window,f=d.$,p=d.isPrototypeTool,h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props,n=t.contr,r=n.isMultiple,o=n.showSearch,i=n.placeholder,l=n.btnBackground,d=n.btnFontSize,h=n.btnTextColor,g=n.btnRadius,y=n.btnIsMaxRadius,m=n.btnBorder,_=n.btnBorderColor,v=n.boxBackground,b=n.boxRadius,w=n.boxIsMaxRadius,C=n.boxBorder,x=n.boxBorderColor,S=n.boxFontSize,P=n.hoverBackground,k=n.type,O=n.data,E=n.width,T=n.height,M=t.changeFunc,D=void 0===M?f.noop:M,A=f.extend(!0,[],c["default"].getDefaultData(k,O)),j=r?"multiple":"",I=y?Math.ceil(Math.min(E,T)/2):g,L=w?Math.ceil(E/2):b,R={position:"absolute",width:E*f.getScaleRatio(),minHeight:T*f.getScaleRatio(),boxSizing:"border-box",background:l||"transparent",borderRadius:I,border:"solid "+Math.round(m*f.getScaleRatio())+"px "+_},B={height:(T-2*(m||0))*f.getScaleRatio(),lineHeight:(T-2*(m||0))*f.getScaleRatio()+"px",fontSize:d,color:h,top:"auto",marginTop:0,width:E*f.getScaleRatio()},N={fontSize:S,background:v,borderRadius:L,border:"solid "+Math.round(C)+"px "+x},F={background:P},H=r?[]:"",$=e.LocaleProvider,z=e.Select,U=A.map(function(e,t){var n=e.title,o=e.select;return r&&o?H.push(n+"|"+t):o&&(H=n+"|"+t),s["default"].createElement(z.Option,{key:n+"|"+t,value:n+"|"+t},n)});r||0!=H.length||(H=undefined);var V={};return p?V.value=H:f.isUndefined(H)||(V.defaultValue=H),s["default"].createElement($,{locale:u["default"]},s["default"].createElement(z,a({style:{width:E,height:T},onChange:D,dropdownMatchSelectWidth:!0,mode:j,showSearch:o,placeholder:i,btnStyle:R,placeholderStyle:B,dropdownMenuStyle:N,hoverStyle:F,getPopupContainer:f.getPopupContainer},V),U))},t}(s["default"].Component);t.SelectBaseContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(57)),d=l(n(157)),f=l(n(3)),p=l(n(35)),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;c["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype._handleChange=function(e){this.props.contrId},t.prototype._getSelectArr=function(e,t,n){var r=this;return e.map(function(e,o){var a=e.select,i=e.child,s=t+(t?"|":"")+o;i&&r._getSelectArr(i,s,n),a&&n.push(s)}),n},t.prototype._renderTreeNode=function(e,t){var n=this,r=n.state.antdBase.Tree.TreeNode;return e.map(function(e,o){var a=t+(t?"|":"")+o;return u["default"].createElement(r,{value:a,title:e.title,key:a,onNodeExpand:n._handleChange},e.child?n._renderTreeNode(e.child,a):null)})},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props,n=t.contr,r=n.type,o=n.data,i=n.placeholder,s=n.isMultiple,l=n.showSearch,c=n.btnBackground,f=n.btnFontSize,g=n.btnTextColor,y=n.btnRadius,m=n.btnIsMaxRadius,_=n.btnBorder,v=n.btnBorderColor,b=n.width,w=n.height,C=t.selectFunc,x=void 0===C?h.noop:C,S=m?Math.ceil(Math.min(b,w)/2):y,P=Math.max(w,20),k={position:"absolute",width:b*h.getScaleRatio(),height:P*h.getScaleRatio(),boxSizing:"border-box",background:c||"transparent",borderRadius:S,border:"solid "+Math.round(_)+"px "+v},O={fontSize:f,color:g},E={width:b*h.getScaleRatio(),height:P*h.getScaleRatio()},T=h.extend(!0,[],p["default"].getDefaultData(r,o)),M=this._getSelectArr(T,"",[]),D={};window.isPrototypeTool?D.value=M:D.defaultValue=M;var A=e.LocaleProvider,j=e.TreeSelect;return u["default"].createElement(A,{locale:d["default"]},u["default"].createElement(j,a({showSearch:l,multiple:s,dropdownStyle:{maxHeight:400,overflow:"auto"},style:E,placeholder:i,allowClear:!0,treeDefaultExpandAll:!0,onChange:x,onSelect:x,getPopupContainer:h.getPopupContainer,inputStyle:k,textStyle:O},D),this._renderTreeNode(T,"")))},i([f["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleChange",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object,String,Object]),s("design:returntype",void 0)],t.prototype,"_getSelectArr",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object,String]),s("design:returntype",void 0)],t.prototype,"_renderTreeNode",null),t}(u["default"].Component);t.TreeSelectContrComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(57)),u=i(n(155)),c=window.$,d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props,n=t.contr,r=n.placeholder,o=n.formatType,i=n.btnBackground,l=n.btnFontSize,d=n.btnTextColor,f=n.btnRadius,p=n.btnIsMaxRadius,h=n.btnBorder,g=n.btnBorderColor,y=n.width,m=n.height,_=n.value,v=t.changeFunc,b=void 0===v?c.noop:v,w=t.openChangeFunc,C=void 0===w?c.noop:w,x=t.timeVal,S=p?Math.ceil(Math.min(y,m)/2):f,P=Math.max(m,20),k={position:"absolute",width:y*c.getScaleRatio(),height:P*c.getScaleRatio(),boxSizing:"border-box",background:i||"transparent",borderRadius:S,border:"solid "+Math.round(h)+"px "+g},O={fontSize:l,color:d},E={width:y*c.getScaleRatio(),height:P*c.getScaleRatio()},T={},M=c.isUndefined(x)?_:x;T.value=M?u["default"](M,o):null;var D=e.TimePicker;return s["default"].createElement(D,a({onChange:b,onOpenChange:C,defaultOpenValue:u["default"]("HH:mm"==o?"00:00":"00:00:00",o),format:o,style:E,placeholder:r,getPopupContainer:c.getPopupContainer,inputStyle:k,textStyle:O},T))},t}(s["default"].Component);t.TimePickerBaseContrComp=d,t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(57)),d=l(n(157)),f=l(n(3)),p=l(n(35)),h=window,g=h.$,y=h.isPrototypeTool,m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={targetKeys:undefined,selectedKeys:undefined,antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;c["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype._getThisData=function(e){var t={mockData:[],targetKeys:[],selectedKeys:[],dataObj:{}};return e.forEach(function(e,n){e.child.forEach(function(e,r){var o=n+"|"+r;t.dataObj[o]=e,1==n&&t.targetKeys.push(o),t.mockData.push({key:o,title:e.title}),e.select&&t.selectedKeys.push(o)})}),t},t.prototype.render=function(){var e=this,t=e.state.antdBase;if(!t)return null;var n=e.props,r=n.contr,o=r.themeColor,i=r.background,s=r.radius,l=r.isMaxRadius,c=r.border,f=r.borderColor,h=r.fontSize,m=r.textColor,_=r.listOneName,v=r.listTwoName,b=r.type,w=r.data,C=r.width,x=r.height,S=n.selectChangeFunc,P=void 0===S?g.noop:S,k=n.changeFunc,O=void 0===k?g.noop:k;e.thisData=g.extend(!0,[],p["default"].getDefaultData(b,w));var E={width:(C-50)/2,height:x,background:i,borderRadius:l?Math.ceil(Math.min(C,x)/2):s,border:"solid "+Math.round(c)+"px "+f,fontSize:h,color:m},T={background:o,borderColor:o},M={background:o,borderColor:o},D=[_,v],A=e._getThisData(e.thisData),j=A.mockData,I=A.targetKeys,L=A.selectedKeys,R=this.state,B=R.targetKeys,N=R.selectedKeys,F={};y?(F.targetKeys=I,F.selectedKeys=L):(F.targetKeys=g.isUndefined(B)?I:B,F.selectedKeys=g.isUndefined(N)?L:N);var H=t.LocaleProvider,$=t.Transfer;return u["default"].createElement(H,{locale:d["default"]},u["default"].createElement($,a({dataSource:j,titles:D,listStyle:E,btnActiveStyle:T,checkBoxStyle:M,onChange:function(t,n){y?O(t,n,e.thisData):e.setState({targetKeys:t})},onSelectChange:function(t,n){y?P(t,n,e.thisData):e.setState({selectedKeys:t.concat(n)})},render:function(e){return e.title}},F)))},i([f["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_getThisData",null),t}(u["default"].Component);t.TransferContrComp=m,t["default"]=m},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(57)),l=a(n(209)),u=window.$,c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdBase;if(!e)return null;var t=this.props,n=t.contr,r=n.border,o=n.borderColor,a=n.radius,s=n.isMaxRadius,c=n.listHeight,d=n.fontSize,f=n.textColor,p=n.iconSize,h=n.iconColor,g=n.headerBackground,y=n.childFontSize,m=n.childTextColor,_=n.childBackground,v=n.data,b=n.type,w=n.typeIndex,C=n.accordion,x=void 0!==C&&C,S=n.width,P=n.height,k=t.changeFunc,O=void 0===k?u.noop:k,E=l["default"].getDefaultData(b,v),T={},M={borderRadius:s?Math.min(P,S)/2:a,border:"solid "+Math.round(r)+"px "+o},D={height:c,lineHeight:c+"px",fontSize:d,color:f,background:g||"transparent"},A={top:(c-p)/2,fontSize:p,color:h},j={fontSize:y,color:m,background:_||"transparent"},I=[];E.forEach(function(e,t){e.active&&I.push(t+1+"")}),3==w&&(T.marginBottom=16,T.overflow="hidden",T.borderRadius=s?Math.min(P,S)/2:a);var L=e.Collapse;return i["default"].createElement(L,{defaultActiveKey:I,onChange:O,style:M,bordered:1==w,accordion:x},E.map(function(e,t){return i["default"].createElement(L.Panel,{style:T,headerStyle:D,iconStyle:A,panelContentStyle:j,header:e.title,key:t},e.content.map(function(e,n){return i["default"].createElement("p",{key:t+"|"+n},e)}))}))},t}(i["default"].Component);t.CollapseBaseContrComp=c,t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(57)),d=l(n(3)),f=l(n(35)),p=window,h=p.$,g=p.isPrototypeTool,y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;c["default"](function(t){e.setState({antdBase:t["default"]})})},t.prototype._renderTreeNode=function(e,t,n,r){var o=this,i=o.state.antdBase.Tree.TreeNode;return e.map(function(e,s){return r[n+"-"+s]=e,u["default"].createElement(i,a({title:e.title,key:n+"-"+s},{checkBoxStyle:t.checkBoxStyle,titleStyle:t.titleStyle,titleActiveStyle:t.titleActiveStyle}),"addStructFolder",e.child?o._renderTreeNode(e.child,t,n+"-"+s,r):null)})},t.prototype._getOpenKeys=function(e,t){for(var n in e)e[n].active&&t.push(n)},t.prototype._getSelectKeys=function(e,t){for(var n in e)e[n].select&&t.push(n)},t.prototype.render=function(){var e=this,t=e.state.antdBase;if(!t)return null;var n=e.props,r=n.selectFunc,o=void 0===r?h.noop:r,i=n.openFunc,s=void 0===i?h.noop:i,l=n.contr,c=l.checkable,d=l.checkboxIconColor,p=l.fontSize,y=l.textColor,m=l.type,_=l.data;e.thisData=h.extend(!0,[],f["default"].getDefaultData(m,_));var v={borderColor:d,background:d},b={color:y,fontSize:p},w={color:y,fontSize:p,background:h.setColorOpacity(d,".4")},C={},x=this._renderTreeNode(e.thisData,{checkBoxStyle:v,titleStyle:b,titleActiveStyle:w},"0",C),S=[],P=[];e._getOpenKeys(C,S),e._getSelectKeys(C,P);var k={};g?(k.expandedKeys=S,k.selectedKeys=P):(k.defaultExpandedKeys=S,k.defaultSelectedKeys=P);var O=t.Tree;return u["default"].createElement(O,a({checkable:c,onSelect:function(t){o(t,C,e.thisData)},onExpand:function(t){s(t,C,e.thisData)}},k),x)},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,String,Object]),s("design:returntype",void 0)],t.prototype,"_renderTreeNode",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"_getOpenKeys",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"_getSelectKeys",null),t}(u["default"].Component);t.TreeContrComp=y,t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(64)),l=a(n(330)),u=a(n(42)),c=window,d=c.$,f=c.isPrototypeTool,p=d.getStaticUrl(),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={imgHeight:176,antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.render=function(){var e=this,t=e.state.antdMobileBase;if(!t)return null;var n=e.props.contr,r=n.autoplay,o=n.dots,a=n.dotColor,s=n.activeDotColor,c=n.radius,h=n.isMaxRadius,g=n.typeIndex,y=void 0===g?1:g,m=n.type,_=n.data,v=n.width,b=n.height,w=n.isEdit,C=void 0!==w&&w,x=d.extend(!0,[],l["default"].getDefaultData(m,_)),S=h?Math.ceil(Math.min(v,b)/2):c,P="preview"==u["default"].getPreviewInfo().mode,k=t.Carousel;return i["default"].createElement(k,{style:{width:v*d.getScaleRatio(),height:b*d.getScaleRatio()},cellSpacing:2==y?10:0,slideWidth:2==y?.8:undefined,dotStyle:{background:a},dotActiveStyle:{background:s},autoplay:(P&&!f||C)&&r,dots:o,infinite:!0},x.map(function(t,n){return i["default"].createElement("a",{key:t.src+n,className:"carousel-img-a",style:{display:"inline-block",width:"100%",height:b*d.getScaleRatio(),borderRadius:S,overflow:"hidden"}},-1==t.src.indexOf("default")?i["default"].createElement("img",{src:p+t.src,alt:"",style:{width:"100%",verticalAlign:"middle"},onLoad:function(){window.dispatchEvent(new Event("resize")),e.setState({imgHeight:"auto"})}}):i["default"].createElement("div",{className:"default-img material-icons carousel-default-img"}))}))},t}(i["default"].Component);t.CarouselMContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(64)),l=a(n(35)),u=a(n(42)),c=window,d=c.$,f=c.isPrototypeTool,p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={imgHeight:176,antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t=this.props.contr,n=t.fontSize,r=t.textColor,o=t.vertical,a=t.speed,s=t.type,c=t.data,p=t.height,h=t.isEdit,g=void 0!==h&&h,y=d.extend(!0,[],l["default"].getDefaultData(s,c)),m="preview"==u["default"].getPreviewInfo().mode,_=e.WingBlank,v=e.Carousel;return i["default"].createElement(_,null,i["default"].createElement(v,{className:"my-carousel",vertical:o,dots:!1,dragging:!1,swiping:!1,autoplay:m&&!f||g,infinite:!0,autoplayInterval:100*a,style:{height:p,lineHeight:p+"px"}},y.map(function(e,t){return i["default"].createElement("div",{className:"v-item",key:t,style:{color:r,fontSize:n}},e.title)})))},t}(i["default"].Component);t.CarouselTextMContrComp=p,t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(64)),u={prevText:"Prev",nextText:"Next"},c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t=this.props.contr,n=t.maxVal,r=t.value,o=t.btnWidth,i=t.btnRadius,l=t.btnIsMaxRadius,c=t.btnBackground,d=t.btnBorder,f=t.btnBorderColor,p=t.btnFontSize,h=t.btnTextColor,g=t.leftBtnText,y=t.rightBtnText,m=t.fontSize,_=t.textColor,v=t.activeTextColor,b=t.height,w=l?Math.min(b,o)/2:i,C=e.Pagination;return s["default"].createElement(C,a({},{locale:u},{total:Math.round(n),current:Math.round(r),btnStyle:{height:b,width:o,background:c,border:"solid "+Math.round(d)+"px "+f,borderRadius:w,fontSize:p,color:h,lineHeight:Math.round(b-d)+"px"},textStyle:{fontSize:m,color:_},activeTextColor:v,onChange:function(e){console.log(e)},leftBtnText:g,rightBtnText:y}))},t}(s["default"].Component);t.PaginationMContrComp=c,t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(64)),d=l(n(633)),f=l(n(634)),p=l(n(3)),h={"2017/07/15":{info:"Disable",disable:!0}},g=new Date;Object.keys(h).forEach(function(e){var t=h[e],n=new Date(e);Number.isNaN(+n)||h[+n]||(h[+n]=t)});var y=function(e){function t(t){var n=e.call(this,t)||this;return n.originbodyScrollY=document.getElementsByTagName("body")[0].style.overflowY,n.state={en:!1,show:!1,config:{},startTime:undefined,endTime:undefined,antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;c["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.renderBtn=function(e,t){var n=this;void 0===t&&(t={});var r=this.state.antdMobileBase;t.locale=f["default"];var o=this.props.contr,a=o.title,i=o.fontSize,s=o.textColor,l=r.List;return u["default"].createElement(l.Item,{arrow:"horizontal",className:"change-style-title",onClick:function(){document.getElementsByTagName("body")[0].style.overflowY="hidden",n.setState({show:!0,config:t})},wrapStyle:{color:s,fontSize:i}},a)},t.prototype.changeLanguage=function(){this.setState({en:!this.state.en})},t.prototype.onSelectHasDisableDate=function(e){console.warn("onSelectHasDisableDate",e)},t.prototype.onConfirm=function(e,t){document.getElementsByTagName("body")[0].style.overflowY=this.originbodyScrollY,this.setState({show:!1,startTime:e,endTime:t})},t.prototype.onCancel=function(){document.getElementsByTagName("body")[0].style.overflowY=this.originbodyScrollY,this.setState({show:!1,startTime:undefined,endTime:undefined})},t.prototype.getDateExtra=function(e){return h[+e]},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t=this.props.contr,n=t.height,r=t.typeIndex,o=this.state,i=o.startTime,s=o.endTime,l=e.List,c=e.Calendar;return u["default"].createElement("div",null,u["default"].createElement(l,{className:"calendar-list",style:{height:n}},this.renderBtn("选择日期区间"),this.state.startTime&&u["default"].createElement(l.Item,null,"Time1: ",i.toLocaleString()),this.state.endTime&&u["default"].createElement(l.Item,null,"Time2: ",s.toLocaleString())),this.state.show?u["default"].createElement(d["default"],{prefixCls:"am-picker-popup",visible:!0,closable:!1},u["default"].createElement("div",null,u["default"].createElement(c,a({},this.state.config,{visible:this.state.show,onCancel:this.onCancel,onConfirm:this.onConfirm,onSelectHasDisableDate:this.onSelectHasDisableDate,getDateExtra:this.getDateExtra,defaultDate:g,minDate:new Date(+g-5184e6),maxDate:new Date(+g+31536e6),type:1==r?"one":"range"})))):undefined)},i([p["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"renderBtn",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"changeLanguage",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"onSelectHasDisableDate",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"onConfirm",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"onCancel",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getDateExtra",null),t}(u["default"].Component);t.CalendarMContrComp=y,t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(64)),l=Date.now(),u=new Date(l),c=new Date(u.getTime()+6e4*u.getTimezoneOffset()),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={date:u,time:u,utcDate:c,dpValue:null,customChildValue:null,visible:!1,antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.render=function(){var e=this,t=e.state.antdMobileBase;if(!t)return null;var n,r=e.props.contr,o=r.title,a=r.fontSize,s=r.textColor,l=r.formatType,u=r.height;"YYYY-MM-DD"==l?n="date":"HH:mm"==l&&(n="time");var c=t.DatePicker,d=t.List;return i["default"].createElement(c,{value:e.state.date,onChange:function(t){return e.setState({date:t})},mode:n},i["default"].createElement(d.Item,{arrow:"horizontal",className:"change-style-title",wrapStyle:{height:u,color:s,fontSize:a}},o))},t}(i["default"].Component);t.DatePickerMContrComp=d,t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(64)),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t=this.props,n=t.contr,r=n.minVal,o=n.maxVal,i=n.btnWidthHeight,l=n.btnBackground,u=n.btnBorder,c=n.btnBorderColor,d=n.lineHeight,f=n.lineColor,p=n.lineSelectColor,h=t.changeFunc,g={};h?(g.value=[r,o],g.onChange=h("change"),g.onAfterChange=h("afterChange")):g.defaultValue=[r,o];var y=e.Range;return s["default"].createElement(y,a({},{style:{height:d}},g,{min:0,max:100,handleStyle:[{background:l,width:i,height:i,border:"solid "+Math.round(u)+"px "+c,top:d/2},{background:l,width:i,height:i,border:"solid "+Math.round(u)+"px "+c,top:d/2}],trackStyle:[{background:p,height:d}],railStyle:{height:d,background:f}}))},t}(s["default"].Component);t.RangeMBaseContrComp=u,t["default"]=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(64)),d=l(n(3)),f=window,p=f.$,h=f.isPrototypeTool,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={stateValue:undefined,antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;c["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype._handleChange=function(e){this.setState({stateValue:e==+e?+e:1})},t.prototype._handleDownClick=function(e){var t=this.state.stateValue,n=this.props.contr.value,r=p.isUndefined(t)?n:t;this.setState({stateValue:r-1})},t.prototype._handleUpClick=function(e){var t=this.state.stateValue,n=this.props.contr.value,r=p.isUndefined(t)?n:t;this.setState({stateValue:r+1})},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t=this.props,n=t.contr,r=n.value,o=n.btnRadius,i=n.btnBorder,s=n.btnBorderColor,l=n.btnIsMaxRadius,c=n.btnBackground,d=n.btnIconColor,f=n.btnIconSize,g=n.allowInput,y=n.maxVal,m=n.minVal,_=n.textColor,v=n.fontSize,b=n.height,w=t.changeFunc,C=t.downClickFunc,x=t.upClickFunc,S=this.state.stateValue,P={};if(w&&h)P.value=Math.round(p.setRegion(r,m,y)),P.onChange=w,P.downClickFunc=C,P.upClickFunc=x;else{var k=p.isUndefined(S)?r:S;P.value=Math.round(p.setRegion(k,m,y)),P.onChange=this._handleChange,P.downClickFunc=this._handleDownClick,P.upClickFunc=this._handleUpClick}var O=p.setRegion(b,15,35),E=e.Stepper;return u["default"].createElement(E,a({},{style:{width:"100%"}},{readOnly:!g,showNumber:!0,max:Math.round(y),min:Math.round(m),step:1,iconStyle:{color:d,fontSize:f},btnStyle:{border:"solid "+Math.round(i*p.getScaleRatio())+"px "+s,borderRadius:Math.round((l?O:o)*p.getScaleRatio()),backgroundColor:c,height:Math.round(O*p.getScaleRatio()),width:Math.round(O*p.getScaleRatio()),top:Math.floor((35-O)/2*p.getScaleRatio()),lineHeight:Math.round((O-i)*p.getScaleRatio())+"px"},textStyle:{color:_,fontSize:Math.round(v),height:Math.round(v),lineHeight:Math.round(v)+"px"}},P))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleChange",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleDownClick",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleUpClick",null),t}(u["default"].Component);t.StepperMBaseContrComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(64)),u=i(n(35)),c=window,d=c.$,f=c.isPrototypeTool,p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectIndex:undefined,antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.render=function(){var e=this,t=e.state.antdMobileBase;if(!t)return null;var n=e.props,r=n.contr,o=r.listHeight,i=r.background,l=r.fontSize,c=r.textColor,p=r.selectIconColor,h=r.selectTextColor,g=r.type,y=r.data,m=n.changeFunc,_=void 0===m?d.noop:m,v=e.state.selectIndex,b=d.extend(!0,[],u["default"].getDefaultData(g,y)),w=t.Radio,C=t.List;return s["default"].createElement(C,null,b.map(function(t,n){var r=t.title,u=t.select,g={};return f?(g.checked=u,g.onChange=function(){return _(n)}):(g.checked=d.isUndefined(v)?u:v==n,g.onChange=function(){e.setState({selectIndex:n})}),s["default"].createElement(w.RadioItem,a({key:r+n+u,wrapStyle:{height:o,background:i},textStyle:{fontSize:l,color:c},iconStyle:{borderColor:p},selectTextStyle:{color:h}},g),r)}))},t}(s["default"].Component);t.RadioMContrComp=p,t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(64)),u=i(n(35)),c=window,d=c.$,f=c.isPrototypeTool,p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t=this.props,n=t.contr,r=n.listHeight,o=n.background,i=n.fontSize,l=n.textColor,c=n.selectIconColor,p=n.iconColor,h=n.selectTextColor,g=n.type,y=n.data,m=t.changeFunc,_=void 0===m?d.noop:m,v=d.extend(!0,[],u["default"].getDefaultData(g,y)),b=e.List,w=e.Checkbox;return s["default"].createElement(b,null,v.map(function(e,t){var n=e.title,u=e.select,d={};return f?d.checked=u:d.defaultChecked=u,s["default"].createElement(w.CheckboxItem,a({key:n+t+u,onChange:function(){return _(t)},wrapStyle:{height:r,background:o},textStyle:{fontSize:i,color:l},iconStyle:{borderColor:c},baseIconStyle:{borderColor:p},selectTextStyle:{color:h}},d),n)}))},t}(s["default"].Component);t.CheckboxMBaseContrComp=p,t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(64)),c=s(n(3)),d=s(n(35)),f=window.$,p=function(e){function t(t){var n=e.call(this,t)||this;return n.thisData=null,n.onCancel=function(){var e=n.props.cancelFunc;e&&e(n.thisData),n.setState({show:!1})},n.onOk=function(){n.setState({show:!1})},n.state={show:!1,antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;u["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.handleClick=function(e){e.preventDefault(),this.setState({show:!this.state.show})},t.prototype.onMaskClick=function(){this.setState({show:!1})},t.prototype.getThisData=function(e,t){return e.map(function(e,n){return e.select&&t.push(n+""),{value:n+"",label:e.title,children:e.child.map(function(e,r){return e.select&&t.push(n+"|"+r),{label:e.title,value:n+"|"+r}})}})},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t=this.props,n=t.contr,r=n.allowMultiple,o=n.level,a=n.themeColor,i=n.background,s=n.title,u=n.fontSize,c=n.textColor,p=n.iconKey,h=n.iconSize,g=n.iconColor,y=n.type,m=n.data,_=n.typeIndex,v=n.height,b=t.changeFunc,w=void 0===b?f.noop:b,C=f.extend(!0,[],d["default"].getDefaultData(y,m));this.thisData=C;var x=[],S=this.getThisData(C,x),P=this.state.show,k={height:v*f.getScaleRatio(),background:i},O={fontSize:h,color:g},E={fontSize:u,color:c},T={color:a};if(4==_){var M=x[0];x.slice(1),x=[M,x]}var D=e.Menu,A=l["default"].createElement(D,{className:"foo-menu",data:S,value:x,onOk:this.onOk,onCancel:this.onCancel,onChange:function(e){w(e,C)},multiSelect:r,selectStyle:T,themeColor:a,level:o});return l["default"].createElement("div",{className:P?"menu-active":""},l["default"].createElement("div",{className:"menu-header",style:k,onClick:this.handleClick},l["default"].createElement("i",{className:"menu-icon material-icons",style:O},p),l["default"].createElement("span",{className:"menu-text",style:E},s)),P?A:null,P?l["default"].createElement("div",{className:"menu-mask",onClick:this.onMaskClick}):null)},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleClick",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onMaskClick",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"getThisData",null),t}(l["default"].Component);t.MenuMContrComp=p,t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(64)),c=s(n(35)),d=s(n(3)),f=window,p=f.$,h=f.isPrototypeTool,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={stateValue:undefined,antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;u["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype._getData=function(e,t){return e.map(function(e,n){return e.child.map(function(e,r){var o=e.title,a=e.select,i=n+"|"+r;return a&&t.push(i),{label:o,value:i}})})},t.prototype._handleChangeValue=function(e){this.setState({stateValue:e})},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t=this.props,n=t.contr,r=n.title,o=n.fontSize,a=n.textColor,i=n.height,s=t.changeFunc,u=void 0===s?p.noop:s,d=this.props.contr,f=d.type,g=d.data,y=this.state.stateValue,m=p.extend(!0,[],c["default"].getDefaultData(f,g)),_=[],v=this._getData(m,_);h||(_=p.isUndefined(y)?_:y,u=this._handleChangeValue);var b=e.Picker,w=e.List;return l["default"].createElement(w,{style:{height:i},className:"picker-list"},l["default"].createElement(b,{data:v,cascade:!1,extra:"请选择",value:_,onChange:u},l["default"].createElement(w.Item,{arrow:"horizontal",className:"change-style-title",wrapStyle:{height:i,color:a,fontSize:o}},r)))},a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_handleChangeValue",null),t}(l["default"].Component);t.PickerMContrComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(64)),l=a(n(35)),u=window.$,c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t=this.props,n=t.contr,r=n.themeColor,o=n.background,a=n.fontSize,s=n.textColor,c=n.activeTextColor,d=n.type,f=n.data,p=n.height,h=t.changeFunc,g=void 0===h?u.noop:h,y=u.extend(!0,[],l["default"].getDefaultData(d,f)),m=0,_=[];y.forEach(function(e,t){var n=e.select,r=e.title;n&&(m=t),_.push(r)});var v=e.SegmentedControl;return i["default"].createElement(v,{style:{height:p,background:o},selectedIndex:m,values:_,onChange:g,tintColor:r,textStyle:{color:s,fontSize:a},activeTextColor:c})},t}(i["default"].Component);t.SegmentedControlMBaseContrComp=c,t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(64)),u=i(n(209)),c=window,d=c.$,f=c.isPrototypeTool,p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={antdMobileBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;l["default"](function(t){e.setState({antdMobileBase:t["default"]})})},t.prototype.render=function(){var e=this.state.antdMobileBase;if(!e)return null;var t=this.props,n=t.changeFunc,r=void 0===n?d.noop:n,o=t.contr,i=o.listHeight,l=o.background,c=o.fontSize,p=o.textColor,h=o.iconSize,g=o.iconColor,y=o.childFontSize,m=o.childTextColor,_=o.childBackground,v=o.data,b=o.type,w=o.accordion,C=void 0!==w&&w,x=u["default"].getDefaultData(b,v),S={height:i,lineHeight:i+"px",fontSize:c,color:p,background:l},P={top:(i-2*h)/2,fontSize:2*h,color:g},k={fontSize:y,color:m},O={background:_},E=[];x.forEach(function(e,t){e.active&&E.push(t+"")});var T={};f?T.activeKey=E:T.defaultActiveKey=E;var M=e.Accordion,D=e.List;return s["default"].createElement(M,a({className:"my-accordion",onChange:r,accordion:C},T),x.map(function(e,t){return s["default"].createElement(M.Panel,{header:e.title,className:"pad",key:t,headerStyle:S,iconStyle:P},s["default"].createElement(D,{className:"my-list"},e.content.map(function(e,n){return s["default"].createElement(D.Item,{textStyle:k,wrapStyle:O,key:t+n},e)})))}))},t}(s["default"].Component);t.AccordionMBaseContrComp=p,t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1));function a(e){return("0"+e).slice(-2)}t["default"]=function(e){var t=e.seconds;return o["default"].createElement("time",{dateTime:"P"+Math.round(t)+"S"},function(e){var t=new Date(1e3*e),n=t.getUTCHours(),r=t.getUTCMinutes(),o=a(t.getUTCSeconds());return n?n+":"+a(r)+":"+o:r+":"+o}(t))}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(11)),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.contr,n=t.height,r=t.width,o=t.webUrl,i=e.extraBoxStyle,u=Math.max(.11*n,14),c=""!=o,d="";return d=n<100||r<100?"xsmall":n<200||r<300?"small":"normal",s["default"].createElement("div",{className:"webpage-container extra-contr-container "+d,style:a({},i,{boxShadow:""})},s["default"].createElement("div",{className:"webpage-header-container"},s["default"].createElement("div",{className:"webpage-head-title"}),s["default"].createElement("div",{className:"webpage-close-icon",style:{width:.48*u,height:.48*u}})),s["default"].createElement("div",{className:"webpage-content"},s["default"].createElement("div",{className:l["default"]("webpage-url",{hasUrl:c,"text-ellipsis":"xsmall"==d})},c?"https://"+o:"Web Page")),s["default"].createElement("div",{style:a({},i,{position:"absolute",pointerEvents:"none"})}))},t}(s["default"].Component);t.WebPageContrComp=u,t["default"]=u},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({RIGHTLABEL_CHANGE:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/RightLabelConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){var r=n(203),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:undefined;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=undefined;var r=!0}catch(l){}var o=i.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(545),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(a,"$1"):n||e)}),t});e.exports=i},function(e,t,n){var r=n(546),o=500;e.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(321),o="Expected a function";function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},function(e,t,n){var r=n(548),o=n(236),a=n(272);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},function(e,t,n){var r=n(549),o=n(554),a=n(555),i=n(556),s=n(557);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(235);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(334),o=n(551),a=n(141),i=n(338),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?f:s).test(i(e))}},function(e,t,n){var r,o=n(552),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(84)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?undefined:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(235),o="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?undefined:n}return a.call(t,e)?t[e]:undefined}},function(e,t,n){var r=n(235),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?t[e]!==undefined:o.call(t,e)}},function(e,t,n){var r=n(235),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&t===undefined?o:t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(237),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(237);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?undefined:t[n][1]}},function(e,t,n){var r=n(237);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(237);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(238);e.exports=function(e){var t=r(this,e)["delete"](e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(238);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(238);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(238);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(569);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(203),o=n(349),a=n(102),i=n(254),s=1/0,l=r?r.prototype:undefined,u=l?l.toString:undefined;e.exports=function c(e){if("string"==typeof e)return e;if(a(e))return o(e,c)+"";if(i(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(168),o=n(275),a=n(102),i=n(267),s=n(273),l=n(228);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,d=!1;++u<c;){var f=l(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&i(f,c)&&(a(e)||o(e))}},function(e,t,n){var r=n(161),o=n(142),a="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==a}},function(e,t,n){var r=n(236);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(236),o=n(272),a=n(321),i=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<i-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(161),o=n(273),a=n(142),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!i[r(e)]}},function(e,t,n){var r=n(283),o=n(582),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(351)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}},function(e,t,n){var r=n(143)(n(84),"DataView");e.exports=r},function(e,t,n){var r=n(143)(n(84),"Promise");e.exports=r},function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var o,a,i={action:[{"3d_rotation":"三维 3D旋转"},{accessibility:"辅助功能 可访问"},{accessible:"辅助功能 无障碍 易使用 可访问 亲近的 轮椅"},{account_balance:"账户结余 账户余额 账户 存款 储蓄 银行"},{account_balance_wallet:"钱包 账户 结账 存款"},{account_box:"账户 个人 方形"},{account_circle:"账户 个人 圆形"},{add_shopping_cart:"加入 购物车 添加"},{alarm:"闹钟 闹铃 报时 时间 钟"},{alarm_add:"添加 新增 闹钟 闹铃"},{alarm_off:"停止 关闭 闹钟 闹铃"},{alarm_on:"开启 打开 闹铃 闹钟"},{all_out:"控制 信号"},{android:"安卓 机器人 系统"},{announcement:"公告 通告 提醒 通知 发表"},{aspect_ratio:"缩放 比例 宽高比 尺寸"},{assessment:"评估 评价 方形 数据 条形 统计"},{assignment:"作业 分配 任务表"},{assignment_ind:"任务 申请 分配 个人 我的 任务表"},{assignment_late:"任务 延时 已延时 提醒 警告 任务表"},{assignment_return:"任务 分配 下达 分配中 提交 任务表"},{assignment_returned:"任务 已提交 已分配 已下达 任务表"},{assignment_turned_in:"任务 完成 成功 确认 任务表"},{autorenew:"自动 更新 刷新 箭头"},{backup:"云备份 上传"},{book:"书 图书 读书 阅读 加入书签"},{bookmark:"书签 阅读 标记 标签"},{bookmark_border:"书签 阅读 标记 标签 线形"},{bug_report:"bug 反馈 错误 报告 问题 虫"},{build:"工具 修理 建造 维修 创建 设置 工具栏 工具箱"},{cached:"缓存 数据缓存 正在缓存 箭头"},{camera_enhance:"清晰度 美化 调节 相机 照片 增强"},{card_giftcard:"礼物 礼包 送礼 包装 礼品"},{card_membership:"会员卡 礼品卡 打卡"},{card_travel:"交通卡 卡包 旅行包"},{change_history:"记录 修订 修改 历史 更改 三角形"},{check_circle:"完成 勾选 选中 确认 选择 成功 通过 认证 勾选 圆形"},{chrome_reader_mode:"谷歌 阅读器 阅读 模式 管理 矩形 列表"},{code:"代码 编码 准则 括号"},{compare_arrows:"对比 箭头 往返 互换 排版"},{copyright:"版权 符号 C 标识"},{credit_card:"信用卡 记帐卡 借记卡 记账卡 卡片 银行卡 矩形"},{dashboard:"控制面板 控制中心 操作中心 四方格"},{date_range:"日程表 时间表 日期 范围 选择 排期"},{"delete":"删除 垃圾箱 清理 回收站 清除数据 缓存"},{delete_forever:"永久删除 垃圾箱 清理 清除 回收站 清除数据 清空"},{description:"描述 说明书 文件 信纸 文档"},{dns:"域名 服务器 文件 矩形"},{done:"完成 勾选 选择 选中 成功 确认 通过 认证"},{done_all:"一键勾选 完成 全部 确认 通过 勾选 全选"},{donut_large:"环形 数据 统计 分区 圆环 占比 按比例 大"},{donut_small:"扇形 数据 统计 分区 扇形图 占比 按比例 小"},{eject:"喷射 发射 发布 展开 三角形"},{euro_symbol:"欧元 货币 符号 €"},{event:"事件 任务 日程表 时间表 档期"},{event_seat:"赛事 沙发 主要 主事件"},{exit_to_app:"退出app 退出应用 登出 退出登录 右箭头"},{explore:"广场 探索 safari 浏览器 更多 拓展 扩展 指南针"},{extension:"拓展 扩展 延伸 拼图"},{face:"面部识别 人脸 识别 头像"},{favorite:"喜欢 点赞 赞同 like 同感 爱心"},{favorite_border:"喜欢 点赞 赞同 like 同感 爱心 线形"},{feedback:"用户反馈 意见 信息 警告 ! 感叹号"},{find_in_page:"当页 当前页 页面 查找页 搜索页 放大镜"},{find_replace:"查找替换 替换 查找 搜索"},{fingerprint:"指纹 解锁 识别 验证身份"},{flight_land:"着陆 飞机 降落 出行"},{flight_takeoff:"起飞 飞机 出行"},{flip_to_back:"点击 下一层 底层"},{flip_to_front:"点击 上一层 顶层"},{g_translate:"谷歌翻译 语言翻译 Google"},{gavel:"拍卖 敲定 判决 审判 小木槌 锤子"},{get_app:"应用获取 获取app 下载app 箭头"},{gif:"动态图 动图"},{grade:"评分 等级 星标 级别 五角星 星星"},{group_work:"团队合作 小组作业 分工 豆瓣电影 放映"},{help:"帮助 疑问 提示 问号 圆形"},{help_outline:"帮助 疑问 提示 问号 线形 圆形"},{highlight_off:"关闭 取消 叉 圆形"},{history:"历史记录 重置 加载"},{home:"主页 首页 房子"},{hourglass_empty:"停止计时 时间 沙漏 空 线形"},{hourglass_full:"开始计时 时间 沙漏"},{http:"前缀 网络 协议 互联网 网址"},{https:"加密 安全锁 锁定 网络 协议 互联网 网址"},{important_devices:"重要 服务 装置 设备 锁定 电脑 终端传输 加密传输"},{input:"输入 信息录入 资料输入 箭头 框"},{invert_colors:"反色 颜色 反相 对比 形态 水滴"},{label:"标签 商标 标注 标记"},{label_outline:"标签 商标 标注 标记 线形"},{language:"语言 多国语 国际化 全球化 地球"},{launch:"发布 发送 加载 转发 箭头"},{lightbulb_outline:"创意 思考 亮点 电力 灵感 灯泡 线形"},{line_style:"线条 风格 样式 选项"},{line_weight:"线条 宽度 线条 样式 选项 宽度"},{list:"列表 排列 清单 目录 名单"},{lock:"锁定 锁屏 锁"},{lock_open:"解锁 未锁定 线形"},{lock_outline:"锁定 锁屏 锁 线形"},{loyalty:"喜爱 喜欢 标签 忠诚度 信赖度 依赖度 心"},{markunread_mailbox:"标记 未读邮件 标记未读"},{motorcycle:"快递 外卖 路程 旅途 配送 运送 投递 摩托车 交通 运输"},{note_add:"新建笔记 增加 文本 页面 新增 添加 加号"},{offline_pin:"离线 固定 脱机 确定 完成 勾 圆形"},{opacity:"不透明度 样式 设置 水滴"},{open_in_browser:"浏览器 打开 上传到 项目 箭头"},{open_in_new:"新页面打开 展开 新窗口打开 新视图打开 箭头"},{open_with:"打开方式 拖动 拖拽 方向键 上下左右 箭头"},{pageview:"浏览量 点击量 访问量 搜索量 页面 放大镜 搜索 查找"},{pan_tool:"平移 拖拽 移动视图 拖动工具 手掌 手势"},{payment:"付款 支付 银行卡 刷卡"},{perm_camera_mic:"语音相机 音频 声音 相机"},{perm_contact_calendar:"联系人 列表 联系人列表 联系人日程"},{perm_data_setting:"数据转换 设置"},{perm_device_information:"终端 信息 设备 手机"},{perm_identity:"我 个人 身份 验证 线形"},{perm_media:"媒体库 图片 文件夹"},{perm_phone_msg:"电话 留言 信箱 语音 留言"},{perm_scan_wifi:"无线网络 扫描"},{pets:"宠物 百度 logo 脚印"},{picture_in_picture:"画中画 右上角 定位 矩形"},{picture_in_picture_alt:"画中画 右下角 定位 矩形"},{play_for_work:"加入 添加 箭头"},{polymer:"聚合"},{power_settings_new:"开机 开关机 电源"},{pregnant_woman:"孕妇 人 社会 生活"},{print:"打印机 印刷 影印"},{query_builder:"查询 加载 等待"},{question_answer:"问答 答疑 客服 聊天 回复 气泡"},{receipt:"收据 收入 小票 提单"},{record_voice_over:"旁白 语音 口述"},{redeem:"兑换 礼品 兑换码 礼包 奖品"},{remove_shopping_cart:"移出 购物车 移除 禁止"},{reorder:"排列 排序 整理 列表 菜单"},{restore:"恢复 还原 历史数据"},{restore_page:"页面 恢复 还原 重新加载 刷新"},{room:"定位 空间 坐标"},{rounded_corner:"圆角 圆角设置"},{rowing:"划船 赛艇 人物 活动"},{schedule:"时刻表 时间表 时钟 时间 安排 计划"},{search:"查找 查询 搜索 放大镜"},{settings:"设置 齿轮"},{settings_applications:"应用 设置 app 齿轮 方形"},{settings_backup_restore:"备份 刷新 重置 箭头"},{settings_bluetooth:"蓝牙 设置 连接"},{settings_brightness:"亮度 调整 设置 明亮 对比"},{settings_cell:"手机 连接 设置 设备"},{settings_ethernet:"以太网 设置 拓展 链接"},{settings_input_antenna:"天线 输入 信号 接收 强弱 设置"},{settings_input_component:"组件 设置 供给 零部件"},{settings_input_hdmi:"接口 入口 端口 设置"},{settings_input_svideo:"视频 输入 端口 设置"},{settings_overscan:"设置 自适应 屏幕 缩放"},{settings_phone:"电话 设置 来电 拨号"},{settings_power:"电源 设置 开关"},{settings_remote:"远程 设置 服务器 主机"},{settings_voice:"语音 设置 音频 输出"},{shop:"商店 googleplay"},{shop_two:"商店 多个 googleplay 拓展"},{shopping_basket:"购物袋 购物包 手提包"},{shopping_cart:"购物车 购买"},{speaker_notes:"备注 文稿 聊天 内容 谈话 笔记 对话 文本"},{speaker_notes_off:"关闭 备注 文稿 禁止 记录 内容 聊天 对话 文本"},{spellcheck:"拼写检查 文字 输入 支持"},{stars:"星标 星星 圆形"},{store:"商店 店铺 商家 销售中心 购物 商城"},{subject:"主题 列表 菜单"},{supervisor_account:"客户 主管 多人 账户 合作"},{swap_horiz:"横向 交换 左右 滑动 切换 箭头"},{swap_vert:"纵向 交换 上下 滑动 切换 箭头"},{swap_vertical_circle:"纵向 交换 上下 滑动 切换 箭头 圆形"},{system_update_alt:"系统更新 载入"},{tab:"标签 选项卡 制表符"},{tab_unselected:"未选中 标签 选项卡 制表符"},{theaters:"电影 影片 胶片 胶卷"},{thumb_down:"差评 批评 不喜欢 手势 评价"},{thumb_up:"好评 点赞 喜欢 大拇指 手势 评价"},{thumbs_up_down:"互动 手势 评价"},{timeline:"时间轴 折线图 数据 走势 图表"},{toc:"目录 列表 列举"},{today:"今日 日程 任务 任务表"},{toll:"数额 数量 服务 线形"},{touch_app:"交互 点触应用 接触 点击"},{track_changes:"修订 追踪 修改 文档 目标"},{translate:"翻译 多语言"},{trending_down:"向下 走势 下滑 趋势 下降 涨幅"},{trending_flat:"向右 走势 平缓 趋势 不变 涨幅"},{trending_up:"向上 走势 上涨 趋势 涨幅"},{turned_in:"标签"},{turned_in_not:"标签 线形"},{update:"更新 数据 修正 还原"},{verified_user:"用户 认证 实名 安全 开启保护"},{view_agenda:"日程 视图 等宽 显示事件 矩形"},{view_array:"阵列 系列 主视图 切换 矩形"},{view_carousel:"轮播 视图 呈现 矩形"},{view_column:"纵列 视图 专栏 矩形"},{view_day:"日程 视图 当日 概览 矩形"},{view_headline:"标题 视图 内容 提要 视图"},{view_list:"列表 图文 列表 视图"},{view_module:"宫格 视图 模块 矩形"},{view_quilt:"拼凑 视图 分格 瀑布流"},{view_stream:"集成 视图 矩形"},{view_week:"周视图 三列 矩形"},{visibility:"可视 可见 未隐藏 眼睛"},{visibility_off:"不可视 不可见 隐藏 眼睛"},{watch_later:"手表 延时任务 时间"},{work:"工作 公文包 上班"},{youtube_searched_for:"youtube 查找 搜索"},{zoom_in:"放大 比例 缩放 放大镜"},{zoom_out:"缩小 比例 缩放 放大镜"}],alert:[{add_alert:"添加提醒 闹铃 响铃 铃声"},{error:"错误 出错 提示 系统"},{error_outline:"错误 出错 提示 错误 线形"},{warning:"警告 标志 警示 三角形"}],av:[{add_to_queue:"加入 队列 行列 添加"},{airplay:"无线 播放"},{album:"唱片 专辑 音乐"},{art_track:"艺术轨迹 图文列表"},{av_timer:"计时器 视频 定时器"},{branding_watermark:"水印 右下角 矩形"},{call_to_action:"唤醒"},{closed_caption:"隐藏 字幕 闭合 关闭 cc"},{equalizer:"均衡器 平衡器 条形图"},{explicit:"显性 e"},{fast_forward:"快进 下一首 播放 下一个"},{fast_rewind:"快退 上一首 播放 上一个"},{featured_play_list:"主要 特定 主列表 播放列表"},{featured_video:"主视频 主要 特定视频"},{fiber_dvr:"录像机 徽标 标识"},{fiber_manual_record:"人工记录 开始录制 录制 圆形"},{fiber_new:"最新 更新 徽标"},{fiber_pin:"钉住 标记 徽标"},{fiber_smart_record:"智能 录制 记录 圆形"},{forward_10:"前进 快进 十"},{forward_30:"前进 快进 三十"},{forward_5:"前进 快进 五"},{games:"游戏中心 娱乐 十字型"},{hd:"高清 徽标"},{hearing:"听写 听力 收听 耳朵"},{high_quality:"高品质 HQ 徽标"},{library_add:"加入 资料库 添加 媒体库"},{library_books:"图书库 资料库"},{library_music:"音乐库 资料库"},{loop:"循环 播放 环绕"},{mic:"录音 麦克风 语音"},{mic_none:"录音 麦克风 语音 线形"},{mic_off:"禁止 语音 关闭 闭麦"},{movie:"电影 影片 观影"},{music_video:"音乐 录影带 mv 视频"},{new_releases:"新版本 提醒 最新 发布"},{not_interested:"禁止 不感兴趣 不再推送"},{note:"便签 便笺 记录 注解 页面标注 标记"},{pause:"暂停 播放"},{pause_circle_filled:"暂停 播放 圆形"},{pause_circle_outline:"暂停 播放 圆形 线形"},{play_arrow:"继续 播放 三角形 右"},{play_circle_filled:"继续 播放 三角形 右 圆形"},{play_circle_outline:"继续 播放 三角形 右 圆形 线形"},{playlist_add:"加入 播放列表 添加"},{playlist_add_check:"完成 播放列表 成功 加入 添加"},{playlist_play:"播放 当前列表 开始 播放列表"},{queue:"队列 添加到 添加 加入"},{queue_music:"音乐队列 播放列表 音乐"},{queue_play_next:"播放 添加到 下一首"},{radio:"收音机 电台"},{recent_actors:"最近艺人 听歌 音乐 歌手列表 最近歌手"},{remove_from_queue:"移除 移出队列"},{repeat:"回放 重复播放 循环播放"},{repeat_one:"单曲循环"},{replay:"重播 箭头"},{replay_10:"重播 十"},{replay_30:"重播 三十"},{replay_5:"重播 五"},{shuffle:"打乱 顺序 乱序 随机"},{skip_next:"跳转 切换 下一首"},{skip_previous:"切换 跳转 上一首"},{slow_motion_video:"慢动作 录像机"},{snooze:"再睡一会 暂停 待会再响 闹铃 闹钟"},{sort_by_alpha:"字母 排列 排序 顺序"},{stop:"停止播放 方形"},{subscriptions:"订阅 队列 播放"},{subtitles:"字幕 弹幕 文字"},{surround_sound:"环绕音 放音 外音播放 开启外音"},{video_call:"视频 通话 加入"},{video_label:"视频 标签"},{video_library:"视频 播放 资料库 视频库"},{videocam:"视频 拍摄 摄录 录像 录影 摄像头"},{videocam_off:"关闭 摄录 录像 视频 拍摄 录影 摄像头"},{volume_down:"减小 音量 降低"},{volume_mute:"音量 最小 最低"},{volume_off:"关闭 音量 静音"},{volume_up:"增大 提高 音量"},{web:"网页 视图"},{web_asset:"网页 内容 网址 输入栏"}],communication:[{business:"商务 合作伙伴 交易中心 商业伙伴 写字楼 办公 建筑"},{call:"拨号 电话 通话 联系方式"},{call_end:"挂断 电话 通话 结束"},{call_made:"已拨电话 拨出"},{call_merge:"电话 合并 线路 通话 转接"},{call_missed:"电话 未接来电"},{call_missed_outgoing:"电话 无人接听 拨号 失败"},{call_received:"电话 已接来电"},{call_split:"电话 呼叫转移 分离 转接"},{chat:"聊天 信息 聊天内容"},{chat_bubble:"聊天 信息 气泡"},{chat_bubble_outline:"聊天 信息 气泡 线形"},{clear_all:"清除 清空 记录"},{comment:"评论 编写 撰写 填写"},{contact_mail:"联系人邮箱 邮件 记录 往来"},{contact_phone:"联系人电话 通话 记录 往来"},{contacts:"联系人 列表"},{dialer_sip:"拨号代理 电话 通话"},{dialpad:"拨号盘 拨号键盘 电话 圆点"},{email:"邮件 电子邮件 邮箱"},{forum:"论坛 讨论 话题 聊天 气泡"},{import_contacts:"导入联系人 书"},{import_export:"进出 导出 导入 来电"},{invert_colors_off:"禁止 反色 停用 颜色 色彩 反相 不对比 关闭 形态对比 水滴"},{live_help:"在线 帮助 客服 疑问 问答"},{location_off:"关闭 取消 定位 共享 位置"},{location_on:"开启定位 允许 定位 共享 位置"},{mail_outline:"邮件 电子邮件 线形"},{message:"信息 短信 消息 msg"},{no_sim:"未插卡 SIM卡 无"},{phonelink_erase:"清除 禁用 电话 连接 屏蔽 来电"},{phonelink_lock:"锁定 连接 电话"},{phonelink_ring:"来电 铃声 提示音 电话"},{phonelink_setup:"电话 连接 设置 来电"},{portable_wifi_off:"关闭 便携WiFi 无线 网络 禁止 个人热点"},{present_to_all:"上传 提交 箭头 矩形"},{ring_volume:"铃声 来电 响铃 音量 电话"},{rss_feed:"RSS 订阅 简讯 聚合"},{screen_share:"共享 分享 屏幕 投射 箭头"},{speaker_phone:"免提 扬声器 无线 对讲 电话 放音"},{stay_current_landscape:"横向 同步 切换 当前 手机 移动设备 屏幕"},{stay_current_portrait:"纵向 同步 切换 当前 手机 移动设备 屏幕"},{stay_primary_landscape:"保持 横向 手机 移动设备 屏幕"},{stay_primary_portrait:"保持 纵向 手机 移动设备 屏幕"},{stop_screen_share:"停止 共享屏幕 禁止 停用 投屏 右箭头"},{swap_calls:"切换 呼叫等待 通话 曲线 箭头"},{textsms:"短信 文本 讯息 简讯 短信 气泡"},{voicemail:"语音 信箱 邮件 留言"},{vpn_key:"密钥 个人 网络 私人 密码 钥匙"}],content:[{add:"添加 加入"},{add_box:"添加 加入 方形"},{add_circle:"添加 加入 圆形"},{add_circle_outline:"添加 加入 线形"},{archive:"压缩 存档 归档 档案 文件 箭头 方形"},{backspace:"返回 退出 退格 上一页 回到 上一级"},{block:"禁止符号 封闭 禁止操作"},{content_copy:"复制 文本 内容 多页面 矩形"},{content_cut:"剪切 裁剪 切割 剪刀"},{content_paste:"粘贴 文本 内容 文档 档案夹"},{create:"新建 编辑 操作 铅笔 笔"},{delete_sweep:"清理 垃圾 整理 自动清理 扫描 垃圾箱"},{drafts:"草稿箱 已打开 已读 信件 邮件"},{filter_list:"过滤清单 过滤表 过滤器 筛选"},{flag:"旗标 旗标邮件 旗帜"},{font_download:"下载 盒子 字体 方形 字体库"},{forward:"发送 传送 跳转 箭头"},{gesture:"手势 无规则"},{inbox:"收件箱 盒子 文件夹 文件"},{link:"连接 链接 关联 相关"},{low_priority:"低优先级 较后处理 稍后 调整 指示 箭头"},{mail:"邮件 邮箱 email 信件 信封"},{move_to_inbox:"移入 收件箱 移至 向下箭头 方形"},{next_week:"滞后 公文包 文件"},{undo:"撤销 返回 箭头"},{redo:"重置 下一步 恢复 箭头"},{remove:"移除 线形 减少 删除 减号"},{remove_circle:"移除 删除 减少 减号 圆形"},{remove_circle_outline:"移除 删除 减少 减号 圆形 线形"},{reply:"回复 返回 撤回 箭头"},{reply_all:"全部回复 自动 箭头"},{report:"提醒 报错 报告"},{save:"保存 存储 磁盘"},{select_all:"全选 框选 全部选择"},{send:"发送 传送 纸飞机"},{sort:"分类 排序 整理"},{text_format:"文本 样式 文字 格式"},{unarchive:"解档 解压 上箭头 方形"},{weekend:"沙发 休闲 休息 娱乐"}],device:[{access_alarm:"闹铃 闹钟 选择 选取 使用"},{access_time:"选择时间 时间表 时间 时钟 表"},{add_alarm:"添加 提醒 新增 闹铃 闹钟"},{airplanemode_active:"飞行模式 开启 飞机"},{airplanemode_inactive:"飞行模式 关闭 飞机"},{battery_alert:"电池 提醒 警告 充电"},{battery_charging_full:"电池 充电 充电中 闪电"},{battery_full:"电池 充满 充电结束 电量"},{battery_unknown:"电池 未知 电量"},{bluetooth:"蓝牙"},{bluetooth_connected:"连接蓝牙 连接中"},{bluetooth_disabled:"蓝牙 关闭 禁用 停用 未连接"},{bluetooth_searching:"蓝牙 搜索 搜索蓝牙 搜索中"},{brightness_auto:"亮度 自动 亮度调节"},{brightness_high:"高亮度 太阳"},{brightness_low:"低亮度 暗 太阳"},{brightness_medium:"亮度 适中 均衡 太阳"},{data_usage:"内存 存储空间 数据 使用 数据使用"},{developer_mode:"开发者模式 开发人员 手机"},{devices:"设备 服务器 连接"},{dvr:"刻录 监控 系统 电脑"},{gps_fixed:"定位 GPS 固定 锁定 目标"},{gps_not_fixed:"定位 GPS 取消固定 空 锁定 目标"},{gps_off:"关闭 无定位 关闭定位 GPS"},{graphic_eq:"均衡器 图形 频率 波动 波形"},{location_disabled:"无法定位 禁用"},{location_searching:"定位 查找定位"},{nfc:"近场通讯 近距离 通信"},{screen_lock_landscape:"横屏 锁屏 锁定 横屏 手机 锁"},{screen_lock_portrait:"竖屏 锁屏 锁定 竖屏 手机 锁"},{screen_lock_rotation:"转屏 锁定 旋转屏幕 手机 方向"},{screen_rotation:"允许 转屏 旋转屏幕 手机 方向 旋转 屏幕"},{sd_storage:"SD卡 存储卡"},{settings_system_daydream:"云 系统 设置 框"},{signal_cellular_4_bar:"信号格 满格 4格"},{signal_cellular_connected_no_internet_4_bar:"信号格 信号 提醒 警告"},{signal_cellular_no_sim:"记忆卡 未插卡 SIM卡 卡"},{signal_cellular_null:"信号格 信号 空 无信号"},{signal_cellular_off:"无信号 关闭信号 信号 无"},{signal_wifi_4_bar:"wifi 信号 满格 4格"},{signal_wifi_4_bar_lock:"wifi 信号 锁定 4格"},{signal_wifi_off:"关闭 禁用"},{storage:"存储 储存 内存 占用 文件"},{usb:"usb接口 端口"},{wallpaper:"壁纸 墙纸 图片 图库"},{widgets:"工具 部件 控件 组件 应用 插件"},{wifi_tethering:"wifi共享 热点 个人热点"}],editor:[{attach_file:"抄送 附加 添加 附件 回形针"},{attach_money:"金额 添加 美元"},{border_all:"边框 线 添加 全部 描边"},{border_bottom:"底边 线 边框"},{border_clear:"清除 无边框"},{border_color:"边框颜色 编辑 设置 笔"},{border_horizontal:"中线 横线 内部 边框 边线"},{border_inner:"内部 描边 边线 边框"},{border_left:"左边框 边线 外部"},{border_outer:"外边框 外框 边线"},{border_right:"右边框 边线 外部"},{border_style:"边缘 样式 边框 风格"},{border_top:"上边框 顶部 边线 外部"},{border_vertical:"中线 竖线 纵线 内部 边框 边线"},{bubble_chart:"气泡 图表 个性化"},{drag_handle:"拖动 拖拽 移动"},{format_align_center:"中心 居中 对齐 段落 文本 样式 格式"},{format_align_justify:"两端 对齐 段落 文本 样式 格式"},{format_align_left:"左 对齐 段落 文本 样式 格式"},{format_align_right:"右 对齐 段落 文本 样式 格式"},{format_bold:"加粗 文本 文字 段落 样式 格式"},{format_clear:"清除 文本 文字 段落 样式 格式"},{format_color_fill:"颜色 填充 文本 文字 段落 样式 格式"},{format_color_reset:"重设 颜色 清除 填充 文本 文字 段落 样式 格式"},{format_color_text:"文字 颜色 颜色 填充 文本 文字 段落 样式 格式"},{format_indent_decrease:"向左 缩进 减少 文本 文字 段落 样式 格式"},{format_indent_increase:"向右 缩进 增加 文本 文字 段落 样式 格式"},{format_italic:"斜体 文本 文字 段落 样式 格式"},{format_line_spacing:"行间距 调整 文本 文字 段落 样式 格式"},{format_list_bulleted:"无序 列表 项目 符号 序号 文本 文字 段落 样式 格式"},{format_list_numbered:"排序 列表 有序 编号 序号 文本 文字 段落 样式 格式"},{format_paint:"格式刷 文本 文字 段落 样式 格式 刷子 颜色"},{format_quote:"引用 文本 文字 段落 样式 格式 引号"},{format_shapes:"形状 大小 文本框 文字 段落 样式 格式"},{format_size:"字体 大小 字号 文本 文字 段落 样式 格式"},{format_strikethrough:"删除线 添加 中划线 文本 文字 段落 样式 格式"},{format_textdirection_l_to_r:"格式 正文 方向 从左到右"},{format_textdirection_r_to_l:"格式 正文 方向 从右到左"},{format_underlined:"下划线 文本 文字 段落 样式 格式"},{functions:"功能 符号 公式 运行"},{highlight:"高光 突出 强调 标亮 标记 手电筒"},{insert_chart:"插入 图表 条形图 柱状图 统计图 数据 方形 添加"},{insert_comment:"插入 评论 添加 文字 文本 添加"},{insert_drive_file:"文件 插入 驱动 添加 页面 添加"},{insert_emoticon:"插入 表情 符号 添加"},{insert_invitation:"插入 邀请 加入 日程 行程 添加"},{insert_link:"添加 插入 超链接 网络"},{insert_photo:"添加 插入图片 照片"},{linear_scale:"标尺 线性 比例 缩放 线段"},{merge_type:"合并格式 样式 文字 段落"},{mode_comment:"评论 样式 气泡"},{mode_edit:"编辑 笔 样式"},{monetization_on:"货币 汇率 换算 金额 美元 圆形"},{money_off:"货币 汇率 换算 金额 美元 折扣 满减"},{multiline_chart:"对比 折线图 图表"},{pie_chart:"饼图 扇形图 图表 圆形"},{pie_chart_outlined:"饼图 扇形图 图表 线形"},{publish:"发表 发布 发送 公开 箭头"},{short_text:"短文本 字段 字符 文字 段落 样式 格式"},{show_chart:"折线图 统计图 统计数据 数据图 图表"},{space_bar:"空格 间隔 空白字符 距离 订书钉"},{strikethrough_s:"删除线 添加 文本 中划线"},{text_fields:"文本域 文本框 占位 文字 字符 段落 格式 样式"},{title:"标题 正文 内容 文本 段落 格式 样式"},{vertical_align_bottom:"底对齐 底部 段落 文本 对齐 格式 样式"},{vertical_align_center:"中对齐 居中 段落 文本 对齐 格式 样式"},{vertical_align_top:"顶对齐 顶部 段落 文本 对齐 格式 样式"},{wrap_text:"文本 换行 自动 段落 格式 样式"}],file:[{attachment:"抄送 附加 添加附件 回形针"},{cloud:"云端 云服务 云盘 多云 天气"},{cloud_circle:"云端 云服务 云盘 多云 圆形"},{cloud_done:"云端 完成 成功 已完成 云盘"},{cloud_download:"云端 云服务 云盘 下载"},{cloud_off:"关闭 云端 关闭云服务"},{cloud_queue:"云端 云服务 云盘 多云 天气 线形"},{cloud_upload:"云端 云服务 云盘 上传 上传到云"},{create_new_folder:"新建 文件夹 新文件 添加到"},{file_download:"下载文件 已下载 服务 箭头"},{file_upload:"上传 更新 已上传 服务 箭头"},{folder:"文件夹"},{folder_open:"文件夹 打开 打开文件 打开文件夹 线形"},{folder_shared:"共享文件夹 分享"}],hardware:[{cast:"投射屏幕 映射 屏幕映射 线形"},{cast_connected:"投射屏幕 映射 屏幕映射"},{desktop_mac:"苹果 Mac 电脑 台式机"},{desktop_windows:"Windows 微软 电脑 台式机"},{developer_board:"开发底板 开发者"},{device_hub:"设备管理器 数据"},{devices_other:"其他设备 多设备 管理 数据 同步"},{dock:"播放器 设备"},{gamepad:"游戏中心 游戏"},{headset:"耳机 头戴式 听歌 音乐"},{headset_mic:"麦克风 耳机 客服 聊天 答疑"},{keyboard:"键入 打字 虚拟键盘 键盘输入"},{keyboard_backspace:"键盘 退格 删除 返回 回退"},{keyboard_capslock:"键盘 大写锁定 大小写 箭头"},{keyboard_hide:"键盘 隐藏 收起"},{keyboard_return:"键盘 返回 回车 确定 输入"},{keyboard_tab:"键盘 跳格键 跳转 输入"},{keyboard_voice:"键盘 语音输入"},{laptop:"笔记本电脑 笔电 设备"},{laptop_chromebook:"笔电 笔记本 电脑 设备 谷歌"},{laptop_mac:"Mac 苹果 笔记本 笔电 电脑"},{laptop_windows:"微软笔记本 笔电 电脑"},{memory:"记忆芯片 硬件 电脑 配件 内置芯片"},{mouse:"鼠标 配件 硬件 电脑 设备"},{phone_android:"安卓手机 移动设备 智能机"},{phone_iphone:"苹果手机 移动设备 智能机"},{phonelink:"电话连接 设备"},{phonelink_off:"关闭 电话 连接 设备"},{power_input:"电源输入 功率 电路"},{router:"路由器 无线路由"},{scanner:"扫描仪 扫描器 打印机"},{security:"防护 安全 助手 卫士"},{sim_card:"SIM卡 电话卡"},{smartphone:"智能手机 移动设备"},{speaker:"音箱 音响 播放器 扬声器 播放设备"},{speaker_group:"音箱 音响 扬声器 播放器 播放设备 设备组"},{tablet:"平板 电脑 移动设备"},{tablet_android:"安卓 平板 电脑 移动设备"},{tablet_mac:"iPad iOS 苹果 平板电脑 移动设备"},{toys:"玩具 风车 娱乐中心 娱乐"},{tv:"电视 设备 显示屏"},{videogame_asset:"手柄 游戏 游戏中心 娱乐"},{watch:"手表 iWatch 智能 设备"}],image:[{add_a_photo:"添加 照片 图片 加入 相机"},{add_to_photos:"相册 添加 相册集"},{adjust:"调整 校正 适应 选中 校准"},{assistant:"助手 助理 辅助 功能 工具 美化"},{assistant_photo:"拍照助手 光助 摄影助理"},{audiotrack:"音轨 声道 录音 音符"},{blur_circular:"模糊 图片 处理 效果 美化 圆形"},{blur_linear:"模糊 图片 处理 效果 美化 线形"},{blur_off:"关闭 停用 模糊 图片 处理 美化 效果"},{blur_on:"开启 使用 模糊 图片处理 效果"},{brightness_1:"明亮 亮度1"},{brightness_2:"明亮 亮度2"},{brightness_3:"明亮 亮度3"},{brightness_4:"明亮 亮度4"},{brightness_5:"明亮 亮度5"},{brightness_6:"明亮 亮度6"},{broken_image:"失效 图片 失败 无法打开"},{brush:"笔刷 油画棒 绘图 美术 艺术 画笔 添加 笔画 手绘"},{burst_mode:"编组 分组 组别 图片组 文件夹"},{camera:"相机 拍照 摄像 摄影 照相 光圈"},{camera_alt:"切换 打开 相机 拍照 摄影 照相"},{camera_front:"前置 相机 拍照"},{camera_rear:"后置 相机 拍照"},{camera_roll:"胶卷 相机 拍照"},{center_focus_strong:"聚焦 放大 对焦 拍照 相机"},{center_focus_weak:"聚焦 缩小 对焦 拍照 相机"},{collections:"图片集 图库 文件夹 收藏夹"},{collections_bookmark:"图书集 书库 文件夹 收藏夹"},{color_lens:"画板 调色板 调色盘 色彩 绘画 绘图"},{colorize:"取色器 着色器 上色 滴管"},{compare:"图片 前后 对比"},{control_point:"控制点 控制器 添加 线形"},{control_point_duplicate:"复制点 控制器"},{crop:"截图 截取 裁剪 切割 尺寸 图片 编辑"},{crop_16_9:"截图 截取 裁剪 切割 尺寸 编辑 16:9"},{crop_3_2:"截图 截取 裁剪 切割 尺寸 编辑 3:2"},{crop_5_4:"截图 截取 裁剪 切割 尺寸 编辑 5:4"},{crop_7_5:"截图 截取 裁剪 切割 尺寸 编辑 7:5"},{crop_din:"截图 截取 裁剪 切割 尺寸 编辑 标准"},{crop_free:"截图 截取 切割 尺寸 编辑 自由裁剪"},{crop_original:"截图 截取 裁剪 切割 编辑 原始尺寸"},{crop_portrait:"截图 截取 裁剪 切割 尺寸 编辑 肖像 竖屏"},{crop_rotate:"截图 截取 裁剪 切割 尺寸 编辑 旋转"},{crop_square:"截图 截取 裁剪 切割 尺寸 编辑 1:1 正方形"},{dehaze:"去霾 效果 美化 编辑 处理"},{details:"清晰度 效果 美化 编辑 处理"},{edit:"编辑 美化 图片 编辑 笔 操作"},{exposure:"曝光 效果 美化 图片 编辑 处理"},{exposure_neg_1:"曝光度 -1 效果 美化 编辑 处理"},{exposure_neg_2:"曝光度 -2 效果 美化 编辑 处理"},{exposure_plus_1:"曝光度 +1 效果 美化 编辑 处理"},{exposure_plus_2:"曝光度 +2 效果 美化 编辑 处理"},{exposure_zero:"曝光度 0 效果 美化 编辑 处理"},{filter:"滤镜 图片 效果 美化 图片 编辑 处理"},{filter_1:"滤镜 1 图片 效果 美化 编辑 处理"},{filter_2:"滤镜 2 图片 效果 美化 编辑 处理"},{filter_3:"滤镜 3 图片 效果 美化 编辑 处理"},{filter_4:"滤镜 4 图片 效果 美化 编辑 处理"},{filter_5:"滤镜 5 图片 效果 美化 编辑 处理"},{filter_6:"滤镜 6 图片 效果 美化 编辑 处理"},{filter_7:"滤镜 7 图片 效果 美化 编辑 处理"},{filter_8:"滤镜 8 图片 效果 美化 编辑 处理"},{filter_9:"滤镜 9 图片 效果 美化 编辑 处理"},{filter_9_plus:"滤镜 拓展 更多 9+ 图片 效果 美化 编辑 处理"},{filter_b_and_w:"滤镜 黑白 图片 效果 美化 编辑 处理"},{filter_center_focus:"滤镜 焦点 聚焦 图片 效果 美化 编辑 处理"},{filter_drama:"滤镜 反差色 效果 美化 编辑 处理"},{filter_frames:"滤镜 框架 滤框 图片 效果 美化 编辑 处理"},{filter_hdr:"滤镜 光照渲染 HDR 图片 效果 美化 编辑 处理"},{filter_none:"无滤镜 图片 效果 美化 编辑 处理"},{filter_tilt_shift:"滤镜 移轴镜头 移轴 偏移 图片 效果 美化 编辑 处理"},{filter_vintage:"滤镜 复古 图片 效果 美化 编辑 处理"},{flare:"闪光 光线 图片 效果 编辑 处理"},{flash_auto:"闪光灯 自动 图片 效果 美化 编辑 处理"},{flash_off:"闪光灯 关闭 图片 效果 美化 编辑 处理"},{flash_on:"闪光灯 打开 图片 效果 美化 编辑 处理"},{flip:"翻转 图片 效果 美化 编辑 处理"},{gradient:"倾斜 图片 效果 美化 编辑 处理"},{grain:"纹理 图片 效果 美化 编辑 处理"},{grid_off:"关闭 停用 网格 图片 效果 美化 编辑 处理"},{grid_on:"打开 使用 开启 网格 图片 效果 美化 编辑 处理"},{hdr_off:"关闭 图片 效果 美化 编辑 处理"},{hdr_on:"开启 打开 图片 效果 美化 编辑 处理"},{hdr_strong:"细节 强 图片 效果 美化 编辑 处理"},{hdr_weak:"细节 弱 图片 效果 美化 编辑 处理"},{healing:"修复 修补 图片 效果 美化 编辑 处理 创可贴"},{image:"添加图片"},{image_aspect_ratio:"宽高比 图片 效果 美化 编辑 处理"},{iso:"映像 格式 图片 效果 美化 编辑 处理"},{landscape:"风景 图片 效果 美化 编辑 处理"},{leak_add:"添加 漏光 图片 效果 美化 编辑 处理"},{leak_remove:"移除 漏光 图片 效果 美化 编辑 处理"},{lens:"透镜 镜头 图片 效果 美化 编辑 处理"},{linked_camera:"连接相机 相机 图片 效果 美化 编辑 处理"},{looks:"外观 预设 图片 效果 编辑 处理"},{looks_one:"外观 预设 1 图片 效果 美化 编辑 处理"},{looks_two:"外观 预设 2 图片 效果 美化 编辑 处理"},{looks_3:"外观 预设 3 图片 效果 美化 编辑 处理"},{looks_4:"外观 预设 4 图片 效果 美化 编辑 处理"},{looks_5:"外观 预设 5 图片 效果 美化 编辑 处理"},{looks_6:"外观 预设 6 图片 效果 美化 编辑 处理"},{loupe:"放大镜 放大器 图片 效果 美化 编辑 处理"},{monochrome_photos:"单色 黑白 图片 效果 美化 编辑 处理"},{movie_creation:"影片 电影 影片创作 创作 制作"},{movie_filter:"影片 电影 滤镜 美化"},{music_note:"乐谱 音乐 记录 音符"},{nature:"自然 风格 环境 树"},{nature_people:"环境 友好 环保 人与自然 人物活动"},{palette:"调色板 色板"},{panorama_fish_eye:"全景 图像 鱼眼 相机 拍照 效果"},{panorama_horizontal:"全景 图像 横向 相机 拍照 效果"},{panorama_vertical:"全景 图像 纵向 相机 拍照 效果"},{panorama_wide_angle:"全景 图像 广角 相机 拍照 效果"},{photo:"图片 照片 图册"},{photo_album:"图片 照片 相册 图册 图库"},{photo_camera:"照相机 相机 拍照"},{photo_filter:"滤镜 美化 图片 编辑 效果"},{photo_library:"图库 图册 图片 收藏"},{photo_size_select_actual:"图片 尺寸 选择 标准 正常"},{photo_size_select_large:"图片 尺寸 放大"},{photo_size_select_small:"图片 尺寸 缩小"},{picture_as_pdf:"导出PDF 图片 导出"},{portrait:"人像 照片 肖像"},{remove_red_eye:"消除红眼 可视 眼睛"},{rotate_90_degrees_ccw:"逆时针 旋转 90° 九十度"},{rotate_left:"左旋转 旋转"},{rotate_right:"右旋转 旋转"},{slideshow:"幻灯片 放映 自动 播放"},{straighten:"变直 拉直 直尺"},{style:"风格 卡片 便签"},{switch_camera:"转换 相机 照相 摄影"},{switch_video:"转换 摄影 电影 影片"},{tag_faces:"人脸 面部 表情"},{texture:"纹理 质地 美化 图片编辑"},{timelapse:"定时拍摄 摄影 延时"},{timer:"计时器 定时器 秒表"},{timer_10:"延时 10秒 拍摄 定时"},{timer_3:"延时 3秒 拍摄 定时"},{timer_off:"关闭定时 停止计时 禁用"},{tonality:"色调 图像 色彩 调节 颜色 美化"},{transform:"转换 转化"},{tune:"均衡器 调节 调音"},{view_comfy:"视图 排布 舒适"},{view_compact:"视图 排布 密集"},{vignette:"光晕 光圈 图像 美化 图片 编辑"},{wb_auto:"白平衡 自动 图像 美化 图片 编辑"},{wb_cloudy:"白平衡 阴天 图像 美化 图片 编辑"},{wb_incandescent:"白平衡 白炽灯 图像 美化 图片 编辑"},{wb_iridescent:"白平衡 闪光 图像 美化 图片 编辑"},{wb_sunny:"白平衡 阳光 晴 图像 美化 图片 编辑"}],maps:[{add_location:"添加 地点 新增 位置 增加 坐标"},{beenhere:"已到达 到达 完成 勾"},{directions:"方位 目标 地点 坐标 方向"},{directions_bike:"方位 骑行 骑车 自行车 交通 行为 生活"},{directions_boat:"方位 轮船 乘坐 船 交通 行为 生活"},{directions_bus:"方位 公交 乘坐 乘车 公交车 交通 行为 生活"},{directions_car:"方位 开车 自驾 汽车 轿车 交通 行为 生活"},{directions_railway:"方位 火车 乘坐 乘车 交通 行为 生活"},{directions_run:"方位 走路 跑步 行为 生活"},{directions_subway:"方位 地铁 乘坐 乘车 交通 行为 生活"},{directions_walk:"方位 步行 走路 行为 生活"},{edit_location:"编辑位置 位置 更改 当前位置 更改信息 坐标"},{ev_station:"充电站 充电 地点 生活"},{hotel:"旅馆 宾馆 休息 睡眠 睡觉 行为 生活"},{layers:"图层面板 图层 叠加"},{layers_clear:"清除图层 清除 叠加"},{local_activity:"当地 活动 推荐 吃喝玩乐 行为 生活"},{local_airport:"当地 飞机 航班 飞行 衣食住行 交通 行为 生活"},{local_atm:"当地 取款 存款 ATM 金额 美元 衣食住行 行为 生活"},{local_bar:"当地 酒吧 酒杯 聚会 吃喝玩乐 行为 生活"},{local_cafe:"当地 咖啡 下午茶 饮食 美食 杯子 衣食住行 吃喝玩乐 行为 生活"},{local_car_wash:"当地 洗车 车 衣食住行 吃喝玩乐 行为 生活"},{local_convenience_store:"当地 便利店 24小时 营业 社会 衣食住行 行为 生活"},{local_dining:"当地 饮食 吃喝玩乐 吃饭 美食 衣食住行 行为 生活"},{local_drink:"当地 水 饮食 杯子 衣食住行 行为 生活"},{local_florist:"当地 花 花店 杯子 衣食住行 行为 生活"},{local_gas_station:"当地 加油站 出行 加油 衣食住行 行为 生活"},{local_grocery_store:"当地 购物车 购物 衣食住行 行为 生活"},{local_hospital:"当地 医院 看病 健康 衣食住行 行为 生活"},{local_hotel:"当地 旅馆 宾馆 衣食住行 行为 生活"},{local_laundry_service:"当地 清洗 衣服 洗衣机 衣食住行 生活"},{local_library:"当地 图书馆 阅读 读书 行为 生活"},{local_mall:"当地 商城 商场 购物 购物袋 衣食住行 吃喝玩乐 行为 生活"},{local_movies:"当地 电影 电影院 吃喝玩乐 行为 生活"},{local_offer:"当地 特价 减价 削价 消费 吃喝玩乐 衣食住行 行为 生活"},{local_parking:"当地 停车 P 停车场 出行 衣食住行 行为 生活"},{local_pharmacy:"当地 药房 药店 买药 看病 衣食住行 行为 生活"},{local_phone:"当地 电话 公用电话 打电话 通讯 衣食住行 行为 生活"},{local_pizza:"当地 美食 订餐 外卖 饮食 衣食住行 吃喝玩乐 披萨 行为 生活"},{local_play:"当地 支付 付款 买单 衣食住行 吃喝玩乐 行为 生活"},{local_post_office:"当地 邮局 邮件 信件 衣食住行 行为 生活"},{local_printshop:"当地 印刷 打印 打印店 印务馆 衣食住行 吃喝玩乐 行为 生活"},{local_see:"当地 拍照 参观 摄影 衣食住行 吃喝玩乐 行为 生活"},{local_shipping:"当地 运输 快递 卡车 衣食住行 吃喝玩乐 行为 生活"},{local_taxi:"当地 打车 出行 的士 滴滴 衣食住行 吃喝玩乐 行为 生活"},{map:"出行 行为 生活 谷歌地图"},{my_location:"我的位置 坐标 定位 所在地"},{navigation:"导航 方向"},{near_me:"附近 靠近 正在进行 行走中 导航中"},{person_pin:"个人 地图 标记"},{person_pin_circle:"个人 地图 标记 圆形"},{pin_drop:"坐落 停留 到达 标记"},{place:"地点 坐标 方位 位置 标记"},{rate_review:"评分 评价 写评价 撰写 编写 气泡"},{restaurant:"餐馆 饮食 三餐 衣食住行 吃喝玩乐 生活 餐饮"},{restaurant_menu:"菜单 餐馆 美食 衣食住行 吃喝玩乐 生活 餐饮"},{satellite:"卫星 卫星定位 方形"},{store_mall_directory:"商店 商场 目录 购物 消费指南 生活"},{streetview:"街道视图 街景地图 街景 生活"},{subway:"地铁 地铁站 出行 交通 生活"},{terrain:"地形 地势 地带 地形图"},{traffic:"交通 运输 贸易 生活"},{train:"火车 出行 交通 运输 生活"},{tram:"电车 出行 交通 运输 生活"},{transfer_within_a_station:"换乘 站内换乘 出行 交通 生活"},{zoom_out_map:"缩放 地图缩放 地图"}],navigation:[{apps:"应用中心"},{arrow_back:"退回一步 返回 上一步 箭头"},{arrow_downward:"向下 箭头 引导"},{arrow_drop_down:"展开 向下 收起 三角形"},{arrow_drop_down_circle:"展开 向下展开 三角形 圆形"},{arrow_drop_up:"展开 向上 收起 三角形"},{arrow_forward:"前进一步 前进 跳转 向前 进入 向右箭头"},{arrow_upward:"向上 箭头 引导"},{cancel:"取消 关闭 叉 圆形"},{check:"完成 检查 勾选 选择 选中"},{chevron_left:"左 返回 回退 上一页 向左 V箭头"},{chevron_right:"右 前进 下一页 向右 V箭头"},{close:"关闭 取消 关闭窗口 叉"},{expand_less:"收起 向上 V箭头"},{expand_more:"展开 向下 V箭头"},{first_page:"第一页 跳转"},{fullscreen:"全屏显示 全屏预览"},{fullscreen_exit:"退出全屏"},{last_page:"最后一页 跳转"},{menu:"下拉菜单 列表"},{more_horiz:"更多 拓展 横向"},{more_vert:"更多 拓展 纵向"},{refresh:"刷新 箭头"},{subdirectory_arrow_left:"分目录 左三角"},{subdirectory_arrow_right:"分目录 右三角"}],notification:[{adb:"客户端 命令 指令"},{airline_seat_flat:"航班座位 平躺 人 行为"},{airline_seat_flat_angled:"航班座位 斜趟 人 行为"},{airline_seat_individual_suite:"航班座位 单人座椅 人 行为"},{airline_seat_legroom_extra:"航班座位 人 行为"},{airline_seat_legroom_normal:"航班座位 人 行为"},{airline_seat_legroom_reduced:"航班座位 人 行为"},{airline_seat_recline_extra:"航班座位 人 行为"},{airline_seat_recline_normal:"航班座位 人 行为"},{bluetooth_audio:"蓝牙 音频 连接蓝牙"},{confirmation_number:"确认号码 验证码 确认码"},{disc_full:"光盘 存储 存盘 磁盘已满"},{do_not_disturb:"勿扰模式 禁止 打扰 防打扰"},{do_not_disturb_alt:"勿扰模式 禁止打扰 防打扰"},{do_not_disturb_off:"关闭勿扰 勿扰模式"},{do_not_disturb_on:"打开 勿扰模式 打开勿扰"},{drive_eta:"行车 预计抵达 行车抵达"},{enhanced_encryption:"加密 编译密码"},{event_available:"可接 事件 行程 行程完成 完成事件"},{event_busy:"行程冲突 忙碌 不可接 未完成事件"},{event_note:"事件记录 事件笔记"},{folder_special:"星标文件夹 特别 特殊 星标"},{live_tv:"直播 哔哩哔哩 播放"},{mms:"短信 消息 图片信息 彩信 气泡"},{more:"更多"},{network_check:"网络检查 联网"},{network_locked:"锁定网络 信号栏"},{no_encryption:"未加密 不加密"},{ondemand_video:"VOD 视频点播 视频"},{personal_video:"个人视频"},{phone_bluetooth_speaker:"蓝牙电话 通话 音箱"},{phone_forwarded:"呼出 转拨 拨出 电话 转接"},{phone_in_talk:"正在通话 通话中 电话"},{phone_locked:"电话锁定 通话 电话"},{phone_missed:"未接来电 电话"},{phone_paused:"电话 通话暂停"},{power:"插电 充电 电力 接入电源"},{priority_high:"高优先级"},{sd_card:"SD卡 记忆卡"},{sim_card_alert:"SIM卡 提醒 警告"},{sms:"消息 短信 气泡"},{sms_failed:"消息提醒 短信 接收失败 气泡"},{sync:"同步 箭头"},{sync_disabled:"同步失败"},{sync_problem:"同步 问题"},{system_update:"系统更新 下载 箭头"},{tap_and_play:"轻触"},{time_to_leave:"离开时间 离开 车"},{vibration:"手机 震动"},{voice_chat:"语音 视频 聊天 可视"},{vpn_lock:"锁定"},{wc:"厕所 男 女 生活 符号"},{wifi:"WIFI 无线网络"}],places:[{ac_unit:"空调 制冷 降温 雪花"},{airport_shuttle:"机场接送 摆渡车 巴士 机场 大巴 机场班车 班车"},{all_inclusive:"全部 包含 无限 无穷 符号"},{beach_access:"沙滩 生活 社会活动"},{business_center:"商务中心 贸易中心 商店 商业中心 公文包 生意"},{casino:"俱乐部 赌场 娱乐场所 赌博 色子 骰子"},{child_care:"儿童护理 托儿所 护理中心 生活"},{child_friendly:"爱儿 亲子 婴儿车"},{fitness_center:"健身 健身场所 健身中心 健身房 杠铃 生活 社会活动"},{free_breakfast:"免费早餐 服务 提供 咖啡杯 饮食 吃喝玩乐 生活 社会"},{golf_course:"高尔夫 球场 娱乐 社会活动"},{hot_tub:"热水 浴缸 泡澡 洗浴中心 澡堂 生活"},{kitchen:"厨房 厨具 家电 冰箱 生活"},{pool:"泳池 游泳 生活 娱乐 体育"},{room_service:"客房服务 送餐 服务"},{rv_hookup:"观光线路 娱乐车 游览车"},{smoke_free:"无烟区 禁烟"},{smoking_rooms:"吸烟区"},{spa:"温泉浴场 矿泉 疗养"}],social:[{cake:"蛋糕 生日 节日 庆祝 社会活动 吃喝玩乐 派对"},{domain:"地产 建筑 社会 生活 买卖 交易"},{group:"团队 合作 多人"},{group_add:"添加 团队 合作 多人 加入"},{location_city:"所在地 所在城市 位置 建筑"},{mood:"心情 情绪 开心 愉悦 表情"},{mood_bad:"心情 情绪 难过 不开心 表情"},{notifications:"提醒 消息 铃"},{notifications_active:"响铃 开启 提醒"},{notifications_none:"无提醒"},{notifications_off:"关闭提醒"},{notifications_paused:"暂停 提醒 响铃"},{pages:"页码"},{party_mode:"多人模式 室内聚会 聚会 社交 社会活动"},{people:"多人 人群 社会 社交"},{people_outline:"多人 人群 社会 线形"},{person:"个人 私人 我 我的 本人 社会 活动"},{person_add:"添加 添加好友 新增 好友 社会 行为"},{person_outline:"个人 私人 我的 本人 社会 活动 线形"},{plus_one:"+1 赞同 同意 新增 意见 观点 个人 行为 社会"},{poll:"投票 选举 选票 统计 票数 计票 数据 民意调查 问卷 社会 行为"},{"public":"公众 全球 集体 政府 社会 公共场所 公用 公立"},{school:"学校 教育 学习 学院 学派 群体 学位 博士 硕士 毕业 社会 行为 学士帽"},{sentiment_dissatisfied:"心情 情绪 态度 不满意 不喜欢 喜好 程度 满意度"},{sentiment_neutral:"心情 情绪 态度 一般 中立 喜好 程度 满意度"},{sentiment_satisfied:"心情 情绪 态度 满意 喜欢 点赞 喜好 程度 满意度"},{sentiment_very_dissatisfied:"心情 情绪 极其 不满意 差评 很差 中立 喜好 程度 满意度"},{sentiment_very_satisfied:"心情 情绪 态度 十分满意 非常满意 喜欢 点赞 喜好 程度 满意度"},{share:"分享 社交 链接"},{whatshot:"热点 热门 话题 资讯 主打 特别推荐 大家关注 流行 社交 社会 行为"}],toggle:[{check_box:"确认 勾选 完成 选择 事项 事件 项目 方形"},{check_box_outline_blank:"确认 勾选 未完成 无 待办 待办事项 事件 项目 方形 线形"},{indeterminate_check_box:"不确定 未定 待定 事项 删减 减少 删除"},{radio_button_checked:"单选 按钮 选中 确认 选择 事项 事件 项目"},{radio_button_unchecked:"单选 按钮 未选中 确认 未选择 事项 事件 项目"},{star:"星标 星星 评分 等级 rate 选中 五角星"},{star_border:"星标 星星 评分 等级 rate 未选中 五角星"},{star_half:"星标 星星 评分 等级 rate 半选 五角星"}]};t["default"]=i,(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&o.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/data/iconData.js"),(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&a(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(289)),a=["text","rect","roundRect","square","round","hLine","vLine","inputText"],i=[{name:"文本",type:"text"},{name:"矩形",type:"rect"},{name:"圆角矩形",type:"roundRect"},{name:"图片",type:"baseImage"},{name:"图标",type:"baseIcon"},{name:"输入框",type:"inputText"},{name:"备注",type:"note"},{name:"热区",type:"hotspot"},{name:"水平线",type:"hLine"},{name:"垂直线",type:"vLine"},{name:"正方形",type:"square"},{name:"圆形",type:"round"},{name:"表格",type:"baseTable"},{name:"地图",type:"map"},{name:"音频",type:"audio"},{name:"视频",type:"video"},{name:"网页",type:"webPage"}],s=[{type:"dropdown"},{type:"slider"},{type:"pagination"},{type:"rate"},{type:"carousel"},{type:"radio"},{type:"checkbox"},{type:"switch"},{type:"select"},{type:"datePicker"},{type:"timePicker"},{type:"cascader"},{type:"treeSelect"},{type:"transfer"},{type:"menu"},{type:"calendar"},{type:"collapse"},{type:"tree"}],l=[{type:"carouselM"},{type:"carouselTextM"},{type:"sliderM"},{type:"rangeM"},{type:"stepperM"},{type:"paginationM"},{type:"radioM"},{type:"checkboxM"},{type:"switchM"},{type:"menuM"},{type:"pickerM"},{type:"segmentedControlM"},{type:"calendarM"},{type:"datePickerM"},{type:"accordionM"}],u=[{type:"miniBar"},{type:"bar"},{type:"horizontalBar"},{type:"miniArea"},{type:"lineChart"},{type:"timelineChart"},{type:"miniProgress"},{type:"progressCircle"},{type:"circle"},{type:"miniCircle"},{type:"pie"},{type:"gauge"},{type:"radar"},{type:"waterWave"}];[s,l,u].forEach(function(e){e.forEach(function(e){e.name=o["default"](e.type)})});var c={getTextType:function(){return a},getBaseContr:function(){return i},getAdvancedContr:function(){return s},getMobileContr:function(){return l},getChartContr:function(){return u},createTextContr:function(e,t,n,r,o){$.changeNums({textContr:o.textContr+1});var a=o.textContr,i={id:$.getNumKey(a),name:"文本 "+a,type:"text",content:$.isUndefined(e.content)?"文本":e.content,fontSize:14,lineHeight:10,indent:0,adjaceney:0,shadow:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,horizontal:"hC",vertical:"vM",isEdit:!1,lastContent:null,width:t.width,height:t.height,left:t.left,top:t.top,filter:{},isLock:!1,isShow:!0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!0};return"text"==e.type&&(i=$.extend(i,{horizontal:"hL",vertical:"vT",autoW:!0,autoH:!0,width:28,height:21})),"rect"==e.type?i=$.extend(i,{name:e.name+" "+a,content:"",hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,baseContrType:e.type}):"roundRect"==e.type?i=$.extend(i,{name:e.name+" "+a,content:"",hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,radius:16,baseContrType:e.type}):"square"==e.type?i=$.extend(i,{name:e.name+" "+a,content:"",WHrelation:!0,hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,baseContrType:e.type}):"round"==e.type?i=$.extend(i,{name:e.name+" "+a,content:"",WHrelation:!0,hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isMaxRadius:!0,isBaseShape:!0,baseContrType:e.type}):"vLine"==e.type||"hLine"==e.type?i=$.extend(i,{name:e.name+" "+a,content:"",hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,baseContrType:e.type}):"inputText"==e.type&&(i=$.extend(i,{name:e.name+" "+a,content:"输入内容",textColor:"rgba(51, 51, 51, 1)",border:["rgba(153, 153, 153, 1)",1],indent:5,fontSize:12,radius:2,horizontal:"hL",baseContrType:e.type})),i},createIconContr:function(e,t,n,r,o){$.changeNums({iconContr:o.iconContr+1});var a=o.iconContr;return{id:$.getNumKey(a),name:"图标 "+a,type:"icon",iconKey:$.isUndefined(e.iconKey)?"insert_emoticon":e.iconKey,width:t.width,height:t.height,left:t.left,top:t.top,filter:{},isLock:!1,isShow:!0,WHrelation:!0,rotate:0,iconColor:"rgba(153, 153, 153, 1)",opacity:100,isOpt:!0}},createHotspotContr:function(e,t,n,r,o){$.changeNums({hotspotContr:o.hotspotContr+1});var a=o.hotspotContr;return{id:$.getNumKey(a),name:"热区 "+a,type:"hotspot",width:t.width,height:t.height,left:t.left,top:t.top,isLock:!1,isShow:!0,WHrelation:!1,rotate:0,isOpt:!0}}};t["default"]=c},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(40)),a=r(n(6)),i=r(n(5)),s=r(n(29)),l=n(77),u=window.$;function c(){var e=o["default"].getTableData(),t={left:0,top:0,width:0,height:0};if(e&&e.selectContr&&e.selectCell){var n=i["default"].isPrdView()?s["default"].getPrdElementById(e.selectContr.id):a["default"].getContrByAll(u.getContrId(e.selectContr)),r=n.columnPosi,c=n.linePosi,d=e.selectCell[0],f=d.columnIndex,p=d.lineIndex,h=e.selectCell[1],g=h.columnIndex,y=h.lineIndex,m=u.getSortNumber([f,g]),_=u.getSortNumber([p,y]),v=l.getOneCellData(e.selectCell[0]);if(t.width+=r[f],t.height+=c[p],v&&v.mergeColumn)for(var b=f+1;b<=f+v.mergeColumn;b++)t.width+=r[b]||0;if(v&&v.mergeLine)for(b=p+1;b<=p+v.mergeLine;b++)t.height+=c[b]||0;for(var w=m[0];w<f;w++)t.left+=r[w]||0;for(w=_[0];w<p;w++)t.top+=c[w]||0}return t}t.getStartCellPosi=c,t["default"]={getStartCellPosi:c}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(9),s=window.$,l=0,u=!1,c={x:0,y:0},d=!1,f=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getIsShow=function(){return u},t.prototype.getPosi=function(){return c},t.prototype.getBorderRadius=function(){return l=s.isArray(l)?l:[l,l,l,l]},t.prototype.getOldBorderRadius=function(){return a},t.prototype.initBorderRadius=function(e){u=!0,l=e.borderRadius,s.isArray(l)?(l=l,a=s.extend(!0,[],l)):a=[l=[l,l,l,l],l,l,l],c=e.posi,d=e.isMaxRadius,f.emitChange()},t.prototype.setBorderRadius=function(e){l=s.isArray(e)?e:[e,e,e,e],f.emitChange(),f.changeContrVal()},t.prototype.hideBorderRadius=function(){u=!1,f.emitChange()},t.prototype.changeContrVal=function(){var e=this,t=n(6)["default"],r=t.getSelectContr();r&&(r.forEach(function(n){var r=e.getBorderRadius(),o=!1;d&&a&&r&&s.checkArrayEqual(r,a)&&(o=!0),s.isArray(r)&&r[0]==r[1]&&r[0]==r[2]&&r[0]==r[3]&&(r=r[0]),t.contrUpdate(s.getContrId(n),{isMaxRadius:o,radius:r},!1,!0)}),r.length>0&&t.emitChange())},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));t["default"]=f},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(5)),i=r(n(24)),s=r(n(32)),l=r(n(10)),u=window.$;function c(e,t,r){o["default"].initAllContrs();var l=t||[],c=[],d=e||o["default"].getFirstSelectContr(),f=d.mergeName,p=i["default"].getMergeBoxShow(),h=s["default"].getSymbolMask(),g=o["default"].getSymbolContr(),y=o["default"].getNums(),m=o["default"].getContrs(),_=h.isShow,v=p?i["default"].getContrs():_?g.contrs:m,b=u.getContrId(d),w=u.hasStates(d);if(d.hierarchy.forEach(function(e){var t,n,r=d.contrs[e];if(v[r.type+"_"+r.id]){o["default"].changeNums(((t={})[r.type+"Contr"]=y[r.type+"Contr"]+1,t));var i=y[r.type+"Contr"],s=u.getNumKey(i);n=v[r.type+"_"+s]=r,_||(n.interfaceId=a["default"].getActivePage()),n.id=s,u.addUserKeyToContr(n),n.name=n.name.split(" ")[0]+" "+i}else n=v[r.type+"_"+r.id]=r;n.left+=+d.left,n.top+=+d.top,_?delete n.mergeName:n.mergeName=f;var p=u.getContrId(n);if(n.states)for(var h in n.states)u.isUndefined(n.states[h].contrs[p])?console.log("warning，不应该出现没有这个子级数据的情况，需要排查"):(u.isUndefined(n.states[h].contrs[p].left)||(n.states[h].contrs[p].left+=+d.left),u.isUndefined(n.states[h].contrs[p].top)||(n.states[h].contrs[p].top+=+d.top));n.isShow&&l.push(p),c.push(p)}),p)i["default"].insertContr(b,c);else if(_){var C=o["default"].getThisSymbolHierarchy(),x=[C.indexOf(b),1].concat(c);Array.prototype.splice.apply(C,x)}else a["default"].pageInsertContr(b,c);(r||o["default"].selectChangeFunc(l),f&&"null"!=d.mergeName&&!u.query(".info-box.state-info"))&&(o["default"].getContrAllParent(d)||[]).forEach(function(e){!function(e,t){if(e.states)for(var n in e.states)e.states[n].contrs[t]&&delete e.states[n].contrs[t]}(o["default"].getContrByAll(e),b)});(delete v[b],w)&&n(151)["default"].deleteRelativedActions({type:"deleteContr",targetId:b})}function d(){var e,t,n,r=o["default"].getSelectContr();if(r.length>0){if(r.length>1){var a=[];r.forEach(function(o,i){t=(e=o).name,n=e.type,c(o,a,i!=r.length-1)})}else e=r[0],t=e.name,n=e.type,c();o["default"].emitChange(),l["default"].createData({type:"wrapResolve",name:"["+t+"] 集合分解",handleObjType:n,autoSaveType:"pageContrs"})}}t.wrapboxResolve=d,t["default"]={wrapboxResolve:d}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(62).Buffer)},function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:n(1198),e.exports={Promise:r}},,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=(window.$,{selectArr:[],hoverKey:""}),s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getHoverKey=function(){return i.hoverKey},t.prototype.getOnlyHoverKey=function(){return-1===i.selectArr.indexOf(i.hoverKey)&&i.hoverKey},t.prototype.init=function(){i={selectArr:[],hoverKey:""},s.emitChange()},t.prototype.setHoverKey=function(e){i.hoverKey=e,s.emitChange()},t.prototype.setSelectArr=function(e){i.selectArr=e,i.hoverKey="",s.emitChange()},t.prototype.getSelectArr=function(){return i.selectArr},t.prototype.getSelectSet=function(){return i},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),l=i(n(464)),u=n(170),c=window.$,d={},f={startIdx:-1,targetIdx:-1,position:"",isDrag:!1},p=-1,h=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.createElement=function(e){var t=e.id;d[t]=e,h.emitChange()},t.prototype.getOneElement=function(e){return d[e]},t.prototype.changeElementVal=function(e){var t=e.id,n=e.noEmit,r=void 0!==n&&n,o=e.noExtend,i=void 0!==o&&o,s=a(e,["id","noEmit","noExtend"]);c.extend(!i,h.getOneElement(t),s),r||h.emitChange()},t.prototype.getElements=function(){return d},t.prototype.getElementsByPageId=function(e,t){var n={};for(var r in d){var o=d[r].pageId,a=u.generateUUID();if(e==o){n[r]=a;var i=c.extend(!0,{},d[r]);d[a]=c.extend(!0,i,{id:a,pageId:t})}}return h.emitChange(),n},t.prototype.deleteElementsByPageId=function(e){for(var t in d){e==d[t].pageId&&delete d[t]}},t.prototype.getFrameArr=function(){var e=[],t=l["default"].getPage().hierarchy;return t&&t.length&&t.forEach(function(t){var n=h.getOneElement(t),r=n.w,o=n.h,a=n.x,i=n.y,s=n.id;"frame"==n.baseType&&e.push({id:s,w:r,h:o,x:a,y:i})}),e},t.prototype.setStartDrag=function(e){f.startIdx=e,f.isDrag=!0,h.emitChange()},t.prototype.setShadowExchange=function(e){var t=e.targetIdx,n=e.position;t==f.targetIdx&&n==f.position||(f.targetIdx=t,f.position=n,h.emitChange())},t.prototype.getShadowExchange=function(){return f},t.prototype.getLastIdx=function(){return p},t.prototype.setLastIdx=function(e){p=e},t.prototype.cancelShadowDrag=function(){c.extend(!0,f,{startIdx:-1,targetIdx:-1,position:"",isDrag:!1}),h.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(s.EventEmitter));t["default"]=h},,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(146)),i=r(n(260)),s=r(n(27)),l=r(n(132)),u=r(n(202)),c=r(n(323)),d=n(841),f=r(n(1328)),p=n(1329),h=n(963),g=n(964),y=n(471),m=n(903),_=n(444),v=n(902),b=c["default"].mouseDown,w=c["default"].dblclick,C=window.$,x={date:(new Date).getTime(),target:null};function S(e){var t=C.getEventTarget({event:e}),n=e.evt;if(_.hidePageIdxInput(),t){var r=t.findAncestors(".page"),i=a["default"].getCursor(),u=t.attrs["data-eventkey"],c="ball"==u,f=u&&-1!=u.indexOf("line"),p="comment"==u,h=u&&-1!=u.indexOf("lineDrag");if((new Date).getTime()-x.date>500&&(x={date:(new Date).getTime(),target:t}),"color-picker"==i)return;if(c||f||p||h)l["default"].selectChange([]);else if("multi-view"===o["default"].getViewMode()&&r&&r.length>0)d.mainBoxMouseDown(r[0],n),s["default"].setSelectArr([]);else{var g=s["default"].getHoverKey(),y=g.contrKey,m=g.pageKey;(y||m)&&s["default"].setHoverKey({contrKey:"",pageKey:""});var v=C(".line-type-select-icon.is-open");v&&v.click(),s["default"].setSelectArr([]),b(n)}}n.stopPropagation(),n.preventDefault()}function P(e){var t=C.getEventTarget({event:e}),n=(t&&t.findAncestors(".page"),e.evt),r=function(e){var t=e.selectType,n=e.event;return t?"line"==t?f["default"].lineContextMenu():f["default"].pageContextMenu(n):f["default"].noSelectContextMenu(n)}({selectType:function(e){var t=e.selectLineArr,n=e.pageSelectArr,r="";return t&&t.length>0?r="line":n&&n.length>0&&(r="page"),r}({selectLineArr:s["default"].getSelectArr(),pageSelectArr:o["default"].getPageSelect()}),event:e});if(r){var a=n.clientX,i=n.clientY;u["default"].rightMenuUpdate({left:a,top:i,content:r}),n.stopPropagation(),n.preventDefault()}}function k(e){if(!window.mouseDownTarget.name){var t=e.evt,n=window.isKeyDown.isP,r=window.isKeyDown.isL,a=e.currentTarget.targetShape,i=s["default"].getHoverKey().contrKey;if(a){var l=o["default"].isFreeView(),u=o["default"].isMultiView();if(l&&u){var c=m.getHoverLineKey({target:a}),d="user"==a.attrs["data-eventkey"];if(!c&&!d){var f=a.findAncestors(".canvasContr"),p=a.findAncestors(".page"),h=s["default"].getHoverKey(),g=h.pageKey,_=h.contrKey;if(!g&&!_||!r)if(f&&f.length>0&&!n)m.getHoverContrKey({canvasContr:f,hoverKey:i,canvasPage:p});else if(p&&p.length>0)m.getHoverPageKey(p[0]);else{var v=a.findAncestors(".hoverBall");v&&v.length>0||!s["default"].getHoverKey().pageKey||E()}}}}y.changeColorPicker(t)}}function O(){window.mouseDownTarget.name||("color-picker"==a["default"].getCursor()&&i["default"].setColorPickerGlass({color:null}),window.isKeyDown.isL||s["default"].getHoverKey().pageKey&&s["default"].setHoverKey({pageKey:"",contrKey:""}))}function E(){var e=o["default"].isFreeView(),t=o["default"].isMultiView();e&&t&&s["default"].setHoverKey({pageKey:"",contrKey:""})}function T(){window.isKeyDown.isL||E()}function M(e){var t=C.isUndefined(e.evt);u["default"].rightMenuUpdate({left:(t?e:e.evt).clientX,top:(t?e:e.evt).clientY,content:v.lineContextMenuConfig})}function D(){return{onContentMouseDown:S,onContentMouseMove:k,onContentMouseOut:O,onContextMenu:P}}function A(){return{}}function j(){return{onMouseDown:p.handleBallMouseDown,onMouseOut:T}}function I(){return{onMouseDown:h.handleBallReDrag}}function L(){return{onMouseDown:g.handleLineDrag,onContextMenu:M}}t.stageDblClick=function(e){w(e.evt)},t.handleLineContextMenu=M,t.getAllCanvasEvent=D,t.hoverPageEvent=A,t.hoverBallEvent=j,t.reDragEvent=I,t.lineDragEvent=L,t["default"]={getAllCanvasEvent:D,hoverPageEvent:A,hoverBallEvent:j,reDragEvent:I,lineDragEvent:L,handleLineContextMenu:M}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({NOTE_ADD:null,NOTE_UPDATE:null,NOTE_REMOVE:null,NOTE_SWITCHDISPLAY:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/NoteConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({PROTOPREVIEW_CHANGELABEL:null,PROTOPREVIEW_ZOOM:null,PROTOPREVIEW_ZOOMFIT:null,PROTOPREVIEW_SWITCHMODE:null,PROTOPREVIEW_TOGGLECATALOG:null,PROTOPREVIEW_TOGGLENOTE:null,PROTOPREVIEW_SETPROPS:null,PROTOPREVIEW_RESETFRAMESIZE:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/constants/ProtoPreviewConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({MERGEBOX_MOVE:null,MERGEBOX_INIT:null,MERGEBOX_BACKCOLOR:null,MERGEBOX_THISCONTR:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/MergeBoxConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({SAVEDATA_CREATE:null,SAVEDATA_UNDO:null,SAVEDATA_REDO:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/SaveDataConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({BOTTOMPANEL_TOGGLEFOLD:null,BOTTOMPANEL_CHANGEHEIGHT:null,BOTTOMPANEL_CHANGESCALE:null,BOTTOMPANEL_CHANGELEFT:null,BOTTOMPANEL_REVERSE:null,BOTTOMPANEL_CORRECTRANGE:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/BottomPanelConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(6)),i=r(n(34)),s=r(n(32)),l=r(n(48)),u=r(n(165)),c=r(n(94)),d=r(n(27)),f=r(n(49)),p=r(n(149)),h=n(148),g=n(356),y=n(87),m=n(684),_=n(685),v=n(687),b=n(222),w=n(66),C=r(n(487)),x=w.createJsonDiff(),S=window.$;function P(e,t,r,w){var P=S.stringToObj(e.data),k=o["default"].getActivePage(),O=[],E=o["default"].getView().multiViewType,T={isChange:!1,isChangeSymbol:!1,isChangePageFlows:!1,isChangeLinkLines:!1,isChangePrdData:!1,isChoosePage:!1,isDeleteActivePage:!1,isNotSendSocket:!1,symbolRender:!1};S.isUndefined(t)||o["default"].setLastSaveKey(t),o["default"].setViewProp({name:e.name,pageIndexKey:e.pageIndexKey,pageNum:e.pageNum,coverImage:e.coverImage||"",versionIndexKey:e.versionIndexKey||""},!0);var M=o["default"].getProjectDataObj();if("{}"!=e.data)try{M.content=x.patch(M.content,P)}catch(L){window.log(L)}for(var D in P){var A=M.content[D]?S.extend(!0,{},M.content[D]):undefined;"projectSet"==D?m.projectSetOtherChange({pagesKeyArr:O,__projectData:M,i:A,_data:e,oldMultiViewType:E,isChangeObj:T}):"pageFlows"==D?(f["default"].setAllPageFlow(S.extend(!0,{},A)),T.isChangePageFlows=!0):"linkLines"==D?(d["default"].setAllLinkLine(S.extend(!0,{},A)),T.isChangeLinkLines=!0):"prdData"==D?(b.setPrdData(S.extend(!0,{},A)),T.isChangePrdData=!0,i["default"].emitChange()):"symbolContrs"==D?v.symbolContrsOtherChange({i:A,changeData:P,isChangeObj:T,_user:r}):A&&!g.isInOtherSet(D)?_.pagesOtherChange({i:A,x:D,changeData:P,isChangeObj:T,_user:r,_EmitArr:w}):D==k&&(T.isDeleteActivePage=!0)}if(window.renderActivePage&&setTimeout(function(){window.renderActivePage=!1},0),S("#versionManageLabel").hasClass("active")&&C["default"].emitChange(),T.isDeleteActivePage&&!w&&p["default"].otherDeleteActivePage(r),T.isChange||T.symbolRender||T.isChangeSymbol){if(w)w.push("ViewStore.emitViewChange"),(T.symbolRender||T.isChangeSymbol&&s["default"].getSymbolMaskShow())&&(w.push("PhoneConBoxStore.emitChange"),w.push("SymbolMaskStore.emitChange"),w.push("ContrStore.emitMustChange"));else{T.isChangePageFlows&&f["default"].emitChange(),T.isChangeLinkLines&&d["default"].emitChange(),o["default"].emitViewChange(),(T.symbolRender||T.isChangeSymbol&&s["default"].getSymbolMaskShow())&&(l["default"].emitChange(),s["default"].emitChange(),a["default"].emitMustChange()),o["default"].isMultiView()&&y.pageEmitChange();try{var j=S.query("#rightPanel .tabLabel.active");if(j){var I=j.id;if("pageSetLabel"==I?o["default"].emitPagesChange():"structLabel"==I?c["default"].emitChange():"boxLabel"!=I&&"textLabel"!=I||a["default"].emitChange(),!u["default"].getFold())n(309)["default"].emitChange()}}catch(R){window.log(R)}}a["default"].initCache()}"fixed-view"==M.content.projectSet.multiViewType&&P.projectSet&&P.projectSet.structHierarchy&&(T.isChoosePage=!0),!T.isDeleteActivePage&&T.isChoosePage&&k&&h.choosePageFunc({index:k,noEmit:!1,noPosiChange:!0,isNotSendSocket:T.isNotSendSocket})}t.otherChangeProject=P,t["default"]={otherChangeProject:P}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=window.$;function i(e){o["default"].setViewProp({name:e.name,pageIndexKey:e.pageIndexKey,isGrid:e.isGrid,isRule:e.isRule,isGuide:e.isGuide,isHideHotspot:e.isHideHotspot,isHideOtherPage:e.isHideOtherPage,isHideNote:e.isHideNote,isShowName:e.isShowName,isShowPageNo:e.isShowPageNo,isShowPageGuide:e.isShowPageGuide,isShowLongPage:e.isShowLongPage,isHideEventTag:e.isHideEventTag,isHideAnimTag:e.isHideAnimTag,proid:a.getUrlParam("proid"),multiViewType:e.multiViewType,versionSet:o["default"].getVersionSet(),versionIndexKey:e.versionIndexKey,iconImg:e.iconImg,coverImage:e.coverImage||""},!0)}t.setViewPropInit=i,t["default"]={setViewPropInit:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=window.$;function i(e,t,n,r){a.fixedHierarchy(e,t,n,r);var i=o["default"].getView();i.structHierarchy=e,t.forEach(function(e){n&&n(),i.structHierarchy.push({key:e,type:"page"})}),i.folderTotal=function s(e,t){return e&&e.forEach(function(e){"folder"==e.type&&(t=Math.max(parseInt(e.key),t),t=Math.max(t,s(e.folderHierarchy,t)))}),t}(i.structHierarchy,i.folderTotal)}t.structHierarchyInit=i,t["default"]={structHierarchyInit:i}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(6)),a=i(n(24));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={init:function(e,t){var n=o["default"].getContrByAll(t);a["default"].wrapBoxEdit(n,e),o["default"].emitChange()}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"WrapBoxEdit","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/WrapBoxEdit.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/WrapBoxEdit.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(76)),a=r(n(6)),i=r(n(24)),s=r(n(587)),l=n(389),u=n(608),c=n(715),d=r(n(609)),f=r(n(205)),p=window.$,h=f["default"].getExtraBaseContr();function g(e,t){if(p.isDragInMid(e.posi)){var n=a["default"].getNums(),r=a["default"].getContrs();if("baseImage"==e.type)return l.createImageContr(e,t);if("baseTable"==e.type)return c.createTableContr(n,e,t);if(-1!=h.indexOf(e.type))return d["default"].createBaseContr(n,e,t);if(p.isAdvancedContr(e.type))return u.createAdvancedContr(n,e,t);if(p.isMobileContr(e.type))return u.createMobileContr(n,e,t);if(p.isChartContr(e.type))return u.createChartContr(n,e,t);var f=o["default"].add({posi:e.posi});if(!f)return e.defaultCallback&&e.defaultCallback(),!1;var g=i["default"].getMergeBoxShow(),y=g?i["default"].getThisContr():null,m=g?i["default"].getContrs():r;return-1!=s["default"].getTextType().indexOf(e.type)?s["default"].createTextContr(e,f,m,y,n):"hotspot"==e.type?s["default"].createHotspotContr(e,f,m,y,n):"baseIcon"==e.type?s["default"].createIconContr(e,f,m,y,n):void 0}o["default"].hide()}t.createBaseContr=g,t["default"]={createBaseContr:g}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(395),i=o(n(329)),s=i["default"].createAdvancedFunc,l=i["default"].createMobileFunc,u=i["default"].createChartFunc,c=window.$;function d(e,t,n){return a.createInit(e,t,n),r({},u["create"+c.firstToUpperCase(t.type)](),a.getBaseVal(t))}function f(e,t,n){return a.createInit(e,t,n),r({},l["create"+c.firstToUpperCase(t.type)](),a.getBaseVal(t))}function p(e,t,n){return a.createInit(e,t,n),r({},s["create"+c.firstToUpperCase(t.type)](),a.getBaseVal(t))}t.createChartContr=d,t.createMobileContr=f,t.createAdvancedContr=p,t["default"]={createAdvancedContr:p,createMobileContr:f,createChartContr:d}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(395),a=window.$,i={createMap:function(){return{shadow:0,border:["rgba(216, 216, 216, 1)",1],radius:4,rotate:0,WHrelation:!1,opacity:100,isHaveInput:!1,isZoomIn:!1,isDrag:!0,location:[116.397477,39.908692],address:"天安门",zoom:14,isEdit:!1}},createAudio:function(){return{rotate:0,WHrelation:!1,opacity:100,isAutoPlay:!1,isLoop:!1,isPlaying:!1,audioUrl:"/userAudio/默认音频.mp3",audioName:"",uploadPercent:0,size:0,defaultUrl:"/userAudio/默认音频.mp3",defaultName:"默认音频.mp3"}},createVideo:function(){return{shadow:0,border:["rgba(216, 216, 216, 1)",0],radius:4,rotate:0,WHrelation:!1,opacity:100,videoUrl:"",image:""}},createWebPage:function(){return{shadow:0,border:["rgba(216, 216, 216, 1)",1],radius:4,rotate:0,WHrelation:!1,opacity:100,webUrl:"",isScroll:!0}}};function s(e,t,n){return o.createInit(e,t,n),r({},i["create"+a.firstToUpperCase(t.type)](),o.getBaseVal(t))}t.createBaseContr=s,t["default"]={createBaseContr:s}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(611));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={changePosi:function(e){o["default"].dispatch({actionType:a["default"].MOUSE_POSI,width:e.width,height:e.height,left:e.left,top:e.top})},show:function(e){o["default"].dispatch({actionType:a["default"].MOUSE_SHOW,isShow:e})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"MouseBoxActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/MouseBoxActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/MouseBoxActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({MOUSE_POSI:null,MOUSE_SHOW:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/MouseBoxConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=s(n(51)),a=s(n(290)),i=n(318);function s(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var l,u,c={moveWindowToCenterByContr:function(e,t,n){if(!window.isPc)return!1;var r=t||$.query(".mainBox.active #"+e);if(r){var s=$.offset($.query(".mainBox.active"),!0),l=s.left,u=s.top,c=s.width,d=s.height,f=o["default"].getZoom()/100,p=a["default"].getSize(),h=$.getMidPosi(),g=$.offset(r,!0,!0),y=$.getMinPosi({mainboxPosi:[l,u,c,d],midPosi:h},!0);!n&&$.collide(y,g)||(0,i.phoneConBoxChangePos)({left:-((g[0]-l+g[2]/2)/f-p.width/2-p.left/f+(window.document.body.clientWidth-p.width)/2*(1-f)/f),top:-((g[1]-u+g[3]/2)/f-p.height/2-p.top/f+(window.document.body.clientHeight-p.height)/2*(1-f)/f),transition:!1,autoOff:!0})}}},d=c;t["default"]=d,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(l.register(c,"ContrPosiEvent","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/common/ContrPosiEvent.js"),l.register(d,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/common/ContrPosiEvent.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&u(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({POPSELECT_HIDE:null,POPSELECT_TOGGLETRANSITION:null,POPSELECT_TOGGLEEASING:null,POPSELECT_SHOWEASING:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/PopSelectConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=window.$;function i(e){var t={oriLeft:e.left,oriTop:e.top,oriWidth:e.width,oriHeight:e.height,width:e.width,height:e.height,left:0,top:0,boxWidth:e.width,boxHeight:e.height,boxLeft:0,boxTop:0};return o["default"].contrUpdate(a.getContrId(e),{cutVals:t},!1,!0),t}t.initImageCutVals=i,t["default"]={initImageCutVals:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SET_ISEDIT="SET_ISTEXTGROUPEDIT",e.SET_TEXTGROUPDATA="SET_TEXTGROUPDATA",e.LISTDATA_ADD="LISTDATA_ADD",e.PANELDATA_DELATE="PANELDATA_DELATE",e.INIT_SELECTPANELDATA="INIT_SELECTPANELDATA",e.PANELDATA_MODIFY="PANELDATA_MODIFY",e.CHANGE_SELECTPANELDATA="CHANGE_SELECTPANELDATA",e.SET_TEXT="SET_TEXT",e.SET_IMAGE="SET_IMAGE",e.SELECT_KEY="SELECT_KEY"}(t.FillPanelActionID||(t.FillPanelActionID={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=r(n(324)),i=n(88),s=r(n(155)),l=window.$,u=!1,c=[],d=0,f=20;function p(e,t){for(;-1!=c.indexOf(e)&&d<f;){var n=(++d==f&&(c=[],d=0),t());if(n)return n}return d==f&&(c=[],d=0),c.push(e),d==f&&(c=[]),e}function h(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function g(e){var t=n(6)["default"],r=n(40)["default"],s=n(208)["default"],f=n(10)["default"];c=[],d=0;var p=a["default"].getSelectKey(),h=l.getElById("fillDataSelect"),g=!1,y=t.getSelectContr();if(p){var m=p.split("|");m=m[m.length-1],0==l(".isC.opt #"+m+", .isC.opt#"+m).length&&(p=undefined)}if(h||p){var _=h&&h.getAttribute("data-value")||p,v=a["default"].getIdList();v.forEach(function(n,r){n.split(" ")[0]==_&&v[r].split(" ").forEach(function(n){var r=e(),o=n.split("|");if(o.length>1){var a=o[o.length-1];i.changeSymbolChild({content:r},a,o[0],!0,!0)}else t.contrUpdate(n,{content:r},!1,!0);g=!0})}),g&&t.emitChange()}else 1==y.length&&"table"==y[0].type&&r.isSelectTableCell()?s.updateCellData(function(){return{text:{content:e()}}}):(y.forEach(function(n){if(l.isTextContr(n)){var r=e();t.contrUpdate(l.getContrId(n),{content:r},!1,!0),g=!0}}),g&&t.emitChange());if(g){u&&clearTimeout(o);var b=t.getSelect();u=!0,o=setTimeout(function(){u=!1,f.createData({type:"fillTextData",name:"智能填充文本",handleObjType:1===b.length?b[0].split("_")[0]:"mutiContr",autoSaveType:"pageContrs"})},1e3)}}function y(e,t){return p(Math.floor(Math.random()*(t-e+1)+e),function(){return y(e,t)})}var m={getName:function(e){g(function(){return function t(e){var n,r,o,a,i,s=["李","王","张","刘","陈","杨","赵","黄","周","吴","徐","孙","胡","朱","高","林","何","郭","马","罗","梁","宋","郑","谢","韩","唐","冯","于","董","萧","程","曹","袁","邓","许","傅","沈","曾","彭","吕","苏","卢","蒋","蔡","贾","丁","魏","薛","叶","阎","余","潘","杜","戴","夏","锺","汪","田","任","姜","范","方","石","姚","谭","廖","邹","熊","金","陆","郝","孔","白","崔","康","邱","秦","江","史","顾","侯","邵","孟","龙","万","段","雷","钱","汤","尹","黎","易","常","武","乔","贺","赖","龚","文"],l=Math.random(),u=e||"random";if("random"==u&&(u=Math.random()>.5?"women":"man"),"women"==u?(n=["静静","婷婷","园园","冰冰","莎莎","乐乐","晶晶","诗诗","倩倩","菲菲"],r=["文","敏","春","夏","冬","慧","瑶","星","燕","迪","钰","怡","雪","佳","芮","可","涵","熙","裕"],o=["小","梓","晓","秀","春","子","天","玉","紫","亦","文","光","梦","成","婷","恩","雅","轩","若","欣","怡","一","常"],a=["芳","云","宣","梅","慧","敏","春","瑶","燕","奇","雨","彤","芮","逸"]):"man"==u&&(n=["超超","浩浩","豪豪","东东","鑫鑫","康康","轩轩"],r=["伟","强","华","志","建","超","荣","文","达","晖","刚","雷","磊","哲","东","楠","昊","宇","翔","俊","杰"],o=["小","明","万","浩","晓","德","力","世","子","天","金","江","泽","玉","亦","家","文","达","光","永","成","洪","俊","恒","恩","轩","若","一","常","伟","壮"],a=["平","华","海","盛","强","志","博","夏","杰","宇","翔","北","秋","东","新","豪","星","铭","康","鑫","凯","栋","梁","瑞","龙","宜","扬","林"]),l>.97){var c=Math.floor(Math.pow(Math.random(),3)*s.length+1)-1,d=Math.floor(Math.pow(Math.random(),1.1)*n.length+1)-1;i=s[c]+n[d]}else if(l>.6){var f=Math.floor(Math.pow(Math.random(),3)*s.length+1)-1,h=Math.floor(Math.pow(Math.random(),1.5)*r.length+1)-1;i=s[f]+r[h]}else{var g=Math.floor(Math.pow(Math.random(),3)*s.length+1)-1,y=Math.floor(Math.pow(Math.random(),1.5)*o.length+1)-1,m=Math.floor(Math.pow(Math.random(),1.5)*a.length+1)-1;i=s[g]+o[y]+a[m]}return p(i,function(){return t(e)})}(e)})},getPhoneNum:function(e){g(function(){return function t(e){var n,r=new Array("130","131","132","133","135","137","138","170","187","189"),o=new Array("6116","6333","6966","8156","6568","5128","7352","3762","2187","9189"),a=new Array("0311","0791","010","0571","0591","023","020","0731","0431","021"),i=Math.floor(10*Math.random()),s=r[i],l=o[i],u=a[i],c=e||"mobile";if("mobile"==c){for(var d=0;d<8;d++)s+=Math.floor(10*Math.random());n=s}else if("fixed"==c){for(d=0;d<4;d++)l+=Math.floor(10*Math.random());n=u+"-"+l}return p(n,function(){return t(e)})}(e)})},getEmail:function(){g(function(){return function e(){for(var t=y(0,23),n=y(6,12),r="",o=0;o<n;o++){var a=y(0,25);r+=String.fromCharCode(97+a)}return p(r+"@"+["xiaopiu.com","163.com","vip.163.com","qq.com","vip.qq.com","foxmail.com","gmail.com","sohu.com","tom.com","vip.sina.com","sina.com.cn","sina.com","yahoo.com.cn","yahoo.cn","tom.com","yeah.net","21cn.com","hotmail.com","sogou.com","188.com","139.com","189.cn","wo.com.cn","139.com"][t],function(){return e()})}()})},getRandomNum:function(e,t){g(function(){return y(e,t)})},getNumString:function(e,t){g(function(){return function n(e,t){for(var r=new Array("1","2","3","4","5","6","7","8","9")[Math.floor(9*Math.random())],o=y(e,t),a=0;a<o-1;a++)r+=Math.floor(10*Math.random());return p(r,function(){return n(e,t)})}(e,t)})},getTime:function(e){g(function(){return function t(e){return p(s["default"](s["default"]().valueOf()-Math.random()*(s["default"]().valueOf()-s["default"]().subtract(1,"year").valueOf())).format(e),function(){return t(e)})}(e)})},getFillContent:function(e,t){g(function(){return function n(e,t){for(var r=["为了借助社交产品的流量，让用户主动分享APP中的内容到社交平台来达到拉新和促活的目的，市场上绝大多数APP都有第三方分享的功能，它是内容分发的最有效途径，并且大大降低了企业的营销成本。","作为用户和产品之间的桥梁，社交分享在产品的发展过程中扮演了重要的角色。","尤其是刚上线的产品，很难通过产品的内部体系来实现快速的用户增长，所以会更加依赖于分享来达到广泛的传播，获取目标用户。","在常用的社交分享组件中，微信（微信好友和朋友圈）、微博、QQ（QQ好友和QQ空间）是三大主要平台，而其中微信凭借高达9.38亿的月活跃用户以及高达29%的日均手机应用使用率，成为各款APP选择最多、排位最靠前的分享途径。即便同样是腾讯系下的QQ，也在QQ空间中加入了分享到微信好友和朋友圈的功能。","用户分享内容到社交媒体或好友，不应该是一种粗暴的强制行为，我们应该在保证产品本身内容有吸引力的核心前提下，仔细揣摩用户心理，结合产品本身的特色，在不同情境下提供给用户最合适的分享平台及方式，让用户分享成为一种水到渠成的自然行为，甚至在某些时候还能给用户带来一些小的惊喜就更棒了。","下面我们会从不同维度来分析一下APP的社交分享功能设计，看看这里面有哪些值得探讨之处。","我们从分享时机、分享形式、分享动机、分享场景4个维度来聊聊「社交分享」的那些事儿。","分享时机，在不同的时机分析用户是否有分享的意愿，提供给他们合适的分享内容，能让分享的效果更好。","用户主动点击分享 绝大多数APP都是在详情页等需要分享的页面放置一个分享按钮，由用户自行选择分享。这种情况下用户是否分享主要是取决于产品内容本身，比如内容有趣或是有用。在一些APP中设计者会对这个分享按钮加一些鼓励的文案或着重的设计来促进用户分享。","现在很多APP在用户截图时会自动提示用户是否要进行分享。这个时机确实抓的很棒，一般来说，用户截图大多数时候都是为了分享给他人，少部分是为了留底备份。","所以监听用户的截图操作，提示用户进行分享，既缩短了以前分享截图的操作路径，避免了在之前长路径中的行为流失（比如截图完成后忘记分享或觉得麻烦放弃分享等等），也让用户觉得更加贴心。"],o=h(e,t),a="",i=r.length,s=[],l=[];s.length!=i;)s.push(s.length);for(;l.length!=i;){var u=s[h(0,s.length-1)];l.push(u),s.remove(u)}l.map(function(e){a=a+(a?"\n":"")+r[e]});var c=(a=a.substr(0,o)).length;return/[\u3002|\uff1f|\uff01]/.test(a[c-1])?/[\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\uff08|\uff09|\u300a|\u300b|\uff5e]/.test(a[c-1])&&(a=a.slice(0,a.length-1)):a+="...",p(a,function(){return n(e,t)})}(e,t)})},getEvaluate:function(e){g(function(){return function t(e){var n;"e_commerce"==e?n=["物流公司的态度比较差,建议换一家！不过东西还不错！ 很好的卖家，谢谢喽。","店已经收藏了很久，不过是第一次下单。总体来说东西还不错，物美价廉。","第二次来买了，货比我想像中要好！！老板人表扬下。","包装看起来很好，包得很用心，送朋友太适合不过了，谢谢了！ ","一个字！！值！！！ 掌柜的服务态度真好，发货很快。加油！","商品质量相当不错，太喜欢了！谢谢店家的耐心解答。","超赞！！还不错，质量挺好的。发货速度也快。","宝贝收到啦，我超喜欢，做工质地都好得没话说。服务态度也超好， 很有心的店家，以后会常光顾 。","下次还会来，介绍朋友来能不能给打个折？","不错 希望下次合作 谢谢掌柜~~ 发货快，物品基本满意。好评！","刚收到货，很好，物超所值！！以后还来！","店主服务很好，宝贝也很便宜！以后一定常来！","终于拿到啦~~ 好开心那！~ 哈哈，东西收到！ 确认晚了，店家人很好。","早上刚收到，朋友很喜欢，下次一定还来。","一个字 ”好“， 货晚了两天收到，不过东西真的很好。运输的速度应该是快递的问题吧，建议换一家快递公司。","网上买东西讲的是诚信，掌柜说道做到！谢谢了 好卖家 赞一个 ","发货迅速 态度很好，很满意！ 很好很好！","下次有机会再找你 店家人蛮好的 东东很不错,比意想的效果好,","难得见到这么好的店家 价格很优惠，服务也很，东西不错。给个好评鼓励一下。","东西确实不错，只是价格稍微贵了点。不过还是物超所值了，多亏了店家的细心给我讲解使用方法。"][y(0,19)]:"article"==e?n=["开篇简明扼要，精炼有序，给人留下深刻印象。 以景喻情，开头颇有新意，倒叙开头，渲染意境。","拟人化手法的运用使开头显得活泼， 反问句开头，吸引读者.。开头直奔主题，让人一目了然.。用词很吸引人。","场面和气氛描写为文章增色不少，对精彩地方进行简单描述，点面结合，简单介绍情况。自然过渡到下一段，情境描写调动起悬念，充分运用语言,动作,心理描写,使事情具体生动。","细节描写突出人物品质，令人感动。 叙事中夹写景，拟人化语言使文章更显得生动活泼.。外形描写十分有趣。融入了自己的思想，有感染力。","过渡自然，每一段交待得很清楚。语言过于平板，可适当修改使语言更生动。","运用多种感官描写十分仔细.，孩子气的语言很有意思.。加入人物行为，使画面生动。","最后一段有些多余，不如删去，使文章更简洁。","发挥奇妙想象，运用精妙比喻.。充满童趣的拟人与比喻，使文章顿生光彩。","读来令人感动，心理描写细腻，比喻贴切，用词生动。以轻松愉快的语气，向我们娓娓道来，令人回味无穷。","结尾含蓄，点明主题。呼应开头，结构完整，可谓点睛之笔。","文章开头简而得当，通过环境描写来衬托人物心情，十分艺术化。杂而不乱，能做到详略得当，重点突出。结尾恰到好处地点明中心，语言朴实而含义深刻，耐人寻味。","以感受开头，以感受结尾。这样便使文章前后照应，首尾连贯，感染力极强。","开头简明扼要，重点突出，详略得当，内容具体。气氛渲染充分而恰到好处，细腻而传神的刻画。","切合实际，蕴含着朴素而深刻的哲理，读来令人精神振奋，情绪激昂。","这篇文章充满了激情，从字里行间能体会到作者的喜爱之情。全文层次清晰，语句流畅。事例叙述生动，具体，趣味性强。且与前面的比喻一脉相承。最后，用寥寥数语表现出了自已的情感，令人感动。","文章语言清新活泼，描写能抓住事物的主要特征，篇幅短小精悍，值得一读。","文章语言通俗易懂，贴近生活实际，读来令人倍感亲切。文章开头新颖,具有先声夺人之效。使读者一见面就能对人物产生印象。","文章前后连贯，形成完整的形象。字里行间，充满童年真童趣，欢声笑语不绝于耳，不失为一篇佳作。","详略得当，虚实相生，是本文的两大特色。内容更丰富，更生动。","生动,形象的语言的描绘，使读者仿佛置身于梦境一般。结尾处对人物的赞美，情真意切，感人至深。","文章有详有略，言之有序，内容生动具体，不失为一篇佳作。文章内容新颖，结构合理，流畅连贯，自然通达。细节描写颇具匠心，极富功底。","全文通俗易懂，趣味性强。 文章线索明朗，主题突出，文章开头与结尾时的诗化语言。充满想象与韵律之美，令人愿读，爱读，不忍释手。"][y(0,21)]:"food"==e?n=["这儿的材料很新鲜，没有任何勾兑的味道。很正宗的味道，价格很合理。给的量不多不少刚刚好，超级赞！！","一家很好吃的店，有很多种做法，店里的东西都很好吃😋。人虽然很多，但上菜速度很快。","味道不错，价格也超值，家人很喜欢。强烈推荐大家去！","不知为什么人不多，味道超好，不愧是老店。服务很到位。","口味不错，4人餐足够吃，服务也很周到耐心。但是速度有些慢了，总体还不错。","总体味道我觉得还不错，价格也不便宜，好想再去吃一次噢!","味道还可以，就是看上去份量比较小，但两个人足够了。","味道也很不错呢，强烈推荐去吃。","还是一如既往的好吃，会经常来的，方便实惠，味道棒棒哒。环境很优雅。","趁着意犹未尽赶紧好评一下！他家的味道真的是我吃过的最好吃的，服务也很周到。","味道真的不错，朋友都喜欢吃。今天还是比较幸运的，去了没有排队，坐下之后人瞬间好多。","味道不错，家人都比较喜欢。有时间还来。","偶然来尝尝，口味还是不错的，菜价也很合适。","排队排了40分钟，不过很值得，味道相当不错。","味道绝对正宗，口味绝对一流，不用出北京就可以吃到绝对正宗的味道。","味道很好 经常来 都当工作餐了。","非常惊喜！菜品精致，份量足！而且味道也很好。刚开业不久，去的人就非常多了。","口味好吃，服务态度很好，菜量大实惠！","环境很有特色，菜品丰富，口味不错，推荐大家去尝一尝。","味道很不错，上菜很快，现做的比较慢。晚上排队的人比较多，总体还是很好的。"][y(0,19)]:"service"==e&&(n=["真的是很棒的体验，服务人员非常热情，会有归属感。","客服人员很耐心，解决了我的问题。好评！","服务员的态度很好，对待客户都是很用心的，那种发自内心的微笑更是高素质的体现，以后还是会继续去的，赞一个那里的服务员。","服务一流，业务水平也很好。工作人员的工作态度很正确的。","服务人员热情且不失礼貌，让人觉得很亲切舒服。也会对我的问题做很详细的解答，一次很好的体验。","服务人员很热情，服务态度很好，非常赞！","一般很少评价，但是这个一定要强烈好评，好的东西要给大家分享一下下。服务人员的态度非常好，很有耐心。","非常满意，李师傅真的是非常认真而且态度超好，清洗的非常干净，几乎和新的一样了，价格优惠服务到位，太完美了。","师傅教的特别好，客服也很有耐心。由于个人原因，一共调整了预约的时间，客服都耐心服务了，点赞。","教练人态度超好，非常热情，非常耐心的教我改正一些操作陋习和细节问题！准备再次购买服务。","老师很温柔，第一次的体验比想象还要好，环境非常好，服务很周到，整体还是不错的！","非常满意，师傅态度好，干活仔细，服务态度非常好，下次会再去的。","环境很不错，服务态度很好，很高档的真正有家的感觉，一看就是经过专业培训的。","这家店是我去过最好的店！服务态度真的是一流！支持店家，满分好评！","店面硬件设施很不错、装修风格给人很舒服的感觉。店员服务态度也很好，有想法的朋友可以来体验一下。","首先说一下进店感受，前台人员很有礼貌，进来就有迎宾语，也面带微笑。全程的很耐心的指导我们学习，总之很愉快的一次体验。","他家店的服务是出了名的好，服务人员都很热心，很有耐心，完全是站在客户的角度出发。"][y(0,16)]);return p(n,function(){return t(e)})}(e)})},getParagraph:function(e){var t;"dialogue"==e&&(t=y(0,15)),g(function(){return function n(e,t){var r;"title"==e?r=["揭秘：XX团队是如何操纵互联网舆论的。","爆料：XXX平台无故封号，用户投诉无门","传“XXX”完成3.5亿美元e轮融资，估值超过10亿美元，ceo已发内部邮件确认。","【产品经验】第一次做APP时容易范的错误","【工作技巧】产品经理如何处理工作中的突发事件","【干货】潘XX：好人缘的秘诀","【重磅】人民币贬值了，2015投资应该放在这四个领域","【独家】马XXX：传统企业家为什么不会好好说话？","文艺青年最后的音乐据点：网易云音乐评论区","内涵青年最后的吐槽街区：知乎APP","无聊青年最后的对话阵地：网易新闻评论区","从硅谷火到中国特斯拉发布全新半挂卡车Semi。","不用削皮去籽的小黄瓜，一口甜进心里 ","长在火山泥里的夏威夷果，不用剥壳好好吃。 ","薄如蝉翼的金华火腿，每一口都是时间的味道","LOGO要这样排，你得PPT颜值不用愁","巧克力中的“爱马仕”，让自己站在今年情人节票圈的顶端"][y(0,16)]:"dialogue"==e?r=["今天看来天气不错啊。","是的,一点也不像天气预报说的那样。","但愿整个周末都能保持这样的好天气。","额，但是据说待会儿要下雨了。","好吧，不过没关系。我有带雨伞。","你是准备去那里呢？","我准备去市区的博物馆，听说最近新增一些很有特色的展品。","你准备一个人去吗？可以带上我吗？","不是的，我还约了几个朋友一起。如果你愿意的话，我们可以一起去看展览。","那你可先等我几分钟吗？我去拿下我的钱包。","没问题，你快去吧。我在小区门口等你。","那你稍等我一会，我马上下来。我们看完展览还有其他的安排吗？","可能下午我们会一起去新开的一家店吃饭。","新开的吗？你有去过吗？有什么好吃的推荐吗？","有很多特色的菜品，都是新推出的，我还没有去吃过，我们可以一起去尝试下。","好的，我先去拿东西。我们一会在车上聊。"][t%16]:"address"==e&&(r=["北京市东城区王府井大街199号","北京市西城区阜外大街1091号","北京市六里屯22号","南京市中央北路水吉路138号","安定门外安立路83号","海淀区三里河路17号","宣武区白纸坊路西街建功南里9号楼","海淀区小南庄431号","崇文门台基厂南口","宣武区宣武门外大街8号","北京市海淀区北三环北西路38号","北京市朝阳区十里堡京港大厦","海淀区翠微路233号","北京市朝阳区朝阳门外18号","东城区建国门内8号","北京市海淀区志新路10号","丰台区西三环南路12号","北京市朝阳区安苑里111号","西城区西单辟才胡同丰园小区333号","北京市宣武区法源寺西里21号楼","北京市丰台区南二环玉蜓桥东南角新城广场","朝阳区和平里西街1号院","河南省偃师市民主路37号","朝阳区金台路道家园1号","平谷县新平北路63号","朝阳区广渠门外大街垂杨柳1号","朝阳区白家庄东里1号院","海淀区罗庄西里13号楼","西城区阜外大街1号四川大厦","宣武区广外大街18号新纪元大厦"][y(0,29)]);return p(r,function(){return n(e,t)})}(e,++t)})},getRandomText:function(e){g(e)}};t["default"]=m},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(78));function i(e,t){var n=o["default"].getSymbolContr(),r={contrs:{},symbols:{}};if(e.forEach(function(e){!r.symbols[e]&&n.symbols[e]&&(r.symbols[e]=$.extend(!0,{},n.symbols[e]),o["default"].addSymbolInCopyObj(r.symbols[e],r))}),t){for(var i in r.contrs)a["default"].removeInitVal(r.contrs[i]);for(var i in r.symbols)a["default"].removeInitVal(r.symbols[i])}return r}t.getSymbolByCopy=i,t["default"]={getSymbolByCopy:i}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1176)),i=o(n(361)),s=o(n(5)),l=o(n(23)),u=n(85),c=o(n(12)),d=n(1221),f=n(98),p=n(888),h=window,g=h.$,y=h.phoneSize,m=10;function _(e){return e.replace("/","_")}function v(e,t,n,r,o,a){var i=t||e,s=a.temporaryCanvas,l=a.ctx,u=a.pagesObj,c=a.img;n.forEach(function(t){if(t){var n=t.name;if(g.isUndefined(o[n])&&(o[n]=0),o[t.name]>0&&(n=n+" ("+o[t.name]+")"),o[t.name]++,"page"==t.type&&u[t.key]){var d=u[t.key],f=d.x,p=d.y,h=d.height,y=d.width;s.width=y,s.height=h,l.drawImage(c,f,p,y,h,0,0,y,h),n=_(n),i.file(n+".png",s.toDataURL("image/png").split("base64,")[1],{base64:!0})}else if("folder"==t.type&&t.isShow){n=_(n);var m=i.folder(n);v(e,m,t.folderHierarchy,r,{},a)}}})}function b(e,t,n,o,a,i){a?v(e,t,n,o,{},a):function(e,t,n){void 0===n&&(n={});var o=l["default"].getStage().getStage().findOne("#canvasLayer").clone(),a=s["default"].getPages(),i={};d.clearUselessCanvas(o);var u=y.width,c=y.height,p=0,h=[],g=[],_=0,v=0,b=(t||u)/u,w=0;o.setAttrs({x:0,y:0,scaleX:b,scaleY:b}),o.children[1].children.forEach(function(e){if(!e.attrs.name||e.attrs.name&&-1==e.attrs.name.indexOf("page"))e.destroy();else{var t=e.attrs,n=t.width,r=t.height,o=t["data-key"],s=f.getPageIdByKey(o),l=a[s],d=l.pageHeight,y=l.isLandscape,C=l.isShow;if(C){y&&(n=y?c:u,r=y?u:c);var x=p%m;d=Math.min(d||r,6e3);var S=Math.round(d),P=Math.round(n),k=Math.round(d*b),O=Math.round(n*b),E=e.findOne(".page-background");E&&E.setAttrs({height:S,width:P});var T=e.findOne(".contrs");T&&T.clipFunc(function(e){e.beginPath(),e.moveTo(0,0),e.lineTo(0+P,0),e.lineTo(0+P,0+S),e.lineTo(0,0+S),e.closePath()}),e.setAttrs({x:y?5*P:P*x,y:y?_:h[x]||0,width:P,height:S}),i[s]={x:y?5*O:O*x,y:y?v:g[x]||0,width:O,height:k},y?(w||(w=5*O+O),_+=S,v+=k):(h[x]=Math.round((h[x]||0)+S),g[x]=Math.round((g[x]||0)+k)),p++}}});var C=document.createElement("canvas"),x=C.getContext("2d");C.className="invisible",C.id="temporaryCanvas",document.body.appendChild(C),o.toImage(r({},w?{width:w}:{},{callback:function(t){n.layer=o,e({img:t,temporaryCanvas:C,ctx:x,pagesObj:i,layer:o})}}))}(function(r){v(e,t,n,o,{},r)},o,i)}function w(e,t){var n=new a["default"],r={};b(n,undefined,u.getStructHierarchy(!0),e,undefined,r),setTimeout(function(){n.generateAsync({type:"blob"}).then(function(e){var n=_(s["default"].getProjectName());c["default"].show("正在下载，请稍后..."),i["default"].saveAs(e,n+".zip");var o=document.getElementById("temporaryCanvas");o&&document.body.removeChild(o),r.layer&&r.layer.destroy(),t&&t()})},0)}function C(e,t,n,o){var a,i=l["default"].getStage().getStage().findOne("#canvasLayer").clone(),u=y.width,f=y.height,p=s["default"].getPageByKey(e),h=p.pageHeight,m=p.name,_=p.isLandscape,v=(n||u)/u,b="mainBox"+e;if(d.clearUselessCanvas(i),i.find(".page").each(function(e){e.getAttr("data-key")==b?a=e:e.destroy()}),a){var w=o||{width:(_?f:u)*v,height:(h||(_?u:f))*v},C=a.attrs,x=C.x,S=C.y;o&&_&&a.rotation(90),i.setAttrs({x:o&&_?o.width:0,y:0,scaleX:v,scaleY:v}),i.toImage(r({x:x*v,y:S*v},w,{callback:function(e){var n=g("#pageNameInput");n.length>0&&(m=n.val()),t(m+".png",e.src),i&&i.destroy()}}))}else c["default"].show("页面 「"+m+"」导出错误")}function x(e){C(s["default"].getActivePage(),p.downloadFile,e)}function S(e){var t,n,r=e.stage,o=e.thisZoom,a=[],i=y.width,s=y.height;return r.find(".page").each(function(e){if(1!=e.attrs["data-isPageFlowHide"]&&1==e.attrs["data-isShow"]){var t=e.getAbsolutePosition(),n=t.x,r=t.y;a.push({x:n,y:r,w:i*o,h:s*o})}}),n=[null,null,null,null],!(t=a)||t&&0==t.length?n:(t.forEach(function(e){var t=e.x,r=e.y,o=e.w,a=e.h;n=[t<=n[0]||g.isNull(n[0])?t:n[0],r<=n[1]||g.isNull(n[1])?r:n[1],t+o>=n[2]||g.isNull(n[2])?t+o:n[2],r+a>=n[3]||g.isNull(n[3])?r+a:n[3]]}),{x:n[0],y:n[1],w:Math.round(n[2]-n[0]),h:Math.round(n[3]-n[1])})}function P(){}t.exportAllPage=w,t.getPageImage=C,t.exportActivePage=x,t.getPageMaxPos=S,t.exportSelectContr=P,t["default"]={exportAllPage:w,exportActivePage:x,exportSelectContr:P,getPageMaxPos:S}},function(e,t,n){"use strict";n.r(t);var r=n(39),o=n.n(r),a=n(288),i=n.n(a),s=n(13),l=n.n(s),u=n(16),c=n.n(u),d=n(14),f=n.n(d),p=n(15),h=n.n(p),g=n(1),y=n.n(g),m=n(30),_=n.n(m);function v(e){var t=[];return y.a.Children.forEach(e,function(e){t.push(e)}),t}function b(e,t){var n=null;return e&&e.forEach(function(e){n||e&&e.key===t&&(n=e)}),n}function w(e,t,n){var r=null;return e&&e.forEach(function(e){if(e&&e.key===t&&e.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=e}}),r}var C=n(125),x=n.n(C),S=n(305),P={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},k={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},O=function(e){function t(){return l()(this,t),f()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h()(t,e),c()(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){P.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){P.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){P.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,r=x.a.findDOMNode(this),o=this.props,a=o.transitionName,i="object"==typeof a;this.stop();var s=function(){n.stopper=null,t()};if((S.isCssAnimationSupported||!o.animation[e])&&a&&o[k[e]]){var l=i?a[e]:a+"-"+e,u=l+"-active";i&&a[e+"Active"]&&(u=a[e+"Active"]),this.stopper=Object(S["default"])(r,{name:l,active:u},s)}else this.stopper=o.animation[e](r,s)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(y.a.Component);O.propTypes={children:_.a.any};var E=O,T="rc_animate_"+Date.now();function M(e){var t=e.children;return y.a.isValidElement(t)&&!t.key?y.a.cloneElement(t,{key:T}):t}function D(){}var A=function(e){function t(e){l()(this,t);var n=f()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return j.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:v(M(e))},n.childrenRefs={},n}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter(function(e){return!!e.props[t]})),n.forEach(function(t){t&&e.performAppear(t.key)})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.nextProps=e;var n=v(M(e)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(e){t.stop(e)});var o,a,s,l,u=r.showProp,c=this.currentlyAnimatingKeys,d=r.exclusive?v(M(r)):this.state.children,f=[];u?(d.forEach(function(e){var t=e&&b(n,e.key),r=void 0;(r=t&&t.props[u]||!e.props[u]?t:y.a.cloneElement(t||e,i()({},u,!0)))&&f.push(r)}),n.forEach(function(e){e&&b(d,e.key)||f.push(e)})):(o=n,a=[],s={},l=[],d.forEach(function(e){e&&b(o,e.key)?l.length&&(s[e.key]=l,l=[]):l.push(e)}),o.forEach(function(e){e&&Object.prototype.hasOwnProperty.call(s,e.key)&&(a=a.concat(s[e.key])),a.push(e)}),f=a=a.concat(l)),this.setState({children:f}),n.forEach(function(e){var n=e&&e.key;if(!e||!c[n]){var r=e&&b(d,n);if(u){var o=e.props[u];if(r)!w(d,n,u)&&o&&t.keysToEnter.push(n);else o&&t.keysToEnter.push(n)}else r||t.keysToEnter.push(n)}}),d.forEach(function(e){var r=e&&e.key;if(!e||!c[r]){var o=e&&b(n,r);if(u){var a=e.props[u];if(o)!w(n,r,u)&&a&&t.keysToLeave.push(r);else a&&t.keysToLeave.push(r)}else o||t.keysToLeave.push(r)}})}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?w(e,t,n):b(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,r=null;n&&(r=n.map(function(n){if(null===n||n===undefined)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return y.a.createElement(E,{key:n.key,ref:function(t){e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)}));var a=t.component;if(a){var i=t;return"string"==typeof a&&(i=o()({className:t.className,style:t.style},t.componentProps)),y.a.createElement(a,i,r)}return r[0]||null}}]),t}(y.a.Component);A.isAnimate=!0,A.propTypes={component:_.a.any,componentProps:_.a.object,animation:_.a.object,transitionName:_.a.oneOfType([_.a.string,_.a.object]),transitionEnter:_.a.bool,transitionAppear:_.a.bool,exclusive:_.a.bool,transitionLeave:_.a.bool,onEnd:_.a.func,onEnter:_.a.func,onLeave:_.a.func,onAppear:_.a.func,showProp:_.a.string,children:_.a.node},A.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:D,onEnter:D,onLeave:D,onAppear:D};var j=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var r=e.props;if(delete e.currentlyAnimatingKeys[t],!r.exclusive||r===e.nextProps){var o=v(M(r));e.isValidChildByKey(o,t)?"appear"===n?P.allowAppearCallback(r)&&(r.onAppear(t),r.onEnd(t,!0)):P.allowEnterCallback(r)&&(r.onEnter(t),r.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var r,o,a,i,s=v(M(n));if(e.isValidChildByKey(s,t))e.performEnter(t);else{var l=function(){P.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};r=e.state.children,o=s,a=n.showProp,(i=r.length===o.length)&&r.forEach(function(e,t){var n=o[t];e&&n&&(e&&!n||!e&&n?i=!1:e.key!==n.key?i=!1:a&&e.props[a]!==n.props[a]&&(i=!1))}),i?l():e.setState({children:s},l)}}}};t["default"]=A},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=1,s="383838",l="ffffff",u=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTextColorIdx=function(){return i},t.prototype.setTextColorIdx=function(e,t){void 0===t&&(t=!1),i=e,t||u.emitChange()},t.prototype.getTableTextColor=function(){return s},t.prototype.setTableTextColor=function(e,t){void 0===t&&(t=!1),s=e,t||u.emitChange()},t.prototype.getTableBgColor=function(){return l},t.prototype.setTableBgColor=function(e,t){void 0===t&&(t=!1),l=e,t||u.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allListDeepArr=["num-list-1","num-list-2","num-list-3","num-list-4","num-list-5","num-list-6","unordered-list-1","unordered-list-2","unordered-list-3","unordered-list-4","unordered-list-5","unordered-list-6"],t.numListDeepArr=["num-list-1","num-list-2","num-list-3","num-list-4","num-list-5","num-list-6"],t.unorderedListDeepArr=["unordered-list-1","unordered-list-2","unordered-list-3","unordered-list-4","unordered-list-5","unordered-list-6"],t.fontSizeArr=["heading-one","heading-two","heading-three","heading-four","heading-five"],t.titleNameArr=["标题 1","标题 2","标题 3","标题 4","标题 5"],t.textAlignArr=["left","center","right","justify"],t.listFontSizeArr=[24,22,20,18,16],t["default"]={allListDeepArr:t.allListDeepArr,numListDeepArr:t.numListDeepArr,unorderedListDeepArr:t.unorderedListDeepArr,fontSizeArr:t.fontSizeArr,textAlignArr:t.textAlignArr,listFontSizeArr:t.listFontSizeArr}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s={autoChangeFunc:null,arriveCriticalFunc:null,interval:20,speed:20,autoScroll:null,ratio:0,autoChangePosi:{autoChangePosiX:0,autoChangePosiY:0}},l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getDragChangePosiSet=function(){return s},t.prototype.setDragChangePosiSet=function(e){s=a({},s,e)},t}(i.EventEmitter));t["default"]=l},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(141),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=undefined,n}}();e.exports=a},function(e,t,n){var r=n(648),o=n(630)(r);e.exports=o},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(131)),a=n(962),i=n(876),s=r(n(97)),l=n(1235),u=r(n(12)),c=r(n(34)),d=r(n(67)),f=r(n(315)),p=r(n(29)),h=n(170),g=n(145),y=window.$,m=n(10)["default"],_=g.elementCanvasBaseVal.OFFSET_X,v=g.elementCanvasBaseVal.LINE_MIN_LENGTH,b=g.elementCanvasBaseVal.CANVAS_WIDTH;function w(e){var t,n,r=e.startKey,o=e.startX,a=e.startY,i=e.endKey,s=e.endX,l=e.endY;if(r){var u=p["default"].getPrdElementById(r),c=u.x,d=u.y,f=u.width,h=u.height;t=[(o-c-_)/f,(a-d)/h]}else t=[o,a];if(i){var g=p["default"].getPrdElementById(i);c=g.x,d=g.y,f=g.width,h=g.height;n=[(s-c-_)/f,(l-d)/h]}else n=[s,l];return{startPoint:t,endPoint:n}}function C(){return{commentPercent:.5,text:"输入条件",hasComment:!1,isHide:!1,lineType:0,commentWidth:64,commentHeight:24,fixedArr:[],noStartSupply:!1,noEndSupply:!1}}function x(e){void 0===e&&(e=!1);var t=p["default"].getPrdElements(),n=[],r=c["default"].getSelectStructKey();for(var o in t){var a=t[o],i=a.x,s=a.y,l=a.width,u=a.height,d=a.id,f=a.pageId,h=a.type;r!=f||!e&&"pageRemark"==h||n.push({x:i,y:s,width:l,height:u,id:d})}return n}function S(e){var t=e.target,n=d["default"].getPrdLineType(),r=e.clientX,p=e.clientY,g=function(e,t){var n,r,o=l.getCanvasPosi(),a=o.OFF_CLIENTX,i=o.OFF_CLIENTY,s=t.className,u="",c=t.getAttribute("data-id")||"";return-1!=s.indexOf("adsorb-extend-point")?(n=parseInt(y(t).css("left")),r=parseInt(y(t).css("top")),u=t.getAttribute("data-posi")):(n=e.x-a,r=e.y-i),{x:n,y:r,dragObj:{startX:n,startY:r,endX:n,endY:r,endKey:"",startKey:c,rotate:0,startPosi:u},startPosi:u}}({x:r,y:p},t),C=g.x,x=g.y,S=g.dragObj,P=g.startPosi;a.setLineCreatePosSet(S);var k=s["default"].getLineType(n),O=function(e){var t=e.lineColor,n=e.x,r=e.y,a=e.isRing;return{circle:new o["default"].Shape({sceneFunc:function(e){e.beginPath(),e.setAttr("fillStyle",t),e.arc(n,r,4,0,2*Math.PI,!1),e.fill(),a&&(e.beginPath(),e.setAttr("fillStyle","#fff"),e.arc(n,r,2,0,2*Math.PI,!1),e.fill())}})}}({lineColor:k,x:C,y:x,isRing:2!=n&&3!=n}).circle,E=function(e){var t=e.lineColor,n=e.x,r=e.y,i=e.lineType;return{triangle:new o["default"].Shape({sceneFunc:function(e){var o=a.getLineCreatePosSet(),s=o.endX,l=o.endY,u=o.controlX,c=o.controlY;e.beginPath(),e.moveTo(n,r),e.quadraticCurveTo(u,c,s,l),e.setAttr("strokeStyle",t),e.setAttr("lineWidth",2),1==i&&e.setLineDash([5,4]),e.stroke()}})}}({lineColor:k,x:C,y:x,lineType:n}).triangle,T=function(e){var t=e.lineColor;return{triangle2:new o["default"].Shape({sceneFunc:function(e){var n=a.getLineCreatePosSet(),r=n.endX,o=n.endY,i=n.rotate,s=n.offX;e.translate(r,o),e.rotate(i),e.beginPath(),e.moveTo(0,-6),e.lineTo(6*s,0),e.lineTo(0,6),e.fillStyle=t,e.fill(),e.closePath()}})}}({lineColor:k}).triangle2,M=i.createLineLayer([E,T,O],{},!0),D=M.layer,A=M.newStage,j=this.getStructAllElement(!0),I=function(e){var t=e.dragObj,n=e.layer,r=e.elementArr,o=e.clientX,i=e.clientY;return function(e){var l=a.getLineCreatePosSet(),u=l.endX,c=l.endY,d=t.startX,f=t.startY,p=(t.startKey,e.clientX),h=e.clientY;u=Math.min(Math.max(p-o+d,_),b),c=Math.max(h-i+f,0);var g="",y=d,m=(2*c+f)/3;r.some(function(e){var n=e.x,r=e.y,o=e.width,a=e.height,i=e.id;t.endKey="";var l=n<=u&&n+o>=u&&r<=c&&r+a>=c,d=[[n+_,r+a/2],[n+o/2+_,r],[n+o+_,r+a/2],[n+o/2+_,r+a]],f={x:u,y:c},p=s["default"].isNearAdsorbPoint(d,f),h=p.isAdsorb,y=p.endX,m=p.endY,v=p.endPosi;return!(!l&&!h||(t.endKey=i,h&&(u=y,c=m,g=v),0))});var v=Math.atan((c-f)/(u-d))||0,w=u-d>0?1:-1;t.endX=u,t.endY=c,t.endPosi=g,a.setLineCreatePosSet({endX:u,endY:c,controlX:y,controlY:m,rotate:v,offX:w,endPosi:g}),n.draw()}}({dragObj:S,layer:D,elementArr:j,clientX:r,clientY:p});f["default"].setAutoMoveFunc(I),y.setDrag({name:"createDot",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){I(e)},endFunc:function(e){var t=c["default"].getSelectStructKey(),n=e.clientX,o=e.clientY;if(Math.sqrt(Math.pow(n-r,2)+Math.pow(o-p,2))>v){var s=S.startKey,l=S.endKey,g=S.endPosi,_=w(S),b=_.startPoint,C=_.endPoint,x={id:h.generateUUID(),startKey:s,endKey:l,startPoint:b,endPoint:C,startPosi:P,endPosi:g,lineType:d["default"].getPrdLineType(),structKey:t},k={commentPercent:.5,text:"输入条件",hasComment:!1,isHide:!1,lineType:0,commentWidth:64,commentHeight:24,fixedArr:[],noStartSupply:!1,noEndSupply:!1},O=y.extend(!1,k,x);d["default"].setLineLink(O),u["default"].show("创建连线组件成功"),m.createData({type:"dragCreatePrdLine",name:"PRD 拖拽生成prd连线",autoSaveType:"prd"})}c["default"].setCursor(""),a.clearLineCreatePosSet(),i.clearLineLayer(D,A),f["default"].setAutoMoveFunc(null)}})}t.getEndsPoint=w,t.getLineDefaultData=C,t.getStructAllElement=x,t.prdLineCreate=S,t["default"]={prdLineCreate:S,getLineDefaultData:C,getEndsPoint:w,getStructAllElement:x}},function(e,t,n){var r=n(623),o=Math.max;e.exports=function(e,t,n){return t=o(t===undefined?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=o(a.length-t,0),l=Array(s);++i<s;)l[i]=a[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=a[i];return u[t]=n(l),r(e,this,u)}}},function(e,t){var n=800,r=16,o=Date.now;e.exports=function(e){var t=0,a=0;return function(){var i=o(),s=r-(i-a);if(a=i,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(undefined,arguments)}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(161),o=n(295),a=n(142),i="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,d=u.call(Object);e.exports=function(e){if(!a(e)||r(e)!=i)return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(125)),u=i(n(748));function c(){}var d=!!l["default"].createPortal,f=!("undefined"==typeof window||!window.document||!window.document.createElement),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.saveRef=function(e){d&&(t._component=e)},t.getComponent=function(e){var n=a({},t.props);return["visible","onAnimateLeave"].forEach(function(e){n.hasOwnProperty(e)&&delete n[e]}),s["default"].createElement(u["default"],a({},n,{visible:e,onAnimateLeave:t.removeContainer,ref:t.saveRef}))},t.removeContainer=function(){t.container&&(d||l["default"].unmountComponentAtNode(t.container),t.container.parentNode.removeChild(t.container),t.container=null)},t.getContainer=function(){if(!t.container){var e=document.createElement("div"),n=t.props.prefixCls+"-container-"+(new Date).getTime();e.setAttribute("id",n);if(t.props.prefixCls&&-1!=["am-picker-popup"].indexOf(t.props.prefixCls)){var r=window,o=r.$,a=r.isPrototypeTool;o&&o.query&&(a?o.query(".mainBox.active").appendChild(e):o.query("#pageContainer").appendChild(e))}else document.body.appendChild(e);t.container=e}return t.container},t}return o(t,e),t.prototype.componentDidMount=function(){this.props.visible&&this.componentDidUpdate()},t.prototype.shouldComponentUpdate=function(e){var t=e.visible;return!(!this.props.visible&&!t)},t.prototype.componentWillUnmount=function(){this.props.visible?d?this.removeContainer():this.renderDialog(!1):this.removeContainer()},t.prototype.componentDidUpdate=function(){d||this.renderDialog(this.props.visible)},t.prototype.renderDialog=function(e){l["default"].unstable_renderSubtreeIntoContainer(this,this.getComponent(e),this.getContainer())},t.prototype.render=function(){if(!f)return null;var e=this.props.visible;return d&&(e||this._component)?l["default"].createPortal(this.getComponent(e),this.getContainer()):null},t.defaultProps={visible:!1,prefixCls:"rmc-dialog",onClose:c},t}(s["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(750));t["default"]=o["default"]},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(6)),i=r(n(10)),s=r(n(23)),l=r(n(49)),u=r(n(132)),c=r(n(12)),d=n(216),f=n(85),p=n(316),h=n(269),g=n(148),y=n(46),m=n(303),_=n(359),v=n(87),b=n(1226),w=r(n(486));function C(e,t){if(window.noLogin)c["default"].show("用户未登录");else{var n=$.objToString(e),r=new Date;o["default"].setLocalPageClipboard(n,r,t,l["default"].getSelectPageFlowKey()),$.ajax("/page/setClipboard",{content:n,projectId:o["default"].getView().proid||$.getUrlParam("proid"),date:r,selectStructArr:t},function(e){0==e.code&&c["default"].show("复制页面成功")})}}function x(e,t){var n=e||o["default"].getActivePage(!0),r=[""+n.key];if(o["default"].isMultiView())o["default"].isMultiFixed()&&$.scrollPhoneConBoxPage($.getElById("mainBox"+n.key),o["default"].getZoom()),u["default"].selectChange(r),setTimeout(function(){p.deletePages(undefined,undefined,undefined,t),c["default"].show("删除成功"),i["default"].createData({type:"deletePage",name:"["+n.name+"] 删除",handleObjType:"page",autoSaveType:"changePages"})},0);else if(n.active)if(1==o["default"].getPageNum())c["default"].show("不能删除最后一个页面");else{var a=$.extend(!0,{},o["default"].getPages()),s=$.extend(!0,[],f.getStructHierarchy());p.deletePages(r),h.resetPagePos(),g.choosePage(o["default"].getPageIndexKey(),undefined,!0,!0,window.isPc?undefined:$.extend(!0,{},o["default"].getActivePage(!0))),c["default"].show("删除成功"),i["default"].createData({type:"deletePageNotMutiview",name:"["+n.name+"] 删除",handleObjType:"page",deletePage:n.key,pages:a,structHierarchy:s,autoSaveType:"changePages"})}else{a=$.extend(!0,{},o["default"].getPages()),s=$.extend(!0,[],f.getStructHierarchy());p.deletePages(r),h.resetPagePos(),c["default"].show("删除成功"),i["default"].createData({type:"deletePageNotMutiview",name:"["+n.name+"] 删除",handleObjType:"page",deletePage:n.key,pages:a,structHierarchy:s,autoSaveType:"changePages"})}}function S(e,t,n){void 0===n&&(n=!1),o["default"].getActivePage()!=t&&(a["default"].selectChange([]),g.choosePageAction(t),n||i["default"].createData({type:"changeFromMultiView",name:"["+e+"] 选中该页面",handleObjType:"viewChange",autoSaveType:"none"}))}function P(e){var t=$.getWinSize(),n=w["default"].VIEW_LEFT_RIGHT_PADDING,r=w["default"].VIEW_TOP_BOTTOM_PADDING,a=w["default"].PAGE_LEFT_RIGHT_PADDING,l=w["default"].PAGE_TOP_BOTTOM_PADDING,u=o["default"].getPages(),c=o["default"].getView(),p=Math.ceil((t.width-2*n)/((window.phoneSize.width+a)*c.zoom)),h=function(){var e=s["default"].getStage(),t=0;return e&&e.getStage().find(".page").forEach(function(e){var n=e.attrs,r=n["data-isShow"],o=n["data-isPageFlowHide"];r&&!o&&t++}),t}(),g=y.getPageFlowPageVal(),C=0,x=[(h>p?p:h)*(window.phoneSize.width+a)-a,Math.ceil(h/p)*(window.phoneSize.height+l)-l],S=x[0],P=x[1],k={left:(t.width-S)/2,top:(t.height-P)/2},O=k.left,E=k.top,T=!1;E=(t.height-S*c.zoom)/2>r?(t.height-P)/2:(t.height-2*(t.height/2-r)/c.zoom)/2,d.posChange({left:0,top:0,transition:!0}),f.getStructAll().forEach(function(e){var t=u[e.key];if("page"==e.type&&!e.parentHide&&t.isShow){if(g&&!g[e.key])return;var n=m.getPagePos(e.key,t),r=n.left,o=n.top,i={left:C%p*(window.phoneSize.width+a)+O,top:Math.floor(C/p)*(window.phoneSize.height+l)+E};r==i.left&&o==i.top||(_.pagePosChange({key:parseInt(e.key),pos:i}),T=!0),C++}}),(T=b.clearFixedPoint()||T)&&(v.pageEmitChange(),e||i["default"].createData({type:"interfaceAlign",name:"[所有页面] 对齐重新排列",handleObjType:"multiView",autoSaveType:"changePagesPosi"}))}t.pageToClipboard=C,t.deletePage=x,t.selectPage=S,t.interfaceAlign=P,t["default"]={pageToClipboard:C,deletePage:x,selectPage:S,interfaceAlign:P}},function(e,t,n){e.exports={"default":n(637),__esModule:!0}},function(e,t,n){n(638);var r=n(121).Object;e.exports=function(e){return r.getOwnPropertyNames(e)}},function(e,t,n){n(439)("getOwnPropertyNames",function(){return n(904).f})},function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var a=i,s=Number(new Date),l=s-(n||s);a.diff=l,a.prev=n,a.curr=s,n=s,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;u++;var o=r.formatters[n];if("function"==typeof o){var i=t[u];e=o.call(a,i),t.splice(u,1),u--}return e}),r.formatArgs.call(a,t),(a.log||r.log).apply(a,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=o,i.extend=a,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function o(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function a(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r["default"]=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var a=r.instances[t];a.enabled=r.enabled(a.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(641),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=60*n,o=60*r,a=24*o,i=7*a,s=365.25*a;function l(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var l=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*i;case"days":case"day":case"d":return l*a;case"hours":case"hour":case"hrs":case"hr":case"h":return l*o;case"minutes":case"minute":case"mins":case"min":case"m":return l*r;case"seconds":case"second":case"secs":case"sec":case"s":return l*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return undefined}}(e);if("number"===u&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=a)return l(e,t,a,"day");if(t>=o)return l(e,t,o,"hour");if(t>=r)return l(e,t,r,"minute");if(t>=n)return l(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=a)return Math.round(e/a)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(643),o=n(478);e.exports=function(e,t){return r(e,t,function(t,n){return o(e,n)})}},function(e,t,n){var r=n(320),o=n(644),a=n(168);e.exports=function(e,t,n){for(var i=-1,s=t.length,l={};++i<s;){var u=t[i],c=r(e,u);n(c,u)&&o(l,a(u,e),c)}return l}},function(e,t,n){var r=n(294),o=n(168),a=n(267),i=n(141),s=n(228);e.exports=function(e,t,n,l){if(!i(e))return e;for(var u=-1,c=(t=o(t,e)).length,d=c-1,f=e;null!=f&&++u<c;){var p=s(t[u]),h=n;if(u!=d){var g=f[p];(h=l?l(g,p,f):undefined)===undefined&&(h=i(g)?g:a(t[u+1])?[]:{})}r(f,p,h),f=f[p]}return e}},function(e,t,n){var r=n(646);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){var r=n(281),o=n(647);e.exports=function a(e,t,n,i,s){var l=-1,u=e.length;for(n||(n=o),s||(s=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?a(c,t-1,n,i,s):r(s,c):i||(s[s.length]=c)}return s}},function(e,t,n){var r=n(203),o=n(275),a=n(102),i=r?r.isConcatSpreadable:undefined;e.exports=function(e){return a(e)||o(e)||!!(i&&e&&e[i])}},function(e,t,n){var r=n(649),o=n(368),a=n(476),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=i},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(450),o=n(631),a=n(294),i=n(651),s=n(652),l=n(655),u=n(626),c=n(656),d=n(657),f=n(479),p=n(372),h=n(274),g=n(658),y=n(659),m=n(664),_=n(102),v=n(328),b=n(665),w=n(141),C=n(667),x=n(255),S=1,P=2,k=4,O="[object Arguments]",E="[object Function]",T="[object GeneratorFunction]",M="[object Object]",D={};D[O]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[M]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[E]=D["[object WeakMap]"]=!1,e.exports=function A(e,t,n,j,I,L){var R,B=t&S,N=t&P,F=t&k;if(n&&(R=I?n(e,j,I,L):n(e)),R!==undefined)return R;if(!w(e))return e;var H=_(e);if(H){if(R=g(e),!B)return u(e,R)}else{var $=h(e),z=$==E||$==T;if(v(e))return l(e,B);if($==M||$==O||z&&!I){if(R=N||z?{}:m(e),!B)return N?d(e,s(R,e)):c(e,i(R,e))}else{if(!D[$])return I?e:{};R=y(e,$,B)}}L||(L=new r);var U=L.get(e);if(U)return U;if(L.set(e,R),C(e))return e.forEach(function(r){R.add(A(r,t,n,r,e,L))}),R;if(b(e))return e.forEach(function(r,o){R.set(o,A(r,t,n,o,e,L))}),R;var V=F?N?p:f:N?keysIn:x,K=H?undefined:V(e);return o(K||e,function(r,o){K&&(r=e[o=r]),a(R,o,A(r,t,n,o,e,L))}),R}},function(e,t,n){var r=n(225),o=n(255);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(225),o=n(370);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(141),o=n(283),a=n(654),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(84),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o?r.Buffer:undefined,s=i?i.allocUnsafe:undefined;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(7)(e))},function(e,t,n){var r=n(225),o=n(284);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(225),o=n(371);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(296),o=n(660),a=n(661),i=n(662),s=n(663),l="[object Boolean]",u="[object Date]",c="[object Map]",d="[object Number]",f="[object RegExp]",p="[object Set]",h="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",m="[object DataView]",_="[object Float32Array]",v="[object Float64Array]",b="[object Int8Array]",w="[object Int16Array]",C="[object Int32Array]",x="[object Uint8Array]",S="[object Uint8ClampedArray]",P="[object Uint16Array]",k="[object Uint32Array]";e.exports=function(e,t,n){var O=e.constructor;switch(t){case y:return r(e);case l:case u:return new O(+e);case m:return o(e,n);case _:case v:case b:case w:case C:case x:case S:case P:case k:return s(e,n);case c:return new O;case d:case h:return new O(e);case f:return a(e);case p:return new O;case g:return i(e)}}},function(e,t,n){var r=n(296);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(203),o=r?r.prototype:undefined,a=o?o.valueOf:undefined;e.exports=function(e){return a?Object(a.call(e)):{}}},function(e,t,n){var r=n(296);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(624),o=n(295),a=n(283);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}},function(e,t,n){var r=n(666),o=n(279),a=n(282),i=a&&a.isMap,s=i?o(i):r;e.exports=s},function(e,t,n){var r=n(274),o=n(142),a="[object Map]";e.exports=function(e){return o(e)&&r(e)==a}},function(e,t,n){var r=n(668),o=n(279),a=n(282),i=a&&a.isSet,s=i?o(i):r;e.exports=s},function(e,t,n){var r=n(274),o=n(142),a="[object Set]";e.exports=function(e){return o(e)&&r(e)==a}},function(e,t,n){var r=n(168),o=n(670),a=n(671),i=n(228);e.exports=function(e,t){return t=r(t,e),null==(e=a(e,t))||delete e[i(o(t))]}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:undefined}},function(e,t,n){var r=n(320),o=n(672);e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a}},function(e,t,n){var r=n(632);e.exports=function(e){return r(e)?undefined:e}},function(e,t,n){"use strict";function r(e){switch(e){case"text":return t.textDefaultVal;case"table":return t.tableDefaultVal;case"image":return t.imgDefaultVal;case"page":return t.pageDefaultVal;case"contr":return t.contrDefaultVal;case"preview":return t.previewDefaultVal;case"webView":return t.webViewDefaultVal}return{}}Object.defineProperty(t,"__esModule",{value:!0}),t.textDefaultVal={textFontSize:{fontSize:14,fontSizeText:"标题 1",isInnerLink:!1}},t.tableDefaultVal={backColor:"ffffff",horizontal:"",child:{backColor:"#ffffff",text:{textColor:"#383838",isB:!1,isI:!1,isU:!1,isS:!1,fontSize:"14",horizontal:""}},styleIndex:0,isB:!1,isI:!1,isU:!1,isS:!1,textColor:"#383838"},t.imgDefaultVal={cutVals:{}},t.pageDefaultVal={borderType:"normal-border",hasBorder:!1,isShowName:!1,cutTop:0},t.contrDefaultVal={hasBorder:!1,isShowName:!1},t.previewDefaultVal={previewMode:"all"},t.webViewDefaultVal={webMode:"web",isInnerLink:!1},t.getDefaultVal=r,t["default"]={getDefaultVal:r}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(676)),i=r(n(373)),s=r(n(297)),l=r(n(299)),u=r(n(300)),c=r(n(374)),d=o(n(677)),f=o(n(678)),p=o(n(679)),h=o(n(681)),g=o(n(682)),y=function(){function e(e){this.processor=new a["default"](e),this.processor.pipe(new i["default"]("diff").append(f.collectChildrenDiffFilter,d.diffFilter,h.diffFilter,g.diffFilter,f.objectsDiffFilter,p.diffFilter).shouldHaveResult()),this.processor.pipe(new i["default"]("patch").append(f.collectChildrenPatchFilter,p.collectChildrenPatchFilter,d.patchFilter,g.patchFilter,f.patchFilter,p.patchFilter).shouldHaveResult()),this.processor.pipe(new i["default"]("reverse").append(f.collectChildrenReverseFilter,p.collectChildrenReverseFilter,d.reverseFilter,g.reverseFilter,f.reverseFilter,p.reverseFilter).shouldHaveResult())}return e.prototype.options=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.processor).options.apply(e,t)},e.prototype.diff=function(e,t){return this.processor.process(new s["default"](e,t))},e.prototype.patch=function(e,t){return this.processor.process(new l["default"](e,t))},e.prototype.reverse=function(e){return this.processor.process(new u["default"](e))},e.prototype.unpatch=function(e,t){return this.patch(e,this.reverse(t))},e.prototype.clone=function(e){return c["default"](e)},e}();t["default"]=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.selfOptions=e||{},this.pipes={}}return e.prototype.options=function(e){return e&&(this.selfOptions=e),this.selfOptions},e.prototype.pipe=function(e,t){var n=t;if("string"==typeof e){if(void 0===n)return this.pipes[e];this.pipes[e]=n}if(e&&e.name){if((n=e).processor===this)return n;this.pipes[n.name]=n}return n.processor=this,n},e.prototype.process=function(e,t){var n=e;n.options=this.options();for(var r,o,a=t||e.pipe||"default";a;)"undefined"!=typeof n.nextAfterChildren&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),"string"==typeof a&&(a=this.pipe(a)),a.process(n),o=n,r=a,a=null,n&&n.next&&(n=n.next,a=o.nextPipe||n.pipe||r);return n.hasResult?n.result:undefined},e}();t["default"]=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array};t.diffFilter=function(e){if(e.left!==e.right)if("undefined"!=typeof e.left)if("undefined"!=typeof e.right){if("function"==typeof e.left||"function"==typeof e.right)throw new Error("functions are not supported");e.leftType=null===e.left?"null":typeof e.left,e.rightType=null===e.right?"null":typeof e.right,e.leftType===e.rightType&&"boolean"!==e.leftType&&"number"!==e.leftType?("object"===e.leftType&&(e.leftIsArray=r(e.left)),"object"===e.rightType&&(e.rightIsArray=r(e.right)),e.leftIsArray===e.rightIsArray?e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit()):e.setResult([e.left,e.right]).exit()):e.setResult([e.left,e.right]).exit()}else e.setResult([e.left,0,0]).exit();else{if("function"==typeof e.right)throw new Error("functions are not supported");e.setResult([e.right]).exit()}else e.setResult(undefined).exit()},t.diffFilter.filterName="trivial",t.patchFilter=function(e){if("undefined"!=typeof e.delta){if(e.nested=!r(e.delta),!e.nested)if(1!==e.delta.length)if(2!==e.delta.length)3===e.delta.length&&0===e.delta[2]&&e.setResult(undefined).exit();else{if(e.left instanceof RegExp){var t=/^\/(.*)\/([gimyu]+)$/.exec(e.delta[1]);if(t)return void e.setResult(new RegExp(t[1],t[2])).exit()}e.setResult(e.delta[1]).exit()}else e.setResult(e.delta[0]).exit()}else e.setResult(e.left).exit()},t.patchFilter.filterName="trivial",t.reverseFilter=function(e){"undefined"!=typeof e.delta?(e.nested=!r(e.delta),e.nested||(1!==e.delta.length?2!==e.delta.length?3===e.delta.length&&0===e.delta[2]&&e.setResult([e.delta[0]]).exit():e.setResult([e.delta[1],e.delta[0]]).exit():e.setResult([e.delta[0],0,0]).exit())):e.setResult(e.delta).exit()},t.reverseFilter.filterName="trivial"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(297)),a=r(n(299)),i=r(n(300));function s(e){if(e&&e.children){for(var t,n=e.children.length,r=e.result,o=0;o<n;o++)"undefined"!=typeof(t=e.children[o]).result&&((r=r||{})[t.childName]=t.result);r&&e.leftIsArray&&(r._t="a"),e.setResult(r).exit()}}function l(e){if(!e.leftIsArray&&"object"===e.leftType){var t,n,r=e.options.propertyFilter;for(t in e.left)Object.prototype.hasOwnProperty.call(e.left,t)&&(r&&!r(t,e)||(n=new o["default"](e.left[t],e.right[t]),e.push(n,t)));for(t in e.right)Object.prototype.hasOwnProperty.call(e.right,t)&&(r&&!r(t,e)||"undefined"==typeof e.left[t]&&(n=new o["default"](undefined,e.right[t]),e.push(n,t)));e.children&&0!==e.children.length?e.exit():e.setResult(undefined).exit()}}function u(e){if(e&&e.children&&!e.delta._t){for(var t,n=e.children.length,r={},o=0;o<n;o++)r[(t=e.children[o]).childName]!==t.result&&(r[t.childName]=t.result);e.setResult(r).exit()}}t.collectChildrenDiffFilter=s,s.filterName="collectChildren",t.objectsDiffFilter=l,l.filterName="objects",t.patchFilter=function(e){if(e.nested&&!e.delta._t){var t,n;for(t in e.delta)try{n=new a["default"](e.left[t],e.delta[t]),e.push(n,t)}catch(r){console.log(r,"error")}e.exit()}},t.patchFilter.filterName="objects",t.collectChildrenPatchFilter=function(e){if(e&&e.children&&!e.delta._t){for(var t,n=e.children.length,r=0;r<n;r++)t=e.children[r],Object.prototype.hasOwnProperty.call(e.left,t.childName)&&t.result===undefined?delete e.left[t.childName]:e.left[t.childName]!==t.result&&(e.left[t.childName]=t.result);e.setResult(e.left).exit()}},t.collectChildrenPatchFilter.filterName="collectChildren",t.reverseFilter=function(e){if(e.nested&&!e.delta._t){var t,n;for(t in e.delta)n=new i["default"](e.delta[t]),e.push(n,t);e.exit()}},t.reverseFilter.filterName="objects",t.collectChildrenReverseFilter=u,u.filterName="collectChildren"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(297)),a=r(n(299)),i=r(n(300)),s=r(n(680)),l="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},u="function"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]===t)return r;return-1};function c(e,t,n,r,o){var a=e[n],i=t[r];if(a===i)return!0;if("object"!=typeof a||"object"!=typeof i)return!1;var s,l,u=o.objectHash;return u?("number"==typeof n?(o.hashCache1=o.hashCache1||[],void 0===(s=o.hashCache1[n])&&(o.hashCache1[n]=s=u(a,n))):s=u(a),void 0!==s&&("number"==typeof r?(o.hashCache2=o.hashCache2||[],void 0===(l=o.hashCache2[r])&&(o.hashCache2[r]=l=u(i,r))):l=u(i),void 0!==l&&s===l)):o.matchByPosition&&n===r}t.diffFilter=function(e){if(e.leftIsArray){var t,n,r,a,i,l={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition},d=0,f=0,p=e.left,h=e.right,g=p.length,y=h.length;for(g>0&&y>0&&!l.objectHash&&"boolean"!=typeof l.matchByPosition&&(l.matchByPosition=!function(e,t,n,r){for(var o=0;o<n;o++)for(var a=e[o],i=0;i<r;i++){var s=t[i];if(o!==i&&a===s)return!0}}(p,h,g,y));d<g&&d<y&&c(p,h,d,d,l);)t=d,a=new o["default"](e.left[t],e.right[t]),e.push(a,t),d++;for(;f+d<g&&f+d<y&&c(p,h,g-1-f,y-1-f,l);)n=g-1-f,r=y-1-f,a=new o["default"](e.left[n],e.right[r]),e.push(a,r),f++;if(d+f!==g)if(d+f!==y){delete l.hashCache1,delete l.hashCache2;var m=p.slice(d,g-f),_=h.slice(d,y-f),v=s["default"].get(m,_,c,l),b=[];for(i=i||{_t:"a"},t=d;t<g-f;t++)u(v.indices1,t-d)<0&&(i["_"+t]=[p[t],0,0],b.push(t));var w=!0;e.options&&e.options.arrays&&!1===e.options.arrays.detectMove&&(w=!1);var C=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(C=!0);var x=b.length;for(t=d;t<y-f;t++){var S=u(v.indices2,t-d);if(S<0){var P=!1;if(w&&x>0)for(var k=0;k<x;k++)if(c(m,_,(n=b[k])-d,t-d,l)){i["_"+n].splice(1,2,t,3),C||(i["_"+n][0]=""),r=t,a=new o["default"](e.left[n],e.right[r]),e.push(a,r),b.splice(k,1),P=!0;break}P||(i[t]=[h[t]])}else n=v.indices1[S]+d,r=v.indices2[S]+d,a=new o["default"](e.left[n],e.right[r]),e.push(a,r)}e.setResult(i).exit()}else{for(i=i||{_t:"a"},t=d;t<g-f;t++)i["_"+t]=[p[t],0,0];e.setResult(i).exit()}else{if(g===y)return void e.setResult(undefined).exit();for(i=i||{_t:"a"},t=d;t<y-f;t++)i[t]=[h[t]];e.setResult(i).exit()}}},t.diffFilter.filterName="arrays";var d=function(e,t){return e-t},f=function(e){return function(t,n){return t[e]-n[e]}};t.patchFilter=function(e){if(e.nested&&"a"===e.delta._t){var t,n,r=e.delta,o=e.left,i=[],s=[],l=[];for(t in r)if("_t"!==t)if("_"===t[0]){if(0!==r[t][2]&&3!==r[t][2])throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+r[t][2]);i.push(parseInt(t.slice(1),10))}else 1===r[t].length?s.push({index:parseInt(t,10),value:r[t][0]}):l.push({index:parseInt(t,10),delta:r[t]});for(t=(i=i.sort(d)).length-1;t>=0;t--){var u=r["_"+(n=i[t])],c=o.splice(n,1)[0];3===u[2]&&s.push({index:u[1],value:c})}var p=(s=s.sort(f("index"))).length;for(t=0;t<p;t++){var h=s[t];o.splice(h.index,0,h.value)}var g,y=l.length;if(y>0)for(t=0;t<y;t++){var m=l[t];g=new a["default"](e.left[m.index],m.delta),e.push(g,m.index)}e.children?e.exit():e.setResult(e.left).exit()}},t.patchFilter.filterName="arrays",t.collectChildrenPatchFilter=function(e){if(e&&e.children&&"a"===e.delta._t){for(var t,n=e.children.length,r=0;r<n;r++)t=e.children[r],e.left[t.childName]=t.result;e.setResult(e.left).exit()}},t.collectChildrenPatchFilter.filterName="arraysCollectChildren",t.reverseFilter=function(e){if(e.nested){if("a"===e.delta._t){var t,n;for(t in e.delta)"_t"!==t&&(n=new i["default"](e.delta[t]),e.push(n,t));e.exit()}}else 3===e.delta[2]&&(e.newName="_"+e.delta[1],e.setResult([e.delta[0],parseInt(e.childName.substr(1),10),3]).exit())},t.reverseFilter.filterName="arrays";var p=function(e,t,n){if("string"==typeof t&&"_"===t[0])return parseInt(t.substr(1),10);if(l(n)&&0===n[2])return"_"+t;var r=+t;for(var o in e){var a=e[o];if(l(a))if(3===a[2]){var i=parseInt(o.substr(1),10),s=a[1];if(s===+t)return i;i<=r&&s>r?r++:i>=r&&s<r&&r--}else if(0===a[2]){parseInt(o.substr(1),10)<=r&&r++}else 1===a.length&&o<=r&&r--}return r};function h(e){if(e&&e.children&&"a"===e.delta._t){for(var t,n=e.children.length,r={_t:"a"},o=0;o<n;o++){var a=(t=e.children[o]).newName;void 0===a&&(a=p(e.delta,t.childName,t.result)),r[a]!==t.result&&(r[a]=t.result)}e.setResult(r).exit()}}t.collectChildrenReverseFilter=h,h.filterName="arraysCollectChildren"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){return e[n]===t[r]},o=function(e,t,n,r,a,i){if(0===r||0===a)return{sequence:[],indices1:[],indices2:[]};if(e.match(t,n,r-1,a-1,i)){var s=o(e,t,n,r-1,a-1,i);return s.sequence.push(t[r-1]),s.indices1.push(r-1),s.indices2.push(a-1),s}return e[r][a-1]>e[r-1][a]?o(e,t,n,r,a-1,i):o(e,t,n,r-1,a,i)};t["default"]={get:function(e,t,n,a){var i=a||{},s=function(e,t,n,r){var o,a,i=e.length,s=t.length,l=[i+1];for(o=0;o<i+1;o++)for(l[o]=[s+1],a=0;a<s+1;a++)l[o][a]=0;for(l.match=n,o=1;o<i+1;o++)for(a=1;a<s+1;a++)n(e,t,o-1,a-1,r)?l[o][a]=l[o-1][a-1]+1:l[o][a]=Math.max(l[o-1][a],l[o][a-1]);return l}(e,t,n||r,i),l=o(s,e,t,e.length,t.length,i);return"string"==typeof e&&"string"==typeof t&&(l.sequence=l.sequence.join("")),l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diffFilter=function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(undefined):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()},t.diffFilter.filterName="dates"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(683)),a=null,i=function(e){if(!a){var t;if(o["default"])try{t=o["default"]&&new o["default"]}catch(r){t=null}if(!t){if(!e)return null;var n=new Error("text diff_match_patch library not found");throw n.diff_match_patch_not_found=!0,n}a={diff:function(e,n){return t.patch_toText(t.patch_make(e,n))},patch:function(e,n){for(var r=t.patch_apply(t.patch_fromText(n),e),o=0;o<r[1].length;o++){if(!r[1][o])new Error("text patch failed").textPatchFailed=!0}return r[0]}}}return a};t.diffFilter=function(e){if("string"===e.leftType){var t=e.options&&e.options.textDiff&&e.options.textDiff.minLength||60;if(e.left.length<t||e.right.length<t)e.setResult([e.left,e.right]).exit();else{var n=i();if(n){var r=n.diff;e.setResult([r(e.left,e.right),0,2]).exit()}else e.setResult([e.left,e.right]).exit()}}},t.diffFilter.filterName="texts",t.patchFilter=function(e){if(!e.nested&&2===e.delta[2]){var t=i(!0).patch;e.setResult(t(e.left,e.delta[0])).exit()}},t.patchFilter.filterName="texts";var s=function(e){var t,n,r,o,a,i=null,s=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(t=0,n=(r=e.split("\n")).length;t<n;t++){var l=(o=r[t]).slice(0,1);"@"===l?(i=s.exec(o),r[t]="@@ -"+i[3]+","+i[4]+" +"+i[1]+","+i[2]+" @@"):"+"===l?(r[t]="-"+r[t].slice(1),"+"===r[t-1].slice(0,1)&&(a=r[t],r[t]=r[t-1],r[t-1]=a)):"-"===l&&(r[t]="+"+r[t].slice(1))}return r.join("\n")};t.reverseFilter=function(e){e.nested||2===e.delta[2]&&e.setResult([s(e.delta[0]),0,2]).exit()},t.reverseFilter.filterName="texts"},function(e,t){function n(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}n.Diff,n.prototype.diff_main=function(e,t,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=r;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===n&&(n=!0);var a=n,i=this.diff_commonPrefix(e,t),s=e.substring(0,i);e=e.substring(i),t=t.substring(i),i=this.diff_commonSuffix(e,t);var l=e.substring(e.length-i);e=e.substring(0,e.length-i),t=t.substring(0,t.length-i);var u=this.diff_compute_(e,t,a,o);return s&&u.unshift([0,s]),l&&u.push([0,l]),this.diff_cleanupMerge(u),u},n.prototype.diff_compute_=function(e,t,n,r){var o;if(!e)return[[1,t]];if(!t)return[[-1,e]];var a=e.length>t.length?e:t,i=e.length>t.length?t:e,s=a.indexOf(i);if(-1!=s)return o=[[1,a.substring(0,s)],[0,i],[1,a.substring(s+i.length)]],e.length>t.length&&(o[0][0]=o[2][0]=-1),o;if(1==i.length)return[[-1,e],[1,t]];var l=this.diff_halfMatch_(e,t);if(l){var u=l[0],c=l[1],d=l[2],f=l[3],p=l[4],h=this.diff_main(u,d,n,r),g=this.diff_main(c,f,n,r);return h.concat([[0,p]],g)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,r):this.diff_bisect_(e,t,r)},n.prototype.diff_lineMode_=function(e,t,n){e=(c=this.diff_linesToChars_(e,t)).chars1,t=c.chars2;var r=c.lineArray,o=this.diff_main(e,t,!1,n);this.diff_charsToLines_(o,r),this.diff_cleanupSemantic(o),o.push([0,""]);for(var a=0,i=0,s=0,l="",u="";a<o.length;){switch(o[a][0]){case 1:s++,u+=o[a][1];break;case-1:i++,l+=o[a][1];break;case 0:if(i>=1&&s>=1){o.splice(a-i-s,i+s),a=a-i-s;for(var c,d=(c=this.diff_main(l,u,!1,n)).length-1;d>=0;d--)o.splice(a,0,c[d]);a+=c.length}s=0,i=0,l="",u=""}a++}return o.pop(),o},n.prototype.diff_bisect_=function(e,t,n){for(var r=e.length,o=t.length,a=Math.ceil((r+o)/2),i=a,s=2*a,l=new Array(s),u=new Array(s),c=0;c<s;c++)l[c]=-1,u[c]=-1;l[i+1]=0,u[i+1]=0;for(var d=r-o,f=d%2!=0,p=0,h=0,g=0,y=0,m=0;m<a&&!((new Date).getTime()>n);m++){for(var _=-m+p;_<=m-h;_+=2){for(var v=i+_,b=(P=_==-m||_!=m&&l[v-1]<l[v+1]?l[v+1]:l[v-1]+1)-_;P<r&&b<o&&e.charAt(P)==t.charAt(b);)P++,b++;if(l[v]=P,P>r)h+=2;else if(b>o)p+=2;else if(f){if((x=i+d-_)>=0&&x<s&&-1!=u[x])if(P>=(C=r-u[x]))return this.diff_bisectSplit_(e,t,P,b,n)}}for(var w=-m+g;w<=m-y;w+=2){for(var C,x=i+w,S=(C=w==-m||w!=m&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1)-w;C<r&&S<o&&e.charAt(r-C-1)==t.charAt(o-S-1);)C++,S++;if(u[x]=C,C>r)y+=2;else if(S>o)g+=2;else if(!f){if((v=i+d-w)>=0&&v<s&&-1!=l[v]){var P;b=i+(P=l[v])-v;if(P>=(C=r-C))return this.diff_bisectSplit_(e,t,P,b,n)}}}}return[[-1,e],[1,t]]},n.prototype.diff_bisectSplit_=function(e,t,n,r,o){var a=e.substring(0,n),i=t.substring(0,r),s=e.substring(n),l=t.substring(r),u=this.diff_main(a,i,!1,o),c=this.diff_main(s,l,!1,o);return u.concat(c)},n.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function o(e){for(var t="",o=0,a=-1,i=n.length;a<e.length-1;){-1==(a=e.indexOf("\n",o))&&(a=e.length-1);var s=e.substring(o,a+1);o=a+1,(r.hasOwnProperty?r.hasOwnProperty(s):r[s]!==undefined)?t+=String.fromCharCode(r[s]):(t+=String.fromCharCode(i),r[s]=i,n[i++]=s)}return t}return n[0]="",{chars1:o(e),chars2:o(t),lineArray:n}},n.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],o=[],a=0;a<r.length;a++)o[a]=t[r.charCodeAt(a)];e[n][1]=o.join("")}},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,a=0;n<o;)e.substring(a,o)==t.substring(a,o)?a=n=o:r=o,o=Math.floor((r-n)/2+n);return o},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,a=0;n<o;)e.substring(e.length-o,e.length-a)==t.substring(t.length-o,t.length-a)?a=n=o:r=o,o=Math.floor((r-n)/2+n);return o},n.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var o=Math.min(n,r);if(e==t)return o;for(var a=0,i=1;;){var s=e.substring(o-i),l=t.indexOf(s);if(-1==l)return a;i+=l,0!=l&&e.substring(o-i)!=t.substring(0,i)||(a=i,i++)}},n.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var o=this;function a(e,t,n){for(var r,a,i,s,l=e.substring(n,n+Math.floor(e.length/4)),u=-1,c="";-1!=(u=t.indexOf(l,u+1));){var d=o.diff_commonPrefix(e.substring(n),t.substring(u)),f=o.diff_commonSuffix(e.substring(0,n),t.substring(0,u));c.length<f+d&&(c=t.substring(u-f,u)+t.substring(u,u+d),r=e.substring(0,n-f),a=e.substring(n+d),i=t.substring(0,u-f),s=t.substring(u+d))}return 2*c.length>=e.length?[r,a,i,s,c]:null}var i,s,l,u,c,d=a(n,r,Math.ceil(n.length/4)),f=a(n,r,Math.ceil(n.length/2));return d||f?(i=f?d&&d[4].length>f[4].length?d:f:d,e.length>t.length?(s=i[0],l=i[1],u=i[2],c=i[3]):(u=i[0],c=i[1],s=i[2],l=i[3]),[s,l,u,c,i[4]]):null},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],r=0,o=null,a=0,i=0,s=0,l=0,u=0;a<e.length;)0==e[a][0]?(n[r++]=a,i=l,s=u,l=0,u=0,o=e[a][1]):(1==e[a][0]?l+=e[a][1].length:u+=e[a][1].length,o&&o.length<=Math.max(i,s)&&o.length<=Math.max(l,u)&&(e.splice(n[r-1],0,[-1,o]),e[n[r-1]+1][0]=1,r--,a=--r>0?n[r-1]:-1,i=0,s=0,l=0,u=0,o=null,t=!0)),a++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(-1==e[a-1][0]&&1==e[a][0]){var c=e[a-1][1],d=e[a][1],f=this.diff_commonOverlap_(c,d),p=this.diff_commonOverlap_(d,c);f>=p?(f>=c.length/2||f>=d.length/2)&&(e.splice(a,0,[0,d.substring(0,f)]),e[a-1][1]=c.substring(0,c.length-f),e[a+1][1]=d.substring(f),a++):(p>=c.length/2||p>=d.length/2)&&(e.splice(a,0,[0,c.substring(0,p)]),e[a-1][0]=1,e[a-1][1]=d.substring(0,d.length-p),e[a+1][0]=-1,e[a+1][1]=c.substring(p),a++),a++}a++}},n.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),o=t.charAt(0),a=r.match(n.nonAlphaNumericRegex_),i=o.match(n.nonAlphaNumericRegex_),s=a&&r.match(n.whitespaceRegex_),l=i&&o.match(n.whitespaceRegex_),u=s&&r.match(n.linebreakRegex_),c=l&&o.match(n.linebreakRegex_),d=u&&e.match(n.blanklineEndRegex_),f=c&&t.match(n.blanklineStartRegex_);return d||f?5:u||c?4:a&&!s&&l?3:s||l?2:a||i?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var o=e[r-1][1],a=e[r][1],i=e[r+1][1],s=this.diff_commonSuffix(o,a);if(s){var l=a.substring(a.length-s);o=o.substring(0,o.length-s),a=l+a.substring(0,a.length-s),i=l+i}for(var u=o,c=a,d=i,f=t(o,a)+t(a,i);a.charAt(0)===i.charAt(0);){o+=a.charAt(0),a=a.substring(1)+i.charAt(0),i=i.substring(1);var p=t(o,a)+t(a,i);p>=f&&(f=p,u=o,c=a,d=i)}e[r-1][1]!=u&&(u?e[r-1][1]=u:(e.splice(r-1,1),r--),e[r][1]=c,d?e[r+1][1]=d:(e.splice(r+1,1),r--))}r++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],r=0,o=null,a=0,i=!1,s=!1,l=!1,u=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(l||u)?(n[r++]=a,i=l,s=u,o=e[a][1]):(r=0,o=null),l=u=!1):(-1==e[a][0]?u=!0:l=!0,o&&(i&&s&&l&&u||o.length<this.Diff_EditCost/2&&i+s+l+u==3)&&(e.splice(n[r-1],0,[-1,o]),e[n[r-1]+1][0]=1,r--,o=null,i&&s?(l=u=!0,r=0):(a=--r>0?n[r-1]:-1,l=u=!1),t=!0)),a++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,n=0,r=0,o=0,a="",i="";n<e.length;)switch(e[n][0]){case 1:o++,i+=e[n][1],n++;break;case-1:r++,a+=e[n][1],n++;break;case 0:r+o>1?(0!==r&&0!==o&&(0!==(t=this.diff_commonPrefix(i,a))&&(n-r-o>0&&0==e[n-r-o-1][0]?e[n-r-o-1][1]+=i.substring(0,t):(e.splice(0,0,[0,i.substring(0,t)]),n++),i=i.substring(t),a=a.substring(t)),0!==(t=this.diff_commonSuffix(i,a))&&(e[n][1]=i.substring(i.length-t)+e[n][1],i=i.substring(0,i.length-t),a=a.substring(0,a.length-t))),0===r?e.splice(n-o,r+o,[1,i]):0===o?e.splice(n-r,r+o,[-1,a]):e.splice(n-r-o,r+o,[-1,a],[1,i]),n=n-r-o+(r?1:0)+(o?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,o=0,r=0,a="",i=""}""===e[e.length-1][1]&&e.pop();var s=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),s=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),s=!0)),n++;s&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var n,r=0,o=0,a=0,i=0;for(n=0;n<e.length&&(1!==e[n][0]&&(r+=e[n][1].length),-1!==e[n][0]&&(o+=e[n][1].length),!(r>t));n++)a=r,i=o;return e.length!=n&&-1===e[n][0]?i:i+(t-a)},n.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,o=/>/g,a=/\n/g,i=0;i<e.length;i++){var s=e[i][0],l=e[i][1].replace(n,"&amp;").replace(r,"&lt;").replace(o,"&gt;").replace(a,"&para;<br>");switch(s){case 1:t[i]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:t[i]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[i]="<span>"+l+"</span>"}}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,n=0,r=0,o=0;o<e.length;o++){var a=e[o][0],i=e[o][1];switch(a){case 1:n+=i.length;break;case-1:r+=i.length;break;case 0:t+=Math.max(n,r),n=0,r=0}}return t+=Math.max(n,r)},n.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case-1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var n=[],r=0,o=0,a=t.split(/\t/g),i=0;i<a.length;i++){var s=a[i].substring(1);switch(a[i].charAt(0)){case"+":try{n[r++]=[1,decodeURI(s)]}catch(c){throw new Error("Illegal escape in diff_fromDelta: "+s)}break;case"-":case"=":var l=parseInt(s,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+s);var u=e.substring(o,o+=l);"="==a[i].charAt(0)?n[r++]=[0,u]:n[r++]=[-1,u];break;default:if(a[i])throw new Error("Invalid diff operation in diff_fromDelta: "+a[i])}}if(o!=e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+").");return n},n.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},n.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),o=this;function a(e,r){var a=e/t.length,i=Math.abs(n-r);return o.Match_Distance?a+i/o.Match_Distance:i?1:a}var i=this.Match_Threshold,s=e.indexOf(t,n);-1!=s&&(i=Math.min(a(0,s),i),-1!=(s=e.lastIndexOf(t,n+t.length))&&(i=Math.min(a(0,s),i)));var l,u,c=1<<t.length-1;s=-1;for(var d,f=t.length+e.length,p=0;p<t.length;p++){for(l=0,u=f;l<u;)a(p,n+u)<=i?l=u:f=u,u=Math.floor((f-l)/2+l);f=u;var h=Math.max(1,n-u+1),g=Math.min(n+u,e.length)+t.length,y=Array(g+2);y[g+1]=(1<<p)-1;for(var m=g;m>=h;m--){var _=r[e.charAt(m-1)];if(y[m]=0===p?(y[m+1]<<1|1)&_:(y[m+1]<<1|1)&_|(d[m+1]|d[m])<<1|1|d[m+1],y[m]&c){var v=a(p,m-1);if(v<=i){if(i=v,!((s=m-1)>n))break;h=Math.max(1,2*n-s)}}}if(a(p+1,n)>i)break;d=y}return s},n.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},n.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),r=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=t.substring(e.start2-r,e.start2+e.length1+r);r+=this.Patch_Margin;var o=t.substring(e.start2-r,e.start2);o&&e.diffs.unshift([0,o]);var a=t.substring(e.start2+e.length1,e.start2+e.length1+r);a&&e.diffs.push([0,a]),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+a.length,e.length2+=o.length+a.length}},n.prototype.patch_make=function(e,t,r){var o,a;if("string"==typeof e&&"string"==typeof t&&void 0===r)o=e,(a=this.diff_main(o,t,!0)).length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(e&&"object"==typeof e&&void 0===t&&void 0===r)a=e,o=this.diff_text1(a);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===r)o=e,a=t;else{if("string"!=typeof e||"string"!=typeof t||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");o=e,a=r}if(0===a.length)return[];for(var i=[],s=new n.patch_obj,l=0,u=0,c=0,d=o,f=o,p=0;p<a.length;p++){var h=a[p][0],g=a[p][1];switch(l||0===h||(s.start1=u,s.start2=c),h){case 1:s.diffs[l++]=a[p],s.length2+=g.length,f=f.substring(0,c)+g+f.substring(c);break;case-1:s.length1+=g.length,s.diffs[l++]=a[p],f=f.substring(0,c)+f.substring(c+g.length);break;case 0:g.length<=2*this.Patch_Margin&&l&&a.length!=p+1?(s.diffs[l++]=a[p],s.length1+=g.length,s.length2+=g.length):g.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(s,d),i.push(s),s=new n.patch_obj,l=0,d=f,u=c)}1!==h&&(u+=g.length),-1!==h&&(c+=g.length)}return l&&(this.patch_addContext_(s,d),i.push(s)),i},n.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){var o=e[r],a=new n.patch_obj;a.diffs=[];for(var i=0;i<o.diffs.length;i++)a.diffs[i]=o.diffs[i].slice();a.start1=o.start1,a.start2=o.start2,a.length1=o.length1,a.length2=o.length2,t[r]=a}return t},n.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var r=0,o=[],a=0;a<e.length;a++){var i,s,l=e[a].start2+r,u=this.diff_text1(e[a].diffs),c=-1;if(u.length>this.Match_MaxBits?-1!=(i=this.match_main(t,u.substring(0,this.Match_MaxBits),l))&&(-1==(c=this.match_main(t,u.substring(u.length-this.Match_MaxBits),l+u.length-this.Match_MaxBits))||i>=c)&&(i=-1):i=this.match_main(t,u,l),-1==i)o[a]=!1,r-=e[a].length2-e[a].length1;else if(o[a]=!0,r=i-l,u==(s=-1==c?t.substring(i,i+u.length):t.substring(i,c+this.Match_MaxBits)))t=t.substring(0,i)+this.diff_text2(e[a].diffs)+t.substring(i+u.length);else{var d=this.diff_main(u,s,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(d)/u.length>this.Patch_DeleteThreshold)o[a]=!1;else{this.diff_cleanupSemanticLossless(d);for(var f,p=0,h=0;h<e[a].diffs.length;h++){var g=e[a].diffs[h];0!==g[0]&&(f=this.diff_xIndex(d,p)),1===g[0]?t=t.substring(0,i+f)+g[1]+t.substring(i+f):-1===g[0]&&(t=t.substring(0,i+f)+t.substring(i+this.diff_xIndex(d,p+g[1].length))),-1!==g[0]&&(p+=g[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),o]},n.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",r=1;r<=t;r++)n+=String.fromCharCode(r);for(r=0;r<e.length;r++)e[r].start1+=t,e[r].start2+=t;var o=e[0],a=o.diffs;if(0==a.length||0!=a[0][0])a.unshift([0,n]),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>a[0][1].length){var i=t-a[0][1].length;a[0][1]=n.substring(a[0][1].length)+a[0][1],o.start1-=i,o.start2-=i,o.length1+=i,o.length2+=i}if(0==(a=(o=e[e.length-1]).diffs).length||0!=a[a.length-1][0])a.push([0,n]),o.length1+=t,o.length2+=t;else if(t>a[a.length-1][1].length){i=t-a[a.length-1][1].length;a[a.length-1][1]+=n.substring(0,i),o.length1+=i,o.length2+=i}return n},n.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=t)){var o=e[r];e.splice(r--,1);for(var a=o.start1,i=o.start2,s="";0!==o.diffs.length;){var l=new n.patch_obj,u=!0;for(l.start1=a-s.length,l.start2=i-s.length,""!==s&&(l.length1=l.length2=s.length,l.diffs.push([0,s]));0!==o.diffs.length&&l.length1<t-this.Patch_Margin;){var c=o.diffs[0][0],d=o.diffs[0][1];1===c?(l.length2+=d.length,i+=d.length,l.diffs.push(o.diffs.shift()),u=!1):-1===c&&1==l.diffs.length&&0==l.diffs[0][0]&&d.length>2*t?(l.length1+=d.length,a+=d.length,u=!1,l.diffs.push([c,d]),o.diffs.shift()):(d=d.substring(0,t-l.length1-this.Patch_Margin),l.length1+=d.length,a+=d.length,0===c?(l.length2+=d.length,i+=d.length):u=!1,l.diffs.push([c,d]),d==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(d.length))}s=(s=this.diff_text2(l.diffs)).substring(s.length-this.Patch_Margin);var f=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==f&&(l.length1+=f.length,l.length2+=f.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=f:l.diffs.push([0,f])),u||e.splice(++r,0,l)}}},n.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var r=e.split("\n"),o=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<r.length;){var i=r[o].match(a);if(!i)throw new Error("Invalid patch string: "+r[o]);var s=new n.patch_obj;for(t.push(s),s.start1=parseInt(i[1],10),""===i[2]?(s.start1--,s.length1=1):"0"==i[2]?s.length1=0:(s.start1--,s.length1=parseInt(i[2],10)),s.start2=parseInt(i[3],10),""===i[4]?(s.start2--,s.length2=1):"0"==i[4]?s.length2=0:(s.start2--,s.length2=parseInt(i[4],10)),o++;o<r.length;){var l=r[o].charAt(0);try{var u=decodeURI(r[o].substring(1))}catch(c){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==l)s.diffs.push([-1,u]);else if("+"==l)s.diffs.push([1,u]);else if(" "==l)s.diffs.push([0,u]);else{if("@"==l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+u)}o++}}return t},n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},n.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=n,e.exports.diff_match_patch=n,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(356),o=n(604),a=n(605),i=window.$;function s(e){var t=e.pagesKeyArr,n=e.__projectData,s=e.i,l=e._data,u=e.oldMultiViewType,c=e.isChangeObj;for(var d in n.content)"projectSet"==d||r.isInOtherSet(d)||t.push(d);s.multiViewType&&delete s.multiViewType,o.setViewPropInit(i.extend({name:l.name,pageIndexKey:l.pageIndexKey,iconImg:l.iconImg},s)),a.structHierarchyInit(s.structHierarchy,t,undefined,[]),u!=n.content.projectSet.multiViewType&&(n.content.projectSet.multiViewType=u,c.isChoosePage=!0,c.isNotSendSocket=!0),c.isChange=!0}t.projectSetOtherChange=s,t["default"]={projectSetOtherChange:s}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(32)),i=r(n(6)),s=r(n(12)),l=n(63),u=n(154),c=n(686),d=n(239);function f(e){var t,n=e.i,r=e.x,f=e.changeData,p=e.isChangeObj,h=e._user,g=e._EmitArr,y=o["default"].getActivePage();if(r==y){var m=o["default"].getPage(r,!0);m&&(t=[m.left,m.top])}if(l.deletePageContrByHierarchy(+n.key),u.pageCreate({key:+n.key,name:n.name,left:n.left,top:n.top,backColor:n.backColor,pageHeight:n.pageHeight?n.pageHeight*window.ss:n.pageHeight,events:n.events,serverKey:n.serverKey,isShow:n.isShow,isLandscape:n.isLandscape},!0),c.otherChangePage(n.pageContrs,+n.key,n.guideLine,f[r].note?n.note:undefined,n.isLandscape),r==y){var _=o["default"].getPages();if(!p.symbolRender){var v=a["default"].getSymbolMask();v.isShow&&(i["default"].getContrByAll(v.thisContrKey)||(p.symbolRender=!0,a["default"].exit(!0,!0),setTimeout(function(){d.selectContr([]),s["default"].show("["+h.nickName+"] 删除了你正在编辑的引用组件")},0)))}!t||t[0]==n.left&&t[1]==n.top||(p.isChoosePage=!0),i["default"].resetSelect(),_[r].active=!0,g?g.push("ContrStore.emitMustChange"):i["default"].emitMustChange()}p.isChange=!0}t.pagesOtherChange=f,t["default"]={pagesOtherChange:f}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(83)),i=r(n(81)),s=r(n(24)),l=r(n(5)),u=r(n(78)),c=window.$;function d(e,t,n,r,d){var f=o["default"].getSelect();u["default"].addInitVal(e,t,undefined,undefined,d),n&&a["default"].pageAddGuideAllLine(n,t,!0),r&&i["default"].otherChangeNote(r,t,!0),function p(e,t,n){var r=c.query(".textLabel.active"),a=s["default"].getContrList(),i=a.map(function(e){return c.getContrId(e)}),u=s["default"].getThisContr(),d=function(e){var l,d=o["default"].getNums();o["default"].changeNums(((l={})[e.type+"Contr"]=Math.max(d[e.type+"Contr"],c.getContrKeyByUserKey(e)),l));var f=e.type+"_"+e.id;if("wrapbox"==e.type){var h=i.indexOf(c.getContrId(e));-1!=h&&a[h].isOpen&&(e.isOpen=!0),u&&c.getContrId(u)==f&&s["default"].changeThisContr(e),p(e.contrs,t,n)}-1!=n.indexOf(f)&&(e.isOpt=!0,r&&"text"==e.type&&(e.isEdit=!0,window.textEditingContent&&(e.content=window.textEditingContent,e.lastContent=window.textEditingContent))),e.interfaceId=t};if(c.isArray(e)){var f=o["default"].getContrs();e.forEach(function(e){var n=e.type+"_"+e.id;d(e),f[n]=e,l["default"].pageAddContr(t,n)})}else for(var h in e)d(e[h])}(e,t,f),o["default"].initCache()}t.otherChangePage=d,t["default"]={otherChangePage:d}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(32)),a=r(n(6)),i=r(n(12)),s=n(251);function l(e){var t=e.i,n=e.changeData,r=e.isChangeObj,l=e._user;if(n.symbolContrs.contrs)for(var u in n.symbolContrs.contrs)!r.isChange&&$.query(".mainBox.active #"+u)&&(window.renderActivePage=!0,r.isChange=!0);s.setSymbolContr(t);var c=o["default"].getSymbolMask();c.isShow&&(a["default"].getSymbol(c.thisSymbolKey,!0)||(r.symbolRender=!0,o["default"].exit(!0,!0),setTimeout(function(){i["default"].show("正在编辑的引用组件被["+l.nickName+"]删除")},0))),r.isChangeSymbol=!0}t.symbolContrsOtherChange=l,t["default"]={symbolContrsOtherChange:l}},function(e,t,n){"use strict";function r(e,t){var n,r=e;return $.objLength(r.states)>0&&(-1!=t.start?(r.states[t.start].transition||(r.states[t.start].transition={}),n=r.states[t.start].transition):(r.transition||(r.transition={}),n=r.transition)),n}Object.defineProperty(t,"__esModule",{value:!0}),t.getTransition=r,t["default"]={getTransition:r}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";(function(e,t){var r,o,a=n(82),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=void 0!==e&&e.exports&&void 0!==t?t:undefined||window;(u._gsQueue||(u._gsQueue=[])).push(function(){var e=u._gsDefine.plugin({propName:"text",API:2,version:"0.5.1",init:function(e,t,n){var r,o;if(!("innerHTML"in e))return!1;if(this._target=e,"object"!=(void 0===t?"undefined":(0,i["default"])(t))&&(t={value:t}),void 0===t.value)return this._text=this._original=[""],!0;for(this._delimiter=t.delimiter||"",this._original=function a(e){var t=e.nodeType,n="";if(1===t||9===t||11===t){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===t||4===t)return e.nodeValue;return n}(e).replace(/\s+/g," ").split(this._delimiter),this._text=t.value.replace(/\s+/g," ").split(this._delimiter),this._runBackwards=!0===n.vars.runBackwards,this._runBackwards&&(r=this._original,this._original=this._text,this._text=r),"string"==typeof t.newClass&&(this._newClass=t.newClass,this._hasClass=!0),"string"==typeof t.oldClass&&(this._oldClass=t.oldClass,this._hasClass=!0),o=0>(r=this._original.length-this._text.length)?this._original:this._text,this._fillChar=t.fillChar||(t.padSpace?"&nbsp;":""),0>r&&(r=-r);--r>-1;)o.push(this._fillChar);return!0},set:function(e){e>1?e=1:0>e&&(e=0),this._runBackwards&&(e=1-e);var t,n,r,o=this._text.length,a=e*o+.5|0;this._hasClass?(t=this._newClass&&0!==a,n=this._oldClass&&a!==o,r=(t?"<span class='"+this._newClass+"'>":"")+this._text.slice(0,a).join(this._delimiter)+(t?"</span>":"")+(n?"<span class='"+this._oldClass+"'>":"")+this._delimiter+this._original.slice(a).join(this._delimiter)+(n?"</span>":"")):r=this._text.slice(0,a).join(this._delimiter)+this._delimiter+this._original.slice(a).join(this._delimiter),this._target.innerHTML="&nbsp;"===this._fillChar&&-1!==r.indexOf("  ")?r.split("  ").join("&nbsp;&nbsp;"):r}}).prototype;e._newClass=e._oldClass=e._delimiter=""}),u._gsDefine&&u._gsQueue.pop()(),(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"_gsScope","/Users/liniuniu/project/xiaopiu-team/browser/src/js/util/TextPlugin.min.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e),n(59))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(81)),i=r(n(83)),s=r(n(78)),l=n(63),u=n(122),c=n(66).createJsonDiff(),d=window.$;function f(e,t){var n,r=o["default"].getPages(),f=o["default"].getProjectDataObj(),p=u.getAutoSaveDataContent(),h=e.split("__"),g=h[0],y=r[g],m=d.extend(!0,{},f.content[g]);if("pageContrs"==h[1])d.isArray(p[g])&&1===p[g].length&&(m=p[g][0]),m.pageContrs=l.getPageByHierarchy(g,!0),s["default"].removeInitVal(m.pageContrs,undefined,y&&y.isLandscape),(n=d.isArray(p[g])&&1===p[g].length?p[g]:p[g]?c.diff(c.unpatch(f.content[g],p[g]),m):c.diff(f.content[g],m))&&(t&&t(),f.content[g]=m,p[g]=n);else if("pageVals"==h[1])try{d.isArray(p[g])&&1===p[g].length&&(m=p[g][0]),m.top=y.top,m.left=y.left,m.name=y.name,m.key=y.key,m.serverKey=y.serverKey,m.isShow=y.isShow,m.guideLine=i["default"].getPageLineArr(y.key),m.note=a["default"].getNoteArr(y.key,!0),m.backColor=y.backColor,m.pageHeight=y.pageHeight?y.pageHeight/window.ss:y.pageHeight,m.isLandscape=y.isLandscape,y.events?m.events=d.extend(!0,{},y.events):m.events={},(n=d.isArray(p[g])&&1===p[g].length?p[g]:p[g]?c.diff(c.unpatch(f.content[g],p[g]),m):c.diff(f.content[g],m))&&(t&&t(),f.content[g]=m,p[g]=n)}catch(_){window.log(_)}}t.pageChangePatch=f,t["default"]={pageChangePatch:f}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(81)),i=r(n(83)),s=r(n(78)),l=n(63),u=n(122),c=n(376),d=n(377),f=n(693),p=n(66).createJsonDiff(),h=window.$;function g(e){var t,n,r,g,y,m=o["default"].getView(),_=o["default"].getPages(),v=o["default"].getProjectDataObj(),b=u.getAutoSaveDataContent(),w=c.copyProjectSet(),C={remove:[],add:[],oldPages:[],newPages:[]};(n=C,r=v.content.projectSet.structHierarchy,g=m.structHierarchy,d.getAllPageFromStruct(n.oldPages,r),d.getAllPageFromStruct(n.newPages,g),f.getPagesAddAndRmove(n),b.projectSet)?((y=p.unpatch(v.content.projectSet,b.projectSet))&&y.versionSet&&!h.isUndefined(y.versionSet.activeKey)&&delete y.versionSet.activeKey,t=p.diff(y,w)):(m.noStructHierarchy&&delete v.content.projectSet.structHierarchy,(y=h.extend(!0,{},v.content.projectSet))&&y.versionSet&&!h.isUndefined(y.versionSet.activeKey)&&delete y.versionSet.activeKey,t=p.diff(y,w));t&&(e&&e(),v.content.projectSet=w,b.projectSet=t,m.noStructHierarchy=!1),0!==C.remove.length&&(e&&e(),C.remove.forEach(function(e){var t;t=b[e]?p.unpatch(v.content[e],b[e]):v.content[e],b[e]=[h.extend(!0,{},t),0,0],delete v.content[e]})),0!==C.add.length&&(e&&e(),C.add.forEach(function(e){var t=h.extend(!0,{},v.content[e]),n=_[e];t.top=n.top,t.left=n.left,t.name=n.name,t.key=n.key,t.serverKey=n.serverKey,t.isShow=n.isShow,t.guideLine=i["default"].getPageLineArr(n.key),t.note=a["default"].getNoteArr(n.key,!0),t.backColor=n.backColor,t.isLandscape=n.isLandscape,t.pageHeight=n.pageHeight,n.events?t.events=h.extend(!0,{},n.events):t.events={},t.pageContrs=l.getPageByHierarchy(e,!0),s["default"].removeInitVal(t.pageContrs,undefined,n.isLandscape),v.content[e]=t,b[e]=[h.extend(!0,{},t)]}))}t.pagesChangePatch=g,t["default"]={pagesChangePatch:g}},function(e,t,n){"use strict";function r(e){e.oldPages.forEach(function(t){-1==e.newPages.indexOf(t)&&e.remove.push(t)}),e.newPages.forEach(function(t){-1==e.oldPages.indexOf(t)&&e.add.push(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getPagesAddAndRmove=r,t["default"]={getPagesAddAndRmove:r}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=n(376),i=n(122),s=n(66).createJsonDiff();function l(e){var t,n=a.copyProjectSet(),r=o["default"].getView(),l=o["default"].getProjectDataObj(),u=i.getAutoSaveDataContent();u.projectSet?t=s.diff(s.unpatch(l.content.projectSet,u.projectSet),n):(r.noStructHierarchy&&delete l.content.projectSet.structHierarchy,t=s.diff(l.content.projectSet,n)),t&&(e&&e(),l.content.projectSet=n,u.projectSet=t,r.noStructHierarchy=!1)}t.structChangePatch=l,t["default"]={structChangePatch:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(6)),i=r(n(78)),s=n(122),l=n(66).createJsonDiff();function u(e){var t,n=$.extend(!0,{},a["default"].getSymbolContr()),r=[],u=[],c=s.getAutoSaveDataContent(),d=o["default"].getProjectDataObj();for(var f in n.contrs)r.push(n.contrs[f]);for(var f in i["default"].removeInitVal(r),n.symbols)u.push(n.symbols[f]);i["default"].removeInitVal(u),(t=c.symbolContrs?l.diff(l.unpatch(d.content.symbolContrs,c.symbolContrs),n):l.diff(d.content.symbolContrs,n))&&(e&&e(),d.content.symbolContrs=n,c.symbolContrs=t)}t.symbolChangePatch=u,t["default"]={symbolChangePatch:u}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(27)),i=n(122),s=n(66).createJsonDiff();function l(e){var t,n=$.extend(!0,{},a["default"].getAllLinkLine()),r=i.getAutoSaveDataContent(),l=o["default"].getProjectDataObj();(t=r.linkLines?s.diff(s.unpatch(l.content.linkLines,r.linkLines),n):s.diff(l.content.linkLines,n))&&(e&&e(),l.content.linkLines=n,r.linkLines=t)}t.linkLineChangePatch=l,t["default"]={linkLineChangePatch:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(49)),i=n(122),s=n(66).createJsonDiff();function l(e){var t,n=$.extend(!0,{},a["default"].getAllPageFlow()),r=i.getAutoSaveDataContent(),l=o["default"].getProjectDataObj();(t=r.pageFlows?s.diff(s.unpatch(l.content.pageFlows,r.pageFlows),n):s.diff(l.content.pageFlows,n))&&(e&&e(),l.content.pageFlows=n,r.pageFlows=t)}t.pageFlowChangePatch=l,t["default"]={pageFlowChangePatch:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=n(122),i=n(222),s=n(66).createJsonDiff();function l(e){var t,n=$.extend(!0,{},i.getPrdData()),r=a.getAutoSaveDataContent(),l=o["default"].getProjectDataObj();(t=r.prdData?s.diff(s.unpatch(l.content.prdData,r.prdData),n):s.diff(l.content.prdData,n))&&(e&&e(),l.content.prdData=n,r.prdData=t)}t.prdChangePatch=l,t["default"]={prdChangePatch:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(24)),i=r(n(5)),s=n(239),l=window.$;function u(e){var t=e.pageKey,n=e.contrs,r=o["default"].getContrs(),i=o["default"].getNums(),s=r;for(var u in s)s[u].interfaceId==t&&delete s[u];n.forEach(function(e){var t,n=s[l.getContrId(e)]=l.extend(!0,{},e);o["default"].changeNums(((t={})[n.type+"Contr"]=Math.max(i[n.type+"Contr"],l.getContrKeyByUserKey(n)),t)),a["default"].changeMergeContr(s[l.getContrId(e)])})}function c(e,t,n,r){var u=o["default"].getContrs(),c=o["default"].getNums(),d=e.box&&e.box.length>1,f=e.box&&e.box.length>1?e.boxObj.contrs:u;if(a["default"].setIsWrapEdit(e.mergeEdit),d);else{for(var p in f)e.box&&f[p].interfaceId==e.box[0]&&delete f[p];e.contrs.forEach(function(e){var t,n=f[l.getContrId(e)]=l.extend(!0,{},e);o["default"].changeNums(((t={})[n.type+"Contr"]=Math.max(c[n.type+"Contr"],l.getContrKeyByUserKey(n)),t)),a["default"].changeMergeContr(f[l.getContrId(e)])}),i["default"].setPage(e.box[0],l.extend(!0,{},e.boxObj),t)}n||r?n&&!r&&setTimeout(function(){s.selectContr(e.selectContr,!0)},0):s.selectContr(e.selectContr,!0),t||(d?a["default"].emitChange():o["default"].emitMustChange())}t.changePageContr=u,t.changeContr=c,t["default"]={changeContr:c,changePageContr:u}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(27)),i=n(66).createJsonDiff();function s(){var e=o["default"].getLinkLineSaveData(),t=$.extend(!0,{},a["default"].getAllLinkLine());return i.diff(e,t)}function l(e,t){var n=$.extend(!0,{},a["default"].getAllLinkLine());try{n=i[t?"unpatch":"patch"](n,e)}catch(r){window.log(r)}a["default"].setAllLinkLine(n)}t.getLinkLineChange=s,t.setSaveDateLinkLine=l,t["default"]={getLinkLineChange:s,setSaveDateLinkLine:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(49)),i=n(66).createJsonDiff();function s(){var e=o["default"].getPageFlowSaveData(),t=$.extend(!0,{},a["default"].getAllPageFlow());return i.diff(e,t)}function l(e,t){var n=$.extend(!0,{},a["default"].getAllPageFlow());try{n=i[t?"unpatch":"patch"](n,e)}catch(r){window.log(r)}a["default"].setAllPageFlow(n)}t.getPageFlowChange=s,t.setSaveDatePageFlow=l,t["default"]={getPageFlowChange:s,setSaveDatePageFlow:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=n(222),i=n(66).createJsonDiff();function s(){var e=o["default"].getPrdDataSaveData(),t=$.extend(!0,{},a.getPrdData());return i.diff(e,t)}function l(e,t){var n=$.extend(!0,{},a.getPrdData());try{n=i[t?"unpatch":"patch"](n,e)}catch(r){window.log(r)}a.setPrdData(n)}t.getPrdDataChange=s,t.setSaveDatePrdData=l,t["default"]={getPrdDataChange:s,setSaveDatePrdData:l}},function(e,t,n){"use strict";function r(e){var t=e.findVal,n=e.isReturnArr,r=void 0!==n&&n,o=e.valKey,a=e.allValObj,i=[],s={};for(var l in a){var u=a[l];u[o]==t&&(r?i.push(u):s[l]=u)}return r?i:s}Object.defineProperty(t,"__esModule",{value:!0}),t.findAllByIdInObj=r,t["default"]={findAllByIdInObj:r}},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_RotateBox=__webpack_require__(156),_RotateBox2=_interopRequireDefault(_RotateBox),_OuterBorderBox=__webpack_require__(257),_OuterBorderBox2=_interopRequireDefault(_OuterBorderBox),_TextArea=__webpack_require__(388),_TextArea2=_interopRequireDefault(_TextArea),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),_AutoSaveStore=__webpack_require__(173),_AutoSaveStore2=_interopRequireDefault(_AutoSaveStore),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ContrHandle=void 0;function _divPropClick(e){$(e.target).find("textarea").focus(),e.stopPropagation()}var TextContrComp=function(_Component){function TextContrComp(e){(0,_classCallCheck3["default"])(this,TextContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(TextContrComp.__proto__||(0,_getPrototypeOf2["default"])(TextContrComp)).call(this,e));return t.state={symbolContrKey:undefined},ContrHandle=__webpack_require__(60)["default"],t}return(0,_inherits3["default"])(TextContrComp,_Component),(0,_createClass3["default"])(TextContrComp,[{key:"render",value:function(){var e=this.state.symbolContrKey,t=this.props.i,n=$.getContrId(t),r=((t=$.contrChangeSymbolVal(t,this.props.symbolChild)).interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol)&&"isInLib"!=this.props.specialType,o=_ContrStore2["default"].getSelect().length,a="hLine"==t.baseContrType||"vLine"==t.baseContrType,i=ContrHandle.getStyles({contr:t,type:"box",textCorrect:!(t.interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol),isActivePage:r}),s=" "+t.horizontal+" "+t.vertical+(t.isB?" tB":"")+(t.isI?" tI":"")+(t.isU?" tU":"")+(t.isS?" tS":""),l=ContrHandle.getStyles({contr:t,type:"textBox",isActivePage:r}),u=void 0,c=!0,d=void 0,f=void 0,p={isC:!0,textC:!0,isStartState:this.props.isStartState,noEdit:!(t.isEdit&&!this.props.isStartState),isLine:a,autoW:t.autoW,autoH:t.autoH,isHover:this.props.isHover},h={},g={};if((r||_ViewStore2["default"].isPrdView()||t.autoW)&&"isInLib"!=this.props.specialType){var y={pointerEvents:t.isEdit&&!this.props.isStartState?"none":"auto"},m=ContrHandle.getEventTag(t),_=ContrHandle.getAnimTag(t),v=ContrHandle.getNoteTag(t),b=this.props.isWrap?ContrHandle.getmDivCoverEvent(this.props.isStartState):ContrHandle.getCoverEvent(this.props.isStartState),w=["content","letterSpacing","fontSize","textIndent","lineHeight","isB","isU","isI","autoH","autoW"],C={};if(w.forEach(function(e){C[e]=t[e]}),f=_react2["default"].createElement("div",(0,_extends3["default"])({},b,{className:"cover",style:y}),v,m,_),e&&t.autoW){var x=_AutoSaveStore2["default"].getSymbolSizeData(e);if(x){var S=x.data,P=S.width,k=S.height,O=S.left;l.width=$.isUndefined(P)?t.width:P,l.height=$.isUndefined(k)?t.height:k,i.left=$.isUndefined(O)?t.left:O}}else l.width=t.width,l.height=t.height,i.left=t.left;g.width=l.width||t.width,g.height=l.height||t.height,u=_react2["default"].createElement(_RotateBox2["default"],(0,_extends3["default"])({isOpt:t.isOpt,rotate:t.rotate},g)),d=_react2["default"].createElement("div",{className:"contrTextBox stretch-wrapper"+s+(t.isEdit&&!this.props.isStartState?" isEdit":""),style:l},_react2["default"].createElement(_TextArea2["default"],(0,_extends3["default"])({contrId:n,contr:t,isActivePage:r,alignClass:s,textChangeArr:w,parentComp:this,isInSymbol:this.props.isInSymbol},C))),this.props.isWrap?h={onMouseDown:$.stopPropagation}:t.isEdit&&!this.props.isStartState&&(h={onClick:_divPropClick,onMouseDown:$.stopPropagation,onContextMenu:$.stopPropagation})}else $.extend(!0,i,l),t.content&&(d=_react2["default"].createElement(_TextArea2["default"],{contrId:n,contr:t,isActivePage:r&&!this.props.isStartState,alignClass:s,parentComp:this,isInSymbol:this.props.isInSymbol})),$.hasSpecialBorderStyle(t.border)||(c=null);return c&&(c=_react2["default"].createElement(_OuterBorderBox2["default"],{contr:t,isActivePage:r})),this.props.isWrap?p.mDiv=!0:$.extend(p,{cDiv:!0,opt:t.isOpt,isOnlyOpt:1==o&&t.isOpt,lock:t.isLock}),_react2["default"].createElement("div",(0,_extends3["default"])({key:"preview"==this.props.specialType?"preview":this.props.contrId,className:(0,_classnames2["default"])(p),id:this.props.contrId,"data-id":this.props.contrId,"data-type":t.type,style:i},h),u,d,c,f)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),TextContrComp}(_react.Component),_default=TextContrComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextContr.react.js"),reactHotLoader.register(_divPropClick,"_divPropClick","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextContr.react.js"),reactHotLoader.register(TextContrComp,"TextContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextContr.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/TextContr.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";function r(e){return void 0===e}function o(e){return"[object Array]"===toString.apply(e)}function a(e){return"[object String]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isUndefined=r,t.isArray=o,t.isString=a,t["default"]={isUndefined:r,isArray:o,isString:a}},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_SymbolChildStore=__webpack_require__(252),_SymbolChildStore2=_interopRequireDefault(_SymbolChildStore),_PopupActions=__webpack_require__(19),_PopupActions2=_interopRequireDefault(_PopupActions),_TopPopHandle=__webpack_require__(313),_TopPopHandle2=_interopRequireDefault(_TopPopHandle),_baseSetEvent=__webpack_require__(47),_baseSetEvent2=_interopRequireDefault(_baseSetEvent),_ContrChangeImgByFdHandle=__webpack_require__(302),_SymbolChildHandle=__webpack_require__(88),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var InputChangeImageComp=(_class=function(_Component){function InputChangeImageComp(e){(0,_classCallCheck3["default"])(this,InputChangeImageComp);var t=(0,_possibleConstructorReturn3["default"])(this,(InputChangeImageComp.__proto__||(0,_getPrototypeOf2["default"])(InputChangeImageComp)).call(this,e));return t.state={isDropping:!1},t}return(0,_inherits3["default"])(InputChangeImageComp,_Component),(0,_createClass3["default"])(InputChangeImageComp,[{key:"render",value:function(){return _react2["default"].createElement("div",{className:"changeImgBox"+(this.state.isDropping?" dropping":""),onDrop:this._imgDropImage,onDragOver:this._imgDragOver,onDragEnter:this._imgDragEnter,onDragLeave:this._imgDragLeave},_react2["default"].createElement("span",null,"点击上传或拖拽图片到该处"),_react2["default"].createElement("div",{className:"changeImgDragBoxIcon images"}),_react2["default"].createElement("input",{type:"file",onChange:this._inputChangeImg}))}},{key:"_inputChangeImg",value:function(e){e.preventDefault(),this._changeImage(e.target.files[0])}},{key:"_changeImage",value:function(e){var t=new window.Image,n=new window.FormData;e.size/1024/1024<=2?(n.append("imgs",e),t.src=window.URL.createObjectURL(e),t.onload=function(){var r=$(".carousel-img");r.length>0?(0,_ContrChangeImgByFdHandle.changeImgByFd)(n,undefined,function(e){var t=$(".carousel-img.img-changing"),n=t.attr("data-index"),o=[];r.each(function(t,r){var a=$(r);a.attr("data-index")==n?o.push(e):o.push(a.attr("data-img"))}),_baseSetEvent2["default"].changeCarouselImgData(o),_PopupActions2["default"].hide(),t.removeClass("img-changing")}):_SymbolChildStore2["default"].isShow()?(0,_ContrChangeImgByFdHandle.changeImgByFd)(n,undefined,function(e){var n=_ContrStore2["default"].getAllValsContr({contrKey:_SymbolChildStore2["default"].getChildKey()});(0,_SymbolChildHandle.changeSymbolChild)({src:e,cutVals:$.getCutValsChangeObj(t,n)}),_SymbolChildStore2["default"].exit()}):((0,_ContrChangeImgByFdHandle.updateImageContrData)({src:t.src,name:e.name,width:t.width,height:t.height,fd:n}),_ContrStore2["default"].changeRightLabel(_ContrStore2["default"].getSelect()))},_PopupActions2["default"].hide()):(_PopupActions2["default"].hide(),_TopPopHandle2["default"].moreThanOneMB([e.name]),this.setState({isDropping:!1}))}},{key:"_imgDropImage",value:function(e){e.preventDefault(),e.stopPropagation(),this._changeImage(e.dataTransfer.files[0]),this.setState({isDropping:!1})}},{key:"_imgDragOver",value:function(e){this.setState({isDropping:!0}),e.preventDefault(),e.stopPropagation()}},{key:"_imgDragEnter",value:function(e){this.setState({isDropping:!0}),e.preventDefault(),e.stopPropagation()}},{key:"_imgDragLeave",value:function(e){this.setState({isDropping:!1}),e.preventDefault(),e.stopPropagation()}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),InputChangeImageComp}(_react.Component),_applyDecoratedDescriptor(_class.prototype,"_inputChangeImg",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_inputChangeImg"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_changeImage",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_changeImage"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_imgDropImage",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_imgDropImage"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_imgDragOver",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_imgDragOver"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_imgDragEnter",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_imgDragEnter"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_imgDragLeave",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_imgDragLeave"),_class.prototype),_class),_default=InputChangeImageComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(InputChangeImageComp,"InputChangeImageComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/InputChangeImage.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/InputChangeImage.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),_ImageLibStore=__webpack_require__(199),_ImageLibStore2=_interopRequireDefault(_ImageLibStore),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_SymbolChildStore=__webpack_require__(252),_SymbolChildStore2=_interopRequireDefault(_SymbolChildStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),_PopupActions=__webpack_require__(19),_PopupActions2=_interopRequireDefault(_PopupActions),_ChangeImgEvent=__webpack_require__(339),_ChangeImgEvent2=_interopRequireDefault(_ChangeImgEvent),_baseSetEvent=__webpack_require__(47),_baseSetEvent2=_interopRequireDefault(_baseSetEvent),_UpdateImageHandle=__webpack_require__(322),_SymbolChildHandle=__webpack_require__(88),_PrdImageHandle=__webpack_require__(118),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var saveIndexArr=null,ChangeImageComp=(_class=function(_Component){function ChangeImageComp(e){(0,_classCallCheck3["default"])(this,ChangeImageComp);var t=(0,_possibleConstructorReturn3["default"])(this,(ChangeImageComp.__proto__||(0,_getPrototypeOf2["default"])(ChangeImageComp)).call(this,e));return t.state={libIndex:saveIndexArr?saveIndexArr[0]:window.noLogin?0:-1,historyImages:_ImageLibStore2["default"].getHistoryImages(),publicImageLib:_ImageLibStore2["default"].getPublicImageLib(),myImageLib:_ImageLibStore2["default"].getMyImageLib()},t}return(0,_inherits3["default"])(ChangeImageComp,_Component),(0,_createClass3["default"])(ChangeImageComp,[{key:"_libClick",value:function(e){var t=("DIV"==e.target.nodeName?e.target:e.target.parentNode).getAttribute("data-libkey");saveIndexArr=[t],this.setState({libIndex:t})}},{key:"_changeCarouselImg",value:function(e){var t=$(".carousel-img");if(t.length>0){var n=$(".carousel-img.img-changing"),r=n.attr("data-index"),o=[];return t.each(function(t,n){var a=$(n);a.attr("data-index")==r?o.push({src:e.images.imgBig}):o.push({src:a.attr("data-img")})}),_baseSetEvent2["default"].changeCarouselImgData(o),_PopupActions2["default"].hide(),n.removeClass("img-changing"),!0}return!1}},{key:"_imageClick",value:function(e){var t=-1==this.state.libIndex?this.state.historyImages:null;!t&&this.state.libIndex<this.state.publicImageLib.length?t=this.state.publicImageLib[this.state.libIndex].images:t||(t=this.state.myImageLib[this.state.libIndex-this.state.publicImageLib.length].images);var n=t[e.currentTarget.getAttribute("data-id")];if(!this._changeCarouselImg(n))if("prd-view"==_ViewStore2["default"].getViewMode())(0,_PrdImageHandle.updatePrdImageSrc)(n),_PopupActions2["default"].hide();else if(_SymbolChildStore2["default"].isShow()){var r=new window.Image;r.src=window.staticUrl+n.images.imgBig,r.onload=function(){var e=_ContrStore2["default"].getAllValsContr({contrKey:_SymbolChildStore2["default"].getChildKey()});(0,_SymbolChildHandle.changeSymbolChild)({src:n.images.imgBig,cutVals:$.getCutValsChangeObj(r,e)}),_SymbolChildStore2["default"].exit(),_PopupActions2["default"].hide()}}else(0,_UpdateImageHandle.updateImageContr)(n,_ChangeImgEvent2["default"].changeImageSaveFunc),_PopupActions2["default"].hide()}},{key:"render",value:function(){var e=this,t=e.props.changePrdImage,n=-1==e.state.libIndex?e.state.historyImages:null,r=[],o=0;return window.noLogin||r.push(_react2["default"].createElement("div",{key:"-1",className:"changeImgLib"+(-1==e.state.libIndex?" active":""),"data-libkey":"-1",onClick:e._libClick},"历史上传图片("+e.state.historyImages.length+")>")),e.state.publicImageLib.forEach(function(t,a){o=a,e.state.libIndex==o&&(n=e.state.publicImageLib[a].images),r.push(_react2["default"].createElement("div",{className:"changeImgLib"+(e.state.libIndex==o?" active":""),key:o,"data-libid":t.id,"data-libkey":o,onClick:e._libClick},t.name+"("+t.images.length+")>"))}),e.state.myImageLib.forEach(function(t,a){o=e.state.publicImageLib.length+a,e.state.libIndex==e.state.publicImageLib.length+a&&(n=e.state.myImageLib[a].images),r.push(_react2["default"].createElement("div",{className:"changeImgLib"+(e.state.libIndex==o?" active":""),key:o,"data-libid":t.id,"data-libkey":o,onClick:e._libClick},t.name+"("+t.images.length+")>"))}),_react2["default"].createElement("div",{className:"changeImg"+(t?" no-lib":"")},t?undefined:_react2["default"].createElement("div",{className:"changeImgLibList"},r),_react2["default"].createElement("ul",{className:"img-replace-list"},n.map(function(t,n){return _react2["default"].createElement("li",{key:t.id,onClick:e._imageClick,title:t.name,"data-id":n},_react2["default"].createElement("img",{className:"BaseContrImg",src:window.staticUrl+t.images.imgBig}))})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ChangeImageComp}(_react.Component),_applyDecoratedDescriptor(_class.prototype,"_libClick",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_libClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_changeCarouselImg",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_changeCarouselImg"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_imageClick",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_imageClick"),_class.prototype),_class),_default=ChangeImageComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(saveIndexArr,"saveIndexArr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/ChangeImage.react.js"),reactHotLoader.register(ChangeImageComp,"ChangeImageComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/ChangeImage.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/ChangeImage.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(199));function a(e){var t=window,n=t.noLogin,r=t.$;n||o["default"].getHistoryIsDownload()?e&&e():r.ajax("/image/myAllHistory",{},function(t){o["default"].initHistoryImages(t.data),e&&e()})}t.getHistoryImages=a,t["default"]={getHistoryImages:a}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(199)),a=r(n(240));function i(e){var t=window,n=t.noLogin,r=t.$;n||o["default"].getIsDownload()?e&&e():r.ajax("/image/myAll",{},function(t){a["default"].init(t.data,!0),e&&e()})}t.getImageLib=i,t["default"]={getImageLib:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(199)),a=r(n(240));function i(e){var t=window.$;o["default"].getPublicIsDownload()?e&&e():t.ajax("/image/publicAll",{},function(t){a["default"].initPublic(t.data,!0),e&&e()})}t.getPublicImageLib=i,t["default"]={getPublicImageLib:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(276)),a=r(n(277));function i(e){var t=window,n=t.noLogin,r=t.$,i=t.isPc;n||o["default"].getIsDownload()?e&&e():r.ajax("/page/myAll",{isEditer:!0,platform:i?"web":""},function(t){a["default"].init(t.data,!0,t.otherNum),e&&e()})}t.getPageLib=i,t["default"]={getPageLib:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(276)),a=r(n(277));function i(e){var t=window,n=t.noLogin,r=t.$,i=t.isDevelop,s=t.isPc;!n||i||o["default"].getPublicIsDownload()?n||o["default"].getPublicIsDownload()?e&&e():r.ajax("/page/myList",{type:"quote",isEditer:!0,platform:s?"web":""},function(t){a["default"].initPublic(t.data,!0),e&&e()}):r.ajax("/page/noLoginList",{},function(t){a["default"].initPublic(t.data,!0,t.otherNum),e&&e()})}t.getPublicPageLib=i,t["default"]={getPublicPageLib:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(714),a=r(n(270)),i=a["default"].SUPPLY_HORIZONTAL,s=a["default"].SUPPLY_VERTICAL;function l(e){e.forEach(function(t,n){if(e[n+4]){var r=o.hasCrossPoint([t,e[n+1]],[e[n+3],e[n+4]]),a=r.isCross,i=r.point;if(a)return e.splice(n+1,3,i),l(e)}})}function u(e){e.forEach(function(t,n){if(e[n+2]&&n>=1&&n+2<e.length-1)if(t[1]==e[n+1][1]){if(Math.abs(e[n+2][1]-e[n+1][1])<s)return t[1]=e[n+2][1],e.splice(n+1,2),u(e)}else if(Math.abs(e[n+2][0]-e[n+1][0])<i)return t[0]=e[n+2][0],e.splice(n+1,2),u(e)})}function c(e){e&&e.length&&e.forEach(function(t,n){if(e[n+5]){var r=function(e){var t=0,n=0;return e.forEach(function(r,o){if(e[o+1]){var a=e[o+1][0]-r[0],i=e[o+1][1]-r[1];t+=0==a?0:a/Math.abs(a),n+=0==i?0:i/Math.abs(i)}}),{horNum:t,verNum:n}}([t,e[n+1],e[n+2],e[n+3],e[n+4],e[n+5]]),o=r.horNum,a=r.verNum;if((0==o&&1==a||1==o&&0==a)&&t[0]==e[n+1][0]){var i=[t[0],e[n+4][1]];return e.splice(n+1,3,i),c(e)}}})}function d(e,t){var n=!1,r=e.start,o=e.end,a=t.x,i=t.y,s=t.width,l=t.height;if(r[0]==o[0]){var u=a<=r[0]&&a+s>=r[0],c=Math.min(r[1],o[1]),d=Math.max(r[1],o[1]),f=c<=i&&d>=i||c<=i+l&&d>=i+l;u&&f&&(n=!0)}else{f=i<=r[1]&&i+l>=r[1];var p=Math.min(r[0],o[0]),h=Math.max(r[0],o[0]);(u=p<=a&&h>=a||p<=a+s&&h>=a+s)&&f&&(n=!0)}return n}function f(e){e.forEach(function(t,n){if(e[n+3]&&e[n+1][0]==e[n+2][0]&&e[n+1][1]==e[n+2][1])return e.splice(n+1,2),f(e)})}t.clearRectLine=l,t.clearWaveLine=u,t.clearArroundLine=c,t.isLineAcrossRect=d,t.clearBackLine=f,t["default"]={clearRectLine:l,clearWaveLine:u,clearArroundLine:c,isLineAcrossRect:d,clearBackLine:f}},function(e,t,n){"use strict";function r(e,t){var n,r=!1;return e[0][0]==e[1][0]?Math.min(e[0][1],e[1][1])<=t[0][1]&&t[0][1]<=Math.max(e[0][1],e[1][1])&&Math.min(t[0][0],t[1][0])<=e[0][0]&&e[0][0]<=Math.max(t[0][0],t[1][0])&&(r=!0,n=[e[0][0],t[0][1]]):Math.min(e[0][0],e[1][0])<=t[0][0]&&t[0][0]<=Math.max(e[0][0],e[1][0])&&Math.min(t[0][1],t[1][1])<=e[0][1]&&e[0][1]<=Math.max(t[0][1],t[1][1])&&(r=!0,n=[t[0][0],e[0][1]]),{isCross:r,point:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.hasCrossPoint=r,t["default"]={hasCrossPoint:r}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(76)),a=window.$;function i(e,t,n){var r=o["default"].add({posi:t.posi}),i=window.isPc?{width:600,height:240,columnPosi:[150,150,150,150],linePosi:[48,48,48,48,48]}:{width:320,height:150,columnPosi:[80,80,80,80],linePosi:[30,30,30,30,30]},s="baseTable"==t.type?i:t;n&&a.extend(!0,s,n),r&&a.extend(!0,s,r),a.changeNums({tableContr:e.tableContr+1});var l=e.tableContr;return{id:a.getNumKey(l),name:"表格 "+l,type:"table",isLock:!1,isShow:!0,hasBackColor:!0,backColor:"rgba(255, 255, 255, 1)",opacity:100,rotate:0,isOpt:!0,width:s.width,height:s.height,left:s.left,top:s.top,columnPosi:s.columnPosi,linePosi:s.linePosi,rowMin:[],lineMin:[],child:{},outerBorder:["rgba(198, 198, 198, 1)",1],innerBorder:["rgba(198, 198, 198, 1)",1],styleIndex:0,shadow:0}}t.createTableContr=i,t["default"]={createTableContr:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(24)),i=r(n(32)),s=r(n(5)),l=window.$;function u(){var e=o["default"].getSelectContr(),t=a["default"].getMergeBoxShow(),n=l.getSeveralElPosition(e),r=t?a["default"].getThisContr():null,u=i["default"].getSymbolMask(),c=o["default"].getSymbolContr(),d=o["default"].getNums(),f=o["default"].getContrs(),p=t?a["default"].getContrs():u.isShow?c.contrs:f,h=t?r.hierarchy:u.isShow?o["default"].getThisSymbolHierarchy():s["default"].getActivePage(!0).hierarchy,g=o["default"].getSelectContrFunc(),y={},m=[];h.forEach(function(e){-1!=g.indexOf(e)&&m.push(e)}),o["default"].changeNums({wrapboxContr:d.wrapboxContr+1});var _=d.wrapboxContr,v=l.getNumKey(_);return e.forEach(function(e){var r=l.getContrId(e),a=o["default"].getContrAllParent(e,!0,!0)||[];if(e.left-=n.left,e.top-=n.top,e.isOpt=!1,e.mergeName="wrapbox_"+v,e.states)for(var i in e.states){var c=e.states[i].contrs[r];c&&(l.isUndefined(c.left)||(c.left-=n.left),l.isUndefined(c.top)||(c.top-=n.top))}y[r]=l.extend({},e),t||u.isShow?h.remove(r):s["default"].pageRemoveContr(e.interfaceId,r),u.isShow||a.forEach(function(t){t.states&&l.removeStatesThisContrAll(t.states,r,e)}),delete p[r]}),o["default"].setSelectContr([]),{contrs:y,id:v,name:"集合 "+_,type:"wrapbox",width:n.width,height:n.height,left:n.left,top:n.top,filter:{},outerHidden:!1,scrollX:!1,scrollY:!1,isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!0,isOpen:!1,isStructOpen:!1,hierarchy:m}}t.createWrapboxContr=u,t["default"]={createWrapboxContr:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t["default"]={SCROLL_TOP_CRITICAL:163,MAST_SCROLL_TOP:815,SCROLL_BOTTOM_CRITICAL:50,COMP_LINE_BOTTOM_CRITICAL:80}},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_RotateBox=__webpack_require__(156),_RotateBox2=_interopRequireDefault(_RotateBox),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ContrHandle=void 0,IconContrComp=function(_Component){function IconContrComp(e){(0,_classCallCheck3["default"])(this,IconContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(IconContrComp.__proto__||(0,_getPrototypeOf2["default"])(IconContrComp)).call(this,e));return ContrHandle=__webpack_require__(60)["default"],t}return(0,_inherits3["default"])(IconContrComp,_Component),(0,_createClass3["default"])(IconContrComp,[{key:"render",value:function(){var e=this.props.i,t=this.props,n=(t.symbolChild,t.isInSymbol),r=t.isHover,o=t.specialType,a=t.isStartState,i=t.isWrap,s=t.contrId;e=$.contrChangeSymbolVal(e,this.props.symbolChild);var l=_ContrStore2["default"].getSelect().length,u=1,c=1,d=e.interfaceId==_ViewStore2["default"].getActivePage()||n,f=ContrHandle.getStyles({contr:e,type:"box"}),p={fontSize:Math.round(Math.max(e.width,12)),color:e.iconColor,opacity:e.opacity/100,WebkitFilter:$.getFilter(e.filter)},h=Math.ceil(e.width),g=void 0,y=void 0,m={isC:!0,iconC:!0,isStartState:a,isHover:r},_={};if(e.width!=e.height&&(c=e.height/e.width),e.width<12&&(u=u*h/12,c=c*h/12),1==u&&1==c||(p.transform=(1!=u?"scaleX("+u+")":"")+(1!=c?" scaleY("+c+")":"")),d&&"isInLib"!=o){var v=ContrHandle.getEventTag(e),b=ContrHandle.getAnimTag(e),w=ContrHandle.getNoteTag(e),C=i?ContrHandle.getmDivCoverEvent(a):ContrHandle.getCoverEvent(a);g=_react2["default"].createElement(_RotateBox2["default"],{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),y=_react2["default"].createElement("div",(0,_extends3["default"])({},C,{className:"cover"}),w,v,b),i&&(_={onMouseDown:$.stopPropagation})}return i?m.mDiv=!0:$.extend(m,{cDiv:!0,opt:e.isOpt,isOnlyOpt:1==l&&e.isOpt,lock:e.isLock}),_react2["default"].createElement("div",(0,_extends3["default"])({ref:s,className:(0,_classnames2["default"])(m),id:s,"data-id":s,"data-type":e.type,style:f},_),g,_react2["default"].createElement("i",{className:"material-icons icon iconfont",style:p},e.iconKey),y)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IconContrComp}(_react.Component),_default=IconContrComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/IconContr.react.js"),reactHotLoader.register(IconContrComp,"IconContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/IconContr.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/IconContr.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l,u=i(n(1)),c=s(n(11)),d=s(n(156)),f=s(n(506)),p=s(n(507)),h=s(n(508)),g=s(n(6)),y=s(n(5)),m=s(n(40)),_=window.$,v=function(e){function t(t){var r=e.call(this,t)||this;return l=n(60)["default"],r}return o(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.i,o=n.isInSymbol,i=n.isStartState,s=n.specialType,v=n.isWrap,b=n.contrId,w=g["default"].getSelect().length,C=r&&r.interfaceId==y["default"].getActivePage()||o,x=l.getStyles({contr:r,type:"box"}),S={isC:!0,tableC:!0,isStartState:i,mDiv:!1,isHover:this.props.isHover},P={},k=!1;if(C&&"isInLib"!=s){var O=l.getEventTag(r),E=l.getAnimTag(r),T=l.getNoteTag(r),M=v?l.getmDivCoverEvent(i):l.getCoverEvent(i);if(e=u["default"].createElement(d["default"],a({},{isOpt:r.isOpt,width:r.width,height:r.height,rotate:0})),r.isOpt){var D=m["default"].getTableData(),A=D.selectContr,j=D.selectCell;A&&j&&(k=!0)}t=k?undefined:u["default"].createElement("div",a({},M,{className:"cover"}),T,O,E),v&&(P={onMouseDown:_.stopPropagation})}return v?S.mDiv=!0:_.extend(S,{cDiv:!0,opt:r.isOpt,isOnlyOpt:1==w&&r.isOpt,lock:r.isLock,"select-cell":k}),u["default"].createElement("div",a({key:b,ref:b,className:c["default"](S),id:b,"data-id":b,"data-type":r.type,style:x},P),e,u["default"].createElement(h["default"],{i:r,isActivePage:C}),1==w&&r.isOpt?u["default"].createElement(p["default"],{i:r}):undefined,k?u["default"].createElement(f["default"],{i:r}):undefined,t)},t}(u.Component);t.TableContrComp=v,t["default"]=v},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(40)),i=r(n(5)),s=r(n(29)),l=r(n(34)),u=n(26),c=window.$;function d(e){var t=i["default"].isPrdView(),n=t?u.findSelectElement()[0]:o["default"].getFirstSelectContr();if(n)if(t)s["default"].updateValById({id:n.id,updateVal:e}),a["default"].setTableDataContr(u.findSelectElement()[0]),l["default"].emitChange();else{var r=c.getContrId(n);o["default"].contrUpdate(r,e,!0)}}t.changeTableContr=d,t["default"]={changeTableContr:d}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(1)),l=i(n(722)),u=window.$,c=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){for(var e=this.props,t=e.i,n=e.lineIndex,r=e.top,o=e.mergeObj,a=e.isActivePage,i=t.child,c=[],d=0,f=0;f<t.columnPosi.length;f++){var p=i[f+"_"+n];p&&(p.mergeColumn||p.mergeLine)&&(t.columnPosi.length-1<f+p.mergeColumn&&(p.mergeColumn=t.columnPosi.length-1-f),t.linePosi.length-1<n+p.mergeLine&&(p.mergeLine=t.linePosi.length-1-n),u.addMergeKey(o,{columnIndex:f,lineIndex:n},p)),-1===o.mergeCellArr.indexOf(f+"_"+n)&&c.push(s["default"].createElement(l["default"],{key:n+f,lineIndex:n,columnIndex:f,i:t,top:r,left:d,isActivePage:a})),d+=t.columnPosi[f]}return c},t}(s.Component);t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(1)),u=s(n(11)),c=s(n(223)),d=s(n(40)),f=s(n(388)),p=s(n(60)),h=n(77),g=window,y=g.$,m=g.isPrototypeTool,_=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.columnIndex,o=n.lineIndex,i=n.i,s=n.left,g=n.top,_=n.isActivePage,v=i.child&&i.child[r+"_"+o],b=(i.isOpt||i.isEdit)&&d["default"].isEditingTableCell({columnIndex:r,lineIndex:o}),w=i.columnPosi,C=i.linePosi,x=v&&v.text&&v.text.content||b,S={},P={},k=!1,O=i.columnPosi[r],E=i.linePosi[o],T="";if(x){t=(D=h.getOneCellData({columnIndex:r,lineIndex:o},i)).text,b&&(t.isEdit=!0),P=p["default"].getStyles({contr:D,type:"textBox"})}else{var M=i.child&&i.child[r+"_"+o];if(M&&M.hasBackColor){var D=h.getOneCellData({columnIndex:r,lineIndex:o},i);k=!0,P=p["default"].getStyles({contr:D,type:"textBox"})}}if(m&&(S=b?{onContextMenu:y.stopPropagation,onMouseDown:c["default"].editMouseDownFunc}:{onContextMenu:c["default"].cellContextMenu,onMouseDown:c["default"].cellMouseDown,onMouseEnter:c["default"].cellMouseEnter,onDoubleClick:c["default"].celldbclick}),v&&v.mergeColumn)for(var A=r+1;A<=r+v.mergeColumn;A++)O+=i.columnPosi[A]||0;if(v&&v.mergeLine)for(A=o+1;A<=o+v.mergeLine;A++)E+=i.linePosi[A]||0;return x&&(T=" "+t.horizontal+" "+t.vertical+(t.isB?" tB":"")+(t.isI?" tI":"")+(t.isU?" tU":"")),P&&delete P.borderRadius,l["default"].createElement("div",a({className:u["default"]("table-cell",{"is-editing":b,textC:x,"first-column":0===r,"last-row":r===C.length-1,"first-line":0===o,"last-line":o===w.length-1,"even-row":r%2==1,"even-line":o%2==1,"odd-column":r%2==0,"odd-line":o%2==0}),"data-columnindex":r,"data-lineindex":o},S,{style:{width:O,height:E,left:s,top:g}}),x?l["default"].createElement("div",{className:u["default"]("contrTextBox stretch-wrapper",(e={isEdit:b},e[""+t.horizontal]=!0,e[""+t.vertical]=!0,e.tB=t.isB,e.tI=t.isI,e.tU=t.isU,e.tS=t.isS,e)),style:P},l["default"].createElement(f["default"],{contrId:y.getContrId(i),contr:y.extend(!0,{width:O},t),isActivePage:_,isTable:!0,alignClass:T})):k?l["default"].createElement("div",{className:u["default"]("contrTextBox stretch-wrapper"),style:P}):undefined)},t}(l.Component);t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(1)),u=s(n(11)),c=s(n(223)),d=window.$,f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dragKey:undefined},n._dragMouseDown=n._dragMouseDown.bind(n),n}return o(t,e),t.prototype._dragMouseDown=function(e){var t=this,n=parseInt(e.currentTarget.getAttribute("data-key"));t.setState({dragKey:n}),c["default"].tableLineMouseDown(e,function(){t.setState({dragKey:undefined})})},t.prototype.render=function(){for(var e=this.props,t=e.i,n=e.mergeObj,r=[],o=d.isUndefined(this.state.dragKey)?{onMouseEnter:c["default"].lineMouseEnter,onMouseLeave:c["default"].lineMouseLeave}:{},i=n.mergeLineData.lineArr,s=0;s<=t.linePosi.length;s++){var f=0!=s&&s!=t.linePosi.length;(d.isUndefined(this.state.dragKey)||s===this.state.dragKey)&&r.push(l["default"].createElement("div",{className:u["default"]("table-horizontal-drag-line table-drag-line",{active:s===this.state.dragKey}),key:s+"drag-line","data-key":s,onMouseDown:this._dragMouseDown,style:{top:(s?d.getAddValFromArray(t.linePosi,0,s-1):0)-2-3,left:0,width:"100%",height:3}}));for(var p=0;p<t.columnPosi.length;p++){var h=d.getBorderVal(t,{columnIndex:p,lineIndex:s},!1),g=h.isOuter,y=h.val,m=h.color,_=h.style;if(-1===i.indexOf(s+"|"+p)){var v=0==y?3:y;r.push(l["default"].createElement("div",a({},o,{className:u["default"]("table-horizontal-line table-line",{"outer-line":g,"table-line-hide":0==y}),key:s+"_"+p+"line","data-key":s,style:{top:(s?d.getAddValFromArray(t.linePosi,0,s-1):0)-1-Math.floor(v/2),left:(p?d.getAddValFromArray(t.columnPosi,0,p-1):0)-1-(0==p&&f?0:Math.floor(v/2)),width:t.columnPosi[p]+(p==t.columnPosi.length-1&&f?Math.floor(v/2):v)-(0==p&&f?Math.floor(v/2):0),height:v,borderTop:v+"px "+d.getBorderStyle("style",_)+" "+m}})))}}}return l["default"].createElement("div",{className:u["default"]("table-line-box",{isDraging:!d.isUndefined(this.state.dragKey)}),style:t.isEdit?{zIndex:1e4}:{}},r)},t}(l.Component);t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(1)),u=s(n(11)),c=s(n(223)),d=window.$,f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dragKey:undefined},n._dragMouseDown=n._dragMouseDown.bind(n),n}return o(t,e),t.prototype._dragMouseDown=function(e){var t=this,n=parseInt(e.currentTarget.getAttribute("data-key"));t.setState({dragKey:n}),c["default"].tableLineMouseDown(e,function(){t.setState({dragKey:undefined})})},t.prototype.render=function(){for(var e=this.props,t=e.i,n=e.mergeObj,r=[],o=d.isUndefined(this.state.dragKey)?{onMouseEnter:c["default"].lineMouseEnter,onMouseLeave:c["default"].lineMouseLeave}:{},i=n.mergeLineData.rowArr,s=0;s<=t.columnPosi.length;s++){var f=0!=s&&s!=t.columnPosi.length;(d.isUndefined(this.state.dragKey)||s===this.state.dragKey)&&r.push(l["default"].createElement("div",{className:u["default"]("table-vertical-drag-line table-drag-line",{active:s===this.state.dragKey}),key:s+"drag-line","data-key":s,onMouseDown:this._dragMouseDown,style:{top:0,left:(s?d.getAddValFromArray(t.columnPosi,0,s-1):0)-2-3,width:3,height:"100%"}}));for(var p=0;p<t.linePosi.length;p++){var h=d.getBorderVal(t,{columnIndex:s,lineIndex:p},!0),g=h.isOuter,y=h.val,m=h.color,_=h.style;if(-1===i.indexOf(s+"|"+p)){var v=0==y?3:y;r.push(l["default"].createElement("div",a({},o,{className:u["default"]("table-vertical-line table-line",{"outer-line":g,"table-line-hide":0==y}),key:s+"_"+p+"line","data-key":s,style:{top:(p?d.getAddValFromArray(t.linePosi,0,p-1):0)-1-(0==p&&f?0:Math.floor(v/2)),left:(s?d.getAddValFromArray(t.columnPosi,0,s-1):0)-1-Math.floor(v/2),width:v,height:t.linePosi[p]+(p==t.linePosi.length-1&&f?Math.floor(v/2):v)-(0==p&&f?Math.floor(v/2):0),borderLeft:v+"px "+d.getBorderStyle("style",_)+" "+m}})))}}}return l["default"].createElement("div",{className:u["default"]("table-line-box",{isDraging:!d.isUndefined(this.state.dragKey)}),style:t.isEdit?{zIndex:1e4}:{}},r)},t}(l.Component);t["default"]=f},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_CoverImage=__webpack_require__(726),_CoverImage2=_interopRequireDefault(_CoverImage),_RotateBox=__webpack_require__(156),_RotateBox2=_interopRequireDefault(_RotateBox),_OuterBorderBox=__webpack_require__(257),_OuterBorderBox2=_interopRequireDefault(_OuterBorderBox),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_CutImageStore=__webpack_require__(119),_CutImageStore2=_interopRequireDefault(_CutImageStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),_ImageNodeHandle=__webpack_require__(429),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ContrHandle=void 0,ImageContrComp=function(_Component){function ImageContrComp(e){(0,_classCallCheck3["default"])(this,ImageContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(ImageContrComp.__proto__||(0,_getPrototypeOf2["default"])(ImageContrComp)).call(this,e));return ContrHandle=__webpack_require__(60)["default"],t}return(0,_inherits3["default"])(ImageContrComp,_Component),(0,_createClass3["default"])(ImageContrComp,[{key:"render",value:function(){var e=this.props.i;e=$.contrChangeSymbolVal(e,this.props.symbolChild);var t=_CutImageStore2["default"].getCutImage(),n=t.isShow&&$.getContrId(e)==t.thisImageKey,r=_ContrStore2["default"].getSelect().length,o=e.interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol,a=ContrHandle.getStyles({contr:e,type:"box"}),i=ContrHandle.getStyles({contr:e,styleList:["insetBorder","radius"]}),s=ContrHandle.getStyles({contr:e,styleList:e.layers&&e.layers.length>0||e.isSvg?["opacity","shadow","radius"]:["opacity","backColor","shadow","radius"],isActivePage:o}),l=void 0,u=!0,c=!0,d=void 0,f={isC:!0,imageC:!0,isStartState:this.props.isStartState,isHover:this.props.isHover},p={};return(o||_ViewStore2["default"].isPrdView())&&"isInLib"!=this.props.specialType?(l=_react2["default"].createElement(_RotateBox2["default"],{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),this.props.isWrap?(p={onMouseDown:$.stopPropagation},d=_react2["default"].createElement("div",(0,_extends3["default"])({},ContrHandle.getmDivCoverEvent(this.props.isStartState),{className:"cover"}),ContrHandle.getNoteTag(e),ContrHandle.getEventTag(e),ContrHandle.getAnimTag(e))):d=_react2["default"].createElement(_CoverImage2["default"],{contr:e,coverEvent:ContrHandle.getCoverEvent(this.props.isStartState),isStartState:this.props.isStartState})):(e.insetBorder&&"0"!=e.insetBorder[1]||(c=null),$.hasSpecialBorderStyle(e.border)||(u=null)),c&&(c=_react2["default"].createElement("div",{className:"contrBorder stretch-wrapper",style:i})),u&&(u=_react2["default"].createElement(_OuterBorderBox2["default"],{contr:e,isActivePage:o})),this.props.isWrap?f.mDiv=!0:$.extend(f,{cDiv:!0,opt:e.isOpt,isOnlyOpt:1==r&&e.isOpt,lock:e.isLock}),_react2["default"].createElement("div",(0,_extends3["default"])({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,_classnames2["default"])(f),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:a},p),l,n?undefined:_react2["default"].createElement("div",{className:"cutImgOutBox stretch-wrapper",style:s},(0,_ImageNodeHandle.getImageNode)(e),c),u,d)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ImageContrComp}(_react.Component),_default=ImageContrComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/ImageContr.react.js"),reactHotLoader.register(ImageContrComp,"ImageContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/ImageContr.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/ImageContr.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_ContrChangeImgByFdHandle=__webpack_require__(302),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ContrHandle=void 0,CoverImageComp=(_class=function(_Component){function CoverImageComp(e){(0,_classCallCheck3["default"])(this,CoverImageComp),ContrHandle=__webpack_require__(60)["default"];var t=(0,_possibleConstructorReturn3["default"])(this,(CoverImageComp.__proto__||(0,_getPrototypeOf2["default"])(CoverImageComp)).call(this,e));return t.state={isDropping:!1},t}return(0,_inherits3["default"])(CoverImageComp,_Component),(0,_createClass3["default"])(CoverImageComp,[{key:"_inputChangeImg",value:function(e){e.preventDefault(),this._changeImage(e.target.files[0])}},{key:"_changeImage",value:function(e){var t=new Image,n=new FormData;n.append("imgs",e),t.src=window.URL.createObjectURL(e),t.onload=function(){(0,_ContrChangeImgByFdHandle.updateImageContrData)({src:t.src,name:e.name,width:t.width,height:t.height,fd:n})}}},{key:"_imgDropImage",value:function(e){e.preventDefault(),e.stopPropagation(),_ContrStore2["default"].selectChange([$(".cover.dropping").parent().attr("id")]),this._changeImage(e.dataTransfer.files[0]),this.setState({isDropping:!1})}},{key:"_imgDragOver",value:function(e){this.setState({isDropping:!0}),e.preventDefault(),e.stopPropagation()}},{key:"_imgDragEnter",value:function(e){this.setState({isDropping:!0}),e.preventDefault(),e.stopPropagation()}},{key:"_imgDragLeave",value:function(e){this.setState({isDropping:!1}),e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){return _react2["default"].createElement("div",(0,_extends3["default"])({},this.props.coverEvent,{className:"cover"+(this.state.isDropping?" dropping":""),style:this.props.coverStyle,onDrop:this._imgDropImage,onDragOver:this._imgDragOver,onDragEnter:this._imgDragEnter,onDragLeave:this._imgDragLeave}),ContrHandle.getNoteTag(this.props.contr),ContrHandle.getEventTag(this.props.contr),ContrHandle.getAnimTag(this.props.contr))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),CoverImageComp}(_react.Component),_applyDecoratedDescriptor(_class.prototype,"_inputChangeImg",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_inputChangeImg"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_changeImage",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_changeImage"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_imgDropImage",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_imgDropImage"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_imgDragOver",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_imgDragOver"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_imgDragEnter",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_imgDragEnter"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_imgDragLeave",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_imgDragLeave"),_class.prototype),_class),_default=CoverImageComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/CoverImage.react.js"),reactHotLoader.register(CoverImageComp,"CoverImageComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/CoverImage.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/other/CoverImage.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_LinkLine=__webpack_require__(341),_LinkLine2=_interopRequireDefault(_LinkLine),_RotateBox=__webpack_require__(156),_RotateBox2=_interopRequireDefault(_RotateBox),_OuterBorderBox=__webpack_require__(257),_OuterBorderBox2=_interopRequireDefault(_OuterBorderBox),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),_DragContrStore=__webpack_require__(76),_DragContrStore2=_interopRequireDefault(_DragContrStore),_MergeBoxStore=__webpack_require__(24),_MergeBoxStore2=_interopRequireDefault(_MergeBoxStore),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ContrHandle=void 0,WrapboxContrComp=function(_Component){function WrapboxContrComp(e){(0,_classCallCheck3["default"])(this,WrapboxContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(WrapboxContrComp.__proto__||(0,_getPrototypeOf2["default"])(WrapboxContrComp)).call(this,e));return ContrHandle=__webpack_require__(60)["default"],t}return(0,_inherits3["default"])(WrapboxContrComp,_Component),(0,_createClass3["default"])(WrapboxContrComp,[{key:"render",value:function(){for(var e=this.props.i,t=_ContrStore2["default"].getSelect().length,n=_ViewStore2["default"].getViewMode(),r=e.interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol,o=ContrHandle.getStyles({contr:e,type:"box"}),a=ContrHandle.getStyles({contr:e,styleList:["insetBorder","radius"]}),i=ContrHandle.getStyles({contr:e,styleList:["opacity","radius","outerHidden","backColor","shadow","filter"],isActivePage:r}),s=[],l={},u=void 0,c=void 0,d=!0,f=!0,p=void 0,h={isC:!0,wrapBox:!0,isStartState:this.props.isStartState,isHover:this.props.isHover},g={},y=0;y<e.hierarchy.length;y++){var m=e.contrs[e.hierarchy[e.hierarchy.length-1-y]];try{var _=void 0,v="keyframe"==this.props.specialType?this.props.specialType:"";if(_DragContrStore2["default"].getIsDrag()||"isInLib"==this.props.specialType)_=m;else if(!this.props.isStartState&&m&&m.hoverState&&m.hoverState.isEndHover?(_=_ContrStore2["default"].getAllValsContr({contrKey:m,type:"hover",symbolChild:this.props.symbolChild}),u=!0):(_=_ContrStore2["default"].getAllValsContr({contrKey:m,type:this.props.isHover?"hover":this.props.isStartState?"start":undefined,symbolChild:this.props.symbolChild}),u=this.props.isHover),1==t&&this.props.contrastContr&&$.getContrId(this.props.contrastContr)==$.getContrId(m)){var b=_ContrStore2["default"].getAllValsContr({contrKey:m,type:"start"});s.push(ContrHandle.createContr(b,this.props.contrastContr,!1,!0,undefined,undefined,this.props.isInSymbol)),s.push(_react2["default"].createElement(_LinkLine2["default"],{key:"linkLine",start:b,end:_}))}var w=_;if("preview"==n||"drag-preview"==n)_ContrStore2["default"].getSelect()[0]==$.getContrId(_)&&(v="preview");"isInLib"==this.props.specialType&&(v=this.props.specialType),e.isDragContr&&(w.isDragContr=!0),s.push(ContrHandle.createContr(w,this.props.contrastContr,!e.isOpen,this.props.isStartState,v,u,this.props.isInSymbol,this.props.symbolChild))}catch(T){log&&log(T)}}if(!r&&!_ViewStore2["default"].isPrdView()&&this.props.isWrap||"isInLib"==this.props.specialType)e.insetBorder&&"0"!=e.insetBorder[1]||(d=null),$.hasSpecialBorderStyle(e.border)||(f=null);else{var C=ContrHandle.getEventTag(e),x=ContrHandle.getAnimTag(e),S=ContrHandle.getNoteTag(e),P=void 0,k=!0;if(e.isOpen&&!this.props.isStartState){var O=_MergeBoxStore2["default"].getThisContr(),E=!!O&&(e.isOpen&&e.type==O.type&&e.id==O.id);i.overflow="visible",k=!1,$.extend(h,{cDiv:!0,opt:e.isOpt,lock:e.isLock,open:e.isOpen,openNow:E}),l={onMouseDown:ContrHandle._coverMouseDown}}else this.props.isWrap?(P=ContrHandle.getmDivCoverEvent(this.props.isStartState),g={onMouseDown:$.stopPropagation}):P=ContrHandle.getCoverEvent(this.props.isStartState);c=_react2["default"].createElement(_RotateBox2["default"],{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),k&&(p=_react2["default"].createElement("div",(0,_extends3["default"])({},P,{className:"cover"}),S,C,x))}return d&&(d=_react2["default"].createElement("div",{className:"contrBorder stretch-wrapper",style:a})),f&&(f=_react2["default"].createElement(_OuterBorderBox2["default"],{contr:e,isActivePage:r})),this.props.isWrap?h.mDiv=!0:$.extend(h,{cDiv:!0,opt:e.isOpt,lock:e.isLock,isOnlyOpt:1==t&&e.isOpt}),_react2["default"].createElement("div",(0,_extends3["default"])({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,_classnames2["default"])(h),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:o},g),c,_react2["default"].createElement("div",(0,_extends3["default"])({className:"contrWrapBox stretch-wrapper",style:i},l),_react2["default"].createElement("div",{className:"contrGroup stretch-wrapper"},s),d),f,p)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),WrapboxContrComp}(_react.Component),_default=WrapboxContrComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/WrapboxContr.react.js"),reactHotLoader.register(WrapboxContrComp,"WrapboxContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/WrapboxContr.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/WrapboxContr.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_LinkLine=__webpack_require__(341),_LinkLine2=_interopRequireDefault(_LinkLine),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),_DragContrStore=__webpack_require__(76),_DragContrStore2=_interopRequireDefault(_DragContrStore),_MergeBoxStore=__webpack_require__(24),_MergeBoxStore2=_interopRequireDefault(_MergeBoxStore),_SymbolMaskStore=__webpack_require__(32),_SymbolMaskStore2=_interopRequireDefault(_SymbolMaskStore),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ContrHandle=void 0,SymbolContrComp=function(_Component){function SymbolContrComp(e){(0,_classCallCheck3["default"])(this,SymbolContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(SymbolContrComp.__proto__||(0,_getPrototypeOf2["default"])(SymbolContrComp)).call(this,e));return ContrHandle=__webpack_require__(60)["default"],t}return(0,_inherits3["default"])(SymbolContrComp,_Component),(0,_createClass3["default"])(SymbolContrComp,[{key:"render",value:function(){var e=this.props.i,t=_ContrStore2["default"].getSelect().length,n=_ViewStore2["default"].getViewMode(),r=e.interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol,o=ContrHandle.getStyles({contr:e,type:"box"}),a=ContrHandle.getStyles({contr:e,styleList:["opacity"]}),i={},s=_SymbolMaskStore2["default"].getSymbolMask(),l="symbolMask"==this.props.specialType,u=[],c={},d={},f=void 0,p=void 0,h={isC:!0,wrapBox:!0,isStartState:this.props.isStartState,symbolDiv:"isInLib"!=this.props.specialType,isHover:this.props.isHover},g={},y=void 0;if(this.props.symbolChild?y=$.extend(!0,$.extend(!0,{},e.children),this.props.symbolChild):s.isShow?s.thisContrKey==$.getContrId(e)&&(y={}):y=$.extend(!0,{},e.children),e.hierarchy&&e.contrs)for(var m=0;m<e.hierarchy.length;m++){var _=e.contrs[e.hierarchy[e.hierarchy.length-1-m]],v=void 0,b="keyframe"==this.props.specialType||"isInLib"==this.props.specialType?this.props.specialType:"";if(_DragContrStore2["default"].getIsDrag())v=_;else if(_&&(!this.props.isStartState&&_.hoverState&&_.hoverState.isEndHover?(v=_ContrStore2["default"].getAllValsContr({contrKey:_,type:"hover"}),f=!0):(v=_ContrStore2["default"].getAllValsContr({contrKey:_,type:this.props.isHover?"hover":this.props.isStartState?"start":undefined}),f=this.props.isHover),1==t&&this.props.contrastContr&&$.getContrId(this.props.contrastContr)==$.getContrId(_))){var w=_ContrStore2["default"].getAllValsContr({contrKey:_,type:"start"});u.push(ContrHandle.createContr(w,this.props.contrastContr,!1,!0,undefined,undefined,"symbolMask"==this.props.specialType)),u.push(_react2["default"].createElement(_LinkLine2["default"],{key:"linkLine",start:w,end:v}))}var C=v;if("preview"==n||"drag-preview"==n)_ContrStore2["default"].getSelect()[0]==$.getContrId(v)&&(b="preview");"isInLib"==this.props.specialType&&(b=this.props.specialType),e.isDragContr&&(C.isDragContr=!0),C&&u.push(ContrHandle.createContr(C,this.props.contrastContr,!l,this.props.isStartState,b,f,r,y))}if((r||_ViewStore2["default"].isPrdView())&&"isInLib"!=this.props.specialType){var x=ContrHandle.getEventTag(e),S=ContrHandle.getAnimTag(e),P=ContrHandle.getNoteTag(e),k=void 0,O=!0;if(e.isOpen&&!this.props.isStartState){var E=_MergeBoxStore2["default"].getThisContr(),T=!!E&&(e.isOpen&&e.type==E.type&&e.id==E.id);O=!1,$.extend(h,{cDiv:!0,opt:e.isOpt,lock:e.isLock,open:e.isOpen,openNow:T}),c={onMouseDown:ContrHandle._coverMouseDown}}else this.props.isWrap?(k=ContrHandle.getmDivCoverEvent(this.props.isStartState),g={onMouseDown:$.stopPropagation}):k=ContrHandle.getCoverEvent(this.props.isStartState);O&&(p=_react2["default"].createElement("div",(0,_extends3["default"])({},k,{className:"cover"}),P,x,S))}if(this.props.isWrap?h.mDiv=!0:$.extend(h,{cDiv:!0,opt:e.isOpt,lock:e.isLock,isOnlyOpt:!l&&1==t&&e.isOpt,isSymbolEdit:l}),"symbol"==e.type&&10!=e.scale){var M=e.scale/10;d={transform:"scale("+M+")",left:-1*M,top:-1*M},l||(o.width*=M,o.height*=M)}return l&&(i={background:_SymbolMaskStore2["default"].getSymbolBackColor(),width:o.width,height:o.height}),_react2["default"].createElement("div",(0,_extends3["default"])({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,_classnames2["default"])(h),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,"data-symbolkey":e.symbolKey,style:o},g),l?_react2["default"].createElement("div",{className:"symbol-bg-box",style:i}):undefined,"isInLib"!=this.props.specialType&&"symbolMask"!=this.props.specialType&&s.isShow&&s.thisContrKey==$.getContrId(e)&&"multi-view"!=_ViewStore2["default"].getViewMode()?undefined:_react2["default"].createElement("div",(0,_extends3["default"])({id:"isInLib"==this.props.specialType?"":"symbolWrapper",className:(0,_classnames2["default"])({contrWrapBox:!0,"symbol-wrapper":!0,"stretch-wrapper":!0,"symbol-edit-wrapper":l}),style:a},c),_react2["default"].createElement("div",{className:"contrGroup stretch-wrapper",style:d},u)),l?undefined:p)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SymbolContrComp}(_react.Component),_default=SymbolContrComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/SymbolContr.react.js"),reactHotLoader.register(SymbolContrComp,"SymbolContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/SymbolContr.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/SymbolContr.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_RotateBox=__webpack_require__(156),_RotateBox2=_interopRequireDefault(_RotateBox),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ContrHandle=void 0,HotspotContrComp=function(_Component){function HotspotContrComp(e){(0,_classCallCheck3["default"])(this,HotspotContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(HotspotContrComp.__proto__||(0,_getPrototypeOf2["default"])(HotspotContrComp)).call(this,e));return ContrHandle=__webpack_require__(60)["default"],t}return(0,_inherits3["default"])(HotspotContrComp,_Component),(0,_createClass3["default"])(HotspotContrComp,[{key:"render",value:function(){var e=this.props.i,t=_ContrStore2["default"].getSelect().length,n=e.interfaceId==_ViewStore2["default"].getActivePage()||this.props.isInSymbol,r=ContrHandle.getStyles({contr:e,type:"box"}),o=void 0,a=void 0,i={isC:!0,hotspotC:!0,isStartState:this.props.isStartState,isHover:this.props.isHover},s={};if((n||_ViewStore2["default"].isPrdView())&&"isInLib"!=this.props.specialType){var l=ContrHandle.getEventTag(e),u=ContrHandle.getAnimTag(e),c=ContrHandle.getNoteTag(e),d=this.props.isWrap?ContrHandle.getmDivCoverEvent(this.props.isStartState):ContrHandle.getCoverEvent(this.props.isStartState);o=_react2["default"].createElement(_RotateBox2["default"],{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),a=_react2["default"].createElement("div",(0,_extends3["default"])({},d,{className:"cover"}),c,l,u),this.props.isWrap&&(s={onMouseDown:$.stopPropagation})}return this.props.isWrap?$.extend(i,{mDiv:!0}):$.extend(i,{cDiv:!0,opt:e.isOpt,isOnlyOpt:1==t&&e.isOpt,lock:e.isLock}),_react2["default"].createElement("div",(0,_extends3["default"])({key:this.props.contrId,ref:this.props.contrId,className:(0,_classnames2["default"])(i),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:r},s),o,_react2["default"].createElement("div",{className:"hotspot-dom"}),a)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),HotspotContrComp}(_react.Component),_default=HotspotContrComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(ContrHandle,"ContrHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/HotspotContr.react.js"),reactHotLoader.register(HotspotContrComp,"HotspotContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/HotspotContr.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/HotspotContr.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(11)),u=i(n(398)),c=i(n(731)),d=i(n(747)),f=i(n(453)),p=window.$,h=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){var e,t=this.props.i,n=t.type,r=t.isEdit,o={},i=p.getAdvancedType(n);switch("chart"==i&&(o.noCover=r),i){case"chart":e=f["default"].getContr(n),o.noCover=r;break;case"mobile":e=d["default"].getContr(n);break;case"advanced":e=c["default"].getContr(n)}return s["default"].createElement(u["default"],a({},this.props,{containerClassName:l["default"](i+"-box"+p.getAdvancedStyleClass(n))},o),e?s["default"].createElement(e,null):undefined)},t}(s["default"].Component);t.AdvancedToolContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(509)),a=r(n(732)),i=r(n(511)),s=r(n(512)),l=r(n(513)),u=r(n(736)),c=r(n(737)),d=r(n(738)),f=r(n(739)),p=r(n(740)),h=r(n(741)),g=r(n(401)),y=r(n(402)),m=r(n(742)),_=r(n(743)),v=r(n(744)),b=r(n(745)),w=r(n(746)),C=new(function(){function e(){}return e.prototype.getContr=function(e){var t=null;switch(e){case"dropdown":t=o["default"];break;case"menu":t=a["default"];break;case"pagination":t=i["default"];break;case"cascader":t=u["default"];break;case"checkbox":t=c["default"];break;case"datePicker":t=d["default"];break;case"rate":t=f["default"];break;case"radio":t=p["default"];break;case"select":t=h["default"];break;case"slider":t=g["default"];break;case"switch":t=y["default"];break;case"treeSelect":t=m["default"];break;case"timePicker":t=_["default"];break;case"transfer":t=v["default"];break;case"calendar":t=s["default"];break;case"carousel":t=l["default"];break;case"collapse":t=b["default"];break;case"tree":t=w["default"]}return t},e}());t["default"]=C},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(510)),f=l(n(47)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._selectFunc=function(e,t,n){var r=this.props,o=r.contr.type,a=r.contrId;for(var i in t)t[i].select=-1!=e.selectedKeys.indexOf(i);f["default"].changeContrData(n,o,{contrId:a})},t.prototype._openFunc=function(e,t,n){var r=this.props,o=r.contr,a=o.type,i=o.onlyExtandOne,s=r.contrId,l=-1;for(var u in t)t[u].active=-1!=e.indexOf(u);i&&e.forEach(function(e){1==e.split("|").length&&(-1===l?l=e:t[l].active=!1)}),f["default"].changeContrData(n,a,{contrId:s})},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{selectFunc:this._selectFunc,openFunc:this._openFunc}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Object]),s("design:returntype",void 0)],t.prototype,"_selectFunc",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Object]),s("design:returntype",void 0)],t.prototype,"_openFunc",null),t}(u["default"].Component);t.MenuContrComp=p,t["default"]=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页"},e.exports=t["default"]},function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var o,a,i={today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"};t["default"]=i,(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&o.register(i,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/rcBase/rc-calendar/locale/zh_CN.js"),(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&a(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(399));t["default"]=o["default"]},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(514)),d=l(n(3)),f=l(n(147)),p=l(n(35)),h=l(n(47)),g=window.$,y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.handleChange=function(e,t){var n=this.props,r=n.contr,o=r.type,a=r.data,i=n.contrId,s=g.extend(!0,[],p["default"].getDefaultData(o,a)),l=e[e.length-1];f["default"].changeListDataAll(s,function(e,t){e.select=l==t}),h["default"].changeContrData(s,o,{contrId:i})},t.prototype.render=function(){var e=this.props,t=this.handleChange;return u["default"].createElement(c["default"],a({},e,{changeFunc:t}))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"handleChange",null),t}(u["default"].Component);t.CascaderContrComp=y,t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(515)),f=l(n(35)),p=l(n(47)),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._change=function(e){var t=this.props,n=t.contr,r=n.type,o=n.data,a=t.contrId,i=h.extend(!0,[],f["default"].getDefaultData(r,o));i.forEach(function(t,n){var r=t.title;t.select=-1!=e.indexOf(r+"|"+n)}),p["default"].changeContrData(i,r,{contrId:a})},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._change}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_change",null),t}(u["default"].Component);t.CheckboxContrComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(516)),f=n(6)["default"],p=n(10)["default"],h=function(e){function t(t){var n=e.call(this,t)||this;return n.lastValue=null,n.state={},n}return o(t,e),t.prototype.handleChange=function(e,t){var n=this.props,r=n.contrId,o=n.contr,a=o.name,i=o.type;t&&t!=this.lastValue&&(f.contrUpdate(r,{value:t}),p.createData({type:"datePickerChange",name:"["+a+"] 日期组件修改值",handleObjType:i,autoSaveType:"pageContrs"})),this.lastValue=null},t.prototype.handleOpen=function(e){var t=this.props.contr.value;e&&(this.lastValue=t)},t.prototype.render=function(){var e=this.props,t=this.handleChange,n=this.handleOpen;return u["default"].createElement(d["default"],a({},e,{changeFunc:t,openChangeFunc:n}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"handleChange",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Boolean]),s("design:returntype",void 0)],t.prototype,"handleOpen",null),t}(u["default"].Component);t.DatePickerContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(517)),f=n(6)["default"],p=n(10)["default"],h=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype._change=function(e){var t=this.props,n=t.contr,r=t.contrId;f.contrUpdate(r,{value:e}),p.createData({type:"rateChange",name:"["+n.name+"] 评分组件修改值",handleObjType:n.type,autoSaveType:"pageContrs"})},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._change}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_change",null),t}(u["default"].Component);t.RateContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(518)),f=l(n(35)),p=l(n(47)),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._change=function(e){var t=e.target.value,n=this.props,r=n.contr,o=r.type,a=r.data,i=n.contrId,s=h.extend(!0,[],f["default"].getDefaultData(o,a));s.forEach(function(e,n){e.select=t==n&&!e.select}),p["default"].changeContrData(s,o,{contrId:i})},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._change}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_change",null),t}(u["default"].Component);t.RadioContrComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(519)),f=l(n(35)),p=l(n(47)),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._change=function(e){var t=this.props,n=t.contr,r=n.type,o=n.data,a=n.isMultiple,i=t.contrId,s=h.extend(!0,[],f["default"].getDefaultData(r,o));s.forEach(function(t,n){t.select=a?-1!=e.indexOf(t.title+"|"+n):e==t.title+"|"+n}),p["default"].changeContrData(s,r,{contrId:i})},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._change}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_change",null),t}(u["default"].Component);t.SelectContrComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(520)),d=l(n(3)),f=l(n(147)),p=l(n(35)),h=l(n(47)),g=window.$,y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.handleSelectChange=function(e,t){var n=this.props,r=n.contr,o=r.type,a=r.data,i=n.contrId,s=g.extend(!0,[],p["default"].getDefaultData(o,a));f["default"].changeListDataAll(s,function(t,n){t.select=g.isArray(e)?-1!=e.indexOf(n):e==n}),h["default"].changeContrData(s,o,{contrId:i})},t.prototype.render=function(){var e=this.props,t=this.handleSelectChange;return u["default"].createElement(c["default"],a({},e,{selectFunc:t}))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"handleSelectChange",null),t}(u["default"].Component);t.TreeSelectContrComp=y,t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(521)),f=n(6)["default"],p=n(10)["default"],h=function(e){function t(t){var n=e.call(this,t)||this;return n.lastValue=null,n.state={},n}return o(t,e),t.prototype.handleChange=function(e,t){var n=this.props.contrId;f.contrUpdate(n,{value:t})},t.prototype.handleOpen=function(e){var t=this.props.contr,n=t.name,r=t.type,o=t.value;e?this.lastValue=o:e||this.lastValue==o||p.createData({type:"datePickerChange",name:"["+n+"] 时间组件修改值",handleObjType:r,autoSaveType:"pageContrs"})},t.prototype.render=function(){var e=this.props,t=this.handleChange,n=this.handleOpen;return u["default"].createElement(d["default"],a({},e,{changeFunc:t,openChangeFunc:n}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"handleChange",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Boolean]),s("design:returntype",void 0)],t.prototype,"handleOpen",null),t}(u["default"].Component);t.TimePickerContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(522)),f=l(n(47)),p=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype._handleChange=function(e,t,n){var r=this.props,o=r.contr.type,a=r.contrId,i=[],s=[],l=n;l.forEach(function(t,n){t.child.forEach(function(t,r){var o=n+"|"+r;-1!=e.indexOf(o)?s.push(t):i.push(t)})}),l[0].child=i,l[1].child=s,f["default"].changeContrData(l,o,{contrId:a})},t.prototype._handleSelectChange=function(e,t,n){var r=this.props,o=r.contr.type,a=r.contrId,i=n;i.forEach(function(n,r){n.child.forEach(function(n,o){var a=r+"|"+o;n.select=-1!=e.indexOf(a)||-1!=t.indexOf(a)})}),f["default"].changeContrData(i,o,{contrId:a})},t.prototype.render=function(){var e=this._handleChange,t=this._handleSelectChange;return u["default"].createElement(d["default"],a({},this.props,{selectChangeFunc:t,changeFunc:e}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Object]),s("design:returntype",void 0)],t.prototype,"_handleChange",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Object]),s("design:returntype",void 0)],t.prototype,"_handleSelectChange",null),t}(u["default"].Component);t.TransferContrComp=p,t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(523)),f=l(n(47)),p=l(n(209)),h=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype._handleChange=function(e){var t=this.props,n=t.contr,r=n.type,o=n.data,a=void 0===o?{}:o,i=t.contrId,s=p["default"].getDefaultData(r,a),l=!1;e&&(s.forEach(function(t,n){var r=-1!=e.indexOf(n+"");a.active!==r&&(a[n]||(a[n]={}),a[n].active=r,l=!0)}),l&&f["default"].changeContrData(a,r,{contrId:i}))},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._handleChange}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleChange",null),t}(u["default"].Component);t.CollapseContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(524)),f=l(n(47)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._selectFunc=function(e,t,n){if(e){var r=this.props,o=r.contr.type,a=r.contrId;for(var i in t)t[i].select=-1!=e.indexOf(i);f["default"].changeContrData(n,o,{contrId:a})}},t.prototype._openFunc=function(e,t,n){if(e){var r=this.props,o=r.contr.type,a=r.contrId;for(var i in t)t[i].active=-1!=e.indexOf(i);f["default"].changeContrData(n,o,{contrId:a})}},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{selectFunc:this._selectFunc,openFunc:this._openFunc}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Object]),s("design:returntype",void 0)],t.prototype,"_selectFunc",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Object]),s("design:returntype",void 0)],t.prototype,"_openFunc",null),t}(u["default"].Component);t.TreeContrComp=p,t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(525)),a=r(n(526)),i=r(n(527)),s=r(n(528)),l=r(n(529)),u=r(n(401)),c=r(n(751)),d=r(n(752)),f=r(n(753)),p=r(n(754)),h=r(n(402)),g=r(n(755)),y=r(n(756)),m=r(n(757)),_=r(n(758)),v=new(function(){function e(){}return e.prototype.getContr=function(e){var t;switch(e){case"carouselM":t=o["default"];break;case"carouselTextM":t=a["default"];break;case"sliderM":t=u["default"];break;case"rangeM":t=c["default"];break;case"stepperM":t=d["default"];break;case"paginationM":t=i["default"];break;case"radioM":t=f["default"];break;case"checkboxM":t=p["default"];break;case"switchM":t=h["default"];break;case"menuM":t=g["default"];break;case"pickerM":t=y["default"];break;case"segmentedControlM":t=m["default"];break;case"calendarM":t=s["default"];break;case"datePickerM":t=l["default"];break;case"accordionM":t=_["default"]}return t},e}());t["default"]=v},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(619)),u=i(n(749));function c(){}var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getDialogElement=function(){var e,n,r,o=t.props,a=o.closable,i=o.prefixCls;o.footer&&(e=s["default"].createElement("div",{className:i+"-footer",ref:function(e){return t.footerRef=e}},o.footer)),o.title&&(n=s["default"].createElement("div",{className:i+"-header",ref:function(e){return t.headerRef=e}},s["default"].createElement("div",{className:i+"-title"},o.title))),a&&(r=s["default"].createElement("button",{onClick:t.close,"aria-label":"Close",className:i+"-close"},s["default"].createElement("span",{className:i+"-close-x"})));var c=t.getTransitionName(),d=s["default"].createElement(u["default"],{key:"dialog-element",role:"document",ref:function(e){return t.dialogRef=e},style:o.style||{},className:i+" "+(o.className||""),visible:o.visible},s["default"].createElement("div",{className:i+"-content"},r,n,s["default"].createElement("div",{className:i+"-body",style:o.bodyStyle,ref:function(e){return t.bodyRef=e}},o.children),e));return s["default"].createElement(l["default"],{key:"dialog",showProp:"visible",onAppear:t.onAnimateAppear,onLeave:t.onAnimateLeave,transitionName:c,component:"",transitionAppear:!0},d)},t.onAnimateAppear=function(){document.body.style.overflow="hidden"},t.onAnimateLeave=function(){document.body.style.overflow="",t.wrapRef&&(t.wrapRef.style.display="none"),t.props.onAnimateLeave&&t.props.onAnimateLeave(),t.props.afterClose&&t.props.afterClose()},t.close=function(e){t.props.onClose&&t.props.onClose(e)},t.onMaskClick=function(e){e.target===e.currentTarget&&t.close(e)},t}return o(t,e),t.prototype.componentWillUnmount=function(){document.body.style.overflow="",this.wrapRef&&(this.wrapRef.style.display="none")},t.prototype.getZIndexStyle=function(){var e={},t=this.props;return t.zIndex!==undefined&&(e.zIndex=t.zIndex),e},t.prototype.getWrapStyle=function(){var e=this.props.wrapStyle||{};return a({},this.getZIndexStyle(),e)},t.prototype.getMaskStyle=function(){var e=this.props.maskStyle||{};return a({},this.getZIndexStyle(),e)},t.prototype.getMaskTransitionName=function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},t.prototype.getTransitionName=function(){var e=this.props,t=e.transitionName,n=e.animation;return!t&&n&&(t=e.prefixCls+"-"+n),t},t.prototype.getMaskElement=function(){var e,t=this.props;if(t.mask){var n=this.getMaskTransitionName();e=s["default"].createElement(u["default"],a({style:this.getMaskStyle(),key:"mask-element",className:t.prefixCls+"-mask",hiddenClassName:t.prefixCls+"-mask-hidden",visible:t.visible},t.maskProps)),n&&(e=s["default"].createElement(l["default"],{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},e))}return e},t.prototype.render=function(){var e=this,t=this.props,n=t.prefixCls,r=t.maskClosable,o=this.getWrapStyle();return t.visible&&(o.display=null),s["default"].createElement("div",null,this.getMaskElement(),s["default"].createElement("div",a({className:n+"-wrap "+(t.wrapClassName||""),ref:function(t){return e.wrapRef=t},onClick:r?this.onMaskClick:undefined,role:"dialog","aria-labelledby":t.title,style:o},t.wrapProps),this.getDialogElement()))},t.defaultProps={afterClose:c,className:"",mask:!0,visible:!1,closable:!0,maskClosable:!0,prefixCls:"rmc-dialog",onClose:c},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.shouldComponentUpdate=function(e){return!!e.hiddenClassName||!!e.visible},t.prototype.render=function(){var e=this.props.className;this.props.hiddenClassName&&!this.props.visible&&(e+=" "+this.props.hiddenClassName);var t=a({},this.props);return delete t.hiddenClassName,delete t.visible,t.className=e,s["default"].createElement("div",a({},t))},t}(s["default"].Component);t["default"]=l},function(e,t,n){"use strict";t.__esModule=!0;t["default"]={title:"日期选择",today:"今天",month:"月",year:"年",am:"上午",pm:"下午",dateTimeFormat:"yyyy年MM月dd日 星期w hh:mm",dateFormat:"yyyy年MM月dd日 星期w",noChoose:"未选择",week:["日","一","二","三","四","五","六"],clear:"清除",selectTime:"选择时间",selectStartTime:"选择开始时间",selectEndTime:"选择结束时间",start:"开始",end:"结束",begin:"起",over:"止",begin_over:"起/止",confirm:"确认",monthTitle:"yyyy年MM月",loadPrevMonth:"加载上一个月",yesterday:"昨天",lastWeek:"近一周",lastMonth:"近一个月"},e.exports=t["default"]},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(530)),f=n(6)["default"],p=n(10)["default"],h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._change=function(e){var t=this.props,n=t.contrId,r=t.contr;return function(t){"afterChange"==e?p.createData({type:"sliderDragChange",name:"["+r.name+"] 拖拽区域组件修改值",handleObjType:r.type,autoSaveType:"pageContrs"}):f.contrUpdate(n,{minVal:t[0],maxVal:t[1]})}},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._change}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_change",null),t}(u["default"].Component);t.RangeMContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(531)),f=n(6)["default"],p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._onChange=function(e){var t=this.props.contrId;f.contrUpdate(t,{value:e})},t.prototype._downClickFunc=function(){this._clickUpdateFunc(-1)},t.prototype._upClickFunc=function(){this._clickUpdateFunc(1)},t.prototype._clickUpdateFunc=function(e){var t=this.props,n=t.contr,r=n.value,o=n.maxVal,a=t.contrId;r<o&&f.contrUpdate(a,{value:r+e})},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._onChange,downClickFunc:this._downClickFunc,upClickFunc:this._upClickFunc}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_onChange",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_downClickFunc",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_upClickFunc",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Number]),s("design:returntype",void 0)],t.prototype,"_clickUpdateFunc",null),t}(u["default"].Component);t.StepperMContrComp=p,t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(532)),f=l(n(35)),p=l(n(47)),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._change=function(e){var t=this.props,n=t.contr,r=n.type,o=n.data,a=t.contrId,i=h.extend(!0,[],f["default"].getDefaultData(r,o));i.forEach(function(t,n){t.select=e==n&&!t.select}),p["default"].changeContrData(i,r,{contrId:a})},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._change}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_change",null),t}(u["default"].Component);t.RadioMContrComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(533)),f=l(n(35)),p=l(n(47)),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._change=function(e){var t=this.props,n=t.contr,r=n.type,o=n.data,a=t.contrId,i=h.extend(!0,[],f["default"].getDefaultData(r,o));i[e].select=!i[e].select,p["default"].changeContrData(i,r,{contrId:a})},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._change}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_change",null),t}(u["default"].Component);t.CheckboxMContrComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(534)),f=l(n(47)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._handleCancel=function(e){var t=this.props,n=t.contr.type,r=t.contrId;e.forEach(function(e,t){e.select=!1,e.child.forEach(function(e,t){e.select=!1})}),f["default"].changeContrData(e,n,{contrId:r})},t.prototype._handleChange=function(e,t){var n=this.props,r=n.contr,o=r.type,a=r.typeIndex,i=n.contrId;a<3?t.forEach(function(t,n){t.select=-1!=e.indexOf(n+""),t.child.forEach(function(e,t){e.select=!1})}):t.forEach(function(t,n){t.select=!1,t.child.forEach(function(r,o){r.select=-1!=e[1].indexOf(n+"|"+o),r.select&&(t.select=!0)})}),f["default"].changeContrData(t,o,{contrId:i})},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._handleChange,cancelFunc:this._handleCancel}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleCancel",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"_handleChange",null),t}(u["default"].Component);t.MenuMContrComp=p,t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(535)),f=l(n(35)),p=l(n(47)),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._change=function(e){var t=this.props,n=t.contr,r=n.type,o=n.data,a=t.contrId,i=h.extend(!0,[],f["default"].getDefaultData(r,o)),s=[];e.forEach(function(e,t){var n=e.split("|")[1];s.push(n)}),i.forEach(function(e,t){e.child.forEach(function(e,n){n==s[t]?e.select=!0:e.select=!1})}),p["default"].changeContrData(i,r,{contrId:a})},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._change}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_change",null),t}(u["default"].Component);t.PickerMContrComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(536)),f=l(n(47)),p=l(n(35)),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._change=function(e){var t=e.nativeEvent.selectedSegmentIndex,n=this.props,r=n.contr,o=r.type,a=r.data,i=n.contrId,s=h.extend(!0,[],p["default"].getDefaultData(o,a));s.forEach(function(e,n){e.select=t==n&&!e.select}),f["default"].changeContrData(s,o,{contrId:i})},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._change}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_change",null),t}(u["default"].Component);t.SegmentedControlMContrComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(537)),f=l(n(47)),p=l(n(209)),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._handleChange=function(e){void 0===e&&(e=[]);var t=this.props,n=t.contr,r=n.type,o=n.data,a=t.contrId,i=p["default"].getDefaultData(r,o),s=!1;e&&(i.forEach(function(t,n){var r=-1!=e.indexOf(n+"");t.active!==r&&(i[n]||(i[n]={}),i[n].active=r,s=!0)}),s&&f["default"].changeContrData(i,r,{contrId:a}))},t.prototype.render=function(){return u["default"].createElement(d["default"],a({},this.props,{changeFunc:this._handleChange}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleChange",null),t}(u["default"].Component);t.AccordionMContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(74)),l=n(68),u=a(n(92)),c=window.$,d=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.lastIsSmooth=undefined,n.state={chartBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({chartBase:t["default"]})})},t.prototype.componentDidUpdate=function(){var e=this,t=e.props.contr.isSmooth;e.lastIsSmooth!=t&&(t&&setTimeout(function(){e.setState({})},0),e.lastIsSmooth=t),l.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.type,o=n.tooltip,a=n.showAxis,s=n.isSmooth,l=n.lineColor,d=n.areaColor,f=n.data,p=void 0===f?{}:f,h=n.height,g=n.headArr,y=u["default"].getDefaultData(r,p),m=t.MiniArea;return i["default"].createElement(m,{ref:function(t){return e.thisDom=t},animate:c.isAdvancedAnimate(),line:!0,color:"#cceafe",height:h*c.getScaleRatio(),data:y,showAxis:a,isSmooth:s,lineColor:l,areaColor:d,tooltip:o,headArr:g})},t}(i["default"].Component);t.MiniAreaContrComp=d,t["default"]=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(761),o=n(766),a=n(767),i=n(768),s=n(769),l=n(770),u=n(771),c=n(406),d=n(407),f=n(408),p=n(772),h=n(773),g=n(774),y=n(775),m=n(409),_=n(776),v=n(777),b=n(778),w=n(779),C=n(780),x=n(781),S=n(782),P=n(783),k=n(784),O=n(785),E=n(786),T=n(787),M=n(788),D=n(789),A=n(790),j=n(791),I=n(792),L=n(793),R=n(794),B=n(795),N=n(796),F=n(797);t.Konva=r.Konva.Util._assign(r.Konva,{Arc:o.Arc,Arrow:a.Arrow,Circle:i.Circle,Ellipse:s.Ellipse,Image:l.Image,Label:u.Label,Tag:u.Tag,Line:c.Line,Path:d.Path,Rect:f.Rect,RegularPolygon:p.RegularPolygon,Ring:h.Ring,Sprite:g.Sprite,Star:y.Star,Text:m.Text,TextPath:_.TextPath,Transformer:v.Transformer,Wedge:b.Wedge,Filters:{Blur:w.Blur,Brighten:C.Brighten,Contrast:x.Contrast,Emboss:S.Emboss,Enhance:P.Enhance,Grayscale:k.Grayscale,HSL:O.HSL,HSV:E.HSV,Invert:T.Invert,Kaleidoscope:M.Kaleidoscope,Mask:D.Mask,Noise:A.Noise,Pixelate:j.Pixelate,Posterize:I.Posterize,RGB:L.RGB,RGBA:R.RGBA,Sepia:B.Sepia,Solarize:N.Solarize,Threshold:F.Threshold}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=n(22),a=n(43),i=n(200),s=n(762),l=n(763),u=n(764),c=n(304),d=n(258),f=n(50),p=n(259),h=n(765),g=n(404),y=n(226);t.Konva=o.Util._assign(r.Konva,{Collection:o.Collection,Util:o.Util,Node:a.Node,ids:a.ids,names:a.names,Container:i.Container,Stage:s.Stage,stages:s.stages,Layer:l.Layer,FastLayer:u.FastLayer,Group:c.Group,DD:d.DD,Shape:f.Shape,shapes:f.shapes,Animation:p.Animation,Tween:h.Tween,Easings:h.Easings,Context:g.Context,Canvas:y.Canvas})},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(200),l=n(21),u=n(226),c=n(258),d=n(21),f="_",p=["mousedown","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","mouseover","wheel","contextmenu"],h=p.length;function g(e,t){e.content.addEventListener(t,function(n){e[f+t](n)},!1)}function y(e){return void 0===e&&(e={}),(e.clipFunc||e.clipWidth||e.clipHeight)&&a.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}t.stages=[];var m=function(e){function n(n){var r=e.call(this,y(n))||this;return r._buildDOM(),r._bindContentEvents(),t.stages.push(r),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",function(){y(r.attrs)}),r._checkVisibility(),r}return o(n,e),n.prototype._validateAdd=function(e){var t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||a.Util["throw"]("You may only add layers to the stage.")},n.prototype._checkVisibility=function(){var e=this.visible()?"":"none";this.content.style.display=e},n.prototype.setContainer=function(e){if("string"==typeof e){if("."===e.charAt(0)){var t=e.slice(1);e=document.getElementsByClassName(t)[0]}else{var n;n="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(n)}if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this},n.prototype.shouldDrawHit=function(){return!0},n.prototype.clear=function(){var e,t=this.children,n=t.length;for(e=0;e<n;e++)t[e].clear();return this},n.prototype.clone=function(e){return e||(e={}),e.container=document.createElement("div"),s.Container.prototype.clone.call(this,e)},n.prototype.destroy=function(){e.prototype.destroy.call(this);var n=this.content;n&&a.Util._isInDocument(n)&&this.container().removeChild(n);var r=t.stages.indexOf(this);return r>-1&&t.stages.splice(r,1),this},n.prototype.getPointerPosition=function(){return this.pointerPos||a.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),this.pointerPos},n.prototype.getStage=function(){return this},n.prototype.getContent=function(){return this.content},n.prototype._toKonvaCanvas=function(e){var t=(e=e||{}).x||0,n=e.y||0,r=new u.SceneCanvas({width:e.width||this.width(),height:e.height||this.height(),pixelRatio:e.pixelRatio||1}),o=r.getContext()._context,a=this.children;return(t||n)&&o.translate(-1*t,-1*n),a.each(function(r){if(r.isVisible()){var a=r._toKonvaCanvas(e);o.drawImage(a._canvas,t,n,a.getWidth()/a.getPixelRatio(),a.getHeight()/a.getPixelRatio())}}),r},n.prototype.getIntersection=function(e,t){var n,r,o=this.children;for(n=o.length-1;n>=0;n--)if(r=o[n].getIntersection(e,t))return r;return null},n.prototype._resizeDOM=function(){if(this.content){var e,t,n=this.width(),r=this.height(),o=this.getChildren(),a=o.length;for(this.content.style.width=n+"px",this.content.style.height=r+"px",this.bufferCanvas.setSize(n,r),this.bufferHitCanvas.setSize(n,r),e=0;e<a;e++)(t=o[e]).setSize({width:n,height:r}),t.draw()}},n.prototype.add=function(t){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}e.prototype.add.call(this,t);var r=this.children.length;return r>5&&a.Util.warn("The stage has "+r+" layers. Recommended maximin number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t._setCanvasSize(this.width(),this.height()),t.draw(),l.Konva.isBrowser&&this.content.appendChild(t.canvas._canvas),this},n.prototype.getParent=function(){return null},n.prototype.getLayer=function(){return null},n.prototype.getLayers=function(){return this.getChildren()},n.prototype._bindContentEvents=function(){if(l.Konva.isBrowser)for(var e=0;e<h;e++)g(this,p[e])},n.prototype._mouseover=function(e){this.setPointersPositions(e),this._fire("contentMouseover",{evt:e}),this._fire("mouseover",{evt:e,target:this,currentTarget:this})},n.prototype._mouseout=function(e){this.setPointersPositions(e);var t=this.targetShape;t&&!c.DD.isDragging&&(t._fireAndBubble("mouseout",{evt:e}),t._fireAndBubble("mouseleave",{evt:e}),this.targetShape=null),this.pointerPos=undefined,this._fire("contentMouseout",{evt:e})},n.prototype._mousemove=function(e){if(l.Konva.UA.ieMobile)return this._touchmove(e);var t;if(this.setPointersPositions(e),!c.DD.isDragging){if((t=this.getIntersection(this.getPointerPosition()))&&t.isListening()){var n=!this.targetShape||this.targetShape!==t;!c.DD.isDragging&&n?(this.targetShape&&(this.targetShape._fireAndBubble("mouseout",{evt:e},t),this.targetShape._fireAndBubble("mouseleave",{evt:e},t)),t._fireAndBubble("mouseover",{evt:e},this.targetShape),t._fireAndBubble("mouseenter",{evt:e},this.targetShape),this.targetShape=t):t._fireAndBubble("mousemove",{evt:e})}else this.targetShape&&!c.DD.isDragging&&(this.targetShape._fireAndBubble("mouseout",{evt:e}),this.targetShape._fireAndBubble("mouseleave",{evt:e}),this._fire("mouseover",{evt:e,target:this,currentTarget:this}),this.targetShape=null),this._fire("mousemove",{evt:e,target:this,currentTarget:this});this._fire("contentMousemove",{evt:e})}e.cancelable&&e.preventDefault()},n.prototype._mousedown=function(e){if(l.Konva.UA.ieMobile)return this._touchstart(e);this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());l.Konva.listenClickTap=!0,t&&t.isListening()?(this.clickStartShape=t,t._fireAndBubble("mousedown",{evt:e})):this._fire("mousedown",{evt:e,target:this,currentTarget:this}),this._fire("contentMousedown",{evt:e})},n.prototype._mouseup=function(e){if(l.Konva.UA.ieMobile)return this._touchend(e);this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,r=this.clickEndShape,o=!1;l.Konva.inDblClickWindow?(o=!0,clearTimeout(this.dblTimeout)):c.DD.justDragged?c.DD&&(c.DD.justDragged=!1):(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout(function(){l.Konva.inDblClickWindow=!1},l.Konva.dblClickWindow),t&&t.isListening()?(this.clickEndShape=t,t._fireAndBubble("mouseup",{evt:e}),l.Konva.listenClickTap&&n&&n._id===t._id&&(t._fireAndBubble("click",{evt:e}),o&&r&&r._id===t._id&&t._fireAndBubble("dblclick",{evt:e}))):(this._fire("mouseup",{evt:e,target:this,currentTarget:this}),l.Konva.listenClickTap&&this._fire("click",{evt:e,target:this,currentTarget:this}),o&&this._fire("dblclick",{evt:e,target:this,currentTarget:this})),this._fire("contentMouseup",{evt:e}),l.Konva.listenClickTap&&(this._fire("contentClick",{evt:e}),o&&this._fire("contentDblclick",{evt:e})),l.Konva.listenClickTap=!1,e.cancelable&&e.preventDefault()},n.prototype._contextmenu=function(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble("contextmenu",{evt:e}):this._fire("contextmenu",{evt:e,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:e})},n.prototype._touchstart=function(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());l.Konva.listenClickTap=!0,t&&t.isListening()?(this.tapStartShape=t,t._fireAndBubble("touchstart",{evt:e}),t.isListening()&&t.preventDefault()&&e.cancelable&&e.preventDefault()):this._fire("touchstart",{evt:e,target:this,currentTarget:this}),this._fire("contentTouchstart",{evt:e})},n.prototype._touchend=function(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition()),n=!1;l.Konva.inDblClickWindow?(n=!0,clearTimeout(this.dblTimeout)):(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout(function(){l.Konva.inDblClickWindow=!1},l.Konva.dblClickWindow),t&&t.isListening()?(t._fireAndBubble("touchend",{evt:e}),l.Konva.listenClickTap&&this.tapStartShape&&t._id===this.tapStartShape._id&&(t._fireAndBubble("tap",{evt:e}),n&&t._fireAndBubble("dbltap",{evt:e})),t.isListening()&&t.preventDefault()&&e.cancelable&&e.preventDefault()):(this._fire("touchend",{evt:e,target:this,currentTarget:this}),l.Konva.listenClickTap&&this._fire("tap",{evt:e,target:this,currentTarget:this}),n&&this._fire("dbltap",{evt:e,target:this,currentTarget:this})),this._fire("contentTouchend",{evt:e}),l.Konva.listenClickTap&&(this._fire("contentTap",{evt:e}),n&&this._fire("contentDbltap",{evt:e})),l.Konva.listenClickTap=!1},n.prototype._touchmove=function(e){var t;this.setPointersPositions(e),c.DD.isDragging||((t=this.getIntersection(this.getPointerPosition()))&&t.isListening()?(t._fireAndBubble("touchmove",{evt:e}),t.isListening()&&t.preventDefault()&&e.cancelable&&e.preventDefault()):this._fire("touchmove",{evt:e,target:this,currentTarget:this}),this._fire("contentTouchmove",{evt:e})),c.DD.isDragging&&c.DD.node.preventDefault()&&e.cancelable&&e.preventDefault()},n.prototype._wheel=function(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble("wheel",{evt:e}):this._fire("wheel",{evt:e,target:this,currentTarget:this}),this._fire("contentWheel",{evt:e})},n.prototype.setPointersPositions=function(e){var t=this._getContentPosition(),n=null,r=null;if((e=e||window.event).touches!==undefined){if(e.touches.length>0){var o=e.touches[0];n=o.clientX-t.left,r=o.clientY-t.top}}else n=e.clientX-t.left,r=e.clientY-t.top;null!==n&&null!==r&&(this.pointerPos={x:n,y:r})},n.prototype._setPointerPosition=function(e){a.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)},n.prototype._getContentPosition=function(){var e=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:e.top,left:e.left}},n.prototype._buildDOM=function(){if(this.bufferCanvas=new u.SceneCanvas,this.bufferHitCanvas=new u.HitCanvas({pixelRatio:1}),l.Konva.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}},n.prototype.cache=function(){return a.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},n.prototype.clearCache=function(){return this},n.prototype.batchDraw=function(){return this.children.each(function(e){e.batchDraw()}),this},n}(s.Container);t.Stage=m,m.prototype.nodeType="Stage",d._registerNode(m),i.Factory.addGetterSetter(m,"container")},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(200),s=n(18),l=n(405),u=n(226),c=n(50),d=n(20),f=n(21),p=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],h=p.length,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hitCanvas=new u.HitCanvas({pixelRatio:1}),t}return o(t,e),t.prototype._setCanvasSize=function(e,t){this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t)},t.prototype._validateAdd=function(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&a.Util["throw"]("You may only add groups and shapes to a layer.")},t.prototype.getIntersection=function(e,t){var n,r,o,a;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var i=1,s=!1;;){for(r=0;r<h;r++){if(o=p[r],(a=(n=this._getIntersection({x:e.x+o.x*i,y:e.y+o.y*i})).shape)&&t)return a.findAncestor(t,!0);if(a)return a;if(s=!!n.antialiased,!n.antialiased)break}if(!s)return null;i+=1}},t.prototype._getIntersection=function(e){var t,n,r=this.hitCanvas.pixelRatio,o=this.hitCanvas.context.getImageData(Math.round(e.x*r),Math.round(e.y*r),1,1).data,i=o[3];return 255===i?(t=a.Util._rgbToHex(o[0],o[1],o[2]),(n=c.shapes["#"+t])?{shape:n}:{antialiased:!0}):i>0?{antialiased:!0}:{}},t.prototype.drawScene=function(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),i.Container.prototype.drawScene.call(this,r,t),this._fire("draw",{node:this}),this},t.prototype.drawHit=function(e,t){var n=this.getLayer(),r=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),i.Container.prototype.drawHit.call(this,r,t),this},t.prototype.clear=function(e){return l.BaseLayer.prototype.clear.call(this,e),this.getHitCanvas().getContext().clear(e),this},t.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},t.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},t.prototype.toggleHitCanvas=function(){if(this.parent){var e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}},t.prototype.setSize=function(t){var n=t.width,r=t.height;return e.prototype.setSize.call(this,{width:n,height:r}),this.hitCanvas.setSize(n,r),this},t}(l.BaseLayer);t.Layer=g,g.prototype.nodeType="Layer",f._registerNode(g),s.Factory.addGetterSetter(g,"hitGraphEnabled",!0,d.getBooleanValidator()),a.Collection.mapMethods(g)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(200),s=n(405),l=n(21),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._validateAdd=function(e){"Shape"!==e.getType()&&a.Util["throw"]("You may only add shapes to a fast layer.")},t.prototype._setCanvasSize=function(e,t){this.canvas.setSize(e,t)},t.prototype.hitGraphEnabled=function(){return!1},t.prototype.drawScene=function(e){var t=this.getLayer(),n=e||t&&t.getCanvas();return this.clearBeforeDraw()&&n.getContext().clear(),i.Container.prototype.drawScene.call(this,n),this},t.prototype.draw=function(){return this.drawScene(),this},t}(s.BaseLayer);t.FastLayer=u,u.prototype.nodeType="FastLayer",l._registerNode(u),a.Collection.mapMethods(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),o=n(259),a=n(43),i=n(21),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=0,u=["fill","stroke","shadowColor"],c=function(){function e(e,t,n,r,o,a,i){this.prop=e,this.propFunc=t,this.begin=r,this._pos=r,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=i,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=o-this.begin,this.pause()}return e.prototype.fire=function(e){var t=this[e];t&&t()},e.prototype.setTime=function(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())},e.prototype.getTime=function(){return this._time},e.prototype.setPosition=function(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e},e.prototype.getPosition=function(e){return e===undefined&&(e=this._time),this.func(e,this.begin,this._change,this.duration)},e.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},e.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},e.prototype.seek=function(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")},e.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},e.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},e.prototype.update=function(){this.setPosition(this.getPosition(this._time))},e.prototype.onEnterFrame=function(){var e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)},e.prototype.pause=function(){this.state=1,this.fire("onPause")},e.prototype.getTimer=function(){return(new Date).getTime()},e}(),d=function(){function e(n){var a,u,d=this,f=n.node,p=f._id,h=n.easing||t.Easings.Linear,g=!!n.yoyo;a="undefined"==typeof n.duration?.3:0===n.duration?.001:n.duration,this.node=f,this._id=l++;var y=f.getLayer()||(f instanceof i.Konva.Stage?f.getLayers():null);for(u in y||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new o.Animation(function(){d.tween.onEnterFrame()},y),this.tween=new c(u,function(e){d._tweenFunc(e)},h,0,1,1e3*a,g),this._addListeners(),e.attrs[p]||(e.attrs[p]={}),e.attrs[p][this._id]||(e.attrs[p][this._id]={}),e.tweens[p]||(e.tweens[p]={}),n)s[u]===undefined&&this._addAttr(u,n[u]);this.reset(),this.onFinish=n.onFinish,this.onReset=n.onReset}return e.prototype._addAttr=function(t,n){var o,a,i,s,l,c,d,f,p=this.node,h=p._id;if((i=e.tweens[h][t])&&delete e.attrs[h][i][t],o=p.getAttr(t),r.Util._isArray(n))if(a=[],l=Math.max(n.length,o.length),"points"===t&&n.length!==o.length&&(n.length>o.length?(d=o,o=r.Util._prepareArrayForTween(o,n,p.closed())):(c=n,n=r.Util._prepareArrayForTween(n,o,p.closed()))),0===t.indexOf("fill"))for(s=0;s<l;s++)if(s%2==0)a.push(n[s]-o[s]);else{var g=r.Util.colorToRGBA(o[s]);f=r.Util.colorToRGBA(n[s]),o[s]=g,a.push({r:f.r-g.r,g:f.g-g.g,b:f.b-g.b,a:f.a-g.a})}else for(s=0;s<l;s++)a.push(n[s]-o[s]);else-1!==u.indexOf(t)?(o=r.Util.colorToRGBA(o),a={r:(f=r.Util.colorToRGBA(n)).r-o.r,g:f.g-o.g,b:f.b-o.b,a:f.a-o.a}):a=n-o;e.attrs[h][this._id][t]={start:o,diff:a,end:n,trueEnd:c,trueStart:d},e.tweens[h][t]=this._id},e.prototype._tweenFunc=function(t){var n,o,a,i,s,l,c,d,f=this.node,p=e.attrs[f._id][this._id];for(n in p){if(a=(o=p[n]).start,i=o.diff,d=o.end,r.Util._isArray(a))if(s=[],c=Math.max(a.length,d.length),0===n.indexOf("fill"))for(l=0;l<c;l++)l%2==0?s.push((a[l]||0)+i[l]*t):s.push("rgba("+Math.round(a[l].r+i[l].r*t)+","+Math.round(a[l].g+i[l].g*t)+","+Math.round(a[l].b+i[l].b*t)+","+(a[l].a+i[l].a*t)+")");else for(l=0;l<c;l++)s.push((a[l]||0)+i[l]*t);else s=-1!==u.indexOf(n)?"rgba("+Math.round(a.r+i.r*t)+","+Math.round(a.g+i.g*t)+","+Math.round(a.b+i.b*t)+","+(a.a+i.a*t)+")":a+i*t;f.setAttr(n,s)}},e.prototype._addListeners=function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){var n=t.node,r=e.attrs[n._id][t._id];r.points&&r.points.trueEnd&&n.setAttr("points",r.points.trueEnd),t.onFinish&&t.onFinish.call(t)},this.tween.onReset=function(){var n=t.node,r=e.attrs[n._id][t._id];r.points&&r.points.trueStart&&n.points(r.points.trueStart),t.onReset&&t.onReset()}},e.prototype.play=function(){return this.tween.play(),this},e.prototype.reverse=function(){return this.tween.reverse(),this},e.prototype.reset=function(){return this.tween.reset(),this},e.prototype.seek=function(e){return this.tween.seek(1e3*e),this},e.prototype.pause=function(){return this.tween.pause(),this},e.prototype.finish=function(){return this.tween.finish(),this},e.prototype.destroy=function(){var t,n=this.node._id,r=this._id,o=e.tweens[n];for(t in this.pause(),o)delete e.tweens[n][t];delete e.attrs[n][r]},e.attrs={},e.tweens={},e}();t.Tween=d,a.Node.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new d(e).play()},t.Easings={BackEaseIn:function(e,t,n,r){var o=1.70158;return n*(e/=r)*e*((o+1)*e-o)+t},BackEaseOut:function(e,t,n,r){var o=1.70158;return n*((e=e/r-1)*e*((o+1)*e+o)+1)+t},BackEaseInOut:function(e,t,n,r){var o=1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(o*=1.525))*e-o))+t:n/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+t},ElasticEaseIn:function(e,t,n,r,o,a){var i=0;return 0===e?t:1==(e/=r)?t+n:(a||(a=.3*r),!o||o<Math.abs(n)?(o=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/o),-o*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a)+t)},ElasticEaseOut:function(e,t,n,r,o,a){var i=0;return 0===e?t:1==(e/=r)?t+n:(a||(a=.3*r),!o||o<Math.abs(n)?(o=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin((e*r-i)*(2*Math.PI)/a)+n+t)},ElasticEaseInOut:function(e,t,n,r,o,a){var i=0;return 0===e?t:2==(e/=r/2)?t+n:(a||(a=r*(.3*1.5)),!o||o<Math.abs(n)?(o=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/o),e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a)*.5+n+t)},BounceEaseOut:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},BounceEaseIn:function(e,n,r,o){return r-t.Easings.BounceEaseOut(o-e,0,r,o)+n},BounceEaseInOut:function(e,n,r,o){return e<o/2?.5*t.Easings.BounceEaseIn(2*e,0,r,o)+n:.5*t.Easings.BounceEaseOut(2*e-o,0,r,o)+.5*r+n},EaseIn:function(e,t,n,r){return n*(e/=r)*e+t},EaseOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},EaseInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},StrongEaseIn:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},StrongEaseOut:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},StrongEaseInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},Linear:function(e,t,n,r){return n*e/r+t}}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(21),u=n(20),c=n(21),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._sceneFunc=function(e){var t=l.Konva.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,n),e.arc(0,0,this.innerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)},t.prototype.getWidth=function(){return 2*this.outerRadius()},t.prototype.getHeight=function(){return 2*this.outerRadius()},t.prototype.setWidth=function(e){this.outerRadius(e/2)},t.prototype.setHeight=function(e){this.outerRadius(e/2)},t}(s.Shape);t.Arc=d,d.prototype._centroid=!0,d.prototype.className="Arc",d.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(d),i.Factory.addGetterSetter(d,"innerRadius",0,u.getNumberValidator()),i.Factory.addGetterSetter(d,"outerRadius",0,u.getNumberValidator()),i.Factory.addGetterSetter(d,"angle",0,u.getNumberValidator()),i.Factory.addGetterSetter(d,"clockwise",!1,u.getBooleanValidator()),a.Collection.mapMethods(d)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(406),l=n(20),u=n(21),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._sceneFunc=function(t){e.prototype._sceneFunc.call(this,t);var n=2*Math.PI,r=this.points(),o=r,a=0!==this.tension()&&r.length>4;a&&(o=this.getTensionPoints());var i,s,l=r.length;a?(i=r[l-2]-o[l-2],s=r[l-1]-o[l-1]):(i=r[l-2]-r[l-4],s=r[l-1]-r[l-3]);var u=(Math.atan2(s,i)+n)%n,c=this.pointerLength(),d=this.pointerWidth();t.save(),t.beginPath(),t.translate(r[l-2],r[l-1]),t.rotate(u),t.moveTo(0,0),t.lineTo(-c,d/2),t.lineTo(-c,-d/2),t.closePath(),t.restore(),this.pointerAtBeginning()&&(t.save(),t.translate(r[0],r[1]),a?(i=o[0]-r[0],s=o[1]-r[1]):(i=r[2]-r[0],s=r[3]-r[1]),t.rotate((Math.atan2(-s,-i)+n)%n),t.moveTo(0,0),t.lineTo(-c,d/2),t.lineTo(-c,-d/2),t.closePath(),t.restore());var f=this.dashEnabled();f&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),f&&(this.attrs.dashEnabled=!0)},t}(s.Line);t.Arrow=c,c.prototype.className="Arrow",u._registerNode(c),i.Factory.addGetterSetter(c,"pointerLength",10,l.getNumberValidator()),i.Factory.addGetterSetter(c,"pointerWidth",10,l.getNumberValidator()),i.Factory.addGetterSetter(c,"pointerAtBeginning",!1),a.Collection.mapMethods(c)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(20),u=n(21),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._sceneFunc=function(e){e.beginPath(),e.arc(0,0,this.radius(),0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)},t.prototype.getWidth=function(){return 2*this.radius()},t.prototype.getHeight=function(){return 2*this.radius()},t.prototype.setWidth=function(e){this.radius()!==e/2&&this.radius(e/2)},t.prototype.setHeight=function(e){this.radius()!==e/2&&this.radius(e/2)},t}(s.Shape);t.Circle=c,c.prototype._centroid=!0,c.prototype.className="Circle",c.prototype._attrsAffectingSize=["radius"],u._registerNode(c),i.Factory.addGetterSetter(c,"radius",0,l.getNumberValidator()),a.Collection.mapMethods(c)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(20),u=n(21),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._sceneFunc=function(e){var t=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),t!==n&&e.scale(1,n/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)},t.prototype.getWidth=function(){return 2*this.radiusX()},t.prototype.getHeight=function(){return 2*this.radiusY()},t.prototype.setWidth=function(e){this.radiusX(e/2)},t.prototype.setHeight=function(e){this.radiusY(e/2)},t}(s.Shape);t.Ellipse=c,c.prototype.className="Ellipse",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radiusX","radiusY"],u._registerNode(c),i.Factory.addComponentsGetterSetter(c,"radius",["x","y"]),i.Factory.addGetterSetter(c,"radiusX",0,l.getNumberValidator()),i.Factory.addGetterSetter(c,"radiusY",0,l.getNumberValidator()),a.Collection.mapMethods(c)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(20),u=n(21),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._useBufferCanvas=function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()&&this.getStage()},t.prototype._sceneFunc=function(e){var t,n,r,o=this.width(),a=this.height(),i=this.image();i&&(t=this.cropWidth(),n=this.cropHeight(),r=t&&n?[i,this.cropX(),this.cropY(),t,n,0,0,o,a]:[i,0,0,o,a]),(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,o,a),e.closePath(),e.fillStrokeShape(this)),i&&e.drawImage.apply(e,r)},t.prototype._hitFunc=function(e){var t=this.width(),n=this.height();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)},t.prototype.getWidth=function(){var e=this.image();return this.attrs.width||(e?e.width:0)},t.prototype.getHeight=function(){var e=this.image();return this.attrs.height||(e?e.height:0)},t.fromURL=function(e,n){var r=a.Util.createImageElement();r.onload=function(){var e=new t({image:r});n(e)},r.crossOrigin="Anonymous",r.src=e},t}(s.Shape);t.Image=c,c.prototype.className="Image",u._registerNode(c),i.Factory.addGetterSetter(c,"image"),i.Factory.addComponentsGetterSetter(c,"crop",["x","y","width","height"]),i.Factory.addGetterSetter(c,"cropX",0,l.getNumberValidator()),i.Factory.addGetterSetter(c,"cropY",0,l.getNumberValidator()),i.Factory.addGetterSetter(c,"cropWidth",0,l.getNumberValidator()),i.Factory.addGetterSetter(c,"cropHeight",0,l.getNumberValidator()),a.Collection.mapMethods(c)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(304),u=n(20),c=n(21),d=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],f=d.length,p=function(e){function t(t){var n=e.call(this,t)||this;return n.on("add.konva",function(e){this._addListeners(e.child),this._sync()}),n}return o(t,e),t.prototype.getText=function(){return this.find("Text")[0]},t.prototype.getTag=function(){return this.find("Tag")[0]},t.prototype._addListeners=function(e){var t,n=this,r=function(){n._sync()};for(t=0;t<f;t++)e.on(d[t]+"Change.konva",r)},t.prototype.getWidth=function(){return this.getText().width()},t.prototype.getHeight=function(){return this.getText().height()},t.prototype._sync=function(){var e,t,n,r,o,a,i,s=this.getText(),l=this.getTag();if(s&&l){switch(e=s.width(),t=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),i=l.pointerHeight(),o=0,a=0,n){case"up":o=e/2,a=-1*i;break;case"right":o=e+r,a=t/2;break;case"down":o=e/2,a=t+i;break;case"left":o=-1*r,a=t/2}l.setAttrs({x:-1*o,y:-1*a,width:e,height:t}),s.setAttrs({x:-1*o,y:-1*a})}},t}(l.Group);t.Label=p,p.prototype.className="Label",c._registerNode(p),a.Collection.mapMethods(p);var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._sceneFunc=function(e){var t=this.width(),n=this.height(),r=this.pointerDirection(),o=this.pointerWidth(),a=this.pointerHeight(),i=Math.min(this.cornerRadius(),t/2,n/2);e.beginPath(),i?e.moveTo(i,0):e.moveTo(0,0),"up"===r&&(e.lineTo((t-o)/2,0),e.lineTo(t/2,-1*a),e.lineTo((t+o)/2,0)),i?(e.lineTo(t-i,0),e.arc(t-i,i,i,3*Math.PI/2,0,!1)):e.lineTo(t,0),"right"===r&&(e.lineTo(t,(n-a)/2),e.lineTo(t+o,n/2),e.lineTo(t,(n+a)/2)),i?(e.lineTo(t,n-i),e.arc(t-i,n-i,i,0,Math.PI/2,!1)):e.lineTo(t,n),"down"===r&&(e.lineTo((t+o)/2,n),e.lineTo(t/2,n+a),e.lineTo((t-o)/2,n)),i?(e.lineTo(i,n),e.arc(i,n-i,i,Math.PI/2,Math.PI,!1)):e.lineTo(0,n),"left"===r&&(e.lineTo(0,(n+a)/2),e.lineTo(-1*o,n/2),e.lineTo(0,(n-a)/2)),i&&(e.lineTo(0,i),e.arc(i,i,i,Math.PI,3*Math.PI/2,!1)),e.closePath(),e.fillStrokeShape(this)},t.prototype.getSelfRect=function(){var e=0,t=0,n=this.pointerWidth(),r=this.pointerHeight(),o=this.pointerDirection(),a=this.width(),i=this.height();return"up"===o?(t-=r,i+=r):"down"===o?i+=r:"left"===o?(e-=1.5*n,a+=n):"right"===o&&(a+=1.5*n),{x:e,y:t,width:a,height:i}},t}(s.Shape);t.Tag=h,h.prototype.className="Tag",c._registerNode(h),i.Factory.addGetterSetter(h,"pointerDirection","none"),i.Factory.addGetterSetter(h,"pointerWidth",0,u.getNumberValidator()),i.Factory.addGetterSetter(h,"pointerHeight",0,u.getNumberValidator()),i.Factory.addGetterSetter(h,"cornerRadius",0,u.getNumberValidator()),a.Collection.mapMethods(h)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(20),u=n(21),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._sceneFunc=function(e){var t,n,r,o=this.sides(),a=this.radius();for(e.beginPath(),e.moveTo(0,0-a),t=1;t<o;t++)n=a*Math.sin(2*t*Math.PI/o),r=-1*a*Math.cos(2*t*Math.PI/o),e.lineTo(n,r);e.closePath(),e.fillStrokeShape(this)},t.prototype.getWidth=function(){return 2*this.radius()},t.prototype.getHeight=function(){return 2*this.radius()},t.prototype.setWidth=function(e){this.radius(e/2)},t.prototype.setHeight=function(e){this.radius(e/2)},t}(s.Shape);t.RegularPolygon=c,c.prototype.className="RegularPolygon",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radius"],u._registerNode(c),i.Factory.addGetterSetter(c,"radius",0,l.getNumberValidator()),i.Factory.addGetterSetter(c,"sides",0,l.getNumberValidator()),a.Collection.mapMethods(c)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(20),u=n(21),c=2*Math.PI,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._sceneFunc=function(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,c,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),c,0,!0),e.closePath(),e.fillStrokeShape(this)},t.prototype.getWidth=function(){return 2*this.outerRadius()},t.prototype.getHeight=function(){return 2*this.outerRadius()},t.prototype.setWidth=function(e){this.outerRadius(e/2)},t.prototype.setHeight=function(e){this.outerRadius(e/2)},t}(s.Shape);t.Ring=d,d.prototype.className="Ring",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["innerRadius","outerRadius"],u._registerNode(d),i.Factory.addGetterSetter(d,"innerRadius",0,l.getNumberValidator()),i.Factory.addGetterSetter(d,"outerRadius",0,l.getNumberValidator()),a.Collection.mapMethods(d)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(259),u=n(20),c=n(21),d=function(e){function t(t){var n=e.call(this,t)||this;return n._updated=!0,n.anim=new l.Animation(function(){var e=n._updated;return n._updated=!1,e}),n.on("animationChange.konva",function(){this.frameIndex(0)}),n.on("frameIndexChange.konva",function(){this._updated=!0}),n.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),n}return o(t,e),t.prototype._sceneFunc=function(e){var t=this.animation(),n=this.frameIndex(),r=4*n,o=this.animations()[t],a=this.frameOffsets(),i=o[r+0],s=o[r+1],l=o[r+2],u=o[r+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,u),e.closePath(),e.fillStrokeShape(this)),c)if(a){var d=a[t],f=2*n;e.drawImage(c,i,s,l,u,d[f+0],d[f+1],l,u)}else e.drawImage(c,i,s,l,u,0,0,l,u)},t.prototype._hitFunc=function(e){var t=this.animation(),n=this.frameIndex(),r=4*n,o=this.animations()[t],a=this.frameOffsets(),i=o[r+2],s=o[r+3];if(e.beginPath(),a){var l=a[t],u=2*n;e.rect(l[u+0],l[u+1],i,s)}else e.rect(0,0,i,s);e.closePath(),e.fillShape(this)},t.prototype._useBufferCanvas=function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},t.prototype._setInterval=function(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())},t.prototype.start=function(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}},t.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},t.prototype.isRunning=function(){return this.anim.isRunning()},t.prototype._updateIndex=function(){var e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)},t}(s.Shape);t.Sprite=d,d.prototype.className="Sprite",c._registerNode(d),i.Factory.addGetterSetter(d,"animation"),i.Factory.addGetterSetter(d,"animations"),i.Factory.addGetterSetter(d,"frameOffsets"),i.Factory.addGetterSetter(d,"image"),i.Factory.addGetterSetter(d,"frameIndex",0,u.getNumberValidator()),i.Factory.addGetterSetter(d,"frameRate",17,u.getNumberValidator()),i.Factory.backCompat(d,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),a.Collection.mapMethods(d)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(20),u=n(21),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._sceneFunc=function(e){var t=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var o=1;o<2*r;o++){var a=o%2==0?n:t,i=a*Math.sin(o*Math.PI/r),s=-1*a*Math.cos(o*Math.PI/r);e.lineTo(i,s)}e.closePath(),e.fillStrokeShape(this)},t.prototype.getWidth=function(){return 2*this.outerRadius()},t.prototype.getHeight=function(){return 2*this.outerRadius()},t.prototype.setWidth=function(e){this.outerRadius(e/2)},t.prototype.setHeight=function(e){this.outerRadius(e/2)},t}(s.Shape);t.Star=c,c.prototype.className="Star",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["innerRadius","outerRadius"],u._registerNode(c),i.Factory.addGetterSetter(c,"numPoints",5,l.getNumberValidator()),i.Factory.addGetterSetter(c,"innerRadius",0,l.getNumberValidator()),i.Factory.addGetterSetter(c,"outerRadius",0,l.getNumberValidator()),a.Collection.mapMethods(c)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(407),u=n(409),c=n(20),d=n(21);function f(e){e.fillText(this.partialText,0,0)}function p(e){e.strokeText(this.partialText,0,0)}var h=function(e){function t(t){var n=e.call(this,t)||this;return n.dummyCanvas=a.Util.createCanvasElement(),n.dataArray=[],n.dataArray=l.Path.parsePathData(n.attrs.data),n.on("dataChange.konva",function(){this.dataArray=l.Path.parsePathData(this.attrs.data),this._setTextData()}),n.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",n._setTextData),t&&t.getKerning&&(a.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),n.kerningFunc(t.getKerning)),n._setTextData(),n}return o(t,e),t.prototype._sceneFunc=function(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),n=this.fill(),r=this.fontSize(),o=this.glyphInfo;"underline"===t&&e.beginPath();for(var a=0;a<o.length;a++){e.save();var i=o[a].p0;e.translate(i.x,i.y),e.rotate(o[a].rotation),this.partialText=o[a].text,e.fillStrokeShape(this),"underline"===t&&(0===a&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=n,e.lineWidth=r/20,e.stroke()),e.restore()},t.prototype._hitFunc=function(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var n=t[0].p0;e.moveTo(n.x,n.y)}for(var r=0;r<t.length;r++){var o=t[r].p1;e.lineTo(o.x,o.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()},t.prototype.getTextWidth=function(){return this.textWidth},t.prototype.getTextHeight=function(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},t.prototype.setText=function(e){return u.Text.prototype.setText.call(this,e)},t.prototype._getContextFont=function(){return u.Text.prototype._getContextFont.call(this)},t.prototype._getTextSize=function(e){var t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();var n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},t.prototype._setTextData=function(){var e=this,t=this._getTextSize(this.attrs.text),n=this.letterSpacing(),r=this.align(),o=this.kerningFunc();this.textWidth=t.width,this.textHeight=t.height;var a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var i=0,s=0;s<e.dataArray.length;s++)e.dataArray[s].pathLength>0&&(i+=e.dataArray[s].pathLength);var u=0;"center"===r&&(u=Math.max(0,i/2-a/2)),"right"===r&&(u=Math.max(0,i-a));for(var c,d,f,p=this.text().split(""),h=this.text().split(" ").length-1,g=-1,y=0,m=function(){y=0;for(var t=e.dataArray,n=g+1;n<t.length;n++){if(t[n].pathLength>0)return g=n,t[n];"M"===t[n].command&&(c={x:t[n].points[0],y:t[n].points[1]})}return{}},_=function(t){var o=e._getTextSize(t).width+n;" "===t&&"justify"===r&&(o+=(i-a)/h);var s=0,u=0;for(d=undefined;Math.abs(o-s)/o>.01&&u<25;){u++;for(var p=s;f===undefined;)(f=m())&&p+f.pathLength<o&&(p+=f.pathLength,f=undefined);if(f==={}||c===undefined)return undefined;var g=!1;switch(f.command){case"L":l.Path.getLineLength(c.x,c.y,f.points[0],f.points[1])>o?d=l.Path.getPointOnLine(o,c.x,c.y,f.points[0],f.points[1],c.x,c.y):f=undefined;break;case"A":var _=f.points[4],v=f.points[5],b=f.points[4]+v;0===y?y=_+1e-8:o>s?y+=Math.PI/180*v/Math.abs(v):y-=Math.PI/360*v/Math.abs(v),(v<0&&y<b||v>=0&&y>b)&&(y=b,g=!0),d=l.Path.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],y,f.points[6]);break;case"C":0===y?y=o>f.pathLength?1e-8:o/f.pathLength:o>s?y+=(o-s)/f.pathLength:y-=(s-o)/f.pathLength,y>1&&(y=1,g=!0),d=l.Path.getPointOnCubicBezier(y,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);break;case"Q":0===y?y=o/f.pathLength:o>s?y+=(o-s)/f.pathLength:y-=(s-o)/f.pathLength,y>1&&(y=1,g=!0),d=l.Path.getPointOnQuadraticBezier(y,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3])}d!==undefined&&(s=l.Path.getLineLength(c.x,c.y,d.x,d.y)),g&&(g=!1,f=undefined)}},v=e._getTextSize("C").width+n,b=0;b<u/v&&(_("C"),c!==undefined&&d!==undefined);b++)c=d;for(var w=0;w<p.length&&(_(p[w]),c!==undefined&&d!==undefined);w++){var C=l.Path.getLineLength(c.x,c.y,d.x,d.y),x=0;if(o)try{x=o(p[w-1],p[w])*this.fontSize()}catch(k){x=0}c.x+=x,d.x+=x,this.textWidth+=x;var S=l.Path.getPointOnLine(x+C/2,c.x,c.y,d.x,d.y),P=Math.atan2(d.y-c.y,d.x-c.x);this.glyphInfo.push({transposeX:S.x,transposeY:S.y,text:p[w],rotation:P,p0:c,p1:d}),c=d}},t.prototype.getSelfRect=function(){var e=[];this.glyphInfo.forEach(function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)});for(var t,n,r=e[0],o=e[0],a=e[0],i=e[0],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),o=Math.max(o,t),a=Math.min(a,n),i=Math.max(i,n);var l=this.fontSize();return{x:Math.round(r)-l/2,y:Math.round(a)-l/2,width:Math.round(o-r)+l,height:Math.round(i-a)+l}},t}(s.Shape);t.TextPath=h,h.prototype._fillFunc=f,h.prototype._strokeFunc=p,h.prototype._fillFuncHit=f,h.prototype._strokeFuncHit=p,h.prototype.className="TextPath",h.prototype._attrsAffectingSize=["text","fontSize","data"],d._registerNode(h),i.Factory.addGetterSetter(h,"data"),i.Factory.addGetterSetter(h,"fontFamily","Arial"),i.Factory.addGetterSetter(h,"fontSize",12,c.getNumberValidator()),i.Factory.addGetterSetter(h,"fontStyle","normal"),i.Factory.addGetterSetter(h,"align","left"),i.Factory.addGetterSetter(h,"letterSpacing",0,c.getNumberValidator()),i.Factory.addGetterSetter(h,"textBaseline","middle"),i.Factory.addGetterSetter(h,"fontVariant","normal"),i.Factory.addGetterSetter(h,"text",""),i.Factory.addGetterSetter(h,"textDecoration",null),i.Factory.addGetterSetter(h,"kerningFunc",null),a.Collection.mapMethods(h)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(43),l=n(50),u=n(408),c=n(304),d=n(21),f=n(20),p=n(21),h=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].join(" "),g=["widthChange.tr","heightChange.tr","scaleXChange.tr","scaleYChange.tr","skewXChange.tr","skewYChange.tr","rotationChange.tr","offsetXChange.tr","offsetYChange.tr","transformsEnabledChange.tr","strokeWidthChange.tr"].join(" "),y={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};var m=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],_=function(e){function t(t){var n=e.call(this,t)||this;return n._transforming=!1,n._createElements(),n._handleMouseMove=n._handleMouseMove.bind(n),n._handleMouseUp=n._handleMouseUp.bind(n),n.update=n.update.bind(n),n.on(h,n.update),n.getNode()&&n.update(),n}return o(t,e),t.prototype.attachTo=function(e){return this.setNode(e),this},t.prototype.setNode=function(e){var t=this;this._node&&this.detach(),this._node=e,this._resetTransformCache();var n=e._attrsAffectingSize.map(function(e){return e+"Change.tr"}).join(" "),r=function(){t._resetTransformCache(),t._transforming||t.update()};return e.on(n,r),e.on(g,r),e.on("xChange.tr yChange.tr",function(){return t._resetTransformCache()}),!!this.findOne(".top-left")&&this.update(),this},t.prototype.getNode=function(){return this._node},t.prototype.detach=function(){this.getNode()&&(this.getNode().off(".tr"),this._node=undefined),this._resetTransformCache()},t.prototype._resetTransformCache=function(){this._clearCache("nodeRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},t.prototype._getNodeRect=function(){return this._getCache("nodeRect",this.__getNodeRect)},t.prototype.__getNodeRect=function(){var e=this.getNode();if(!e)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};var t=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),n=d.Konva.getAngle(e.rotation()),r=t.x*e.scaleX()-e.offsetX()*e.scaleX(),o=t.y*e.scaleY()-e.offsetY()*e.scaleY();return{x:e.x()+r*Math.cos(n)+o*Math.sin(-n),y:e.y()+o*Math.cos(n)+r*Math.sin(n),width:t.width*e.scaleX(),height:t.height*e.scaleY(),rotation:e.rotation()}},t.prototype.getX=function(){return this._getNodeRect().x},t.prototype.getY=function(){return this._getNodeRect().y},t.prototype.getRotation=function(){return this._getNodeRect().rotation},t.prototype.getWidth=function(){return this._getNodeRect().width},t.prototype.getHeight=function(){return this._getNodeRect().height},t.prototype._createElements=function(){this._createBack(),m.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")},t.prototype._createAnchor=function(e){var t=new u.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0}),n=this;t.on("mousedown touchstart",function(e){n._handleMouseDown(e)}),t.on("dragstart",function(e){e.cancelBubble=!0}),t.on("dragmove",function(e){e.cancelBubble=!0}),t.on("dragend",function(e){e.cancelBubble=!0}),t.on("mouseenter",function(){var n=this.getParent(),r=d.Konva.getAngle(n.rotation()),o=n.getNode().getAbsoluteScale(),i=o.y*o.x<0,s=function(e,t,n){if("rotater"===e)return"crosshair";t+=a.Util._degToRad(y[e]||0),n&&(t*=-1);var r=(a.Util._radToDeg(t)%360+360)%360;return a.Util._inRange(r,337.5,360)||a.Util._inRange(r,0,22.5)?"ns-resize":a.Util._inRange(r,22.5,67.5)?"nesw-resize":a.Util._inRange(r,67.5,112.5)?"ew-resize":a.Util._inRange(r,112.5,157.5)?"nwse-resize":a.Util._inRange(r,157.5,202.5)?"ns-resize":a.Util._inRange(r,202.5,247.5)?"nesw-resize":a.Util._inRange(r,247.5,292.5)?"ew-resize":a.Util._inRange(r,292.5,337.5)?"nwse-resize":(a.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}(e,r,i);t.getStage().content.style.cursor=s,n._cursorChange=!0}),t.on("mouseout",function(){t.getStage()&&this.getParent()&&(t.getStage().content.style.cursor="",this.getParent()._cursorChange=!1)}),this.add(t)},t.prototype._createBack=function(){var e=new l.Shape({name:"back",width:0,height:0,listening:!1,sceneFunc:function(e){var t=this.getParent(),n=t.padding();e.beginPath(),e.rect(-n,-n,this.width()+2*n,this.height()+2*n),e.moveTo(this.width()/2,-n),t.rotateEnabled()&&e.lineTo(this.width()/2,-t.rotateAnchorOffset()*a.Util._sign(this.height())),e.fillStrokeShape(this)}});this.add(e)},t.prototype._handleMouseDown=function(e){this.movingResizer=e.target.name().split(" ")[0];var t=this._getNodeRect(),n=t.width,r=t.height,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=r/o,this.cos=n/o,window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0,this._fire("transformstart",{evt:e}),this.getNode()._fire("transformstart",{evt:e})},t.prototype._handleMouseMove=function(e){var t,n,r,o=this.findOne("."+this.movingResizer),i=o.getStage().getContent().getBoundingClientRect(),s=i.left,l=i.top,u={x:(e.clientX!==undefined?e.clientX:e.touches[0].clientX)-s,y:(e.clientX!==undefined?e.clientY:e.touches[0].clientY)-l};o.setAbsolutePosition(u);var c=this.keepRatio()||e.shiftKey;if("top-left"===this.movingResizer)c&&(t=(r=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-o.x(),2)+Math.pow(this.findOne(".bottom-right").y()-o.y(),2)))*this.cos,n=r*this.sin,this.findOne(".top-left").x(this.findOne(".bottom-right").x()-t),this.findOne(".top-left").y(this.findOne(".bottom-right").y()-n));else if("top-center"===this.movingResizer)this.findOne(".top-left").y(o.y());else if("top-right"===this.movingResizer){c&&(t=(r=Math.sqrt(Math.pow(this.findOne(".bottom-left").x()-o.x(),2)+Math.pow(this.findOne(".bottom-left").y()-o.y(),2)))*this.cos,n=r*this.sin,this.findOne(".top-right").x(t),this.findOne(".top-right").y(this.findOne(".bottom-left").y()-n));var f=o.position();this.findOne(".top-left").y(f.y),this.findOne(".bottom-right").x(f.x)}else if("middle-left"===this.movingResizer)this.findOne(".top-left").x(o.x());else if("middle-right"===this.movingResizer)this.findOne(".bottom-right").x(o.x());else if("bottom-left"===this.movingResizer)c&&(t=(r=Math.sqrt(Math.pow(this.findOne(".top-right").x()-o.x(),2)+Math.pow(this.findOne(".top-right").y()-o.y(),2)))*this.cos,n=r*this.sin,this.findOne(".bottom-left").x(this.findOne(".top-right").x()-t),this.findOne(".bottom-left").y(n)),f=o.position(),this.findOne(".top-left").x(f.x),this.findOne(".bottom-right").y(f.y);else if("bottom-center"===this.movingResizer)this.findOne(".bottom-right").y(o.y());else if("bottom-right"===this.movingResizer)c&&(t=(r=Math.sqrt(Math.pow(this.findOne(".bottom-right").x(),2)+Math.pow(this.findOne(".bottom-right").y(),2)))*this.cos,n=r*this.sin,this.findOne(".bottom-right").x(t),this.findOne(".bottom-right").y(n));else if("rotater"===this.movingResizer){var p=this.padding(),h=this._getNodeRect();t=o.x()-h.width/2,n=-o.y()+h.height/2;var g=Math.atan2(-n,t)+Math.PI/2;h.height<0&&(g-=Math.PI);for(var y=d.Konva.getAngle(this.rotation()),m=a.Util._radToDeg(y)+a.Util._radToDeg(g),_=d.Konva.getAngle(this.getNode().rotation()),v=a.Util._degToRad(m),b=this.rotationSnaps(),w=0;w<b.length;w++){var C=d.Konva.getAngle(b[w]);Math.abs(C-a.Util._degToRad(m))%(2*Math.PI)<.1&&(m=a.Util._radToDeg(C),v=a.Util._degToRad(m))}var x=p,S=p;this._fitNodeInto({rotation:d.Konva.angleDeg?m:a.Util._degToRad(m),x:h.x+(h.width/2+p)*(Math.cos(_)-Math.cos(v))+(h.height/2+p)*(Math.sin(-_)-Math.sin(-v))-(x*Math.cos(y)+S*Math.sin(-y)),y:h.y+(h.height/2+p)*(Math.cos(_)-Math.cos(v))+(h.width/2+p)*(Math.sin(_)-Math.sin(v))-(S*Math.cos(y)+x*Math.sin(y)),width:h.width+2*p,height:h.height+2*p},e)}else console.error(new Error("Wrong position argument of selection resizer: "+this.movingResizer));if("rotater"!==this.movingResizer){var P=this.findOne(".top-left").getAbsolutePosition(this.getParent());if(this.centeredScaling()||e.altKey){var k=this.findOne(".top-left"),O=this.findOne(".bottom-right"),E=k.x(),T=k.y(),M=this.getWidth()-O.x(),D=this.getHeight()-O.y();O.move({x:-E,y:-T}),k.move({x:M,y:D}),P=k.getAbsolutePosition(this.getParent())}t=P.x,n=P.y;var A=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),j=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodeInto({x:t+this.offsetX(),y:n+this.offsetY(),width:A,height:j},e)}},t.prototype._handleMouseUp=function(e){this._removeEvents(e)},t.prototype._removeEvents=function(e){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0),this._fire("transformend",{evt:e});var t=this.getNode();t&&t.fire("transformend",{evt:e})}},t.prototype._fitNodeInto=function(e,t){var n=this.boundBoxFunc();if(n){var r=this._getNodeRect();e=n.call(this,r,e)}var o=this.getNode();e.rotation!==undefined&&this.getNode().rotation(e.rotation);var a=o.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=this.padding(),s=(e.width-2*i)/a.width,l=(e.height-2*i)/a.height,u=d.Konva.getAngle(o.rotation()),c=a.x*s-i-o.offsetX()*s,f=a.y*l-i-o.offsetY()*l;this.getNode().setAttrs({scaleX:s,scaleY:l,x:e.x-(c*Math.cos(u)+f*Math.sin(-u)),y:e.y-(f*Math.cos(u)+c*Math.sin(u))}),this._fire("transform",{evt:t}),this.getNode()._fire("transform",{evt:t}),this.update(),this.getLayer().batchDraw()},t.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},t.prototype.update=function(){var e=this,t=this._getNodeRect(),n=this.getNode(),r={x:1,y:1};n&&n.getParent()&&(r=n.getParent().getAbsoluteScale());var o={x:1/r.x,y:1/r.y},i=t.width,s=t.height,l=this.enabledAnchors(),u=this.resizeEnabled(),c=this.padding(),d=this.anchorSize();this.find("._anchor").each(function(t){return t.setAttrs({width:d,height:d,offsetX:d/2,offsetY:d/2,stroke:e.anchorStroke(),strokeWidth:e.anchorStrokeWidth(),fill:e.anchorFill(),cornerRadius:e.anchorCornerRadius()})}),this.findOne(".top-left").setAttrs({x:-c,y:-c,scale:o,visible:u&&l.indexOf("top-left")>=0}),this.findOne(".top-center").setAttrs({x:i/2,y:-c,scale:o,visible:u&&l.indexOf("top-center")>=0}),this.findOne(".top-right").setAttrs({x:i+c,y:-c,scale:o,visible:u&&l.indexOf("top-right")>=0}),this.findOne(".middle-left").setAttrs({x:-c,y:s/2,scale:o,visible:u&&l.indexOf("middle-left")>=0}),this.findOne(".middle-right").setAttrs({x:i+c,y:s/2,scale:o,visible:u&&l.indexOf("middle-right")>=0}),this.findOne(".bottom-left").setAttrs({x:-c,y:s+c,scale:o,visible:u&&l.indexOf("bottom-left")>=0}),this.findOne(".bottom-center").setAttrs({x:i/2,y:s+c,scale:o,visible:u&&l.indexOf("bottom-center")>=0}),this.findOne(".bottom-right").setAttrs({x:i+c,y:s+c,scale:o,visible:u&&l.indexOf("bottom-right")>=0});var f=-this.rotateAnchorOffset()*Math.abs(o.y);this.findOne(".rotater").setAttrs({x:i/2,y:f*a.Util._sign(s),scale:o,visible:this.rotateEnabled()}),this.findOne(".back").setAttrs({width:i*r.x,height:s*r.y,scale:o,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash()})},t.prototype.isTransforming=function(){return this._transforming},t.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this.movingResizer);e&&e.stopDrag()}},t.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),c.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},t.prototype.toObject=function(){return s.Node.prototype.toObject.call(this)},t}(c.Group);t.Transformer=_,_.prototype.className="Transformer",p._registerNode(_),i.Factory.addGetterSetter(_,"enabledAnchors",m,function(e){return e instanceof Array||a.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(e){-1===m.indexOf(e)&&a.Util.warn("Unknown anchor name: "+e+". Available names are: "+m.join(", "))}),e||[]}),i.Factory.addGetterSetter(_,"resizeEnabled",!0),i.Factory.addGetterSetter(_,"anchorSize",10,f.getNumberValidator()),i.Factory.addGetterSetter(_,"rotateEnabled",!0),i.Factory.addGetterSetter(_,"rotationSnaps",[]),i.Factory.addGetterSetter(_,"rotateAnchorOffset",50,f.getNumberValidator()),i.Factory.addGetterSetter(_,"borderEnabled",!0),i.Factory.addGetterSetter(_,"anchorStroke","rgb(0, 161, 255)"),i.Factory.addGetterSetter(_,"anchorStrokeWidth",1,f.getNumberValidator()),i.Factory.addGetterSetter(_,"anchorFill","white"),i.Factory.addGetterSetter(_,"anchorCornerRadius",0,f.getNumberValidator()),i.Factory.addGetterSetter(_,"borderStroke","rgb(0, 161, 255)"),i.Factory.addGetterSetter(_,"borderStrokeWidth",1,f.getNumberValidator()),i.Factory.addGetterSetter(_,"borderDash"),i.Factory.addGetterSetter(_,"keepRatio",!0),i.Factory.addGetterSetter(_,"centeredScaling",!1),i.Factory.addGetterSetter(_,"ignoreStroke",!1),i.Factory.addGetterSetter(_,"padding",0,f.getNumberValidator()),i.Factory.addGetterSetter(_,"node"),i.Factory.addGetterSetter(_,"boundBoxFunc"),i.Factory.backCompat(_,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),a.Collection.mapMethods(_)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n(18),s=n(50),l=n(21),u=n(20),c=n(21),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._sceneFunc=function(e){e.beginPath(),e.arc(0,0,this.radius(),0,l.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)},t.prototype.getWidth=function(){return 2*this.radius()},t.prototype.getHeight=function(){return 2*this.radius()},t.prototype.setWidth=function(e){this.radius(e/2)},t.prototype.setHeight=function(e){this.radius(e/2)},t}(s.Shape);t.Wedge=d,d.prototype.className="Wedge",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radius"],c._registerNode(d),i.Factory.addGetterSetter(d,"radius",0,u.getNumberValidator()),i.Factory.addGetterSetter(d,"angle",0,u.getNumberValidator()),i.Factory.addGetterSetter(d,"clockwise",!1),i.Factory.backCompat(d,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),a.Collection.mapMethods(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];t.Blur=function(e){var t=Math.round(this.blurRadius());t>0&&function(e,t){var n,r,o,a,u,c,d,f,p,h,g,y,m,_,v,b,w,C,x,S,P,k,O,E,T=e.data,M=e.width,D=e.height,A=t+t+1,j=M-1,I=D-1,L=t+1,R=L*(L+1)/2,B=new i,N=null,F=B,H=null,$=null,z=s[t],U=l[t];for(o=1;o<A;o++)F=F.next=new i,o===L&&(N=F);for(F.next=B,d=c=0,r=0;r<D;r++){for(b=w=C=x=f=p=h=g=0,y=L*(S=T[c]),m=L*(P=T[c+1]),_=L*(k=T[c+2]),v=L*(O=T[c+3]),f+=R*S,p+=R*P,h+=R*k,g+=R*O,F=B,o=0;o<L;o++)F.r=S,F.g=P,F.b=k,F.a=O,F=F.next;for(o=1;o<L;o++)a=c+((j<o?j:o)<<2),f+=(F.r=S=T[a])*(E=L-o),p+=(F.g=P=T[a+1])*E,h+=(F.b=k=T[a+2])*E,g+=(F.a=O=T[a+3])*E,b+=S,w+=P,C+=k,x+=O,F=F.next;for(H=B,$=N,n=0;n<M;n++)T[c+3]=O=g*z>>U,0!==O?(O=255/O,T[c]=(f*z>>U)*O,T[c+1]=(p*z>>U)*O,T[c+2]=(h*z>>U)*O):T[c]=T[c+1]=T[c+2]=0,f-=y,p-=m,h-=_,g-=v,y-=H.r,m-=H.g,_-=H.b,v-=H.a,a=d+((a=n+t+1)<j?a:j)<<2,f+=b+=H.r=T[a],p+=w+=H.g=T[a+1],h+=C+=H.b=T[a+2],g+=x+=H.a=T[a+3],H=H.next,y+=S=$.r,m+=P=$.g,_+=k=$.b,v+=O=$.a,b-=S,w-=P,C-=k,x-=O,$=$.next,c+=4;d+=M}for(n=0;n<M;n++){for(w=C=x=b=p=h=g=f=0,y=L*(S=T[c=n<<2]),m=L*(P=T[c+1]),_=L*(k=T[c+2]),v=L*(O=T[c+3]),f+=R*S,p+=R*P,h+=R*k,g+=R*O,F=B,o=0;o<L;o++)F.r=S,F.g=P,F.b=k,F.a=O,F=F.next;for(u=M,o=1;o<=t;o++)c=u+n<<2,f+=(F.r=S=T[c])*(E=L-o),p+=(F.g=P=T[c+1])*E,h+=(F.b=k=T[c+2])*E,g+=(F.a=O=T[c+3])*E,b+=S,w+=P,C+=k,x+=O,F=F.next,o<I&&(u+=M);for(c=n,H=B,$=N,r=0;r<D;r++)T[3+(a=c<<2)]=O=g*z>>U,O>0?(O=255/O,T[a]=(f*z>>U)*O,T[a+1]=(p*z>>U)*O,T[a+2]=(h*z>>U)*O):T[a]=T[a+1]=T[a+2]=0,f-=y,p-=m,h-=_,g-=v,y-=H.r,m-=H.g,_-=H.b,v-=H.a,a=n+((a=r+L)<I?a:I)*M<<2,f+=b+=H.r=T[a],p+=w+=H.g=T[a+1],h+=C+=H.b=T[a+2],g+=x+=H.a=T[a+3],H=H.next,y+=S=$.r,m+=P=$.g,_+=k=$.b,v+=O=$.a,b-=S,w-=P,C-=k,x-=O,$=$.next,c+=M}}(e,t)},r.Factory.addGetterSetter(o.Node,"blurRadius",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);t.Brighten=function(e){var t,n=255*this.brightness(),r=e.data,o=r.length;for(t=0;t<o;t+=4)r[t]+=n,r[t+1]+=n,r[t+2]+=n},r.Factory.addGetterSetter(o.Node,"brightness",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);t.Contrast=function(e){var t,n=Math.pow((parseInt(this.contrast())+100)/100,2),r=e.data,o=r.length,a=150,i=150,s=150;for(t=0;t<o;t+=4)a=r[t],i=r[t+1],s=r[t+2],a/=255,a-=.5,a*=n,a+=.5,i/=255,i-=.5,i*=n,i+=.5,s/=255,s-=.5,s*=n,s+=.5,a=(a*=255)<0?0:a>255?255:a,i=(i*=255)<0?0:i>255?255:i,s=(s*=255)<0?0:s>255?255:s,r[t]=a,r[t+1]=i,r[t+2]=s},r.Factory.addGetterSetter(o.Node,"contrast",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(22),i=n(20);t.Emboss=function(e){var t=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),o=this.embossBlend(),i=0,s=0,l=e.data,u=e.width,c=e.height,d=4*u,f=c;switch(r){case"top-left":i=-1,s=-1;break;case"top":i=-1,s=0;break;case"top-right":i=-1,s=1;break;case"right":i=0,s=1;break;case"bottom-right":i=1,s=1;break;case"bottom":i=1,s=0;break;case"bottom-left":i=1,s=-1;break;case"left":i=0,s=-1;break;default:a.Util.error("Unknown emboss direction: "+r)}do{var p=(f-1)*d,h=i;f+h<1&&(h=0),f+h>c&&(h=0);var g=(f-1+h)*u*4,y=u;do{var m=p+4*(y-1),_=s;y+_<1&&(_=0),y+_>u&&(_=0);var v=g+4*(y-1+_),b=l[m]-l[v],w=l[m+1]-l[v+1],C=l[m+2]-l[v+2],x=b,S=x>0?x:-x;if((w>0?w:-w)>S&&(x=w),(C>0?C:-C)>S&&(x=C),x*=t,o){var P=l[m]+x,k=l[m+1]+x,O=l[m+2]+x;l[m]=P>255?255:P<0?0:P,l[m+1]=k>255?255:k<0?0:k,l[m+2]=O>255?255:O<0?0:O}else{var E=n-x;E<0?E=0:E>255&&(E=255),l[m]=l[m+1]=l[m+2]=E}}while(--y)}while(--f)},r.Factory.addGetterSetter(o.Node,"embossStrength",.5,i.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"embossWhiteLevel",.5,i.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"embossDirection","top-left",null,r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"embossBlend",!1,null,r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);function i(e,t,n,r,o){var a=n-t,i=o-r;return 0===a?r+i/2:0===i?r:i*((e-t)/a)+r}t.Enhance=function(e){var t,n,r,o,a=e.data,s=a.length,l=a[0],u=l,c=a[1],d=c,f=a[2],p=f,h=this.enhance();if(0!==h){for(o=0;o<s;o+=4)(t=a[o+0])<l?l=t:t>u&&(u=t),(n=a[o+1])<c?c=n:n>d&&(d=n),(r=a[o+2])<f?f=r:r>p&&(p=r);var g,y,m,_,v,b,w,C,x;for(u===l&&(u=255,l=0),d===c&&(d=255,c=0),p===f&&(p=255,f=0),h>0?(y=u+h*(255-u),m=l-h*(l-0),v=d+h*(255-d),b=c-h*(c-0),C=p+h*(255-p),x=f-h*(f-0)):(y=u+h*(u-(g=.5*(u+l))),m=l+h*(l-g),v=d+h*(d-(_=.5*(d+c))),b=c+h*(c-_),C=p+h*(p-(w=.5*(p+f))),x=f+h*(f-w)),o=0;o<s;o+=4)a[o+0]=i(a[o+0],l,u,m,y),a[o+1]=i(a[o+1],c,d,b,v),a[o+2]=i(a[o+2],f,p,x,C)}},r.Factory.addGetterSetter(o.Node,"enhance",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Grayscale=function(e){var t,n,r=e.data,o=r.length;for(t=0;t<o;t+=4)n=.34*r[t]+.5*r[t+1]+.16*r[t+2],r[t]=n,r[t+1]=n,r[t+2]=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);r.Factory.addGetterSetter(o.Node,"hue",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"saturation",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"luminance",0,a.getNumberValidator(),r.Factory.afterSetFilter),t.HSL=function(e){var t,n,r,o,a,i=e.data,s=i.length,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=127*this.luminance(),d=1*l*Math.cos(u*Math.PI/180),f=1*l*Math.sin(u*Math.PI/180),p=.299+.701*d+.167*f,h=.587-.587*d+.33*f,g=.114-.114*d-.497*f,y=.299-.299*d-.328*f,m=.587+.413*d+.035*f,_=.114-.114*d+.293*f,v=.299-.3*d+1.25*f,b=.587-.586*d-1.05*f,w=.114+.886*d-.2*f;for(t=0;t<s;t+=4)n=i[t+0],r=i[t+1],o=i[t+2],a=i[t+3],i[t+0]=p*n+h*r+g*o+c,i[t+1]=y*n+m*r+_*o+c,i[t+2]=v*n+b*r+w*o+c,i[t+3]=a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);t.HSV=function(e){var t,n,r,o,a,i=e.data,s=i.length,l=Math.pow(2,this.value()),u=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,d=l*u*Math.cos(c*Math.PI/180),f=l*u*Math.sin(c*Math.PI/180),p=.299*l+.701*d+.167*f,h=.587*l-.587*d+.33*f,g=.114*l-.114*d-.497*f,y=.299*l-.299*d-.328*f,m=.587*l+.413*d+.035*f,_=.114*l-.114*d+.293*f,v=.299*l-.3*d+1.25*f,b=.587*l-.586*d-1.05*f,w=.114*l+.886*d-.2*f;for(t=0;t<s;t+=4)n=i[t+0],r=i[t+1],o=i[t+2],a=i[t+3],i[t+0]=p*n+h*r+g*o,i[t+1]=y*n+m*r+_*o,i[t+2]=v*n+b*r+w*o,i[t+3]=a},r.Factory.addGetterSetter(o.Node,"hue",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"saturation",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"value",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Invert=function(e){var t,n=e.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(22),i=n(20);t.Kaleidoscope=function(e){var t,n,r,o,i,s,l,u,c,d=e.width,f=e.height,p=Math.round(this.kaleidoscopePower()),h=Math.round(this.kaleidoscopeAngle()),g=Math.floor(d*(h%360)/360);if(!(p<1)){var y=a.Util.createCanvasElement();y.width=d,y.height=f;var m=y.getContext("2d").getImageData(0,0,d,f);!function(e,t,n){var r,o,a,i,s=e.data,l=t.data,u=e.width,c=e.height,d=n.polarCenterX||u/2,f=n.polarCenterY||c/2,p=0,h=0,g=0,y=0,m=Math.sqrt(d*d+f*f);o=u-d,a=c-f,m=(i=Math.sqrt(o*o+a*a))>m?i:m;var _,v,b,w,C=c,x=u,S=360/x*Math.PI/180;for(v=0;v<x;v+=1)for(b=Math.sin(v*S),w=Math.cos(v*S),_=0;_<C;_+=1)o=Math.floor(d+m*_/C*w),p=s[0+(r=4*((a=Math.floor(f+m*_/C*b))*u+o))],h=s[r+1],g=s[r+2],y=s[r+3],l[0+(r=4*(v+_*u))]=p,l[r+1]=h,l[r+2]=g,l[r+3]=y}(e,m,{polarCenterX:d/2,polarCenterY:f/2});for(var _=d/Math.pow(2,p);_<=8;)_*=2,p-=1;var v=_=Math.ceil(_),b=0,w=v,C=1;for(g+_>d&&(b=v,w=0,C=-1),n=0;n<f;n+=1)for(t=b;t!==w;t+=C)u=4*(d*n+Math.round(t+g)%d),o=m.data[u+0],i=m.data[u+1],s=m.data[u+2],l=m.data[u+3],c=4*(d*n+t),m.data[c+0]=o,m.data[c+1]=i,m.data[c+2]=s,m.data[c+3]=l;for(n=0;n<f;n+=1)for(v=Math.floor(_),r=0;r<p;r+=1){for(t=0;t<v+1;t+=1)u=4*(d*n+t),o=m.data[u+0],i=m.data[u+1],s=m.data[u+2],l=m.data[u+3],c=4*(d*n+2*v-t-1),m.data[c+0]=o,m.data[c+1]=i,m.data[c+2]=s,m.data[c+3]=l;v*=2}!function(e,t,n){var r,o,a,i,s,l,u=e.data,c=t.data,d=e.width,f=e.height,p=n.polarCenterX||d/2,h=n.polarCenterY||f/2,g=0,y=0,m=0,_=0,v=Math.sqrt(p*p+h*h);o=d-p,a=f-h,v=(l=Math.sqrt(o*o+a*a))>v?l:v;var b,w,C,x=f,S=d,P=n.polarRotation||0;for(o=0;o<d;o+=1)for(a=0;a<f;a+=1)i=o-p,s=a-h,b=Math.sqrt(i*i+s*s)*x/v,w=(w=(180*Math.atan2(s,i)/Math.PI+360+P)%360)*S/360,C=Math.floor(w),g=u[0+(r=4*(Math.floor(b)*d+C))],y=u[r+1],m=u[r+2],_=u[r+3],c[0+(r=4*(a*d+o))]=g,c[r+1]=y,c[r+2]=m,c[r+3]=_}(m,e,{polarRotation:0})}},r.Factory.addGetterSetter(o.Node,"kaleidoscopePower",2,i.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"kaleidoscopeAngle",0,i.getNumberValidator(),r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);function i(e,t,n){var r=4*(n*e.width+t),o=[];return o.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),o}function s(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}t.Mask=function(e){var t=function(e,t){var n=i(e,0,0),r=i(e,e.width-1,0),o=i(e,0,e.height-1),a=i(e,e.width-1,e.height-1),l=t||10;if(s(n,r)<l&&s(r,a)<l&&s(a,o)<l&&s(o,n)<l){for(var u=function(e){for(var t=[0,0,0],n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([r,n,a,o]),c=[],d=0;d<e.width*e.height;d++){var f=s(u,[e.data[4*d],e.data[4*d+1],e.data[4*d+2]]);c[d]=f<l?0:255}return c}}(e,this.threshold());return t&&function(e,t){for(var n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(e,t=function(e,t,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],o=Math.round(Math.sqrt(r.length)),a=Math.floor(o/2),i=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<o;d++)for(var f=0;f<o;f++){var p=s+d-a,h=l+f-a;if(p>=0&&p<n&&h>=0&&h<t){var g=r[d*o+f];c+=e[p*t+h]*g}}i[u]=c}return i}(t=function(e,t,n){for(var r=[1,1,1,1,1,1,1,1,1],o=Math.round(Math.sqrt(r.length)),a=Math.floor(o/2),i=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<o;d++)for(var f=0;f<o;f++){var p=s+d-a,h=l+f-a;if(p>=0&&p<n&&h>=0&&h<t){var g=r[d*o+f];c+=e[p*t+h]*g}}i[u]=c>=1020?255:0}return i}(t=function(e,t,n){for(var r=[1,1,1,1,0,1,1,1,1],o=Math.round(Math.sqrt(r.length)),a=Math.floor(o/2),i=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<o;d++)for(var f=0;f<o;f++){var p=s+d-a,h=l+f-a;if(p>=0&&p<n&&h>=0&&h<t){var g=r[d*o+f];c+=e[p*t+h]*g}}i[u]=2040===c?255:0}return i}(t,e.width,e.height),e.width,e.height),e.width,e.height)),e},r.Factory.addGetterSetter(o.Node,"threshold",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);t.Noise=function(e){var t,n=255*this.noise(),r=e.data,o=r.length,a=n/2;for(t=0;t<o;t+=4)r[t+0]+=a-2*a*Math.random(),r[t+1]+=a-2*a*Math.random(),r[t+2]+=a-2*a*Math.random()},r.Factory.addGetterSetter(o.Node,"noise",.2,a.getNumberValidator(),r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(22),a=n(43),i=n(20);t.Pixelate=function(e){var t,n,r,a,i,s,l,u,c,d,f,p,h,g,y=Math.ceil(this.pixelSize()),m=e.width,_=e.height,v=Math.ceil(m/y),b=Math.ceil(_/y);if(e=e.data,y<=0)o.Util.error("pixelSize value can not be <= 0");else for(p=0;p<v;p+=1)for(h=0;h<b;h+=1){for(a=0,i=0,s=0,l=0,c=(u=p*y)+y,f=(d=h*y)+y,g=0,t=u;t<c;t+=1)if(!(t>=m))for(n=d;n<f;n+=1)n>=_||(a+=e[(r=4*(m*n+t))+0],i+=e[r+1],s+=e[r+2],l+=e[r+3],g+=1);for(a/=g,i/=g,s/=g,l/=g,t=u;t<c;t+=1)if(!(t>=m))for(n=d;n<f;n+=1)n>=_||(e[(r=4*(m*n+t))+0]=a,e[r+1]=i,e[r+2]=s,e[r+3]=l)}},r.Factory.addGetterSetter(a.Node,"pixelSize",8,i.getNumberValidator(),r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);t.Posterize=function(e){var t,n=Math.round(254*this.levels())+1,r=e.data,o=r.length,a=255/n;for(t=0;t<o;t+=1)r[t]=Math.floor(r[t]/a)*a},r.Factory.addGetterSetter(o.Node,"levels",.5,a.getNumberValidator(),r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);t.RGB=function(e){var t,n,r=e.data,o=r.length,a=this.red(),i=this.green(),s=this.blue();for(t=0;t<o;t+=4)n=(.34*r[t]+.5*r[t+1]+.16*r[t+2])/255,r[t]=n*a,r[t+1]=n*i,r[t+2]=n*s,r[t+3]=r[t+3]},r.Factory.addGetterSetter(o.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),r.Factory.addGetterSetter(o.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),r.Factory.addGetterSetter(o.Node,"blue",0,a.RGBComponent,r.Factory.afterSetFilter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);t.RGBA=function(e){var t,n,r=e.data,o=r.length,a=this.red(),i=this.green(),s=this.blue(),l=this.alpha();for(t=0;t<o;t+=4)n=1-l,r[t]=a*l+r[t]*n,r[t+1]=i*l+r[t+1]*n,r[t+2]=s*l+r[t+2]*n},r.Factory.addGetterSetter(o.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),r.Factory.addGetterSetter(o.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),r.Factory.addGetterSetter(o.Node,"blue",0,a.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sepia=function(e){var t,n,r,o,a=e.data,i=a.length;for(t=0;t<i;t+=4)n=a[t+0],r=a[t+1],o=a[t+2],a[t+0]=Math.min(255,.393*n+.769*r+.189*o),a[t+1]=Math.min(255,.349*n+.686*r+.168*o),a[t+2]=Math.min(255,.272*n+.534*r+.131*o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Solarize=function(e){var t=e.data,n=e.width,r=4*n,o=e.height;do{var a=(o-1)*r,i=n;do{var s=a+4*(i-1),l=t[s],u=t[s+1],c=t[s+2];l>127&&(l=255-l),u>127&&(u=255-u),c>127&&(c=255-c),t[s]=l,t[s+1]=u,t[s+2]=c}while(--i)}while(--o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(43),a=n(20);t.Threshold=function(e){var t,n=255*this.threshold(),r=e.data,o=r.length;for(t=0;t<o;t+=1)r[t]=r[t]<n?0:255},r.Factory.addGetterSetter(o.Node,"threshold",.5,a.getNumberValidator(),r.Factory.afterSetFilter)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(74)),l=n(68),u=a(n(92)),c=window.$,d=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.state={chartBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({chartBase:t["default"]})})},t.prototype.componentDidUpdate=function(){l.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.type,o=n.tooltip,a=n.showAxis,s=n.barColor,l=n.data,d=void 0===l?{}:l,f=n.height,p=n.headArr,h=u["default"].getDefaultData(r,d),g=t.MiniBar;return i["default"].createElement(g,{ref:function(t){return e.thisDom=t},animate:c.isAdvancedAnimate(),height:f*c.getScaleRatio(),data:h,tooltip:o,showAxis:a,barColor:s,headArr:p})},t}(i["default"].Component);t.MiniBarContrComp=d,t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(74)),l=n(68),u=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.state={chartBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({chartBase:t["default"]})})},t.prototype.componentDidUpdate=function(){l.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.percent,o=n.defaultColor,a=n.progressColor,s=n.height,l=t.MiniProgress;return i["default"].createElement(l,{ref:function(t){return e.thisDom=t},percent:r,strokeWidth:s*$.getScaleRatio(),target:80,defaultColor:o,progressColor:a})},t}(i["default"].Component);t.MiniProgressContrComp=u,t["default"]=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(801)),l=n(68),u=window.$,c=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.lastShowText=undefined,n}return o(t,e),t.prototype.componentDidUpdate=function(){var e=this,t=e.props.contr.showText;e.lastShowText!=t&&(t||setTimeout(function(){e.setState({})},0),e.lastShowText=t),l.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.props.contr,n=t.percent,r=t.showText,o=t.textColor,a=t.lineWidth,l=t.defaultColor,c=t.progressColor,d=t.width,f=t.height;return i["default"].createElement(s["default"],{ref:function(t){return e.thisDom=t},animate:u.isAdvancedAnimate(),responsive:!1,width:(d*u.getScaleRatio()).toString(),height:(f*u.getScaleRatio()).toString(),lineWidth:a*u.getScaleRatio()+"",progress:Math.round(n),progressColor:c,bgColor:l,textColor:o||c,textStyle:{font:"bold 80px Helvetica, Arial, sans-serif"},percentSpacing:10,roundedStroke:!0,showPercentage:r,showPercentageSymbol:!0})},t}(i["default"].Component);t.ProgressCircleContrComp=c,t["default"]=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(410);t["default"]=r.Circle,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(410))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(74)),l=n(68),u=a(n(92)),c=a(n(147)),d=window.$,f=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.state={chartBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({chartBase:t["default"]})})},t.prototype.componentDidUpdate=function(){l.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.type,o=n.tooltip,a=n.showAxis,s=n.isHorizontal,l=n.barColor,f=n.data,p=void 0===f?{}:f,h=n.height,g=n.isExtend,y=n.hasLegend,m=n.headArr,_=c["default"].getChartPadding(a,s,y),v=u["default"].getDefaultData(r,p,g),b=t.Bar;return i["default"].createElement(b,{ref:function(t){return e.thisDom=t},height:h*d.getScaleRatio(),data:v,tooltip:o,showAxis:a,isHorizontal:s,barColor:l,padding:_,animate:d.isAdvancedAnimate(),isExtend:g,hasLegend:y,headArr:m})},t}(i["default"].Component);t.BarContrComp=f,t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(74)),l=n(68),u=a(n(92)),c=window.$,d=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.lastIsSmooth=undefined,n.state={chartBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({chartBase:t["default"]})})},t.prototype.componentDidUpdate=function(){var e=this,t=e.props.contr.isSmooth;e.lastIsSmooth!=t&&(t&&setTimeout(function(){e.setState({})},0),e.lastIsSmooth=t),l.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.type,o=n.tooltip,a=n.showAxis,s=n.isSmooth,l=n.lineColor,d=n.data,f=void 0===d?{}:d,p=n.height,h=n.isExtend,g=n.barColor,y=n.hasLegend,m=n.headArr,_=u["default"].getDefaultData(r,f,h),v=t.LineChart;return i["default"].createElement(v,{ref:function(t){return e.thisDom=t},animate:c.isAdvancedAnimate(),height:p*c.getScaleRatio(),data:_,showAxis:a,isSmooth:s,lineColor:l,tooltip:o,isExtend:h,barColor:g,hasLegend:y,headArr:m})},t}(i["default"].Component);t.LineChartContrComp=d,t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(74)),l=n(68),u=a(n(92)),c=a(n(147)),d=window.$,f=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.state={chartBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({chartBase:t["default"]})})},t.prototype.componentDidUpdate=function(){l.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.type,o=n.tooltip,a=n.showAxis,s=n.isHorizontal,l=n.barColor,f=n.data,p=void 0===f?{}:f,h=n.height,g=n.isExtend,y=n.hasLegend,m=n.headArr,_=c["default"].getChartPadding(a,s,y),v=u["default"].getDefaultData(r,p,g),b=t.HorizontalBar;return i["default"].createElement(b,{ref:function(t){return e.thisDom=t},animate:d.isAdvancedAnimate(),height:h*d.getScaleRatio(),data:v,tooltip:o,showAxis:a,isHorizontal:s,barColor:l,padding:_,isExtend:g,hasLegend:y,headArr:m})},t}(i["default"].Component);t.HorizontalBarContrComp=f,t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(74)),c=n(68),d=s(n(92)),f=s(n(3)),p=window.$,h=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.state={chartBase:null},n}return o(t,e),t.prototype.showLegend=function(){var e=this;if(this.state.chartBase&&this.thisDom&&(this.props.contr.hasLegend&&this.thisDom.root)){var t=p(this.thisDom.root);(t.parents("#middlePanel").length>0||!window.isPrototypeTool)&&0==t.find(".legend").length&&setTimeout(function(){e.setState({})},50)}},t.prototype.componentDidMount=function(){var e=this;u["default"](function(t){e.setState({chartBase:t["default"]})}),this.showLegend()},t.prototype.componentDidUpdate=function(){c.canvasRender.call(this),this.showLegend()},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.type,o=n.tooltip,a=n.title,i=n.titleFontSize,s=n.textFontSize,u=n.inner,c=n.hasLegend,f=n.legendFontSize,h=n.data,g=void 0===h?{}:h,y=n.width,m=n.height,_=n.colorList,v=n.headArr,b=n.titleColor,w=n.textColor,C=void 0===w?"rgba(51, 51, 51, 1)":w,x=n.percentColor,S=n.nameColor,P=n.numberColor,k=d["default"].getDefaultData(r,g),O=t.Pie;return l["default"].createElement(O,{ref:function(t){return e.thisDom=t},animate:p.isAdvancedAnimate(),data:k,height:m*p.getScaleRatio(),inner:u/100,hasLegend:c,tooltip:o,subTitle:a,style:{width:y*p.getScaleRatio(),height:m*p.getScaleRatio()},total:function(){return l["default"].createElement("span",{style:{color:C},dangerouslySetInnerHTML:{__html:k.reduce(function(e,t){return t.y+e},0)}})},titleFontSize:i,textFontSize:s,titleColor:b,legendFontSize:f,colorList:_,headArr:v,percentColor:x,nameColor:S,numberColor:P})},a([f["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"showLegend",null),t}(l["default"].Component);t.PieContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(74)),l=n(68),u=window.$,c=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.state={chartBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({chartBase:t["default"]})})},t.prototype.componentDidUpdate=function(){l.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.percent,o=n.titleFontSize,a=n.textFontSize,s=n.inner,l=n.height,c=n.defaultColor,d=n.progressColor,f=n.title,p=n.textColor,h=void 0===p?"rgba(51, 51, 51, 1)":p,g=n.titleColor,y=t.Pie;return i["default"].createElement(y,{ref:function(t){return e.thisDom=t},animate:u.isAdvancedAnimate(),percent:Math.round(r),height:l*u.getScaleRatio(),inner:s/100,titleFontSize:o,textFontSize:a,defaultColor:c,progressColor:d,subTitle:f,titleColor:g,total:function(){return i["default"].createElement("span",{style:{color:h},dangerouslySetInnerHTML:{__html:Math.round(r)+"%"}})}})},t}(i["default"].Component);t.MiniCircleContrComp=c,t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(74)),c=n(68),d=s(n(92)),f=s(n(3)),p=window.$,h=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.state={chartBase:null},n}return o(t,e),t.prototype.showLegend=function(){var e=this;if(this.state.chartBase&&this.thisDom&&(this.props.contr.hasLegend&&this.thisDom.root)){var t=p(this.thisDom.root);(t.parents("#middlePanel").length>0||!window.isPrototypeTool)&&0==t.find(".legend").length&&setTimeout(function(){e.setState({})},50)}},t.prototype.componentDidMount=function(){var e=this;u["default"](function(t){e.setState({chartBase:t["default"]})}),this.showLegend()},t.prototype.componentDidUpdate=function(){c.canvasRender.call(this),this.showLegend()},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.type,o=n.tooltip,a=n.titleFontSize,i=n.textFontSize,s=n.inner,u=n.hasLegend,c=n.legendFontSize,f=n.data,h=void 0===f?{}:f,g=n.height,y=n.colorList,m=n.headArr,_=n.nameColor,v=n.numberColor,b=n.percentColor,w=d["default"].getDefaultData(r,h),C=t.Pie;return l["default"].createElement(C,{ref:function(t){return e.thisDom=t},animate:p.isAdvancedAnimate(),data:w,height:g*p.getScaleRatio(),inner:s/100,hasLegend:u,tooltip:o,titleFontSize:a,textFontSize:i,legendFontSize:c,colorList:y,headArr:m,nameColor:_,numberColor:v,percentColor:b})},a([f["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"showLegend",null),t}(l["default"].Component);t.CircleContrComp=h,t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(74)),l=n(68),u=a(n(92)),c=window.$,d=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.state={chartBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({chartBase:t["default"]})})},t.prototype.componentDidUpdate=function(){l.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.data,o=n.type,a=n.hasLegend,s=n.fontSize,l=n.tooltip,d=n.legendFontSize,f=n.dataFontSize,p=n.height,h=n.typeFirstColor,g=n.typeSecondColor,y=n.typeThirdColor,m=n.typeFourthColor,_=n.typeFifthColor,v=n.textColor,b=n.legendTextColor,w=n.legendNumberColor,C=u["default"].getDefaultData(o,r),x=t.Radar;return i["default"].createElement(x,{ref:function(t){return e.thisDom=t},animate:c.isAdvancedAnimate(),hasLegend:a,height:p*c.getScaleRatio(),data:C,fontSize:s,tooltip:l,legendFontSize:d,dataFontSize:f,typeFirstColor:h,typeSecondColor:g,typeThirdColor:y,typeFourthColor:m,typeFifthColor:_,textColor:v,legendTextColor:b,legendNumberColor:w})},t}(i["default"].Component);t.RadarContrComp=d,t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(74)),l=n(68),u=window.$,c=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.state={chartBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({chartBase:t["default"]})})},t.prototype.componentDidUpdate=function(){l.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.percent,o=n.title,a=n.titleFontSize,s=n.percentFontSize,l=n.defaultColor,c=n.progressColor,d=n.height,f=n.degree,p=n.titleColor,h=n.textColor,g=n.degreeColor,y=t.Gauge;return i["default"].createElement(y,{ref:function(t){return e.thisDom=t},animate:u.isAdvancedAnimate(),title:o,height:d*u.getScaleRatio(),percent:Math.round(r),titleFontSize:a,percentFontSize:s,defaultColor:l,progressColor:c,degree:f,titleColor:p,textColor:h,degreeColor:g})},t}(i["default"].Component);t.GaugeContrComp=c,t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(74)),c=n(68),d=s(n(3)),f=s(n(42)),p=window,h=p.$,g=p.isPrototypeTool,y=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.state={chartBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;u["default"](function(t){e.setState({chartBase:t["default"]})})},t.prototype._isChangeDataFunc=function(){var e=this,t=e.props,n=t.contr,r=n.color,o=n.percent,a=n.borderColor,i=n.title,s=n.titleFontSize,l=n.percentFontSize,u=n.width,c=n.height,d=n.percentColor,f=n.fontColor,p=t.contrId,h=!1,g=function(){e.oldData={width:u,height:c,percent:Math.round(o),color:r,contrId:p,title:i,titleFontSize:s,percentFontSize:l,borderColor:a,percentColor:d,fontColor:f},h=!0};return e.oldData&&e.oldData.width==u&&e.oldData.height==c&&e.oldData.percent==Math.round(o)&&e.oldData.color==r&&e.oldData.title==i&&e.oldData.titleFontSize==s&&e.oldData.percentFontSize==l&&e.oldData.borderColor==a&&e.oldData.contrId==p&&e.oldData.percentColor==d&&e.oldData.fontColor==f||g(),h},t.prototype.componentDidUpdate=function(){c.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.color,o=n.percent,a=n.title,i=n.borderColor,s=n.titleFontSize,u=n.percentFontSize,c=n.height,d=(n.isEdit,n.fontColor),p=void 0===d?"rgba(0, 0, 0, 0.45)":d,y=n.percentColor,m=void 0===y?"rgba(51, 51, 51, 1)":y,_=e._isChangeDataFunc(),v="preview"==f["default"].getPreviewInfo().mode&&!f["default"].getIsMultiView();if(_){var b=t.WaterWave;e.WaterWaveGen=function(){return l["default"].createElement(b,{ref:function(t){return e.thisDom=t},animate:h.isAdvancedAnimate(),waveAnimate:!g&&v,height:c*h.getScaleRatio(),title:a,color:r,borderColor:i,titleFontSize:s,percentFontSize:u,percentColor:m,fontColor:p,percent:Math.round(o)})}}var w=e.WaterWaveGen;return l["default"].createElement("div",{style:{textAlign:"center"}},l["default"].createElement(w,null))},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_isChangeDataFunc",null),t}(l["default"].Component);t.WaterWaveContrComp=y,t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(74)),l=n(68),u=a(n(92)),c=window.$,d=a(n(155)),f=function(e){function t(t){var n=e.call(this,t)||this;return n.thisDom=null,n.lastIsSmooth=undefined,n.state={chartBase:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s["default"](function(t){e.setState({chartBase:t["default"]})})},t.prototype.componentDidUpdate=function(){var e=this,t=e.props.contr.isSmooth;e.lastIsSmooth!=t&&(t&&setTimeout(function(){e.setState({})},0),e.lastIsSmooth=t),l.canvasRender.call(this)},t.prototype.render=function(){var e=this,t=e.state.chartBase;if(!t)return null;var n=e.props.contr,r=n.type,o=n.tooltip,a=n.showTimeLine,s=n.isSmooth,l=n.hasLegend,f=n.legendFontSize,p=n.data,h=void 0===p?{}:p,g=n.startTime,y=n.intervalTime,m=n.height,_=u["default"].getDefaultData(r,h),v=[],b=y.split(":"),w=d["default"](g,"HH:mm");_.forEach(function(e){v.push({x:w.valueOf(),y1:e.labelVal,y2:e.nameVal}),w=w.add(+b[0],"h").add(+b[1],"m")});var C=t.TimelineChart;return i["default"].createElement(C,{ref:function(t){return e.thisDom=t},animate:c.isAdvancedAnimate(),height:m*c.getScaleRatio(),data:v,titleMap:{y1:_[0].label,y2:_[0].val},showTimeLine:a,isSmooth:s,tooltip:o,hasLegend:l,legendFontSize:f})},t}(i["default"].Component);t.TimelineChartContrComp=f,t["default"]=f},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ContrNoteComp=function(_Component){function ContrNoteComp(e){(0,_classCallCheck3["default"])(this,ContrNoteComp);var t=(0,_possibleConstructorReturn3["default"])(this,(ContrNoteComp.__proto__||(0,_getPrototypeOf2["default"])(ContrNoteComp)).call(this,e));return t.state={},t._noteMouseEnter=t._noteMouseEnter.bind(t),t._noteMouseLeave=t._noteMouseLeave.bind(t),t}return(0,_inherits3["default"])(ContrNoteComp,_Component),(0,_createClass3["default"])(ContrNoteComp,[{key:"render",value:function(){var e=this.props.i,t=$.getContrId(e);return _react2["default"].createElement("div",{key:"note_"+t,className:"note-box contr-note-box",id:"noteBox"+t,"data-id":t,"data-name":e.name,"data-content":e.noteContent,onMouseEnter:this._noteMouseEnter,onMouseLeave:this._noteMouseLeave,onClick:$.stopPropagation},_react2["default"].createElement("div",{className:"note",onMouseDown:this._noteMouseDown},"N"))}},{key:"_noteMouseEnter",value:function(e){$.addClass($.getElById("noteItem"+e.currentTarget.getAttribute("data-id")),"hover")}},{key:"_noteMouseLeave",value:function(e){$.removeClass($.getElById("noteItem"+e.currentTarget.getAttribute("data-id")),"hover")}},{key:"_noteMouseDown",value:function(){$("#rightPanel").addClass("hideSetting"),setTimeout(function(){$("#rightPanel").removeClass("hideSetting");var e=$.getElById("noteLabel");e&&e.click(),setTimeout(function(){var e=$.getElById("editNoteTextarea");e&&e.focus()},0)},0)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ContrNoteComp}(_react.Component),_default=ContrNoteComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(ContrNoteComp,"ContrNoteComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainboxBorder/ContrNote.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainboxBorder/ContrNote.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(398)),u=i(n(814)),c=i(n(815)),d=i(n(816)),f=i(n(539)),p=i(n(327)),h=window.$,g=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){var e,t=this.props,n=t.i,r=h.extend(!0,{},t);switch(n.border&&n.border[1]&&(r.hasBorder=!0),n.type){case"map":e=u["default"];break;case"audio":e=d["default"];break;case"video":e=c["default"];break;case"webPage":e=f["default"]}return s["default"].createElement(l["default"],a({},r),s["default"].createElement(e,{extraBoxStyle:p["default"].getStyles({contr:n,type:"extraBox"})}))},t}(s["default"].Component);t.ExtraBaseContrComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=window.$,l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={title:"",inputValue:""},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.contr.location,n=e.extraBoxStyle;return s.extend(!0,n,{backgroundImage:"url(https://restapi.amap.com/v3/staticmap?key=794ab02423d4fea1b11be30c9f456c99&scale=2&zoom=14&size=800*600&location="+t[0]+","+t[1]+"&markers=-1,https://images-cdn.shimo.im/03DVKT8Ywtcuu9Kg/2x.png,0:"+t[0]+","+t[1]+")",backgroundSize:"800px auto"}),i["default"].createElement("div",{className:"static-state-map",style:n})},t}(i["default"].Component);t.MapContrComp=l,t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.contr,n=t.videoUrl,r=t.width,o=t.height,a=(t.image,e.extraBoxStyle),s=Math.min(r,.8711*o),l=.37628*s>=59?29.5:.37628*s/2,u=.12*s;return i["default"].createElement("div",{className:"video-container",style:a},""==n?i["default"].createElement("div",{className:"video-btn-wrapper"},i["default"].createElement("div",{className:"video-play-button",style:{width:2*l,height:2*l}},i["default"].createElement("div",{className:"expand-icon material-icons video-play-icon",style:{fontSize:u}},"play_arrow"))):i["default"].createElement("div",{className:"video-btn-wrapper"},i["default"].createElement("div",{className:"insert-success-info-container"},i["default"].createElement("div",{className:"insert-success-info"},i["default"].createElement("span",{className:"insert-success-info-preview"},"预览"),"即可看到视频"),i["default"].createElement("div",{className:"insert-success-url text-ellipsis"},"https://player.youku.com/embed/"+n))),i["default"].createElement("div",{className:"progress-container"},i["default"].createElement("div",{className:"video-progress"}),i["default"].createElement("div",{className:"video-progress-circle-icon",style:{width:.045*o,height:.045*o}})))},t}(i["default"].Component);t.VideoContrComp=s,t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(538)),l=function(e){function t(t){var n=e.call(this,t)||this;return n.player=null,n}return o(t,e),t.prototype.render=function(){var e=this.props.contr,t=e.audioUrl,n=e.audioName,r=e.height,o=e.width,a=e.isAutoPlay,l=e.defaultName,u="";return(r<64||o<64)&&(u+=" xxsmall"),r<64&&o<100&&(u+=" xxxsmall"),o<140&&(u+=" xsmall"),o<240&&(u+=" small"),i["default"].createElement("div",{className:"audio-player-container "+u+" middle-advanced-box",style:{width:o,height:r}},i["default"].createElement("div",{className:"audio-wrapper"},i["default"].createElement("div",{className:"audio-play-btn"},i["default"].createElement("div",{className:"expand-icon material-icons audio-play-icon"},a?"pause":"play_arrow")),i["default"].createElement("div",{className:"audio-right-info"},i["default"].createElement("div",{className:"audio-info-container clearfix"},i["default"].createElement("div",{className:"audio-title-container"},i["default"].createElement("span",{className:"audio-info-title  text-ellipsis"},"/userAudio/默认音频.mp3"!=t?n.substring(0,n.length-5):l.substring(0,l.length-5)),i["default"].createElement("span",null,"/userAudio/默认音频.mp3"!=t?n.substring(n.length-5):l.substring(l.length-5))),i["default"].createElement("div",{className:"audio-info-time"},i["default"].createElement("div",null,i["default"].createElement(s["default"],{seconds:0}),"/","[时长]"))),i["default"].createElement("div",{className:"audio-progress-container"},i["default"].createElement("div",{className:"audio-progress-bar"}),i["default"].createElement("div",{className:"audio-progress-bg"}),i["default"].createElement("input",{className:"audio-progress-input",type:"range",min:0,max:1,step:"any"})))))},t}(i["default"].Component);t.AudioContrComp=l,t["default"]=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(358),o=n(46),a=n(411);function i(e,t,n){o.getPageFlow()?r.copyPageToPageFlow(e,t,n):a.copyPageAndLine(e,t,n)}t.addPageFromClipboard=i,t["default"]={addPageFromClipboard:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(6)),i=r(n(10)),s=r(n(83)),l=r(n(81)),u=r(n(343)),c=r(n(23)),d=n(61),f=n(85),p=n(291),h=n(148),g=n(154),y=n(204),m=n(262),_=window.$;function v(e,t,n,r,v){var b={},w={};o["default"].setLoad(!1);var C=o["default"].getActivePage();setTimeout(function(){var x,S=[],P=o["default"].getView().zoom,k=o["default"].isMultiFixed(),O=_.getSelectPageList().reverse();if(t){var E=_.offset(_.getElById("phoneConBox"));x={left:Math.round((t[0]-E.left)/P),top:Math.round((t[1]-E.top)/P)}}e.forEach(function(e,n){var a;a=t?{left:x.left+(window.phoneSize.width+90)*n,top:x.top}:y.getNewPagePosi(),v&&(a.notChangePageFlow=!0),g.pageCreate(a);var i=o["default"].getViewTotal();o["default"].updateProp(i,{serverKey:e.serverKey,backColor:e.backColor,pageHeight:e.pageHeight,isLandscape:e.isLandscape,events:e.events,name:e.name}),b[e.key]=i,r&&r(i,a)}),e.forEach(function(e){p.importPage(e.contrs,b[e.key],undefined,undefined,e.key,e.isLandscape,n?undefined:b,w),s["default"].pageAddGuideAllLine(_.stringToObj(e.guideLine),b[e.key]),l["default"].pageAddNote(_.stringToObj(e.note),b[e.key]),S.push(""+b[e.key])}),k&&(O&&O>0&&_.extend(!0,[],S).reverse().forEach(function(e){f.addStructPageAfter([O[0],"page"],e)}),setTimeout(function(){_.scrollPhoneConBoxPage(_.getElById("mainBox"+S[0]),o["default"].getZoom())},0)),o["default"].isMultiView()?o["default"].selectChange(S,!0):(h.choosePage(S[S.length-1],!0,!0),u["default"].emitChange()),o["default"].emitViewChange(),o["default"].emitPagesChange(),a["default"].emitChange(),setTimeout(function(){o["default"].setLoad(!0)},0),window.renderAll=!1,d.setAutoSaveChangePages("changeSymbol",undefined,!0),i["default"].createData({type:o["default"].isMultiView()?"createPage":"createNotMutiviewPage",name:"页面粘贴",handleObjType:"page",lastPage:C,autoSaveType:"changePages"}),k?(_.removeClass(_.getElById("mainBox"+S[S.length-1]),"scale-hide"),m.setCenter({activePage:o["default"].getPageByKey(S[S.length-1]),isFixedView:!0,isMultiFixed:!0,minTop:_.getFixedViewMinTop(P)}),o["default"].removeIsNew(S[S.length-1])):t||(_.removeClass(_.getElById("mainBox"+S[S.length-1]),"scale-hide"),m.setCenter({activePage:o["default"].getPageByKey(S[S.length-1])}),o["default"].removeIsNew(S[S.length-1])),c["default"].emitChange(),v&&v({allPageChangeKey:b,allContrChangeKey:w})},0)}t.copyPageToProject=v,t["default"]={copyPageToProject:v}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27));function a(e){var t=e.line,n=e.contrKey;return t.startKey==n}function i(e){var t=e.contrKey,n=o["default"].getAllLinkLine();for(var r in n){a({line:n[r],contrKey:t})&&o["default"].deleteLine(r,!0)}}t.deleteContrRelationLines=i,t["default"]={deleteContrRelationLines:i}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(10)),i=o(n(5)),s=o(n(49)),l=n(154),u=n(358),c=n(204);function d(e){var t,n=e.e,o=window.phoneSize,d=o.width,f=o.height,p=i["default"].getView(),h=p.zoom,g=p.total+1,y=$.offset($.query(".phoneConBox")),m={left:(n.pageX-y.left)/h-d/2,top:(n.pageY-y.top)/h-f/2};s["default"].getSelectPageFlow()?((t=c.getNewPagePosi()).notChangePageFlow=!0,u.createPageToPageFlow({key:g,vals:m})):t=r({},m,{isNew:!0}),l.pageCreateAction(t),setTimeout(function(){$.removeClass($.getElById("mainBox"+g),"scale-hide"),i["default"].removeIsNew(g),a["default"].createData({type:"createPage",name:"[页面 "+g+"] 创建",handleObjType:"page",autoSaveType:"changePages"})},0)}t.dbclickCreatePage=d,t["default"]={dbclickCreatePage:d}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=a(n(412)),l=n(150),u=n(9),c={style:{},show:!1},d={};function f(e){var t=(d=$.extend(d,e)).sX-d.eX,n=d.sY-d.eY,r=Math.abs(t),o=Math.abs(n),a=Math.sqrt(r*r+o*o),i=l.getAngle(d.sX,d.sY,d.eX,d.eY,!0);c={style:{left:d.sX,top:d.sY,transform:"rotate("+i+"deg)",width:a-5},show:!0}}var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getAnimLine=function(){return c},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(u.EventEmitter);i["default"].register(function(e){switch(e.actionType){case s["default"].ANIMLINE_SHOW:f(e.pos),h.emitChange();break;case s["default"].ANIMLINE_MOVE:f(e.endPos),h.emitChange();break;case s["default"].ANIMLINE_HIDE:c.show=!1,h.emitChange()}});var h=new p;t["default"]=h},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(412));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={show:function(e){o["default"].dispatch({actionType:a["default"].ANIMLINE_SHOW,pos:e})},move:function(e){o["default"].dispatch({actionType:a["default"].ANIMLINE_MOVE,endPos:e})},hide:function(){o["default"].dispatch({actionType:a["default"].ANIMLINE_HIDE})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"AnimLineActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/AnimLineActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/AnimLineActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(260)),a=r(n(48)),i=r(n(51)),s=r(n(230)),l=n(216),u=n(96),c=window.$;function d(){var e=o["default"].getColorPickerGlass().color,t=u.getRGBAobj(e),n=t.r,r=t.g,d=t.b,f=t.a;s["default"].change(c.extend(!0,{a:100*f},u.RGBToHSB({r:n,g:r,b:d}))),setTimeout(function(){var e=c(".isC.opt"),t={};e.each(function(e,n){t[e]=c.offset(n,!0,!0)});var n=c.getMaxPosi(t),r=n.left,o=n.top,s=n.width,u=n.height,d=c.getMidPosi();if(!c.collide([r,o,s,u],d)){var f=d[0],p=d[1],h={x:r+s/2-f-d[2]/2,y:o+u/2-p-d[3]/2},g=a["default"].getCurPos(),y=g.left,m=g.top,_=i["default"].getZoom()/100;l.posChange({left:y-h.x/_,top:m-h.y/_})}},0)}t.changeColor=d,t["default"]={changeColor:d}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(49)),a=n(46),i=n(415);function s(e){var t=e.pageKey;o["default"].getPageFlowList().forEach(function(e){u({pageKey:t,pageFlow:e})})}function l(e){var t=e.pageKey,n=!1;return o["default"].getPageFlowList().some(function(e){return!!e.pageVal[parseInt(t)]&&(n=!0,!0)}),n}function u(e){var t=e.pageKey,n=e.pageFlow,r=n||a.getPageFlow();if(r){var o=r.pageVal,s=parseInt(t);o[s]&&delete o[s],i.deletePageRelationLines({pageFlow:n,pageKey:t})}}t.deletePageFlowOnePage=s,t.hasPageFlowOnePage=l,t.deleteSelectPageFlowOnePage=u,t["default"]={deletePageFlowOnePage:s,hasPageFlowOnePage:l,deleteSelectPageFlowOnePage:u}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(826)),i=r(n(5)),s=r(n(10)),l=r(n(23)),u=r(n(27)),c=r(n(132)),d=r(n(19)),f=r(n(12)),p=r(n(131)),h=n(266),g=n(166),y=50;function m(e){var t=e.arr,n=e.callback;if(!window.isPc&&i["default"].isMultiView()){var r=l["default"].getStage().getStage(),o=$(".trashBox")[0],a=parseInt($(o).css("bottom")),s=i["default"].getView().zoom,c=$.getWinSize(),d=c.width,f=c.height,m=0;u["default"].setShowHoverBall(!1),i["default"].selectChange([]);var _=[];t.forEach(function(e){var t=g.findPage(r,"mainBox"+e),o=t.attrs,i=o.x,l=o.y,c=o.scaleX,v=void 0===c?1:c,b=o.scaleY,w=void 0===b?1:b,C=t.getAbsolutePosition(),x=C.x,S=C.y;_.push(t);var P=new p["default"].Tween({node:t,duration:.3,x:i+(d-y/2-x)/s,y:l+(f-y/2-S-a)/s,scaleX:.01,scaleY:.01,onFinish:function(){++m==_.length&&(u["default"].setShowHoverBall(!0,!0),_.forEach(function(e){e&&e.scale({x:v,y:w})}),h.clearCanvasAnim(),P&&P.destroy(),n&&n())}});h.setCanvasAnim(P),P&&P.play()})}}function _(){var e=i["default"].getPageSelect();if(e.length>0)if(window.isPc)v();else{var t=h.getCanvasAnim()[0];if(t)return void t.finish();m({arr:e,callback:function(){v()}})}}function v(){var e=i["default"].getPageSelect(),t=1==e.length?i["default"].getPageName(e[0]):"";c["default"].deletePages(),f["default"].show("删除成功"),s["default"].createData({type:"deletePage",name:"["+(e.length>1?"多个页面":t)+"] 删除",handleObjType:"page",autoSaveType:"changePages"})}function b(e){var t=e.callback,n=e.cancelCallBack;d["default"].init({width:520,title:"删除页面",content:o["default"].createElement(a["default"],{list:["从当前流程中删除","从整个项目中删除"],defaultIdx:0,propClass:"delete-way-radio"}),cancelBtnName:"取消",submitBtnName:"确定",submitBtnFunc:function(){t&&t("1"==$(".main-fixed-comp .radio-check-btn-comp").attr("data-idx")),d["default"].hide()},cancelBtnFunc:function(){n&&n(),d["default"].hide()},closeBtnFunc:function(){n&&n(),d["default"].hide()}})}function w(e){var t=e.callback;d["default"].init({width:640,title:"删除页面",cancelBtnName:"取消",submitBtnName:"删除",content:o["default"].createElement("div",{className:"popup-content"},o["default"].createElement("span",null,"在「总流程」中删除页面会同时删除其他子流程中的该页面，是否删除？")),submitBtnFunc:function(){t&&t(),d["default"].hide()}})}t.pageDispearFunc=m,t.deleteSelectPageFunc=_,t.deletePagesBaseFunc=v,t.popupDeletePageFlowPage=b,t.popupDeleteOhterPageFlowPage=w,t["default"]={deleteSelectPageFunc:_,popupDeletePageFlowPage:b,popupDeleteOhterPageFlowPage:w}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(11)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={checkIdx:null},n}return o(t,e),t.prototype.chooseNode=function(e){var t=e.currentTarget.getAttribute("data-idx");this.setState({checkIdx:t})},t.prototype.renderRadio=function(e,t){var n=this,r=[],o=n.state.checkIdx;return e.forEach(function(e,a){r.push(l["default"].createElement("div",{key:"radio"+e,"data-idx":a,onClick:n.chooseNode,className:c["default"]("radio-btn-comp",{"radio-check-btn-comp":(o||t)==a})},l["default"].createElement("div",{className:"radio-check"}),l["default"].createElement("div",{className:"radio-text"},e)))}),r},t.prototype.render=function(){var e=this.props,t=e.list,n=e.defaultIdx,r=e.propClass;return l["default"].createElement("div",{className:"radio-btn-list popup-content "+r},this.renderRadio(t,n))},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"chooseNode",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"renderRadio",null),t}(l["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(8)),l=a(n(999)),u=a(n(837)),c=a(n(340)),d=[["control",!0],["page"],["image"],["symbolLib"],["tutorial"]],f=window.isPc;function p(){var e=n(290)["default"],t=n(48)["default"],r=n(5)["default"],o=n(318)["default"];f=window.isPc&&!f;var a=t.getCurPos();f?(o.phoneConBoxChangePos({left:a.left-225,top:a.top,transition:!1,autoOff:!0,optimization:!1}),r.setViewProp({leftUnFold:!1}),t.emitChange()):(o.phoneConBoxChangePos({left:a.left+225,top:a.top,transition:!1,autoOff:!0,optimization:!1}),r.setViewProp({leftUnFold:!0}),t.emitChange()),e.resetSize()}var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getLabel=function(e){return e?d:d.concat()},t.prototype.getCurrLabel=function(){var e;return d.forEach(function(t){t[1]&&(e=t[0])}),e},t.prototype.getFold=function(){return f},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter);s["default"].register(function(e){switch(e.actionType){case l["default"].LEFTLABEL_CHANGE:t=e.activeLabel,n=e.fold,d.forEach(function(e){e[0]===t?e[1]=!0:e[1]=!1}),"page"===t?(c["default"].getPageLib(),c["default"].getPublicPageLib()):"image"===t&&(c["default"].getImageLib(),c["default"].getPublicImageLib(),c["default"].getHistoryImages()),"control"!==t&&"page"!==t||u["default"].resetAllSeachObj(!0),n&&p(),g.emitChange();break;case l["default"].LEFTLABEL_FOLD:p(),g.emitChange()}var t,n});var g=new h;t["default"]=g},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=n(484),i=new(function(){function e(){this.GuideLineActionID=a.GuideLineActionID}return e.prototype.addLine=function(e){o["default"].dispatch({actionType:a.GuideLineActionID.GUIDE_ADD,pageId:parseInt(e.pageId),type:e.type,value:e.value,isShow:e.isShow})},e.prototype.updateLine=function(e,t){o["default"].dispatch({actionType:a.GuideLineActionID.GUIDE_UPDATE,id:e,value:t})},e.prototype.removeLine=function(e){o["default"].dispatch({actionType:a.GuideLineActionID.GUIDE_REMOVE,id:e})},e.prototype.showLine=function(e,t){o["default"].dispatch({actionType:a.GuideLineActionID.GUIDE_SHOW,id:e,isShow:t})},e}());t["default"]=i},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(485));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={init:function(e){o["default"].dispatch({actionType:a["default"].CUTIMAGE_INIT,contrId:e})},exit:function(){o["default"].dispatch({actionType:a["default"].CUTIMAGE_EXIT})},changeCutVals:function(e){o["default"].dispatch({actionType:a["default"].CUTIMAGE_CHANGECUTVALS,cutVals:e})},isCutSpot:function(e){o["default"].dispatch({actionType:a["default"].CUTIMAGE_ISCUTSPOT,isCutSpot:e})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"CutImageActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/CutImageActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/CutImageActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(170),a=r(n(146)),i=r(n(880)),s=n(1318),l=window,u=(l.$,l.mouseDownTarget),c=null;function d(){var e=a["default"].getCursor();return u.name||"view-move"==e||"color-picker"==e}function f(e){if(!d()&&c!=e.currentTarget){var t=o.getEventAttr({event:e,key:"data-eventkey"}),n=o.getEventAttr({event:e,key:"data-cursorkey"}),r=e.type,l=e.currentTarget;if(c=l,a["default"].setCursor(n),-1!==["element","frame"].indexOf(t))"mouseenter"==r?s.elementMouseEnter(e):"mousemove"==r&&s.elementMouseMove(e);else if(-1!==["rulervertical","rulerhorizontal"].indexOf(t)&&"mouseenter"==r){var u=o.getEventAttr({event:e,key:"data-guidekey"});i["default"].changeGuideLineVal({id:u,isShow:!0})}}}function p(e){f(e)}function h(e){f(e)}function g(e){if(!d()){var t=o.getEventAttr({event:e,key:"data-eventkey"});if(c=null,a["default"].setCursor("base"),"element"==t)s.elementMouseLeave();else if(-1!==["rulervertical","rulerhorizontal"].indexOf(t)){var n=o.getEventAttr({event:e,key:"data-guidekey"});i["default"].changeGuideLineVal({id:n,isShow:!1})}}}function y(){return{onMouseEnter:p,onMouseMove:h,onMouseLeave:g}}t._handleMouseMove=h,t._handleMouseLeave=g,t.getHoverFunc=y,t["default"]={getHoverFunc:y}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(278)),c=s(n(3)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loadingInfo:u["default"].getLoadingInfo(),renderChange:0},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.state.renderChange!==t.renderChange},t.prototype.componentDidMount=function(){u["default"].addChangeListener(this.onLoadChange)},t.prototype.componentWillUnmount=function(){u["default"].removeChangeListener(this.onLoadChange)},t.prototype.onLoadChange=function(){this.setState({renderChange:this.state.renderChange+1,loadingInfo:u["default"].getLoadingInfo()})},t.prototype.render=function(){var e=this.props.text,t=void 0===e?this.state.loadingInfo.desc:e;return this.state.loadingInfo.isLoaded?null:l["default"].createElement("div",{className:"loading-view"},l["default"].createElement("div",{className:"loader"},l["default"].createElement("h1",null,t),l["default"].createElement("span",null),l["default"].createElement("span",null),l["default"].createElement("span",null)))},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onLoadChange",null),t}(l["default"].Component);t["default"]=d},,function(e,t,n){"use strict";n.r(t);var r=n(2);r.k._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(){var e=function(e){r.i.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var t,n,o=this.vars;for(n in o)t=o[n],a(t)&&-1!==t.join("").indexOf("{self}")&&(o[n]=this._swapSelfInParams(t));a(o.tweens)&&this.add(o.tweens,0,o.align,o.stagger)},t=r.l._internals,n=e._internals={},o=t.isSelector,a=t.isArray,i=t.lazyTweens,s=t.lazyRender,l=r.k._gsDefine.globals,u=function(e){var t,n={};for(t in e)n[t]=e[t];return n},c=function(e,t,n){var r,o,a=e.cycle;for(r in a)o=a[r],e[r]="function"==typeof o?o(n,t[n]):o[n%o.length];delete e.cycle},d=n.pauseCallback=function(){},f=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},p=e.prototype=new r.i;return e.version="1.20.5",p.constructor=e,p.kill()._gc=p._forcingPlayhead=p._hasPause=!1,p.to=function(e,t,n,o){var a=n.repeat&&l.TweenMax||r.l;return t?this.add(new a(e,t,n),o):this.set(e,n,o)},p.from=function(e,t,n,o){return this.add((n.repeat&&l.TweenMax||r.l).from(e,t,n),o)},p.fromTo=function(e,t,n,o,a){var i=o.repeat&&l.TweenMax||r.l;return t?this.add(i.fromTo(e,t,n,o),a):this.set(e,o,a)},p.staggerTo=function(t,n,a,i,s,l,d,p){var h,g,y=new e({onComplete:l,onCompleteParams:d,callbackScope:p,smoothChildTiming:this.smoothChildTiming}),m=a.cycle;for("string"==typeof t&&(t=r.l.selector(t)||t),o(t=t||[])&&(t=f(t)),(i=i||0)<0&&((t=f(t)).reverse(),i*=-1),g=0;g<t.length;g++)(h=u(a)).startAt&&(h.startAt=u(h.startAt),h.startAt.cycle&&c(h.startAt,t,g)),m&&(c(h,t,g),null!=h.duration&&(n=h.duration,delete h.duration)),y.to(t[g],n,h,g*i);return this.add(y,s)},p.staggerFrom=function(e,t,n,r,o,a,i,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(e,t,n,r,o,a,i,s)},p.staggerFromTo=function(e,t,n,r,o,a,i,s,l){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,this.staggerTo(e,t,r,o,a,i,s,l)},p.call=function(e,t,n,o){return this.add(r.l.delayedCall(0,e,t,n),o)},p.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new r.l(e,0,t),n)},e.exportRoot=function(t,n){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var o,a,i,s,l=new e(t),u=l._timeline;for(null==n&&(n=!0),u._remove(l,!0),l._startTime=0,l._rawPrevTime=l._time=l._totalTime=u._time,i=u._first;i;)s=i._next,n&&i instanceof r.l&&i.target===i.vars.onComplete||((a=i._startTime-i._delay)<0&&(o=1),l.add(i,a)),i=s;return u.add(l,0),o&&l.totalDuration(),l},p.add=function(t,n,o,i){var s,l,u,c,d,f;if("number"!=typeof n&&(n=this._parseTimeOrLabel(n,0,!0,t)),!(t instanceof r.a)){if(t instanceof Array||t&&t.push&&a(t)){for(o=o||"normal",i=i||0,s=n,l=t.length,u=0;u<l;u++)a(c=t[u])&&(c=new e({tweens:c})),this.add(c,s),"string"!=typeof c&&"function"!=typeof c&&("sequence"===o?s=c._startTime+c.totalDuration()/c._timeScale:"start"===o&&(c._startTime-=c.delay())),s+=i;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,n);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=r.l.delayedCall(0,t)}if(r.i.prototype.add.call(this,t,n),t._time&&t.render((this.rawTime()-t._startTime)*t._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=(d=this).rawTime()>t._startTime;d._timeline;)f&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},p.remove=function(e){if(e instanceof r.a){this._remove(e,!1);var t=e._timeline=e.vars.useFrames?r.a._rootFramesTimeline:r.a._rootTimeline;return e._startTime=(e._paused?e._pauseTime:t._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&a(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},p._remove=function(e,t){return r.i.prototype._remove.call(this,e,t),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},p.insert=p.insertMultiple=function(e,t,n,r){return this.add(e,t||0,n,r)},p.appendMultiple=function(e,t,n,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,r)},p.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},p.addPause=function(e,t,n,o){var a=r.l.delayedCall(0,d,n,o||this);return a.vars.onComplete=a.vars.onReverseComplete=t,a.data="isPause",this._hasPause=!0,this.add(a,e)},p.removeLabel=function(e){return delete this._labels[e],this},p.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},p._parseTimeOrLabel=function(e,t,n,o){var i,s;if(o instanceof r.a&&o.timeline===this)this.remove(o);else if(o&&(o instanceof Array||o.push&&a(o)))for(s=o.length;--s>-1;)o[s]instanceof r.a&&o[s].timeline===this&&this.remove(o[s]);if(i="number"!=typeof e||t?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof t)return this._parseTimeOrLabel(t,n&&"number"==typeof e&&null==this._labels[t]?e-i:0,n);if(t=t||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=i);else{if(-1===(s=e.indexOf("=")))return null==this._labels[e]?n?this._labels[e]=i+t:t:this._labels[e]+t;t=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,n):i}return Number(e)+t},p.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(e,t){return this.play(e,t)},p.gotoAndStop=function(e,t){return this.pause(e,t)},p.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var r,o,a,l,u,c,d,f=this._time,p=this._dirty?this.totalDuration():this._totalDuration,h=this._startTime,g=this._timeScale,y=this._paused;if(f!==this._time&&(e+=this._time-f),e>=p-1e-7&&e>=0)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(o=!0,l="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(e<=0&&e>=-1e-7||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==e&&this._first&&(u=!0,this._rawPrevTime>1e-10&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:1e-10,e=p+1e-4;else if(e<1e-7)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||e<0&&this._rawPrevTime>=0))&&(l="onReverseComplete",o=this._reversed),e<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=o=!0,l="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:1e-10,0===e&&o)for(r=this._first;r&&0===r._startTime;)r._duration||(o=!1),r=r._next;e=0,this._initted||(u=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=f)for(r=this._first;r&&r._startTime<=e&&!c;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(c=r),r=r._next;else for(r=this._last;r&&r._startTime>=e&&!c;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(c=r),r=r._prev;c&&(this._time=e=c._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==f&&this._first||n||u||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&e>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||t||this._callback("onStart")),(d=this._time)>=f)for(r=this._first;r&&(a=r._next,d===this._time&&(!this._paused||y));)(r._active||r._startTime<=d&&!r._paused&&!r._gc)&&(c===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=a;else for(r=this._last;r&&(a=r._prev,d===this._time&&(!this._paused||y));){if(r._active||r._startTime<=f&&!r._paused&&!r._gc){if(c===r){for(c=r._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(e-c._startTime)*c._timeScale:(e-c._startTime)*c._timeScale,t,n),c=c._prev;c=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)}r=a}this._onUpdate&&(t||(i.length&&s(),this._callback("onUpdate"))),l&&(this._gc||h!==this._startTime&&g===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(i.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[l]&&this._callback(l)))}},p._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof e&&t._hasPausedChild())return!0;t=t._next}return!1},p.getChildren=function(e,t,n,o){o=o||-9999999999;for(var a=[],i=this._first,s=0;i;)i._startTime<o||(i instanceof r.l?!1!==t&&(a[s++]=i):(!1!==n&&(a[s++]=i),!1!==e&&(s=(a=a.concat(i.getChildren(!0,t,n))).length))),i=i._next;return a},p.getTweensOf=function(e,t){var n,o,a=this._gc,i=[],s=0;for(a&&this._enabled(!0,!0),o=(n=r.l.getTweensOf(e)).length;--o>-1;)(n[o].timeline===this||t&&this._contains(n[o]))&&(i[s++]=n[o]);return a&&this._enabled(!1,!0),i},p.recent=function(){return this._recent},p._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},p.shiftChildren=function(e,t,n){n=n||0;for(var r,o=this._first,a=this._labels;o;)o._startTime>=n&&(o._startTime+=e),o=o._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return this._uncache(!0)},p._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),r=n.length,o=!1;--r>-1;)n[r]._kill(e,t)&&(o=!0);return o},p.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;--n>-1;)t[n]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return r.a.prototype.invalidate.call(this)},p._enabled=function(e,t){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return r.i.prototype._enabled.call(this,e,t)},p.totalTime=function(e,t,n){this._forcingPlayhead=!0;var o=r.a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,o},p.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,r=0,o=this._last,a=999999999999;o;)t=o._prev,o._dirty&&o.totalDuration(),o._startTime>a&&this._sortChildren&&!o._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(o,o._startTime-o._delay),this._calculatingDuration=0):a=o._startTime,o._startTime<0&&!o._paused&&(r-=o._startTime,this._timeline.smoothChildTiming&&(this._startTime+=o._startTime/this._timeScale,this._time-=o._startTime,this._totalTime-=o._startTime,this._rawPrevTime-=o._startTime),this.shiftChildren(-o._startTime,!1,-9999999999),a=0),(n=o._startTime+o._totalDuration/o._timeScale)>r&&(r=n),o=t;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},p.paused=function(e){if(!e)for(var t=this._first,n=this._time;t;)t._startTime===n&&"isPause"===t.data&&(t._rawPrevTime=0),t=t._next;return r.a.prototype.paused.apply(this,arguments)},p.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===r.a._rootFramesTimeline},p.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},e},!0);const o=r.k.TimelineLite;r.k._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(){var e=function(e){o.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},t=r.l._internals,n=t.lazyTweens,a=t.lazyRender,i=r.k._gsDefine.globals,s=new r.b(null,null,1,0),l=e.prototype=new o;return l.constructor=e,l.kill()._gc=!1,e.version="1.20.5",l.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),o.prototype.invalidate.call(this)},l.addCallback=function(e,t,n,o){return this.add(r.l.delayedCall(0,e,n,o),t)},l.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var n=this.getTweensOf(e,!1),r=n.length,o=this._parseTimeOrLabel(t);--r>-1;)n[r]._startTime===o&&n[r]._enabled(!1,!1);return this},l.removePause=function(e){return this.removeCallback(o._internals.pauseCallback,e)},l.tweenTo=function(e,t){t=t||{};var n,o,a,l={ease:s,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},u=t.repeat&&i.TweenMax||r.l;for(o in t)l[o]=t[o];return l.time=this._parseTimeOrLabel(e),n=Math.abs(Number(l.time)-this._time)/this._timeScale||.001,a=new u(this,n,l),l.onStart=function(){a.target.paused(!0),a.vars.time===a.target.time()||n!==a.duration()||a.isFromTo||a.duration(Math.abs(a.vars.time-a.target.time())/a.target._timeScale).render(a.time(),!0,!0),t.onStart&&t.onStart.apply(t.onStartScope||t.callbackScope||a,t.onStartParams||[])},a},l.tweenFromTo=function(e,t,n){n=n||{},e=this._parseTimeOrLabel(e),n.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},n.immediateRender=!1!==n.immediateRender;var r=this.tweenTo(t,n);return r.isFromTo=1,r.duration(Math.abs(r.vars.time-e)/this._timeScale||.001)},l.render=function(e,t,r){this._gc&&this._enabled(!0,!1);var o,i,s,l,u,c,d,f,p=this._time,h=this._dirty?this.totalDuration():this._totalDuration,g=this._duration,y=this._totalTime,m=this._startTime,_=this._timeScale,v=this._rawPrevTime,b=this._paused,w=this._cycle;if(p!==this._time&&(e+=this._time-p),e>=h-1e-7&&e>=0)this._locked||(this._totalTime=h,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(i=!0,l="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(e<=0&&e>=-1e-7||v<0||1e-10===v)&&v!==e&&this._first&&(u=!0,v>1e-10&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=e=0:(this._time=g,e=g+1e-4);else if(e<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===g&&1e-10!==v&&(v>0||e<0&&v>=0)&&!this._locked)&&(l="onReverseComplete",i=this._reversed),e<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=i=!0,l="onReverseComplete"):v>=0&&this._first&&(u=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=g||!t||e||this._rawPrevTime===e?e:1e-10,0===e&&i)for(o=this._first;o&&0===o._startTime;)o._duration||(i=!1),o=o._next;e=0,this._initted||(u=!0)}else if(0===g&&v<0&&(u=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(c=g+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&y<=e&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!=(1&this._cycle)&&(this._time=g-this._time),this._time>g?(this._time=g,e=g+1e-4):this._time<0?this._time=e=0:e=this._time)),this._hasPause&&!this._forcingPlayhead&&!t){if((e=this._time)>=p||this._repeat&&w!==this._cycle)for(o=this._first;o&&o._startTime<=e&&!d;)o._duration||"isPause"!==o.data||o.ratio||0===o._startTime&&0===this._rawPrevTime||(d=o),o=o._next;else for(o=this._last;o&&o._startTime>=e&&!d;)o._duration||"isPause"===o.data&&o._rawPrevTime>0&&(d=o),o=o._prev;d&&d._startTime<g&&(this._time=e=d._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var C=this._yoyo&&0!=(1&w),x=C===(this._yoyo&&0!=(1&this._cycle)),S=this._totalTime,P=this._cycle,k=this._rawPrevTime,O=this._time;if(this._totalTime=w*g,this._cycle<w?C=!C:this._totalTime+=g,this._time=p,this._rawPrevTime=0===g?v-1e-4:v,this._cycle=w,this._locked=!0,p=C?0:g,this.render(p,t,0===g),t||this._gc||this.vars.onRepeat&&(this._cycle=P,this._locked=!1,this._callback("onRepeat")),p!==this._time)return;if(x&&(this._cycle=w,this._locked=!0,p=C?g+1e-4:-1e-4,this.render(p,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=O,this._totalTime=S,this._cycle=P,this._rawPrevTime=k}if(this._time!==p&&this._first||r||u||d){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==y&&e>0&&(this._active=!0),0===y&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||t||this._callback("onStart")),(f=this._time)>=p)for(o=this._first;o&&(s=o._next,f===this._time&&(!this._paused||b));)(o._active||o._startTime<=this._time&&!o._paused&&!o._gc)&&(d===o&&this.pause(),o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,r):o.render((e-o._startTime)*o._timeScale,t,r)),o=s;else for(o=this._last;o&&(s=o._prev,f===this._time&&(!this._paused||b));){if(o._active||o._startTime<=p&&!o._paused&&!o._gc){if(d===o){for(d=o._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(e-d._startTime)*d._timeScale:(e-d._startTime)*d._timeScale,t,r),d=d._prev;d=null,this.pause()}o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,r):o.render((e-o._startTime)*o._timeScale,t,r)}o=s}this._onUpdate&&(t||(n.length&&a(),this._callback("onUpdate"))),l&&(this._locked||this._gc||m!==this._startTime&&_===this._timeScale||(0===this._time||h>=this.totalDuration())&&(i&&(n.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[l]&&this._callback(l)))}else y!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},l.getActive=function(e,t,n){null==e&&(e=!0),null==t&&(t=!0),null==n&&(n=!1);var r,o,a=[],i=this.getChildren(e,t,n),s=0,l=i.length;for(r=0;r<l;r++)(o=i[r]).isActive()&&(a[s++]=o);return a},l.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,n=this.getLabelsArray(),r=n.length;for(t=0;t<r;t++)if(n[t].time>e)return n[t].name;return null},l.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),n=t.length;--n>-1;)if(t[n].time<e)return t[n].name;return null},l.getLabelsArray=function(){var e,t=[],n=0;for(e in this._labels)t[n++]={time:this._labels[e],name:e};return t.sort(function(e,t){return e.time-t.time}),t},l.invalidate=function(){return this._locked=!1,o.prototype.invalidate.call(this)},l.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()||0},l.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()||0},l.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(o.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},l.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},l.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},l.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},l.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},e},!0);const a=r.k.TimelineMax;r.k._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(){var e=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},t=function(e,t,n){var r,o,a=e.cycle;for(r in a)o=a[r],e[r]="function"==typeof o?o(n,t[n]):o[n%o.length];delete e.cycle},n=function(e,t,o){r.l.call(this,e,t,o),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=n.prototype.render},o=r.l._internals,a=o.isSelector,i=o.isArray,s=n.prototype=r.l.to({},.1,{}),l=[];n.version="1.20.5",s.constructor=n,s.kill()._gc=!1,n.killTweensOf=n.killDelayedCallsTo=r.l.killTweensOf,n.getTweensOf=r.l.getTweensOf,n.lagSmoothing=r.l.lagSmoothing,n.ticker=r.l.ticker,n.render=r.l.render,s.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),r.l.prototype.invalidate.call(this)},s.updateTo=function(e,t){var n,o=this.ratio,a=this.vars.immediateRender||e.immediateRender;for(n in t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),e)this.vars[n]=e[n];if(this._initted||a)if(t)this._initted=!1,a&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&r.l._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var i=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(i,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||a)for(var s,l=1/(1-o),u=this._firstPT;u;)s=u.s+u.c,u.c*=l,u.s=s-u.c,u=u._next;return this},s.render=function(e,t,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var a,i,s,l,u,c,d,f,p,h=this._dirty?this.totalDuration():this._totalDuration,g=this._time,y=this._totalTime,m=this._cycle,_=this._duration,v=this._rawPrevTime;if(e>=h-1e-7&&e>=0?(this._totalTime=h,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=_,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(a=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===_&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(v<0||e<=0&&e>=-1e-7||1e-10===v&&"isPause"!==this.data)&&v!==e&&(n=!0,v>1e-10&&(i="onReverseComplete")),this._rawPrevTime=f=!t||e||v===e?e:1e-10)):e<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==y||0===_&&v>0)&&(i="onReverseComplete",a=this._reversed),e<0&&(this._active=!1,0===_&&(this._initted||!this.vars.lazy||n)&&(v>=0&&(n=!0),this._rawPrevTime=f=!t||e||v===e?e:1e-10)),this._initted||(n=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(l=_+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&y<=e&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=_-this._time,(p=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==p||this._initted?this._yoyoEase=p=!0===p?this._ease:p instanceof r.b?p:r.b.map[p]:(p=this.vars.ease,this._yoyoEase=p=p?p instanceof r.b?p:"function"==typeof p?new r.b(p,this.vars.easeParams):r.b.map[p]||r.l.defaultEase:r.l.defaultEase)),this.ratio=p?1-p.getRatio((_-this._time)/_):0)),this._time>_?this._time=_:this._time<0&&(this._time=0)),this._easeType&&!p?(u=this._time/_,(1===(c=this._easeType)||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===(d=this._easePower)?u*=u:2===d?u*=u*u:3===d?u*=u*u*u:4===d&&(u*=u*u*u*u),1===c?this.ratio=1-u:2===c?this.ratio=u:this._time/_<.5?this.ratio=u/2:this.ratio=1-u/2):p||(this.ratio=this._ease.getRatio(this._time/_))),g!==this._time||n||m!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=g,this._totalTime=y,this._rawPrevTime=v,this._cycle=m,o.lazyTweens.push(this),void(this._lazy=[e,t]);!this._time||a||p?a&&this._ease._calcEnd&&!p&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/_)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==g&&e>=0&&(this._active=!0),0===y&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,!0,n):i||(i="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==_||t||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(e<0&&this._startAt&&this._startTime&&this._startAt.render(e,!0,n),t||(this._totalTime!==y||i)&&this._callback("onUpdate")),this._cycle!==m&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),i&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,!0,n),a&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this._callback(i),0===_&&1e-10===this._rawPrevTime&&1e-10!==f&&(this._rawPrevTime=0)))}else y!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},n.to=function(e,t,r){return new n(e,t,r)},n.from=function(e,t,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new n(e,t,r)},n.fromTo=function(e,t,r,o){return o.startAt=r,o.immediateRender=0!=o.immediateRender&&0!=r.immediateRender,new n(e,t,o)},n.staggerTo=n.allTo=function(o,s,u,c,d,f,p){c=c||0;var h,g,y,m,_=0,v=[],b=function(){u.onComplete&&u.onComplete.apply(u.onCompleteScope||this,arguments),d.apply(p||u.callbackScope||this,f||l)},w=u.cycle,C=u.startAt&&u.startAt.cycle;for(i(o)||("string"==typeof o&&(o=r.l.selector(o)||o),a(o)&&(o=e(o))),o=o||[],c<0&&((o=e(o)).reverse(),c*=-1),h=o.length-1,y=0;y<=h;y++){for(m in g={},u)g[m]=u[m];if(w&&(t(g,o,y),null!=g.duration&&(s=g.duration,delete g.duration)),C){for(m in C=g.startAt={},u.startAt)C[m]=u.startAt[m];t(g.startAt,o,y)}g.delay=_+(g.delay||0),y===h&&d&&(g.onComplete=b),v[y]=new n(o[y],s,g),_+=c}return v},n.staggerFrom=n.allFrom=function(e,t,r,o,a,i,s){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,n.staggerTo(e,t,r,o,a,i,s)},n.staggerFromTo=n.allFromTo=function(e,t,r,o,a,i,s,l){return o.startAt=r,o.immediateRender=0!=o.immediateRender&&0!=r.immediateRender,n.staggerTo(e,t,o,a,i,s,l)},n.delayedCall=function(e,t,r,o,a){return new n(t,0,{delay:e,onComplete:t,onCompleteParams:r,callbackScope:o,onReverseComplete:t,onReverseCompleteParams:r,immediateRender:!1,useFrames:a,overwrite:0})},n.set=function(e,t){return new n(e,0,t)},n.isTweening=function(e){return r.l.getTweensOf(e,!0).length>0};var u=function(e,t){for(var n=[],o=0,a=e._first;a;)a instanceof r.l?n[o++]=a:(t&&(n[o++]=a),o=(n=n.concat(u(a,t))).length),a=a._next;return n},c=n.getAllTweens=function(e){return u(r.a._rootTimeline,e).concat(u(r.a._rootFramesTimeline,e))};n.killAll=function(e,t,n,o){null==t&&(t=!0),null==n&&(n=!0);var a,i,s,l=c(0!=o),u=l.length,d=t&&n&&o;for(s=0;s<u;s++)i=l[s],(d||i instanceof r.i||(a=i.target===i.vars.onComplete)&&n||t&&!a)&&(e?i.totalTime(i._reversed?0:i.totalDuration()):i._enabled(!1,!1))},n.killChildTweensOf=function(t,s){if(null!=t){var l,u,c,d,f,p=o.tweenLookup;if("string"==typeof t&&(t=r.l.selector(t)||t),a(t)&&(t=e(t)),i(t))for(d=t.length;--d>-1;)n.killChildTweensOf(t[d],s);else{for(c in l=[],p)for(u=p[c].target.parentNode;u;)u===t&&(l=l.concat(p[c].tweens)),u=u.parentNode;for(f=l.length,d=0;d<f;d++)s&&l[d].totalTime(l[d].totalDuration()),l[d]._enabled(!1,!1)}}};var d=function(e,t,n,o){t=!1!==t,n=!1!==n;for(var a,i,s=c(o=!1!==o),l=t&&n&&o,u=s.length;--u>-1;)i=s[u],(l||i instanceof r.i||(a=i.target===i.vars.onComplete)&&n||t&&!a)&&i.paused(e)};return n.pauseAll=function(e,t,n){d(!0,e,t,n)},n.resumeAll=function(e,t,n){d(!1,e,t,n)},n.globalTimeScale=function(e){var t=r.a._rootTimeline,n=r.l.ticker.time;return arguments.length?(e=e||1e-10,t._startTime=n-(n-t._startTime)*t._timeScale/e,t=r.a._rootFramesTimeline,n=r.l.ticker.frame,t._startTime=n-(n-t._startTime)*t._timeScale/e,t._timeScale=r.a._rootTimeline._timeScale=e,e):t._timeScale},s.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},s.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},s.duration=function(e){return arguments.length?r.a.prototype.duration.call(this,e):this._duration},s.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},s.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},s.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},s.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},n},!0);const i=r.k.TweenMax;r.k._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(){var e,t,n,o,a=function(){r.j.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},i=r.k._gsDefine.globals,s={},l=a.prototype=new r.j("css");l.constructor=a,a.version="1.20.5",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,l="px",a.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var u,c,d,f,p,h,g,y,m=/(?:\-|\.|\b)(\d|\.|e\-)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,b=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,C=/opacity *= *([^)]*)/i,x=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,k=/([A-Z])/g,O=/-([a-z])/gi,E=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,T=function(e,t){return t.toUpperCase()},M=/(?:Left|Right|Width)/i,D=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,A=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,j=/,(?=[^\)]*(?:\(|$))/gi,I=/[\s,\(]/i,L=Math.PI/180,R=180/Math.PI,B={},N={style:{}},F=r.k.document||{createElement:function(){return N}},H=function(e,t){return F.createElementNS?F.createElementNS(t||"http://www.w3.org/1999/xhtml",e):F.createElement(e)},$=H("div"),z=H("img"),U=a._internals={_specialProps:s},V=(r.k.navigator||{}).userAgent||"",K=function(){var e=V.indexOf("Android"),t=H("a");return d=-1!==V.indexOf("Safari")&&-1===V.indexOf("Chrome")&&(-1===e||parseFloat(V.substr(e+8,2))>3),p=d&&parseFloat(V.substr(V.indexOf("Version/")+8,2))<6,f=-1!==V.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(V)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(V))&&(h=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),G=function(e){return C.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},q=function(e){r.k.console&&console.log(e)},W="",Y="",X=function(e,t){var n,r,o=(t=t||$).style;if(o[e]!==undefined)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&o[n[r]+e]===undefined;);return r>=0?(W="-"+(Y=3===r?"ms":n[r]).toLowerCase()+"-",Y+e):null},Z=("undefined"!=typeof window?window:F.defaultView||{getComputedStyle:function(){}}).getComputedStyle,J=a.getStyle=function(e,t,n,r,o){var a;return K||"opacity"!==t?(!r&&e.style[t]?a=e.style[t]:(n=n||Z(e))?a=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(k,"-$1").toLowerCase()):e.currentStyle&&(a=e.currentStyle[t]),null==o||a&&"none"!==a&&"auto"!==a&&"auto auto"!==a?a:o):G(e)},Q=U.convertToPixels=function(e,t,n,o,i){if("px"===o||!o&&"lineHeight"!==t)return n;if("auto"===o||!n)return 0;var s,l,u,c=M.test(t),d=e,f=$.style,p=n<0,h=1===n;if(p&&(n=-n),h&&(n*=100),"lineHeight"!==t||o)if("%"===o&&-1!==t.indexOf("border"))s=n/100*(c?e.clientWidth:e.clientHeight);else{if(f.cssText="border:0 solid red;position:"+J(e,"position")+";line-height:0;","%"!==o&&d.appendChild&&"v"!==o.charAt(0)&&"rem"!==o)f[c?"borderLeftWidth":"borderTopWidth"]=n+o;else{if(d=e.parentNode||F.body,-1!==J(d,"display").indexOf("flex")&&(f.position="absolute"),l=d._gsCache,u=r.l.ticker.frame,l&&c&&l.time===u)return l.width*n/100;f[c?"width":"height"]=n+o}d.appendChild($),s=parseFloat($[c?"offsetWidth":"offsetHeight"]),d.removeChild($),c&&"%"===o&&!1!==a.cacheWidths&&((l=d._gsCache=d._gsCache||{}).time=u,l.width=s/n*100),0!==s||i||(s=Q(e,t,n,o,!0))}else l=Z(e).lineHeight,e.style.lineHeight=n,s=parseFloat(Z(e).lineHeight),e.style.lineHeight=l;return h&&(s/=100),p?-s:s},ee=U.calculateOffset=function(e,t,n){if("absolute"!==J(e,"position",n))return 0;var r="left"===t?"Left":"Top",o=J(e,"margin"+r,n);return e["offset"+r]-(Q(e,t,parseFloat(o),o.replace(w,""))||0)},te=function(e,t){var n,r,o,a={};if(t=t||Z(e,null))if(n=t.length)for(;--n>-1;)-1!==(o=t[n]).indexOf("-transform")&&Ae!==o||(a[o.replace(O,T)]=t.getPropertyValue(o));else for(n in t)-1!==n.indexOf("Transform")&&De!==n||(a[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&a[n]===undefined&&(a[n.replace(O,T)]=t[n]);return K||(a.opacity=G(e)),r=Ke(e,t,!1),a.rotation=r.rotation,a.skewX=r.skewX,a.scaleX=r.scaleX,a.scaleY=r.scaleY,a.x=r.x,a.y=r.y,Ie&&(a.z=r.z,a.rotationX=r.rotationX,a.rotationY=r.rotationY,a.scaleZ=r.scaleZ),a.filters&&delete a.filters,a},ne=function(e,t,n,r,o){var a,i,s,l={},u=e.style;for(i in n)"cssText"!==i&&"length"!==i&&isNaN(i)&&(t[i]!==(a=n[i])||o&&o[i])&&-1===i.indexOf("Origin")&&("number"!=typeof a&&"string"!=typeof a||(l[i]="auto"!==a||"left"!==i&&"top"!==i?""!==a&&"auto"!==a&&"none"!==a||"string"!=typeof t[i]||""===t[i].replace(b,"")?a:0:ee(e,i),u[i]!==undefined&&(s=new me(u,i,u[i],s))));if(r)for(i in r)"className"!==i&&(l[i]=r[i]);return{difs:l,firstMPT:s}},re={width:["Left","Right"],height:["Top","Bottom"]},oe=["marginLeft","marginRight","marginTop","marginBottom"],ae=function(e,t,n){if("svg"===(e.nodeName+"").toLowerCase())return(n||Z(e))[t]||0;if(e.getCTM&&ze(e))return e.getBBox()[t]||0;var r=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),o=re[t],a=o.length;for(n=n||Z(e,null);--a>-1;)r-=parseFloat(J(e,"padding"+o[a],n,!0))||0,r-=parseFloat(J(e,"border"+o[a]+"Width",n,!0))||0;return r},ie=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var n,r=e.split(" "),o=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":r[0],a=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":r[1];if(r.length>3&&!t){for(r=e.split(", ").join(",").split(","),e=[],n=0;n<r.length;n++)e.push(ie(r[n]));return e.join(",")}return null==a?a="center"===o?"50%":"0":"center"===a&&(a="50%"),("center"===o||isNaN(parseFloat(o))&&-1===(o+"").indexOf("="))&&(o="50%"),e=o+" "+a+(r.length>2?" "+r[2]:""),t&&(t.oxp=-1!==o.indexOf("%"),t.oyp=-1!==a.indexOf("%"),t.oxr="="===o.charAt(1),t.oyr="="===a.charAt(1),t.ox=parseFloat(o.replace(b,"")),t.oy=parseFloat(a.replace(b,"")),t.v=e),t||e},se=function(e,t){return"function"==typeof e&&(e=e(y,g)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},le=function(e,t){return"function"==typeof e&&(e=e(y,g)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},ue=function(e,t,n,r){var o,a,i,s;return"function"==typeof e&&(e=e(y,g)),null==e?i=t:"number"==typeof e?i=e:(360,o=e.split("_"),a=((s="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===e.indexOf("rad")?1:R)-(s?0:t),o.length&&(r&&(r[n]=t+a),-1!==e.indexOf("short")&&(a%=360)!==a%180&&(a=a<0?a+360:a-360),-1!==e.indexOf("_cw")&&a<0?a=(a+3599999999640)%360-360*(a/360|0):-1!==e.indexOf("ccw")&&a>0&&(a=(a-3599999999640)%360-360*(a/360|0))),i=t+a),i<1e-6&&i>-1e-6&&(i=0),i},ce={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},de=function(e,t,n){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},fe=a.parseColor=function(e,t){var n,r,o,a,i,s,l,u,c,d,f;if(e)if("number"==typeof e)n=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),ce[e])n=ce[e];else if("#"===e.charAt(0))4===e.length&&(r=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+r+r+o+o+a+a),n=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(n=f=e.match(m),t){if(-1!==e.indexOf("="))return e.match(_)}else i=Number(n[0])%360/360,s=Number(n[1])/100,r=2*(l=Number(n[2])/100)-(o=l<=.5?l*(s+1):l+s-l*s),n.length>3&&(n[3]=Number(n[3])),n[0]=de(i+1/3,r,o),n[1]=de(i,r,o),n[2]=de(i-1/3,r,o);else n=e.match(m)||ce.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=ce.black;return t&&!f&&(r=n[0]/255,o=n[1]/255,a=n[2]/255,l=((u=Math.max(r,o,a))+(c=Math.min(r,o,a)))/2,u===c?i=s=0:(d=u-c,s=l>.5?d/(2-u-c):d/(u+c),i=u===r?(o-a)/d+(o<a?6:0):u===o?(a-r)/d+2:(r-o)/d+4,i*=60),n[0]=i+.5|0,n[1]=100*s+.5|0,n[2]=100*l+.5|0),n},pe=function(e,t){var n,r,o,a=e.match(he)||[],i=0,s="";if(!a.length)return e;for(n=0;n<a.length;n++)r=a[n],i+=(o=e.substr(i,e.indexOf(r,i)-i)).length+r.length,3===(r=fe(r,t)).length&&r.push(1),s+=o+(t?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return s+e.substr(i)},he="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(l in ce)he+="|"+l+"\\b";he=new RegExp(he+")","gi"),a.colorStringFilter=function(e){var t,n=e[0]+" "+e[1];he.test(n)&&(t=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),e[0]=pe(e[0],t),e[1]=pe(e[1],t)),he.lastIndex=0},r.l.defaultStringFilter||(r.l.defaultStringFilter=a.colorStringFilter);var ge=function(e,t,n,r){if(null==e)return function(e){return e};var o,a=t?(e.match(he)||[""])[0]:"",i=e.split(a).join("").match(v)||[],s=e.substr(0,e.indexOf(i[0])),l=")"===e.charAt(e.length-1)?")":"",u=-1!==e.indexOf(" ")?" ":",",c=i.length,d=c>0?i[0].replace(m,""):"";return c?o=t?function(e){var t,f,p,h;if("number"==typeof e)e+=d;else if(r&&j.test(e)){for(h=e.replace(j,"|").split("|"),p=0;p<h.length;p++)h[p]=o(h[p]);return h.join(",")}if(t=(e.match(he)||[a])[0],p=(f=e.split(t).join("").match(v)||[]).length,c>p--)for(;++p<c;)f[p]=n?f[(p-1)/2|0]:i[p];return s+f.join(u)+u+t+l+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,a,f;if("number"==typeof e)e+=d;else if(r&&j.test(e)){for(a=e.replace(j,"|").split("|"),f=0;f<a.length;f++)a[f]=o(a[f]);return a.join(",")}if(f=(t=e.match(v)||[]).length,c>f--)for(;++f<c;)t[f]=n?t[(f-1)/2|0]:i[f];return s+t.join(u)+l}:function(e){return e}},ye=function(e){return e=e.split(","),function(t,n,r,o,a,i,s){var l,u=(n+"").split(" ");for(s={},l=0;l<4;l++)s[e[l]]=u[l]=u[l]||u[(l-1)/2>>0];return o.parse(t,s,a,i)}},me=(U._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,r,o,a,i=this.data,s=i.proxy,l=i.firstMPT;l;)t=s[l.v],l.r?t=l.r(t):t<1e-6&&t>-1e-6&&(t=0),l.t[l.p]=t,l=l._next;if(i.autoRotate&&(i.autoRotate.rotation=i.mod?i.mod.call(this._tween,s.rotation,this.t,this._tween):s.rotation),1===e||0===e)for(l=i.firstMPT,a=1===e?"e":"b";l;){if((n=l.t).type){if(1===n.type){for(o=n.xs0+n.s+n.xs1,r=1;r<n.l;r++)o+=n["xn"+r]+n["xs"+(r+1)];n[a]=o}}else n[a]=n.s+n.xs0;l=l._next}},function(e,t,n,r,o){this.t=e,this.p=t,this.v=n,this.r=o,r&&(r._prev=this,this._next=r)}),_e=(U._parseToProxy=function(e,t,n,r,o,a){var i,s,l,u,c,d=r,f={},p={},h=n._transform,g=B;for(n._transform=null,B=t,r=c=n.parse(e,t,r,o),B=g,a&&(n._transform=h,d&&(d._prev=null,d._prev&&(d._prev._next=null)));r&&r!==d;){if(r.type<=1&&(p[s=r.p]=r.s+r.c,f[s]=r.s,a||(u=new me(r,"s",s,u,r.r),r.c=0),1===r.type))for(i=r.l;--i>0;)l="xn"+i,p[s=r.p+"_"+l]=r.data[l],f[s]=r[l],a||(u=new me(r,l,s,u,r.rxp[l]));r=r._next}return{proxy:f,end:p,firstMPT:u,pt:c}},U.CSSPropTween=function(t,n,r,a,i,s,l,u,c,d,f){this.t=t,this.p=n,this.s=r,this.c=a,this.n=l||n,t instanceof _e||o.push(this.n),this.r=u?"function"==typeof u?u:Math.round:u,this.type=s||0,c&&(this.pr=c,e=!0),this.b=d===undefined?r:d,this.e=f===undefined?r+a:f,i&&(this._next=i,i._prev=this)}),ve=function(e,t,n,r,o,a){var i=new _e(e,t,n,r-n,o,-1,a);return i.b=n,i.e=i.xs0=r,i},be=a.parseComplex=function(e,t,n,r,o,i,s,l,c,d){n=n||i||"","function"==typeof r&&(r=r(y,g)),s=new _e(e,t,0,0,s,d?2:1,null,!1,l,n,r),r+="",o&&he.test(r+n)&&(r=[n,r],a.colorStringFilter(r),n=r[0],r=r[1]);var f,p,h,v,b,w,C,x,S,P,k,O,E,T=n.split(", ").join(",").split(" "),M=r.split(", ").join(",").split(" "),D=T.length,A=!1!==u;for(-1===r.indexOf(",")&&-1===n.indexOf(",")||(-1!==(r+n).indexOf("rgb")||-1!==(r+n).indexOf("hsl")?(T=T.join(" ").replace(j,", ").split(" "),M=M.join(" ").replace(j,", ").split(" ")):(T=T.join(" ").split(",").join(", ").split(" "),M=M.join(" ").split(",").join(", ").split(" ")),D=T.length),D!==M.length&&(D=(T=(i||"").split(" ")).length),s.plugin=c,s.setRatio=d,he.lastIndex=0,f=0;f<D;f++)if(v=T[f],b=M[f]+"",(x=parseFloat(v))||0===x)s.appendXtra("",x,se(b,x),b.replace(_,""),!(!A||-1===b.indexOf("px"))&&Math.round,!0);else if(o&&he.test(v))O=")"+((O=b.indexOf(")")+1)?b.substr(O):""),E=-1!==b.indexOf("hsl")&&K,P=b,v=fe(v,E),b=fe(b,E),(S=v.length+b.length>6)&&!K&&0===b[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(M[f]).join("transparent")):(K||(S=!1),E?s.appendXtra(P.substr(0,P.indexOf("hsl"))+(S?"hsla(":"hsl("),v[0],se(b[0],v[0]),",",!1,!0).appendXtra("",v[1],se(b[1],v[1]),"%,",!1).appendXtra("",v[2],se(b[2],v[2]),S?"%,":"%"+O,!1):s.appendXtra(P.substr(0,P.indexOf("rgb"))+(S?"rgba(":"rgb("),v[0],b[0]-v[0],",",Math.round,!0).appendXtra("",v[1],b[1]-v[1],",",Math.round).appendXtra("",v[2],b[2]-v[2],S?",":O,Math.round),S&&(v=v.length<4?1:v[3],s.appendXtra("",v,(b.length<4?1:b[3])-v,O,!1))),he.lastIndex=0;else if(w=v.match(m)){if(!(C=b.match(_))||C.length!==w.length)return s;for(h=0,p=0;p<w.length;p++)k=w[p],P=v.indexOf(k,h),s.appendXtra(v.substr(h,P-h),Number(k),se(C[p],k),"",!(!A||"px"!==v.substr(P+k.length,2))&&Math.round,0===p),h=P+k.length;s["xs"+s.l]+=v.substr(h)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+b:b;if(-1!==r.indexOf("=")&&s.data){for(O=s.xs0+s.data.s,f=1;f<s.l;f++)O+=s["xs"+f]+s.data["xn"+f];s.e=O+s["xs"+f]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},we=9;for((l=_e.prototype).l=l.pr=0;--we>0;)l["xn"+we]=0,l["xs"+we]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(e,t,n,r,o,a){var i=this,s=i.l;return i["xs"+s]+=a&&(s||i["xs"+s])?" "+e:e||"",n||0===s||i.plugin?(i.l++,i.type=i.setRatio?2:1,i["xs"+i.l]=r||"",s>0?(i.data["xn"+s]=t+n,i.rxp["xn"+s]=o,i["xn"+s]=t,i.plugin||(i.xfirst=new _e(i,"xn"+s,t,n,i.xfirst||i,0,i.n,o,i.pr),i.xfirst.xs0=0),i):(i.data={s:t+n},i.rxp={},i.s=t,i.c=n,i.r=o,i)):(i["xs"+s]+=t+(r||""),i)};var Ce=function(e,t){t=t||{},this.p=t.prefix&&X(e)||e,s[e]=s[this.p]=this,this.format=t.formatter||ge(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},xe=U._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var r,o=e.split(","),a=t.defaultValue;for(n=n||[a],r=0;r<o.length;r++)t.prefix=0===r&&t.prefix,t.defaultValue=n[r]||a,new Ce(o[r],t)},Se=U._registerPluginProp=function(e){if(!s[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";xe(e,{parser:function(e,n,r,o,a,l,u){var c=i.com.greensock.plugins[t];return c?(c._cssRegister(),s[r].parse(e,n,r,o,a,l,u)):(q("Error: "+t+" js file not loaded."),a)}})}};(l=Ce.prototype).parseComplex=function(e,t,n,r,o,a){var i,s,l,u,c,d,f=this.keyword;if(this.multi&&(j.test(n)||j.test(t)?(s=t.replace(j,"|").split("|"),l=n.replace(j,"|").split("|")):f&&(s=[t],l=[n])),l){for(u=l.length>s.length?l.length:s.length,i=0;i<u;i++)t=s[i]=s[i]||this.dflt,n=l[i]=l[i]||this.dflt,f&&(c=t.indexOf(f))!==(d=n.indexOf(f))&&(-1===d?s[i]=s[i].split(f).join(""):-1===c&&(s[i]+=" "+f));t=s.join(", "),n=l.join(", ")}return be(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,o,a)},l.parse=function(e,t,r,o,a,i,s){return this.parseComplex(e.style,this.format(J(e,this.p,n,!1,this.dflt)),this.format(t),a,i)},a.registerSpecialProp=function(e,t,n){xe(e,{parser:function(e,r,o,a,i,s,l){var u=new _e(e,o,0,0,i,2,o,!1,n);return u.plugin=s,u.setRatio=t(e,r,a._tween,o),u},priority:n})},a.useSVGTransformAttr=!0;var Pe,ke,Oe,Ee,Te,Me="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),De=X("transform"),Ae=W+"transform",je=X("transformOrigin"),Ie=null!==X("perspective"),Le=U.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(!1===a.defaultForce3D||!Ie)&&(a.defaultForce3D||"auto")},Re=r.k.SVGElement,Be=function(e,t,n){var r,o=F.createElementNS("http://www.w3.org/2000/svg",e),a=/([a-z])([A-Z])/g;for(r in n)o.setAttributeNS(null,r.replace(a,"$1-$2").toLowerCase(),n[r]);return t.appendChild(o),o},Ne=F.documentElement||{},Fe=(Te=h||/Android/i.test(V)&&!r.k.chrome,F.createElementNS&&!Te&&(ke=Be("svg",Ne),Ee=(Oe=Be("rect",ke,{width:100,height:50,x:100})).getBoundingClientRect().width,Oe.style[je]="50% 50%",Oe.style[De]="scaleX(0.5)",Te=Ee===Oe.getBoundingClientRect().width&&!(f&&Ie),Ne.removeChild(ke)),Te),He=function(e,t,n,r,o,i){var s,l,u,c,d,f,p,h,g,y,m,_,v,b,w=e._gsTransform,C=Ve(e,!0);w&&(v=w.xOrigin,b=w.yOrigin),(!r||(s=r.split(" ")).length<2)&&(0===(p=e.getBBox()).x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),s=[(-1!==(t=ie(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*p.width:parseFloat(t[0]))+p.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*p.height:parseFloat(t[1]))+p.y]),n.xOrigin=c=parseFloat(s[0]),n.yOrigin=d=parseFloat(s[1]),r&&C!==Ue&&(f=C[0],p=C[1],h=C[2],g=C[3],y=C[4],m=C[5],(_=f*g-p*h)&&(l=c*(g/_)+d*(-h/_)+(h*m-g*y)/_,u=c*(-p/_)+d*(f/_)-(f*m-p*y)/_,c=n.xOrigin=s[0]=l,d=n.yOrigin=s[1]=u)),w&&(i&&(n.xOffset=w.xOffset,n.yOffset=w.yOffset,w=n),o||!1!==o&&!1!==a.defaultSmoothOrigin?(l=c-v,u=d-b,w.xOffset+=l*C[0]+u*C[2]-l,w.yOffset+=l*C[1]+u*C[3]-u):w.xOffset=w.yOffset=0),i||e.setAttribute("data-svg-origin",s.join(" "))},$e=function(e){var t,n=H("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(Ne.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=$e}catch(i){}else this._originalGetBBox&&(t=this._originalGetBBox());return o?r.insertBefore(this,o):r.appendChild(this),Ne.removeChild(n),this.style.cssText=a,t},ze=function(e){return!(!Re||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!function(e){try{return e.getBBox()}catch(t){return $e.call(e,!0)}}(e))},Ue=[1,0,0,1,0,0],Ve=function(e,t){var n,r,o,a,i,s,l=e._gsTransform||new Le,u=e.style;if(De?r=J(e,Ae,null,!0):e.currentStyle&&(r=(r=e.currentStyle.filter.match(D))&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),l.x||0,l.y||0].join(","):""),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,!De||!(s=!Z(e)||"none"===Z(e).display)&&e.parentNode||(s&&(a=u.display,u.display="block"),e.parentNode||(i=1,Ne.appendChild(e)),n=!(r=J(e,Ae,null,!0))||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,a?u.display=a:s&&Ye(u,"display"),i&&Ne.removeChild(e)),(l.svg||e.getCTM&&ze(e))&&(n&&-1!==(u[De]+"").indexOf("matrix")&&(r=u[De],n=0),o=e.getAttribute("transform"),n&&o&&(r="matrix("+(o=e.transform.baseVal.consolidate().matrix).a+","+o.b+","+o.c+","+o.d+","+o.e+","+o.f+")",n=0)),n)return Ue;for(o=(r||"").match(m)||[],we=o.length;--we>-1;)a=Number(o[we]),o[we]=(i=a-(a|=0))?(1e5*i+(i<0?-.5:.5)|0)/1e5+a:a;return t&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o},Ke=U.getTransform=function(e,t,n,o){if(e._gsTransform&&n&&!o)return e._gsTransform;var i,s,l,u,c,d,f=n&&e._gsTransform||new Le,p=f.scaleX<0,h=Ie&&(parseFloat(J(e,je,t,!1,"0 0 0").split(" ")[2])||f.zOrigin)||0,g=parseFloat(a.defaultTransformPerspective)||0;if(f.svg=!(!e.getCTM||!ze(e)),f.svg&&(He(e,J(e,je,t,!1,"50% 50%")+"",f,e.getAttribute("data-svg-origin")),Pe=a.useSVGTransformAttr||Fe),(i=Ve(e))!==Ue){if(16===i.length){var y,m,_,v,b,w=i[0],C=i[1],x=i[2],S=i[3],P=i[4],k=i[5],O=i[6],E=i[7],T=i[8],M=i[9],D=i[10],A=i[12],j=i[13],I=i[14],L=i[11],B=Math.atan2(O,D);f.zOrigin&&(A=T*(I=-f.zOrigin)-i[12],j=M*I-i[13],I=D*I+f.zOrigin-i[14]),f.rotationX=B*R,B&&(y=P*(v=Math.cos(-B))+T*(b=Math.sin(-B)),m=k*v+M*b,_=O*v+D*b,T=P*-b+T*v,M=k*-b+M*v,D=O*-b+D*v,L=E*-b+L*v,P=y,k=m,O=_),B=Math.atan2(-x,D),f.rotationY=B*R,B&&(m=C*(v=Math.cos(-B))-M*(b=Math.sin(-B)),_=x*v-D*b,M=C*b+M*v,D=x*b+D*v,L=S*b+L*v,w=y=w*v-T*b,C=m,x=_),B=Math.atan2(C,w),f.rotation=B*R,B&&(y=w*(v=Math.cos(B))+C*(b=Math.sin(B)),m=P*v+k*b,_=T*v+M*b,C=C*v-w*b,k=k*v-P*b,M=M*v-T*b,w=y,P=m,T=_),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),B=Math.atan2(P,k),f.scaleX=(1e5*Math.sqrt(w*w+C*C+x*x)+.5|0)/1e5,f.scaleY=(1e5*Math.sqrt(k*k+O*O)+.5|0)/1e5,f.scaleZ=(1e5*Math.sqrt(T*T+M*M+D*D)+.5|0)/1e5,w/=f.scaleX,P/=f.scaleY,C/=f.scaleX,k/=f.scaleY,Math.abs(B)>2e-5?(f.skewX=B*R,P=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(B))):f.skewX=0,f.perspective=L?1/(L<0?-L:L):0,f.x=A,f.y=j,f.z=I,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*w-f.yOrigin*P),f.y-=f.yOrigin-(f.yOrigin*C-f.xOrigin*k))}else if(!Ie||o||!i.length||f.x!==i[4]||f.y!==i[5]||!f.rotationX&&!f.rotationY){var N=i.length>=6,F=N?i[0]:1,H=i[1]||0,$=i[2]||0,z=N?i[3]:1;f.x=i[4]||0,f.y=i[5]||0,l=Math.sqrt(F*F+H*H),u=Math.sqrt(z*z+$*$),c=F||H?Math.atan2(H,F)*R:f.rotation||0,d=$||z?Math.atan2($,z)*R+c:f.skewX||0,f.scaleX=l,f.scaleY=u,f.rotation=c,f.skewX=d,Ie&&(f.rotationX=f.rotationY=f.z=0,f.perspective=g,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*F+f.yOrigin*$),f.y-=f.yOrigin-(f.xOrigin*H+f.yOrigin*z))}for(s in Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(p?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=h,f)f[s]<2e-5&&f[s]>-2e-5&&(f[s]=0)}return n&&(e._gsTransform=f,f.svg&&(Pe&&e.style[De]?r.l.delayedCall(.001,function(){Ye(e.style,De)}):!Pe&&e.getAttribute("transform")&&r.l.delayedCall(.001,function(){e.removeAttribute("transform")}))),f},Ge=function(e){var t,n,r=this.data,o=-r.rotation*L,a=o+r.skewX*L,i=(Math.cos(o)*r.scaleX*1e5|0)/1e5,s=(Math.sin(o)*r.scaleX*1e5|0)/1e5,l=(Math.sin(a)*-r.scaleY*1e5|0)/1e5,u=(Math.cos(a)*r.scaleY*1e5|0)/1e5,c=this.t.style,d=this.t.currentStyle;if(d){n=s,s=-l,l=-n,t=d.filter,c.filter="";var f,p,g=this.t.offsetWidth,y=this.t.offsetHeight,m="absolute"!==d.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+i+", M12="+s+", M21="+l+", M22="+u,v=r.x+g*r.xPercent/100,b=r.y+y*r.yPercent/100;if(null!=r.ox&&(v+=(f=(r.oxp?g*r.ox*.01:r.ox)-g/2)-(f*i+(p=(r.oyp?y*r.oy*.01:r.oy)-y/2)*s),b+=p-(f*l+p*u)),_+=m?", Dx="+((f=g/2)-(f*i+(p=y/2)*s)+v)+", Dy="+(p-(f*l+p*u)+b)+")":", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?c.filter=t.replace(A,_):c.filter=_+" "+t,0!==e&&1!==e||1===i&&0===s&&0===l&&1===u&&(m&&-1===_.indexOf("Dx=0, Dy=0")||C.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&c.removeAttribute("filter")),!m){var x,S,P,k=h<8?1:-1;for(f=r.ieOffsetX||0,p=r.ieOffsetY||0,r.ieOffsetX=Math.round((g-((i<0?-i:i)*g+(s<0?-s:s)*y))/2+v),r.ieOffsetY=Math.round((y-((u<0?-u:u)*y+(l<0?-l:l)*g))/2+b),we=0;we<4;we++)P=(n=-1!==(x=d[S=oe[we]]).indexOf("px")?parseFloat(x):Q(this.t,S,parseFloat(x),x.replace(w,""))||0)!==r[S]?we<2?-r.ieOffsetX:-r.ieOffsetY:we<2?f-r.ieOffsetX:p-r.ieOffsetY,c[S]=(r[S]=Math.round(n-P*(0===we||2===we?1:k)))+"px"}}},qe=U.set3DTransformRatio=U.setTransformRatio=function(e){var t,n,r,o,a,i,s,l,u,c,d,p,h,g,y,m,_,v,b,w,C=this.data,x=this.t.style,S=C.rotation,P=C.rotationX,k=C.rotationY,O=C.scaleX,E=C.scaleY,T=C.scaleZ,M=C.x,D=C.y,A=C.z,j=C.svg,I=C.perspective,R=C.force3D,B=C.skewY,N=C.skewX;if(B&&(N+=B,S+=B),!((1!==e&&0!==e||"auto"!==R||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&R||A||I||k||P||1!==T)||Pe&&j||!Ie)S||N||j?(S*=L,w=N*L,1e5,n=Math.cos(S)*O,a=Math.sin(S)*O,r=Math.sin(S-w)*-E,i=Math.cos(S-w)*E,w&&"simple"===C.skewType&&(t=Math.tan(w-B*L),r*=t=Math.sqrt(1+t*t),i*=t,B&&(t=Math.tan(B*L),n*=t=Math.sqrt(1+t*t),a*=t)),j&&(M+=C.xOrigin-(C.xOrigin*n+C.yOrigin*r)+C.xOffset,D+=C.yOrigin-(C.xOrigin*a+C.yOrigin*i)+C.yOffset,Pe&&(C.xPercent||C.yPercent)&&(y=this.t.getBBox(),M+=.01*C.xPercent*y.width,D+=.01*C.yPercent*y.height),M<(y=1e-6)&&M>-y&&(M=0),D<y&&D>-y&&(D=0)),b=(1e5*n|0)/1e5+","+(1e5*a|0)/1e5+","+(1e5*r|0)/1e5+","+(1e5*i|0)/1e5+","+M+","+D+")",j&&Pe?this.t.setAttribute("transform","matrix("+b):x[De]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+b):x[De]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+E+","+M+","+D+")";else{if(f&&(O<(y=1e-4)&&O>-y&&(O=T=2e-5),E<y&&E>-y&&(E=T=2e-5),!I||C.z||C.rotationX||C.rotationY||(I=0)),S||N)S*=L,m=n=Math.cos(S),_=a=Math.sin(S),N&&(S-=N*L,m=Math.cos(S),_=Math.sin(S),"simple"===C.skewType&&(t=Math.tan((N-B)*L),m*=t=Math.sqrt(1+t*t),_*=t,C.skewY&&(t=Math.tan(B*L),n*=t=Math.sqrt(1+t*t),a*=t))),r=-_,i=m;else{if(!(k||P||1!==T||I||j))return void(x[De]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) translate3d(":"translate3d(")+M+"px,"+D+"px,"+A+"px)"+(1!==O||1!==E?" scale("+O+","+E+")":""));n=i=1,r=a=0}c=1,o=s=l=u=d=p=0,h=I?-1/I:0,g=C.zOrigin,y=1e-6,",","0",(S=k*L)&&(m=Math.cos(S),l=-(_=Math.sin(S)),d=h*-_,o=n*_,s=a*_,c=m,h*=m,n*=m,a*=m),(S=P*L)&&(t=r*(m=Math.cos(S))+o*(_=Math.sin(S)),v=i*m+s*_,u=c*_,p=h*_,o=r*-_+o*m,s=i*-_+s*m,c*=m,h*=m,r=t,i=v),1!==T&&(o*=T,s*=T,c*=T,h*=T),1!==E&&(r*=E,i*=E,u*=E,p*=E),1!==O&&(n*=O,a*=O,l*=O,d*=O),(g||j)&&(g&&(M+=o*-g,D+=s*-g,A+=c*-g+g),j&&(M+=C.xOrigin-(C.xOrigin*n+C.yOrigin*r)+C.xOffset,D+=C.yOrigin-(C.xOrigin*a+C.yOrigin*i)+C.yOffset),M<y&&M>-y&&(M="0"),D<y&&D>-y&&(D="0"),A<y&&A>-y&&(A=0)),b=C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix3d(":"matrix3d(",b+=(n<y&&n>-y?"0":n)+","+(a<y&&a>-y?"0":a)+","+(l<y&&l>-y?"0":l),b+=","+(d<y&&d>-y?"0":d)+","+(r<y&&r>-y?"0":r)+","+(i<y&&i>-y?"0":i),P||k||1!==T?(b+=","+(u<y&&u>-y?"0":u)+","+(p<y&&p>-y?"0":p)+","+(o<y&&o>-y?"0":o),b+=","+(s<y&&s>-y?"0":s)+","+(c<y&&c>-y?"0":c)+","+(h<y&&h>-y?"0":h)+","):b+=",0,0,0,0,1,0,",b+=M+","+D+","+A+","+(I?1+-A/I:1)+")",x[De]=b}};(l=Le.prototype).x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=l.xOffset=l.yOffset=0,l.scaleX=l.scaleY=l.scaleZ=1,xe("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,r,o,i,s,l){if(o._lastParsedTransform===l)return i;o._lastParsedTransform=l;var u,c=l.scale&&"function"==typeof l.scale?l.scale:0;"function"==typeof l[r]&&(u=l[r],l[r]=t),c&&(l.scale=c(y,e));var d,f,p,h,m,_,v,b,w,C=e._gsTransform,x=e.style,S=Me.length,P=l,k={},O=Ke(e,n,!0,P.parseTransform),E=P.transform&&("function"==typeof P.transform?P.transform(y,g):P.transform);if(O.skewType=P.skewType||O.skewType||a.defaultSkewType,o._transform=O,E&&"string"==typeof E&&De)(f=$.style)[De]=E,f.display="block",f.position="absolute",-1!==E.indexOf("%")&&(f.width=J(e,"width"),f.height=J(e,"height")),F.body.appendChild($),d=Ke($,null,!1),"simple"===O.skewType&&(d.scaleY*=Math.cos(d.skewX*L)),O.svg&&(_=O.xOrigin,v=O.yOrigin,d.x-=O.xOffset,d.y-=O.yOffset,(P.transformOrigin||P.svgOrigin)&&(E={},He(e,ie(P.transformOrigin),E,P.svgOrigin,P.smoothOrigin,!0),_=E.xOrigin,v=E.yOrigin,d.x-=E.xOffset-O.xOffset,d.y-=E.yOffset-O.yOffset),(_||v)&&(b=Ve($,!0),d.x-=_-(_*b[0]+v*b[2]),d.y-=v-(_*b[1]+v*b[3]))),F.body.removeChild($),d.perspective||(d.perspective=O.perspective),null!=P.xPercent&&(d.xPercent=le(P.xPercent,O.xPercent)),null!=P.yPercent&&(d.yPercent=le(P.yPercent,O.yPercent));else if("object"==typeof P){if(d={scaleX:le(null!=P.scaleX?P.scaleX:P.scale,O.scaleX),scaleY:le(null!=P.scaleY?P.scaleY:P.scale,O.scaleY),scaleZ:le(P.scaleZ,O.scaleZ),x:le(P.x,O.x),y:le(P.y,O.y),z:le(P.z,O.z),xPercent:le(P.xPercent,O.xPercent),yPercent:le(P.yPercent,O.yPercent),perspective:le(P.transformPerspective,O.perspective)},null!=(m=P.directionalRotation))if("object"==typeof m)for(f in m)P[f]=m[f];else P.rotation=m;"string"==typeof P.x&&-1!==P.x.indexOf("%")&&(d.x=0,d.xPercent=le(P.x,O.xPercent)),"string"==typeof P.y&&-1!==P.y.indexOf("%")&&(d.y=0,d.yPercent=le(P.y,O.yPercent)),d.rotation=ue("rotation"in P?P.rotation:"shortRotation"in P?P.shortRotation+"_short":"rotationZ"in P?P.rotationZ:O.rotation,O.rotation,"rotation",k),Ie&&(d.rotationX=ue("rotationX"in P?P.rotationX:"shortRotationX"in P?P.shortRotationX+"_short":O.rotationX||0,O.rotationX,"rotationX",k),d.rotationY=ue("rotationY"in P?P.rotationY:"shortRotationY"in P?P.shortRotationY+"_short":O.rotationY||0,O.rotationY,"rotationY",k)),d.skewX=ue(P.skewX,O.skewX),d.skewY=ue(P.skewY,O.skewY)}for(Ie&&null!=P.force3D&&(O.force3D=P.force3D,h=!0),(p=O.force3D||O.z||O.rotationX||O.rotationY||d.z||d.rotationX||d.rotationY||d.perspective)||null==P.scale||(d.scaleZ=1);--S>-1;)((E=d[w=Me[S]]-O[w])>1e-6||E<-1e-6||null!=P[w]||null!=B[w])&&(h=!0,i=new _e(O,w,O[w],E,i),w in k&&(i.e=k[w]),i.xs0=0,i.plugin=s,o._overwriteProps.push(i.n));return E=P.transformOrigin,O.svg&&(E||P.svgOrigin)&&(_=O.xOffset,v=O.yOffset,He(e,ie(E),d,P.svgOrigin,P.smoothOrigin),i=ve(O,"xOrigin",(C?O:d).xOrigin,d.xOrigin,i,"transformOrigin"),i=ve(O,"yOrigin",(C?O:d).yOrigin,d.yOrigin,i,"transformOrigin"),_===O.xOffset&&v===O.yOffset||(i=ve(O,"xOffset",C?_:O.xOffset,O.xOffset,i,"transformOrigin"),i=ve(O,"yOffset",C?v:O.yOffset,O.yOffset,i,"transformOrigin")),E="0px 0px"),(E||Ie&&p&&O.zOrigin)&&(De?(h=!0,w=je,E=(E||J(e,w,n,!1,"50% 50%"))+"",(i=new _e(x,w,0,0,i,-1,"transformOrigin")).b=x[w],i.plugin=s,Ie?(f=O.zOrigin,E=E.split(" "),O.zOrigin=(E.length>2&&(0===f||"0px"!==E[2])?parseFloat(E[2]):f)||0,i.xs0=i.e=E[0]+" "+(E[1]||"50%")+" 0px",(i=new _e(O,"zOrigin",0,0,i,-1,i.n)).b=f,i.xs0=i.e=O.zOrigin):i.xs0=i.e=E):ie(E+"",O)),h&&(o._transformType=O.svg&&Pe||!p&&3!==this._transformType?2:3),u&&(l[r]=u),c&&(l.scale=c),i},prefix:!0}),xe("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),xe("borderRadius",{defaultValue:"0px",parser:function(e,r,o,a,i,s){r=this.format(r);var l,u,c,d,f,p,h,g,y,m,_,v,b,w,C,x,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],P=e.style;for(y=parseFloat(e.offsetWidth),m=parseFloat(e.offsetHeight),l=r.split(" "),u=0;u<S.length;u++)this.p.indexOf("border")&&(S[u]=X(S[u])),-1!==(f=d=J(e,S[u],n,!1,"0px")).indexOf(" ")&&(d=f.split(" "),f=d[0],d=d[1]),p=c=l[u],h=parseFloat(f),v=f.substr((h+"").length),(b="="===p.charAt(1))?(g=parseInt(p.charAt(0)+"1",10),p=p.substr(2),g*=parseFloat(p),_=p.substr((g+"").length-(g<0?1:0))||""):(g=parseFloat(p),_=p.substr((g+"").length)),""===_&&(_=t[o]||v),_!==v&&(w=Q(e,"borderLeft",h,v),C=Q(e,"borderTop",h,v),"%"===_?(f=w/y*100+"%",d=C/m*100+"%"):"em"===_?(f=w/(x=Q(e,"borderLeft",1,"em"))+"em",d=C/x+"em"):(f=w+"px",d=C+"px"),b&&(p=parseFloat(f)+g+_,c=parseFloat(d)+g+_)),i=be(P,S[u],f+" "+d,p+" "+c,!1,"0px",i);return i},prefix:!0,formatter:ge("0px 0px 0px 0px",!1,!0)}),xe("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,r,o,a,i){return be(e.style,r,this.format(J(e,r,n,!1,"0px 0px")),this.format(t),!1,"0px",a)},prefix:!0,formatter:ge("0px 0px",!1,!0)}),xe("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,r,o,a,i){var s,l,u,c,d,f,p="background-position",g=n||Z(e,null),y=this.format((g?h?g.getPropertyValue(p+"-x")+" "+g.getPropertyValue(p+"-y"):g.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),m=this.format(t);if(-1!==y.indexOf("%")!=(-1!==m.indexOf("%"))&&m.split(",").length<2&&(f=J(e,"backgroundImage").replace(E,""))&&"none"!==f){for(s=y.split(" "),l=m.split(" "),z.setAttribute("src",f),u=2;--u>-1;)(c=-1!==(y=s[u]).indexOf("%"))!==(-1!==l[u].indexOf("%"))&&(d=0===u?e.offsetWidth-z.width:e.offsetHeight-z.height,s[u]=c?parseFloat(y)/100*d+"px":parseFloat(y)/d*100+"%");y=s.join(" ")}return this.parseComplex(e.style,y,m,a,i)},formatter:ie}),xe("backgroundSize",{defaultValue:"0 0",formatter:function(e){return"co"===(e+="").substr(0,2)?e:ie(-1===e.indexOf(" ")?e+" "+e:e)}}),xe("perspective",{defaultValue:"0px",prefix:!0}),xe("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),xe("transformStyle",{prefix:!0}),xe("backfaceVisibility",{prefix:!0}),xe("userSelect",{prefix:!0}),xe("margin",{parser:ye("marginTop,marginRight,marginBottom,marginLeft")}),xe("padding",{parser:ye("paddingTop,paddingRight,paddingBottom,paddingLeft")}),xe("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,r,o,a,i){var s,l,u;return h<9?(l=e.currentStyle,u=h<8?" ":",",s="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",t=this.format(t).split(",").join(u)):(s=this.format(J(e,this.p,n,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,a,i)}}),xe("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),xe("autoRound,strictUnits",{parser:function(e,t,n,r,o){return o}}),xe("border",{defaultValue:"0px solid #000",parser:function(e,t,r,o,a,i){var s=J(e,"borderTopWidth",n,!1,"0px"),l=this.format(t).split(" "),u=l[0].replace(w,"");return"px"!==u&&(s=parseFloat(s)/Q(e,"borderTopWidth",1,u)+u),this.parseComplex(e.style,this.format(s+" "+J(e,"borderTopStyle",n,!1,"solid")+" "+J(e,"borderTopColor",n,!1,"#000")),l.join(" "),a,i)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(he)||["#000"])[0]}}),xe("borderWidth",{parser:ye("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),xe("float,cssFloat,styleFloat",{parser:function(e,t,n,r,o,a){var i=e.style,s="cssFloat"in i?"cssFloat":"styleFloat";return new _e(i,s,0,0,o,-1,n,!1,0,i[s],t)}});var We=function(e){var t,n=this.t,r=n.filter||J(this.data,"filter")||"",o=this.s+this.c*e|0;100===o&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(n.removeAttribute("filter"),t=!J(this.data,"filter")):(n.filter=r.replace(S,""),t=!0)),t||(this.xn1&&(n.filter=r=r||"alpha(opacity="+o+")"),-1===r.indexOf("pacity")?0===o&&this.xn1||(n.filter=r+" alpha(opacity="+o+")"):n.filter=r.replace(C,"opacity="+o))};xe("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,r,o,a,i){var s=parseFloat(J(e,"opacity",n,!1,"1")),l=e.style,u="autoAlpha"===r;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),u&&1===s&&"hidden"===J(e,"visibility",n)&&0!==t&&(s=0),K?a=new _e(l,"opacity",s,t-s,a):((a=new _e(l,"opacity",100*s,100*(t-s),a)).xn1=u?1:0,l.zoom=1,a.type=2,a.b="alpha(opacity="+a.s+")",a.e="alpha(opacity="+(a.s+a.c)+")",a.data=e,a.plugin=i,a.setRatio=We),u&&((a=new _e(l,"visibility",0,0,a,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",o._overwriteProps.push(a.n),o._overwriteProps.push(r)),a}});var Ye=function(e,t){t&&(e.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(k,"-$1").toLowerCase())):e.removeAttribute(t))},Xe=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:Ye(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};xe("className",{parser:function(t,r,o,a,i,s,l){var u,c,d,f,p,h=t.getAttribute("class")||"",g=t.style.cssText;if((i=a._classNamePT=new _e(t,o,0,0,i,2)).setRatio=Xe,i.pr=-11,e=!0,i.b=h,c=te(t,n),d=t._gsClassPT){for(f={},p=d.data;p;)f[p.p]=1,p=p._next;d.setRatio(1)}return t._gsClassPT=i,i.e="="!==r.charAt(1)?r:h.replace(new RegExp("(?:\\s|^)"+r.substr(2)+"(?![\\w-])"),"")+("+"===r.charAt(0)?" "+r.substr(2):""),t.setAttribute("class",i.e),u=ne(t,c,te(t),l,f),t.setAttribute("class",h),i.data=u.firstMPT,t.style.cssText=g,i=i.xfirst=a.parse(t,u.difs,i,s)}});var Ze=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,r,o,a,i=this.t.style,l=s.transform.parse;if("all"===this.e)i.cssText="",o=!0;else for(r=(t=this.e.split(" ").join("").split(",")).length;--r>-1;)n=t[r],s[n]&&(s[n].parse===l?o=!0:n="transformOrigin"===n?je:s[n].p),Ye(i,n);o&&(Ye(i,De),(a=this.t._gsTransform)&&(a.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(xe("clearProps",{parser:function(t,n,r,o,a){return(a=new _e(t,r,0,0,a,2)).setRatio=Ze,a.e=n,a.pr=-10,a.data=o._tween,e=!0,a}}),l="bezier,throwProps,physicsProps,physics2D".split(","),we=l.length;we--;)Se(l[we]);(l=a.prototype)._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(r,i,l,f){if(!r.nodeType)return!1;this._target=g=r,this._tween=l,this._vars=i,y=f,u=i.autoRound,e=!1,t=i.suffixMap||a.suffixMap,n=Z(r,""),o=this._overwriteProps;var h,m,_,v,b,w,C,S,P,k=r.style;if(c&&""===k.zIndex&&("auto"!==(h=J(r,"zIndex",n))&&""!==h||this._addLazySet(k,"zIndex",0)),"string"==typeof i&&(v=k.cssText,h=te(r,n),k.cssText=v+";"+i,h=ne(r,h,te(r)).difs,!K&&x.test(i)&&(h.opacity=parseFloat(RegExp.$1)),i=h,k.cssText=v),i.className?this._firstPT=m=s.className.parse(r,i.className,"className",this,null,null,i):this._firstPT=m=this.parse(r,i,null),this._transformType){for(P=3===this._transformType,De?d&&(c=!0,""===k.zIndex&&("auto"!==(C=J(r,"zIndex",n))&&""!==C||this._addLazySet(k,"zIndex",0)),p&&this._addLazySet(k,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(P?"visible":"hidden"))):k.zoom=1,_=m;_&&_._next;)_=_._next;S=new _e(r,"transform",0,0,null,2),this._linkCSSP(S,null,_),S.setRatio=De?qe:Ge,S.data=this._transform||Ke(r,n,!0),S.tween=l,S.pr=-1,o.pop()}if(e){for(;m;){for(w=m._next,_=v;_&&_.pr>m.pr;)_=_._next;(m._prev=_?_._prev:b)?m._prev._next=m:v=m,(m._next=_)?_._prev=m:b=m,m=w}this._firstPT=v}return!0},l.parse=function(e,r,o,a){var i,l,c,d,f,p,h,m,_,v,b=e.style;for(i in r){if("function"==typeof(p=r[i])&&(p=p(y,g)),l=s[i])o=l.parse(e,p,i,this,o,a,r);else{if("--"===i.substr(0,2)){this._tween._propLookup[i]=this._addTween.call(this._tween,e.style,"setProperty",Z(e).getPropertyValue(i)+"",p+"",i,!1,i);continue}f=J(e,i,n)+"",_="string"==typeof p,"color"===i||"fill"===i||"stroke"===i||-1!==i.indexOf("Color")||_&&P.test(p)?(_||(p=((p=fe(p)).length>3?"rgba(":"rgb(")+p.join(",")+")"),o=be(b,i,f,p,!0,"transparent",o,0,a)):_&&I.test(p)?o=be(b,i,f,p,!0,null,o,0,a):(h=(c=parseFloat(f))||0===c?f.substr((c+"").length):"",""!==f&&"auto"!==f||("width"===i||"height"===i?(c=ae(e,i,n),h="px"):"left"===i||"top"===i?(c=ee(e,i,n),h="px"):(c="opacity"!==i?0:1,h="")),(v=_&&"="===p.charAt(1))?(d=parseInt(p.charAt(0)+"1",10),p=p.substr(2),d*=parseFloat(p),m=p.replace(w,"")):(d=parseFloat(p),m=_?p.replace(w,""):""),""===m&&(m=i in t?t[i]:h),p=d||0===d?(v?d+c:d)+m:r[i],h!==m&&(""===m&&"lineHeight"!==i||(d||0===d)&&c&&(c=Q(e,i,c,h),"%"===m?(c/=Q(e,i,100,"%")/100,!0!==r.strictUnits&&(f=c+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?c/=Q(e,i,1,m):"px"!==m&&(d=Q(e,i,d,m),m="px"),v&&(d||0===d)&&(p=d+c+m))),v&&(d+=c),!c&&0!==c||!d&&0!==d?b[i]!==undefined&&(p||p+""!="NaN"&&null!=p)?(o=new _e(b,i,d||c||0,0,o,-1,i,!1,0,f,p)).xs0="none"!==p||"display"!==i&&-1===i.indexOf("Style")?p:f:q("invalid "+i+" tween value: "+r[i]):(o=new _e(b,i,c,d-c,o,0,i,!1!==u&&("px"===m||"zIndex"===i),0,f,p)).xs0=m)}a&&o&&!o.plugin&&(o.plugin=a)}return o},l.setRatio=function(e){var t,n,r,o=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;o;){if(t=o.c*e+o.s,o.r?t=o.r(t):t<1e-6&&t>-1e-6&&(t=0),o.type)if(1===o.type)if(2===(r=o.l))o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2;else if(3===r)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3;else if(4===r)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4;else if(5===r)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4+o.xn4+o.xs5;else{for(n=o.xs0+t+o.xs1,r=1;r<o.l;r++)n+=o["xn"+r]+o["xs"+(r+1)];o.t[o.p]=n}else-1===o.type?o.t[o.p]=o.xs0:o.setRatio&&o.setRatio(e);else o.t[o.p]=t+o.xs0;o=o._next}else for(;o;)2!==o.type?o.t[o.p]=o.b:o.setRatio(e),o=o._next;else for(;o;){if(2!==o.type)if(o.r&&-1!==o.type)if(t=o.r(o.s+o.c),o.type){if(1===o.type){for(r=o.l,n=o.xs0+t+o.xs1,r=1;r<o.l;r++)n+=o["xn"+r]+o["xs"+(r+1)];o.t[o.p]=n}}else o.t[o.p]=t+o.xs0;else o.t[o.p]=o.e;else o.setRatio(e);o=o._next}},l._enableTransforms=function(e){this._transform=this._transform||Ke(this._target,n,!0),this._transformType=this._transform.svg&&Pe||!e&&3!==this._transformType?2:3};var Je=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(e,t,n){var r=this._firstPT=new _e(e,t,0,0,this._firstPT,2);r.e=n,r.setRatio=Je,r.data=this},l._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,r=!0),n?n._next=e:r||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},l._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&(t.r=e[t.p]),t=t._next},l._kill=function(e){var t,n,o,a=e;if(e.autoAlpha||e.alpha){for(n in a={},e)a[n]=e[n];a.opacity=1,a.autoAlpha&&(a.visibility=1)}for(e.className&&(t=this._classNamePT)&&((o=t.xfirst)&&o._prev?this._linkCSSP(o._prev,t._next,o._prev._prev):o===this._firstPT&&(this._firstPT=t._next),t._next&&this._linkCSSP(t._next,t._next._next,o._prev),this._classNamePT=null),t=this._firstPT;t;)t.plugin&&t.plugin!==n&&t.plugin._kill&&(t.plugin._kill(e),n=t.plugin),t=t._next;return r.j.prototype._kill.call(this,a)};var Qe=function(e,t,n){var r,o,a,i;if(e.slice)for(o=e.length;--o>-1;)Qe(e[o],t,n);else for(o=(r=e.childNodes).length;--o>-1;)i=(a=r[o]).type,a.style&&(t.push(te(a)),n&&n.push(a)),1!==i&&9!==i&&11!==i||!a.childNodes.length||Qe(a,t,n)};return a.cascadeTo=function(e,t,n){var o,a,i,s,l=r.l.to(e,t,n),u=[l],c=[],d=[],f=[],p=r.l._internals.reservedProps;for(e=l._targets||l.target,Qe(e,c,f),l.render(t,!0,!0),Qe(e,d),l.render(0,!0,!0),l._enabled(!0),o=f.length;--o>-1;)if((a=ne(f[o],c[o],d[o])).firstMPT){for(i in a=a.difs,n)p[i]&&(a[i]=n[i]);for(i in s={},a)s[i]=c[o][i];u.push(r.l.fromTo(f[o],t,s,a))}return u},r.j.activate([a]),a},!0);const s=r.k.CSSPlugin,l=r.k._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(e,t,n,r){var o,a;if("function"!=typeof e.setAttribute)return!1;for(o in t)"function"==typeof(a=t[o])&&(a=a(r,e)),this._addTween(e,"setAttribute",e.getAttribute(o)+"",a+"",o,!1,o),this._overwriteProps.push(o);return!0}}),u=r.k._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(e,t,n){return this._tween=n,!0}}),c=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(n){return(Math.round(n/e)*e*t|0)/t}},d=function(e,t){for(;e;)e.f||e.blob||(e.m=t||Math.round),e=e._next},f=u.prototype;f._onInitAllProps=function(){var e,t,n,r,o=this._tween,a=o.vars.roundProps,i={},s=o._propLookup.roundProps;if("object"!=typeof a||a.push)for("string"==typeof a&&(a=a.split(",")),n=a.length;--n>-1;)i[a[n]]=Math.round;else for(r in a)i[r]=c(a[r]);for(r in i)for(e=o._firstPT;e;)t=e._next,e.pg?e.t._mod(i):e.n===r&&(2===e.f&&e.t?d(e.t._firstPT,i[r]):(this._add(e.t,r,e.s,e.c,i[r]),t&&(t._prev=e._prev),e._prev?e._prev._next=t:o._firstPT===e&&(o._firstPT=t),e._next=e._prev=null,o._propLookup[r]=s)),e=t;return!1},f._add=function(e,t,n,r,o){this._addTween(e,t,n,n+r,t,o||Math.round),this._overwriteProps.push(t)};const p=r.k._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(e,t,n,r){"object"!=typeof t&&(t={rotation:t}),this.finals={};var o,a,i,s,l,u,c=!0===t.useRadians?2*Math.PI:360;for(o in t)"useRadians"!==o&&("function"==typeof(s=t[o])&&(s=s(r,e)),a=(u=(s+"").split("_"))[0],i=parseFloat("function"!=typeof e[o]?e[o]:e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]()),l=(s=this.finals[o]="string"==typeof a&&"="===a.charAt(1)?i+parseInt(a.charAt(0)+"1",10)*Number(a.substr(2)):Number(a)||0)-i,u.length&&(-1!==(a=u.join("_")).indexOf("short")&&(l%=c)!==l%(c/2)&&(l=l<0?l+c:l-c),-1!==a.indexOf("_cw")&&l<0?l=(l+9999999999*c)%c-(l/c|0)*c:-1!==a.indexOf("ccw")&&l>0&&(l=(l-9999999999*c)%c-(l/c|0)*c)),(l>1e-6||l<-1e-6)&&(this._addTween(e,o,i,i+l,o),this._overwriteProps.push(o)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}});p._autoCSS=!0;var h=180/Math.PI,g=[],y=[],m=[],_={},v=r.k._gsDefine.globals,b=function(e,t,n,r){n===r&&(n=r-(r-t)/1e6),e===t&&(t=e+(n-e)/1e6),this.a=e,this.b=t,this.c=n,this.d=r,this.da=r-e,this.ca=n-e,this.ba=t-e},w=function(e,t,n,r){var o={a:e},a={},i={},s={c:r},l=(e+t)/2,u=(t+n)/2,c=(n+r)/2,d=(l+u)/2,f=(u+c)/2,p=(f-d)/8;return o.b=l+(e-l)/4,a.b=d+p,o.c=a.a=(o.b+a.b)/2,a.c=i.a=(d+f)/2,i.b=f-p,s.b=c+(r-c)/4,i.c=s.a=(i.b+s.b)/2,[o,a,i,s]},C=function(e,t,n,r,o){var a,i,s,l,u,c,d,f,p,h,_,v,b,C=e.length-1,x=0,S=e[0].a;for(a=0;a<C;a++)i=(u=e[x]).a,s=u.d,l=e[x+1].d,o?(_=g[a],b=((v=y[a])+_)*t*.25/(r?.5:m[a]||.5),f=s-((c=s-(s-i)*(r?.5*t:0!==_?b/_:0))+(((d=s+(l-s)*(r?.5*t:0!==v?b/v:0))-c)*(3*_/(_+v)+.5)/4||0))):f=s-((c=s-(s-i)*t*.5)+(d=s+(l-s)*t*.5))/2,c+=f,d+=f,u.c=p=c,u.b=0!==a?S:S=u.a+.6*(u.c-u.a),u.da=s-i,u.ca=p-i,u.ba=S-i,n?(h=w(i,S,p,s),e.splice(x,1,h[0],h[1],h[2],h[3]),x+=4):x++,S=d;(u=e[x]).b=S,u.c=S+.4*(u.d-S),u.da=u.d-u.a,u.ca=u.c-u.a,u.ba=S-u.a,n&&(h=w(u.a,S,u.c,u.d),e.splice(x,1,h[0],h[1],h[2],h[3]))},x=function(e,t,n,r){var o,a,i,s,l,u,c=[];if(r)for(a=(e=[r].concat(e)).length;--a>-1;)"string"==typeof(u=e[a][t])&&"="===u.charAt(1)&&(e[a][t]=r[t]+Number(u.charAt(0)+u.substr(2)));if((o=e.length-2)<0)return c[0]=new b(e[0][t],0,0,e[0][t]),c;for(a=0;a<o;a++)i=e[a][t],s=e[a+1][t],c[a]=new b(i,0,0,s),n&&(l=e[a+2][t],g[a]=(g[a]||0)+(s-i)*(s-i),y[a]=(y[a]||0)+(l-s)*(l-s));return c[a]=new b(e[a][t],0,0,e[a+1][t]),c},S=function(e,t,n,r,o,a){var i,s,l,u,c,d,f,p,h={},v=[],b=a||e[0];for(s in o="string"==typeof o?","+o+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==t&&(t=1),e[0])v.push(s);if(e.length>1){for(p=e[e.length-1],f=!0,i=v.length;--i>-1;)if(s=v[i],Math.abs(b[s]-p[s])>.05){f=!1;break}f&&(e=e.concat(),a&&e.unshift(a),e.push(e[1]),a=e[e.length-3])}for(g.length=y.length=m.length=0,i=v.length;--i>-1;)s=v[i],_[s]=-1!==o.indexOf(","+s+","),h[s]=x(e,s,_[s],a);for(i=g.length;--i>-1;)g[i]=Math.sqrt(g[i]),y[i]=Math.sqrt(y[i]);if(!r){for(i=v.length;--i>-1;)if(_[s])for(d=(l=h[v[i]]).length-1,u=0;u<d;u++)c=l[u+1].da/y[u]+l[u].da/g[u]||0,m[u]=(m[u]||0)+c*c;for(i=m.length;--i>-1;)m[i]=Math.sqrt(m[i])}for(i=v.length,u=n?4:1;--i>-1;)l=h[s=v[i]],C(l,t,n,r,_[s]),f&&(l.splice(0,u),l.splice(l.length-u,u));return h},P=function(e,t,n){for(var r,o,a,i,s,l,u,c,d,f,p,h=1/n,g=e.length;--g>-1;)for(a=(f=e[g]).a,i=f.d-a,s=f.c-a,l=f.b-a,r=o=0,c=1;c<=n;c++)r=o-(o=((u=h*c)*u*i+3*(d=1-u)*(u*s+d*l))*u),t[p=g*n+c-1]=(t[p]||0)+r*r},k=r.k._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._mod={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var r,o,a,i,s,l=t.values||[],u={},c=l[0],d=t.autoRotate||n.vars.orientToBezier;for(r in this._autoRotate=d?d instanceof Array?d:[["x","y","rotation",!0===d?0:Number(d)||0]]:null,c)this._props.push(r);for(a=this._props.length;--a>-1;)r=this._props[a],this._overwriteProps.push(r),o=this._func[r]="function"==typeof e[r],u[r]=o?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(e[r]),s||u[r]!==l[0][r]&&(s=u);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?S(l,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,s):function(e,t,n){var r,o,a,i,s,l,u,c,d,f,p,h={},g="cubic"===(t=t||"soft")?3:2,y="soft"===t,m=[];if(y&&n&&(e=[n].concat(e)),null==e||e.length<g+1)throw"invalid Bezier data";for(d in e[0])m.push(d);for(l=m.length;--l>-1;){for(h[d=m[l]]=s=[],f=0,c=e.length,u=0;u<c;u++)r=null==n?e[u][d]:"string"==typeof(p=e[u][d])&&"="===p.charAt(1)?n[d]+Number(p.charAt(0)+p.substr(2)):Number(p),y&&u>1&&u<c-1&&(s[f++]=(r+s[f-2])/2),s[f++]=r;for(c=f-g+1,f=0,u=0;u<c;u+=g)r=s[u],o=s[u+1],a=s[u+2],i=2===g?0:s[u+3],s[f++]=p=3===g?new b(r,o,a,i):new b(r,(2*o+r)/3,(2*o+a)/3,a);s.length=f}return h}(l,t.type,u),this._segCount=this._beziers[r].length,this._timeRes){var f=function(e,t){var n,r,o,a,i=[],s=[],l=0,u=0,c=(t=t>>0||6)-1,d=[],f=[];for(n in e)P(e[n],i,t);for(o=i.length,r=0;r<o;r++)l+=Math.sqrt(i[r]),f[a=r%t]=l,a===c&&(u+=l,d[a=r/t>>0]=f,s[a]=u,l=0,f=[]);return{length:u,lengths:s,segments:d}}(this._beziers,this._timeRes);this._length=f.length,this._lengths=f.lengths,this._segments=f.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(d=this._autoRotate)for(this._initialRotations=[],d[0]instanceof Array||(this._autoRotate=d=[d]),a=d.length;--a>-1;){for(i=0;i<3;i++)r=d[a][i],this._func[r]="function"==typeof e[r]&&e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)];r=d[a][2],this._initialRotations[a]=(this._func[r]?this._func[r].call(this._target):this._target[r])||0,this._overwriteProps.push(r)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(e){var t,n,r,o,a,i,s,l,u,c,d=this._segCount,f=this._func,p=this._target,g=e!==this._startRatio;if(this._timeRes){if(u=this._lengths,c=this._curSeg,e*=this._length,r=this._li,e>this._l2&&r<d-1){for(l=d-1;r<l&&(this._l2=u[++r])<=e;);this._l1=u[r-1],this._li=r,this._curSeg=c=this._segments[r],this._s2=c[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=u[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=u[r],this._li=r,this._curSeg=c=this._segments[r],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(t=r,e-=this._l1,r=this._si,e>this._s2&&r<c.length-1){for(l=c.length-1;r<l&&(this._s2=c[++r])<=e;);this._s1=c[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=c[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=c[r],this._si=r}i=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else i=(e-(t=e<0?0:e>=1?d-1:d*e>>0)*(1/d))*d;for(n=1-i,r=this._props.length;--r>-1;)o=this._props[r],s=(i*i*(a=this._beziers[o][t]).da+3*n*(i*a.ca+n*a.ba))*i+a.a,this._mod[o]&&(s=this._mod[o](s,p)),f[o]?p[o](s):p[o]=s;if(this._autoRotate){var y,m,_,v,b,w,C,x=this._autoRotate;for(r=x.length;--r>-1;)o=x[r][2],w=x[r][3]||0,C=!0===x[r][4]?1:h,a=this._beziers[x[r][0]],y=this._beziers[x[r][1]],a&&y&&(a=a[t],y=y[t],m=a.a+(a.b-a.a)*i,m+=((v=a.b+(a.c-a.b)*i)-m)*i,v+=(a.c+(a.d-a.c)*i-v)*i,_=y.a+(y.b-y.a)*i,_+=((b=y.b+(y.c-y.b)*i)-_)*i,b+=(y.c+(y.d-y.c)*i-b)*i,s=g?Math.atan2(b-_,v-m)*C+w:this._initialRotations[r],this._mod[o]&&(s=this._mod[o](s,p)),f[o]?p[o](s):p[o]=s)}}}),O=k.prototype;k.bezierThrough=S,k.cubicToQuadratic=w,k._autoCSS=!0,k.quadraticToCubic=function(e,t,n){return new b(e,(2*t+e)/3,(2*t+n)/3,n)},k._cssRegister=function(){var e=v.CSSPlugin;if(e){var t=e._internals,n=t._parseToProxy,r=t._setPluginRatio,o=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,a,i,s,l){t instanceof Array&&(t={values:t}),l=new k;var u,c,d,f=t.values,p=f.length-1,h=[],g={};if(p<0)return s;for(u=0;u<=p;u++)d=n(e,f[u],i,s,l,p!==u),h[u]=d.end;for(c in t)g[c]=t[c];return g.values=h,(s=new o(e,"bezier",0,0,d.pt,2)).data=d,s.plugin=l,s.setRatio=r,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(u=!0===g.autoRotate?0:Number(g.autoRotate),g.autoRotate=null!=d.end.left?[["left","top","rotation",u,!1]]:null!=d.end.x&&[["x","y","rotation",u,!1]]),g.autoRotate&&(i._transform||i._enableTransforms(!1),d.autoRotate=i._target._gsTransform,d.proxy.rotation=d.autoRotate.rotation||0,i._overwriteProps.push("rotation")),l._onInitTween(d.proxy,g,i._tween),s}})}},O._mod=function(e){for(var t,n=this._overwriteProps,r=n.length;--r>-1;)(t=e[n[r]])&&"function"==typeof t&&(this._mod[n[r]]=t)},O._kill=function(e){var t,n,r=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],n=r.length;--n>-1;)r[n]===t&&r.splice(n,1);if(r=this._autoRotate)for(n=r.length;--n>-1;)e[r[n][2]]&&r.splice(n,1);return this._super._kill.call(this,e)},r.k._gsDefine("easing.Back",["easing.Ease"],function(){var e,t,n,o,a=r.k.GreenSockGlobals||r.k,i=a.com.greensock,s=2*Math.PI,l=Math.PI/2,u=i._class,c=function(e,t){var n=u("easing."+e,function(){},!0),o=n.prototype=new r.b;return o.constructor=n,o.getRatio=t,n},d=r.b.register||function(){},f=function(e,t,n,r,o){var a=u("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return d(a,e),a},p=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},h=function(e,t){var n=u("easing."+e,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),o=n.prototype=new r.b;return o.constructor=n,o.getRatio=t,o.config=function(e){return new n(e)},n},g=f("Back",h("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),h("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),h("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),y=u("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),m=y.prototype=new r.b;return m.constructor=y,m.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},y.ease=new y(.7,.7),m.config=y.config=function(e,t,n){return new y(e,t,n)},(m=(e=u("easing.SteppedEase",function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0},!0)).prototype=new r.b).constructor=e,m.getRatio=function(e){return e<0?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},m.config=e.config=function(t,n){return new e(t,n)},(m=(t=u("easing.ExpoScaleEase",function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n},!0)).prototype=new r.b).constructor=t,m.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},m.config=t.config=function(e,n,r){return new t(e,n,r)},(m=(n=u("easing.RoughEase",function(e){for(var t,n,o,a,i,s,l=(e=e||{}).taper||"none",u=[],c=0,d=0|(e.points||20),f=d,h=!1!==e.randomize,g=!0===e.clamp,y=e.template instanceof r.b?e.template:null,m="number"==typeof e.strength?.4*e.strength:.4;--f>-1;)t=h?Math.random():1/d*f,n=y?y.getRatio(t):t,o="none"===l?m:"out"===l?(a=1-t)*a*m:"in"===l?t*t*m:t<.5?(a=2*t)*a*.5*m:(a=2*(1-t))*a*.5*m,h?n+=Math.random()*o-.5*o:f%2?n+=.5*o:n-=.5*o,g&&(n>1?n=1:n<0&&(n=0)),u[c++]={x:t,y:n};for(u.sort(function(e,t){return e.x-t.x}),s=new p(1,1,null),f=d;--f>-1;)i=u[f],s=new p(i.x,i.y,s);this._prev=new p(0,0,0!==s.t?s:s.next)},!0)).prototype=new r.b).constructor=n,m.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},m.config=function(e){return new n(e)},n.ease=new n,f("Bounce",c("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),c("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),c("BounceInOut",function(e){var t=e<.5;return(e=t?1-2*e:2*e-1)<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),f("Circ",c("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),c("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),c("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),f("Elastic",(o=function(e,t,n){var o=u("easing."+e,function(e,t){this._p1=e>=1?e:1,this._p2=(t||n)/(e<1?e:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),a=o.prototype=new r.b;return a.constructor=o,a.getRatio=t,a.config=function(e,t){return new o(e,t)},o})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),o("ElasticIn",function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)},.3),o("ElasticInOut",function(e){return(e*=2)<1?this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),f("Expo",c("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),c("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),c("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),f("Sine",c("SineOut",function(e){return Math.sin(e*l)}),c("SineIn",function(e){return 1-Math.cos(e*l)}),c("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),u("easing.EaseLookup",{find:function(e){return r.b.map[e]}},!0),d(a.SlowMo,"SlowMo","ease,"),d(n,"RoughEase","ease,"),d(e,"SteppedEase","ease,"),g},!0);const E=r.k.Back,T=r.k.Elastic,M=r.k.Bounce,D=r.k.RoughEase,A=r.k.SlowMo,j=r.k.SteppedEase,I=r.k.Circ,L=r.k.Expo,R=r.k.Sine,B=r.k.ExpoScaleEase,N=i;N._autoActivated=[o,a,s,l,k,u,p,E,T,M,D,A,j,I,L,R,B],n.d(t,"default",function(){return N}),n.d(t,"TweenLite",function(){return r.l}),n.d(t,"TweenMax",function(){return N}),n.d(t,"TimelineLite",function(){return o}),n.d(t,"TimelineMax",function(){return a}),n.d(t,"CSSPlugin",function(){return s}),n.d(t,"AttrPlugin",function(){return l}),n.d(t,"BezierPlugin",function(){return k}),n.d(t,"RoundPropsPlugin",function(){return u}),n.d(t,"DirectionalRotationPlugin",function(){return p}),n.d(t,"TweenPlugin",function(){return r.j}),n.d(t,"Ease",function(){return r.b}),n.d(t,"Power0",function(){return r.d}),n.d(t,"Power1",function(){return r.e}),n.d(t,"Power2",function(){return r.f}),n.d(t,"Power3",function(){return r.g}),n.d(t,"Power4",function(){return r.h}),n.d(t,"Linear",function(){return r.c}),n.d(t,"Back",function(){return E}),n.d(t,"Elastic",function(){return T}),n.d(t,"Bounce",function(){return M}),n.d(t,"RoughEase",function(){return D}),n.d(t,"SlowMo",function(){return A}),n.d(t,"SteppedEase",function(){return j}),n.d(t,"Circ",function(){return I}),n.d(t,"Expo",function(){return L}),n.d(t,"Sine",function(){return R}),n.d(t,"ExpoScaleEase",function(){return B}),n.d(t,"_gsScope",function(){return r.k})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(19)),i=r(n(5)),s=r(n(498)),l=r(n(34)),u=r(n(29)),c=r(n(91)),d=r(n(10)),f=r(n(67)),p=r(n(6)),h=n(229),g=n(224),y=n(1177),m=n(314),_=n(148),v=n(1e3),b=r(n(1233)),w=window,C=w.$,x=w.isPrototypeTool;function S(){var e=C.getUrlParam("prdpage"),t=e&&c["default"].getPrdStructById(e);if(!e||!t){var n=[];k({arr:g.getPrdAllStructDataArr(),findFirstPageArr:n,isOnlyOne:!0}),n.length>0&&(e=n[0].id)}e&&(l["default"].setSelectStructArr([e],!0),l["default"].setSelectStructKey(e,!0))}function P(){var e=[];return k({arr:g.getPrdAllStructDataArr(),findFirstPageArr:e,isOnlyOne:!1}),e}function k(e){var t=e.arr,n=e.findFirstPageArr,r=e.isOnlyOne,o=void 0!==r&&r;t[o?"some":"forEach"](function(e){if(!e)return undefined;var t=e.type,r=e.pageHierarchy;return"page"==t?n.push(e):k({arr:g.getPrdAllStructDataArr(r),findFirstPageArr:n}),o?k.length>0:undefined})}function O(e){var t=void 0===e?{}:e,n=t.noSelectFirst,r=void 0!==n&&n,o=t.noEmit,a=void 0!==o&&o,u=l["default"].getSelectStructKey();r||u||S(),p["default"].selectChange([]),y.initPrdMousetrap(),h.switchMode("prd-view",!0),C.replaceParamVal("isprd",!0),a||(l["default"].emitChange(),i["default"].emitViewChange(),i["default"].emitPagesChange(),s["default"].emitMustChange())}function E(e){var t=void 0===e?{}:e,n=t.noEmit,r=void 0!==n&&n,o=t.noSelectPage,a=void 0!==o&&o;h.switchMode("normal",!0),x&&v.initMousetrap(),m.changeElementSelect([],!0),C.removeParamVal("isprd"),a||setTimeout(function(){var e=_.backOutPageIndex();_.choosePageAction(e||i["default"].getActivePage())},0),r||(i["default"].emitViewChange(),i["default"].emitPagesChange(),s["default"].emitMustChange())}function T(e){var t=void 0===e?{}:e,n=t.noEmit,r=void 0!==n&&n,d=t.callback,p=void 0===d?C.noop:d;a["default"].init({title:"删除PRD模板",width:640,content:o["default"].createElement(b["default"],null),submitBtnFunc:function(){var e=C("#deleteConfirmInput"),t=e.val();"删除"==t?(a["default"].hide(),l["default"].initPrdData(),u["default"].initPrdElement(),c["default"].initPrdStruct(),f["default"].setAllLine({}),p&&p(),r||(i["default"].emitViewChange(),i["default"].emitPagesChange(),s["default"].emitMustChange())):""==t&&e.focus()},cancelBtnFunc:function(){a["default"].hide()}})}t.selectFirstPage=S,t.selectAllPages=P,t.findPageInArr=k,t.inPrdView=O,t.exitPrdView=E,t.deletePrd=T,t.clickDeletePrd=function(e){var t=(void 0===e?{}:e).noEmit;T({noEmit:void 0!==t&&t,callback:function(){d["default"].createData({type:"deletePrd",name:"PRD 删除文档",autoSaveType:"prd"})}})},t["default"]={inPrdView:O,exitPrdView:E,deletePrd:T,findPageInArr:k,selectAllPages:P}},,function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1)),i=o(n(49)),s=o(n(10)),l=o(n(5)),u=o(n(27)),c=o(n(23)),d=o(n(454)),f=o(n(343)),p=o(n(48)),h=o(n(42)),g=o(n(19)),y=o(n(12)),m=o(n(132)),_=n(170),v=n(490),b=n(618),w=n(318),C=n(939),x=n(342),S=n(46),P=window.isPrototypeTool;function k(){var e=P?l["default"].getZoom():h["default"].getMultiZoom(),t=P?p["default"].getCurPos():h["default"].getMultiPos(),n=$.getWindowWH(),r=n.width,o=n.height,a=c["default"].getStage().getStage(),i=b.getPageMaxPos({stage:a,thisZoom:e}),s=i.x,u=i.y,d=i.w,f=i.h;if(!$.isUndefined(d)){var g={left:0,top:0};g.left=r>d?((r-d)/2-s)/e:(160-s)/e,g.top=o-45>f?((o-45-f)/2-u)/e:(100-u)/e,P?w.phoneConBoxChangePos({transition:!1,autoOff:!0,left:t.left+g.left,top:t.top+g.top}):h["default"].setMultiPos({left:t.left+g.left,top:t.top+g.top}),l["default"].emitPagesChange(),c["default"].emitChange()}}function O(){window.renderPages=!0;var e,t=window.isPrototypeTool?l["default"].isMultiView():h["default"].isMultiFreeView();m["default"].selectChange([]),l["default"].emitPagesChange(),f["default"].emitChange(),l["default"].emitViewChange(),t&&(e=$(".konvajs-content canvas")).css("visibility","hidden"),setTimeout(function(){u["default"].setSelectArr([]),c["default"].emitChange(),window.renderPages=!1,t&&(k(),e.css("visibility","visible"))},0),d["default"].emitChange()}function E(e){void 0===e&&(e={});var t=e.createVal,n=void 0===t?{}:t,o=e.name,a=void 0===o?"":o,u=i["default"].getPageFlowNum(),c=l["default"].getPageSelect(),d=S.getPageFlow(),f=d&&d.id,p={};c.forEach(function(e){var t=l["default"].getPageByKey(e);p[e]=v.getOnePageVal(t)});var h=r({id:_.generateUUID(),title:a||"新流程 "+(u+1),pageVal:p},n),g=h.title;return i["default"].createPageFlow({createVal:h}),function(e){var t=e.pageIdArr,n=e.pageFlowId,r=void 0===n?undefined:n,o=C.getLineByPageKeyArr({pageIdArr:t,pageFlowId:r});x.addLinkLineByPaste({linkLineData:o,pageKeyArr:t})}({pageIdArr:c,pageFlowId:f}),O(),y["default"].show("创建流程成功"),s["default"].createData({type:"createPageFlow",name:"创建新流程 ["+g+"]"}),h}function T(e){void 0===e&&(e={});var t=e.id,n=e.callback,r=i["default"].getOnePageFlow(t).title;g["default"].init({width:640,title:"删除流程",cancelBtnName:"取消",submitBtnName:"删除",content:a["default"].createElement("div",{className:"popup-content"},a["default"].createElement("span",null,"确认删除流程 「",a["default"].createElement("span",{className:"red-text"},r),"」？")),submitBtnFunc:function(){var e=i["default"].getSelectPageFlowKey()==t;i["default"].deletePageFlow({id:t}),e&&O(),n&&n(),g["default"].hide(),y["default"].show("删除流程成功"),s["default"].createData({type:"deletePageFlow",name:"删除流程 ["+r+"]"})}})}function M(e){void 0===e&&(e={});var t=e.id,n=e.title,r=i["default"].getOnePageFlow(t).title;i["default"].updatePageFlow({id:t,updateVal:{title:n}}),s["default"].createData({type:"changeName",name:r+"改为"+n})}function D(e){var t=e.list,n=e.oldOne,r=e.newOne,o=[];t.forEach(function(e){var t=e.id;o.push(t)}),i["default"].changeHierarchy({hierarchy:o}),s["default"].createData({type:"changePosi",name:"第"+n+"移到第"+r+"项"})}function A(e){void 0===e&&(e={});var t=e.id,n=e.callback,r=i["default"].getOnePageFlow(t),o=r?r.title:"所有页面流程";i["default"].setSelectPageFlowKey({selectKey:t}),O(),n&&n(),y["default"].show("已切换至「"+o+"」"),s["default"].createData({type:"selectPageFlow",name:"切换选中「"+o+"」"})}t.fixStagePos=k,t.createPageFlow=E,t.deletePageFlow=T,t.changeName=M,t.changePosi=D,t.selectPageFlow=A,t["default"]={createPageFlow:E,deletePageFlow:T,changeName:M,changePosi:D,selectPageFlow:A}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i={isShow:!1,type:"contr",searchKey:null,listObj:{contr:[],page:[],project:[]},isFirst:!1,isLoading:!1},s=window.localStorage.globalSearchHistory?$.stringToObj(window.localStorage.globalSearchHistory):{contr:[],page:[]},l={contr:["按钮","顶栏","导航","loading","二维码","卡片","键盘","分享","选择器","弹窗","进度条"],page:["详情","搜索","首页","我","登录","注册","分类","列表","提示","相册","发布","消息"]},u=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getAllSearchObj=function(){return i},t.prototype.closeAllSeachObj=function(e){i.isShow=!1,e||u.emitChange()},t.prototype.showAllSeachObj=function(e,t){$.extend(!0,i,e),t||u.emitChange()},t.prototype.initAllSeachObj=function(e,t){if(i.type=e.type,i.listObj[e.type]=e.data,i.searchKey=e.searchKey,i.isLoading=!1,i.isFirst=!1,i.searchKey){if(s[e.type]){var n=s[e.type].indexOf(i.searchKey);-1!=n&&s[e.type].splice(n,1),s[e.type].unshift(i.searchKey),s[e.type].length>8&&s[e.type].pop()}window.localStorage.globalSearchHistory=$.objToString(s)}t||u.emitChange()},t.prototype.changeType=function(e,t){i.type=e,i.isLoading=!0,i.isFirst=!0,t||u.emitChange()},t.prototype.allSearchLoad=function(e,t){i.isLoading=e,t||u.emitChange()},t.prototype.resetAllSeachObj=function(e){i.searchKey=null,e||u.emitChange()},t.prototype.getReferrals=function(e){return l[e]},t.prototype.getHistory=function(e){return s[e]},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=u},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,i,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,o)});default:for(a=new Array(s-1),i=0;i<a.length;)a[i++]=arguments[i];return t.nextTick(function(){e.apply(null,a)})}}}:e.exports=t}).call(this,n(58))},function(e,t,n){var r=n(62),o=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=i),a(o,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return t!==undefined?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t){e.exports={isNode:void 0!==t,newBufferFrom:function(e,n){if(t.from&&t.from!==Uint8Array.from)return t.from(e,n);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,n)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var n=new t(e);return n.fill(0),n},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(this,n(62).Buffer)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(10)),a=r(n(5)),i=r(n(6)),s=r(n(76)),l=r(n(48)),u=r(n(23)),c=r(n(27)),d=r(n(151)),f=r(n(32)),p=r(n(472)),h=r(n(132)),g=r(n(311)),y=n(85),m=n(148),_=n(359),v=n(303),b=n(1326),w=n(1327),C=n(87),x=n(61),S=n(98),P=n(444);function k(e){var t=$("#pageSetLabel");t&&t.length>0&&t.click(),e.stopPropagation()}function O(e,t){var n=e.attrs,r=S.getPageIdByKey(n["data-key"]),i=n["data-name"];a["default"].getActivePage()==r||$.hasClass($.getElById("reactBox"),"event-editing")||(m.choosePageAction(r),u["default"].emitChange(),o["default"].createData({type:"changeFromMultiView",name:"["+i+"] 选中该页面",handleObjType:"viewChange",autoSaveType:"none"})),t&&("dblclick"==t.type?t.stopPropagation():t.persist&&t.persist())}function E(e,t){var n,r,k,O,E=e.attrs,T=S.getPageIdByKey(E["data-key"]),M=a["default"].getPage(T,!0),D=a["default"].getView(),A=a["default"].getPages(),j=u["default"].getStage().getStage();if(P.hidePageIdxInput(),D.editing)n={pageKey:T,editingKey:D.editing,pageName:M.name},r=n.pageKey,k=n.editingKey,O=n.pageName,$.hasClass($.getElById("eventLabel"),"active")?d["default"].setTempSelectedPage(r):$.hasClass($.getElById("pageSetLabel"),"active")&&(a["default"].setPageIndexKey(r),x.setAutoSaveChangePages("changeProject")),m.choosePageAction(k),o["default"].createData({type:"changeFromMultiView",name:"["+O+"] 选中该页面",handleObjType:"viewChange",autoSaveType:"none"}),f["default"].getSymbolMaskShow()?setTimeout(function(){a["default"].toggleEditing(),f["default"].emitChange()},0):a["default"].toggleEditing(),$.hasClass($.getElById("reactBox"),"event-editing")||(setTimeout(function(){$.removeClass($.getElById("reactBox"),"event-editing")},300),$.addClass($.getElById("reactBox"),"event-editing"));else if(!D.editing){var I=$.getWinSize(),L=$.getElById("trashBox"),R=[0,0],B=[0,0],N=a["default"].getPageSelect(),F="fixed-view"==D.multiViewType&&"multi-view"==D.mode,H=!1,z=a["default"].isMultiView(),U=t.altKey,V=t.shiftKey||t.metaKey;if(U)w.dragCopyPage(D,M,t);else{var K,G=[],q=-1!=N.indexOf(""+M.key);if(V)if(q){if(N.length>1){var W=N.remove(""+M.key);h["default"].selectChange(W)}}else N.push(""+M.key),h["default"].selectChange(N);else q||(h["default"].selectChange([""+M.key]),N=[""+M.key]);if(F){var Y,X=a["default"].getZoom(),Z=[t.clientX+4*X,t.clientY-4*X],J=t.target,Q=$.offset($.getElById("mainBox"+M.key)),ee=[-Z[0]+Q.left+164*X,-Z[1]+Q.top+279*X];$.setDrag({name:"mainBoxDrag",posi:Z,target:J,moveFunc:function(e){H||($.hidePageStruct(z),g["default"].init({type:"page",posi:Z,pagesNum:N.length,contr:{width:164*X/.5,height:279*X/.5,pageKey:M.key}}),$.addClass($.getElById("allPanel"),"multi-fixed-drag"),H=!0),Y?b.deleteCheck({winSize:I,trashBoxDom:L,pageSelect:N,pageSelectDom:[Y],pageName:M.name,isMultiFixed:!0,pages:undefined}):Y=$.getElById("dragContr"),g["default"].move({posi:[e.clientX+ee[0],e.clientY+ee[1]]})},endFunc:function(){H&&function(e){var t,n,r,l=e.dragContr,u=e.pageSelect,c=e.page,d=$.getWinSize(),f=$.getElById("trashBox"),p=$(".drop-area.drop-right, .drop-area.drop-left, .folder-box.dropping, .folder-box.dropping-top, .folder-box.dropping-bottom")[0],h="",g=-1,m=!1;if(l&&(m=b.deleteCheck({winSize:d,trashBoxDom:f,pageSelect:u,pageSelectDom:[l],pageName:c.name,isMultiFixed:!0,isEnd:!0,pages:undefined})),m)$.removeClass($.getElById("allPanel"),"multi-fixed-drag");else{if(s["default"].hide(),p){if(t=p.id,n=$.getSelectPageList(),$.hasClass(p,"drop-left")&&p.getAttribute("data-prevpage")){var _=$(p).prev();_.hasClass("select")?(t=_[0].id,h="addStructPageInFolderIndex"):h="addStructPageFolderAfter"}if($.hasClass(p,"folder-box"))$.hasClass(p,"dropping")?(h="addStructPageInFolder",n=n.reverse()):$.hasClass(p,"dropping-top")?h="addStructPageInFolderBefore":$.hasClass(p,"dropping-bottom")&&(h="addStructPageInFolderAfter");else if($.hasClass(p,"select")||"addStructPageInFolderIndex"==h){for(var v=y.findStructFolder(S.getPageIdByKey(t),"page"),w=v.index-1;-1==g&&w>=0;w--){var x=v.hierarchy[w];("page"!=x.type||"page"==x.type&&-1==n.indexOf(""+x.key))&&(g=w)}r=v.hierarchy,h="addStructPageInFolderIndex"}else t&&t!="mainBox"+c.key&&$.hasClass(p,"drop-right")?h="addStructPageAfter":t&&t!="mainBox"+c.key&&$.hasClass(p,"drop-left")&&(h="addStructPageBefore",n=n.reverse());n.forEach(function(e){switch(h){case"addStructPageAfter":y.addStructPageAfter([parseInt(S.getPageIdByKey(t)),"page"],e);break;case"addStructPageBefore":y.addStructPageBefore([parseInt(S.getPageIdByKey(t)),"page"],e);break;case"addStructPageFolderAfter":y.addStructPageAfter([p.getAttribute("data-prevpage"),"page"],e);break;case"addStructPageInFolder":y.addStructPageInFolder(p.getAttribute("data-key"),e);break;case"addStructPageInFolderBefore":y.addStructPageInFolderBefore(p.getAttribute("data-key"),e);break;case"addStructPageInFolderAfter":y.addStructPageInFolder(p.getAttribute("data-key"),e,!0);break;case"addStructPageInFolderIndex":y.addStructPageInFolderIndex(r,e,g)}}),"addStructPageInFolder"==h&&setTimeout(function(){$.scrollPhoneConBoxPage($.getElById("mainBox"+u[0]),a["default"].getZoom())},0),a["default"].selectChange(u,!0),a["default"].emitViewChange(),a["default"].emitPageStructChange(),i["default"].emitChange(),C.pageEmitChange(),o["default"].createData({type:"fixedMovePage",name:"[多视图] 页面层级位置移动",handleObjType:"page",autoSaveType:"changeStruct"})}$.removeClass($.getElById("allPanel"),"multi-fixed-drag")}}({dragContr:Y,pageSelect:N,page:M})}})}else{var te=[t.pageX,t.pageY],ne=$.getElById("allPanel"),re=N.map(function(e){return $.getElById("mainBox"+e)}),oe={},ae={left:0,top:0};N.forEach(function(e){oe[e]=v.getPagePos(e)}),j.find(".page").each(function(e){var t=S.getPageIdByKey(e.getAttr("id"));if(-1==N.indexOf(t)){var n=e.getAbsolutePosition(),r=n.x,o=n.y;G.push({left:r,top:o})}if(e.getAttr("id")==M.id){var a=e.getAbsolutePosition();r=a.x,o=a.y;ae={left:r,top:o}}}),l["default"].saveBeforeMovePos(),$.setDrag({name:"mainBoxDrag",posi:[t.clientX,t.clientY],target:t.target,moveFunc:function(e){H||(H=!0,$.addClass(ne,"dragTarget"),$.addClass(ne,"dragMoveTarget"));var t=l["default"].getDspl(),n=$.extend({},ae);B=[(e.pageX-te[0])/D.zoom,(e.pageY-te[1])/D.zoom],R=[B[0]-t[0],B[1]-t[1]],n.left+=R[0]*D.zoom,n.top+=R[1]*D.zoom,K=$.posiAdsorb(n,G,Math.ceil(20*D.zoom)),$.isUndefined(K.left)||(R[0]-=K.left/D.zoom),$.isUndefined(K.top)||(R[1]-=K.top/D.zoom),b.deleteCheck({winSize:I,trashBoxDom:L,pageSelect:N,pageSelectDom:re,pages:A,pageName:M.name,pageOldPosi:oe,dspl:R})||(window.renderPages=!0,N.forEach(function(e){var t=oe[e];_.pagePosChange({key:parseInt(e),pos:{left:R[0]+t.left,top:R[1]+t.top}})}),u["default"].emitChange(),c["default"].emitChange(),a["default"].emitPagesChange(),setTimeout(function(){window.renderPages=!1},0)),l["default"].savePageMoveDspl(B,oe)},endFunc:function(e){if(H){$.removeClass(ne,"dragMoveTarget");var t=b.deleteCheck({winSize:I,trashBoxDom:L,pageSelect:N,pageSelectDom:re,pages:A,pageName:M.name,dspl:R,pageOldPosi:oe,isEnd:!0});if(!t)if((e.pageX-te[0]!=0||e.pageY-te[1]!=0)&&!t){var n=l["default"].getDspl(),r=$.extend({},ae);R=[B[0]-n[0],B[1]-n[1]],r.left+=R[0]*D.zoom,r.top+=R[1]*D.zoom,K=$.posiAdsorb(r,G,Math.ceil(20*D.zoom)),$.isUndefined(K.left)||(R[0]-=K.left/D.zoom),$.isUndefined(K.top)||(R[1]-=K.top/D.zoom),window.renderPages=!0,N.forEach(function(e){var t=oe[e];_.pagePosChange({key:parseInt(e),pos:{left:R[0]+t.left,top:R[1]+t.top}})}),u["default"].emitChange(),c["default"].emitChange(),a["default"].emitPagesChange(),setTimeout(function(){window.renderPages=!1},0),o["default"].createData({type:"pageMove",name:"["+(N.length>1?"多个页面":M.name)+"] 位置移动",handleObjType:"page",autoSaveType:"changePagesPosi"})}setTimeout(function(){p["default"].mouseDown&&(p["default"].mouseDown(),p["default"].mouseUp(e)),$.removeClass(ne,"dragTarget")},10)}}})}}}t.stopPropagation()}t.activePageDblclick=k,t.pageDblclick=O,t.mainBoxMouseDown=E,t["default"]={activePageDblclick:k,pageDblclick:O,mainBoxMouseDown:E}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27)),a=r(n(23));function i(){o["default"].setShowHoverBall(!1,!0),a["default"].emitDblclickChange(),setTimeout(function(){o["default"].setShowHoverBall(!0,!0)},0)}t.canvasStageDblclickFix=i,t["default"]={canvasStageDblclickFix:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(131));function a(e,t,n){$("body").append('<div id="bezierLine" style="pointer-events: none;"></div>');var r=window.innerWidth,a=window.innerHeight,i=$.getElById("allPanel"),s=new o["default"].Stage({container:"bezierLine",width:r,height:a}),l=new o["default"].Layer(t);return e.length&&e.forEach(function(e){l.add(e)}),s.add(l),n||$.addClass(i,"dragTarget"),{layer:l,newStage:s,allPanelDom:i}}function i(e,t,n){e&&e.destroy(),t&&t.destroy(),$("#bezierLine").remove(),$.removeClass(n,"dragTarget")}t.createLayer=a,t.clearLayer=i,t["default"]={createLayer:a,clearLayer:i}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i,s,l,u,c=a(n(8)),d=n(9),f=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getSelectPosi=function(){return i},t.prototype.getHoverContr=function(){return s},t.prototype.getSelectDom=function(){return l},t.prototype.getHoverDom=function(){return u},t.prototype.setHoverContr=function(e,t){s=e,t||f.emitChange()},t.prototype.setHoverDom=function(e,t){u=e,t||f.emitChange()},t.prototype.initContr=function(e){i=undefined,l=undefined,s=undefined,e||(f.emitChange(),f.emitSelectChange())},t.prototype.setSelectDom=function(e,t){l=e,t||(f.emitChange(),f.emitSelectChange())},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitSelectChange=function(){this.emit("select_change")},t.prototype.addSelectChangeListener=function(e){this.on("select_change",e)},t.prototype.removeSelectChangeListener=function(e){this.removeListener("select_change",e)},t}(d.EventEmitter));c["default"].register(function(e){e.actionType}),t["default"]=f},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=window.$,a=r(n(622)),i=n(292);function s(e){var t=e.autoChangeFunc,n=e.arriveCriticalFunc,r=e.interval,i=void 0===r?20:r,s=e.speed,l=void 0===s?20:s;a["default"].setDragChangePosiSet({autoChangeFunc:t||o.noop,arriveCriticalFunc:n||o.noop,interval:i,speed:l,autoScroll:null,ratio:0,autoChangePosi:{autoChangePosiX:0,autoChangePosiY:0}})}function l(e,t){var n=a["default"].getDragChangePosiSet(),r=n.autoChangeFunc,o=n.interval,s=n.speed,l=n.arriveCriticalFunc,u=n.autoChangePosi;n.autoScroll&&clearInterval(n.autoScroll),n.ratio=r(e),0!=n.ratio?n.autoScroll=setInterval(function(){l()?clearInterval(n.autoScroll):(u.autoChangePosiY+=s*n.ratio,t&&t({autoChangePosi:u,ratio:n.ratio}),i.calcContainerHeight())},o):n.autoScroll&&clearInterval(n.autoScroll),t&&t({autoChangePosi:u})}function u(){var e=a["default"].getDragChangePosiSet();e.autoScroll&&clearInterval(e.autoScroll),a["default"].setDragChangePosiSet({autoChangeFunc:null,arriveCriticalFunc:null,interval:20,speed:20,autoScroll:null,ratio:0,autoChangePosi:{autoChangePosiX:0,autoChangePosiY:0}})}t.initDragChangePosi=s,t.changeDragChangePosi=l,t.endDragChangePosi=u,t["default"]={initDragChangePosi:s,changeDragChangePosi:l,endDragChangePosi:u}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i="",s="",l="",u="",c="",d=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getSearchLinkText=function(){return s},t.prototype.setSearchLinkText=function(e,t){void 0===t&&(t=!1),s=e,t||d.emitChange()},t.prototype.setSearchContainerText=function(e,t){void 0===t&&(t=!1),l=e,t||d.emitChange()},t.prototype.getSearchContainerText=function(){return l},t.prototype.setSearchContrText=function(e,t){void 0===t&&(t=!1),c=e,t||d.emitChange()},t.prototype.getSearchContrText=function(){return c},t.prototype.setSearchFlowText=function(e,t){void 0===t&&(t=!1),u=e,t||d.emitChange()},t.prototype.getSearchFlowText=function(){return u},t.prototype.setSearchText=function(e,t){void 0===t&&(t=!1),i=e,t||d.emitChange()},t.prototype.getSearchText=function(){return i},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=d},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(850)),i=r(n(6)),s=r(n(48)),l=r(n(32)),u=r(n(852)),c=r(n(29)),d=r(n(49)),f=r(n(94)),p=r(n(491)),h=r(n(885)),g=n(26),y=n(834),m=n(457),_=n(118),v=n(216),b=n(148),w=n(1002),C=r(n(132)),x=n(87),S=-1001;function P(e){var t=e.symbolKey,n=i["default"].getNums();i["default"].changeNums({symbolContr:n.symbolContr+1});var r=$.getNumKey(n.symbolContr),o=t&&i["default"].getOneSymbolByLib(t),a=h["default"].createSymbolContr({symbolKey:t,contr:{name:o.name,left:0,top:0},contrKey:r});a.interfaceId=S,a&&m.createContr(a,!0,!0);var u=$.getContrId(a);return l["default"].init(u),setTimeout(function(){p["default"].change(100),setTimeout(function(){var e=$.query(".symbolMaskBox");$.addClass(e,"invisible"),v.posChange({left:0,top:0,transition:!1,autoOff:!0}),setTimeout(function(){var t=$.offset(e,!0),n=t.left,r=t.top,o=t.width,a=t.height,i=$.offset(document.body,!0),l=i.width,u=i.height,c=l/2-o/2-n,d=(u-45)/2-a/2-r+45,f=s["default"].getCurPos();v.posChange({left:f.left+c,top:f.top+d,transition:!1,autoOff:!0}),$.removeClass(e,"invisible")},0)},0)},0),u}function k(e,t){void 0===e&&(e=!1),i["default"].selectChange([]);var n=g.findSelectElement()[0],r=n.type,p=n.pageId,h=n.id,m={},_="",v=t||r;if("createSymbol"==v)m.noSelectPage=!0;else if("contr"==v){l["default"].getSymbolMask().isShow&&l["default"].exit(!0,!0),_=P(n)}else"page"==v?(_=function(e){var t=e.pageKey;return setTimeout(function(){b.choosePageAction(t)},0),t}(n),m.noSelectPage=!0):"pageflow"==v?_=function(e){var t=e.pageFlowId;return setTimeout(function(){var e=o["default"].isMultiView();w.changeMultiViewType("free-view"),u["default"].setFooterShow(!0),d["default"].setSelectPageFlowKey({selectKey:"all"}),setTimeout(function(){e||$("#toMutiviewBtn").click(),setTimeout(function(){d["default"].setSelectPageFlowKey({selectKey:t}),x.pageEmitChange()},500)},0)},0),t}(n):"pageRemark"==v&&(_=function(e){var t=e.pageKey,n=e.pageId,r=t||n,o=c["default"].getPrdElementById(r).pageKey;return setTimeout(function(){b.choosePageAction(o),f["default"].reset("note")},0),o}(n),m.noSelectPage=!0);y.exitPrdView(m),a["default"].setPrdEdit({type:v,key:_,isShow:!0,elementId:h,pageId:p},e),o["default"].emitViewChange(),o["default"].emitPagesChange(),i["default"].emitChange(),s["default"].emitChange()}function O(){var e,t,n,r,s,u,d,f,p,h,g=a["default"].getPrdEdit().type;l["default"].getSymbolMask().isShow&&l["default"].exit(!0,!0),o["default"].isMultiView()&&C["default"].zoomOut(),"contr"==g&&(e=a["default"].getPrdEdit().elementId,t=c["default"].getPrdElementById(e),n=t.symbolKey,r=t.oriWidth,s=t.oriHeight,u=t.width,d=t.height,f=i["default"].getOneSymbolByLib(n),p=f.width,h=f.height,r==p&&s==h||_.fixElementPosVal({changeVal:{oriWidth:p,oriHeight:h,width:u*p/r,height:d*h/s},element:t}),function(){var e=i["default"].getContrs();for(var t in e){var n=e[t];n&&n.interfaceId==S&&delete e[t]}i["default"].initCache()}()),a["default"].initPrdEdit(),y.inPrdView({noSelectFirst:!0})}t.prdEditInit=k,t.prdEditExit=O,t["default"]={prdEditInit:k,prdEditExit:O}},function(e,t,n){"use strict";function r(){$(".isSelectOnlyOne.element-cover").dblclick()}Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDblclick=r,t["default"]={triggerDblclick:r}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=B(n(39)),a=B(n(33)),i=B(n(1)),s=B(n(155)),l=B(n(171)),u=B(n(19)),c=B(n(12)),d=B(n(277)),f=B(n(132)),p=B(n(418)),h=B(n(276)),g=B(n(6)),y=B(n(5)),m=B(n(83)),_=B(n(151)),v=B(n(94)),b=B(n(34)),w=B(n(498)),C=B(n(416)),x=B(n(81)),S=B(n(173)),P=B(n(278)),k=B(n(78)),O=n(61),E=n(430),T=n(85),M=n(617),D=n(63),A=n(1001),j=n(1183),I=n(1222),L=n(1223),R=n(972);function B(e){return e&&e.__esModule?e:{"default":e}}function N(){var e=$.getElById("pageCheckBox"),t=$.getElById("savePageText"),n=$.getElById("pageSelectBox");$.hasClass(e,"active")?($.removeClass(t,"hide"),$.removeClass(e,"active"),$.addClass(n,"hide")):($.addClass(e,"active"),$.addClass(t,"hide"),$.removeClass(n,"hide"))}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var F,H,z={saveProjectName:function(e,t){var n=y["default"].getView();$.ajax("/project/updateName",{id:n.proid||$.getUrlParam("proid"),name:e},function(e){0===e.code?t(!0):t(!1)})},saveProject:function(e,t){if(window.noLogin)return $.addAttention("registerBtn"),c["default"].show("登录后，免费使用"),!1;if(!y["default"].getIsInit())return c["default"].show("项目尚未载入完成"),!1;if(0===$.objLength(y["default"].getPages()))return c["default"].show("页面数为0，不能保存"),!1;var n=void 0,r=y["default"].getProjectName(),o=y["default"].getPageIndexKey(),a=y["default"].getPages(),d=y["default"].getView(),f=[],p=[],h=(0,T.getStructAll)();if(-1!=o&&a[o])n=a[o];else for(var g in a){n=a[g],o=g;break}h.forEach(function(e){"page"==e.type&&(f.push(a[e.key].name),p.push(a[e.key].key))});var m=function(){if(""===(r=r.trim()))c["default"].show("项目名称不能为空"),$.query(".pageNameInput.cssTextarea").focus();else if(r.gblen()>window.maxNameLength)c["default"].show("项目名称不能超过"+window.maxNameLength+"个字符"),t&&$.isFunction(t)||$.query(".pageNameInput.cssTextarea").focus();else{var e=t&&$.isFunction(t)?o:window.document.querySelector("#controlLibSelect").getAttribute("data-value"),n=!0;a[e]||(n=!1);var i=(0,E.getProjectData)(function(t,r){n||(e=r,n=!0)}),s={content:$.objToString(i),name:r,pageIndexKey:e,pageNum:f.length,platform:$.getPlatform(window.platform)};s.proid=d.proid||$.getUrlParam("proid"),window.isPc&&(s.isPc=window.isPc),window.pSize&&(s.phoneSize=window.pSize),window.noNew?s.versionKey=d.versionSet.activeKey:"ip5"==window.phoneSize.type&&$.notBasePhoneSize()?s.phoneSize=window.phoneSize.width+"_"+window.phoneSize.height:"ip5"!=window.phoneSize.type&&($.getUrlParam("ps")?s.phoneSize=$.getUrlParam("ps"):$.getUrlParam("pw")||$.getUrlParam("ph")?s.phoneSize=window.phoneSize.width+"_"+window.phoneSize.height:s.phoneSize=window.phoneSize.type),$.ajax(window.noNew?"/project/update":"/project/add",s,function(n){if(t&&!window.noNew||c["default"].show("项目保存成功"),window.noNew){var o=y["default"].getProjectName();r!==o&&(y["default"].setViewProp({name:r},!0),w["default"].emitMustChange()),window.noNew=!0}else y["default"].setViewProp({proid:n.id,name:r},!0),window.history.pushState({},"addPage",window.hostUrl+"/project?proid="+n.id),window.noNew=!0,c["default"].show("已成功保存为自己的项目"),S["default"].emitChange();(0,A.addProjectInit)({content:i,lastSaveKey:n.lastSaveKey,name:r,pageIndexKey:e,update:n.update,updateTime:n.updateTime}),y["default"].setPageIndexKey(e),u["default"].hide(),window.isAutoCloud&&(window.isAutoCloud=!1,C["default"].emitChange()),t&&$.isFunction(t)&&t(n)})}},_=function(){u["default"].init({width:640,title:"保存当前项目",bottomContent:i["default"].createElement("div",{className:"popup-bottom-content"},i["default"].createElement("span",{className:"popup-item-title"},"选择页面截图为项目封面："),i["default"].createElement(l["default"],{id:"controlLibSelect",text:n.name,value:n.key,texts:f,values:p})),content:i["default"].createElement("div",{className:"popup-content"},i["default"].createElement("input",{className:"pageNameInput cssTextarea",id:"pageNameInput",placeholder:"请输入项目名称",onChange:function(e){r=e.target.value}}),window.noNew?undefined:i["default"].createElement("p",{className:"popup-bottom-desc"},"-- 创建新项目，访问权限默认为 [ 私有 ]")),submitBtnFunc:m}),setTimeout(function(){var e=$.getElById("pageNameInput");r+=window.isAutoCloud?" ("+(0,s["default"])(window.create_date).format("D日 H:mm")+")":"",e.value=r},0)};t&&$.isFunction(t)?m():window.noNew?_():$.ajax("/project/getUserCount",{noNew:window.noNew},function(){_()})},savePage:function(e){if(window.noLogin)return $.addAttention("registerBtn"),c["default"].show("登录后，免费使用"),!1;var t=h["default"].getMyPageLib(),n=h["default"].getLastPageLibKey(),r=[],s=[],p=e&&e.pageKey?y["default"].getPage(e.pageKey,!0):y["default"].getActivePage(!0),b=p.name,C=void 0,S=void 0,P=void 0,E=0;t.forEach(function(e,t){r.push(e.name),s.push(e.id),n===e.id&&(E=t),e.pages.forEach(function(t){t.id===p.serverKey&&(C={parentVal:e,pageVal:t})})}),C?(b=C.pageVal.name,S=i["default"].createElement("div",{className:"popup-content"},i["default"].createElement("p",{className:"popup-top-desc",id:"savePageText"},"该页面已存在于页面库<",i["default"].createElement("span",{className:"redText"},C.parentVal.name),">，覆盖保存"),i["default"].createElement("input",{className:"pageNameInput cssTextarea",placeholder:"请输入页面名称",defaultValue:b,onChange:function(e){b=e.target.value}})),P=i["default"].createElement("div",{className:"popup-bottom-content"},i["default"].createElement("div",{className:"checkBox",id:"pageCheckBox",onClick:N},i["default"].createElement("div",{className:"checkIcon"}),i["default"].createElement("span",null,"保存为新页面")),i["default"].createElement("figure",{id:"pageSelectBox",className:"isSaveDate hide"},i["default"].createElement("span",{className:"popup-item-title"},"|  选择页面库："),i["default"].createElement(l["default"],{id:"controlLibSelect",text:t[E].name,value:t[E].id,texts:r,values:s}),i["default"].createElement("div",(0,o["default"])({className:"iconBtn a_c images",id:"createLibBtn",onClick:$.createLibFunc},$.addHoverData({text:"创建新的页面库"}))),i["default"].createElement("input",{id:"createLib",className:"createLib hide"}),i["default"].createElement("div",(0,o["default"])({className:"iconBtn a_c images hide",id:"cancelLibBtn",onClick:$.cancelLibFunc},$.addHoverData({text:"取消创建新的页面库"})))))):0===t.length?(S=i["default"].createElement("div",{className:"popup-content"},i["default"].createElement("input",{className:"pageNameInput cssTextarea",placeholder:"请输入页面名称",defaultValue:b,onChange:function(e){b=e.target.value}})),P=i["default"].createElement("figure",{id:"pageSelectBox",className:"popup-bottom-content"},i["default"].createElement("span",{className:"popup-item-title"},"输入页面库名称："),i["default"].createElement("input",{id:"createLib",className:"noLib createLib"}))):(S=i["default"].createElement("div",{className:"popup-content"},i["default"].createElement("input",{className:"pageNameInput cssTextarea",placeholder:"请输入页面名称",defaultValue:b,onChange:function(e){b=e.target.value}})),P=i["default"].createElement("div",{id:"pageSelectBox",className:"popup-bottom-content"},i["default"].createElement("span",{className:"popup-item-title"},"选择页面库："),i["default"].createElement(l["default"],{id:"controlLibSelect",text:t[E].name,value:t[E].id,texts:r,values:s}),i["default"].createElement("div",(0,o["default"])({className:"iconBtn a_c images",id:"createLibBtn",onClick:$.createLibFunc},$.addHoverData({text:"创建新的页面库"}))),i["default"].createElement("input",{id:"createLib",className:"createLib hide"}),i["default"].createElement("div",(0,o["default"])({className:"iconBtn a_c images hide",id:"cancelLibBtn",onClick:$.cancelLibFunc},$.addHoverData({text:"取消创建新的页面库"}))))),u["default"].init({width:640,title:"multi-view"===y["default"].getViewMode()?"保存选中页面":"保存当前页面",content:S,bottomContent:P,submitBtnFunc:function(){var e=void 0,n=void 0,r=void 0,o=void 0;if(""===b)c["default"].show("页面名称不能为空"),$.query(".pageNameInput.cssTextarea").focus();else if(b.gblen()>window.maxNameLength)c["default"].show("页面名称不能超过"+window.maxNameLength+"个字符"),$.query(".pageNameInput.cssTextarea").focus();else if(0===t.length||$.hasClass($.getElById("createLibBtn"),"hide")){var i=$.getElById("createLib");if(""===i.value)c["default"].show("页面库名称不能为空"),i.focus();else if(i.value.gblen()>window.maxNameLength)c["default"].show("页面库名称不能超过"+window.maxNameLength+"个字符"),i.focus();else{g["default"].selectChange([]),e=(0,D.getPageByHierarchy)(p.key,!0),n=m["default"].getPageLineArr(p.key),r=x["default"].getNoteArr(p.key,!0),o=$.extend(!0,{},p.events),_["default"].deletePageActions({type:"savePage",pageContrs:e,pageId:p.key,pageEvents:o});var s=[];if(k["default"].removeInitVal(e,undefined,p.isLandscape,s),s.length>0){var l=(0,M.getSymbolByCopy)(s,!0);e.push(l)}a["default"].post("/page/add").send({isNewLib:!0,platform:window.isPc?"web":"",libName:i.value,name:b,backColor:p.backColor,pageWidth:window.phoneSize.width,pageHeight:p.pageHeight,isLandscape:p.isLandscape,content:$.objToString(e),guideLine:$.objToString(n),note:$.objToString(r),events:$.objToString(o),socketId:window.socketId,projectId:y["default"].getView().proid||$.getUrlParam("proid")}).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){var n=t.body;if(0===n.code){var r=window.imgUrl+n.data.image;$.loadImage(r,0,function(){var e=$.query('.private-items li[data-id="'+n.data.id+'"] img');e&&(e.src=r)}),d["default"].add({pages:[],id:n.data.libId,length:0,name:i.value}),d["default"].addPage(n.data.libId,{id:n.data.id,images:{imgBig:n.data.image},name:b}),h["default"].setLastPageLibKey(n.data.libId),f["default"].updateProp(p.key,{serverKey:n.data.id,name:b}),(0,O.setAutoSaveChangePages)(p.key+"__pageVals"),v["default"].emitChange(),w["default"].emitMustChange(),c["default"].show("当前页面保存成功"),u["default"].hide()}else c["default"].show(n.msg)})}}else{g["default"].selectChange([]),e=(0,D.getPageByHierarchy)(p.key,!0),n=m["default"].getPageLineArr(p.key),r=x["default"].getNoteArr(p.key,!0),o=$.extend(!0,{},p.events),_["default"].deletePageActions({type:"savePage",pageContrs:e,pageId:p.key,pageEvents:o});var S=[];if(k["default"].removeInitVal(e,undefined,p.isLandscape,S),S.length>0){var P=(0,M.getSymbolByCopy)(S,!0);e.push(P)}var E=window.document.querySelector("#controlLibSelect").getAttribute("data-value"),T="/page/add",A=C&&!$.hasClass(window.document.querySelector(".popup .checkBox"),"active"),j={platform:window.isPc?"web":"",content:$.objToString(e),guideLine:$.objToString(n),note:$.objToString(r),backColor:p.backColor,pageWidth:window.phoneSize.width,pageHeight:p.pageHeight,isLandscape:p.isLandscape,name:b,pageLibrId:E,events:$.objToString(o),socketId:window.socketId};A?(T="/page/update",j.pageid=p.serverKey,E=C.parentVal.id):j.projectId=y["default"].getView().proid||$.getUrlParam("proid"),a["default"].post(T).send(j).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){var n=t.body;if(0===n.code){if(n.data.image){var r=window.imgUrl+n.data.image;$.loadImage(r,0,function(){var e=$.query('.private-items li[data-id="'+n.data.id+'"] img');e&&(e.src=r)})}if(A){var o={name:b};n.data.image&&(o.images={imgBig:n.data.image}),d["default"].updatePage(E,p.serverKey,o),f["default"].updateProp(p.key,{name:b}),(0,O.setAutoSaveChangePages)(p.key+"__pageVals")}else d["default"].addPage(E,{id:n.data.id,images:{imgBig:n.data.image},name:b}),h["default"].setLastPageLibKey(E),f["default"].updateProp(p.key,{serverKey:n.data.id,name:b}),(0,O.setAutoSaveChangePages)(p.key+"__pageVals");v["default"].emitChange(),w["default"].emitMustChange(),c["default"].show("当前页面保存成功"),u["default"].hide()}else c["default"].show(n.msg)})}}})},saveAllPage:function(){var e=y["default"].getView();u["default"].init({width:500,submitBtnName:"保存",cancelBtnName:"取消",title:"保存所有页面",content:i["default"].createElement("div",{className:"popup-content"},i["default"].createElement("span",{className:"popup-item-title"},"确定保存项目的所有页面至新组件库 [",i["default"].createElement("span",{className:"redspan"},e.name),"]？")),submitBtnFunc:function(){y["default"].setLoad(!1);var t={id:e.proid},n=$.getUrlParam("versionkey"),r=$.getUrlParam("baseversion");n&&(t.versionkey=n),"true"==r&&(t.baseversion=r),$.ajax("/page/saveAllByProject",t,function(e){y["default"].setLoad(!0),h["default"].getIsDownload()?$.ajax("/page/oneLib",{id:e.id},function(t){0==t.code?(d["default"].add(t.data),c["default"].show("保存成功"),u["default"].hide()):c["default"].show(e.msg)}):(c["default"].show("保存成功"),u["default"].hide())})}})},getPageImage:L.getPageImage,getProjectImage:j.getProjectImage,getLocalWebsite:I.getLocalWebsite,preview:function(){if(y["default"].getIsOffLine())return c["default"].show("网络连接不通畅，无法实时预览"),!1;if($.exitCutImage(),0===$.objLength(y["default"].getPages()))c["default"].show("页面数为0，不能预览");else if(window.noNew){var e=y["default"].getActivePage()||y["default"].getPageIndexKey(),t=y["default"].getView(),n=t.proid||$.getUrlParam("proid"),r=$.getVersionQuery(t),o="prd-view"==t.mode;P["default"].setLoaded(!1),setTimeout(function(){window.Mousetrap.pause(),p["default"].show({hostUrl:window.hostUrl,id:n,platform:window.isPc?"web":"h5",type:"project",activePage:e,versionQuery:r,multi:!0,isPrd:"prd-view"==t.mode,addUrlParam:o?"&prdpage="+b["default"].getSelectStructKey():""}),(0,R.previewAutoUpdate)()},10)}else z.notMyProjectSave(function(e){P["default"].setLoaded(!1),setTimeout(function(){window.Mousetrap.pause(),p["default"].show({url:e.url,image:e.image})},10)})},notMyProjectSave:function(e){var t=y["default"].getActivePage()||y["default"].getPageIndexKey(),n=$.extend(!0,{},y["default"].getPages()),r=["guideLine","left","top"],o=[],a=[],i=void 0;(0,T.getStructAll)().forEach(function(e){if("page"==e.type){var r=e.key;n[r].contrs=(0,D.getPageByHierarchy)(r),n[r].note=x["default"].getNoteArr(r,!0),r==t&&(n[r].active=!0),o.push(n[r])}}),o=o.map(function(e){return e=$.extend(!0,{},e),k["default"].removeInitVal(e.contrs,undefined,e.isLandscape,a),r.forEach(function(t){delete e[t]}),e}),a.length>0&&(i=(0,M.getSymbolByCopy)(a,!0)),$.ajax("/getcode",{phoneView:!0,pages:$.objToString(o),structHierarchy:$.objToString(y["default"].getView().structHierarchy),symbolContrs:i?$.objToString(i):undefined,platform:$.getPlatform(window.platform),phoneSize:window.pSize},function(t){e&&e({url:window.hostUrl+t.url,image:window.hostUrl+t.image})})}},U=z;t["default"]=U,(F=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(F.register(N,"setCheckboxFunc","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/SaveToServer.js"),F.register(z,"SaveToServer","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/SaveToServer.js"),F.register(U,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/SaveToServer.js")),(H=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&H(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s={isShow:!1,type:"contr",key:"",elementId:null,pageId:null},l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setPrdEdit=function(e,t){void 0===t&&(t=!1),s=a({},s,e),t||l.emitChange()},t.prototype.getPrdEdit=function(){return s},t.prototype.initPrdEdit=function(e){void 0===e&&(e=!1),s={isShow:!1,type:"contr",key:"",elementId:null,pageId:null},e||l.emitChange()},t.prototype.isShowPrdEdit=function(){return s.isShow},t.prototype.getPrdEditType=function(){return s.type},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));t["default"]=l},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=s(n(1)),a=s(n(19)),i=s(n(977));function s(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var l,u,c={sharePopup:function(e){a["default"].init({title:e.title?"分享「"+e.title+"」":"分享",width:e.others||"lib"==e.type?500:640,content:o["default"].createElement(i["default"],e),noBottom:!0})}},d=c;t["default"]=d,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(l.register(c,"Share","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/common/Share.js"),l.register(d,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/common/Share.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&u(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=!1,s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.isFooterShow=function(){return i},t.prototype.setFooterShow=function(e,t){void 0===t&&(t=!1),i=e,t||s.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=s},,,,,function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(29)),i=o(n(91)),s=o(n(34)),l=o(n(67)),u=o(n(10)),c=n(145),d=n(224),f=n(875),p=n(314),h=n(26);function g(e){var t=e.newElement,n=d.getSelectStruct(),r=n.id,o=n.elementHierarchy,a=t.id,s=o.slice();s.unshift(a),i["default"].updateStructById({updateVal:{elementHierarchy:s},id:r,noEmit:!0})}function y(e,t,n){void 0===n&&(n={});var o,i=c.elementBaseVal[t].title;switch(l["default"].setPrdSelectArr([]),t){case"line":s["default"].setCursor("line");break;default:s["default"].setCursor(""),function(e){var t=e.type,n=e.name,o=e.option,i=f.createBaseElement({type:t,vals:r({name:n},o)}),s=i.id;g({newElement:i}),p.changeElementSelect([s],!0),a["default"].createElement(i)}({type:t,name:i,option:n}),"page"!=t&&"contr"!=t&&"pageflow"!=t||(o=h.findSelectElement()[0].id,a["default"].updateValById({updateVal:{isEdit:!0},id:o})),u["default"].createData({type:"createElementByInsert",name:"PRD 创建组件 ["+i+"]",autoSaveType:"prd"})}}t.createElementChangeHierarchy=g,t.createElementByInsert=y,t["default"]={createElementByInsert:y}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(10)),i=r(n(27)),s=r(n(6)),l=r(n(5)),u=r(n(23)),c=r(n(19)),d=r(n(455)),f=r(n(97)),p=n(166),h=n(98),g=n(308);function y(e,t){var n=[];e.forEach(function(e){if(t){var r=i["default"].getOneLine(e),o=r.startKey,a=r.endKey,s=r.pageKey;if(f["default"].isEventLine({startKey:o,endKey:a,pageKey:s})){var l=i["default"].getOneLine(e),u=l.startKey,c=l.endKey,d=l.pageKey;_(u,c,d),n.push(h.getPageIdByKey(d))}}i["default"].deleteLine(e,!0)}),i["default"].setSelectArr([]),a["default"].createData({type:"deleteLine",name:"删除选中线条",changePagesKey:n})}function m(){var e=i["default"].getSelectArr(),t=!1;e.some(function(e){var n=i["default"].getOneLine(e),r=n.startKey,o=n.endKey,a=n.pageKey;return!!f["default"].isEventLine({startKey:r,endKey:o,pageKey:a})&&(t=!0,!0)}),t?c["default"].init({width:640,title:"删除连线",cancelBtnName:"仅删除连线",submitBtnName:"删除连线和事件",content:o["default"].createElement("div",{className:"popup-content"},o["default"].createElement("span",null,"删除该连线会同时删除其对应的页面跳转事件，是否删除？")),submitBtnFunc:function(){y(e,!0),c["default"].hide()},cancelBtnFunc:function(){y(e,!1),c["default"].hide()},closeBtnFunc:function(){i["default"].setSelectArr([]),c["default"].hide()}}):y(e,!1),g.removeHoveringLine()}function _(e,t,n){var r,o,a,i=u["default"].getStage().getStage(),c=p.findPage(i,n);e!=n?(r=s["default"].getAllValsContr({contrKey:e}),p.findContr(c,e).setAttr("data-targetPage",undefined)):r=l["default"].getPageByKey(e.split("mainBox")[1]);if(r.events){for(var f in r.events)if(function(e){e.disable||e.actions.forEach(function(n,r){"page"==n.type&&n.page==t.split("mainBox")[1]&&(o=e.type,a=r)})}(r.events[f]),!$.isUndefined(o))break;d["default"].deleteAction({contr:r,type:o,index:a})}}t.deleteSelectLinkLine=m,t.deleteRelativeEvent=_,t["default"]={deleteSelectLinkLine:m}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l,u=s(n(1)),c=s(n(11)),d=s(n(3)),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:t.defalutValue||"",errorText:"",isEditing:!1},n}return o(t,e),t.prototype._inputChangeFunc=function(e){this.props.inputChangeFunc&&this.props.inputChangeFunc(e),this.setState({value:e.currentTarget.value})},t.prototype._inputFocusFunc=function(e){this.props.focusCallbackFunc&&this.props.focusCallbackFunc(e),l=e.currentTarget.value,this.setState({isEditing:!0})},t.prototype._inputBlurFunc=function(e){var t=this.props,n=t.blurCallbackFunc,r=t.notCheckEmpty,o=e.currentTarget.value;this.props.blurFunc&&this.props.blurFunc(e),""==o&&r?(this.setState({isEditing:!1,errorText:""}),n&&n(o,this._setError,o!=l,e)):(this.setState({isEditing:!1}),n&&n(o,this._setError,o!=l,e))},t.prototype._setError=function(e){this.setState({errorText:e})},t.prototype.render=function(){var e=this._inputChangeFunc,t=this._inputFocusFunc,n=this._inputBlurFunc,r=this.props,o=r.placeholder,a=r.isLong,i=r.isIcon,s=r.inputType,l=r.type,d=r.domId,f=r.noOnChange,p=r.value,h=r.inputChangeFunc,g=r.inputStyle,y=this.state,m=y.value,_=y.errorText,v=y.isEditing,b=""!==_&&!v;return u["default"].createElement("div",{className:c["default"]("setting-base-input-box",{"is-long-input":a,"is-error":b,"is-iconType":i})},u["default"].createElement("input",{"data-type":l,type:s||"text",value:p||m,placeholder:o,onChange:h||(f?$.noop:e),onFocus:t,onBlur:n,spellCheck:!1,id:d,style:g}),b?u["default"].createElement("div",{className:"error-tips"},_):undefined)},a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_inputChangeFunc",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_inputFocusFunc",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_inputBlurFunc",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[String]),i("design:returntype",void 0)],t.prototype,"_setError",null),t}(u["default"].Component);t.SettingBaseInputComp=f,t["default"]=f},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.isPc;t.fontSizeList=[{text:"正文",value:14},{text:"标题 1",value:28},{text:"标题 2",value:24},{text:"标题 3",value:22},{text:"标题 4",value:18},{text:"标题 5",value:16}],t.colorPickerList=[{value:"ffffff"},{value:"383838"},{value:"F74343"},{value:"FF860B"},{value:"FFD801"},{value:"A5D640"},{value:"0DE6D6"},{value:"258CFF"},{value:"8C5AFF"},{value:"E5E5E5"},{value:"6D6D6D"},{value:"FFC8C8"},{value:"FFCF9F"},{value:"FFEA77"},{value:"C6F16F"},{value:"71FAF0"},{value:"72B5FF"},{value:"D8C7FF"},{value:"A6A6A6"},{value:"505050"},{value:"D43030"},{value:"E67F16"},{value:"DEBF13"},{value:"8AB82D"},{value:"00BAAD"},{value:"1573DC"},{value:"763AFF"},{value:"808080"},{value:"161616"},{value:"AD2121"},{value:"A96116"},{value:"BBA009"},{value:"618319"},{value:"058279"},{value:"1255A1"},{value:"5C2CC9"}],t.textAlignModeList=[{type:"left"},{type:"center"},{type:"right"},{type:"justify"}],t.insertBtnList=[{type:"text",tips:"文本 [T]"},{type:"table",tips:"表格 [S]"},{type:"image",hasLine:!0,tips:"图片 [P]"},{type:"line",hasLine:!0,tips:"连线 [L]"},{type:"page",tips:"页面快照"},{type:"contr",hasLine:!0,tips:"组件快照"},{type:"preview",tips:"交互原型"}].concat(r?[]:[{type:"pageflow",tips:"页面流程图"}],r?[]:[{type:"projectView",hasLine:!0,tips:"项目总览"}],[{type:"webView",tips:"网页"}]),t["default"]={fontSizeList:t.fontSizeList,colorPickerList:t.colorPickerList,textAlignModeList:t.textAlignModeList}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(126)),a=r(n(40)),i=r(n(29)),s=r(n(620)),l=n(271),u=n(360),c=n(26),d=n(208),f=n(10)["default"];function p(e){var t=e.changeVal,n=e.notInText,r=void 0!==n&&n,o=a["default"].getTableData(),s=o.selectContr,l=o.selectCell;if(s&&l)if(r)d.updateCellData(t);else{var u={};u.text=t,d.updateCellData(u)}else{var f=c.findSelectElement()[0],p=f.id,h=f.child;if(i["default"].updateValById({id:p,updateVal:t}),h)for(var g in h){var y=r?h[g]:h[g].text;$.extend(!0,y,t)}}}function h(e){var t=c.findSelectElement()[0].id,n=i["default"].getPrdElementById(t).isEdit,r=!0;n||(r=!1,i["default"].updateValById({id:t,updateVal:{isEdit:!0}})),setTimeout(function(){$(".element-container.element-edit .editor-pre>div")[0].focus();var t=o["default"].getRichText().editor;if(r||(t.moveToRangeOfDocument(),t.select()),t){if(l.removeMarks({type:"textColor"}),t.addMark({type:"textColor",data:{val:e}}),s["default"].setTextColorIdx(e),t.value.focusText.text==window.getSelection().toString()){var n=l.getMarkVal({type:"textColor"})||1;t.unwrapBlock("color|"+n),t.wrapBlock("color|"+e)}u.hidePrdDropdownOpen()}},0)}function g(e){p({changeVal:{textColor:"#"+e}}),f.createData({type:"changeTableTextColor",name:"PRD 修改表格文字颜色",autoSaveType:"prd"}),s["default"].setTableTextColor(e),u.hidePrdDropdownOpen()}function y(e){p({changeVal:{backColor:"#"+e,hasBackColor:!0},notInText:!0}),f.createData({type:"changeTableTextColor",name:"PRD 修改表格背景颜色",autoSaveType:"prd"}),s["default"].setTableBgColor(e),u.hidePrdDropdownOpen()}t.changeVal=p,t.changeRichTextColor=h,t.changeTableTextColor=g,t.changeTableBgColor=y,t["default"]={changeVal:p,changeRichTextColor:h,changeTableTextColor:g,changeTableBgColor:y}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(29)),i=o(n(896)),s=o(n(10)),l=o(n(622)),u=o(n(67)),c=n(477),d=n(26),f=n(869),p=n(1162),h=n(348),g=o(n(97)),y=n(845),m=n(292),_=o(n(214)),v=100;function b(e){var t=e.pos,n=e.id,r=e.noEmit,o=void 0!==r&&r;a["default"].getPrdElementById(n)&&a["default"].updateValById({id:n,updateVal:t,noEmit:o})}t.dragElementCoverMove=function(e){var t=e.clientX,n=e.clientY;c.clickChangeElementSelect(e);var o,w=d.findSelectElement().map(function(e){return{id:e.id,x:e.x,y:e.y,width:e.width,height:e.height}}),C=(o=[],u["default"].getPrdSelectArr().forEach(function(e){var t=u["default"].getPrdOneLine(e),n=t.startPoint,r=t.endPoint,a=t.startKey,i=t.endKey,s=t.id,l=t.fixedArr;o.push({startPoint:n,endPoint:r,startKey:a,endKey:i,id:s,fixedArr:l})}),o),x=g["default"].getAllLinePointPosi(),S=f.getSeveralElementPos(w,!0,x),P=S.left,k=S.top,O=S.width,E=S.height,T=1==w.length&&d.findSelectElement()[0];y.initDragChangePosi({autoChangeFunc:function(e){return h.getDragScrollRatio(e,!1)},arriveCriticalFunc:function(){var e=l["default"].getDragChangePosiSet().ratio,t=$(".prd-content-panel")[0].scrollTop,n=t<=0&&-1==e;return n||($(".prd-content-panel")[0].scrollTop=Math.max(t+20*e,0)),n}}),w.length>0&&$.setDrag({name:"prdElementDragMove",posi:[t,n],target:e.target,moveFunc:function(e){var o=e.clientX,i=e.clientY;y.changeDragChangePosi({clientX:o,clientY:i},function(e){var s=e.autoChangePosi,l=(e.ratio,o-t),c=i-n,d=s.autoChangePosiX,f=void 0===d?0:d,h=s.autoChangePosiY,g=function(e){var t=e.pos,n=e.element,o=(e.onlyOneElement,_["default"].width);o-=v;var a=t.x,i=t.y,s=n.width,l=n.height,u=(n.type,o-s),c={x:$.setRegion(a,0,u),y:Math.max(i,0)},d=r({},c,{width:s,height:l}),f=p.dragMoveAdhereFunc({dragPosi:d}),h=f.adhereX,g=f.adhereY;return{x:c.x-h,y:c.y-g}}({pos:{x:P+l+f,y:k+c+(void 0===h?0:h)},element:{width:O,height:E},onlyOneElement:T}),y=g.x,m=g.y,x=y-P,S=m-k;w.forEach(function(e){var t=e.id,n=e.x,r=e.y;b({pos:{x:n+x,y:r+S},id:t,noEmit:!0})}),C.length>0&&(C.forEach(function(e){var t=e.startPoint,n=e.endPoint,o=e.startKey,a=e.endKey,i=e.id,s=e.fixedArr,l={};if(o||(l.startPoint=[t[0]+x,t[1]+S]),a||(l.endPoint=[n[0]+x,n[1]+S]),s.length){var c=$.extend(!0,[],s);c.forEach(function(e,t){c[t]=[e[0]+x,e[1]+S]}),l.fixedArr=c}Object.keys(l).length>0&&u["default"].changePrdLine(r({},l,{id:i,notEmit:!0}))}),u["default"].emitChange()),a["default"].emitElementContentChange()})},endFunc:function(e){y.endDragChangePosi(),m.calcContainerHeight(),i["default"].setPrdAdhereLineData({x:{},y:{}}),e.clientY==n&&e.clientX==t||s["default"].createData({type:"dragElementMove",name:"PRD 拖拽组件移动位置",autoSaveType:"prd"})}}),$.stopPropagation(e)},t.changePosById=b,t["default"]={changePosById:b}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(846)),f=n(897),p=window.$,h=function(e){function t(t){var n=e.call(this,t)||this;return n.inputDom=null,n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props.searchType;this.inputDom&&"struct"!=e&&"link"!=e&&this.inputDom.focus(),d["default"].addChangeListener(this.onChange)},t.prototype.componentWillUnmount=function(){d["default"].removeChangeListener(this.onChange)},t.prototype.onChange=function(){this.setState({})},t.prototype.changeSearchText=function(e){var t=this.props.searchType,n=e.target.value;switch(t){case"struct":d["default"].setSearchText(n);break;case"flow":d["default"].setSearchFlowText(n);break;case"containerStruct":d["default"].setSearchContainerText(n);break;case"contr":d["default"].setSearchContrText(n);break;case"link":d["default"].setSearchLinkText(n)}},t.prototype.handleClearFunc=function(){switch(this.props.searchType){case"struct":d["default"].setSearchText("");break;case"flow":d["default"].setSearchFlowText("");break;case"containerStruct":d["default"].setSearchContainerText("");break;case"contr":d["default"].setSearchContrText("");break;case"link":d["default"].setSearchLinkText("")}},t.prototype.handleMouseDown=function(e){p(e.currentTarget).focus()},t.prototype.render=function(){var e=this,t=this.props,n=t.placeholder,r=t.searchType,o=f.getNowSearchText(r);return l["default"].createElement("div",{className:u["default"]("search-page-input-comp",{"has-value-search-input":o.length>0})},l["default"].createElement("input",{className:"search-input",placeholder:n,onChange:this.changeSearchText,value:o,spellCheck:!1,ref:function(t){return e.inputDom=t},onMouseDown:this.handleMouseDown}),l["default"].createElement("div",{className:"clear-btn",onClick:this.handleClearFunc}))},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onChange",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"changeSearchText",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"handleClearFunc",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleMouseDown",null),t}(l["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(34)),a=r(n(91)),i=n(224);function s(e){var t=e.id,n=e.createId,r=e.isSelect,s=void 0!==r&&r,l=e.noEmit,u=void 0!==l&&l,c=i.findStructInHierarchy({structId:t});c.splice(c.indexOf(t)+1,0,n),s&&(o["default"].setSelectStructKey(n,!0),o["default"].setSelectStructArr([n],!0)),u||a["default"].emitChange()}function l(e){var t=e.structId,n=void 0===t?undefined:t,r=e.createId,i=e.noEmit,s=void 0!==i&&i;a["default"].getPrdStructById(n||o["default"].getSelectStructKey()).pageHierarchy.push(r),s||a["default"].emitChange()}t.createInHierarchyPosiAfter=s,t.addKeyToStructHierarchy=l,t["default"]={createInHierarchyPosiAfter:s,addKeyToStructHierarchy:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.phoneShellConfig={iPhone5:{radius:1,horizEdge:14,topEdge:46,bottomEdge:45,width:160,height:284},iPhone6:{radius:1,horizEdge:16,topEdge:54,bottomEdge:54,head:186,body:196,footer:70,width:188,height:334,imgPos:215,shellBodyH:187},iPhone6s:{radius:1,horizEdge:17,topEdge:59,bottomEdge:59,width:207,height:368},iPhoneX:{radius:0,horizEdge:13,topEdge:38,bottomEdge:28,width:188,height:367},SamsungS8:{radius:10,horizEdge:7,topEdge:18,bottomEdge:17,width:180,height:370},Mix:{radius:9,horizEdge:4,topEdge:3,bottomEdge:22,width:180,height:340},Mix2:{radius:9,horizEdge:7,topEdge:7,bottomEdge:25,width:180,height:360},android:{radius:0,horizEdge:8,topEdge:39,bottomEdge:42,width:180,height:320}},t["default"]={phoneShellConfig:t.phoneShellConfig}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=50;function o(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[]);var o=[null,null,null,null];e.forEach(function(e){var t=o[0],n=o[1],r=o[2],a=o[3],i=e.x,s=e.y,l=e.width,u=e.height,c=void 0===u?0:u;e.isLine||(o=[i<=t||$.isNull(t)?i:t,s<=n||$.isNull(n)?s:n,i+l>=r||$.isNull(r)?i+l:r,s+c>=a||$.isNull(a)?s+c:a])}),n.forEach(function(e){var t=o[0],n=o[1],a=o[2],i=o[3],s=e[0]-r,l=e[1];o=[s<=t||$.isNull(t)?s:t,l<=n||$.isNull(n)?l:n,s>=a||$.isNull(a)?s:a,l>=i||$.isNull(i)?l:i]});var a=o[0],i=o[1],s=o[2],l=o[3];return{left:a+(t?0:r),top:i,width:Math.round(s-a),height:Math.round(l-i)}}t.getSeveralElementPos=o,t["default"]={getSeveralElementPos:o}},function(e,t,n){(t=e.exports=n(915)).Stream=t,t.Readable=t,t.Writable=n(871),t.Duplex=n(420),t.Transform=n(919),t.PassThrough=n(1192)},function(e,t,n){"use strict";(function(t,r,o){var a=n(838);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=_;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;_.WritableState=m;var u=n(591);u.inherits=n(462);var c={deprecate:n(1191)},d=n(916),f=n(839).Buffer,p=o.Uint8Array||function(){};var h,g=n(917);function y(){}function m(e,t){s=s||n(420),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,u=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(a.nextTick(o,r),a.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),S(e,t))}(e,n,r,t,o);else{var i=C(n);i||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?l(b,e,n,i,o):b(e,n,i,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function _(e){if(s=s||n(420),!(h.call(_,this)||this instanceof s))return new _(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function v(e,t,n,r,o,a,i){t.writelen=r,t.writecb=i,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,a,t.onwrite),t.sync=!1}function b(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,l=!0;n;)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,v(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,d=n.callback;if(v(e,t,!1,t.objectMode?1:u.length,u,c,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)})}function S(e,t){var n=C(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(_,d),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===_&&(e&&e._writableState instanceof m)}})):h=function(e){return e instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(e,t,n){var r,o=this._writableState,i=!1,s=!o.objectMode&&(r=e,f.isBuffer(r)||r instanceof p);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=y),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var o=!0,i=!1;return null===n?i=new TypeError("May not write null values to stream"):"string"==typeof n||n===undefined||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),a.nextTick(r,i),o=!1),o}(this,o,e,n))&&(o.pendingcb++,i=function(e,t,n,r,o,a){if(!n){var i=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n));return t}(t,r,o);r!==i&&(n=!0,o="buffer",r=i)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,s,r,o,a);return l}(this,o,s,e,t,n)),i},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=g.destroy,_.prototype._undestroy=g.undestroy,_.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(58),n(913).setImmediate,n(59))},function(e,t,n){"use strict";var r=n(592),o=n(923),a=n(924),i=n(925);a=n(924);function s(e,t,n,r,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=o}s.prototype={getContentWorker:function(){var e=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new i).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},e.exports=s},function(e,t,n){"use strict";var r=n(140);var o=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var a=o,i=r+n;e^=-1;for(var s=r;s<i;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var a=o,i=r+n;e^=-1;for(var s=r;s<i;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(170),i=n(145),s=o(n(34)),l=115;function u(e){var t=void 0===e?{}:e,n=t.vals,o=void 0===n?{}:n,u=t.type,c=void 0===u?"text":u,d=a.generateUUID(),f=$.extend(!0,{},i.elementBaseVal[c]),p=f.width,h=f.height,g=void 0===h?0:h,y=f.addCreateVal,m=void 0===y?{}:y,_=function(e){var t=e.width,n=e.height,r=$.offset(window.document.body,!0).height,o=$("#prdContentPanel").scrollTop(),a=0,i=$.offset($.query(".editor-content-view"),!0).width/2-t/2;return a=n>r-l?50:(r-l)/2-n/2,{createLeft:Math.max(i,0),createTop:Math.max(a+o-150,0)}}({width:p,height:g}),v=(_.createLeft,_.createTop);return r({id:d,x:0,y:v,isFixedWH:!1,pageId:s["default"].getSelectStructKey(),type:c},{width:p,height:g},m,o)}t.createBaseElement=u,t["default"]={createBaseElement:u}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(131)),a=n(145).elementCanvasBaseVal.TOP_DISTANCE,i=113;function s(e,t,n){void 0===n&&(n=!1);var r=$(".prd-editor-container")[0],s=r&&$.offset(r,!0)||{},l=s.top,u=void 0===l?0:l,c=s.left,d=void 0===c?0:c,f=s.height,p=void 0===f?0:f;$(".prd-canvas-stage").append('<div id="bezierLine" style="pointer-events: none; position: absolute; left: '+(n?d:0)+"px; top: "+(n?u+a:0)+"px; height: "+(p+i)+'px"></div>');var h=$.query(".prd-canvas-stage"),g=h&&$.offset(h,!0)||{},y=new o["default"].Stage({container:"bezierLine",width:g.width||0,height:p+i}),m=new o["default"].Layer(t);return e.length&&e.forEach(function(e){m.add(e)}),y.add(m),{layer:m,newStage:y}}function l(e,t){e&&e.destroy(),t&&t.destroy(),$("#bezierLine").remove()}t.createLineLayer=s,t.clearLineLayer=l,t["default"]={createLineLayer:s,clearLineLayer:l}},,function(e,t,n){"use strict";var r=function(e){if(e===undefined)throw new Error("invariant(...): Second argument must be a string.")};e.exports=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];if(r(t),!e){var i;if(t===undefined)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(i=new Error(t.replace(/%s/g,function(){return String(o[s++])}))).name="Invariant Violation"}throw i.framesToPop=1,i}}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(1)),u=n(28),c=s(n(36)),d=n(346),f=n(421),p=window.$,h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props.radius,n=p.isArray(t)?[t,t,t,t]:t,r=n[0],o=n[1],a=n[2],i=n[3],s=p.isArray(e.radius)?[e.radius,e.radius,e.radius,e.radius]:e.radius,l=s[0],u=s[1],c=s[2],d=s[3];return this.props.width!=e.width||this.props.height!=e.height||this.props.opacity!=e.opacity||this.props.radius!=e.radius||this.props.borderColor!=e.borderColor||this.props.borderSize!=e.borderSize||this.props.borderType!=e.borderType||this.props.isMaxRadius!=e.isMaxRadius||this.props.baseContrType!=e.baseContrType||r!=l||o!=u||a!=c||i!=d},t.prototype.render=function(){if(!d.hasStyleInCanvas({data:this.props.data,compName:"InnerBorderComp"}))return null;var e=this.props,t=e.opacity,n=e.borderColor,r=e.borderSize,o=e.borderType,i=void 0===o?0:o,s=e.width,h=e.height,g=e.radius,y=e.isMaxRadius,m=e.baseContrType,_=(e.data,Math.min(s,h)),v=y||"round"==m&&0==g?_/2:Math.round(g)>r?g>_/2?_/2:g:r/2,b=Math.abs(v-r/2);return 0!=r?p.isArray(g)?l["default"].createElement(u.Shape,a({},c["default"].setInsetBorderBox(s,h,n,r,g,y,m),c["default"].setBorderType(n,r,i),c["default"].setOpacity({opacity:t}))):l["default"].createElement(u.Path,a({data:0!=g||y?f.drawInsetArcBorderPath({w:s,h:h,r:b,borderSize:r/2}):f.drawInsetRectBorderPath({w:s,h:h,borderSize:r/2}),stroke:n,strokeWidth:r},1==i?{dash:[r>2?2*r:3*r,r],lineCap:"butt"}:{},2==i?{dash:[r/1e3,2*r,.001,2*r],lineCap:"round"}:{})):undefined},t}(l.Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=window.$,l=n(170),u={},c="",d="",f=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.createGuideLine=function(e){var t=e.id;e.pageId,e.ishorizontal;u[t]=e,f.emitChange()},t.prototype.getOneGuideLine=function(e){return u[e]},t.prototype.changeGuideLineVal=function(e){var t=e.id,n=(e.posi,a(e,["id","posi"]));s.extend(!0,f.getOneGuideLine(t),n),f.emitChange()},t.prototype.getGuideLineByPage=function(e,t){var n=[];for(var r in u){var o=this.getOneGuideLine(r),a=o.id,i=o.pageId,s=o.ishorizontal;e==i&&(t?t==s&&n.push(a):n.push(a))}return n},t.prototype.getGuideLines=function(){return u},t.prototype.deleteOneGuideLine=function(e){delete u[e],f.emitChange()},t.prototype.deleteGuideLinesByPageId=function(e){for(var t in u){e==u[t].pageId&&delete u[t]}},t.prototype.deleteGuideLinesByArrow=function(e){for(var t in u){this.getOneGuideLine(t).ishorizontal==e&&delete u[t]}f.emitChange()},t.prototype.getGuideLineByPageId=function(e,t){for(var n in u){var r=u[n].pageId,o=l.generateUUID();if(e==r){var a=s.extend(!0,{},u[n]);u[o]=s.extend(!0,a,{id:o,pageId:t})}}f.emitChange()},t.prototype.setSelectGuideLine=function(e){c=e,f.emitChange()},t.prototype.getSelectGuideLine=function(){return c},t.prototype.setOperateGuideLine=function(e){d=e,f.emitChange()},t.prototype.getOperateGuideLine=function(){return d},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));t["default"]=f},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(42)),a=r(n(23)),i=n(266),s=r(n(131)),l=r(n(270)),u=window.$;function c(e){var t=[e.pageX,e.pageY],n=parseInt(e.currentTarget.getAttribute("data-minwidth"));u.setDrag({name:"multiPageGuideMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var r=u.getWindowWH().width/n,i=o["default"].getMultiPos(),s=i.left,l=i.top,c={left:s-(e.pageX-t[0])*r,top:l-(e.pageY-t[1])*r};o["default"].setMultiPos(c),a["default"].emitMoveChange(),t=[e.pageX,e.pageY]}}),e.stopPropagation()}function d(e){var t=e.targetPage,n=e.zoom,r=o["default"].isMultiFreeView(),u=i.getCanvasAnim()[0],c=o["default"].isPresentation();if(!u&&r){var d=t.getAbsolutePosition(),f=d.x,p=d.y,h=a["default"].getStage().getStage().findOne("#canvasLayer"),g=h.attrs,y=g.x,m=g.y,_=t.attrs,v=_.width,b=_.height,w=_.scaleX,C=void 0===w?1:w,x=_.scaleY,S=void 0===x?1:x,P=document.body.clientWidth/2,k=(document.body.clientHeight+(c?0:l["default"].TOP_DISTANCE))/2,O=P-(f+v*C*n/2),E=k-(p+b*S*n/2);if(0!=O||0!=E){var T=o["default"].getMultiPos(),M=T.left,D=T.top,A=new s["default"].Tween({node:h,duration:.3,x:y+O,y:m+E,onFinish:function(){i.clearCanvasAnim(),A&&A.destroy(),o["default"].setMultiPos({left:M+O/n,top:D+E/n}),a["default"].emitMoveChange()}});i.setCanvasAnim(A),A&&A.play()}}}t.pageGuideMoveFunc=c,t.pageFitMiddleFunc=d,t["default"]={pageGuideMoveFunc:c,pageFitMiddleFunc:d}},,,,function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var o,a,i={createSymbol:function(e){var t=n(5)["default"],r=n(12)["default"],o=t.getProId(),a=$.extend({Nums:{},symbolContrs:{},contrArr:[],widthHeight:[],name:"",symbol:{}},e);$.changeNums({symbol:a.Nums.symbol+1});var i=$.getNumKey(a.Nums.symbol);a.symbolContrs.symbols[i]||(a.symbolContrs.symbols[i]={});var s=a.symbolContrs.symbols[i];s.width=a.widthHeight[0],s.height=a.widthHeight[1];var l=s.hierarchy=[];return s.name=a.name,s.uniqueKey=o+i.toString(16)+(new Date).getTime().toString(16),window.userKey&&$.addUserKeyToContr(s),a.contrArr.forEach(function(e){var t=$.getContrId(e);a.symbolContrs.contrs[t]=e,l.unshift(t)}),setTimeout(function(){r.show("已生成【"+s.name+"】引用组件")},0),i},createSymbolFromImport:function(e,t,r,o){var a=n(5)["default"],i=n(32)["default"],s=n(12)["default"],l=a.getProId();$.changeNums({symbol:t.symbol+1});var u=$.getNumKey(t.symbol);return r.symbols[u]=$.extend(!0,{},e),window.userKey&&(r.symbols[u].userKey=window.userKey),o||(r.symbols[u].uniqueKey=l+u.toString(16)+(new Date).getTime().toString(16)),i.setAdding(!0),setTimeout(function(){i.setAdding(!1),s.show("已生成【"+e.name+"】引用组件")},0),u},createSymbolContr:function(e){var t=$.extend({contrs:{},symbolKey:"",contr:{},contrKey:""},e),n=t.contr;return{id:t.contrKey,symbolKey:t.symbolKey,name:n.name,type:"symbol",left:n.left,top:n.top,bgColor:"rgba(255, 255, 255, 1)",isLock:!1,isShow:!0,isOpt:!0,scale:10,rotate:0,opacity:100,children:{}}},contrToSymbolClearVal:function(e,t){var n=[t.left,t.top],r=$.getContrId(e);if(e.left=(e.left||0)-n[0],e.top=(e.top||0)-n[1],delete e.interfaceId,delete e.mergeName,i.removechildInterfaceId(e),e.states)for(var o in e.states)if(e.states[o]&&e.states[o].contrs[r]){var a=e.states[o].contrs[r];$.isUndefined(a.left)||(a.left=(a.left||0)-n[0]),$.isUndefined(a.left)||(a.top=(a.top||0)-n[1])}},removechildInterfaceId:function(e){if($.isUndefined(e.interfaceId)||delete e.interfaceId,"wrapbox"==e.type)for(var t in e.contrs)i.removechildInterfaceId(e.contrs[t])}},s=i;t["default"]=s,(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(o.register(i,"contrSymbol","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Contr/symbol.js"),o.register(s,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/stores/Contr/symbol.js")),(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&a(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i={},s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getCopyKey=function(e){return i[e]},t.prototype.setCopyKey=function(e){i[e]=!0},t}(a.EventEmitter));t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1373)),s=a(n(8)),l=n(9),u={myControl:[],lastControlLibKey:null},c={myPublicContrLib:[]},d=window.isPc?"":"base",f={isShow:!1,searchKey:null,libType:null},p={searchKey:null,searchVal:null},h={isShow:!1,searchKey:null,contrList:[],isDownload:!1,isFirst:!0},g={"private":[],"public":[]};window.userLibSet&&window.userLibSet.contr&&$.extend(!0,g,window.userLibSet.contr);var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getSearchObj=function(){return f},t.prototype.getAllSearchObj=function(){return h},t.prototype.closeAllSeachObj=function(e){h.isShow=!1,e||m.emitAllSearchChange()},t.prototype.showAllSeachObj=function(e){h.isShow=!0,e||m.emitAllSearchChange()},t.prototype.initAllSeachObj=function(e,t){h.isDownload=!0,h.contrList=e.data,h.searchKey=e.searchKey,h.isFirst=!1,t||m.emitAllSearchChange()},t.prototype.allSearchIsDownload=function(e,t){h.isDownload=e,t||m.emitAllSearchChange()},t.prototype.closeSeachObj=function(e,t){p={searchKey:f.searchKey,searchVal:e},f={isShow:!1,searchKey:null,libType:null},t||m.emitSearchChange()},t.prototype.searchLastVal=function(){return p.searchKey!=f.searchKey?"":p.searchVal},t.prototype.setSearchObj=function(e,t){f=$.extend(f,e),t||m.emitSearchChange()},t.prototype.getSearchLib=function(){if(f.isShow){if("public"==f.libType)return m.getPublicControlById(f.searchKey);if("private"==f.libType)return m.getControlById(f.searchKey)}},t.prototype.changeContrLibPermission=function(e,t,n){u.myControl.every(function(n){return n.id!=t||(n.permission=e,!1)}),n||m.emitSearchChange()},t.prototype.changeNameContrIn=function(e,t,n,r){u.myControl.every(function(r){return r.id!=n||(r.controls.every(function(n){return n.id!=t||(n.name=e,!1)}),!1)}),r||m.emitSearchChange()},t.prototype.getMyControl=function(){return u.myControl},t.prototype.getMyPublicControl=function(){return c.myPublicContrLib},t.prototype.getLastControlLibKey=function(){return u.lastControlLibKey},t.prototype.setLastControlLibKey=function(e){u.lastControlLibKey=e},t.prototype.getControlById=function(e){var t;return u.myControl.some(function(n){return n.id==e&&(t=n,!0)}),t},t.prototype.getPublicControlById=function(e,t){var n,r=-1;return c.myPublicContrLib.every(function(t,o){return t.id!=e||(r=o,n=t,!1)}),t?r:n},t.prototype.deletePublicControlById=function(e,t){var n=m.getPublicControlById(e,!0);return n>-1&&(c.myPublicContrLib.splice(n,1),t||m.emitChange(),!0)},t.prototype.getOpenLibId=function(){return d},t.prototype.openChange=function(e,t){d=e.openLibId,t||m.emitChange()},t.prototype.changeLibCooperationLength=function(e,t,n){var r=m.getControlById(e);n?(r.cooperationUserNum+=t,m.emitSearchChange()):r.cooperationUserNum!=t&&(r.cooperationUserNum=t,m.emitSearchChange())},t.prototype.getControlLibSet=function(){return g},t.prototype.libsManage=function(e){g[e.type]=e.data},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t.prototype.emitSearchChange=function(){this.emit("searchChange")},t.prototype.addSearchChangeListener=function(e){this.on("searchChange",e)},t.prototype.removeSearchChangeListener=function(e){this.removeListener("searchChange",e)},t.prototype.emitAllSearchChange=function(){this.emit("allSearchChange")},t.prototype.addAllSearchChangeListener=function(e){this.on("allSearchChange",e)},t.prototype.removeAllSearchChangeListener=function(e){this.removeListener("allSearchChange",e)},t}(l.EventEmitter);s["default"].register(function(e){switch(e.actionType){case i["default"].MYCONTROL_INIT:h=e.myControl,u.myControl=h,m.emitChange();break;case i["default"].MYCONTROL_INITPUBLIC:!function(e){c.myPublicContrLib=e}(e.myControl),m.emitChange();break;case i["default"].MYCONTROL_ADD:m.getControlById(e.control.id)||(p=e.control,u.myControl.unshift(p),m.emitChange());break;case i["default"].MYCONTROL_SCROLLTOP:d=e.contrLibId,f=e.scrollTop,u.myControl.every(function(e){return e.id!=d||(e.scrollTop=f,!1)}),m.emitChange();break;case i["default"].MYCONTROL_ADDCONTR:s=e.id,l=e.contr,u.myControl.some(function(e){return e.id==s&&(e.controls.unshift(l),!0)}),m.emitChange();break;case i["default"].MYCONTROL_UPDATECONTR:!function(e,t,n){u.myControl.some(function(r){return r.id==e&&(r.controls.some(function(e){return e.id==t&&($.extend(e,n),!0)}),!0)})}(e.id,e.contrId,e.contr),m.emitChange();break;case i["default"].MYCONTROL_DELCONTR:!function(e,t){u.myControl.every(function(n){if(n.id==t){var r=!1;return n.controls.every(function(t,n){return t.id!=e||(r=n,!1)}),!1!==r&&n.controls.splice(r,1),!1}return!0})}(e.contrId,e.contrLibId),m.emitChange();break;case i["default"].MYCONTROL_CONCAT:r=e.thisId,o=e.otherId,u.myControl.every(function(e){return e.id!=r||(a=e.controls,!1)}),u.myControl.every(function(e){return e.id!=o||(e.controls=e.controls.concat(a),!1)}),m.emitChange();break;case i["default"].MYCONTROL_DELETE:t=e.controlId,n=-1,u.myControl.some(function(e,r){return e.id==t&&(n=r,!0)}),-1!==n&&u.myControl.splice(n,1),m.emitChange();break;case i["default"].MYCONTROL_EDIT:!function(e,t){u.myControl.some(function(n){return n.id==t&&(n.name=e,n.isEdit&&delete n.isEdit,!0)})}(e.name,e.controlId),m.emitChange();break;case i["default"].MYCONTROL_CHANGEEDIT:!function(e,t){u.myControl.every(function(n){return n.id!=e||(t?n.isEdit=!0:n.isEdit&&delete n.isEdit,!1)})}(e.controlId,e.isEdit),m.emitChange();break;case i["default"].MYCONTROL_OPENCHANGE:m.openChange(e.option);break;case i["default"].MYCONTROL_LIBSMANAGE:m.libsManage(e.options),m.emitChange()}var t,n,r,o,a,s,l,d,f,p,h});var m=new y;t["default"]=m},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(23));function a(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],r=window.atob(t[1]),o=r.length,a=new Uint8Array(o),i=0;i<o;++i)a[i]=r.charCodeAt(i);return new Blob([a],{type:n})}function i(e,t){var n=document.createElement("a"),r=a(t);document.createEvent("HTMLEvents").initEvent("click",!0,!0),n.download=e,n.href=URL.createObjectURL(r),n.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}function s(e,t){void 0===t&&(t=0),o["default"].getStage().getStage().find(".canvas-img-loading").length>0&&t<10?setTimeout(function(){s(e,++t)},300):e()}t.base64ToBlob=a,t.downloadFile=i,t.isLoadedImg=s,t["default"]={base64ToBlob:a,downloadFile:i,isLoadedImg:s}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=n(169),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){new s(".copy-link-btn")},t.prototype.render=function(){var e=this.props.url;return i["default"].createElement("div",{key:"proj-link",className:"proj-link-box clearfix"},i["default"].createElement("input",{className:"popup-input link-input",id:"projectLink",autoComplete:"off",value:e,onChange:$.noop}),i["default"].createElement("div",{className:"base-btn copy-link-btn","data-clipboard-text":e,onClick:function(){$.copyUrl("linkCopiedTips")}},"复制链接",i["default"].createElement("div",{id:"linkCopiedTips",className:"copied-tips"},"复制成功")))},t}(i["default"].Component);t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype._onClick=function(){this.props.clickFunc()},t.prototype.render=function(){var e=this.props,t=e.name,n=e.isActive,r=e.className,o=e.extraDom,a=n?"active":"none";return l["default"].createElement("div",{onClick:this._onClick,className:u["default"]("base-checkbox","base-checkbox-"+a,r||"")},l["default"].createElement("div",null,t),o)},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onClick",null),t}(l["default"].Component);t.CheckBoxComp=d,t["default"]=d},,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=n(1730),i=new(function(){function e(){this.DiscussActionID=a.DiscussActionID}return e.prototype.discussAdd=function(e){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_ADD,discuss:e})},e.prototype.discussDelete=function(e){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_DELETE,id:e})},e.prototype.discussIsDone=function(e,t){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_DONE,id:e,isDone:t})},e.prototype.discussIsDoneShow=function(e,t){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_DONESHOW,id:e,isDoneShow:t})},e.prototype.discussReplyHide=function(e){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_REPLYHIDE,id:e,isReplyHide:!1})},e.prototype.discussChangeReplyHide=function(e,t){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_CHANGE_REPLYHIDE,id:e,isReplyHide:t})},e.prototype.discussChangeContent=function(e,t){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_CHANGECONTENT,id:e,content:t})},e.prototype.editChangeState=function(e){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_INITEDITSTATE,editData:e})},e.prototype.setEditDotData=function(e){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_DOTCREATESTATE,editDotData:e})},e.prototype.setScrollTop=function(e){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_SCROLLTOP,scrollTop:e})},e.prototype.initListByServer=function(e){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_SETDISCUSSLIST,discussList:e})},e.prototype.setSolvedNick=function(e,t){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_SETSOLVEDNICK,id:e,doneUser:t})},e.prototype.setEditState=function(e){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_EDITSTATE,editState:e})},e.prototype.discussChangePoint=function(e,t){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_CHANGEPOINT,id:e,point:t})},e.prototype.setPageId=function(e){o["default"].dispatch({actionType:a.DiscussActionID.DISCUSS_SETPAGEID,currentPageId:e})},e}());t["default"]=i},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(8)),s=n(1738),l=n(9),u="px",c="RGBA",d="CSS",f={px:1,dp:1,rem:16,pt:1,rpx:.5},p=!1,h=!1,g=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getSizeUnit=function(){return u},t.prototype.getColorUnit=function(){return c},t.prototype.getCssStyle=function(){return d},t.prototype.getScale=function(e){var t=$.query(".page.current"),n="web"!=window.platform&&t?t.offsetWidth/320:1;return"自定义"==f[e]?"自定义":f[e]/n},t.prototype.getBaseScale=function(e){return"自定义"==f[e]?"自定义":f[e]/1},t.prototype.getcolorFree=function(){return p},t.prototype.isRelative=function(){return h},t.prototype.setSizeUnit=function(e){u=e},t.prototype.setColorUnit=function(e){c=e,p=!1},t.prototype.setCssStyle=function(e){d=e},t.prototype.setScale=function(e,t){f[e]=t},t.prototype.setColorFree=function(e){p=e},t.prototype.setRelative=function(){h=!h},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(l.EventEmitter));i["default"].register(function(e){switch(e.actionType){case s.MarkActionID.SIZE_UNIT:g.setSizeUnit(e.sizeUnit),g.emitChange();break;case s.MarkActionID.COLOR_UNIT:g.setColorUnit(e.colorUnit),g.emitChange();break;case s.MarkActionID.CSS_STYLE:g.setCssStyle(e.cssStyle),g.emitChange();break;case s.MarkActionID.SCALE:g.setScale(e.unit,e.value),g.emitChange();break;case s.MarkActionID.CHANGE_DISTANCE:g.setRelative(),g.emitChange()}}),t["default"]=g},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(170),i=o(n(33)),s=o(n(91)),l=o(n(34)),u=o(n(49)),c=o(n(5)),d=n(1234),f=n(867),p=n(477),h=n(857),g=n(901),y=n(501),m=n(1178),_=n(1003),v=o(n(12)),b=50;function w(e){setTimeout(function(){var t=$('.drag-page-comp[data-id="'+e+'"] .readonly-input')[0];t&&$(t).dblclick()},0)}function C(){p.elementDeselect(),x()}function x(e){var t=void 0===e?{}:e,n=t.vals,o=void 0===n?{}:n,i=t.changeHierarchyFunc,u=a.generateUUID(),c=r({id:u,title:"文档 "+d.findStructNameNumKey({type:"page"}),type:"page",elementHierarchy:[]},o);return s["default"].createStruct(c,!0),i?i(u):l["default"].structHierarchyAddOne(u,!0),l["default"].setTemporarySelectArr([],!0),l["default"].setSelectStructArr([u],!0),l["default"].setSelectStructKey(u),s["default"].emitChange(),$(".prd-content-panel")[0]&&($(".prd-content-panel")[0].scrollTop=0),w(u),u}function S(e,t){var n=(void 0===e?{}:e).vals;void 0===t&&(t=undefined),x({vals:void 0===n?{}:n,changeHierarchyFunc:function(e){f.addKeyToStructHierarchy({structId:t,createId:e})}})}function P(e){var t=void 0===e?{}:e,n=t.vals,o=void 0===n?{}:n,i=t.changeHierarchyFunc,u=a.generateUUID(),c=r({id:u,title:"文件夹 "+d.findStructNameNumKey({type:"folder"}),type:"folder",isFold:!1,pageHierarchy:[]},o);return s["default"].createStruct(c),i?i(u):l["default"].structHierarchyAddOne(u,!0),w(u),u}function k(){var e={isShowName:!0,y:b,x:0},t=u["default"].getPageFlowList(),n=c["default"].getPages(),o=[];if(t.forEach(function(t){var n=t.title,a=t.pageVal,i=t.id,s=P({vals:{title:n}});if($.objLength(a))for(var l in S({vals:{title:n}},s),h.createElementByInsert("pageflow","pageflow",{pageFlowId:i,y:b}),a){var u=c["default"].getPageByKey(l);o.push(l),S({vals:{title:u.name}},s),h.createElementByInsert("page","page",r({pageKey:l},e)),y.recoverPageOriginSize(),g.clickPageRemarks()}}),$.objLength(n)!=o.length){var a=P({vals:{title:c["default"].getProjectName()}});for(var i in n){if(-1==o.indexOf(i))S({vals:{title:c["default"].getPageByKey(i).name}},a),h.createElementByInsert("page","page",r({pageKey:i},e)),y.recoverPageOriginSize(),g.clickPageRemarks()}}}function O(e,t){var n=d.findStructNameNumKey({type:"page",title:e+" ",isTemp:!0});x({vals:{title:e+(0==n?"":" "+n)}}),_.pastePrdElement(t),p.elementDeselect()}t.clickCreatePrdPage=C,t.createPage=x,t.createChildPage=S,t.createFolder=P,t.createChildFolder=function(e,t){var n=(void 0===e?{}:e).vals;void 0===t&&(t=undefined),P({vals:void 0===n?{}:n,changeHierarchyFunc:function(e){f.addKeyToStructHierarchy({structId:t,createId:e})}})},t.autoCreateFlow=k,t.createPageByTemplate=function(e){var t;if(m.prdTemplateList.some(function(n){return n.type==e&&("all"==n.platform||n.platform==(window.isPc?"web":"mobile"))&&(t=n,!0)}),t){var n=t.title,r=t.type,o=t.platform;if("empty"==r)O(n,[]);else{var a="";"mobile"==o?a="M":"web"==o&&(a="W"),i["default"].get("https://img.xiaopiu.com/jsonData/page/"+r+a+".json").send({}).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){!t||t&&!t.body?v["default"].show("数据加载失败"):O(n,t.body)})}}},t["default"]={clickCreatePrdPage:C,createPage:x,createFolder:P,autoCreateFlow:k}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.structBaseVal={ONEDEEPWIDTH:19,PREVIEW_ONEDEEPWIDTH:18,BASEMARGINLEFT:20,PREVIEW_BASEMARGINLEFT:32,TOPDISTANCE:147,DOMHEIGHT:40,DOMWIDTH:250,DOMPADDING:10,BASEDEEPLEFT:40},t["default"]={structBaseVal:t.structBaseVal}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=n(66).createJsonDiff(),l={data:{x:{},y:{}}},u=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getPrdAdhereLineData=function(){return l.data},t.prototype.setPrdAdhereLineData=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!1),s.diff(l.data,e)&&(l.data=a({},l.data,e),t||u.emitChange())},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));t["default"]=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=window,a=(o.$,o.isMac,r(n(846)));function i(e){switch(e){case"page":return"页面";case"pageflow":return"流程";case"contr":return"组件";default:return""}}function s(e){switch(e){case"page":return"页面";case"pageflow":return"页面流程";case"contr":return"引用组件";case"link":default:return""}}t.getFooterText=i,t.getTitleText=s,t.getNowSearchText=function(e){var t="";switch(e){case"struct":t=a["default"].getSearchText();break;case"flow":t=a["default"].getSearchFlowText();break;case"containerStruct":t=a["default"].getSearchContainerText();break;case"contr":t=a["default"].getSearchContrText();break;case"link":t=a["default"].getSearchLinkText()}return t},t["default"]={getFooterText:i,getTitleText:s}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(11)),d=s(n(1517));function f(){var e=$(".iframe-panel")[0].contentWindow.$;e(".scale-btn").click(),setTimeout(function(){e(".scale-btn").click()},500)}var p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isFullScreen:!1},n}return o(t,e),t.prototype.setFullScreen=function(){var e=$.query(".right-content-panel"),t=$.query(".content-box>.head-panel");e.style.zIndex=101,t.style.zIndex=1,$.tipHide(),this.setState({isFullScreen:!0}),f()},t.prototype.closeFullScreen=function(){var e=$.query(".right-content-panel"),t=$.query(".content-box>.head-panel");e.style.zIndex=99,t.style.zIndex=100,this.setState({isFullScreen:!1}),f()},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height,r=e.url,o=e.isWeb,a=void 0!==o&&o,i=this.state.isFullScreen;return l["default"].createElement("div",{className:c["default"]("prd-web-iframe-panel",{"is-full-screen":i}),style:i?{}:{width:t,height:n},onScroll:$.preventDefault,onWheel:$.preventDefault},l["default"].createElement("iframe",{src:r,frameBorder:"0",allowFullScreen:!0,sandbox:"allow-scripts allow-forms allow-pointer-lock allow-same-origin",className:"iframe-panel",onScroll:$.preventDefault,onWheel:$.preventDefault}),i?l["default"].createElement("div",{className:"cover-bg-box"},l["default"].createElement("div",{className:"close-full-screen-icon",onClick:this.closeFullScreen})):l["default"].createElement(d["default"],{isWeb:a,setFullScreenFunc:this.setFullScreen,url:r}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"setFullScreen",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"closeFullScreen",null),t}(l["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(29)),a=r(n(6)),i=r(n(10)),s=r(n(5)),l=n(26),u=n(118),c=n(847),d=n(224),f=r(n(214)),p=100;function h(){c.prdEditInit(),$.tipHide()}function g(){var e,t=l.findSelectElement()[0].id,n=o["default"].getPrdElementById(t).isLink;o["default"].updateValById({id:t,updateVal:(e={},e[n?"isLink":"isEdit"]=!1,e)})}function y(e){var t=e.currentTarget.getAttribute("data-key"),n=l.findSelectElement()[0],r=a["default"].getOneSymbolByLib(t),o=r.width,s=r.height,c=n.width;n.height;u.fixElementPosVal({changeVal:{symbolKey:t,isEdit:!1,oriWidth:o,oriHeight:s,width:c,height:Math.round(c*s/o),hasBorder:!0},element:n}),i["default"].createData({type:"selectContr",name:"PRD 选中某一项引用组件",autoSaveType:"prd"})}function m(e){var t=e.currentTarget.getAttribute("data-id"),n=d.getSelectStruct().id,r=(l.findSelectElement()[0].pageKey,s["default"].getProId()),o=window.isPc;if(-1!=t.indexOf("page")){var a=t.split("_")[1];if(a){var c=window.phoneSize,h=c.height,g=c.width,y=(s["default"].getPages(),l.findSelectElement()[0]),m=y.type,_=y.width,v=y.height,b=f["default"]-p,w=o?g||b:Math.round(_),C=o?9*w/16:Math.round(_*h/g);if("webView"!=m){var x=y.hasBorder,S=void 0!==x&&x,P=y.borderType;S&&"phone-border"==(void 0===P?"":P)?u.fixElementPosVal({changeVal:{pageKey:a,isEdit:!1,width:_,height:v},element:y}):u.fixElementPosVal({changeVal:{pageKey:a,isEdit:!1,width:w,height:C,hasBorder:!0},element:y}),i["default"].createData({type:"addPage",name:"PRD 添加页面",autoSaveType:"prd"})}else u.fixElementPosVal({changeVal:{webUrl:"https://xiaopiu.com/prd/"+r+"?page="+n,isEdit:!1,pageKey:a},element:y}),i["default"].createData({type:"saveInnerWebLink",name:"PRD 保存添加的内部网页链接",autoSaveType:"prd"})}}}t.editBtnClickFunc=h,t.closeMenuFunc=g,t.pageFlowSelectFunc=function(e){var t=e.currentTarget.getAttribute("data-id"),n=l.findSelectElement()[0],r=n.id,a=n.pageFlowId;o["default"].updateValById({id:r,updateVal:{pageFlowId:t,isEdit:!1}}),a!=t&&i["default"].createData({type:"pageFlowSelectFunc",name:"PRD 修改页面流程的选中",autoSaveType:"prd"})},t.contrSelectFunc=y,t.pageSelectFunc=m,t["default"]={editBtnClickFunc:h,closeMenuFunc:g,contrSelectFunc:y,pageSelectFunc:m}},function(e,t,n){"use strict";n.r(t);var r=n(212),o=n.n(r),a=n(65),i=n(90),s=n(158),l=n.n(s),u=n(159),c=n.n(u),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f="object"===("undefined"==typeof window?"undefined":d(window))&&"object"===("undefined"==typeof document?"undefined":d(document))&&9===document.nodeType,p=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=undefined;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=void 0;if(f){var g=!0,y=!1,m=undefined;try{for(var _,v=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]][Symbol.iterator]();!(g=(_=v.next()).done);g=!0){var b=_.value,w=p(b,2),C=w[0];if(w[1].test(window.navigator.userAgent)){h=C;break}}}catch(dn){y=!0,m=dn}finally{try{!g&&v["return"]&&v["return"]()}finally{if(y)throw m}}}var x=void 0;if(f){var S=!0,P=!1,k=undefined;try{for(var O,E=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]][Symbol.iterator]();!(S=(O=E.next()).done);S=!0){var T=O.value,M=p(T,2),D=M[0];if(M[1].test(window.navigator.userAgent)){x=D;break}}}catch(dn){P=!0,k=dn}finally{try{!S&&E["return"]&&E["return"]()}finally{if(P)throw k}}}var A=[];if(f){var j=!0,I=!1,L=undefined;try{for(var R,B=[["inputeventslevel1",function(e){return"inputType"in(e.InputEvent?new e.InputEvent("input"):{})}],["inputeventslevel2",function(e){var t=e.document.createElement("div");return t.contentEditable=!0,"onbeforeinput"in t}]][Symbol.iterator]();!(j=(R=B.next()).done);j=!0){var N=R.value,F=p(N,2),H=F[0];(0,F[1])(window)&&A.push(H)}}catch(dn){I=!0,L=dn}finally{try{!j&&B["return"]&&B["return"]()}finally{if(I)throw L}}}var $=[[/^9([.]0|)/,28],[/^8[.]1/,27],[/^8([.]0|)/,26],[/^7[.]1/,25],[/^7([.]0|)/,24],[/^6([.]0|)/,23],[/^5[.]1/,22],[/^5([.]0|)/,21],[/^4[.]4/,20]];var z="firefox"===h,U="safari"===h,V="ie"===h,K="edge"===h,G="android"===x,q="ios"===x,W="macos"===x,Y=function(){if("android"!==x)return null;var e=window.navigator.userAgent.match(/Android\s([0-9\.]+)/);if(null==e)return null;var t=e[1],n=!0,r=!1,o=undefined;try{for(var a,i=$[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,l=p(s,2),u=l[0],c=l[1];if(t.match(u))return c}}catch(dn){r=!0,o=dn}finally{try{!n&&i["return"]&&i["return"]()}finally{if(r)throw o}}return null}(),X=(A.includes("inputeventslevel1"),A.includes("inputeventslevel2")||G&&(28===Y||null===Y)),Z=n(989);function J(e){var t=JSON.stringify(e);return Object(Z.btoa)(encodeURIComponent(t))}function Q(e){var t=decodeURIComponent(Object(Z.atob)(e));return JSON.parse(t)}var ee={deserialize:function(e,t){var n=Q(e);return i.Value.fromJSON(n,t)},deserializeNode:function(e,t){var n=Q(e);return i.Node.fromJSON(n,t)},serialize:function(e,t){return J(e.toJSON(t))},serializeNode:function(e,t){return J(e.toJSON(t))}},te=n(4),ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function re(e){var t=(arguments.length>1&&arguments[1]!==undefined?arguments[1]:{}).delimiter,n=t===undefined?"\n":t;return"document"===e.object||"block"===e.object&&i.Block.isBlockList(e.nodes)?e.nodes.map(re).join(n):e.text}var oe={deserialize:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.defaultBlock,r=n===undefined?"line":n,o=t.defaultMarks,a=o===undefined?[]:o,s=t.delimiter,l=s===undefined?"\n":s,u=t.toJSON,c=u!==undefined&&u;te.Set.isSet(a)&&(a=a.toArray()),r=i.Node.createProperties(r),a=a.map(i.Mark.createProperties);var d={object:"value",document:{object:"document",data:{},nodes:e.split(l).map(function(e){return ne({},r,{object:"block",data:{},nodes:[{object:"text",leaves:[{object:"leaf",text:e,marks:a}]}]})})}};return c?d:i.Value.fromJSON(d)},serialize:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return re(e.document,t)}},ae=n(909),ie={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},se={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},le={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:"ctrl+y"},ue={},ce=q||W,de=!ce;[].concat(Object.keys(ie)).concat(Object.keys(se)).concat(Object.keys(le)).forEach(function(e){var t="is"+e[0].toUpperCase()+e.slice(1);if(!ue[t]){var n=ie[e],r=se[e],o=le[e],a=n&&Object(ae.isKeyHotkey)(n),i=r&&Object(ae.isKeyHotkey)(r),s=o&&Object(ae.isKeyHotkey)(o);ue[t]=function(e){return!(!a||!a(e))||(!!(ce&&i&&i(e))||!!(de&&s&&s(e)))}}});var fe=ue,pe=n(125),he=n.n(pe),ge=n(1),ye=n.n(ge),me=n(30),_e=n.n(me);function ve(e,t){function n(n,r,o,a,i){var s=r[o];return null!=s||n?null==s&&n?new Error("The "+i+" `"+o+"` is marked as required in `"+a+"`, but it was not supplied."):t(s)?null:new Error("Invalid "+i+" `"+o+"` supplied to `"+a+"`, expected a Slate `"+e+"` but received: "+s):null}function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(undefined,[!1].concat(t))}return r.isRequired=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(undefined,[!0].concat(t))},r}var be={block:ve("Block",function(e){return i.Block.isBlock(e)}),blocks:ve("List<Block>",function(e){return i.Block.isBlockList(e)}),change:ve("Change",function(e){return i.Change.isChange(e)}),data:ve("Data",function(e){return i.Data.isData(e)}),document:ve("Document",function(e){return i.Document.isDocument(e)}),inline:ve("Inline",function(e){return i.Inline.isInline(e)}),inlines:ve("Inline",function(e){return i.Inline.isInlineList(e)}),leaf:ve("Leaf",function(e){return i.Leaf.isLeaf(e)}),leaves:ve("List<Leaf>",function(e){return i.Leaf.isLeafList(e)}),mark:ve("Mark",function(e){return i.Mark.isMark(e)}),marks:ve("Set<Mark>",function(e){return i.Mark.isMarkSet(e)}),node:ve("Node",function(e){return i.Node.isNode(e)}),nodes:ve("List<Node>",function(e){return i.Node.isNodeList(e)}),range:ve("Range",function(e){return i.Range.isRange(e)}),ranges:ve("List<Range>",function(e){return i.Range.isRangeList(e)}),value:ve("Value",function(e){return i.Value.isValue(e)}),text:ve("Text",function(e){return i.Text.isText(e)}),texts:ve("List<Text>",function(e){return i.Text.isTextList(e)})},we=n(990),Ce=n.n(we),xe=n(44),Se=n(1360),Pe=n.n(Se),ke=n(1361),Oe=n.n(ke),Ee=function(e,t){if(!e)throw new Error("Invariant failed: "+(t||""))},Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},De=0;var Ae=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=De++,n={type:"placeholder",data:{key:t}},r=e.placeholder,o=e.when,a=e.style,i=a===undefined?{}:a;return Ee(r,"You must pass `SlateReactPlaceholder` an `options.placeholder` string."),Ee(o,"You must pass `SlateReactPlaceholder` an `options.when` query."),{decorateNode:function(e,t,r){if(!t.query(o,e))return r();var a=r(),i=e.getFirstText(),s=e.getLastText(),l={anchor:{key:i.key,offset:0},focus:{key:s.key,offset:s.text.length},mark:n};return[].concat(Me(a),[l])},renderMark:function(e,n,o){var a=e.children,s=e.mark;if("placeholder"===s.type&&s.data.get("key")===t){var l=Te({pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"},i);return ye.a.createElement("span",null,ye.a.createElement("span",{contentEditable:!1,style:l},r),a)}return o()}}},je=function(e,t){return e===t};var Ie=function(e,t){var n;void 0===t&&(t=je);var r,o=[],a=!1,i=function(e,n){return t(e,o[n],n)};return function(){for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return a&&n===this&&s.length===o.length&&s.every(i)?r:(r=e.apply(this,s),a=!0,n=this,o=s,r)}};n.d(t,"Editor",function(){return un}),n.d(t,"cloneFragment",function(){return Ct}),n.d(t,"findDOMNode",function(){return mt}),n.d(t,"findDOMRange",function(){return Jt}),n.d(t,"findNode",function(){return xt}),n.d(t,"findRange",function(){return et}),n.d(t,"getEventRange",function(){return St}),n.d(t,"getEventTransfer",function(){return Dt}),n.d(t,"setEventTransfer",function(){return It}),n.d(t,"ReactPlugin",function(){return sn});var Le=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","onPaste","onSelect"];var Re=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Be=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ne=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},$e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ze=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=undefined;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(dn){o=!0,a=dn}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ue=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Ve=/^([\w-]+)(?::(\d+))?$/;var Ke={parse:function(e){var t=Ve.exec(e);if(!t)throw new Error('Invalid offset key string "'+e+'".');var n=ze(t,3),r=(n[0],n[1]),o=n[2];return{key:r,index:parseInt(o,10)}},stringify:function(e){return e.key+":"+e.index}},Ge="data-slate-zero-width",qe="["+Ge+"]",We="data-offset-key",Ye="["+We+"]",Xe="[data-key]",Ze="[data-slate-void]";function Je(e,t,n){Object(a.a)(!i.Value.isValue(n),"As of Slate 0.42.0, the `findPoint` utility takes an `editor` instead of a `value`.");var r=function(e,t){if(1===e.nodeType&&e.childNodes.length){var n=t===e.childNodes.length,r=n?"backward":"forward",o=n?t-1:t;for(e=Qe(e,o,r);1===e.nodeType&&e.childNodes.length;){var a=n?e.childNodes.length-1:0;e=Qe(e,a,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}(e,t),s=r.node,l=r.offset,u=o()(e),c=s.parentNode,d=c.closest(Ye),f=void 0,p=void 0;if(d){var h=u.document.createRange(),g=d.closest(Xe);h.setStart(g,0),h.setEnd(s,l),p=g,f=h.cloneContents().textContent.length}else{var y=c.closest(Ze);if(!y)return null;if(!(d=y.querySelector(Ye)))return null;f=(p=d).textContent.length}f===p.textContent.length&&c.hasAttribute(Ge)&&f--;var m=d.getAttribute(We);if(!m)return null;var _=Ke.parse(m).key,v=n.value;return v.document.hasDescendant(_)?v.document.createPoint({key:_,offset:f}):null}function Qe(e,t,n){for(var r=e.childNodes,o=r[t],a=t,i=!1,s=!1;(8===o.nodeType||1===o.nodeType&&0===o.childNodes.length||1===o.nodeType&&"false"===o.getAttribute("contenteditable"))&&(!i||!s);)a>=r.length?(i=!0,a=t-1,n="backward"):a<0?(s=!0,a=t+1,n="forward"):(o=r[a],"forward"===n&&a++,"backward"===n&&a--);return o||null}function et(e,t){Object(a.a)(!i.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.anchorNode||e.startContainer;if(!n)return null;var r=o()(n);(e instanceof r.Range||r.StaticRange&&e instanceof r.StaticRange)&&(e={anchorNode:e.startContainer,anchorOffset:e.startOffset,focusNode:e.endContainer,focusOffset:e.endOffset});var s=e,l=s.anchorNode,u=s.anchorOffset,c=s.focusNode,d=s.focusOffset,f=s.isCollapsed,p=t.value,h=Je(l,u,t),g=f?h:Je(c,d,t);return h&&g?p.document.createRange({anchor:h,focus:g}):null}function tt(e,t,n){var r=t.value,o=r.document;if(n.rangeCount){var a=et(n,t);if(a){var i=a,s=i.anchor,l=i.focus,u=o.getNode(s.key),c=o.getNode(l.key),d=o.getClosestInline(s.key),f=o.getClosestInline(l.key),p=o.getClosestBlock(l.key),h=o.getClosestBlock(s.key);if(h&&!t.isVoid(h)&&0===s.offset&&p&&t.isVoid(p)&&0!==l.offset&&(a=a.setFocus(l.setOffset(0))),d&&!t.isVoid(d)&&s.offset===u.text.length){var g=o.getClosestBlock(s.key).getNextText(s.key);g&&(a=a.moveAnchorTo(g.key,0))}if(f&&!t.isVoid(f)&&l.offset===c.text.length){var y=o.getClosestBlock(l.key).getNextText(l.key);y&&(a=a.moveFocusTo(y.key,0))}var m=o.createSelection(a);return m=(m=m.setIsFocused(!0)).set("marks",r.selection.marks)}}else t.blur()}function nt(e,t,n){var r=tt(0,t,n);t.select(r)}function rt(e,t,n){var r=Je(n,0,t);if(r){var o=t.value,a=o.document,i=o.selection,s=a.getDescendant(r.key),l=a.getClosestBlock(s.key),u=s.getLeaves(),c=l.getLastText(),d=u.last(),f=0,p=0,h=u.find(function(e){if(f=p,(p+=e.text.length)>r.offset)return!0})||d,g=h.text,y=n.textContent,m=s===c,_=h===d,v=y.charAt(y.length-1);if(m&&_&&"\n"===v&&(y=y.slice(0,-1)),y!==g){var b=i.moveAnchorTo(r.key,f).moveFocusTo(r.key,p);b=a.resolveRange(b),t.insertTextAtRange(b,y,h.marks)}}}function ot(e,t){return e.nodeType===t.Node.TEXT_NODE}function at(e,t){if(!e.length)throw new Error("elements must be an Array");var n=e[e.length-1];return{elements:e.map(function(e){return function n(e,t){var r={};return r.node=e,ot(e,t)&&(r.text=e.textContent),r.children=Array.from(e.childNodes).map(function(e){return n(e,t)}),r}(e,t)}),parent:n.parentElement,next:n.nextElementSibling}}function it(e,t){var n=e.elements,r=e.next,o=e.parent;n.forEach(function(e){return function n(e,t){var r=e.node;ot(r,t)&&r.textContent!==e.text&&(r.textContent=e.text),e.children.forEach(function(e){n(e,t),r.appendChild(e.node)});for(var o=e.children.length;r.childNodes.length>o;)r.removeChild(r.childNodes[0]);var a=r.dataset;if(a){var i=a.key;if(i){var s=new t.Set(Array.from(t.document.querySelectorAll("[data-key='"+i+"']")));s["delete"](r),s.forEach(function(e){return e.parentElement.removeChild(e)})}}}(e,t)});var a=n[n.length-1].node;e.next?o.insertBefore(a,r):o.appendChild(a);for(var i=a,s=n.length-2;s>=0;s--){var l=n[s].node;o.insertBefore(l,i),i=l}}var st=function(){function e(t,n){Re(this,e),this.window=o()(t[0]),this.snapshot=at(t,this.window),this.data=n}return Be(e,[{key:"apply",value:function(){it(this.snapshot,this.window)}},{key:"getData",value:function(){return this.data}}]),e}();function lt(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:window;return e.nodeType===n.Node.TEXT_NODE&&(e=e.parentNode),e.closest(t)}var ut=function(){function e(t,n){var r=(arguments.length>2&&arguments[2]!==undefined?arguments[2]:{}).before,o=r!==undefined&&r;Re(this,e);var a=t.getSelection(),i=lt(a.anchorNode,"[data-slate-editor] > *"),s=[i];if(o){var l=i.previousElementSibling;l&&s.unshift(l)}this.snapshot=new st(s),this.selection=tt(0,n,a)}return Be(e,[{key:"apply",value:function(e){var t=this.snapshot,n=this.selection;t.apply(),e.moveTo(n.anchor.key,n.anchor.offset)}}]),e}();function ct(){}var dt=function fn(e,t){var n=this,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};Re(this,fn),this.__call__=function(){n.fn(),n.preventFurtherCalls()},this.preventFurtherCalls=function(){n.fn=ct},this.resume=function(e){n.cancel(),e?(n.mode="timeout",n.timeoutId=n.window.setTimeout(n.__call__,e)):(n.mode="animationFrame",n.callbackId=n.window.requestAnimationFrame(n.__call__))},this.cancel=function(){"timeout"===n.mode?n.window.clearTimeout(n.timeoutId):n.window.cancelAnimationFrame(n.callbackId),n.onCancel&&n.onCancel()},this.__setTimeout__=function(e){null!=e&&n.window.setTimeout(function(){n.cancel(),n.preventFurtherCalls()},e)},this.fn=t,this.window=e,this.resume(),this.onCancel=r.onCancel,this.__setTimeout__(r.timeout)},ft=l()("slate:android");ft.reconcile=l()("slate:reconcile"),ft("ANDROID_API_VERSION",{ANDROID_API_VERSION:Y});var pt=0,ht=1;function gt(){var e=pt,t=new window.Set,n=null,r=null,a=null,i=null,s=!1,l=null;function u(e,n,r){var o=r.from;ft.reconcile({from:o});var a=e.getSelection();t.forEach(function(e){rt(0,n,e)}),nt(0,n,a),t.clear()}return{onBeforeInput:function(t,a,u){var d=!t.nativeEvent;ft("onBeforeInput",{isNative:d,event:t,status:e,e:c()(t,["data","inputType","isComposing","nativeEvent"])});var f,p=o()(t.target);if(s)return t.preventDefault(),void(s=!1);switch(Y){case 25:break;case 26:case 27:if(i&&(i.cancel(),r.resume()),d){if("insertParagraph"===t.inputType||"insertLineBreak"===t.inputType){ft("onBeforeInput:enter:native",{});var h=p.getSelection(),g=tt(0,a,h);s=!0,t.preventDefault(),a.moveTo(g.anchor.key,g.anchor.offset),a.splitBlock()}}else{if(function(e,t){if(!Array.isArray(t))throw new Error("chars must be an array of one character strings");if(null==e)return!1;var n=e[e.length-1];return t.includes(n)}(t.data,["."]))return ft("onBeforeInput:period"),r.cancel(),void(l="period");null!=(f=t.data)&&10===f[f.length-1].charCodeAt(0)&&(r&&r.cancel(),p.requestAnimationFrame(function(){ft("onBeforeInput:enter:react",{}),n.apply(a),a.splitBlock()}))}break;case 28:i&&(i.cancel(),r.resume());break;default:e!==ht&&u()}},onCompositionEnd:function(a,i,s){ft("onCompositionEnd",{event:a});var c=o()(a.target),d=c.getSelection().anchorNode;switch(Y){case 26:case 27:n=new ut(c,i),e=ht}l="reconcile",t.add(d),r=new dt(c,function(){e=pt,u(c,i,{from:"onCompositionEnd:reconciler"}),l=null})},onCompositionStart:function(n,r,o){ft("onCompositionStart",{event:n}),e=ht,t.clear()},onCompositionUpdate:function(e,t,n){ft("onCompositionUpdate",{event:e})},onInput:function(n,s,d){switch(ft("onInput",{event:n,status:e,e:c()(n,["data","nativeEvent","inputType","isComposing"])}),Y){case 24:case 25:break;case 26:case 27:case 28:var f=n.nativeEvent;if(28===Y&&"insertText"===f.inputType&&" "===f.data)return r&&r.cancel(),i&&i.cancel(),void u(window,s,{from:"onInput:space"});if((26===Y||27===Y)&&"period"===l){ft("onInput:period:abort");var p=window.getSelection().anchorNode;return void t.add(p)}if("deleteContentBackward"===f.inputType){ft("onInput:delete",{keyDownSnapshot:a});var h=o()(n.target);return r&&r.cancel(),i&&i.cancel(),void(i=new dt(h,function(){ft("onInput:delete:callback",{keyDownSnapshot:a}),a.apply(s),s.deleteBackward(),i=null},{onCancel:function(){i=null}}))}if(e===ht){var g=window.getSelection().anchorNode;return void t.add(g)}if(28===Y){ft("onInput:fallback");var y=window.getSelection().anchorNode;return t.add(y),void window.requestAnimationFrame(function(){ft("onInput:fallback:callback"),u(window,s,{from:"onInput:fallback"})})}break;default:if(e===ht)return;d()}},onKeyDown:function(t,s,l){ft("onKeyDown",{event:t,status:e,e:c()(t,["char","charCode","code","key","keyCode","keyIdentifier","keyLocation","location","nativeEvent","which"])});var d=o()(t.target);switch(Y){case 25:"Enter"===t.key&&l();break;case 26:case 27:if("Enter"===t.key){if(ft("onKeyDown:enter",{}),i)i.cancel(),t.preventDefault(),d.requestAnimationFrame(function(){ft("onKeyDown:enter:callback"),n.apply(s),s.splitBlock()});else{t.preventDefault();var f=d.getSelection(),p=tt(0,s,f);s.moveTo(p.anchor.key,p.anchor.offset),s.splitBlock()}return}a=new ut(d,s,{before:!0});break;case 28:if("Enter"===t.key)return ft("onKeyDown:enter"),t.preventDefault(),r&&r.cancel(),i&&i.cancel(),void d.requestAnimationFrame(function(){u(d,s,{from:"onKeyDown:enter"}),s.splitBlock()});a=new ut(d,s,{before:!0}),ft("onKeyDown:snapshot",{keyDownSnapshot:a});break;default:e!==ht&&l()}},onSelect:function(t,n,r){switch(ft("onSelect",{event:t,status:e}),Y){case 26:case 27:case 28:!function(e){var t=e.getSelection(),n=t.anchorNode,r=n.parentElement.dataset;if(r&&"n"===r.slateZeroWidth&&1===n.textContent.length&&0!==t.anchorOffset){var o=e.document.createRange();o.setStart(n,0),o.setEnd(n,0),t.removeAllRanges(),t.addRange(o)}}(o()(t.target))}}}}var yt={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"};function mt(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window;i.Node.isNode(e)&&(e=e.key);var n=t.document.querySelector('[data-key="'+e+'"]');if(!n)throw new Error('Unable to find a DOM node for "'+e+'". This is often because of forgetting to add `props.attributes` to a custom component.');return n}function _t(e){var t=window.document;if(t&&t.body.createTextRange){var n=t.body.createTextRange();n.collapse(),n.select()}else e.removeAllRanges()}var vt=yt.FRAGMENT,bt=yt.HTML,wt=yt.TEXT;function Ct(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){return undefined};Object(a.a)(!i.Value.isValue(t),"As of Slate 0.42.0, the `cloneFragment` utility takes an `editor` instead of a `value`.");var r=o()(e.target),s=r.getSelection(),l=t.value,u=l.document,c=l.fragment,d=l.selection,f=d.start,p=d.end,h=u.getClosestVoid(f.key,t),g=u.getClosestVoid(p.key,t);if(!s.isCollapsed||h){var y=ee.serializeNode(c),m=s.getRangeAt(0),_=m.cloneContents(),v=_.childNodes[0];if(_.childNodes.forEach(function(e){e.textContent&&""!==e.textContent.trim()&&(v=e)}),g){var b=m.cloneRange(),w=mt(g,r);b.setEndAfter(w),_=b.cloneContents()}if(h&&(v=_.childNodes[0].childNodes[1].firstChild),[].slice.call(_.querySelectorAll(qe)).forEach(function(e){var t="n"===e.getAttribute(Ge);e.textContent=t?"\n":""}),3===v.nodeType){var C=r.document.createElement("span");C.style.whiteSpace="pre",C.appendChild(v),_.appendChild(C),v=C}v.setAttribute("data-slate-fragment",y);var x=i.Value.create({document:c}),S=oe.serialize(x),P=r.document.createElement("div");if(P.appendChild(_),e.clipboardData&&e.clipboardData.setData&&!V)return e.preventDefault(),e.clipboardData.setData(wt,S),e.clipboardData.setData(vt,y),e.clipboardData.setData(bt,P.innerHTML),void n();var k=e.target.closest("[data-slate-editor]");P.setAttribute("contenteditable",!0),P.style.position="absolute",P.style.left="-9999px",k.appendChild(P),s.selectAllChildren(P),r.requestAnimationFrame(function(){k.removeChild(P),_t(s),s.addRange(m),n()})}}function xt(e,t){Object(a.a)(!i.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.closest("[data-key]");if(!n)return null;var r=n.getAttribute("data-key");return r&&t.value.document.getNode(r)||null}function St(e,t){Object(a.a)(!i.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`."),e.nativeEvent&&(e=e.nativeEvent);var n=e,r=n.clientX,s=n.clientY,l=n.target;if(null==r||null==s)return null;var u=t.value.document,c=xt(l,t);if(!c)return null;if(t.query("isVoid",c)){var d=l.getBoundingClientRect(),f="inline"===c.object?r-d.left<d.left+d.width-r:s-d.top<d.top+d.height-s,p=c.getFirstText(),h=u.createRange();if(f){var g=u.getPreviousText(p.key);if(g)return h.moveToEndOfNode(g)}var y=u.getNextText(p.key);return y?h.moveToStartOfNode(y):null}var m=o()(l),_=void 0;if(m.document.caretRangeFromPoint)_=m.document.caretRangeFromPoint(r,s);else if(m.document.caretPositionFromPoint){var v=m.document.caretPositionFromPoint(r,s);(_=m.document.createRange()).setStart(v.offsetNode,v.offset),_.setEnd(v.offsetNode,v.offset)}else if(m.document.body.createTextRange){_=m.document.body.createTextRange();try{_.moveToPoint(r,s)}catch(w){return null}}var b=et(_,t);return b||null}var Pt=yt.FRAGMENT,kt=yt.HTML,Ot=yt.NODE,Et=yt.RICH,Tt=yt.TEXT,Mt=/ data-slate-fragment="([^\s"]+)"/;function Dt(e){!V&&e.nativeEvent&&(e=e.nativeEvent);var t=e.dataTransfer||e.clipboardData,n=At(t,Pt),r=At(t,Ot),o=At(t,kt),a=At(t,Et),i=At(t,Tt),s=void 0;if(!n&&o&&~o.indexOf(' data-slate-fragment="')){var l=Mt.exec(o),u=ze(l,2),c=(u[0],u[1]);c&&(n=c)}if(i){var d=function(e){var t="SLATE-DATA-EMBED::";if(e.substring(0,t.length)!==t)return{TEXT:e};try{return JSON.parse(e.substring(t.length))}catch(dn){throw new Error("Unable to parse custom Slate drag event data.")}}(i);d[Pt]&&(n=d[Pt]),d[Ot]&&(r=d[Ot]),d[Tt]&&(i=d[Tt])}n&&(n=ee.deserializeNode(n)),r&&(r=ee.deserializeNode(r));try{t.items&&t.items.length?s=Array.from(t.items).map(function(e){return"file"===e.kind?e.getAsFile():null}).filter(function(e){return e}):t.files&&t.files.length&&(s=Array.from(t.files))}catch(dn){t.files&&t.files.length&&(s=Array.from(t.files))}var f={files:s,fragment:n,html:o,node:r,rich:a,text:i};return f.type=function(e){return e.fragment?"fragment":e.node?"node":e.rich&&e.html?"html":e.rich&&e.text?"text":e.files&&e.files.length?"files":e.html?"html":e.text?"text":"unknown"}(f),f}function At(e,t){return e.types&&e.types.length?-1!==Array.from(e.types).indexOf(t)&&e.getData(t)||null:t===Tt&&e.getData("Text")||null}var jt=yt.TEXT;function It(e,t,n){var r=yt[t.toUpperCase()];if(!r)throw new Error('Cannot set unknown transfer type "'+r+'".');e.nativeEvent&&(e=e.nativeEvent);var o=e.dataTransfer||e.clipboardData;try{o.setData(r,n),o.setData("text",o.getData("text"))}catch(dn){var a="SLATE-DATA-EMBED::",i=o.getData(jt),s={};if(i.substring(0,a.length)===a)try{s=JSON.parse(i.substring(a.length))}catch(u){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else s[jt]=i;s[r]=n;var l=""+a+JSON.stringify(s);o.setData(jt,l)}}var Lt=l()("slate:after");var Rt=l()("slate:before");function Bt(){var e,t,n,r,a,i,s,l=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).plugins,u=l===undefined?[]:l,c=G?[gt()]:[],d=(e=null,t=0,n=!1,r=!1,a=!1,{onBeforeInput:function(e,t,n){var r=!!e.nativeEvent;t.readOnly||r&&X||(Rt("onBeforeInput",{event:e}),n())},onBlur:function(t,n,a){if(!r&&!n.readOnly){var i=t.relatedTarget,s=t.target,l=o()(s);if(e!==l.document.activeElement){if(i){var u=he.a.findDOMNode(n);if(i===u)return;if(i.hasAttribute("data-slate-spacer"))return;var c=xt(i,n);if(u.contains(i)&&c&&!n.isVoid(c))return}Rt("onBlur",{event:t}),a()}}},onClick:function(e,t,n){Rt("onClick",{event:e}),n()},onCompositionEnd:function(e,r,o){var a=t;window.requestAnimationFrame(function(){t>a||(n=!1)}),Rt("onCompositionEnd",{event:e}),o()},onCompositionStart:function(e,r,o){n=!0,t++,r.value.selection.isCollapsed||r["delete"](),Rt("onCompositionStart",{event:e}),o()},onCopy:function(e,t,n){var a=o()(e.target);r=!0,a.requestAnimationFrame(function(){return r=!1}),Rt("onCopy",{event:e}),n()},onCut:function(e,t,n){if(!t.readOnly){var a=o()(e.target);r=!0,a.requestAnimationFrame(function(){return r=!1}),Rt("onCut",{event:e}),n()}},onDragEnd:function(e,t,n){a=!1,Rt("onDragEnd",{event:e}),n()},onDragEnter:function(e,t,n){Rt("onDragEnter",{event:e}),n()},onDragExit:function(e,t,n){Rt("onDragExit",{event:e}),n()},onDragLeave:function(e,t,n){Rt("onDragLeave",{event:e}),n()},onDragOver:function(e,t,n){var r=xt(e.target,t);t.isVoid(r)&&e.preventDefault(),V&&e.preventDefault(),a||(a=!0,V||(e.nativeEvent.dataTransfer.dropEffect="move")),Rt("onDragOver",{event:e}),n()},onDragStart:function(e,t,n){a=!0,Rt("onDragStart",{event:e}),n()},onDrop:function(e,t,n){t.readOnly||(e.preventDefault(),Rt("onDrop",{event:e}),n())},onFocus:function(t,n,a){if(!r&&!n.readOnly){var i=he.a.findDOMNode(n),s=o()(t.target);e=s.document.activeElement,z&&t.target!==i?i.focus():(Rt("onFocus",{event:t}),a())}},onInput:function(e,t,r){n||t.value.selection.isBlurred||(Rt("onInput",{event:e}),r())},onKeyDown:function(e,t,r){t.readOnly||(n?fe.isCompose(e)&&e.preventDefault():(!q&&(fe.isBold(e)||fe.isDeleteBackward(e)||fe.isDeleteForward(e)||fe.isDeleteLineBackward(e)||fe.isDeleteLineForward(e)||fe.isDeleteWordBackward(e)||fe.isDeleteWordForward(e)||fe.isItalic(e)||fe.isRedo(e)||fe.isSplitBlock(e)||fe.isTransposeCharacter(e)||fe.isUndo(e))&&e.preventDefault(),Rt("onKeyDown",{event:e}),r()))},onPaste:function(e,t,n){t.readOnly||(e.preventDefault(),Rt("onPaste",{event:e}),n())},onSelect:function(t,a,i){if(!r&&!n&&!a.readOnly){var s=o()(t.target);e=s.document.activeElement,Rt("onSelect",{event:t}),i()}}}),f=(i=null,s=!1,{onBeforeInput:function(e,t,n){var r=t.value;if(e.nativeEvent)return e.preventDefault(),t.insertText(e.data),n();var o=e.getTargetRanges(),a=ze(o,1)[0];if(!a)return n();Lt("onBeforeInput",{event:e}),e.preventDefault();var i=r.document,s=r.selection,l=et(a,t);switch(e.inputType){case"deleteByDrag":case"deleteByCut":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":t.deleteAtRange(l);break;case"deleteWordBackward":t.deleteWordBackwardAtRange(l);break;case"deleteWordForward":t.deleteWordForwardAtRange(l);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":t.deleteLineBackwardAtRange(l);break;case"deleteSoftLineForward":case"deleteHardLineForward":t.deleteLineForwardAtRange(l);break;case"insertLineBreak":case"insertParagraph":i.hasVoidParent(s.start.path,t)?t.moveToStartOfNextText():t.splitBlockAtRange(l);break;case"insertFromYank":case"insertReplacementText":case"insertText":var u=null==e.data?e.dataTransfer.getData("text/plain"):e.data;if(null==u)break;t.insertTextAtRange(l,u,s.marks),s.marks&&r.document!==t.value.document&&t.select({marks:null})}n()},onBlur:function(e,t,n){Lt("onBlur",{event:e}),t.blur(),n()},onClick:function(e,t,n){if(t.readOnly)return n();var r=t.value.document,o=xt(e.target,t);if(!o)return n();Lt("onClick",{event:e});var a=r.getAncestors(o.key);o&&(t.isVoid(o)||a.some(function(e){return t.isVoid(e)}))&&t.focus().moveToEndOfNode(o),n()},onCopy:function(e,t,n){Lt("onCopy",{event:e}),Ct(e,t),n()},onCut:function(e,t,n){Lt("onCut",{event:e}),Ct(e,t,function(){var e=t.value,n=e.endBlock,r=e.endInline,o=e.selection.isCollapsed,a=n&&t.isVoid(n)&&o,i=r&&t.isVoid(r)&&o;a?t.removeNodeByKey(n.key):i?t.removeNodeByKey(r.key):t["delete"]()}),n()},onDragEnd:function(e,t,n){Lt("onDragEnd",{event:e}),i=null,n()},onDragStart:function(e,t,n){Lt("onDragStart",{event:e}),i=!0;var r=t.value,o=r.document,a=xt(e.target,t),s=o.getAncestors(a.key),l=a&&(t.isVoid(a)||s.some(function(e){return t.isVoid(e)})),u=r.blocks.some(function(e){return e.key===a.key});l&&!u&&t.moveToRangeOfNode(a);var c=t.value.fragment;It(e,"fragment",ee.serializeNode(c)),n()},onDrop:function(e,t,n){var r=t.value,a=r.document,s=r.selection,l=o()(e.target),u=St(e,t);if(!u)return n();Lt("onDrop",{event:e});var c=Dt(e),d=c.type,f=c.fragment,p=c.text;if(t.focus(),i&&s.end.key===u.end.key&&s.end.offset<u.end.offset&&(u=u.moveForward(s.start.key===s.end.key?0-s.end.offset+s.start.offset:0-s.end.offset)),i&&t["delete"](),t.select(u),"text"===d||"html"===d){var h=u.anchor,g=a.hasVoidParent(h.key,t);if(g){for(var y=a.getNode(h.key);g&&(y=a.getNextText(y.key));)g=a.hasVoidParent(y.key,t);y&&t.moveToStartOfNode(y)}p&&p.split("\n").forEach(function(e,n){n>0&&t.splitBlock(),t.insertText(e)})}"fragment"===d&&t.insertFragment(f);var m=mt(a.getNode(u.focus.key),l);m&&m.dispatchEvent(new MouseEvent("mouseup",{view:l,bubbles:!0,cancelable:!0})),n()},onFocus:function(e,t,n){Lt("onFocus",{event:e}),!s||V||K?t.focus():t.deselect().focus(),n()},onInput:function(e,t,n){Lt("onInput");var r=o()(e.target),a=r.getSelection();rt(0,t,a.anchorNode),nt(0,t,a),n()},onKeyDown:function(e,t,n){Lt("onKeyDown",{event:e});var r=t.value,o=r.document,a=r.selection,i=o.hasVoidParent(a.start.path,t);if(fe.isSplitBlock(e)&&!q)return i?t.moveToStartOfNextText():t.splitBlock();if(fe.isDeleteBackward(e)&&!q)return t.deleteCharBackward();if(fe.isDeleteForward(e)&&!q)return t.deleteCharForward();if(fe.isDeleteLineBackward(e))return t.deleteLineBackward();if(fe.isDeleteLineForward(e))return t.deleteLineForward();if(fe.isDeleteWordBackward(e))return t.deleteWordBackward();if(fe.isDeleteWordForward(e))return t.deleteWordForward();if(fe.isRedo(e))return t.redo();if(fe.isUndo(e))return t.undo();if(fe.isMoveLineBackward(e))return e.preventDefault(),t.moveToStartOfBlock();if(fe.isMoveLineForward(e))return e.preventDefault(),t.moveToEndOfBlock();if(fe.isExtendLineBackward(e))return e.preventDefault(),t.moveFocusToStartOfBlock();if(fe.isExtendLineForward(e))return e.preventDefault(),t.moveFocusToEndOfBlock();if(fe.isMoveBackward(e))return e.preventDefault(),a.isCollapsed?t.moveBackward():t.moveToStart();if(fe.isMoveForward(e))return e.preventDefault(),a.isCollapsed?t.moveForward():t.moveToEnd();if(fe.isMoveWordBackward(e))return e.preventDefault(),t.moveWordBackward();if(fe.isMoveWordForward(e))return e.preventDefault(),t.moveWordForward();if(fe.isExtendBackward(e)){var s=r.previousText,l=r.startText,u=s&&o.hasVoidParent(s.key,t);if(i||u||""===l.text)return e.preventDefault(),t.moveFocusBackward()}if(fe.isExtendForward(e)){var c=r.nextText,d=r.startText,f=c&&o.hasVoidParent(c.key,t);if(i||f||""===d.text)return e.preventDefault(),t.moveFocusForward()}n()},onMouseDown:function(e,t,n){Lt("onMouseDown",{event:e}),s=!0,n()},onMouseUp:function(e,t,n){Lt("onMouseUp",{event:e}),s=!1,n()},onPaste:function(e,t,n){Lt("onPaste",{event:e});var r=t.value,o=Dt(e),a=o.type,i=o.fragment,s=o.text;if("fragment"===a&&t.insertFragment(i),"text"===a||"html"===a){if(!s)return n();var l=r.document,u=r.selection,c=r.startBlock;if(t.isVoid(c))return n();var d=c,f=l.getInsertMarksAtRange(u),p=oe.deserialize(s,{defaultBlock:d,defaultMarks:f}).document;t.insertFragment(p)}n()},onSelect:function(e,t,n){Lt("onSelect",{event:e});var r=o()(e.target);nt(0,t,r.getSelection()),s=!1,n()}});return[].concat(c,[d],Ue(u),[f])}var Nt=l()("slate:leaves"),Ft=function(e){function t(){var e,n,r;Re(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=$e(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Ht.call(r),$e(r,n)}return He(t,e),Be(t,[{key:"shouldComponentUpdate",value:function(e){return e.index!==this.props.index||e.marks!==this.props.marks||e.text!==this.props.text||e.parent!==this.props.parent}},{key:"render",value:function(){this.debug("render",this);var e=this.props,t=e.node,n=e.index,r=Ke.stringify({key:t.key,index:n});return ye.a.createElement("span",{"data-slate-leaf":!0,"data-offset-key":r},this.renderMarks())}},{key:"renderMarks",value:function(){var e=this.props,t=e.marks,n=e.node,r=e.offset,o=e.text,a=e.editor,i=this.renderText(),s={"data-slate-mark":!0};return t.reduce(function(e,i){var l={editor:a,mark:i,marks:t,node:n,offset:r,text:o,children:e,attributes:s};return a.run("renderMark",l)||e},i)}},{key:"renderText",value:function(){var e=this.props,t=e.block,n=e.node,r=e.editor,o=e.parent,a=e.text,i=e.index,s=e.leaves;if(r.query("isVoid",o))return ye.a.createElement("span",{"data-slate-zero-width":"z","data-slate-length":o.text.length},"\ufeff");if(""===a&&"block"===o.object&&""===o.text&&o.nodes.last()===n)return ye.a.createElement("span",{"data-slate-zero-width":"n","data-slate-length":0},"\ufeff",ye.a.createElement("br",null));if(""===a)return ye.a.createElement("span",{"data-slate-zero-width":"z","data-slate-length":0},"\ufeff");var l=t.getLastText(),u=a.charAt(a.length-1),c=n===l,d=i===s.size-1;return c&&d&&"\n"===u?ye.a.createElement("span",{"data-slate-content":!0},a+"\n"):ye.a.createElement("span",{"data-slate-content":!0},a)}}]),t}(ye.a.Component);Ft.propTypes={block:be.block.isRequired,editor:_e.a.object.isRequired,index:_e.a.number.isRequired,leaves:be.leaves.isRequired,marks:be.marks.isRequired,node:be.node.isRequired,offset:_e.a.number.isRequired,parent:be.node.isRequired,text:_e.a.string.isRequired};var Ht=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Nt.apply(undefined,[t,e.props.node.key+"-"+e.props.index].concat(r))}},$t=l()("slate:node"),zt=function(e){function t(){var e,n,r;Re(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=$e(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Ut.call(r),$e(r,n)}return He(t,e),Be(t,[{key:"render",value:function(){var e=this;this.debug("render",this);var t=this.props,n=t.decorations,r=t.editor,o=t.node,a=t.style,s=r.value.document,l=o.key,u=n.filter(function(e){var t=e.start,n=e.end;if(t.key===l||n.key===l)return!0;if(t.key===n.key)return!1;var r=s.assertPath(l),o=t.path||s.assertPath(t.key),a=n.path||s.assertPath(n.key);return-1!==i.PathUtils.compare(r,o)&&1!==i.PathUtils.compare(r,a)}),c=0===u.size?o.getLeaves():o.getLeaves(u),d=0,f=c.map(function(t,n){var r=e.renderLeaf(c,t,n,d);return d+=t.text.length,r});return ye.a.createElement("span",{"data-key":l,style:a},f)}}]),t}(ye.a.Component);zt.propTypes={block:be.block,decorations:Ce.a.list.isRequired,editor:_e.a.object.isRequired,node:be.node.isRequired,parent:be.node.isRequired,style:_e.a.object},zt.defaultProps={style:null};var Ut=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.props.node.key;$t.apply(undefined,[t,a+" (text)"].concat(r))},this.shouldComponentUpdate=function(t){var n=t,r=e.props;if(n.node!==r.node)return!0;if("block"===n.parent.object){var o=r.parent.nodes.last(),a=n.parent.nodes.last();if(r.node===o&&n.node!==a)return!0}return!n.decorations.equals(r.decorations)},this.renderLeaf=function(t,n,r,o){var a=e.props,i=a.block,s=a.node,l=a.parent,u=a.editor,c=n.text,d=n.marks;return ye.a.createElement(Ft,{key:s.key+"-"+r,block:i,editor:u,index:r,marks:d,node:s,offset:o,parent:l,leaves:t,text:c})}},Vt=l()("slate:void"),Kt=function(e){function t(){var e,n,r;Re(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=$e(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Gt.call(r),$e(r,n)}return He(t,e),Be(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.node,r=e.readOnly,o="block"===n.object?"div":"span",a=ye.a.createElement(o,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},this.renderText()),i=ye.a.createElement(o,{contentEditable:!!r&&null},t);return this.debug("render",{props:e}),ye.a.createElement(o,{"data-slate-void":!0,"data-key":n.key,contentEditable:!(!r&&"block"!==n.object)&&null},r?null:a,i)}}]),t}(ye.a.Component);Kt.propTypes={block:be.block,children:_e.a.any.isRequired,editor:_e.a.object.isRequired,node:be.node.isRequired,parent:be.node.isRequired,readOnly:_e.a.bool.isRequired};var Gt=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.props.node,i=a.key+" ("+a.type+")";Vt.apply(undefined,[t,""+i].concat(r))},this.renderText=function(){var t=e.props,n=t.block,r=t.decorations,o=t.node,a=t.readOnly,i=t.editor,s=o.getFirstText();return ye.a.createElement(zt,{block:"block"===o.object?o:n,decorations:r,editor:i,key:s.key,node:s,parent:o,readOnly:a})}};function qt(e,t){var n=Object(te.Set)().asMutable(),r=[];return function(e,t){if(t.isEmpty())return e.nodes.toArray().map(function(e,t){return{child:e,index:t}});var n=Ne({},e.key,0),r=1;e.forEachDescendant(function(e){n[e.key]=r,r+=1});var o=e.nodes.toArray(),a=o.map(function(e,t){return{child:e,index:t,order:n[e.key]}});return t.forEach(function(e){var t=n[e.start.key],i=t===undefined?0:function(e,t,n){var r=e.findIndex(function(e){return n<t[e.key]});if(r<=0)return 0;var o=e[r-1];return t[o.key]}(o,n,t);a.push({isRangeStart:!0,order:i-.5,decoration:e});var s=(n[e.end.key]||r)+.5;a.push({isRangeEnd:!0,order:s,decoration:e})}),a.sort(function(e,t){return e.order>t.order?1:-1})}(e,t).forEach(function(e){e.isRangeStart?n.add(e.decoration):e.isRangeEnd?n.remove(e.decoration):r.push(n.toList())}),r}var Wt=l()("slate:node"),Yt=function(e){function t(){var e,n,r;Re(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=$e(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Xt.call(r),$e(r,n)}return He(t,e),Be(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.editor.run("shouldNodeComponentUpdate",t,e),r=e,o=t;if(null!=n){if(n)return!0;Object(xe.a)(!1!==n,"Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}return r.readOnly!==o.readOnly||(r.node!==o.node||(!(!r.isSelected&&!o.isSelected)||(!(!r.isFocused&&!o.isFocused)||!r.decorations.equals(o.decorations))))}},{key:"render",value:function(){var e=this;this.debug("render",this);var t=this.props,n=t.editor,r=t.isSelected,o=t.isFocused,a=t.node,i=t.decorations,s=t.parent,l=t.readOnly,u=n.value.selection,c=a.getSelectionIndexes(u,r),d=i.concat(a.getDecorations(n)),f=qt(a,d),p=[];a.nodes.forEach(function(t,n){var r=!!c&&c.start<=n&&n<c.end;p.push(e.renderNode(t,r,f[n]))});var h={"data-key":a.key};a.isLeafBlock()&&("rtl"===a.getTextDirection()&&(h.dir="rtl"));var g={key:a.key,editor:n,isFocused:o,isSelected:r,node:a,parent:s,readOnly:l},y=n.run("renderNode",Fe({},g,{attributes:h,children:p}));return n.query("isVoid",a)?ye.a.createElement(Kt,this.props,y):y}}]),t}(ye.a.Component);Yt.propTypes={block:be.block,decorations:Ce.a.list.isRequired,editor:_e.a.object.isRequired,isFocused:_e.a.bool.isRequired,isSelected:_e.a.bool.isRequired,node:be.node.isRequired,parent:be.node.isRequired,readOnly:_e.a.bool.isRequired};var Xt=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.props.node,i=a.key,s=a.type;Wt.apply(undefined,[t,i+" ("+s+")"].concat(r))},this.renderNode=function(t,n,r){var o=e.props,a=o.block,i=o.editor,s=o.node,l=o.readOnly,u=o.isFocused,c="text"===t.object?zt:Yt;return ye.a.createElement(c,{block:"block"===s.object?s:a,decorations:r,editor:i,isSelected:n,isFocused:u&&n,key:t.key,node:t,parent:s,readOnly:l})}};function Zt(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window,n=mt(e.key,t),r=0,o=Array.from(n.querySelectorAll("[data-slate-content], [data-slate-zero-width]")),a=!0,i=!1,s=undefined;try{for(var l,u=o[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,d=c.childNodes[0],f=d.textContent.length,p=f;c.hasAttribute("data-slate-length")&&(p=parseInt(c.getAttribute("data-slate-length"),10));var h=r+p;if(e.offset<=h)return{node:d,offset:Math.min(f,Math.max(0,e.offset-r))};r=h}}catch(dn){i=!0,s=dn}finally{try{!a&&u["return"]&&u["return"]()}finally{if(i)throw s}}return null}function Jt(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window,n=e.anchor,r=e.focus,o=e.isBackward,a=e.isCollapsed,i=Zt(n,t),s=a?i:Zt(r,t);if(!i||!s)return null;var l=t.document.createRange(),u=o?s:i,c=o?i:s;return l.setStart(u.node,u.offset),l.setEnd(c.node,c.offset),l}var Qt=["auto","overlay","scroll"],en=q&&!!window.navigator.userAgent.match(/os 11_/i);function tn(e){if(!en&&e.anchorNode){var t=o()(e.anchorNode),n=function(e,t){for(var n=e.parentNode,r=void 0;!r&&n.parentNode;){var o=t.getComputedStyle(n).overflowY;if(Qt.includes(o)){r=n;break}n=n.parentNode}return r||t.document.body}(e.anchorNode,t),r=n===t.document.body||n===t.document.documentElement,a=Pe()(e),i=e.getRangeAt(0).cloneRange();i.collapse(a);var s=i.getBoundingClientRect();U&&i.collapsed&&0===s.top&&0===s.height&&(0===i.startOffset?i.setEnd(i.endContainer,1):i.setStart(i.startContainer,i.startOffset-1),0===(s=i.getBoundingClientRect()).top&&0===s.height&&i.getClientRects().length&&(s=i.getClientRects()[0]));var l=void 0,u=void 0,c=void 0,d=void 0,f=0,p=0,h=0,g=0,y=0,m=0,_=0,v=0;if(r){l=t.innerWidth,u=t.innerHeight,c=t.pageYOffset,d=t.pageXOffset}else{var b=n.offsetWidth,w=n.offsetHeight,C=n.scrollTop,x=n.scrollLeft,S=t.getComputedStyle(n),P=S.borderTopWidth,k=S.borderBottomWidth,O=S.borderLeftWidth,E=S.borderRightWidth,T=S.paddingTop,M=S.paddingBottom,D=S.paddingLeft,A=S.paddingRight,j=n.getBoundingClientRect();l=b,u=w,f=j.top+parseInt(P,10),p=j.left+parseInt(O,10),h=parseInt(P,10)+parseInt(k,10),g=parseInt(O,10)+parseInt(E,10),y=parseInt(T,10),m=parseInt(M,10),_=parseInt(D,10),v=parseInt(A,10),c=C,d=x}var I=s.top+c-f,L=s.left+d-p,R=d,B=c;L<d?R=L-_:L+s.width+g>d+l&&(R=L+g+v-l),I<c?B=I-y:I+s.height+h>c+u&&(B=I+h+m+s.height-u),r?t.scrollTo(R,B):(n.scrollTop=B,n.scrollLeft=R)}}var nn=/Permission denied to access property "nodeType"/,rn=l()("slate:content");rn.update=l()("slate:update");var on=function(e){function t(){var e,n,r;Re(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=$e(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.tmp={isUpdatingSelection:!1,isComposing:!1},r.handlers=Le.reduce(function(e,t){return e[t]=function(e){return r.onEvent(t,e)},e},{}),r.updateSelection=function(){var e=r.props.editor.value.selection,t=e.isBackward,n=o()(r.element),a=n.getSelection(),i=n.document.activeElement;if(rn.enabled&&rn.update("updateSelection",{selection:e.toJSON()}),a){var s=a.rangeCount,l=a.anchorNode,u=!1;if(e.isBlurred&&i===r.element&&(r.element.blur(),u=!0),e.isUnset&&s&&r.isInEditor(l)&&(_t(a),u=!0),e.isFocused&&i!==r.element&&(r.element.focus({preventScroll:!0}),u=!0),e.isFocused&&e.isSet){var c=!!s&&a.getRangeAt(0),d=Jt(e,n);if(!d)return void Object(xe.a)(!1,"Unable to find a native DOM range from the current selection.");var f=d.startContainer,p=d.startOffset,h=d.endContainer,g=d.endOffset;if(c&&(f===c.startContainer&&p===c.startOffset&&h===c.endContainer&&g===c.endOffset||f===c.endContainer&&p===c.endOffset&&h===c.startContainer&&g===c.startOffset))return;u=!0,r.tmp.isUpdatingSelection=!0,_t(a),a.setBaseAndExtent?t?a.setBaseAndExtent(d.endContainer,d.endOffset,d.startContainer,d.startOffset):a.setBaseAndExtent(d.startContainer,d.startOffset,d.endContainer,d.endOffset):a.addRange(d),tn(a),setTimeout(function(){z&&r.element&&r.element.focus(),r.tmp.isUpdatingSelection=!1})}u&&rn.enabled&&(rn("updateSelection",{selection:e,native:a,activeElement:i}),rn.update("updateSelection-applied",{selection:e}))}},r.ref=function(e){r.element=e},r.isInEditor=function(e){var t=r.element,n=void 0;try{if(8===e.nodeType)return!1;n=3===e.nodeType?e.parentNode:e}catch(dn){if(z&&nn.test(dn.message))return!1;throw dn}return n.isContentEditable&&(n===t||n.closest("[data-slate-editor]")===t)},r.onNativeSelectionChange=Oe()(function(e){r.props.readOnly||o()(e.target).document.activeElement===r.element&&r.props.onEvent("onSelect",e)},100),r.renderNode=function(e,t,n){var o=r.props,a=o.editor,i=o.readOnly,s=a.value,l=s.document,u=s.selection.isFocused;return ye.a.createElement(Yt,{block:null,editor:a,decorations:n,isSelected:t,isFocused:u&&t,key:e.key,node:e,parent:l,readOnly:i})},$e(r,n)}return He(t,e),Be(t,[{key:"componentDidMount",value:function(){o()(this.element).document.addEventListener("selectionchange",this.onNativeSelectionChange),X&&this.element.addEventListener("beforeinput",this.handlers.onBeforeInput),this.updateSelection()}},{key:"componentWillUnmount",value:function(){var e=o()(this.element);e&&e.document.removeEventListener("selectionchange",this.onNativeSelectionChange),X&&this.element.removeEventListener("beforeinput",this.handlers.onBeforeInput)}},{key:"componentDidUpdate",value:function(){rn.update("componentDidUpdate"),this.updateSelection()}},{key:"onEvent",value:function(e,t){var n=this;if(rn("onEvent",e),"onCompositionStart"==e&&(this.tmp.isComposing=!0),"onCompositionEnd"==e&&window.requestAnimationFrame(function(){return n.tmp.isComposing=!1}),!this.tmp.isUpdatingSelection||"onSelect"!==e&&"onBlur"!==e&&"onFocus"!==e){if(!G&&"onSelect"===e&&!this.tmp.isComposing){var r=this.props.editor,a=r.value.selection,i=et(o()(t.target).getSelection(),r);if(i&&i.equals(a.toRange()))return void this.updateSelection()}if("onDragEnd"===e||"onDragEnter"===e||"onDragExit"===e||"onDragLeave"===e||"onDragOver"===e||"onDragStart"===e||"onDrop"===e)if(t.target.closest("[data-slate-editor]")!==this.element)return;("onBeforeInput"!==e&&"onBlur"!==e&&"onCompositionEnd"!==e&&"onCompositionStart"!==e&&"onCopy"!==e&&"onCut"!==e&&"onFocus"!==e&&"onInput"!==e&&"onKeyDown"!==e&&"onKeyUp"!==e&&"onPaste"!==e&&"onSelect"!==e||this.isInEditor(t.target))&&this.props.onEvent(e,t)}}},{key:"render",value:function(){var e=this,t=this.props,n=this.handlers,r=t.id,o=t.className,a=t.readOnly,i=t.editor,s=t.tabIndex,l=t.role,u=t.tagName,c=t.spellCheck,d=i.value,f=u,p=d.document,h=d.selection,g=d.decorations,y=p.getSelectionIndexes(h),m=p.getDecorations(i).concat(g),_=qt(p,m),v=p.nodes.toArray().map(function(t,n){var r=!!y&&y.start<=n&&n<y.end;return e.renderNode(t,r,_[n])}),b=Fe({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},a?{}:{WebkitUserModify:"read-write-plaintext-only"},t.style);return rn("render",{props:t}),rn.enabled&&rn.update("render",{text:d.document.text,selection:d.selection.toJSON(),value:d.toJSON()}),ye.a.createElement(f,Fe({},n,{"data-slate-editor":!0,ref:this.ref,"data-key":p.key,contentEditable:!a||null,suppressContentEditableWarning:!0,id:r,className:o,autoCorrect:t.autoCorrect?"on":"off",spellCheck:c,style:b,role:a?null:l||"textbox",tabIndex:s,"data-gramm":!1}),v)}}]),t}(ye.a.Component);on.propTypes={autoCorrect:_e.a.bool.isRequired,className:_e.a.string,editor:_e.a.object.isRequired,id:_e.a.string,readOnly:_e.a.bool.isRequired,role:_e.a.string,spellCheck:_e.a.bool.isRequired,style:_e.a.object,tabIndex:_e.a.number,tagName:_e.a.string},on.defaultProps={style:{},tagName:"div"};var an=[].concat(Ue(Le),["commands","decorateNode","queries","renderEditor","renderMark","renderNode","schema"]);function sn(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.placeholder,n=e.plugins,r=n===undefined?[]:n;var o=[],a=an.reduce(function(t,n){return n in e&&(t[n]=e[n]),t},{});return o.push(Bt({plugins:[a].concat(Ue(r))})),t&&o.push(Ae({placeholder:t,when:function(e,t){return"document"===t.object&&""===t.text&&1===t.nodes.size&&1===t.getTexts().size}})),o.push({decorateNode:function(e,t,n){return[]},renderEditor:function(e,t,n){return ye.a.createElement(on,{autoCorrect:e.autoCorrect,className:e.className,editor:t,id:e.id,onEvent:function(e,n){return t.run(e,n)},readOnly:e.readOnly,role:e.role,spellCheck:e.spellCheck,style:e.style,tabIndex:e.tabIndex,tagName:e.tagName})},renderNode:function(e,t,n){var r=e.attributes,o=e.children,a=e.node.object;if("block"!==a&&"inline"!==a)return null;var i="block"===a?"div":"span";return ye.a.createElement(i,Fe({},r,{style:{position:"relative"}}),o)}}),o}var ln=l()("slate:editor"),un=function(e){function t(){var e,n,r;Re(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=$e(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={value:r.props.defaultValue},r.tmp={mounted:!1,change:null,resolves:0,updates:0},r.resolveController=Ie(function(){Object(xe.a)(r.tmp.resolves<5||r.tmp.resolves!==r.tmp.updates,"A Slate <Editor> component is re-resolving the `plugins`, `schema`, `commands`, `queries` or `placeholder` prop on each update, which leads to poor performance. This is often due to passing in a new references for these props with each render by declaring them inline in your render function. Do not do this! Declare them outside your render function, or memoize them instead."),r.tmp.resolves++;var e=sn(Fe({},r.props,{value:r.props.value||r.state.value}));r.controller=new i.Editor({plugins:[e],onChange:function(e){r.tmp.mounted?r.handleChange(e):r.tmp.change=e}},{controller:r,construct:!1}),r.controller.run("onConstruct")}),$e(r,n)}return He(t,e),Be(t,[{key:"componentDidMount",value:function(){this.tmp.mounted=!0,this.tmp.updates++,this.props.autoFocus&&this.focus(),this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentDidUpdate",value:function(){this.tmp.updates++,this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentWillUnmount",value:function(){this.tmp.mounted=!1}},{key:"render",value:function(){ln("render",this);var e=Fe({},this.props,{editor:this}),t=e.commands,n=e.placeholder,r=e.plugins,o=e.queries,a=e.schema;this.resolveController(r,a,t,o,n);var i=e.options,s=e.readOnly,l=e.value,u=this.state.value,c=l||u;return this.controller.setReadOnly(s),this.controller.setValue(c,i),this.controller.run("renderEditor",Fe({},e,{value:c}))}},{key:"handleChange",value:function(e){var t=this.props.onChange;this.state.value&&this.setState({value:e.value}),t(e)}},{key:"applyOperation",value:function(){var e;return(e=this.controller).applyOperation.apply(e,arguments)}},{key:"command",value:function(){var e;return(e=this.controller).command.apply(e,arguments)}},{key:"hasCommand",value:function(){var e;return(e=this.controller).hasCommand.apply(e,arguments)}},{key:"hasQuery",value:function(){var e;return(e=this.controller).hasQuery.apply(e,arguments)}},{key:"normalize",value:function(){var e;return(e=this.controller).normalize.apply(e,arguments)}},{key:"query",value:function(){var e;return(e=this.controller).query.apply(e,arguments)}},{key:"registerCommand",value:function(){var e;return(e=this.controller).registerCommand.apply(e,arguments)}},{key:"registerQuery",value:function(){var e;return(e=this.controller).registerQuery.apply(e,arguments)}},{key:"run",value:function(){var e;return(e=this.controller).run.apply(e,arguments)}},{key:"withoutNormalizing",value:function(){var e;return(e=this.controller).withoutNormalizing.apply(e,arguments)}},{key:"call",value:function(){var e;return(e=this.controller).call.apply(e,arguments)}},{key:"change",value:function(){var e;return(e=this.controller).change.apply(e,arguments)}},{key:"onChange",value:function(){var e;return(e=this.controller).onChange.apply(e,arguments)}},{key:"applyOperations",value:function(){var e;return(e=this.controller).applyOperations.apply(e,arguments)}},{key:"setOperationFlag",value:function(){var e;return(e=this.controller).setOperationFlag.apply(e,arguments)}},{key:"getFlag",value:function(){var e;return(e=this.controller).getFlag.apply(e,arguments)}},{key:"unsetOperationFlag",value:function(){var e;return(e=this.controller).unsetOperationFlag.apply(e,arguments)}},{key:"withoutNormalization",value:function(){var e;return(e=this.controller).withoutNormalization.apply(e,arguments)}},{key:"operations",get:function(){return this.controller.operations}},{key:"readOnly",get:function(){return this.controller.readOnly}},{key:"value",get:function(){return this.controller.value}},{key:"editor",get:function(){return this.controller.editor}},{key:"schema",get:function(){Object(a.a)(!1,"As of Slate 0.42, the `editor.schema` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}},{key:"stack",get:function(){Object(a.a)(!1,"As of Slate 0.42, the `editor.stack` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}}]),t}(ye.a.Component);un.propTypes=Fe({autoCorrect:_e.a.bool,autoFocus:_e.a.bool,className:_e.a.string,defaultValue:be.value,id:_e.a.string,onChange:_e.a.func,options:_e.a.object,placeholder:_e.a.any,plugins:_e.a.array,readOnly:_e.a.bool,role:_e.a.string,schema:_e.a.object,spellCheck:_e.a.bool,style:_e.a.object,tabIndex:_e.a.number,value:be.value},Le.reduce(function(e,t){return e[t]=_e.a.func,e},{})),un.defaultProps={autoFocus:!1,autoCorrect:!0,onChange:function(){},options:{},placeholder:"",plugins:[],readOnly:!1,schema:{},spellCheck:!0};var cn={Editor:un,cloneFragment:Ct,findDOMNode:mt,findDOMRange:Jt,findNode:xt,findRange:et,getEventRange:St,getEventTransfer:Dt,setEventTransfer:It,ReactPlugin:sn};t["default"]=cn},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(29)),a=r(n(10)),i=r(n(67)),s=r(n(81)),l=r(n(34)),u=r(n(42)),c=r(n(214)),d=n(875),f=n(325),p=n(26),h=n(857),g=n(628),y=n(170);function m(){var e,t,n,r,s,u=p.findSelectElement()[0],m=u.remarkId,v=u.lineId,b=u.id,w={};if(m&&function(e){var t=e.remarkId;return!!o["default"].getPrdElementById(t)}({remarkId:m}))!function(e){var t=e.remarkId;f.deleteElementByIdArr({keyArr:[t],noEmit:!0})}({remarkId:m}),w.remarkId=null,i["default"].deleteLine(v);else{var C=function(){var e=p.findSelectElement()[0],t=e.id,n=e.x,r=(e.y,e.width),a=e.height,i=c["default"].width,s=_(t&&o["default"].getPrdElementById(t)),l=s.pageNoteList,u=s.contrNoteList,f=(0==l.length&&u.length,i-100-50-r-n),h=function(e){var t=e.pageElement,n=e.remarksX,r=(e.remarksW,t.x),o=t.y,a=t.width,i=t.height,s=c["default"].width,l=0,u=0,d=!1;s-100-50-r-a<100||window.isPc?(l=r,u=o+i+50,d=!0):(l=n,u=o);return{xPos:l,yPos:u,isBottom:d}}({pageElement:e,remarksX:r+n+50,remarksW:f}),g=h.xPos,y=h.yPos,m=h.isBottom;return d.createBaseElement({vals:{width:m?r:f,height:m?300:a,pageKey:t,x:g,y:y},type:"pageRemark"})}();h.createElementChangeHierarchy({newElement:C}),o["default"].createElement(C),w.remarkId=C.id;var x=(e=u,t=C,n=l["default"].getSelectStructKey(),r={id:y.generateUUID(),startKey:e.id,endKey:t.id,pageKey:e.id,lineType:1,isConnect:!0,structKey:n},s=g.getLineDefaultData(),$.extend(!0,s,r),i["default"].setLineLink(s),r.id);w.lineId=x,a["default"].createData({type:"createConnectLine",name:"PRD 创建页面和备注的关系连线",autoSaveType:"prd"})}o["default"].updateValById({id:b,updateVal:w}),a["default"].createData({type:"showRoHideRemarks",name:"PRD 显示/隐藏页面备注",autoSaveType:"prd"})}function _(e){var t=window.isPrototypeTool,n=e.pageKey,r=((t?s["default"].getNoteArr(n):u["default"].getPage(n).note)||[]).map(function(e){return{content:e.text}}),o=[],a=$((t?"#mainBox":".prd-content-text #page")+n+" .contr-note-box");if(a.length>0){var i=[];a.each(function(e,n){var r=n.getAttribute(t?"data-content":"data-note"),a=n.getAttribute("data-name"),s=n.getAttribute(t?"data-id":"data-key");-1==i.indexOf(s)&&(i.push(s),o.push({name:a,content:r}))})}return{pageNoteList:r,contrNoteList:o}}t.clickPageRemarks=m,t.getNodeList=_,t["default"]={clickPageRemarks:m,getNodeList:_}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(118),a=r(n(97)),i=n(26),s=n(848),l=n(451),u=r(n(67)),c=r(n(10)),d=window,f=d.Mousetrap,p=d.hotKey,h=p.command,g=p.comKey;t.textContextMenuConfig=[["文本编辑",function(e){var t=i.findSelectElement()[0].id,n=$('.element-cover[data-id="'+t+'"]')[0],r=$(n).prev()[0];$(n).dblclick(),setTimeout(function(){var t=$(r).find("pre>div")[0];$(t).focus(),$.rangeGoEnd(e,t)},1e3)},"双击"]],t.tableContextMenuConfig=[],t.imageContextMenuConfig=[["裁剪图片",l.clipImageFunc],["替换原图",o.changeImageFunc,"双击"],["下载原图",function(){}]],t.pageContextMenuConfig=[["替换页面",function(){s.triggerDblclick()},"双击"]],t.contrContextMenuConfig=[["替换组件 ",function(){s.triggerDblclick()},"双击"]],t.previewContextMenuConfig=[],t.pageflowContextMenuConfig=[["替换流程",function(){s.triggerDblclick()},"双击"]],t.projectViewContextMenuConfig=[],t.webViewContextMenuConfig=[["编辑链接",function(){s.triggerDblclick()},"双击"]],t.emptyContextMenuConfig=[["全选组件",function(){f.trigger(h+"+a")},g+"+A"],["粘贴",function(){$("body").trigger("paste")},g+"+V"]],t.multipleContextMenuConfig=[],t.lineContextMenuConfig=[["复制",function(){f.trigger(h+"+c")},g+"+C"],["粘贴",function(){f.trigger(h+"+v")},g+"+V"],["剪切",function(){f.trigger(h+"+x")},g+"+X"],["删除",function(){var e=u["default"].getPrdSelectArr()[0];u["default"].deleteLine(e)},"Delete"],["编辑文本",function(){var e=u["default"].getPrdSelectArr()[0];a["default"].commentBoxFocus(e,!0,.5)||c["default"].createData({type:"showOrHideCommentContentPrd",name:"PRD 右键显示/修改文本",autoSaveType:"prd"})},"双击"]],t["default"]={textContextMenuConfig:t.textContextMenuConfig,tableContextMenuConfig:t.tableContextMenuConfig,imageContextMenuConfig:t.imageContextMenuConfig,lineContextMenuConfig:t.lineContextMenuConfig,pageContextMenuConfig:t.pageContextMenuConfig,contrContextMenuConfig:t.contrContextMenuConfig,previewContextMenuConfig:t.previewContextMenuConfig,pageflowContextMenuConfig:t.pageflowContextMenuConfig,projectViewContextMenuConfig:t.projectViewContextMenuConfig,webViewContextMenuConfig:t.webViewContextMenuConfig,emptyContextMenuConfig:t.emptyContextMenuConfig,multipleContextMenuConfig:t.multipleContextMenuConfig}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27)),a=r(n(493)),i=r(n(23)),s=r(n(5)),l=n(166),u=r(n(131));function c(e){var t,n=e.canvasContr,r=e.hoverKey,a=e.canvasPage,i=(n=n[0]).getAttr("data-id");t=a.length?a[0].attrs.id:n.getAttr("data-pageid"),r!=i&&o["default"].setHoverKey({contrKey:i,pageKey:t})}function d(e){var t=window.mouseDownTarget,n=e.attrs.id,r=o["default"].getHoverKey(),a=r.pageKey,i=r.contrKey;if(t.name){var s=o["default"].getDragStart();""==a||s||o["default"].setHoverKey({pageKey:"",contrKey:""})}else(n!=a||n==a&&i)&&o["default"].setHoverKey({pageKey:n,contrKey:""})}function f(e){var t=e.target.attrs,n=t["data-eventkey"]&&-1!=t["data-eventkey"].indexOf("line");if(n){var r=s["default"].getView().zoom,c=i["default"].getStage().getStage(),d=t["data-id"],f=l.findLine(c,d),p=c.findOne("#canvasLayer"),h=o["default"].getSelectArr();if(f)if(!$("#hoverLine")[0]&&-1==h.indexOf(d)){var g=window.isPrototypeTool;$("body").append('<div id="hoverLine" style="pointer-events: none; position: absolute; top: '+(g?0:45)+'px;"></div>');var y=window.innerWidth,m=window.innerHeight,_=new u["default"].Stage({container:"hoverLine",width:y,height:m}),v=p.attrs,b=v.scaleX,w=v.scaleY,C=v.x,x=v.y,S=new u["default"].Layer({name:"set-hoverLine",scaleX:b,scaleY:w,x:C,y:x,listening:!1}),P=f.clone();P.findOne(".show-line").setAttr("strokeWidth",2/r),P.setAttr("listening",!1),S.add(P),_.add(S),a["default"].setCreateLayer({layer:S,stage:_})}}return n}t.getHoverContrKey=c,t.getHoverPageKey=d,t.getHoverLineKey=f,t["default"]={getHoverContrKey:c,getHoverPageKey:d,getHoverLineKey:f}},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(488));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={setPreviewData:function(){o["default"].dispatch({actionType:a["default"].PREVIEW_SETPREVIEWDATA})},move:function(e,t,n){o["default"].dispatch({actionType:a["default"].PREVIEW_MOVE,time:e,contrId:t,unitW:n})},stop:function(e){o["default"].dispatch({actionType:a["default"].PREVIEW_STOP,reverse:e})},pause:function(){o["default"].dispatch({actionType:a["default"].PREVIEW_PAUSE})},play:function(){o["default"].dispatch({actionType:a["default"].PREVIEW_PLAY})},exit:function(){o["default"].dispatch({actionType:a["default"].PREVIEW_EXIT})},preview:function(e){o["default"].dispatch({actionType:a["default"].PREVIEW_PREVIEW,unitW:e})},setUnitW:function(e){o["default"].dispatch({actionType:a["default"].PREVIEW_SETUNITW,unitW:e})},restart:function(){o["default"].dispatch({actionType:a["default"].PREVIEW_RESTART})},previewGroup:function(e){o["default"].dispatch({actionType:a["default"].PREVIEW_PREVIEWGROUP,animId:e})},previewEvent:function(e){o["default"].dispatch({actionType:a["default"].PREVIEW_PREVIEWEVENT,eventId:e})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"PreviewActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PreviewActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/PreviewActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=v(n(440)),a=v(n(6)),i=v(n(51)),s=v(n(10)),l=v(n(24)),u=v(n(268)),c=v(n(32)),d=v(n(89)),f=v(n(253)),p=v(n(60)),h=n(150),g=v(n(414)),y=n(88),m=n(256),_=n(63);function v(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var b,w,C=["tl","tm","tr","ml","mr","bl","bm","br"],x={angleMouseDown:function(e){var t=e.target.parentNode.parentNode,n=a["default"].getFirstSelectContr(),r=a["default"].getAllValsContr({contrKey:n}),i=[0,90,180,270,360],l=$.getContrOriPosi(r),u=(0,m.getParentRotateVals)(!1,!0),c=r.rotate,p=!1,g=$.offset(window.document.querySelector("#"+$.getContrId(n)+" .rotateBox"),!0),y=o["default"].translate(r.left,r.top).rotate($.rotateToAngle(c),[r.width/2,r.height/2]),_=[r.left-y[4],r.top-y[5]],v=[g.left+g.width/2+_[0],g.top+g.height/2+_[1]];function b(e){var t=e.clientX+_[0],n=e.clientY+_[1],r=(0,h.getAngle)(t,n,v[0],v[1]);return((r-90<0?r+270:r-90)-u.rotate+360)%360}"text"==r.type&&r.isEdit&&$.getElById("boxLabel").click(),$.setDrag({name:"angleSpotDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){p=!0;var n=b(e);i.some(function(e){return Math.abs(n-e)<5&&(n=e%360,!0)});var r=$.rotateToAngle(c),a=o["default"].translate(l.left,l.top).rotate(r,[l.width/2,l.height/2]),s=$.rotateToAngle(n),u=o["default"].translate(l.left,l.top).rotate(s,[l.width/2,l.height/2]),h={rotate:n,left:l.left+u[4]-a[4],top:l.top+u[5]-a[5]};d["default"].contrUpdate(t.getAttribute("data-id"),h),f["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"角度: "+Math.round(n)+" ℃"})},endFunc:function(e){var n=b(e),r=a["default"].getContrName(t.getAttribute("data-id"));f["default"].show(!1),p&&n!=c&&s["default"].createData({type:"angleSpot",name:"["+r+"] 旋转",handleObjType:t.getAttribute("data-type"),autoSaveType:"pageContrs"})}}),e.stopPropagation()},radiusMouseDown:function(e){var t=[e.clientX,e.clientY],n=$.extend(!0,{},a["default"].getAllValsContr({contrKey:a["default"].getFirstSelectContr(),notCopy:!0})),r=n.isMaxRadius,o=$.isArray(n.radius)?n.radius[3]:n.radius,l=$.rotateToAngle(n.rotate),u=(0,m.getParentRotateVals)(!0,!0),c=$.rotateToAngle(u.rotate),p=void 0,h=void 0,g=i["default"].getZoom()/100;$.setDrag({name:"radiusSpotDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var o=Math.ceil(n.width/2),a=void 0,i=[(e.clientX-t[0])/g,(e.clientY-t[1])/g];i=$.angleChangeArrVals(i,c),i=$.angleChangeArrVals(i,l),a=(r?o:Math.min(n.width/2,$.isArray(n.radius)?n.radius[3]:n.radius))+i[0],(a=Math.min(Math.max(a,0),o))!=p&&(p=a,h=o==a,d["default"].contrUpdate($.getContrId(n),{radius:a,isMaxRadius:h})),f["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:h?"最大圆角":"圆角: "+Math.round(p)})},endFunc:function(){f["default"].show(!1),$.isUndefined(p)||r==h&&o==p||s["default"].createData({type:"radiusSpot",name:"["+n.name+"] 改变圆角",handleObjType:n.type,autoSaveType:"pageContrs"})}}),e.stopPropagation()},eightSpotMouseDown:function(e,t,n){var r=t&&$.isString(t)?t:$.getParentAttr(e.currentTarget.parentNode,"data-id"),o=n&&$.isString(n)?n:e.currentTarget.getAttribute("data-type"),h=i["default"].getZoom()/100,v=l["default"].getIsWrapEdit(),b=c["default"].getSymbolMaskShow(),w=[[0,0,1,1,-1,-1,1],[.5,0,0,1,-1,-1,1],[0,0,0,1,1,-1,-1],[0,.5,1,0,-1,-1,1],[0,.5,0,0,1,-1,-1],[0,0,1,0,-1,1,-1],[.5,0,0,0,-1,1,-1],[0,0,0,0,1,1,1]][C.indexOf(o)],x=[e.clientX,e.clientY],S=1,P=1,k=a["default"].getSelect(),O=k.length>1,E=void 0,T=void 0,M=[],D=l["default"].getMergeBoxIn(),A=!1,j=(0,m.getParentRotateVals)(!0,!0),I=$.rotateToAngle(j.rotate),L=0,R=1,B=void 0,N=void 0,F=void 0,H=void 0,z=void 0,U=void 0,V=void 0,K=void 0,G=void 0,q=void 0,W=void 0,Y=void 0,X=void 0,Z=void 0,J=!1,Q={};if(O?(F={},z=a["default"].getSelectContr(),B=H=$.getSeveralElPosition(z,F),G="null"!=z[0].mergeName&&z[0].mergeName):(U=v?a["default"].getContrByAll(r):a["default"].getContr(r),U=a["default"].getAllValsContr({contrKey:U}),B={left:U.left,top:U.top,width:U.width,height:U.height},N=[U.left,U.top],L=$.rotateToAngle(U.rotate),"text"==U.type&&U.isEdit&&$.getElById("boxLabel").click(),G="null"!=U.mergeName&&U.mergeName,(J=$.isSymbolContr(U))&&(B.width*=U.scale/10,B.height*=U.scale/10)),G&&(V=a["default"].getAllValsContr({contrKey:G}),K="0"==V.rotate?V:$.getRotateBoxPosi(!1,V),q=V.independWH)){for(var ee in W=[],V.contrs)W.push(V.contrs[ee]);Y=$.getPosiByContrs(W),X=$.getMaxPosi(Y)}if(v&&(E=l["default"].getThisContr(),T=r==$.getContrId(E)),A=O?H.width/H.height:U.width/U.height,J||(w[0]=0,w[1]=0,"tm"==o||"bm"==o?w[4]=0:"ml"!=o&&"mr"!=o||(w[5]=0)),D)M=l["default"].getContrsArr();else if(T){var te=void 0,ne=void 0,re=l["default"].getContrList();if(E.mergeName){var oe=re[re.length-2];for(te in K=[0,0],re.forEach(function(e,t){t===re.length-2&&M.push({type:oe.type,id:oe.id,left:oe.left+K[0],top:oe.top+K[1],width:oe.width,height:oe.height}),t!==re.length-1&&(K[0]+=e.left,K[1]+=e.top)}),oe.contrs)ne=oe.contrs[te],M.push({type:ne.type,id:ne.id,left:ne.left+K[0],top:ne.top+K[1],width:ne.width,height:ne.height})}else M=(0,_.getActiveInterface)();for(te in K=[0,0],re.forEach(function(e){K[0]+=e.left,K[1]+=e.top}),E.contrs)ne=E.contrs[te],M.push({type:ne.type,id:ne.id,left:ne.left+K[0],top:ne.top+K[1],width:ne.width,height:ne.height})}else M=b&&!D?(0,y.getThisSymbolChildContr)(!0):v?p["default"].getInterfaceContr(r):(0,_.getActiveInterface)();if(M=O?M.filter(function(e){return-1==k.indexOf($.getContrId(e))}):M.filter(function(e){return $.getContrId(e)!=r}),b&&!D){var ae=c["default"].getSymbolMaskContr();M.push({type:"symbolBox",id:ae.id,left:0,top:0,width:ae.width,height:ae.height})}else D&&v||$.addMainbox(M);if(J&&(A=U.width/U.height),M=q?[]:M,u["default"].initDragOption({contrs:M,dragPointKey:o,isWrapBox:T,minWHarr:[S,P]}),!O&&v&&T)for(var ie in Z=l["default"].getThisContr().contrs){var se=a["default"].getContrByAll(ie);se=a["default"].getAllValsContr({contrKey:se}),Q[ie]=se}if(U&&"table"==U.type){var le=U,ue=le.linePosi,ce=le.columnPosi,de=$.tableMinVal();S=ce.length*de,P=ue.length*de}$.setDrag({name:"eightSpotDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=void 0,n=void 0,i=[0,0],s=void 0,l=[(e.clientX-x[0])/h,(e.clientY-x[1])/h],u=O||U&&("wrapbox"==U.type&&!T||U.WHrelation)||e.shiftKey?A:undefined;if(u&&(A>1?S=A*P:P=S/A),l=$.angleChangeArrVals(l,I),l=$.angleChangeArrVals(l,L),B.width+w[4]*l[0]<=S&&(l[0]=(S-B.width)/w[4]),B.height+w[5]*l[1]<=P&&(l[1]=(P-B.height)/w[5]),u&&$.dragPosiChange(l,o,[B.width,B.height],u),t=$.getRotateDragChangePosi(B,l,L,C.indexOf(o),u),O)t.rotate=0;else if(t.rotate=U.rotate,"0"!=L){var c={left:U.left,top:U.top,width:U.width,height:U.height,type:U.type,rotate:U.rotate};$.extend(!0,c,t),(s=$.getRotateBoxPosi(!1,c)).rotate=c.rotate}if(n=p["default"]._redLine("0"!=L?s:t),"0"!=L&&(n[0]||n[1])){var y=$.angleChangeArrVals(n,L);u&&(y=$.proportionChangeLinePosi(u,y,w[6])),t=$.getRotateDragChangePosi(t,y,L,C.indexOf(o),u)}else"0"==L&&(n[0]||n[1])&&(u&&(n=$.proportionChangeLinePosi(u,n,w[6])),t.left+=w[2]*n[0]+w[0]*n[0],t.top+=w[3]*n[1]+w[1]*n[1],t.width+=w[4]*n[0],t.height+=w[5]*n[1]);if(!O&&v){if(T){var m=$.angleChangeArrVals([N[0]-t.left,N[1]-t.top],L);if(0!=m[0]||0!=m[1])for(var _ in Z){var b=Q[_];b.left+=m[0],b.top+=m[1],a["default"].contrUpdate(_,{left:b.left,top:b.top},!1,!0)}}N=[t.left,t.top]}if(O){var k={left:t.left-B.left,top:t.top-B.top,width:t.width-B.width,height:t.height-B.height};if(R=k.width/B.width,q){for(var E in F){var M=F[E];Y[E]=[M[0]+(M[0]-B.left)*R+k.left,M[1]+(M[1]-B.top)*R+k.top,M[2]+k.width*(M[2]/B.width),M[3]+k.height*(M[3]/B.height)]}var D=$.getMaxPosi(Y);for(var j in i=[X.left-D.left,X.top-D.top],g["default"].contrPosi({key:$.getContrId(V),width:D.width,height:D.height,left:K.left-i[0],top:K.top-i[1]},!0),Y){var H=Y[j];g["default"].contrPosi({key:j,left:H[0]+i[0],top:H[1]+i[1],width:H[2],height:H[3]},!0)}}else for(var z in F){var G=F[z];G[4]?a["default"].contrUpdate(z,{left:G[0]+(G[0]-B.left)*R+k.left,top:G[1]+(G[1]-B.top)*R+k.top,scale:G[4]*(G[2]+k.width*(G[2]/B.width))/G[2]},!1,!0):g["default"].contrPosi({key:z,left:G[0]+(G[0]-B.left)*R+k.left,top:G[1]+(G[1]-B.top)*R+k.top,width:G[2]+k.width*(G[2]/B.width),height:G[3]+k.height*(G[3]/B.height)},!0)}a["default"].emitChange()}else{if(q){Y[r]=[t.left,t.top,t.width,t.height];var W=$.getMaxPosi(Y);for(var ee in i=[X.left-W.left,X.top-W.top],g["default"].contrPosi({key:$.getContrId(V),width:W.width,height:W.height,left:K.left-i[0],top:K.top-i[1]},!0),Y){var te=Y[ee];g["default"].contrPosi({key:ee,left:te[0]+i[0],top:te[1]+i[1],width:te[2],height:te[3]},!0)}}else if(J)d["default"].contrUpdate(r,{left:t.left,top:t.top,scale:10*t.width/U.width});else{var ne={key:r,left:t.left,top:t.top,width:t.width,height:t.height};g["default"].contrPosi(ne,!0)}a["default"].emitChange()}f["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"w:"+Math.round(t.width)+" h:"+Math.round(t.height)})},endFunc:function(){var e=a["default"].getContrByAll(r);u["default"].init(),f["default"].show(!1),O?1!=R&&s["default"].createData({type:"eightDragSpot",name:"[多元素] 位置宽高改变",handleObjType:"mutiContr",autoSaveType:"pageContrs"}):[e.left,e.top,e.width,e.height].some(function(e,t){return B[["left","top","width","height"][t]]!==e})&&s["default"].createData({type:"eightDragSpot",name:"["+e.name+"] 位置宽高改变",handleObjType:e.type,autoSaveType:"pageContrs"})}}),e.stopPropagation(),e.preventDefault()}},S=x;t["default"]=S,(b=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(b.register(C,"DRAG_CLASS","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/EightDragSpotEvent.js"),b.register(5,"AdsorbentSize","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/EightDragSpotEvent.js"),b.register(x,"EightDragSpotEvent","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/EightDragSpotEvent.js"),b.register(S,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/middle/EightDragSpotEvent.js")),(w=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&w(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=u(n(3)),f=n(28),p=u(n(1255)),h=u(n(1316)),g=u(n(1317)),y=u(n(1325)),m=u(n(5)),_=u(n(42)),v=u(n(146)),b=n(332),w=n(63),C=n(597),x=n(303),S=n(1333),P=u(n(36)),k=n(98),O=window,E=O.$,T=O.isPrototypeTool;var M=function(e){function t(t){var n=e.call(this,t)||this;return n.groupDom=null,n.contrsDom=null,n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){var t=m["default"].isMultiView();return T&&t||!t&&e.active||!T||!!window.renderActivePage},t.prototype.componentDidMount=function(){this.fixFixedViewPos()},t.prototype.componentDidUpdate=function(){this.fixFixedViewPos()},t.prototype.fixFixedViewPos=function(){var e=this;setTimeout(function(){var t=e.props.page.id;if(m["default"].isFixedView()&&e.groupDom){var n=E.query("#"+t);if(n){var r=b.getCanvasPos().canvasZoom,o=E.query("#phoneConBox"),a=E.offset(n),i=E.offset(o);e.groupDom.getAttr("x")==(a.left-i.left)/r&&e.groupDom.getAttr("y")==(a.top-i.top)/r||e.setState({})}}},0)},t.prototype.render=function(){var e=this,t=e.props,n=t.pageStyle,r=n.width,o=n.height,i=n.backgroundColor,s=t.page,l=s.id,u=s.key,d=s.events,O=s.name,M=s.isSelect,D=s.pageHeight,A=t.active,j=t.contrs,I=t.isPreview,L=t.pageIdx,R=t.isShow,B=void 0===R||R,N=t.isPageFlowHide,F=void 0!==N&&N,H=window[T?"phoneSize":"phoneBaseSize"],$=H.width,z=H.height,U=!(!T||!m["default"].isMultiFree())&&m["default"].getIsShowLongPage();o=U&&D||o;var V=A&&"color-picker"==v["default"].getCursor()||window.temporarySet.downloadActivePage||U,K=window.ss,G=_["default"].getSelectPage(),q=T?"multi-view"===m["default"].getViewMode():_["default"].isMultiView(),W=x.getPagePos(u),Y={x:W.left+1,y:W.top+1,width:r,height:o},X={};(T&&m["default"].isFixedView()||!T&&_["default"].isMultiFixedView())&&function(e){var t=e.posVals,n=e.id,r=E.query("#"+n);if(r){var o=b.getCanvasPos().canvasZoom,a=E.query("#phoneConBox"),i=E.offset(r),s=E.offset(a);t.x=(i.left-s.left)/o,t.y=(i.top-s.top)/o}}({posVals:Y,id:l});var Z=function(e){var t,n=e.events;if(n&&!E.isEmptyObj(n))for(var r in n){var o=n[r].actions;o&&o.length&&o.some(function(e){var n=e.type,r=e.page;return!("page"!=n||-1==r||!E.isUndefined(t)||(t=r,0))})}if(!E.isUndefined(t)){var a=m["default"].getPages();for(var i in a){var s=a[i],l=s.id;(r=s.key)==t&&(t=l)}}return t}({events:d});A&&"color-picker"==v["default"].getCursor()&&(X.zIndex=1e5);var J=m["default"].getPageIndexKey()==k.getPageIdByKey(l);!V&&q&&(o=Math.max(z,o));var Q=T?m["default"].getZoom():_["default"].getMultiZoom(),ee=q&&M||G==l&&!T,te={};return window.isPc||"color-picker"==v["default"].getCursor()||window.temporarySet.downloadActivePage||(te=P["default"].setPageArcRectClip(Math.min($,r),V||!T?Math.max(z,o):z,4)),c["default"].createElement(f.Group,a({id:l,name:"page"+(M?" selectPage":"")+(Z?" eventPage":""),key:l,"data-eventkey":"page","data-isCoverPage":J,"data-key":l,"data-name":O,"data-isShow":B,"data-targetPage":Z,"data-isPageFlowHide":F,ref:function(t){return e.groupDom=t},visible:!F,listening:!F},Y,X,q?C.hoverPageEvent():{},I?{scale:{x:K,y:K}}:{},F?{}:S.getInactivePageCanvasEvent()),ee&&B?c["default"].createElement(f.Shape,a({},P["default"].setPageBorderLine(r,o,4,3/Q,"#cb4242"),{name:"copy-remove",listening:!1})):undefined,q&&B?c["default"].createElement(h["default"],{pageId:l,pageIdx:L,style:Y}):undefined,G==l&&B?c["default"].createElement(g["default"],null):undefined,B?c["default"].createElement(f.Rect,{name:"page-background",width:r,height:V&&q||!T?Math.max(z,o):o,fill:i}):undefined,B?c["default"].createElement(f.Group,a({},te),c["default"].createElement(f.Group,{id:l+"-contrs"+(A?"-active":""),name:"contrs"+(A?" active-contrs":""),"data-active":A,ref:function(t){return e.contrsDom=t}},c["default"].createElement(p["default"],a({contrs:j||w.getPageByHierarchy(e.props.pageKey),active:A},e.props)))):undefined,J&&B?c["default"].createElement(y["default"],null):undefined)},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"fixFixedViewPos",null),t}(c.Component);t["default"]=M},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),o={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},a={add:"+","break":"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt","return":"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,"delete":46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)i["f"+s]=111+s;function l(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(e){return u(e,t)}),o=function(e){return r.some(function(t){return c(t,e)})};return null==n?o:o(n)}function u(e,t){var n=t&&t.byKey,r={},a=(e=e.replace("++","+add")).split("+"),i=a.length;for(var s in o)r[o[s]]=!1;var l=!0,u=!1,c=undefined;try{for(var p,h=a[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var g=p.value,y=g.endsWith("?");y&&(g=g.slice(0,-1));var m=f(g),_=o[m];1!==i&&_||(n?r.key=m:r.which=d(g)),_&&(r[_]=!y||null)}}catch(v){u=!0,c=v}finally{try{!l&&h["return"]&&h["return"]()}finally{if(u)throw c}}return r}function c(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}function d(e){return e=f(e),i[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=a[e]||e}t["default"]=l,t.isHotkey=l,t.isCodeHotkey=function(e,t){return l(e,t)},t.isKeyHotkey=function(e,t){return l(e,{byKey:!0},t)},t.parseHotkey=u,t.compareHotkey=c,t.toKeyCode=d,t.toKeyName=f},,,,function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(1190),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(59))},function(e,t,n){e.exports=n(1185)},function(e,t,n){"use strict";(function(t,r){var o=n(838);e.exports=v;var a,i=n(1186);v.ReadableState=_;n(69).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(916),u=n(839).Buffer,c=t.Uint8Array||function(){};var d=n(591);d.inherits=n(462);var f=n(1187),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var h,g=n(1188),y=n(917);d.inherits(v,l);var m=["error","close","destroy","pause","resume"];function _(e,t){e=e||{};var r=t instanceof(a=a||n(420));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,i=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(i||0===i)?i:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=n(918).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function v(e){if(a=a||n(420),!(this instanceof v))return new v(e);this._readableState=new _(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function b(e,t,n,r,o){var a,i=e._readableState;null===t?(i.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,i)):(o||(a=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof c||"string"==typeof t||t===undefined||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(i,t)),a?e.emit("error",a):i.objectMode||t&&t.length>0?("string"==typeof t||i.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?i.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,i,t,!0):i.ended?e.emit("error",new Error("stream.push() after EOF")):(i.reading=!1,i.decoder&&!n?(t=i.decoder.write(t),i.objectMode||0!==t.length?w(e,i,t,!1):k(e,i)):w(e,i,t,!1))):r||(i.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(i)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),k(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=y.destroy,v.prototype._undestroy=y.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},v.prototype.unshift=function(e){return b(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return h||(h=n(918).StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=e,this};var C=8388608;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(P,e):P(e))}function P(e){p("emit readable"),e.emit("readable"),M(e)}function k(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(O,e,t))}function O(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function E(e){p("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,o=n.data;e-=o.length;for(;n=n.next;){var a=n.data,i=e>a.length?a.length:e;if(i===a.length?o+=a:o+=a.slice(0,e),0===(e-=i)){i===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(i));break}++r}return t.length-=r,o}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,o=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var a=r.data,i=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,i),0===(e-=i)){i===a.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(i));break}++o}return t.length-=o,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(j,t,e))}function j(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):S(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&A(this),null;var r,o=t.needReadable;return p("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",o=!0),t.ended||t.reading?p("reading or ended",o=!1):o&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),null===(r=e>0?D(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&A(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,p("pipe count=%d opts=%j",a.pipesCount,t);var l=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:v;function u(t,r){p("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),e.removeListener("close",m),e.removeListener("finish",_),e.removeListener("drain",d),e.removeListener("error",y),e.removeListener("unpipe",u),n.removeListener("end",c),n.removeListener("end",v),n.removeListener("data",g),f=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){p("onend"),e.end()}a.endEmitted?o.nextTick(l):n.once("end",l),e.on("unpipe",u);var d=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",d);var f=!1;var h=!1;function g(t){p("ondata"),h=!1,!1!==e.write(t)||h||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==I(a.pipes,e))&&!f&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function y(t){p("onerror",t),v(),e.removeListener("error",y),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",_),v()}function _(){p("onfinish"),e.removeListener("close",m),v()}function v(){p("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",y),e.once("close",m),e.once("finish",_),e.emit("pipe",n),a.flowing||(p("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<o;a++)r[a].emit("unpipe",this,n);return this}var i=I(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},v.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):o.nextTick(E,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(T,e,t))}(this,e)),this},v.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){(p("wrapped data"),n.decoder&&(o=n.decoder.write(o)),!n.objectMode||null!==o&&o!==undefined)&&((n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause())))}),e)this[o]===undefined&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<m.length;a++)e.on(m[a],this.emit.bind(this,m[a]));return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=D}).call(this,n(59),n(58))},function(e,t,n){e.exports=n(69).EventEmitter},function(e,t,n){"use strict";var r=n(838);function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return a||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(839).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=d,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return n!==undefined?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if((t=this.fillLast(e))===undefined)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=i(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=i(t[r]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=i(t[r]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=i;var r=n(420),o=n(591);function a(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);r.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){l(e,t,n)}):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=n(462),o.inherits(i,r),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";var r=n(140),o=n(344),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,o,i,s,l,u,c=[],d=0,f=e.length,p=f,h="string"!==r.getTypeOf(e);d<e.length;)p=f-d,h?(t=e[d++],n=d<f?e[d++]:0,o=d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,o=d<f?e.charCodeAt(d++):0),i=t>>2,s=(3&t)<<4|n>>4,l=p>1?(15&n)<<2|o>>6:64,u=p>2?63&o:64,c.push(a.charAt(i)+a.charAt(s)+a.charAt(l)+a.charAt(u));return c.join("")},t.decode=function(e){var t,n,r,i,s,l,u=0,c=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&f--,e.charAt(e.length-2)===a.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=o.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)t=a.indexOf(e.charAt(u++))<<2|(i=a.indexOf(e.charAt(u++)))>>4,n=(15&i)<<4|(s=a.indexOf(e.charAt(u++)))>>2,r=(3&s)<<6|(l=a.indexOf(e.charAt(u++))),d[c++]=t,64!==s&&(d[c++]=n),64!==l&&(d[c++]=r);return d}},function(e,t,n){"use strict";(function(t){var r=n(140),o=n(1200),a=n(263),i=n(920),s=n(344),l=n(592),u=null;if(s.nodestream)try{u=n(1201)}catch(f){}function c(e,n){return new l.Promise(function(o,a){var s=[],l=e._internalType,u=e._outputType,c=e._mimeType;e.on("data",function(e,t){s.push(e),n&&n(t)}).on("error",function(e){s=[],a(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return i.encode(t);default:return r.transformTo(e,t)}}(u,function(e,n){var r,o=0,a=null,i=0;for(r=0;r<n.length;r++)i+=n[r].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(a=new Uint8Array(i),r=0;r<n.length;r++)a.set(n[r],o),o+=n[r].length;return a;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,s),c);o(e)}catch(f){a(f)}s=[]}).resume()})}function d(e,t,n){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=t,this._mimeType=n,r.checkSupport(i),this._worker=e.pipe(new o(i)),e.lock()}catch(f){this._worker=new a("error"),this._worker.error(f)}}d.prototype={accumulate:function(e){return c(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){r.delay(t,arguments,n)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=d}).call(this,n(62).Buffer)},function(e,t,n){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,n){"use strict";var r=n(140),o=n(263);function a(e){o.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=a},function(e,t,n){"use strict";var r=n(140),o=n(263);function a(e){o.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(a,o),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}o.prototype.processChunk.call(this,e)},e.exports=a},function(e,t,n){"use strict";var r=n(263),o=n(873);function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(140).inherits(a,r),a.prototype.processChunk=function(e){this.streamInfo.crc32=o(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=a},function(e,t,n){"use strict";var r=n(263);t.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=n(1204)},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var o=65535&e|0,a=e>>>16&65535|0,i=0;0!==n;){n-=i=n>2e3?2e3:n;do{a=a+(o=o+t[r++]|0)|0}while(--i);o%=65521,a%=65521}return o|a<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,o){var a=r,i=o+n;e^=-1;for(var s=o;s<i;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var r=n(345),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(u){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){a=!1}for(var i=new r.Buf8(256),s=0;s<256;s++)i[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}i[254]=i[254]=1,t.string2buf=function(e){var t,n,o,a,i,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(o=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(o-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),i=0,a=0;i<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(o=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(o-56320),a++),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,o,a,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((o=e[n++])<128)u[r++]=o;else if((a=i[o])>4)u[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<s;)o=o<<6|63&e[n++],a--;a>1?u[r++]=65533:o<65536?u[r++]=o:(o-=65536,u[r++]=55296|o>>10&1023,u[r++]=56320|1023&o)}return l(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+i[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,n){"use strict";var r=n(140),o=n(344),a=n(934),i=n(1218),s=n(1219),l=n(936);e.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||o.uint8array?"nodebuffer"===t?new s(e):o.uint8array?new l(r.transformTo("uint8array",e)):new a(r.transformTo("array",e)):new i(e)}},function(e,t,n){"use strict";var r=n(935);function o(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n(140).inherits(o,r),o.prototype.byteAt=function(e){return this.data[this.zero+e]},o.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===o)return a-this.zero;return-1},o.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&r===a[2]&&o===a[3]},o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},function(e,t,n){"use strict";var r=n(140);function o(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=o},function(e,t,n){"use strict";var r=n(934);function o(e){r.call(this,e)}n(140).inherits(o,r),o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=u(n(5)),a=u(n(1023)),i=u(n(6)),s=u(n(12)),l=n(1227);function u(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var c,d,f={editProject:function(){a["default"].init({type:"project"}),(0,l.inEditView)()},editPage:function(){a["default"].init({type:"page"}),(0,l.inEditView)()},editContr:function(){"hotspot"===i["default"].getFirstSelectContr().type?s["default"].show("热区不能被单独导出代码"):(a["default"].init({type:"contr"}),(0,l.inEditView)())},outView:function(){a["default"].exit(),o["default"].switchToPrevMode()}},p=f;t["default"]=p,(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(c.register(f,"ToEditor","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/ToEditor.js"),c.register(p,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/ToEditor.js")),(d=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&d(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(10)),i=r(n(5)),s=r(n(119)),l=r(n(24)),u=r(n(32)),c=r(n(89)),d=r(n(12)),f=r(n(132)),p=r(n(19)),h=n(85),g=n(148),y=n(87),m=n(213),_=n(973),v=n(46),b=n(836),w=n(266);function C(e){if(!w.getCanvasAnim()[0]){if("multi-view"!=i["default"].getViewMode())$(".plugIn-panel .panel-close-btn").click(),s["default"].getCutImageShow()?$.query("#boxLabel").click():(l["default"].getMergeBoxShow()&&(l["default"].wrapBoxEditOut(),l["default"].emitChange()),m.cacheActiveCanvasPage(function(){_.toMutiviewAnimFunc({callback:function(){c["default"].selectChange([]),y.pageEmitChange()},isMutil:!1}),f["default"].zoomOut(),a["default"].createData({type:"changeToMultiView",name:"[多视图] 切换为多视图",handleObjType:"viewChange",autoSaveType:"none"}),setTimeout(function(){$.addAttention("multiViewExit")},500)}));else if(h.getStructPagesLength()>0){var t=i["default"].isMultiFree()&&v.getPageFlow(),n=!1;if(t){var r=t.pageVal;0==$.objLength(r)&&(n=!0)}if(n)p["default"].init({width:640,title:"回到「总流程」",cancelBtnName:"取消",submitBtnName:"确定",content:o["default"].createElement("div",{className:"popup-content"},o["default"].createElement("span",null,"当前流程页面为0,将切换至「总流程」进行编辑。")),submitBtnFunc:function(){b.selectPageFlow({id:"all"}),p["default"].hide()}});else{var u=g.backOutPageIndex();g.choosePageAction(u),a["default"].createData({type:"backOutMultiView",name:"返回切换页面",handleObjType:"viewChange"})}}else d["default"].show("页面数为0，无法返回");$.tipHide(),e&&(e.stopPropagation(),e.preventDefault())}}function x(e){var t=e.currentTarget.getAttribute("data-key");u["default"].exitAndSaveByKey(t),$.tipHide(),e.stopPropagation(),e.preventDefault()}t.toMutiviewClick=C,t.exitSymbol=x,t["default"]={toMutiviewClick:C,exitSymbol:x}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27)),a=n(46),i=n(98);function s(e){var t=e.pageIdArr,n=e.pageId;return-1!=t.indexOf(n+"")}function l(e){var t=e.pageIdArr,n=e.pageFlowId,r=void 0===n?undefined:n;if($.isUndefined(r)){var l=a.getPageFlow();r=l&&l.id}var u=o["default"].getLinkLineByPageFlowId({pageFlowId:r,isArr:!0})||[],c=[];return u.forEach(function(e){var n=e.pageKey,r=e.endKey,o=i.getPageIdByKey(n),a=i.getPageIdByKey(r);s({pageIdArr:t,pageId:o})&&s({pageIdArr:t,pageId:a})&&c.push(e)}),c}t.getLineByPageKeyArr=l,t["default"]={getLineByPageKeyArr:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(40)),a=n(77),i=n(208),s=window.$;function l(e){void 0===e&&(e=!1);for(var t=a.getTableSelectCell(),n=a.getTableSelectContr(),r=s.getMinMaxColumnLine(t,n),l=r.minColumn,u=r.maxColumn,c=r.minLine,d=r.maxLine,f=[],p=n.child,h=l;h<=u;h++){for(var g=[],y=c;y<=d;y++){var m=p[h+"_"+y]||{};m.mergeKey&&(m={});var _=s.extend(!0,{},m);_.mergeColumn&&delete _.mergeColumn,_.mergeLine&&delete _.mergeLine,g.push(_)}f.push(g)}o["default"].setCopySaveCellData(f),e&&i.updateCellData({text:{content:""}})}t.copyTableCell=l,t["default"]={copyTableCell:l}},,function(e,t,n){"use strict";t.__esModule=!0,t.toggleStrictMode=function(e){l=e},t.applyNodeProps=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!o&&"id"in t){var c='ReactKonva: You are using "id" attribute for a Konva node. In some very rare cases it may produce bugs. Currently we recommend not to use it and use "name" attribute instead.\nYou are using id = "'+t.id+'".\nFor more info see: https://github.com/konvajs/react-konva/issues/119';console.warn(c),o=!0}if(!a&&"zIndex"in t){console.warn('ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n'),a=!0}if(!i&&t.draggable){var d=t.x!==undefined||t.y!==undefined,f=t.onDragEnd||t.onDragMove;if(d&&!f){console.warn("ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n"),i=!0}}for(var p in n)if(!r[p]){var h="on"===p.slice(0,2),g=n[p]!==t[p];if(h&&g){var y=p.substr(2).toLowerCase();"content"===y.substr(0,7)&&(y="content"+y.substr(7,1).toUpperCase()+y.substr(8)),e.off(y,n[p])}var m=!t.hasOwnProperty(p);m&&e.setAttr(p,undefined)}var _=l||t._useStrictMode,v={},b=!1;for(var p in t)if(!r[p]){var h="on"===p.slice(0,2),w=n[p]!==t[p];if(h&&w){var y=p.substr(2).toLowerCase();"content"===y.substr(0,7)&&(y="content"+y.substr(7,1).toUpperCase()+y.substr(8)),t[p]&&e.on(y+s,t[p])}!h&&(t[p]!==n[p]||_&&t[p]!==e.getAttr(p))&&(b=!0,v[p]=t[p])}b&&(e.setAttrs(v),u(e))},t.updatePicture=u;var r={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0},o=!1,a=!1,i=!1,s=t.EVENTS_NAMESPACE=".react-konva-event",l=!1;function u(e){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(36)),h=function(e){function t(t){var n=e.call(this,t)||this;return n.radioTextDom=null,n.state={radioTextWidth:-1},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){return e.renderChange!==this.props.renderChange},t.prototype.componentDidMount=function(){this.getRadioTextDoms()},t.prototype.componentDidUpdate=function(){this.getRadioTextDoms()},t.prototype.getRadioTextDoms=function(){var e=this.state.radioTextWidth,t=this.props,n=t.childWidthArr,r=t.radioIndex,o=t.parentRef,a=this.radioTextDom.width();(e!=a||$.isUndefined(n[r]))&&(n[r]=a+40,this.setState({radioTextWidth:a}),o.setState({}))},t.prototype.getTextIndex=function(e){var t=[];return e.forEach(function(e,n){if(e.length>0){var r=0;e.forEach(function(e,o){r+=e,t.push({linesX:o,linesY:n,textWidth:e,xOffset:r-e})})}}),t},t.prototype.render=function(){var e=this,t=this.props,n=t.cssData,r=t.radioIndex,o=t.list,i=t.currentText,s=t.defaultList,l=t.isRadio,d=t.widthArr,h=t.cssData,g=h.fontSize,y=h.textColor,m=h.height,_=h.data,v=h.selectIconColor,b=h.iconColor,w=h.opacity,C=h.type,x=h.id,S=Math.round(g),P=this.getTextIndex(d),k=Math.floor(1.5*S),O=(m-k*d.length)/2,E=0==P.length?0:P[r].linesX,T=0==P.length?0:P[r].linesY,M=0==P.length?0:P[r].xOffset;return u["default"].createElement(f["default"],{cssData:n,setArr:["setType","setPosition","setRotate","setOpacity"]},l?[u["default"].createElement(c.Circle,{key:C+x+"outerCircle",x:8+(0==E?0:M)+1,y:O+T*k+(k-16)/2+8,stroke:_==undefined?0==r?v:b:_[r].select?v:b,strokeWidth:1,radius:7.5}),u["default"].createElement(c.Circle,{key:C+x+"innerCircle",x:8+(0==E?0:M)+1,y:O+T*k+(k-16)/2+8,fill:v,radius:4,opacity:o==s?0==r?w/100:0:i.select?w/100:0})]:[u["default"].createElement(c.Rect,{key:C+x+"checkboxOuter",width:15,height:15,x:(0==E?0:M)+1,y:O+T*k+(k-S)/2+(T+1==d.length?1:0),stroke:b,strokeWidth:1,fill:_==undefined?0==r?v:"":_[r].select?v:"",cornerRadius:2}),u["default"].createElement(c.Text,a({},p["default"].setMdIcon(),{key:C+x+"checkboxIcon",text:"done",fontSize:16,x:(0==E?0:M)+1,y:O+T*k+(k-S)/2+(T+1==d.length?1:0),fill:"white",opacity:_==undefined?0==r?1:0:_[r].select?1:0}))],u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:C+x+"radioText",ref:function(t){return e.radioTextDom=t},x:24+(0==E?0:M),y:O+T*k+(k-S)/2+(T+1==d.length?1:0),text:o==s?i:i.title,fill:y,fontSize:S})))},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getRadioTextDoms",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getTextIndex",null),t}(u["default"].Component);t["default"]=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[.02,.03,.06,.13,.25,.5,1,2,4,8,16,32,64,128,256],o=[5e3,2500,1e3,500,250,100,50,25,25,10,5,2,1,1,1],a=window.$;function i(){return r}t.getZoomArr=i,t.getZoomStep=function(e){var t=50;return r.forEach(function(n,a){n<=e&&r[a+1]>=e&&(t=n==e?o[a]:r[a+1]==e?o[a+1]:o[a])}),t},t.getZoomPos=function(e,t,n){void 0===n&&(n=!1);var r=a.extend(!0,{x:0,y:0,w:0,h:0},e);return{x:n?r.x/t:r.x*t,y:n?r.y/t:r.y*t,w:n?r.w/t:r.w*t,h:n?r.h/t:r.h*t}},t["default"]={getZoomArr:i}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),l=i(n(464)),u=window.$,c={},d={startPage:"",targetPage:"",position:"",isDrag:!1},f=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.createPage=function(e){var t=e.id;c[t]=e,f.emitChange()},t.prototype.getOnePage=function(e){return c[e]},t.prototype.changePageVal=function(e){var t=e.id,n=e.noEmit,r=void 0!==n&&n,o=e.noExtend,i=void 0!==o&&o,s=a(e,["id","noEmit","noExtend"]);u.extend(!i,f.getOnePage(t),s),r&&f.emitChange()},t.prototype.getPages=function(){return c},t.prototype.setStartPage=function(e){d.startPage=e,d.isDrag=!0,l["default"].emitChange()},t.prototype.setPageChange=function(e){var t=e.targetPage,n=e.position;t==d.targetPage&&n==d.position||(d.targetPage=t,d.position=n,l["default"].emitChange())},t.prototype.getPageChange=function(){return d},t.prototype.deleteById=function(e){c[e]&&delete c[e]},t.prototype.cancelChange=function(){u.extend(!0,d,{startPage:"",targetPage:"",position:"",isDrag:!1}),l["default"].emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(s.EventEmitter));t["default"]=f},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(464)),i=o(n(945)),s=o(n(595)),l=o(n(1322)),u=o(n(880)),c=o(n(594)),d=o(n(230)),f=n(96),p=n(1323),h=n(170);function g(e){a["default"].getPage().hierarchy.unshift(e)}function y(e){a["default"].getPage().hierarchy.remove(e)}function m(e,t,n){return e.forEach(function(e){var r=s["default"].getOneElement(e),o=r.hierarchy,a=r.id;if(n||t.push(a),o&&o.length)return m(o,t,!1)}),t}function _(e,t){var n,r=s["default"].getOneElement(e),o=r.isHide,a=r.isLock,i=!("lock"==t?a:o);s["default"].changeElementVal(((n={id:e,noEmit:!0,noExtend:!0})["lock"==t?"isLock":"isHide"]=i,n)),s["default"].emitChange(),l["default"].emitChange()}function v(e,t){var n=s["default"].getOneElement(e).hierarchy;return n&&n.length>0&&n.forEach(function(e){var n=s["default"].getOneElement(e);if(n){var r=n.id;return t.push(r),v(r,t)}}),t}function b(e,t){var n=e.id,r=C(e);if(r){r.type;var o=r.vals.hierarchy,a=o[o.indexOf(n)-1];a&&(t.push(a),function e(t,n){if(t){var r=s["default"].getOneElement(t),o=(r.id,r.hierarchy);if(o&&o.length){var a=o[o.length-1];return n.push(a),e(a,n)}}}(a,t))}return t}function w(e){var t=e.baseArr,n=void 0===t?[]:t,r=C(e);if(r){var o=r.id;"page"!=r.type&&(n.unshift(o),w({id:o,baseArr:n}))}return n}function C(e){var t=e.id,n=e.pageId,r=n?i["default"].getOnePage(n):a["default"].getPage(),o=r.id,l=r.hierarchy;return-1!==l.indexOf(t)?{id:o,type:"page",vals:r}:function u(e,t){var n;t.some(function(t){var r=s["default"].getOneElement(t),o=r.id,a=r.hierarchy;if(a){var i=a.indexOf(e);if(-1!==i)return n={id:o,type:"element",vals:r},!0;var l=u(e,a);if(l)return n=l,!0}return!1});return n}(t,l)}function x(e,t){var n=C({id:e}),r=n.vals.hierarchy,o=n.id,a=n.type,l=t([].concat(r));"page"==a?i["default"].changePageVal({id:o,noEmit:!0,noExtend:!0,hierarchy:l}):s["default"].changeElementVal({id:o,noEmit:!0,noExtend:!0,hierarchy:l})}function S(){var e=l["default"].getExchange(),t=e.positionType,n=e.elementKey,r=e.startKey;if(r!=n){if(x(r,function(e){return e.remove(r)}),"inner"==t){var o=s["default"].getOneElement(n).hierarchy,i=[].concat(o);i.unshift(r),s["default"].changeElementVal({id:n,noEmit:!0,noExtend:!0,hierarchy:i})}else x(n,function(e){var o=e.indexOf(n)+("top"==t?0:1);return e.splice(o,0,r),e});a["default"].emitChange()}}function P(){return a["default"].getPage().hierarchy.map(function(e){return p.getOne(e)})}function k(e){var t=a["default"].getPage(),n=t.backgroundColor,o=t.name,s=t.id;d["default"].init({hsba:f.getHsbaFromColor(n),name:"["+o+"] 背景色改变",handleObjType:"page",type:"bgColorChange",target:e.target,isLeft:!0,isBottom:!1,callback:function(e,t){i["default"].changePageVal({id:s,noEmit:!0,backgroundColor:f.rgbaObjToStr(r({a:e.a/100},t))}),a["default"].emitChange()}})}function O(){var e=a["default"].mainViewWH(),t=e.width,n=e.height,r=t-50,o=n-50,i=E();if($.isNull(i[0]))a["default"].setFitZoom(1,{x:t/2,y:n/2});else{var s=i.x,l=i.y,u=i.w,c=i.h,d=Math.min(r/u,o/c),f=s-(t/d-u)/2,p=l-(n/d-c)/2;a["default"].setFitZoom(d,{x:-f,y:-p})}}function E(){var e=a["default"].getPage().hierarchy.map(function(e){return s["default"].getOneElement(e)});return h.getMaxPos(e)}function T(e){var t=e.map(function(e){return s["default"].getOneElement(e)});return h.getMaxPos(t)}function M(){var e=i["default"].getPageChange(),t=e.startPage,n=e.targetPage,r=e.position,o=a["default"].getAllPage();o.remove(t);var s=o.indexOf(n)+("top"==r?0:1);o.splice(s,0,t),a["default"].emitChange()}function D(e){var t=a["default"].getAllPage(),n=t.indexOf(e),r=a["default"].getPage().id;if(t.splice(n,1),r==e){var o=i["default"].getOnePage(t[n]||t[0]);a["default"].setPage(o)}s["default"].deleteElementsByPageId(e),u["default"].deleteGuideLinesByPageId(e),c["default"].init(),a["default"].emitChange()}t.addOneInPage=g,t.removeOneInPage=y,t.allSelectChildren=m,t.setMenuState=_,t.getAllChildren=v,t.findPrevent=b,t.findAllParents=w,t.findParent=C,t.exChangeElement=S,t.getPageAllElement=P,t.pageColorChange=k,t.zoomFitSelectElement=function(){var e=a["default"].mainViewWH(),t=e.width,n=e.height,r=t-80,o=n-80,i=c["default"].getSelectArr();if(0==i.length)O();else{var s=T(i);if($.isNull(s[0]))a["default"].setFitZoom(1,{x:t/2,y:n/2});else{var l=s.x,u=s.y,d=s.w,f=s.h,p=Math.min(r/d,o/f),h=l-(t/p-d)/2,g=u-(n/p-f)/2;a["default"].setFitZoom(p,{x:-h,y:-g})}}},t.zoomFitAllElement=O,t.getPageElementMaxPos=E,t.getSelectElementMaxPos=T,t.exchangePage=M,t.deleteOnePage=D,t["default"]={addOneInPage:g,removeOneInPage:y,getPageAllElement:P,pageColorChange:k,exChangeElement:S,findPrevent:b,findAllParents:w,findParent:C,getAllChildren:v,setMenuState:_,allSelectChildren:m,zoomFitAllElement:O,getPageElementMaxPos:E,exchangePage:M,deleteOnePage:D}},,,function(e,t,n){var r=n(141),o=n(254),a=NaN,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?a:+e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(34));function a(){var e=o["default"].getSelectStructKey(),t=o["default"].getAllSelectArr();(t.length>1||-1==t.indexOf(e))&&(o["default"].setTemporarySelectArr([],!0),o["default"].setSelectStructArr([e]))}t.clearSelectArr=a,t["default"]={clearSelectArr:a}},,function(e,t,n){"use strict";var r=n(951);function o(e){var t,n;this.promise=new e(function(e,r){if(t!==undefined||n!==undefined)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(1403)),d=s(n(959)),f=n(955),p=n(224),h=n(1551),g=n(897),y=s(n(846));window.$;var m=function(e){function t(t){var n=e.call(this,t)||this,r=n.props.searchType;return n.state={searchText:g.getNowSearchText(r)},n}return o(t,e),t.prototype.componentDidMount=function(){y["default"].addChangeListener(this.onChange)},t.prototype.componentWillUnmount=function(){y["default"].removeChangeListener(this.onChange)},t.prototype.onChange=function(){var e=this.props.searchType;this.setState({searchText:g.getNowSearchText(e)})},t.prototype.renderPage=function(e,t){var n=this.props,r=n.isPreview,o=n.isContainer,a=n.isLink,i=[];return function s(e){var t=e.arr,n=e.deep,r=void 0===n?0:n,o=e.idx,a=void 0===o?"":o,i=e.domArr,u=e.searchText,d=e.searchShowKeyArr,h=e.isPreview,g=e.isContainer,y=e.isLink,m=e.clickFunc,_=e.selectKey,v=e.selectArr;t.forEach(function(e,t){if(e){var n=e.pageHierarchy,o=e.id,b=e.isFold;if(!d||-1!=d.indexOf(o)){var w=a+t,C=!g&&!h&&f.isStructSelect(w,v),x=g?_==o:-1!=v.indexOf(o);if(i.push(l["default"].createElement(c["default"],{data:e,key:o,isCurrent:o==_,isSelect:x,isDeepColor:i.length%2==1,isParentSelect:C,idx:w,deep:r,searchText:u,searchShowKeyArr:d,isPreview:h,isLink:y,isContainer:g,clickFunc:g&&m?m:undefined})),n&&n.length&&!b){var S=r+1,P=w+"|";s({arr:g&&!y?n:p.getPrdAllStructDataArr(n),deep:S,idx:P,domArr:i,searchText:u,searchShowKeyArr:d,isPreview:h,isLink:y,isContainer:g,clickFunc:m,selectKey:_,selectArr:v})}}}})}({arr:n.arr,domArr:i,searchText:e,searchShowKeyArr:t,isPreview:r,isContainer:o,isLink:a,clickFunc:n.clickFunc,selectKey:n.selectKey,selectArr:n.selectArr}),{domArr:i}},t.prototype.render=function(){var e=this.props,t=e.isContainer,n=e.isLink,r=e.showArr,o=this.state.searchText,a=h.getAllSearchShowKeyArr({searchTitle:o,arr:r}),i=this.renderPage(o,a).domArr;return l["default"].createElement("div",{className:"prd-page-list"},i,i.length||!t&&!n?undefined:l["default"].createElement(d["default"],null))},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onChange",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"renderPage",null),t}(l["default"].Component);t["default"]=m},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(91));function a(e){var t,n=e.key,r=e.val,a=e.id,i=e.noEmit,s=void 0!==i&&i;o["default"].getPrdStructById(a)&&o["default"].updateValById({id:a,updateVal:(t={},t[""+n]=r,t),noEmit:s})}t.changeValById=a,t["default"]={changeValById:a}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=window,a=o.$,i=o.isMac,s=r(n(34)),l=r(n(91)),u=n(224),c=n(954),d=n(477),f=n(895),p=n(1404),h=f.structBaseVal.DOMHEIGHT,g=f.structBaseVal.ONEDEEPWIDTH,y=f.structBaseVal.BASEDEEPLEFT,m=f.structBaseVal.DOMPADDING;function _(e){var t=!0,n="",r=0,o=e.split("|");return o.length>1&&(t=!1,r=o[o.length-1],o.length=o.length-1,n=o.join("|")),{isFirstDeep:t,deepTestStr:n,deepVal:r}}function v(e,t,n){var r,o=!0,i=a('.drag-page-comp[data-id="'+e+'"]')[0];if(i){var s=i.getAttribute("data-idx");if(-1!=n.indexOf(e))o=!1;else{var l=a(".drag-page-comp.current-page-comp"),c=_(l[0].getAttribute("data-idx")),d=c.isFirstDeep,f=c.deepTestStr,p=c.deepVal,h=function(e){var t=e.domArr,n=e.isFirstDeep,r=e.deepTestStr,o=e.deepVal,a=!0,i=[];return t.forEach(function(e,t){var s=e.getAttribute("data-idx"),l=e.getAttribute("data-id");if(i.push(l),t>0){var u=_(s),c=u.isFirstDeep,d=u.deepTestStr,f=u.deepVal;c!=n?a=!1:d!=r?a=!1:f-o!=t&&(a=!1)}}),{isOrderArr:a,idArr:i}}({domArr:l,isFirstDeep:d,deepTestStr:f,deepVal:p}),g=h.isOrderArr;if(r=h.idArr,g){var y=_(s),m=y.isFirstDeep,v=y.deepTestStr,b=y.deepVal;if("top"==t)m==d&&f==v&&b==p+l.length&&(o=!1);else if("inner"==t){var w=r[r.length-1],C=a('.drag-page-comp[data-id="'+w+'"]')[0];if(C){var x=C.getAttribute("data-idx"),S=u.findAllParentByIdx({idx:x}),P=u.findStructInHierarchy({structId:w});P.indexOf(w)==P.length-1&&S[S.length-1]==e&&(o=!1)}else o=!1}else if("bottom"==t){m==d&&f==v&&b+1==p&&(o=!1)}}}}else o=!1;return{allowExchange:o,idArr:r}}function b(e,t,n){var r,o,l,c=e.metaKey,f=e.ctrlKey,h=e.shiftKey,g=(e.button,e.currentTarget),y=i?c:f,m=s["default"].getSelectStructKey(),_=a.extend(!0,[],s["default"].getSelectStructArr()),v=a.extend(!0,[],s["default"].getTemporarySelectArr()),b=s["default"].getAllSelectArr(),w=-1!=g.className.indexOf("is-parent-select"),C=g.getAttribute("data-idx");if(y){if(w)return;var x=_.indexOf(t),S=v.indexOf(t);m!=t&&(-1==x&&-1==S?(r=m,l=C,(o=b).forEach(function(e,t){if(r!=e){var n=a('.drag-page-comp[data-id="'+e+'"]')[0];n&&n.getAttribute("data-idx").slice(0,l.length)==l&&o.splice(t,1)}}),_.push(t)):-1!=x?_.splice(x,1):v.splice(S,1)),s["default"].setTemporarySelectArr(v,!0),s["default"].setSelectStructArr(_)}else if(h){var P=[],k=m;-1==_.indexOf(m)&&(k=_[_.length-1]);var O=u.findStructInHierarchy({structId:k}),E=u.findStructInHierarchy({structId:t});if(O[0]==E[0]){var T=O.indexOf(t),M=(x=O.indexOf(k),Math.min(T,x)),D=Math.max(T,x);O.forEach(function(e,t){var n=_.indexOf(e);t>=M&&t<=D&&(P.push(e),-1!=n&&k!=e&&_.splice(n,1))})}else{var A=a('.drag-page-comp[data-id="'+m+'"]')[0],j=a('.drag-page-comp[data-id="'+t+'"]')[0];if(A&&j){var I=A.getAttribute("data-idx"),L=function(e,t){var n="down",r=!1;return e.some(function(e,o){var a=parseInt(e),i=t[o];if(!i)return n="up",r=!0,!0;var s=parseInt(i);return a>s?(n="up",!0):a<s&&(n="down",!0)}),{direction:n,selectParent:r}}(I.split("|"),(T=j.getAttribute("data-idx")).split("|")),R=L.direction,B=L.selectParent,N=function(e){var t,n,r,o,a=e.direction,i=e.selectKeyIdx,s=e.currentIdx,l=e.id,c=e.selectStructKey,d=!1;"down"==a?(n=i,r=s,o=l):(n=s,r=i,o=c),t=u.findAllParentByIdx({idx:r});var f=u.findStructInHierarchy({structId:o});return f.indexOf(o)==f.length-1&&(d=!0),{allParentArr:t,isAllSelect:d,startIdx:n,endIdx:r}}({direction:R,selectKeyIdx:I,currentIdx:T,id:t,selectStructKey:m}),F=N.startIdx,H=N.endIdx,$=N.isAllSelect,z=N.allParentArr,U=a(".drag-page-comp"),V=!1;U.forEach(function(e){var t=e.getAttribute("data-idx"),n=e.getAttribute("data-id"),r=_.indexOf(n);t==F?V=!0:t==H&&(P.push(n),-1!=r&&m!=n&&_.splice(r,1),V=!1),V&&($||B?P.push(n):-1==z.indexOf(n)&&P.push(n))})}}s["default"].setTemporarySelectArr(P,!0),s["default"].setSelectStructArr(_)}else{-1==b.indexOf(t)&&(a(".prd-content-panel")[0].scrollTop=0,d.elementDeselect(),s["default"].setTemporarySelectArr([],!0),s["default"].setSelectStructArr([t])),m!=t&&"folder"!=n&&(s["default"].setSelectStructKey(t),setTimeout(function(){var e=s["default"].getPrdSet().containerHeight;p.reCalcContainerHeight(e)},0))}}function w(e,t,n){var r=a.extend(!0,[],s["default"].getStructHierarchy());if(e.forEach(function(e){var t=u.findStructInHierarchy({structId:e,parentHierarchy:r});if(t){var n=t.indexOf(e);t.splice(n,1)}}),"inner"!=n){var o=u.findStructInHierarchy({structId:t,parentHierarchy:r}),i=o.indexOf(t)+("top"==n?0:1);e.forEach(function(e){o.splice(i,0,e),i+=1})}else{var d=l["default"].getPrdStructById(t),f=d.pageHierarchy,p=d.isFold;p&&c.changeValById({key:"isFold",val:!p,id:t,noEmit:!0}),e.forEach(function(e){f.push(e)})}s["default"].setStructHierarchy(r)}function C(e,t){var n=e.split("|"),r=!1;n.length=n.length-1;var o=s["default"].getStructHierarchy();return n.some(function(e,n){var a=o[e];if(-1!=t.indexOf(a))return r=!0,!0;var i=l["default"].getPrdStructById(a).pageHierarchy;return o=i,!1}),r}function x(e,t,n,r){var o="",i=r,u="",c=-1,d="";if("inner"==(d="page"==n?t>h/2?"bottom":"top":t<h/3?"top":t<h/3*2?"inner":"bottom"))o=i,u=d;else{var f=a('.drag-page-comp[data-id="'+i+'"]')[0];if(f){var p=function(e,t){var n,r,o=!1,i=!1;"top"==t?((n=a(e).prev()[0])||(o=!0),r=e):(n=e,(r=a(e).next()[0])||(i=!0));var s=S(n);return{topId:o?"":n.getAttribute("data-id"),topIdx:o?"":n.getAttribute("data-idx"),bottomId:i?"":r.getAttribute("data-id"),bottomIdx:i?"":r.getAttribute("data-idx"),isFirstDom:o,isEndDom:i,isChild:!s}}(f,d),_=p.topId,v=p.topIdx,b=p.bottomId,w=p.bottomIdx,C=p.isFirstDom,x=p.isEndDom,P=p.isChild;if(C)o=i,u="top";else{var k=void 0,O=void 0,E=!1;if(x)k=0,O=v.split("|").length-1,"page"!=n&&(O+=1,E=!0);else{var T=w.split("|").length-1,M=v.split("|").length-1;if(T>M)o=b,u="top",c=T,d="top",i=b;else if(T<M){k=T,O=M,P&&(O=k),"page"!=l["default"].getPrdStructById(_).type&&(O+=1,E=!0);var D=a(".drag-page-comp.is-parent-select"),A=!0;D.forEach(function(e){e.getAttribute("data-idx")==v&&(A=!1)}),A||(O=k,E=!1)}else o=_,u="bottom",c=T,d="bottom",i=_}if(!a.isUndefined(k)&&!a.isUndefined(O)){var j=function(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n}(k,O),I=v.split("|"),L=s["default"].getStructHierarchy();u="bottom",j.some(function(t,n){var r=I[n];L&&L.length&&(o=L[r]);var a=l["default"].getPrdStructById(o).pageHierarchy;return L=a,c=t,n==j.length-1&&E&&(u="inner"),e-m<t*g+y})}}}}return{targetId:o,targetPosi:u,lineId:i,linePosi:d,lineDeep:c}}function S(e){var t=!0,n=!1,r=a(".drag-page-comp"),o=r[r.length-1].getAttribute("data-idx");if(e){var i=e.className,s=e.getAttribute("data-idx");["current-page-comp","is-parent-select"].some(function(e){return-1!=i.indexOf(e)&&("current-page-comp"==e&&s==o&&-1!=s.indexOf("|")?(n=!0,!1):(t=!1,!0))})}else t=!1;return{isVaild:t,isLast:n}}t.testAllowExchange=v,t.changeSelectStruct=b,t.exchangePage=w,t.isStructSelect=C,t.getMouseEndTarget=x,t.testIsVaild=S,t["default"]={exchangePage:w,changeSelectStruct:b,testAllowExchange:v,isStructSelect:C,getMouseEndTarget:x,testIsVaild:S}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.top,r=void 0===n?0:n,o=e.type,a=void 0===o?"":o;return i["default"].createElement("div",{className:s["default"]("prd-head-tips-panel",{"is-web":"webView"==a})},i["default"].createElement("p",{style:{marginTop:r},className:"tips-text"},"为提升文档流畅度，此图暂显示为示意图，预览时显示为实际",t))},t}(i["default"].Component);t["default"]=l},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(34)),a=n(955),i=n(1513),s=n(477),l=n(845),u=n(348),c=r(n(202)),d=r(n(91)),f=r(n(622)),p=window.$,h=n(10)["default"];function g(e){var t=e.currentTarget,n=t.getAttribute("data-id"),r=t.getAttribute("data-ispreview"),i=d["default"].getPrdStructById(n).type;if(r){if("folder"==i){var s=p(t).find(".has-child-icon")[0];return void p(s).mousedown()}return o["default"].setSelectStructArr([n],!0),void o["default"].setSelectStructKey(n)}var c=e.clientX,g=e.clientY,y=!1;a.changeSelectStruct(e,n,i),l.initDragChangePosi({autoChangeFunc:function(e){var t=p(".prd-page-list")[0],n=p.offset(t,!0).top;return u.getDragScrollRatio(e,!0,n)},arriveCriticalFunc:function(){var e=f["default"].getDragChangePosiSet().ratio,t=p(".prd-page-list")[0].scrollTop,n=t<=0&&-1==e;return n||(p(".prd-page-list")[0].scrollTop=Math.max(t+20*e,0)),n}}),p.setDrag({name:"moveComment",posi:[c,g],target:e.target,moveFunc:function(e){y||(y=!0,o["default"].setIsDraging(!0))},endFunc:function(e){l.endDragChangePosi();var t=o["default"].getDragOption(),r=t.targetId,i=t.targetPosi,s=o["default"].getAllSelectArr();if(y){o["default"].setDragOption({targetId:"",targetPosi:"",lineId:"",linePosi:"",lineDeep:-1},!0),o["default"].setIsDraging(!1,!0),o["default"].setMoveOption({x:null,y:null});var u=a.testAllowExchange(r,i,s),c=u.allowExchange,d=u.idArr;c&&(a.exchangePage(d,r,i),h.createData({type:"exchangePrdPosi",name:"PRD 交换目录位置",autoSaveType:"prd"}))}else p.checkArrayEqual(o["default"].getSelectStructArr(),[n])||o["default"].setSelectStructArr([n])}})}function y(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.getAttribute("data-ispreview"),n=e.currentTarget.getAttribute("data-iscontainer");if(!t&&!n){var r=o["default"].getAllSelectArr(),a=e.currentTarget.getAttribute("data-id"),l=i.getContentArr(r.length,a);c["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:l}),s.elementDeselect()}}function m(e,t){var n,r=e.target,o=r.className,a=p.extend(!0,[],t);if(!(n=-1==o.indexOf("drag-page-comp")?p(r).parents(".drag-page-comp")[0]:r))return a;var i,s=n.getAttribute("data-idx"),l=a;s.split("|").forEach(function(e,t){var n=(i=p.isString(l[e])?d["default"].getPrdStructById(l[e]):l[e]).pageHierarchy;l=n});var u=i.isFold;return p.isUndefined(u)||(i.isFold=!u),a}t.handleMouseDown=g,t.handleContextMenu=y,t.handleChangeFoldData=m,t["default"]={handleMouseDown:g,handleContextMenu:y,handleChangeFoldData:m}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(29)),a=n(865);t.PrdEditElementMove=function(e,t){o["default"].updateValById({id:t,updateVal:{isEdit:!1}}),a.dragElementCoverMove(e)}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={notFind:!1},n}return o(t,e),t.prototype.render=function(){return i["default"].createElement("div",{className:"prd-result-not-find-panel"},i["default"].createElement("div",{className:"not-find-icon"}),i["default"].createElement("div",{className:"not-find-text"},"无搜索结果"))},t}(i["default"].Component));t["default"]=s},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$,o={endX:undefined,endY:undefined,controlX:undefined,controlY:undefined,rotate:undefined,offX:undefined,offsetX:0,offsetY:0,startPosi:"",endPosi:""};function a(){return o}function i(e){r.extend(!1,o,e)}function s(){o={endX:undefined,endY:undefined,controlX:undefined,controlY:undefined,rotate:undefined,offX:undefined,offsetX:0,offsetY:0,startPosi:"",endPosi:""}}t.getLineCreatePosSet=a,t.setLineCreatePosSet=i,t.clearLineCreatePosSet=s,t["default"]={getLineCreatePosSet:a,setLineCreatePosSet:i,clearLineCreatePosSet:s}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1)),i=o(n(131)),s=o(n(27)),l=o(n(23)),u=o(n(5)),c=o(n(315)),d=o(n(29)),f=o(n(67)),p=o(n(19)),h=n(166),g=o(n(97)),y=n(46),m=n(859),_=n(1331),v=n(842),b=n(308),w=n(456),C=n(843),x=n(876),S=n(628),P=n(145).elementCanvasBaseVal.OFFSET_X,k=window.$,O=n(10)["default"];function E(e,t,n){var r,o=((r={})["start"==e?"startKey":"endKey"]=t.newStart,r["start"==e?"startPosi":"endPosi"]=t.newPosi,r.isHide=!1,r.fixedArr=[],r.noStartSupply=!1,r.noEndSupply=!1,r);return n&&(o.id=n),"start"==e&&(o.pageKey=t.newPage),o}function T(e){var t=e.id,n=e.posi,r=e.dragSet,o=s["default"].getOneLine(t),a=l["default"].getStage().getStage(),i=E(n,r),u=k.extend(!0,o,i);s["default"].deleteLine(t),g["default"].contrAddEvent(a,u)}function M(e){var t=e.id,n=E(e.posi,e.dragSet,t);s["default"].changeLine(n)}function D(e){var t=e.posi,n=e.lineColor,r=e.lineType;return new i["default"].Shape({sceneFunc:function(e){var o,a,i,s,l=_.getReDragPosSet(),u=l.start,c=l.end,d=l.offsetX,f=l.offsetY,p=l.controlX,h=l.controlY;"start"==t?(o=u[0],a=u[1],i=c[0]+d,s=c[1]+f):(o=u[0]+d,a=u[1]+f,i=c[0],s=c[1]),e.beginPath(),e.moveTo(o,a),e.quadraticCurveTo(p,h,i,s),e.setAttr("strokeStyle",n),e.setAttr("lineWidth",2),1==r&&e.setLineDash([5,4]),e.stroke()}})}function A(e){var t=e.posi,n=e.lineColor;return new i["default"].Shape({sceneFunc:function(e){var r,o,a=_.getReDragPosSet(),i=a.start,s=a.offsetX,l=a.offsetY;"end"==t?(r=i[0]+s,o=i[1]+l):(r=i[0],o=i[1]),e.beginPath(),e.setAttr("strokeStyle","#fff"),e.setAttr("fillStyle",n),e.arc(r,o,7,0,2*Math.PI,!1),e.fill(),e.stroke(),e.beginPath(),e.setAttr("strokeStyle","#fff"),e.setAttr("fillStyle",n),e.arc(r,o,4,0,2*Math.PI,!1),e.fill(),e.stroke()}})}function j(e){var t=e.posi,n=e.lineColor;return new i["default"].Shape({sceneFunc:function(e){var r,o,a=_.getReDragPosSet(),i=a.end,s=a.offsetX,l=a.offsetY;"start"==t?(r=i[0]+s,o=i[1]+l):(r=i[0],o=i[1]),e.beginPath(),e.setAttr("strokeStyle","#fff"),e.setAttr("fillStyle",n),e.arc(r,o,7,0,2*Math.PI,!1),e.fill(),e.stroke(),e.beginPath(),e.setAttr("strokeStyle","#fff"),e.setAttr("fillStyle",n),e.arc(r,o,4,0,2*Math.PI,!1),e.fill(),e.stroke()}})}function I(e){var t=[];return e.forEach(function(e){var n=e.width,r=e.height;if(0==t.length)t.push(e);else{var o=-1;t.some(function(e,t){var a=e.width,i=e.height;return a>=n&&i>=r&&(o=t,!0)}),-1!=o?t.splice(o,0,e):t.push(e)}}),t}function L(e){(k.isUndefined(e.evt)?e.currentTarget.getAttribute("data-isprd"):e.target.attrs["data-isprd"])?R(e):B(e)}function R(e){var t=e.currentTarget.getAttribute("data-id"),n=e.currentTarget.getAttribute("data-posi"),o=S.getStructAllElement(!0),a={newKey:"",newPosi:"",newPoint:null},i=!1,s=f["default"].getPrdOneLine(t),l=s.startKey,u=s.startPoint,p=s.endKey,h=s.endPoint,y=s.lineType;if(l){var m=d["default"].getPrdElementById(l),v=m.x,b=m.y,w=m.width,C=m.height;u=[v+w*u[0]+P,b+C*u[1]]}if(p){var E=d["default"].getPrdElementById(p);v=E.x,b=E.y,w=E.width,C=E.height;h=[v+w*h[0]+P,b+C*h[1]]}var T="start"==n?k.extend(!0,[],u):k.extend(!0,[],h),M=e.clientX,I=e.clientY,L=g["default"].getLineType(y);f["default"].setIsDragPoint(!0,!0),f["default"].changePrdLine({id:t,isHide:!0});var R=u[1],B=(2*h[0]+u[0])/3;_.setReDragPosSet({start:u,end:h,controlY:R,controlX:B});var N=A({posi:n,lineColor:L}),F=j({posi:n,lineColor:L}),H=D({posi:n,lineColor:L,lineType:y}),$=x.createLineLayer([H,N,F],{},!0),z=$.layer,U=$.newStage,V=function(e){var t=e.dragSet,n=e.clientX,r=e.clientY,o=e.posi,a=e.ePosi,i=e.layer,s=e.elementArr;return function(e){var l=e.clientX,u=e.clientY,c=k(".editor-content-view")[0],d=k.offset(c,!0),f=d.left,p=d.width,h=d.top;l=Math.min(Math.max(l,f),f+p),u=Math.max(u,h);var y=t.start,m=t.end,v=t.controlY,b=t.controlX;t.newPosi="",t.newKey="","start"==o?y=[l-n+a[0],u-r+a[1]]:m=[l-n+a[0],u-r+a[1]];var w="start"==o?y:m;s.some(function(e){var n=e.x,r=e.y,a=e.width,i=e.height,s=e.id,l=n+P<=w[0]&&n+a+P>=w[0]&&r<=w[1]&&r+i>=w[1],u=[[n+P,r+i/2],[n+a/2+P,r],[n+a+P,r+i/2],[n+a/2+P,r+i]],c={x:w[0],y:w[1]},d=g["default"].isNearAdsorbPoint(u,c),f=d.isAdsorb,p=d.endX,h=d.endY,_=d.endPosi;return!(!l&&!f||(t.newKey=s,t.newPoint=[(w[0]-n-P)/a,(w[1]-r)/i],f&&("start"==o?y=[p,h]:m=[p,h],t.newPosi=_,t.newPoint=[(p-n-P)/a,(h-r)/i]),0))}),"start"==o?(v=m[1],b=(2*y[0]+m[0])/3,t.newKey||(t.newPoint=y)):(v=y[1],b=(2*m[0]+y[0])/3,t.newKey||(t.newPoint=m)),_.setReDragPosSet({start:y,end:m,controlY:v,controlX:b}),i&&i.draw()}}({dragSet:a=r({},a,{start:u,end:h,controlY:R,controlX:B,endKey:p,startKey:l}),clientX:M,clientY:I,posi:n,ePosi:T,layer:z,elementArr:o});c["default"].setAutoMoveFunc(V),k.setDrag({name:"recreate",posi:[e.clientX,e.clientY],target:e.currentTarget,moveFunc:function(e){i||(i=!0),V(e)},endFunc:function(e){f["default"].setIsDragPoint(!1,!0);var r=a.newPoint,o=a.newPosi,s=a.newKey,u=a.startPosi,h=a.endPosi,g=!i||function(e,t){var n,r=!0,o=e.startKey,a=e.endKey,i=e.start,s=e.end,l=e.newKey,u=e.newPoint,c="",f=u;if("start"==t?(c=o,n=i):(c=a,n=s),l){var p=d["default"].getPrdElementById(l),h=p.x,g=p.y,y=p.width,m=p.height;f=[u[0]*y+h,u[1]*m+g]}return l==c&&k.checkArrayEqual(n,f)||(r=!1),r}(a,n);x.clearLineLayer(z,U);var y={id:t,isHide:!1};g?f["default"].changePrdLine(y):(y.fixedArr=[],"start"==n?(o!=u&&(y.startPosi=o),s!=l&&(y.startKey=s),y.startPoint=r):(o!=h&&(y.endPosi=o),s!=p&&(y.endKey=s),y.endPoint=r),f["default"].changePrdLine(y),O.createData({type:"dragBallReCreatePrdLine",name:"PRD 拖拽端点重新生成prd连线",autoSaveType:"prd"})),c["default"].setAutoMoveFunc(null)}})}function B(e){var t=e.target.getAbsolutePosition(),n=e.target.attrs["data-id"],o=e.target.attrs["data-posi"],i=s["default"].getOneLine(n),d=i.startKey,f=i.startPosi,x=i.endKey,S=i.endPosi,P=i.lineType,E=i.pageKey,L=function(e){var t=e.posi,n=e.lineId,r=e.endKey,o=e.startKey,a=[],i=s["default"].getAllLine(),l=y.getPageFlow();return i.forEach(function(e){var i=e.id,s=e.startKey,u=e.endKey,c=e.pageFlowId;i!=n&&("start"==t&&l==c?r==u&&a.push(s):o==s&&a.push(u))}),a}({posi:o,lineId:n,endKey:x,startKey:d}),R=e.evt,B=R.clientX,N=R.clientY,F=g["default"].getLineType(P),H={isReCreate:!1,newKey:"",newPosi:"",newPage:""};u["default"].selectChange([]),s["default"].changeLine({id:n,isHide:!0});var $,z,U=u["default"].getView().zoom,V=window.phoneSize.width*U,K=window.phoneSize.height*U,G=function(e){var t,n,r=e.posi,o=e.ePosi,a=e.endKey,i=e.startKey;return"start"==r?(t=k.extend(!0,[],[o.x,o.y]),s["default"].setDragStart(a)):(n=k.extend(!0,[],[o.x,o.y]),s["default"].setDragStart(i)),{start:t,end:n}}({posi:o,ePosi:t,endKey:x,startKey:d}),q=G.start,W=G.end,Y=l["default"].getStage().getStage(),X=Y.find(".page")[0].getAbsolutePosition(),Z=[],J=[];b.removeHoveringLine(),Y.find(".page").each(function(e){if(e.attrs["data-isShow"]){var t=e.attrs,n=t.id,r=t.width,o=t.height,a=e.getAbsolutePosition(),i=a.x,s=a.y,l=i,u=s;if(n==E){if(E!=d){var c=h.findContr(e,d),p=w.getContrAbsolutePos(c),g=p.x,y=p.y,m=c.attrs,_=m.width,v=m.height;i=l+g-i,s=u+y-s,r=_*U,o=v*U}var b=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.pageX,i=e.pageWidth,s=e.pageY,l=e.pageHeight,u=t,c=n;return t<a?u=a:t>a+i&&(u=a+i),n<s?c=s:n>s+l&&(c=s+l),{actualStartX:u,actualStartY:c,actualStartW:Math.max(Math.min(t+r,a+i)-u,0),actualStartH:Math.max(Math.min(n+o,s+l)-c,0)}}({x:i,y:s,width:r,height:o,pageX:l,pageWidth:V,pageY:u,pageHeight:K}),C=b.actualStartX,P=b.actualStartY,k=b.actualStartW,O=b.actualStartH;$=function(e){var t,n=e.startPosi,r=e.actualStartX,o=e.actualStartW,a=e.actualStartY,i=e.actualStartH;switch(n){case"top":t=[r+o/2,a];break;case"right":t=[r+o,a+i/2];break;case"down":t=[r+o/2,a+i];break;case"left":t=[r,a+i/2]}return t}({startPosi:f,actualStartX:C,actualStartW:k,actualStartY:P,actualStartH:O})}else n==x&&(z=function(e){var t,n=e.endPosi,r=e.x,o=e.width,a=e.zoom,i=e.y,s=e.height;switch(n){case"top":t=[r+o*a/2,i];break;case"right":t=[r+o*a,i+s*a/2];break;case"down":t=[r+o*a/2,i+s*a];break;case"left":t=[r,i+s*a/2]}return t}({endPosi:S,x:i,width:r,zoom:U,y:s,height:o}));var T={x:l,y:u,pageId:n,startId:n,width:r*U,height:o*U};Z.push(T),J=function(e,t,n,r,o){var a=[],i=[];t.find(".canvasContr").each(function(e){if(!e.findAncestors(".symbol").length){var t=e.attrs,o=t.id,s=t.width,l=t.height,u=w.getContrAbsolutePos(e),c={startId:o,x:u.x,y:u.y,pageId:n,width:s*r,height:l*r};-1!=n.indexOf("wrapbox")?a.push(c):i.push(c)}});var s=I(i);e=e.concat(s);var l=I(a);return(e=e.concat(l)).push(o),e}(J,e,n,U,T)}}),"start"==o?W=z:q=$;var Q=q[1],ee=(2*W[0]+q[0])/3;_.setReDragPosSet({start:q,end:W,controlY:Q,controlX:ee});var te=A({posi:o,lineColor:F}),ne=j({posi:o,lineColor:F}),re=D({posi:o,lineColor:F,lineType:P}),oe=C.createLayer([re,te,ne],{}),ae=oe.layer,ie=oe.newStage,se=oe.allPanelDom;H=r({},H,{start:q,end:W,controlY:Q,controlX:ee,endKey:x,startKey:d,pageKey:E});var le=function(e){var t=e.stage,n=e.startOff,r=e.posi,o=e.clientX,a=e.clientY,i=e.ePosi,l=e.zoom,u=e.contrArr,c=e.pageArr,d=e.endKey,f=e.pageKey,p=e.target,h=e.pageWidth,g=e.pageHeight,y=e.dragSet,m=e.layer;return function(e){var v=t.find(".page")[0].getAbsolutePosition(),b=v.x-n.x,w=v.y-n.y,C=y.start,x=y.end,S=y.controlY,P=y.controlX,k=e.clientX,O=e.clientY;"start"==r?C=[k-o+i.x,O-a+i.y]:x=[k-o+i.x,O-a+i.y],"start"==r?(S=x[1]+w,P=(2*C[0]+x[0]+b)/3):(S=C[1]+w,P=(2*x[0]+C[0]+b)/3);var E,T=-1;E="start"==r?u:c;var M=s["default"].getToastPage(),D=s["default"].getSelectContr(),A=D.contrKey,j=D.pageKey,I=!1;E.some(function(e){var t=e.x,n=e.y,o=e.pageId,a=e.startId,i=e.width,u=e.height,c=[[t+=b,(n+=w)+u/2],[t+i/2,n],[t+i,n+u/2],[t+i/2,n+u]];if(t<=k&&t+i>=k&&n<=O&&n+u>=O){if(I=!0,o!=("start"==r?d:f)&&-1==p.indexOf(a)){var m=Math.max(i/2,u/2);c.forEach(function(e,t){var n=Math.sqrt((k-e[0])*(k-e[0])+(O-e[1])*(O-e[1]));n<m&&(m=n,T=t)}),"start"==r?C=c[T]:x=c[T],1==T||3==T?P+=(k-t-h/2)*l:S+=(O-n-g/2)*l,y.newPage=o,y.newStart=a,y.newPosi=["left","top","right","down"][T],y.isReCreate=!0,A!=a&&s["default"].setSelectContr({pageKey:o,contrKey:a})}else-1!=p.indexOf(a)&&M!=a&&s["default"].setToastPage(a);return!0}return y.isReCreate=!1,!1}),I||(M&&s["default"].setToastPage(""),j&&s["default"].setSelectContr({})),_.setReDragPosSet({start:C,end:x,controlY:S,controlX:P,offsetX:b,offsetY:w}),m&&m.draw()}}({stage:Y,startOff:X,posi:o,clientX:B,clientY:N,ePosi:t,zoom:U,contrArr:J,pageArr:Z,endKey:x,pageKey:E,target:L,pageWidth:V,pageHeight:K,dragSet:H,layer:ae});c["default"].setAutoMoveFunc(le),s["default"].setHoverKey({pageKey:"",contrKey:""}),k.setDrag({name:"recreate",posi:[e.evt.clientX,e.evt.clientY],target:e.target,moveFunc:function(e){le(e)},endFunc:function(e){s["default"].getToastPage()&&s["default"].setToastPage(""),s["default"].setSelectContr({},!0),s["default"].setDragStart("");var t=k.extend(!0,{},H),r=function(e){var t=e.posi,n=e.dragSet,r=e.startPosi,o=e.endPosi,a=!1,i=n.isReCreate,s=n.endKey,l=n.startKey,u=n.newStart,c=n.newPosi;return i&&("start"==t?l!=u?a=!0:r!=c&&(a=!0):s!=u?a=!0:o!=c&&(a=!0)),a}({posi:o,dragSet:t,startPosi:f,endPosi:S});r?"end"==o&&x==H.newStart||"start"==o&&d==H.newStart?M({id:n,posi:o,dragSet:H}):g["default"].isEventLine({startKey:d,endKey:x,pageKey:E})?p["default"].init({width:640,title:"修改连线",cancelBtnName:"仅修改连线",submitBtnName:"修改连线及事件",content:a["default"].createElement("div",{className:"popup-content"},a["default"].createElement("span",null,"修改该连线会同时修改其对应的页面跳转事件，是否修改？")),submitBtnFunc:function(){m.deleteRelativeEvent(d,x,E),T({id:n,posi:o,dragSet:H}),p["default"].hide()},cancelBtnFunc:function(){T({id:n,posi:o,dragSet:H}),p["default"].hide()},closeBtnFunc:function(){s["default"].changeLine({id:n,isHide:!1}),p["default"].hide()}}):M({id:n,posi:o,dragSet:H}):s["default"].changeLine({id:n,isHide:!1});C.clearLayer(ae,ie,se),_.clearDragPosSet(),r&&O.createData({type:"reDragPoint",name:"重新拖拽连线"}),v.canvasStageDblclickFix(),c["default"].setAutoMoveFunc(null)}})}t.handleBallReDrag=L,t.handleBallPrdReDrag=R,t.handleBallProtoReDrag=B,t["default"]={handleBallReDrag:L}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(131)),a=r(n(27)),i=r(n(23)),s=r(n(5)),l=r(n(315)),u=r(n(42)),c=r(n(67)),d=r(n(34)),f=n(166),p=r(n(97)),h=n(881),g=n(842),y=n(308),m=n(843),_=n(876),v=n(1332),b=n(145),w=window.$,C=b.elementCanvasBaseVal.OFFSET_X,x=b.elementCanvasBaseVal.CANVAS_WIDTH,S=113,P=n(10)["default"];function k(e){var t=w.isUndefined(e.evt);t&&(d["default"].getSelectElementArr().length&&d["default"].setSelectElementArr([]));var n=window.isPrototypeTool,r=s["default"].getView().zoom,b=!1,k=t?e.currentTarget.getAttribute("data-id"):e.target.attrs["data-id"],O=t?e.currentTarget.getAttribute("data-isprd"):e.target.attrs["data-isprd"],E=i["default"].getStage().getStage();if(y.removeHoveringLine(),!n&&!O){var T=u["default"].getMultiZoom(),M=a["default"].getOneLine(k).endKey,D=f.findPage(E,M);return u["default"].setSelectPage(M),i["default"].emitChange(),void h.pageFitMiddleFunc({targetPage:D,zoom:T})}O?(r=1,E=c["default"].getPrdStage().getStage(),function(e,t){var n=t?e.currentTarget.getAttribute("data-id"):e.target.attrs["data-id"],r=w.extend(!0,[],c["default"].getPrdSelectArr()),o=(t?e:e.evt).shiftKey;-1==r.indexOf(n)?(o?r.push(n):r=[n],c["default"].setPrdSelectArr(r)):o&&(r.some(function(e,t){return e==n&&(r.splice(t,1),!0)}),c["default"].setPrdSelectArr(r))}(e,t)):function(e){var t=e.target.attrs["data-id"],n=w.extend(!0,[],a["default"].getSelectArr()),r=e.evt.shiftKey;s["default"].selectChange([]),-1==n.indexOf(t)?(r?n.push(t):n=[t],a["default"].setSelectArr(n)):r&&(n.some(function(e,r){return e==t&&(n.splice(r,1),!0)}),a["default"].setSelectArr(n))}(e);var A=f.findLine(E,k).getAbsolutePosition(),j=A.x,I=A.y,L=!1,R=!1,B=!1,N=!1,F=parseInt(t?e.currentTarget.getAttribute("data-idx"):e.target.attrs["data-idx"]);0==F||1==F?L=!0:2==F&&(B=!0);var H=t?e.currentTarget.getAttribute("data-end"):e.target.attrs["data-end"],$=t?e.currentTarget.getAttribute("data-endsupply"):e.target.attrs["data-endsupply"];H?R=!0:$&&(N=!0);var z,U,V,K,G,q,W,Y,X=t?e:e.evt,Z=X.clientX,J=X.clientY;if(O){var Q=c["default"].getPrdOneLine(k),ee=Q.startPosi,te=Q.endPosi,ne=Q.startKey,re=(M=Q.endKey,Q.startPoint),oe=Q.endPoint,ae=Q.fixedArr,ie=Q.noStartSupply,se=Q.noEndSupply,le=Q.lineType;z=ie,U=se,K=ae,V=le;var ue=w.extend(!0,[],K),ce=p["default"].getPrdPointArr({startPosi:ee,endPosi:te,startKey:ne,endKey:M,startPoint:re,endPoint:oe,fixedArr:ue,noStartSupply:z,noEndSupply:U}),de=ce.pointArr,fe=ce.startAroundPoint,pe=ce.endAroundPoint;W=de.map(function(e){return[Math.min(Math.max(C,e[0]),x),Math.max(0,e[1])]}),G=fe,q=pe}else{var he=a["default"].getOneLine(k),ge=(ae=he.fixedArr,ne=he.startKey,M=he.endKey,he.startPosi),ye=he.endPosi,me=he.pageKey;ie=he.noStartSupply,se=he.noEndSupply,le=he.lineType;K=ae,z=ie,U=se,V=le;ue=w.extend(!0,[],K);var _e=p["default"].getPointArr({pageKey:me,endKey:M,startKey:ne,id:k,zoom:r,startPosi:ge,endPosi:ye,fixedArr:ue,noStartSupply:z,noEndSupply:U});de=_e.pointArr,fe=_e.startAroundPoint,pe=_e.endAroundPoint;W=de,G=fe,q=pe}Y=O?{x:0,y:0}:E.find(".page")[0].getAbsolutePosition();var ve=w.extend(!0,[],W),be=ve[F],we=ve[F+1],Ce="";Ce=be[0]==we[0]?"horizontal":"vertical";var xe={offsetX:0,offsetY:0,fixedIdx:-1,arr:W,start:ve[0],end:ve[ve.length-1]};K.forEach(function(e,t){"horizontal"==Ce&&e[0]==be[0]&&e[1]==be[1]?xe.fixedIdx=t:"vertical"==Ce&&e[0]==we[0]&&e[1]==we[1]&&(xe.fixedIdx=t)}),s["default"].selectChange([]);var Se=!1,Pe=!1;L&&!z&&(Se=!0),R&&!U&&(Pe=!0),v.setReDragArrSet(xe);var ke,Oe,Ee,Te=p["default"].getLineType(V),Me=function(e,t,n){return new o["default"].Shape({sceneFunc:function(r){var o=v.getReDragArrSet(),a=o.arr,i=o.offsetX,s=o.offsetY,l=o.start,u=o.end,c=w.extend(!0,[],a);c[0][0]==l[0][0]&&c[0][1]==l[0][1]||c.splice(0,0,l),c[c.length-1][0]==u[0][0]&&c[c.length-1][1]==u[0][1]||c.push(u),r.beginPath(),r.moveTo(i,s),p["default"].drawLineShape({ctx:r,pointArr:c}),r.setAttr("lineWidth",2/n),r.setAttr("strokeStyle",t),1==e&&r.setLineDash([5,4]),r.stroke()}})}(V,Te,r),De=function(e,t){return new o["default"].Shape({sceneFunc:function(n){var r=v.getReDragArrSet(),o=r.offsetX,a=r.offsetY,i=r.start,s=r.end,l=i[0]+o,u=i[1]+a,c=s[0]+o,d=s[1]+a;n.beginPath(),n.setAttr("strokeStyle","#fff"),n.setAttr("lineWidth",1/t),n.setAttr("fillStyle",e),n.arc(l,u,7/t,0,2/t*Math.PI,!1),n.fill(),n.stroke(),n.setAttr("strokeStyle","#fff"),n.setAttr("lineWidth",1/t),n.setAttr("fillStyle",e),n.arc(l,u,4/t,0,2/t*Math.PI,!1),n.fill(),n.stroke(),n.beginPath(),n.setAttr("strokeStyle","#fff"),n.setAttr("lineWidth",1/t),n.setAttr("fillStyle",e),n.arc(c,d,7/t,0,2/t*Math.PI,!1),n.fill(),n.stroke(),n.setAttr("strokeStyle","#fff"),n.setAttr("lineWidth",1/t),n.setAttr("fillStyle",e),n.arc(c,d,4/t,0,2/t*Math.PI,!1),n.fill(),n.stroke()}})}(Te,r);if(O){var Ae=_.createLineLayer([Me,De],{x:j,y:I}),je=Ae.layer,Ie=Ae.newStage;ke=je,Oe=Ie}else{var Le=m.createLayer([Me,De],{x:j,y:I,scaleX:r,scaleY:r}),Re=(je=Le.layer,Ie=Le.newStage,Le.allPanelDom);ke=je,Oe=Ie,Ee=Re}var Be=function(e){var t=e.stage,n=e.dragSet,r=e.startOff,o=e.direction,i=e.clientX,s=e.clientY,l=e.zoom,u=e.point_s,d=e.point_e,f=e.pointArr,p=e.idx,h=e.fixedArr,g=(e.id,e.layer),y=e.layerX,m=e.layerY,_=e.isPrd;return function(e){var b;b=_?{x:0,y:0}:t.find(".page")[0].getAbsolutePosition();var C=n.offsetX,x=n.offsetY,P=n.fixedIdx;C=b.x-r.x,x=b.y-r.y;var k,O,E=e.clientX,T=e.clientY;if(_){var M=w(".editor-content-panel")[0],D=w.offset(M,!0),A=D.left,j=D.width,I=D.top;E=Math.min(Math.max(E,A),A+j),T=Math.max(T,Math.max(I,S))}if("horizontal"==o){var L=(E-i-C)/l+u[0];if(f[p+2]){var R=f[p+2][0]-L;Math.abs(R)<=5&&(L+=R)}if(f[p-1]){var B=f[p-1][0]-L;Math.abs(B)<=5&&(L+=B)}k=[L,u[1]],O=[L,d[1]],f[p]=k,f[p+1]=O}else{var N=(T-s-x)/l+d[1];f[p+2]&&(R=f[p+2][1]-N,Math.abs(R)<=5&&(N+=R)),f[p-1]&&(B=f[p-1][1]-N,Math.abs(B)<=5&&(N+=B)),k=[d[0],N],O=[u[0],N],f[p]=O,f[p+1]=k}if(-1!=P)h[P]=k;else{var F=-1,H=!1;h.forEach(function(e,t){var n=-1;f.some(function(t,r){return e[0]==t[0]&&e[1]==t[1]&&(n=r,!0)}),n>p&&-1==F?F=t:n==p&&(H=!0,F=t)}),H?h[F]=k:-1==F?(h.push(k),n.fixedIdx=h.length-1):(h.splice(F,0,k),n.fixedIdx=F)}if(v.setReDragArrSet(n),_?c["default"].setPrdDragPoint({current:k,extra:O},!0):a["default"].setDragPoint({current:k,extra:O},!0),0!=C||0!=x){var $=y+C,z=m+x;g.setAttr("x",$),g.setAttr("y",z)}g&&g.draw()}}({stage:E,dragSet:xe,startOff:Y,direction:Ce,clientX:Z,clientY:J,zoom:r,point_s:be,point_e:we,pointArr:W,idx:F,fixedArr:K,id:k,layer:ke,layerX:j,layerY:I,isPrd:O});l["default"].setAutoMoveFunc(Be),O||a["default"].setHoverKey({pageKey:"",contrKey:""},!0),w.setDrag({name:"dragLine",posi:[Z,J],target:e.currentTarget,moveFunc:function(e){if(!b){b=!0;var t={id:k,isHide:!0};Se&&w.extend(!0,t,{noStartSupply:!0}),Pe&&w.extend(!0,t,{noEndSupply:!0}),O?c["default"].changePrdLine(t):a["default"].changeLine(t)}Be(e)},endFunc:function(e){if(b){O?c["default"].changePrdLine({id:k,isHide:!1,noEmit:!0}):a["default"].changeLine({id:k,isHide:!1,noEmit:!0});var t=w.extend(!0,[],K);Se&&G&&t.splice(xe.fixedIdx+1,0,G),Pe&&q&&t.splice(xe.fixedIdx,0,q);var n=w.extend(!0,[],W);p["default"].combinePointArr(n),function(e,t,n,r,o){var i,s,l=o?c["default"].getPrdDragPoint():a["default"].getDragPoint(),u=l.current,d=l.extra,f=e[0],p=e[e.length-1];if(u[0]==d[0]){var h=Math.min(u[1],d[1]),g=Math.max(u[1],d[1]);i=f[1]<=g&&f[1]>=h&&f[0]==u[0],s=p[1]<=g&&p[1]>=h&&p[0]==u[0]}else{var y=Math.min(u[0],d[0]),m=Math.max(u[0],d[0]);i=f[0]<=m&&f[0]>=y&&f[1]==u[1],s=p[0]<=m&&p[0]>=y&&p[1]==u[1]}i&&t&&(o?c["default"].changePrdLine({id:r,noStartSupply:!0}):a["default"].changeLine({id:r,noStartSupply:!0})),s&&n&&(o?c["default"].changePrdLine({id:r,noEndSupply:!0}):a["default"].changeLine({id:r,noEndSupply:!0}))}(n,B,N,k,O),function(e,t,n,r){var o=r?c["default"].getPrdDragPoint():a["default"].getDragPoint(),i=o.current,s=o.extra;if(i||s){var l=!1;t.forEach(function(e){e[0]==i[0]&&e[1]==i[1]&&(l=!0)}),l||(n.push(s),r?(c["default"].setPrdDragPoint({},!0),c["default"].changePrdLine({id:e,fixedArr:n})):(a["default"].setDragPoint({},!0),a["default"].changeLine({id:e,fixedArr:n})))}}(k,n,t,O),function(e,t,n,r){var o=[];t&&t.length&&(t.forEach(function(e){var t=!1;n.some(function(n){return e[0]==n[0]&&e[1]==n[1]&&(t=!0,!0)}),t&&o.push(e)}),r?c["default"].changePrdLine({id:e,fixedArr:o}):a["default"].changeLine({id:e,fixedArr:o}))}(k,t,n,O)}var r,o,i,s=(o=W,i=!1,(r=ve).length!=o.length?i=!0:r.some(function(e,t){return(e[0]!=o[t][0]||e[1]!=o[t][1])&&(i=!0,!0)}),i);O?_.clearLineLayer(ke,Oe):m.clearLayer(ke,Oe,Ee),v.clearReDragArrSet(),s&&P.createData({type:"saveFixedPoint",name:"保存固定点"}),g.canvasStageDblclickFix(),l["default"].setAutoMoveFunc(null)}}),e.cancelBubble=!0}t.handleLineDrag=k,t["default"]={handleLineDrag:k}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.phoneTypeObj={ip5:["iPhone 5/SE (320*568)",320,568],ip6:["iPhone 6-8 (375*667)",375,667],ip6p:["iPhone 6-8 Plus (414*736)",414,736],ipx:["iPhone X (375*734)",375,734],AN:["Android主流 (360*640)",360,640],SMs8:["Galaxy S8 (360*740)",360,740],XMmix2:["小米Mix2 (360*720)",360,720],XMmix:["小米Mix (360*680)",360,680]},window.webTypeObj={1200:["Base (1200)",1200,2e3],1440:["Mac (1440)",1440,2e3],1680:["Wide (1680)",1680,2e3],1920:["HD (1920)",1920,2e3]},t["default"]="initSize"},function(e,t,n){var r;!function(o,a,i){if(o){for(var s,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f=1;f<20;++f)l[111+f]="f"+f;for(f=0;f<=9;++f)l[f+96]=f.toString();_.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},_.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},_.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},_.prototype.reset=function(){return this._callbacks={},this._directMap={},this},_.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function r(e,t){return null!==e&&e!==a&&(e===t||r(e.parentNode,t))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},_.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},_.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);s=null},_.init=function(){var e=_(a);for(var t in e)"_"!==t.charAt(0)&&(_[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},_.init(),o.Mousetrap=_,void 0!==e&&e.exports&&(e.exports=_),void 0===(r=function(){return _}.call(t,n,t,e))||(e.exports=r)}function p(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:u[e.which]?u[e.which]:String.fromCharCode(e.which).toLowerCase()}function g(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function y(e,t,n){return n||(n=function(){if(!s)for(var e in s={},l)e>95&&e<112||l.hasOwnProperty(e)&&(s[l[e]]=e);return s}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function m(e,t){var n,r,o,a=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)r=n[o],d[r]&&(r=d[r]),t&&"keypress"!=t&&c[r]&&(r=c[r],a.push("shift")),g(r)&&a.push(r);return{key:r,modifiers:a,action:t=y(r,a,t)}}function _(e){var t=this;if(e=e||a,!(t instanceof _))return new _(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,i=!1,s=!1;function l(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function u(e,n,o,a,i,s){var l,u,c,d,f=[],p=o.type;if(!t._callbacks[e])return[];for("keyup"==p&&g(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(u=t._callbacks[e][l],(a||!u.seq||r[u.seq]==u.level)&&p==u.action&&("keypress"==p&&!o.metaKey&&!o.ctrlKey||(c=n,d=u.modifiers,c.sort().join(",")===d.sort().join(",")))){var h=!a&&u.combo==i,y=a&&u.seq==a&&u.level==s;(h||y)&&t._callbacks[e].splice(l,1),f.push(u)}return f}function c(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function f(e,t,a,i){function u(t){return function(){s=t,++r[e],clearTimeout(n),n=setTimeout(l,1e3)}}function d(t){c(a,t,e),"keyup"!==i&&(o=h(t)),setTimeout(l,10)}r[e]=0;for(var f=0;f<t.length;++f){var p=f+1===t.length?d:u(i||m(t[f+1]).action);y(t[f],p,i,e,f)}}function y(e,n,r,o,a){t._directMap[e+":"+r]=n;var i,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?f(e,s,n,r):(i=m(e,r),t._callbacks[i.key]=t._callbacks[i.key]||[],u(i.key,i.modifiers,{type:i.action},o,e,a),t._callbacks[i.key][o?"unshift":"push"]({callback:n,modifiers:i.modifiers,action:i.action,seq:o,level:a,combo:e}))}t._handleKey=function(e,t,n){var r,o=u(e,t,n),a={},d=0,f=!1;for(r=0;r<o.length;++r)o[r].seq&&(d=Math.max(d,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=d)continue;f=!0,a[o[r].seq]=1,c(o[r].callback,n,o[r].combo,o[r].seq)}else f||c(o[r].callback,n,o[r].combo);var p="keypress"==n.type&&i;n.type!=s||g(e)||p||l(a),i=f&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)y(e[r],t,n)},p(e,"keypress",d),p(e,"keydown",d),p(e,"keyup",d)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(33)),a=r(n(155)),i=n(483),s=n(1224),l=r(n(5)),u=n(213),c=r(n(858)),d=r(n(23)),f=n(618),p=r(n(10)),h=r(n(12)),g=n(61),y=n(635),m=n(217),_=0,v=null,b=undefined,w=function(){function e(){}return e.prototype.init=function(){setInterval(function(){m.isUndefined(b)&&(b=+a["default"]().format("ss")),C()&&x()},500)},e}();function C(e){return void 0===e&&(e=!1),!document.hidden&&("normal"==l["default"].getViewMode()&&(!window.mouseDownTarget.name&&(!!(e||+a["default"]().format("mm")%2==0&&+a["default"]().format("ss")==b)&&(!!(e||!v||(new Date).getTime()-v>1e3)&&(l["default"].getPageIndexKey()==l["default"].getActivePage()&&!(!e&&(t=p["default"].getSaveDataLength(),1==t||t==_)))))));var t}function x(e){void 0===e&&(e=!1),e||(_=p["default"].getSaveDataLength(),v=(new Date).getTime()),function(e){l["default"].getActivePage()!=l["default"].getPageIndexKey()&&(y.selectPage("",l["default"].getPageIndexKey(),!0),console.log("切换至封面页，进行图片保存"));var t=window.isPc?{width:1200,height:720}:{width:320,height:568};window.temporarySet.downloadActivePage=!0,u.cacheActiveCanvasPage(function(){setTimeout(function(){l["default"].emitViewChange(),l["default"].emitPagesChange(),c["default"].emitChange(),d["default"].emitChange(),setTimeout(function(){f.getPageImage(l["default"].getPageIndexKey(),function(t,n){e&&e(n)},t.width,t),setTimeout(function(){delete window.temporarySet.downloadActivePage},0)},100)},0)})}(function(t){if(t){var n=function(e,t){var n=e.split(","),r=n[0].match(/:(.*?);/)[1],o=atob(n[1]),a=o.length,s=new Uint8Array(a);for(;a--;)s[a]=o.charCodeAt(a);return new File([s],t||i.generateUUID()+".png",{type:r})}(t);s.getImageHash(n,function(t){var r,a,i,s="/pages/"+l["default"].getProId()+t+".png";l["default"].getCoverImage()!=s?(r=n,a=s,(i=new window.FormData).append("imgs",r),i.append("coverImage",a),i.append("projectId",l["default"].getProId()),i.append("versionKey",l["default"].getVersionSet().activeKey||""),o["default"].post("/project/uploadCoverImage").send(i).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){var n=t.body;"0"==n.code&&(console.log("封面更新成功！！！"),l["default"].setCoverImage(a),g.setAutoSaveChangePages("changeProject"))}),e&&h["default"].show("项目更新封面图片")):e&&h["default"].show("项目封面已为最新图片")})}})}t.previewAutoUpdate=function(){C(!0)&&x()},t.updateCoverImage=x;var S=new w;t["default"]=S},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(131)),a=r(n(5)),i=r(n(48)),s=r(n(23)),l=r(n(51)),u=n(266);function c(e){var t=e.callback,n=e.isMutil,r=e.changePos,c=void 0===r?{}:r,d=l["default"].getZoom()/100,f=a["default"].getZoom();$("#phoneConBox").css({opacity:0});var p=$.getWinSize(),h=p.width,g=p.height,y=c,m=y.layerX,_=(void 0===m&&undefined,y.layerY),v=(void 0===_&&undefined,i["default"].getPrevPos()),b=v.left,w=v.top,C=n?d:f,x=s["default"].getStage().getStage().findOne("#canvasLayer"),S="fixed-view"==a["default"].getView().multiViewType,P=new o["default"].Tween({node:x,duration:.2,x:b*C+(S?0:h*(1-C)/2),y:w*C+(S?0:g*(1-C)/2),scaleX:C,scaleY:C,onFinish:function(){$("#phoneConBox").css({opacity:1}),u.clearCanvasAnim(),P&&P.destroy(),s["default"].emitMoveChange(),t&&t()}});u.setCanvasAnim(P),P&&P.play()}t.toMutiviewAnimFunc=c,t["default"]={toMutiviewAnimFunc:c}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(469)),a=r(n(5)),i=n(430),s=n(85),l=r(n(10)),u=window.$,c=-1,d=new(function(){function e(){}return e.prototype.init=function(){setInterval(d.autoSaveFunc,3e4)},e.prototype.getList=function(){var e=a["default"].getView();u.ajax("/project/autoCloudList",{projectId:e.proid},function(e){o["default"].setListData(e.list)})},e.prototype.autoSaveFunc=function(e){void 0===e&&(e=!1);var t=o["default"].getData(),n=t.lastSaveDate,r=t.hasChangeData,d=(new Date).getTime(),f=l["default"].getSaveDataLength();if(!e){if(document.hidden)return;if(1==f||c==f)return}if(e||n&&d-n>6e5&&r)try{var p=a["default"].getView(),h=i.getProjectData();c=f,u.ajax("/project/autoCloud",{content:u.objToString(h),projectId:p.proid,projectName:p.name,pageNum:s.getStructPagesLength(),pageIndexKey:a["default"].getPageIndexKey(),versionKey:p.versionSet.activeKey,platform:u.getPlatform(window.platform),phoneSize:window.pSize},function(e){o["default"].setData({lastSaveDate:d,hasChangeData:!1})})}catch(g){window.log(g)}},e}());t["default"]=d},,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=n(169),c=s(n(11)),d=s(n(171)),f=s(n(978)),p=s(n(889)),h=s(n(890)),g=s(n(12)),y=s(n(3)),m={0:{type:"public",name:"公开(可下载)"},1:{type:"public",name:"公开(仅预览)"},2:{type:"private",name:"私有"},3:{type:"password",name:"密码访问"}},_=function(e){function t(t){var n=e.call(this,t)||this;return n.state={permission:t.permission,permissionType:m[t.permission].type,isPublish:$.isString(t.isPublish)?"true"==t.isPublish:t.isPublish,password:t.password},n}return o(t,e),t.prototype.componentDidMount=function(){new u(".qrcode-img")},t.prototype._changePermission=function(e,t,n,r){var o=this,a=t||{"public":"0","private":"2",password:"3"}[e],i={id:o.props.id,permission:a};"password"==e&&(i.password=n||o.state.password),"public"==o.state.permissionType&&o.state.isPublish?g["default"].show("项目已发布到广场，请先取消发布再修改权限"):"password"!=e||o.state.password?$.ajax("/project/setPermission",i,function(){o.setState({permission:a,permissionType:e},function(){if(o.props.callback){var t={};r||(t.permission=a),"password"==e&&(t.password=i.password),o.props.callback(t)}}),r||g["default"].show("访问权限已修改为「"+m[a].name+"」")}):o.setState({permissionType:e})},t.prototype._publish=function(){var e=this;$.ajax("/project/setPublish",{id:e.props.id,isPublish:!e.state.isPublish},function(){e.setState({isPublish:!e.state.isPublish},function(){e.props.callback&&e.props.callback({isPublish:e.state.isPublish})}),g["default"].show("已"+(e.state.isPublish?"":"取消")+"发布到精选广场")})},t.prototype._setPassword=function(e){var t=this,n=t.refs.password.refs.input.value;t.refs.password.verify()&&t.setState({password:n},function(){t._changePermission(t.state.permissionType,null,n,e)})},t.prototype._setShowPrd=function(){},t.prototype.render=function(){var e,t=this,n=[],r=[],o=t.props.others||"item"==t.props.type;return o?e=["copyLink","qrcode"]:"password"==t.state.permissionType&&$.isUndefined(t.state.password)?e=["password-set"]:(e={"public":["operate","copyLink","qrcode"],password:["password","copyLink","qrcode"],"private":["copyLink","qrcode"]}[t.state.permissionType],t.props.prd.hasPrd),t.props.noQrcode&&e.remove("qrcode"),e.forEach(function(e){switch(e){case"password":r.push(l["default"].createElement("div",{key:"proj-pwd",className:"proj-pwd-box"},l["default"].createElement("span",null,"访问密码(6位数字)："),l["default"].createElement(f["default"],{ref:"password",className:"popup-input pwd-input",value:t.state.password,modifyCallback:t._setPassword})));break;case"operate":var n=["可以下载","仅供预览"],o=[0,1];"lib"==t.props.type&&(n[0]="可以引用"),r.push(l["default"].createElement("div",{key:"publish",className:"public-autority-box clearfix"},l["default"].createElement(d["default"],{key:"selectOperate",className:"operate-select",text:n[t.state.permission],value:o[t.state.permission],texts:n,values:o,callback:function(e,n){t._changePermission(t.state.permissionType,n)},width:90}),l["default"].createElement("div",{key:"publish-btn",className:"base-hollow-btn publish-square-btn"+(t.state.isPublish?" a_c":""),"data-contr":"hovertip","data-option":'{"text":"点击取消发布到精选广场"}',onClick:t._publish},t.state.isPublish?"已发布":"发布到广场")));break;case"copyLink":r.push(l["default"].createElement(p["default"],{key:"copyLink",url:t.props.url}));break;case"qrcode":if("web"==t.props.platform)return!1;r.push(l["default"].createElement("div",{key:"qrcode",className:"qrcode-box clearfix"},l["default"].createElement("div",{className:"img-box"},l["default"].createElement("img",{className:"qrcode-img",src:t.props.img,"data-clipboard-text":t.props.url,onClick:function(){$.copyUrl("imgCopiedTips")}})),l["default"].createElement("div",{id:"imgCopiedTips",className:"copied-tips"},"复制成功"),l["default"].createElement("p",null,"扫一扫，分享给","lib"==t.props.type&&"private"==t.state.permissionType?"协作者":"朋友")));break;case"password-set":r.push(l["default"].createElement("div",{key:"password-set",className:"password-set-box"},l["default"].createElement("span",null,"设置访问密码(6位数字)："),l["default"].createElement(f["default"],{ref:"password",className:"popup-input pwd-set-input"}),l["default"].createElement("div",{className:"base-btn save-pwd-btn",onClick:t._setPassword},"保存密码")));break;case"showPrd":r.push(l["default"].createElement(h["default"],{name:"允许查看「PRD文档」",isActive:t.props.prd.showPrd,clickFunc:t._setShowPrd,className:"share-prd-checkbox"}))}}),o||{project:[{type:"public",name:"公开",desc:"从工作台和链接均能访问"},{type:"password",name:"密码访问",desc:"仅有密码的人可以访问"},{type:"private",name:"私有",desc:"仅知道链接的人可以访问"}],lib:[{type:"public",name:"公开",desc:"从工作台和链接均能访问"},{type:"private",name:"私有",desc:"仅协作者可以访问"}]}[t.props.type].forEach(function(e){n.push(l["default"].createElement("div",{key:e.type,className:"permission-option clearfix"+(e.type==t.state.permissionType?" active":""),onClick:function(){t._changePermission(e.type)}},l["default"].createElement("div",{className:"material-icons iconfont permission-checkbox"}),l["default"].createElement("div",{className:"permission-item-info"},l["default"].createElement("p",{className:"permission-name"},e.name),l["default"].createElement("p",{className:"permission-desc"},e.desc))))}),l["default"].createElement("div",{className:c["default"]("popup-content share-popup share-"+t.props.type+" "+t.props.platform+" permission-"+t.state.permissionType,{"no-setting":o})},l["default"].createElement("div",{className:"share-left"},n),l["default"].createElement("div",{className:"share-right"},l["default"].createElement("div",{className:"share-right-wrapper"},r)))},a([y["default"],i("design:type",Function),i("design:paramtypes",[Object,Object,Object,Object]),i("design:returntype",void 0)],t.prototype,"_changePermission",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_publish",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_setPassword",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_setShowPrd",null),t}(l["default"].Component);_.defaultProps={permission:0},t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(12)),c=s(n(3)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={defaultValue:n.props.value,value:n.props.value||""},n}return o(t,e),t.prototype._onChange=function(e){/^[0-9]*$/g.test(e.target.value)&&e.target.value.length<=6&&this.setState({value:e.target.value})},t.prototype._onBlur=function(){var e=this;e.verify()&&e.state.value!=e.state.defaultValue&&e.setState({defaultValue:e.state.value},function(){e.props.modifyCallback(!0),u["default"].show("密码修改成功")})},t.prototype.verify=function(){if(!(this.state.value.length<6))return!0;this.setState({value:this.state.defaultValue},function(){u["default"].show("访问密码必须为6位数字")})},t.prototype.render=function(){return l["default"].createElement("input",{id:"setPassword",className:this.props.className,ref:"input",autoComplete:"off",maxLength:6,value:this.state.value,onChange:this._onChange,onBlur:this.props.modifyCallback?this._onBlur:$.noop})},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_onChange",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onBlur",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Object)],t.prototype,"verify",null),t}(l["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27)),a=n(46);function i(){var e=a.getPageFlow(),t=$.extend(!0,[],o["default"].getAllLine());if(e){var n=e.id;return t.filter(function(e){return e.pageFlowId==n})}return t.filter(function(e){return!e.pageFlowId})}t.getPageFlowAllLine=i,t["default"]={getPageFlowAllLine:i}},,function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1)),i=o(n(1346)),s=function(){return a["default"].createElement("div",null,"Loading...")};t["default"]=function(e){return function(t){return a["default"].createElement(i["default"],{load:e},function(e){return e?a["default"].createElement(e,r({},t)):a["default"].createElement(s,null)})}}},,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(599));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={changeLabel:function(e){o["default"].dispatch({actionType:a["default"].PROTOPREVIEW_CHANGELABEL,label:e})},zoom:function(e,t){o["default"].dispatch({actionType:a["default"].PROTOPREVIEW_ZOOM,type:e,scale:t})},zoomFit:function(){o["default"].dispatch({actionType:a["default"].PROTOPREVIEW_ZOOMFIT})},switchMode:function(e){o["default"].dispatch({actionType:a["default"].PROTOPREVIEW_SWITCHMODE,mode:e})},toggleCatalog:function(){o["default"].dispatch({actionType:a["default"].PROTOPREVIEW_TOGGLECATALOG})},toggleNote:function(){o["default"].dispatch({actionType:a["default"].PROTOPREVIEW_TOGGLENOTE})},setProps:function(e){o["default"].dispatch({actionType:a["default"].PROTOPREVIEW_SETPROPS,options:e})},resetFrameSize:function(e){o["default"].dispatch({actionType:a["default"].PROTOPREVIEW_RESETFRAMESIZE,size:e})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"ProtoPreviewActions","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/actions/ProtoPreviewActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/actions/ProtoPreviewActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},,function(e,t,n){"use strict";t.atob=self.atob.bind(self),t.btoa=self.btoa.bind(self)},function(e,t,n){"use strict";var r=n(4),o="<<anonymous>>",a={listOf:function(e){return u(e,"List",r.List.isList)},mapOf:function(e,t){return c(e,t,"Map",r.Map.isMap)},orderedMapOf:function(e,t){return c(e,t,"OrderedMap",r.OrderedMap.isOrderedMap)},setOf:function(e){return u(e,"Set",r.Set.isSet)},orderedSetOf:function(e){return u(e,"OrderedSet",r.OrderedSet.isOrderedSet)},stackOf:function(e){return u(e,"Stack",r.Stack.isStack)},iterableOf:function(e){return u(e,"Iterable",r.Iterable.isIterable)},recordOf:function(e){return s(function(t,n,o,a,s){for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];var d=t[n];if(!(d instanceof r.Record)){var f=i(d),p=a;return new Error("Invalid "+p+" `"+s+"` of type `"+f+"` supplied to `"+o+"`, expected an Immutable.js Record.")}for(var h in e){var g=e[h];if(g){var y=d.toObject(),m=g.apply(undefined,[y,h,o,a,s+"."+h].concat(u));if(m)return m}}})},shape:f,contains:f,mapContains:function(e){return d(e,"Map",r.Map.isMap)},list:l("List",r.List.isList),map:l("Map",r.Map.isMap),orderedMap:l("OrderedMap",r.OrderedMap.isOrderedMap),set:l("Set",r.Set.isSet),orderedSet:l("OrderedSet",r.OrderedSet.isOrderedSet),stack:l("Stack",r.Stack.isStack),seq:l("Seq",r.Seq.isSeq),record:l("Record",function(e){return e instanceof r.Record}),iterable:l("Iterable",r.Iterable.isIterable)};function i(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof r.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function s(e){function t(t,n,r,a,i,s){for(var l=arguments.length,u=Array(l>6?l-6:0),c=6;c<l;c++)u[c-6]=arguments[c];return s=s||r,a=a||o,null!=n[r]?e.apply(undefined,[n,r,a,i,s].concat(u)):t?new Error("Required "+i+" `"+s+"` was not specified in `"+a+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function l(e,t){return s(function(n,r,o,a,s){var l=n[r];if(!t(l)){var u=i(l);return new Error("Invalid "+a+" `"+s+"` of type `"+u+"` supplied to `"+o+"`, expected `"+e+"`.")}return null})}function u(e,t,n){return s(function(r,o,a,s,l){for(var u=arguments.length,c=Array(u>5?u-5:0),d=5;d<u;d++)c[d-5]=arguments[d];var f=r[o];if(!n(f)){var p=s,h=i(f);return new Error("Invalid "+p+" `"+l+"` of type `"+h+"` supplied to `"+a+"`, expected an Immutable.js "+t+".")}if("function"!=typeof e)return new Error("Invalid typeChecker supplied to `"+a+"` for propType `"+l+"`, expected a function.");for(var g=f.toArray(),y=0,m=g.length;y<m;y++){var _=e.apply(undefined,[g,y,a,s,l+"["+y+"]"].concat(c));if(_ instanceof Error)return _}})}function c(e,t,n,r){return s(function(){for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return u(e,n,r).apply(undefined,a)||t&&(l=t,s(function(e,t,n,r,o){for(var a=arguments.length,i=Array(a>5?a-5:0),s=5;s<a;s++)i[s-5]=arguments[s];var u=e[t];if("function"!=typeof l)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+n+"` for propType `"+o+"`, expected a function.");for(var c=u.keySeq().toArray(),d=0,f=c.length;d<f;d++){var p=l.apply(undefined,[c,d,n,r,o+" -> key("+c[d]+")"].concat(i));if(p instanceof Error)return p}})).apply(undefined,a);var l})}function d(e){var t=arguments[1]===undefined?"Iterable":arguments[1],n=arguments[2]===undefined?r.Iterable.isIterable:arguments[2];return s(function(r,o,a,s,l){for(var u=arguments.length,c=Array(u>5?u-5:0),d=5;d<u;d++)c[d-5]=arguments[d];var f=r[o];if(!n(f)){var p=i(f);return new Error("Invalid "+s+" `"+l+"` of type `"+p+"` supplied to `"+a+"`, expected an Immutable.js "+t+".")}var h=f.toObject();for(var g in e){var y=e[g];if(y){var m=y.apply(undefined,[h,g,a,s,l+"."+g].concat(c));if(m)return m}}})}function f(e){return d(e)}e.exports=a},function(e,t,n){var r=n(911),o=n(434)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return e===undefined?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},,function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_MobileModel=__webpack_require__(1006),_MobileModel2=_interopRequireDefault(_MobileModel),_MainBoxBorder=__webpack_require__(1240),_MainBoxBorder2=_interopRequireDefault(_MainBoxBorder),_RedLine=__webpack_require__(1008),_RedLine2=_interopRequireDefault(_RedLine),_CutImageEditMask=__webpack_require__(1009),_CutImageEditMask2=_interopRequireDefault(_CutImageEditMask),_EightDragSpot=__webpack_require__(1010),_EightDragSpot2=_interopRequireDefault(_EightDragSpot),_EventTag=__webpack_require__(1245),_EventTag2=_interopRequireDefault(_EventTag),_ActiveContrs=__webpack_require__(1246),_ActiveContrs2=_interopRequireDefault(_ActiveContrs),_Ruler=__webpack_require__(1334),_Ruler2=_interopRequireDefault(_Ruler),_EditingLayer=__webpack_require__(1012),_EditingLayer2=_interopRequireDefault(_EditingLayer),_SymbolWHEdit=__webpack_require__(1013),_SymbolWHEdit2=_interopRequireDefault(_SymbolWHEdit),_InactiveContrs=__webpack_require__(907),_InactiveContrs2=_interopRequireDefault(_InactiveContrs),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),_EventStore=__webpack_require__(151),_EventStore2=_interopRequireDefault(_EventStore),_SymbolMaskStore=__webpack_require__(32),_SymbolMaskStore2=_interopRequireDefault(_SymbolMaskStore),_CursorStore=__webpack_require__(146),_CursorStore2=_interopRequireDefault(_CursorStore),_SaveDataStore=__webpack_require__(10),_SaveDataStore2=_interopRequireDefault(_SaveDataStore),_PrdEditStore=__webpack_require__(850),_PrdEditStore2=_interopRequireDefault(_PrdEditStore),_MoveTipActions=__webpack_require__(253),_MoveTipActions2=_interopRequireDefault(_MoveTipActions),_ColorUtil=__webpack_require__(96),_MiddlePanelEvent=__webpack_require__(323),_MiddlePanelEvent2=_interopRequireDefault(_MiddlePanelEvent),_ViewAutoSaveHandle=__webpack_require__(61),_pageViewHandle=__webpack_require__(303),_ChoosePageHandle=__webpack_require__(148),_MainBoxEvent=__webpack_require__(841),_ChangePageHeightHandle=__webpack_require__(1335),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var mouseDown=_MiddlePanelEvent2["default"].mouseDown,inactiveNoRender=!0,MainBoxComp=function(_Component){function MainBoxComp(e){(0,_classCallCheck3["default"])(this,MainBoxComp);var t=(0,_possibleConstructorReturn3["default"])(this,(MainBoxComp.__proto__||(0,_getPrototypeOf2["default"])(MainBoxComp)).call(this,e));return t.state={renderChange:0},t._dragLeave=t._dragLeave.bind(t),t._dragMove=t._dragMove.bind(t),t._previewMouseDown=t._previewMouseDown.bind(t),t._mainBoxClick=t._mainBoxClick.bind(t),t}return(0,_inherits3["default"])(MainBoxComp,_Component),(0,_createClass3["default"])(MainBoxComp,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.activePage!=e.page.key&&e.activePage!=e.page.key||(inactiveNoRender=!1),!!(window.renderAll||window.renderSymbol||window.renderPages||e.mustShow)||(!(e.activePage!=e.page.key||!window.renderActivePage)||(e.isShow!==this.props.isShow||(e.isPageFlowHide!==this.props.isPageFlowHide||!t.notChangeMainbox&&(t.renderChange!==this.state.renderChange||(e.isLandscape!==this.props.isLandscape||(e.pageIdx!==this.props.pageIdx||(e.pageHeight!==this.props.pageHeight||(e.chooseUserIdStr!==this.props.chooseUserIdStr||(this.props.pageIndexKey==e.pageIndexKey||this.props.pageIndexKey!=e.page.key&&e.pageIndexKey!=e.page.key?this.props.pageSelect!=e.pageSelect?(window.performTest&&log("pageSelectChange"),!0):this.props.viewMode==e.viewMode||"preview"==this.props.viewMode&&"preview"==e.viewMode?this.props.activePage==e.activePage||this.props.activePage!=e.page.key&&e.activePage!=e.page.key?"multi-view"!=this.props.viewMode||this.props.pagePosi[0]==e.pagePosi[0]&&this.props.pagePosi[1]==e.pagePosi[1]?"multi-view"==this.props.viewMode||this.props.phoneConBoxPos.left!=e.phoneConBoxPos.left||this.props.phoneConBoxPos.top!=e.phoneConBoxPos.top?(window.performTest&&log("phoneConBoxPosChange"),!1):!!this.props.page.active&&(window.performTest&&log("thisPageIsActive"),!0):(window.performTest&&log("phoneConBoxPosChange"),!0):(window.performTest&&log("activePageChange"),!0):(window.performTest&&log("viewModeChange"),!0):(window.performTest&&log("pageIndexKeyChange"),!0))))))))))}},{key:"_dragLeave",value:function(e){$.removeClass(e.currentTarget.parentNode,"drop-left"),$.removeClass(e.currentTarget.parentNode,"drop-right")}},{key:"_dragMove",value:function(e){var t=$.offset(e.currentTarget),n=e.pageX<t.left+(window.phoneSize.width+90)*_ViewStore2["default"].getZoom()/2;n&&!$.hasClass(e.currentTarget.parentNode,"drop-left")?($.removeClass(e.currentTarget.parentNode,"drop-right"),$.addClass(e.currentTarget.parentNode,"drop-left")):n||$.hasClass(e.currentTarget.parentNode,"drop-right")||($.removeClass(e.currentTarget.parentNode,"drop-left"),$.addClass(e.currentTarget.parentNode,"drop-right"))}},{key:"_previewMouseDown",value:function(e){_MoveTipActions2["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"[esc] 退出"}),$.setDrag({name:"contrLockCover",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){_MoveTipActions2["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"[esc] 退出"})},endFunc:function(){_MoveTipActions2["default"].show(!1)}}),e.stopPropagation()}},{key:"_mainBoxClick",value:function(e){var t=this.props,n=t.view.editing,r=t.page.key;n&&($.hasClass($.getElById("eventLabel"),"active")?_EventStore2["default"].setTempSelectedPage(r):$.hasClass($.getElById("pageSetLabel"),"active")&&(_ViewStore2["default"].setPageIndexKey(r),(0,_ViewAutoSaveHandle.setAutoSaveChangePages)("changeProject")),(0,_ChoosePageHandle.choosePageAction)(n),_SymbolMaskStore2["default"].getSymbolMaskShow()?setTimeout(function(){_ViewStore2["default"].toggleEditing(),_SymbolMaskStore2["default"].emitChange()},0):_ViewStore2["default"].toggleEditing(),$.hasClass($.getElById("reactBox"),"event-editing")||(setTimeout(function(){$.removeClass($.getElById("reactBox"),"event-editing")},300),$.addClass($.getElById("reactBox"),"event-editing")),e.stopPropagation())}},{key:"render",value:function(){var e=this.props.page,t=this.props,n=t.isCanvas,r=t.pageIdx,o=t.prdShow,a=(0,_extends3["default"])({width:e.isLandscape&&e.active?window.phoneSize.height:window.phoneSize.width,height:$.isUndefined(this.props.pageHeight)||!window.isPc&&!o?e.isLandscape&&e.active?window.phoneSize.width:window.phoneSize.height:this.props.pageHeight},(0,_pageViewHandle.getPagePos)(e.key,e)),i="mobile"==$.getPlatform(window.platform)?_react2["default"].createElement(_EditingLayer2["default"],{choosePage:this.props.choosePage}):undefined,s=(0,_ColorUtil.colorToGray)(this.props.page.backColor,!0),l=window.isPc||$.isUndefined(this.props.pageHeight)?undefined:this.props.pageHeight,u=_ViewStore2["default"].getPageSelect();if(!n&&o)return _react2["default"].createElement("div",{className:(0,_classnames2["default"])("mainBox prd-show",{}),key:e.id,"data-key":e.id,"data-name":e.name,id:e.id,style:a},o?_react2["default"].createElement(_MainBoxBorder2["default"],{isViewGuide:this.props.view.isGuide,pageId:e.key,backColor:this.props.page.backColor,height:l}):undefined,_react2["default"].createElement(_ActiveContrs2["default"],{mainbox:this,viewMode:this.props.viewMode,pageKey:e.key}));if(e.active&&!n&&!o){var c=_PrdEditStore2["default"].isShowPrdEdit(),d=_SymbolMaskStore2["default"].getSymbolMaskShow();return _ViewStore2["default"].setActiveMainbox(this),"normal"!=this.props.viewMode||"fixed-view"!=this.props.view.multiViewType||c||(delete a.left,delete a.top),_react2["default"].createElement("div",{className:(0,_classnames2["default"])("mainBox active",{landscape:e.isLandscape&&e.active,portrait:!(e.isLandscape&&e.active),grid:e.grid,hide:!this.props.isShow,hideGuide:!this.props.view.isGuide}),key:e.id,"data-key":e.id,"data-name":e.name,id:e.id,style:a},window.isPc?undefined:_react2["default"].createElement(_MobileModel2["default"],{backColor:this.props.page.backColor,isLandscape:e.isLandscape&&e.active}),this.props.view.isRule&&!window.isPc?_react2["default"].createElement(_Ruler2["default"],{isGuide:this.props.view.isGuide,isLandscape:e.isLandscape&&e.active,height:l}):undefined,_react2["default"].createElement(_MainBoxBorder2["default"],{isViewGuide:this.props.view.isGuide,pageId:e.key,backColor:this.props.page.backColor,height:l}),d?undefined:_react2["default"].createElement(_RedLine2["default"],{height:l}),window.isPc?undefined:_react2["default"].createElement("div",{className:"mobile-background-container",style:{height:$.isUndefined(this.props.pageHeight)?e.isLandscape&&e.active?window.phoneSize.width:window.phoneSize.height:this.props.pageHeight,backgroundColor:this.props.page.backColor},onMouseDown:mouseDown,onDoubleClick:_MainBoxEvent.activePageDblclick}),e.events?_react2["default"].createElement(_EventTag2["default"],{page:e}):undefined,_react2["default"].createElement(_ActiveContrs2["default"],{mainbox:this,viewMode:this.props.viewMode,pageKey:e.key}),i,"preview"==this.props.viewMode||"preview-once"==this.props.viewMode?_react2["default"].createElement("div",{key:"editMask",className:"editMask previewMask",onClick:function(){$.addAttention("maskExitBtn")},onMouseDown:this._previewMouseDown}):undefined,d?undefined:_react2["default"].createElement(_CutImageEditMask2["default"],{self:this}),"ipx"!=window.phoneSize.type||e.isLandscape?undefined:_react2["default"].createElement("div",{className:"ipx-status-bar "+(s<192?"light":"")}),"preview"==this.props.viewMode||d?undefined:_react2["default"].createElement(_EightDragSpot2["default"],null),_react2["default"].createElement(_SymbolWHEdit2["default"],{left:0,top:window.isPc?0:($.isUndefined(this.props.pageHeight)?e.isLandscape&&e.active?window.phoneSize.width:window.phoneSize.height:this.props.pageHeight)-(e.isLandscape&&e.active?window.phoneSize.width:window.phoneSize.height),noWidth:!0,changeFunc:_ChangePageHeightHandle.pageHeightChange}))}return n?(a.backgroundColor=this.props.page.backColor,e.active&&l&&(a.height=l),e.active&&!window.notCanvasDev&&window.isPc?_react2["default"].createElement(_ActiveContrs2["default"],{noRender:inactiveNoRender,pageKey:e.key,pageStyle:a,page:e,isCanvas:n}):window.isLoadMulti&&!window.isPc||!window.isLoadMulti&&e.active&&("color-picker"==_CursorStore2["default"].getCursor()||window.temporarySet.downloadActivePage)?_react2["default"].createElement(_InactiveContrs2["default"],{noRender:inactiveNoRender,pageKey:e.key,pageStyle:a,page:e,active:e.active,pageIdx:r,isShow:this.props.isShow,isPageFlowHide:this.props.isPageFlowHide}):null):(a.backgroundColor=-1!=u.indexOf(""+e.key)?"rgba(44, 44, 49, 1)":"rgba(255, 255, 255, 0)",_react2["default"].createElement("div",{className:(0,_classnames2["default"])("mainBox",{"drop-area":"multi-view"==this.props.viewMode&&"fixed-view"==this.props.view.multiViewType,landscape:e.isLandscape&&e.active,portrait:!(e.isLandscape&&e.active),grid:e.grid,hide:!this.props.isShow,hideGuide:!this.props.view.isGuide}),key:e.id,"data-key":e.id,"data-name":e.name,id:e.id,style:a,onDoubleClick:function(){(0,_ChoosePageHandle.choosePageAction)(e.key),_SaveDataStore2["default"].createData({type:"changeFromMultiView",name:"["+e.name+"] 选中该页面",handleObjType:"viewChange",autoSaveType:"none"})},onMouseDown:mouseDown},_react2["default"].createElement("span",{className:"pageName"},this.props.page.name),"multi-view"==this.props.viewMode&&"fixed-view"==this.props.view.multiViewType?_react2["default"].createElement("div",(0,_extends3["default"])({onMouseLeave:this._dragLeave,onMouseMove:this._dragMove},{className:"fixed-drag-bg"})):undefined))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MainBoxComp}(_react.Component),_default=MainBoxComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(mouseDown,"mouseDown","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/MainBox.react.js"),reactHotLoader.register(inactiveNoRender,"inactiveNoRender","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/MainBox.react.js"),reactHotLoader.register(MainBoxComp,"MainBoxComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/MainBox.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/MainBox.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=s(n(1367)),a=s(n(1438)),i=s(n(1439));function s(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var l,u,c=void 0,d=void 0,f={},p={},h=[],g=[],y=null,m={},_=["leftMenu","rightMenu","leftNav","rightNav"],v=["leftMenuBack","rightMenuBack","leftNavBack","rightNavBack"],b={setUpdateFunc:function(e,t){d=e,c=t},getEventType:function(e){return{tA:"tap",dT:"doubletap",hV:"hover",sH:"swipeH",sV:"swipeV",sL:"swipeleft",sR:"swiperight",sT:"swipeup",sD:"swipedown",tM:"timer"}[e]},setEvents:function(e){var t=[],n={},r=void 0,a=!1;if($.isAdvancedAllContr(e.type)&&e.childrenIndex)return b.setAdvancedContrEvents(e),!1;for(var i in e.events)e.events[i].disable||(r=i,"tM"==i?(a=!0,b.isParentMoving(e.updateParent)||function(){var n=e.events[i];t[t.length]=setTimeout(function(){b.triggerActions(n.actions,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent})},100*n.delay)}()):"hV"==i?function(){var t=e.events[i],n=b.getContrSelector(e);n.on("mouseenter",function(){b.triggerActions(t.actions,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent,eventType:"mouseenter"})}),n.off("mouseleave").on("mouseleave",function(){b.triggerActions(t.actions,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent,eventType:"mouseleave"})})}():function(){var t,r,a=b.getContrSelector(e)[0],s=(0,o["default"])(new window.Hammer(a,{touchAction:"auto"})),l=e.events[i].actions,u=b.getEventType(i);-1!==["swipeV","swipedown","swipeup"].indexOf(u)&&s.get("swipe").set({direction:window.Hammer.DIRECTION_VERTICAL}),"swipeH"!=u&&"swipeV"!=u||(u="swipe"),r=l,n[t=u]={hammertime:s,func:function(t){$.hasClass(a,"moving")&&$.isUndefined($(a).attr("data-prevstate"))||b.triggerActions(r,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent}),t.stopPropagation(),t.preventDefault()}},s.on(t,n[t].func)}());if(r){var s='<div class="gesture-tag">'+("tA"==r?"":"<img src='"+window.staticUrl+window.gestureImg[r]+"'/>")+"</div>";b.getContrSelector(e).append(s).addClass("event-show "+r)}return h=h.concat(t),b.saveTmEventData(e,a),{timers:t,eventHammers:n,eTypeClass:r}},setAdvancedContrEvents:function(e){var t=(e.symbolParent?e.symbolParent.join("|")+"~":"")+e.targetId+"~"+e.childrenIndex.join("|");window.advancedContrEvents&&(window.advancedContrEvents[t]=function(){b.triggerActions(e.events.tA.actions,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent})})},saveTmEventData:function(e,t){!m[e.pageKey]&&t&&(m[e.pageKey]={}),t?m[e.pageKey][e.targetId]=!0:m[e.pageKey]&&m[e.pageKey][e.targetId]&&delete m[e.pageKey][e.targetId],m[e.pageKey]&&0===$.objLength(m[e.pageKey])&&delete m[e.pageKey]},triggerActions:function(e,t){if($.query(".mode-btn-mark.active"))return!1;var n=[];$(".current .event-show").removeClass("animating"),$(window).resize(),e.forEach(function(e){if("state"==e.type){var r=void 0,o=void 0;if(t.symbolParent)for(var s=t.symbolParent.length;s>0;s--){var l=$("#"+t.symbolParent.slice(0,s).join(" #")).find("."+e.contr);if(l){r=l,o=t.symbolParent.slice(0,s);break}}else r=$("#"+e.contr);var u=e.endState,d=+r.attr("data-state"),g=e.contr;if(o&&(g=o.join("_")+"_"+e.contr),"mouseleave"==t.eventType){var y=r.attr("data-prevstate");if(d!=u&&d!=y)return!1;u=y}if(u==d||r.attr("data-nextstate")==u)return p[g]&&u==d&&b.killTimeline({contrId:e.contr,endState:d,pageIndex:t.pageIndex,timelineContrId:g,contr:r}),!1;if("mouseenter"==t.eventType&&r.attr("data-prevstate",d),!1===e.animOn)c({contrId:e.contr,state:u,pageIndex:t.pageIndex,parentArr:b.getParentArr(r)});else{p[g]&&(b.killTimeline({contrId:e.contr,endState:u,pageIndex:t.pageIndex,timelineContrId:g,contr:r}),d=u);var m=a["default"].getTimeline(g,d,u);m||(m=i["default"].getTimeline({contrId:e.contr,curr:d,next:u,symbolParent:o}),a["default"].setTimeline(g,d,u,m)),"disabled"==m?c({contrId:e.contr,state:u,pageIndex:t.pageIndex}):"noChange"==m?c({contrId:e.contr,state:u,pageIndex:t.pageIndex,parentArr:b.getParentArr(r)}):(p[g]=m,r.addClass("moving").attr("data-nextstate",u),n.push(m),f[e.contr]=!0,m.eventCallback("onComplete",function(){r.removeAttr("data-nextstate"),c({contrId:e.contr,state:u,pageIndex:t.pageIndex,parentArr:b.getParentArr(r)}),delete p[g],f[e.contr]&&delete f[e.contr]}))}}else if("page"==e.type){var _=$.isUndefined(e.delay)?0:e.delay,v=setTimeout(function(){b.goToPage({curr:t.pageKey,next:e.page,transition:e.transition,time:e.time,distance:e.distance,reset:e.reset})},100*_);h=h.concat(v)}}),n.forEach(function(e){e.play(0)})},goToPage:function(e){if(e.next==e.curr&&!e.reset||$("#page"+e.curr).hasClass("moving")||-1==e.next&&0===g.length||y==e.curr)return!1;var t=$("#page"+e.curr),n=void 0,r=$("#pageContainer"),a=e.next==e.curr;if(b.completeTimeline(),a&&(e.transition="empty"),-1==e.next){var i=g[g.length-1],s=$.isUndefined(e.transition)||"default"==e.transition;n=!0,e.next=i.page,e.transition=s?i.transition:e.transition,e.distance=s?i.distance:e.distance,g.pop()}$(".page.prev").removeClass("prev"),t.removeClass("current").addClass("prev"),t[0].style.animationDuration="";var l=$("#page"+e.next).addClass("current");l[0].style.animationDuration="";var u=t.attr("data-islandscape")!=l.attr("data-islandscape");if(r.attr("class","pageContainer"),e.transition&&"empty"!=e.transition&&"0"!=e.time?(r.addClass("mobile-"+$.humpToHythen(e.transition)+" page-animating"),-1==_.indexOf(e.transition)&&-1==v.indexOf(e.transition)||$.isUndefined(e.distance)||($.setKeyframes(e.transition,e.distance),r.addClass("mobile-"+$.humpToHythen(e.transition)+"-"+$.getDistance(e.distance))),$.isUndefined(e.time)||(t.css("animationDuration",100*e.time+"ms"),l.css("animationDuration",100*e.time+"ms")),t.addClass("moving").on("webkitAnimationEnd",function(){t.off("webkitAnimationEnd"),b.resetPage({currPageDom:t,nextPageDom:l,transition:e.transition,curr:e.curr,next:e.next})}),l.addClass("moving").on("webkitAnimationEnd",function(){l.off("webkitAnimationEnd"),b.resetPage({currPageDom:t,nextPageDom:l,transition:e.transition,curr:e.curr,next:e.next})})):b.resetPage({currPageDom:t,nextPageDom:l,curr:e.curr,next:e.next}),-1!=_.indexOf(e.transition)){var c=(0,o["default"])(new window.Hammer($.getElById("pageMask"),{touchAction:"auto"}));c.on("tap",function t(n){var r=b.goToPage({curr:e.next,next:-1,transition:"default",time:e.time,distance:e.distance});$.isUndefined(r)&&c.off("tap",t),n.stopPropagation()})}n||a||(g.length>0&&-1!=v.indexOf(g[g.length-1].transition)?g[g.length-1].transition="empty":g.push({page:e.curr,transition:$.transitionReverse(e.transition),distance:$.isUndefined(e.distance)?undefined:e.distance}));a||(y=e.curr),b.setPageInfo({curr:e.curr,next:e.next,notToparent:e.notToparent,reset:e.reset,nextPageDom:l}),e.transition&&"empty"!=e.transition&&(window.fixedData&&window.fixedData[e.curr]&&b.correctFixedContr(t),window.fixedData&&window.fixedData[e.next]&&b.correctFixedContr(l)),u&&window.initResize()},setPageInfo:function(e){var t=b.getPageIndex(e.curr),n=b.getPageIndex(e.next);window.pages[t].active=!1,window.pages[n].active=!0,e.reset&&(e.nextPageDom[0].scrollTop=0),d(n,e.reset),e.notToparent||window.setPreviewActivePage&&window.setPreviewActivePage(t,n)},resetPage:function(e){e.currPageDom.removeClass("moving"),e.nextPageDom.removeClass("moving"),-1==_.indexOf(e.transition)&&($("#pageContainer").attr("class","pageContainer"),e.transition&&(window.fixedData&&window.fixedData[e.curr]&&b.correctFixedContr(e.currPageDom,!0),window.fixedData&&window.fixedData[e.next]&&b.correctFixedContr(e.nextPageDom,!0)))},getPageIndex:function(e){var t=void 0;return window.pages.some(function(n,r){return n.key==e&&(t=r),n.key==e}),t},correctFixedContr:function(e,t){var n=e[0].scrollTop;e.find(".fixed").each(function(){var e=$(this);if(t)e.css({top:"",bottom:""}),window.isLocal&&e.css({left:""}),e.removeClass("correct-fixed");else{var r=$(this)[0].offsetTop,o=e.hasClass("correct-fixed")?0:n;e.addClass("correct-fixed"),window.isLocal?e.css({left:$(this).attr("data-ori-left"),top:+$(this).attr("data-ori-top")+o,bottom:0}):e.css({top:o+r,bottom:0})}})},offEvents:function(e){var t=b.getContrSelector(e);for(var n in e.eventHammers){var r=e.eventHammers[n];r.hammertime.off(n,r.func)}t.attr("data-prevstate")&&t.off("mouseenter"),$.isAdvancedAllContr(e.type)||t.removeAttr("style"),t.removeClass("event-show "+e.eTypeClass).children(".gesture-tag").remove(),"text"==e.type&&t.find("p").removeAttr("style"),"wrapbox"==e.type&&t.find(".insetBorder").removeAttr("style"),t.find(".outerBorderBox")&&t.find(".outerBorderBox").removeAttr("style"),e.timers.forEach(function(e){clearTimeout(e)})},completeTimeline:function(){for(var e in p)p[e].progress(1);h.forEach(function(e){clearTimeout(e)}),h=[]},killTimeline:function(e){e.contr.removeAttr("data-nextstate"),p[e.timelineContrId].kill(),c({contrId:e.contrId,state:e.endState,pageIndex:e.pageIndex,parentArr:b.getParentArr(e.contr)}),delete p[e.timelineContrId]},isParentMoving:function(e){if(!e)return!1;for(var t in f)if(-1!=e.indexOf(t))return!0;return!1},hasTmEvents:function(e){return!!m[e]},getContrSelector:function(e){var t=void 0,n="";return e.symbolParent?(t=e.symbolParent.concat()).push(e.targetId):t=[e.targetId],t.forEach(function(e){n+="#"+e+" "}),$(n)},advanceContrDomLevel:function(e){var t=[];switch(e){case"menu":t=["li","li","li","li"];break;case"dropdown":t=["li"]}return t},getParentArr:function(e){var t=[];return e.parents(".cDiv, .mDiv").forEach(function(e){t.push(e.id)}),0==t.length?null:t.reverse()}},w=b;t["default"]=w,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(l.register(c,"UpdateContrFunc","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),l.register(d,"UpdatePageFunc","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),l.register(f,"ChangingContr","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),l.register(p,"RunningTimeline","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),l.register(h,"RunningTimer","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),l.register(g,"PageHistory","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),l.register(y,"PrevPage","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),l.register(m,"pageContrTm","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),l.register(_,"EFFECTARR","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),l.register(v,"BACKEFFECTARR","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),l.register(b,"EventHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js"),l.register(w,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/EventHandle.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&u(e)}).call(this,n(7)(e))},,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(1)),u=n(28),c=s(n(1336)),d=n(98),f=s(n(97)),p=n(628),h=n(145),g=s(n(29)),y=h.elementCanvasBaseVal.OFFSET_X;function m(e,t,n,r,o){var a,i;switch(e){case"top":a=t+r/2,i=n;break;case"left":a=t,i=n+o/2;break;case"right":a=t+r,i=n+o/2;break;case"down":a=t+r/2,i=n+o}return{x:a,y:i}}var _=function(e){function t(t){var n=e.call(this,t)||this;return n.lineDom=null,n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=d.getPageIdByKey(e.pageKey);return-1!=(window.renderPagesKeyArr||[]).indexOf(+n)||(this.props.id!=e.id||this.props.startPosi!=e.startPosi||this.props.endPosi!=e.endPosi||this.props.lineType!=e.lineType||this.props.isHide!=e.isHide||this.props.startKey!=e.startKey||this.props.endKey!=e.endKey||this.props.fixedArrStr!=e.fixedArrStr||this.props.pageKey!=e.pageKey||this.props.hasComment!=e.hasComment||this.props.text!=e.text||this.props.zoom!=e.zoom||this.props.commentPercent!=e.commentPercent||this.props.commentWidth!=e.commentWidth||this.props.commentHeight!=e.commentHeight||this.props.startPagePos!=e.startPagePos||this.props.endPagePos!=e.endPagePos||this.props.opacityVale!=e.opacityVale||this.props.isPageSelect!=e.isPageSelect||this.props.isLineSelect!=e.isLineSelect||this.props.noStartSupply!=e.noStartSupply||this.props.noEndSupply!=e.noEndSupply||this.props.isPageDrag!=e.isPageDrag||this.props.startPoint!=e.startPoint||this.props.endPoint!=e.endPoint||this.props.elementPosi!=e.elementPosi||this.props.isShowLongPage!=e.isShowLongPage)},t.prototype.render=function(){var e,t=this,n=$.extend(!0,{},t.props),r=n.pageKey,o=n.endKey,i=n.startKey,s=n.id,d=n.startPosi,h=n.endPosi,_=n.fixedArr,v=n.zoom,b=n.noStartSupply,w=n.noEndSupply,C=n.startPoint,x=n.endPoint;if(n.isConnect){var S=function(e,t){var n,r,o=g["default"].getPrdElementById(e),a=o.x,i=o.y,s=o.width,l=o.height,u=g["default"].getPrdElementById(t),c=u.x,d=u.y,h=u.width,_=u.height;a+=y,c+=y;var v=f["default"].getPageToPagePath({pageX:a,pageY:i,pageWidth:s,pageHeight:l,startX:a,startY:i,startWidth:s,startHeight:l,endX:c,endY:d,endWidth:h,endHeight:_,fixedArr:[]});n=v.startPosi,r=v.endPosi;var b=m(n,a,i,s,l),w=b.x,C=b.y,x=m(r,c,d,h,_),S=x.x,P=x.y,k=p.getEndsPoint({startKey:e,startX:w,startY:C,endKey:t,endX:S,endY:P});return{startPosi:n,endPosi:r,startPoint:k.startPoint,endPoint:k.endPoint}}(i,o);d=S.startPosi,h=S.endPosi,C=S.startPoint,x=S.endPoint}if(C&&x)e=f["default"].getPrdLinePointArr(a({},t.props,{startPosi:d,endPosi:h,startPoint:C,endPoint:x}));else{var P=f["default"].getPointArr({pageKey:r,endKey:o,startKey:i,id:s,startPosi:d,endPosi:h,fixedArr:_,zoom:v,noStartSupply:b,noEndSupply:w}).pointArr;e=void 0===P?[]:P}var k="",O=!1;return e.length>0?e.forEach(function(e){e[0]==+e[0]&&e[1]==+e[1]||!O||(O=!0),k+=e.join("|")+"*"}):O=!0,O?null:l["default"].createElement(u.Group,{ref:function(e){return t.lineDom=e}},l["default"].createElement(c["default"],a({pointArr:e,pointArrString:k},this.props)))},t}(l.Component);t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(11)),d=l(n(3)),f=l(n(12)),p=window.$,h=!1,g=!0,y=function(e){function t(t){var n=e.call(this,t)||this;return n.thisInput=null,n.state={name:null,isFocus:!1,oldContent:"",readOnly:!0},n}return o(t,e),t.prototype.componentDidUpdate=function(){var e=this.thisInput,t=this.state.readOnly;this.props.needDivision&&e&&g&&!t&&(e.focus(),e.select(),g=!1)},t.prototype._contrNameChange=function(e){var t=this.props,n=t.limitNum,r=t.toastName;!h&&n&&e.currentTarget.value.gblen()>n&&(e.currentTarget.value=e.currentTarget.value.slice(0,n),f["default"].show((r||"列表项文本内容")+"不能超过"+n+"个字符"))},t.prototype._contrNameBlur=function(e){var t=this.props,n=t.noLimit,r=t.idx,o=this.state.oldContent,a=window.maxNameLength,i=e.currentTarget.value.trim(),s=i.gblen()>a;""!==i&&i!==this.props.name?this.props.updateFunc?this.props.updateFunc(i,r):s&&!n||f["default"].show("组件名称修改成功"):""==i&&(e.currentTarget.value=o),g=!0,this.setState({name:null,isFocus:!1,readOnly:!0});var l=p.query(".no-drag-event");p.removeClass(l,"no-drag-event"),this.props.showIcon&&this.props.showIcon()},t.prototype._handleComposition=function(e){"compositionend"===e.type?(h=!1,this._contrNameChange(e)):h=!0},t.prototype._contrNameFocus=function(e){this.setState({name:null,isFocus:!0,oldContent:e.currentTarget.value}),e.currentTarget.focus(),p.rangeGoEnd(e),e.stopPropagation();var t=p(e.currentTarget).parents(".list-data-layer")[0];p.hasClass(t,"no-drag-event")||p.addClass(t,"no-drag-event")},t.prototype.cancelReadOnly=function(e){this.setState({readOnly:!1}),this.props.noShowIcon&&this.props.noShowIcon()},t.prototype.render=function(){var e=this,t=p.isNull(e.state.name)?e.props.name:e.state.name,n=e.props,r=n.isArea,o=n.text,i=void 0===o?"重命名":o,s=n.disable,l=void 0!==s&&s,d=n.needDivision,f=n.searchText,h=void 0===f?"":f,g=n.alwaysReadOnly,y=this.state.readOnly,m={className:i&&!d?"a_c":"",defaultValue:t,"data-contr":"hovertip","data-option":i?p.objToString({text:i,changePosi:7}):null,onChange:e._contrNameChange,onBlur:e._contrNameBlur,onMouseDown:e._contrNameFocus,placeholder:"请输入选项内容"};t=t||"请输入选项内容";var _=d&&y||g,v=h&&p.searchIn(h,t,!0,!0);return u["default"].createElement("div",{className:c["default"]("list-change-name C-name-input",{"name-disable":l,"list-name-show-input":!_})},r?u["default"].createElement("textarea",a({},m)):_?v?u["default"].createElement("div",{onDoubleClick:this.cancelReadOnly,className:"readonly-input",dangerouslySetInnerHTML:{__html:v}}):u["default"].createElement("div",{onDoubleClick:this.cancelReadOnly,className:"readonly-input"},t):u["default"].createElement("input",a({ref:function(t){e.thisInput=t},onCompositionStart:e._handleComposition,onCompositionUpdate:e._handleComposition,onCompositionEnd:e._handleComposition},m)),u["default"].createElement("pre",null,t))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_contrNameChange",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_contrNameBlur",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleComposition",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_contrNameFocus",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"cancelReadOnly",null),t}(u["default"].Component);t["default"]=y},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({LEFTLABEL_CHANGE:null,LEFTLABEL_FOLD:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/LeftLabelConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.initMousetrap=q;var r,o=U(n(6)),a=U(n(51)),i=U(n(5)),s=U(n(473)),l=U(n(10)),u=U(n(119)),c=U(n(886)),d=U(n(81)),f=U(n(48)),p=U(n(32)),h=U(n(40)),g=U(n(432)),y=U(n(27)),m=U(n(89)),_=U(n(253)),v=U(n(905)),b=U(n(132)),w=U(n(829)),C=U(n(12)),x=U(n(340)),S=U(n(849)),P=U(n(937)),k=U(n(78)),O=n(431),E=n(216),T=n(61),M=n(85),D=n(938),A=n(445),j=n(1228),I=n(443),L=n(859),R=n(1229),B=n(1230),N=n(940),F=n(354),H=n(77),z=n(208);U(n(974));function U(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var V=void 0,K=["t","r","o","p","i","l","h","n","s"];window.isDevelop&&K.push("d");var G={a:function(){window.Mousetrap.bind("a",function(){return!h["default"].isSelectTableCell()&&(!u["default"].getCutImageShow()&&void(window.isKeyDown.isSelect||(s["default"].changeMaskShow(!0,window.mousePosi,"selectKey"),window.isKeyDown.isSelect=!0)))},"keydown"),window.Mousetrap.bind("a",function(e){if(u["default"].getCutImageShow())return!1;window.isKeyDown.isSelect=!1,s["default"].changeMaskShow(!1,[e.pageX,e.pageY],"selectKey")},"keyup")},b:function(){window.Mousetrap.bind("b",function(){return!h["default"].isSelectTableCell()&&($("#bottomPanel .pullBar").click(),!1)})},tab:function(){window.Mousetrap.bind("tab",function(){if((0,A.hideColorPicker)(),!$("#allPanel").hasClass("colorPicker")){if(p["default"].getSymbolMaskShow())$(".symbol-nav .material-icons").click();else if(u["default"].getCutImageShow()){var e=$.query("#boxLabel");e&&e.click()}else window.isPc||(0,D.toMutiviewClick)();return!1}},"keydown")},z:function(){window.Mousetrap.bind("z",function(){if(h["default"].isSelectTableCell())return!1;window.isKeyDown.isZoom||(s["default"].changeMaskShow(!0,window.mousePosi,"zoomKey"),window.isKeyDown.isZoom=!0)},"keydown"),window.Mousetrap.bind("z",function(e){window.isKeyDown.isZoom=!1,s["default"].changeMaskShow(!1,[e.pageX,e.pageY],"zoomKey")},"keyup")},alt:function(){window.Mousetrap.bind(window.hotKey.alt,function(){window.isKeyDown.isAlt=!0,$.addClass($.getElById("reactBox"),"isAltKey"),window.isKeyDown.isZoom&&s["default"].changeMaskShow(!0,window.mousePosi,"zoomKey")},"keydown"),window.Mousetrap.bind(window.hotKey.alt,function(e){window.isKeyDown.isAlt=!1,$.removeClass($.getElById("reactBox"),"isAltKey"),window.isKeyDown.isZoom?s["default"].changeMaskShow(!0,window.mousePosi,"zoomKey"):s["default"].changeMaskShow(!1,[e.pageX,e.pageY],"zoomKey")},"keyup")},space:function(){window.Mousetrap.bind("space",function(e){window.isKeyDown.isSpace||(s["default"].changeMaskShow(!0,window.mousePosi,"spaceKey"),window.isKeyDown.isSpace=!0,e.preventDefault())},"keydown"),window.Mousetrap.bind("space",function(e){window.isKeyDown.isSpace=!1,s["default"].changeMaskShow(!1,[e.pageX,e.pageY],"spaceKey"),"preview"==i["default"].getViewMode()&&$.getElById("previewPlay").click()},"keyup")},shift:function(){window.Mousetrap.bind("shift",function(){window.isKeyDown.isShift=!0},"keydown"),window.Mousetrap.bind("shift",function(){window.isKeyDown.isShift=!1},"keyup")},p:function(){window.Mousetrap.bind("p",function(){window.isKeyDown.isP=!0},"keydown"),window.Mousetrap.bind("p",function(){window.isKeyDown.isP=!1},"keyup")},l:function(){window.Mousetrap.bind("l",function(){window.isKeyDown.isL=!0},"keydown"),window.Mousetrap.bind("l",function(){window.isKeyDown.isL=!1},"keyup")},command:function(){window.Mousetrap.bind(window.hotKey.command,function(){var e=p["default"].getSymbolMaskShow(),t=e?$.query(".symbolMaskBox"):$.query(".mainBox.active");!$("#allPanel").hasClass("colorPicker")&&t&&($.addClass(t,"isCmdKey"),g["default"].emitChange(),(e?$(".symbolMaskBox .isC"):$(".mainBox.active .isC")).on("mousedown",function(e){var t=$(e.currentTarget),n=t.attr("data-id"),r=o["default"].getSelect();1==r.length&&r[0]==n?C["default"].show("当前已选中"):$.quickSelectContr(t),(window.isMac?e.metaKey:e.ctrlKey)||$.removeFunc(),$.preventDefault(e)}))},"keydown"),window.Mousetrap.bind(window.hotKey.command,$.removeFunc,"keyup")},"alt+-":function(){window.Mousetrap.bind(["alt+-","-","shift+-",window.hotKey.command+"+-"],function(){var e=void 0,t=void 0;return"multi-view"==i["default"].getViewMode()?(t=(e=100*i["default"].getZoom())>25?e-5:25)!=e&&(0,E.viewZoomChange)(t):(t=(e=a["default"].getZoom())>50?e-10:50)!=e&&(0,E.zoomChange)(t),!1})},"alt+=":function(){window.Mousetrap.bind(["alt+=","=","shift+=",window.hotKey.command+"+="],function(){var e=void 0,t=void 0;return"multi-view"==i["default"].getViewMode()?(t=(e=100*i["default"].getZoom())<75?e+5:75)!=e&&(0,E.viewZoomChange)(t):(t=(e=a["default"].getZoom())<200?e+10:200)!=e&&(0,E.zoomChange)(t),!1})},"alt+1-9":function(){for(var e=1;e<10;e++)!function(e){window.Mousetrap.bind("alt+"+e,function(){return window.document.querySelectorAll("#rightLabelBox .tabLabel").length>e-1&&window.document.querySelectorAll("#rightLabelBox .tabLabel")[e-1].click(),!1})}(e)},"alt+shift+1-9":function(){for(var e=1;e<10;e++)!function(e){window.Mousetrap.bind("alt+shift+"+e,function(){return window.document.querySelectorAll("#leftLabelBox .tabLabel").length>e-1&&window.document.querySelectorAll("#leftLabelBox .tabLabel")[e-1].click(),!1})}(e)},"command+a":function(){window.Mousetrap.bind(window.hotKey.command+"+a",function(){return h["default"].isSelectTableCell()?(0,F.selectAllCell)():(u["default"].getCutImageShow()&&$.query("#boxLabel").click(),"multi-view"!=i["default"].getViewMode()?m["default"].selectAll():b["default"].selectAll()),!1})},"command+b":function(){window.Mousetrap.bind(window.hotKey.command+"+b",function(){return $("#noteLabel").click(),setTimeout(function(){$("#editNoteTextarea")[0].select()},0),!1})},"command+.":function(){window.Mousetrap.bind(window.hotKey.command+"+.",function(){var e=$("#allPanel");return e.hasClass("canvasRenderDev")?e.removeClass("canvasRenderDev"):e.addClass("canvasRenderDev"),!1})},"command+enter":function(){window.Mousetrap.bind(window.hotKey.command+"+enter",function(){var e=$.query(".fold-btn.play-btn");return e&&e.click(),!1})},enter:function(){window.Mousetrap.bind("enter",function(e){if((0,H.isSelectOneCell)()&&!h["default"].isEdting()){var t=$.getElById("textLabel");return t&&t.click(),$.preventDefault(e),!1}})},move:function(){var e=[["up","up",1,!1,-1],["down","down",1,!1,1],["left","left",1,!0,-1],["right","right",1,!0,1],["shift+up","up",10,!1,-10],["shift+down","down",10,!1,10],["shift+left","left",10,!0,-10],["shift+right","right",10,!0,10]];e.forEach(function(e){window.Mousetrap.bind(e[0],function(t){if(h["default"].isSelectTableCell())(0,F.MouseKeyChangeSelect)(e[1],t.shiftKey,$.isCommonByEvent(t));else if(u["default"].getCutImageShow()){var n={},r=u["default"].getCutVals();u["default"].getCutImage().isCutSpot?e[3]?n.left=r.left+e[4]:n.top=r.top+e[4]:e[3]?n.boxLeft=r.boxLeft+e[4]:n.boxTop=r.boxTop+e[4],w["default"].changeCutVals(n)}else if(o["default"].getSelect(!0).length>0)(0,j.contrKeyMove)(e[1],e[2]);else{var a=0,i=0,s=f["default"].getCurPos();"up"==e[1]?i=25*e[2]*-1:"down"==e[1]?i=25*e[2]*1:"left"==e[1]?a=25*e[2]*-1:"right"==e[1]&&(a=25*e[2]*1),(0,E.posChange)({left:s.left+a,top:s.top+i,transition:!1,autoOff:!0})}return!1},"keydown")}),e.forEach(function(e){window.Mousetrap.bind(e[0],function(){return clearTimeout(V),V=setTimeout(function(){(0,T.setAutoSaveChangePages)("__pageContrs",!0),_["default"].show(!1)},1e3),!1},"keyup")})},backspace:function(){window.Mousetrap.bind(["backspace","del"],function(e){return u["default"].getCutImageShow()&&$.query("#boxLabel").click(),y["default"].getSelectArr().length?(0,L.deleteSelectLinkLine)():h["default"].isSelectTableCell()&&"TEXTAREA"!==e.target.nodeName?((0,z.updateCellData)({text:{content:""}}),l["default"].createData({type:"tableDeleteText",name:"删除表格文本内容",handleObjType:"table",autoSaveType:"pageContrs"})):$.hasClass($.getElById("noteLabel"),"active")?(d["default"].removeEditNote(),(0,T.setAutoSaveChangePages)("__pageVals",!0)):"multi-view"!=i["default"].getViewMode()?o["default"].getSelect().length>0&&(0,I.deleteSelectContrAction)():b["default"].deletePages(),!1})},"alt+c":function(){window.Mousetrap.bind(window.hotKey.alt+"+c",function(){return"edit-view"!=i["default"].getViewMode()&&(u["default"].getCutImageShow()&&$.query("#boxLabel").click(),1===o["default"].getSelect().length?P["default"].editContr():0===o["default"].getSelect().length&&P["default"].editProject()),!1})},"alt+shift+c":function(){window.Mousetrap.bind(window.hotKey.alt+"+shift+c",function(){return"edit-view"!=i["default"].getViewMode()&&(u["default"].getCutImageShow()&&$.query("#boxLabel").click(),P["default"].editPage()),!1})},"command+s":function(){window.Mousetrap.bind(window.hotKey.command+"+s",function(){if(1===o["default"].getSelect().length){var e=$.getElById("saveControl"),t=$.getElById("boxSetting");if(e)e.click();else if(t&&"hotspot"==t.getAttribute("data-type"))C["default"].show("热区不能被单独保存");else try{$.getElById("boxLabel").click(),setTimeout(function(){$.getElById("saveControl").click()},0)}catch(n){log("saveControl")}}else 0===o["default"].getSelect().length&&(window.noNew?window.saving||(window.saving=!0,(0,T.saveFunc)(),setTimeout(function(){window.saving=!1},2e3)):S["default"].saveProject());return!1})},"command+shift+s":function(){window.Mousetrap.bind(window.hotKey.command+"+shift+s",function(){return"multi-view"!=i["default"].getViewMode()&&x["default"].getPageLib(S["default"].savePage),!1})},"command+p":function(){window.Mousetrap.bind(window.hotKey.command+"+p",function(){return S["default"].preview(),!1})},"command+c":function(){window.Mousetrap.bind(window.hotKey.command+"+c",function(){if(h["default"].isSelectTableCell())X.copyTableCell();else if($("#structList li.isSelect").length>0){var e=$.getStructSelectArr(),t=[],n=(0,M.getFolderAllVal)(e,t);X.copyPage(t,n),window.localStorage.copyType="page"}else"multi-view"!=i["default"].getViewMode()?(X.copyContr(),window.localStorage.copyType="contr"):(X.copyPage(),window.localStorage.copyType="page");return!1})},"command+x":function(){window.Mousetrap.bind(window.hotKey.command+"+x",function(){if("multi-view"!=i["default"].getViewMode())if(h["default"].isSelectTableCell())X.copyTableCell(!0);else{u["default"].getCutImageShow()&&$.query("#boxLabel").click(),$.clearPaste();var e=o["default"].getSelectContrByHierarchy(!0);if(e&&e.length>0){var t=i["default"].getActivePage(!0);k["default"].removeInitVal(e,undefined,t.isLandscape),e[0].copyKey=(window.noLogin?"nologin":window.loginInfo.userImage)+(new Date).getTime(),c["default"].setCopyKey(e[0].copyKey),window.localStorage.copy=$.objToString(e),(0,I.deleteSelectContrAction)()}}return!1})},"command+shift+v":function(){window.Mousetrap.bind(window.hotKey.command+"+shift+v",function(){return"multi-view"!=i["default"].getViewMode()?$.pasteFunc(window.event,window.mousePosi):(0,O.getPageFromClipboard)(window.mousePosi),!1})},"command+g":function(){window.Mousetrap.bind([window.hotKey.command+"+g"],function(){return"multi-view"!=i["default"].getViewMode()&&o["default"].getSelect().length>1&&$.getElById("mergeBtn").click(),!1})},"command+shift+g":function(){window.Mousetrap.bind([window.hotKey.command+"+shift+g"],function(){if("multi-view"!=i["default"].getViewMode()){var e=o["default"].getSelect();1==e.length&&"wrapbox"==e[0].split("_")[0]&&$.getElById("resolveBtn").click()}return!1})},esc:function(){window.Mousetrap.bind("esc",function(){var e=$("#closeBtn");if($("#allPanel").hasClass("colorPicker"))(0,A.hideColorPickerGlass)();else if(u["default"].getCutImageShow()){var t=$.query("#boxLabel");t&&t.click()}else"preview"==i["default"].getViewMode()?v["default"].exit():e.length>0&&e.click()})}};function q(){for(var e in window.Mousetrap.reset(),G)G[e]()}K.forEach(function(e){G[e]=function(){var t="is"+e.toUpperCase();window.Mousetrap.bind(e,function(n){if(h["default"].isSelectTableCell())return!1;window.isKeyDown[t]||(s["default"].changeMaskShow(!0,window.mousePosi,e+"Key"),window.isKeyDown[t]=!0,n.preventDefault())},"keydown"),window.Mousetrap.bind(e,function(n){window.isKeyDown[t]=!1,s["default"].changeMaskShow(!1,[n.pageX,n.pageY],e+"Key")},"keyup")}});var W,Y,X={copyContr:B.copyContr,copyPage:R.copyPage,copyTableCell:N.copyTableCell},Z={initMousetrap:q};t["default"]=Z,(W=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(W.register(V,"t","/Users/liniuniu/project/xiaopiu-team/browser/src/js/util/init/initMousetrap.js"),W.register(K,"baseContrKey","/Users/liniuniu/project/xiaopiu-team/browser/src/js/util/init/initMousetrap.js"),W.register(G,"InitMousetrap","/Users/liniuniu/project/xiaopiu-team/browser/src/js/util/init/initMousetrap.js"),W.register(q,"initMousetrap","/Users/liniuniu/project/xiaopiu-team/browser/src/js/util/init/initMousetrap.js"),W.register(X,"funcHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/js/util/init/initMousetrap.js"),W.register(Z,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/util/init/initMousetrap.js")),(Y=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&Y(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(173)),i=window.$;function s(e,t,n){var r={},s=o["default"].getView();for(var l in o["default"].setLastSaveKey(e.lastSaveKey),a["default"].initUpdateTime(e.updateTime),e)if("content"==l)for(var u in r.content={},e[l])r.content[u]=i.extend(!0,{},e[l][u]),t&&t(u);else r[l]=e[l];o["default"].setProjectDataObj(r),n||(s.initStructHierarchy=i.extend(!0,[],s.structHierarchy))}t.addProjectInit=s,t["default"]={addProjectInit:s}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(48));window.$;function i(e){"free-view"==e?a["default"].resetFreeViewPos():"fixed-view"==e&&a["default"].resetFixedViewPos(),o["default"].setViewProp({multiViewType:e})}t.changeMultiViewType=i,t["default"]={changeMultiViewType:i}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(34)),i=o(n(29)),s=o(n(91)),l=o(n(10)),u=o(n(67)),c=n(314),d=n(869),f=n(875),p=n(224),h=n(26),g=n(222),y=o(n(97)),m=n(118),_=n(170),v=115;function b(e){if(window.localStorage.prd||e){var t=function(e){var t,n;return(t=e||(n=$.stringToObj(window.localStorage.prd)).copyElement).forEach(function(e){e.isLine?g.clearDefaultValue(e):g.clearDefaultValue(e,"null")}),{prdObj:n,copyElement:t}}(e),n=t.prdObj,o=t.copyElement;if(o&&o.length>0){var h=$.extend(!0,[],o),m=p.getSelectStruct(),v=m.id,b=m.elementHierarchy.slice(),C=a["default"].getSelectElementArr(),x=u["default"].getPrdSelectArr(),S=[],P=[],k=y["default"].getAllLinePointPosi(),O=[],E=d.getSeveralElementPos(o,!1,k).height,T=o.length==C.length+x.length&&o.every(function(e){return-1!=C.indexOf(e.id)||-1!=x.indexOf(e.id)});o.forEach(function(e,t){if(e.isLine)!function(e){var t=e.element,n=e.isPasteBelow,o=e.height,i=e.elementIdChangeArr,s=e.localCopyElement,l=e.index,c=e.newSelectArr,d=t.startKey,f=t.endKey,p=t.fixedArr,h=t.startPoint,g=t.endPoint;n&&(d||(t.startPoint=[h[0],h[1]+o]),f||(t.endPoint=[g[0],g[1]+o]),p.length&&p.forEach(function(e,t){p[t]=[e[0],e[1]+o]})),delete t.id,delete t.structKey,delete t.isLine,["startKey","endKey"].forEach(function(e){t[e]&&i.some(function(n){var r=n.oldId,o=n.newId;return r==t[e]&&(t[e]=o,!0)})});var y=r({},t,{id:_.generateUUID(),structKey:a["default"].getSelectStructKey()});n&&(s[l].startPoint=y.startPoint,s[l].endPoint=y.endPoint,s[l].fixedArr=y.fixedArr,s[l].id=y.id),u["default"].setLineLink(y,!0),c.push(y.id)}({element:e,isPasteBelow:T,height:E,elementIdChangeArr:O,localCopyElement:h,index:t,newSelectArr:P});else{T&&(e.y+=E);var n=e.id;delete e.id,delete e.pageId;var o=f.createBaseElement({vals:e});T&&(h[t].y+=E,h[t].id=o.id),i["default"].createElement(o,!0),S.push(o.id),O.push({oldId:n,newId:o.id})}}),s["default"].updateStructById({updateVal:{elementHierarchy:S.concat(b)},id:v,noEmit:!0}),c.changeElementSelect(S),u["default"].setPrdSelectArr(P),setTimeout(function(){w(T)},0),T&&!e&&(h.forEach(function(e){e.isLine?g.clearDefaultValue(e,{},!0):g.clearDefaultValue(e,"null",!0)}),n.copyElement=h,window.localStorage.prd=$.objToString(n)),l["default"].createData({type:"pastePrdElement",name:"PRD 粘贴组件",autoSaveType:"prd"})}}}function w(e){var t=function(e){var t=$.offset(e,!0),n=$.offset(window.document.body,!0),r=t.top,o=t.height,a=n.height,i=r+o;return{isInView:i>v&&i<a||r>v&&r<a,domOffset:t,viewOffset:n}}($.query(".prd-drag-container")),n=t.isInView,r=t.domOffset,o=t.viewOffset;if(!n){var s,l=r.top,u=r.height,c=o.height;if(s=u>c-v?l-50:l+u/2-(c-v)/2,e){var d=$(".prd-content-panel"),f=d.scrollTop()+s-v;a["default"].setScrollTop(f),d.scrollTop(f)}else{h.getSelectElementByHierarchy().forEach(function(e){var t=e.id,n=e.y;i["default"].updateValById({id:t,updateVal:{y:n-s+v},noEmit:!0})}),i["default"].emitChange()}}}t.prdPasteEvent=function(e){var t,n,r,o=e&&e.clipboardData,a=0;if(o){if(!(t=o.items))return;for(n=t[0],r=o.types||[];a<r.length;a++)if("Files"===r[a]){n=t[a];break}n&&"file"===n.kind&&n.type.match(/^image\//i)?$.imgReader(n,function(e){if(e){var t=$.query(".prd-insert-list-panel>.image-box");$(t).trigger("mousedown"),m.updatePrdImageSrc({width:e.width,height:e.height,fd:e.fd,name:e.name},!0)}else b()}):b()}else b()},t.pastePrdElement=b,t.changeScrollTop=w,t["default"]={pastePrdElement:b}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=n(88);function i(e){var t=window.renderSymbol;if(!t)return!1;if("symbol"==e.type){if(e.symbolKey==t)return!0;for(var n=a.getSymbolChildContr(e.symbolKey,!0),r=0;r<n.length;r++){if(i(n[r]))return!0}}else if("wrapbox"==e.type)for(var o in e.contrs){if(i(e.contrs[o]))return!0}return!1}function s(e){var t=o["default"].getSymbolContr(),n=t.symbols[e]&&t.symbols[e].hierarchy;n&&n.forEach(function(e){t.contrs[e]&&delete t.contrs[e]}),function(e){var t=o["default"].getSymbolContr();for(var n in t.contrs)t.contrs[n].symbolKey==e?(delete t.contrs[n],l(n)):"wrapbox"==t.contrs[n].type&&u(e,t.contrs[n].contrs,t.contrs[n])}(e),t.symbols[e]&&delete t.symbols[e]}function l(e){var t=o["default"].getSymbolContr();for(var n in t.symbols)-1!=t.symbols[n].hierarchy.indexOf(e)&&t.symbols[n].hierarchy.remove(e)}function u(e,t,n){for(var r in t)"symbol"==t[r].type&&t[r].symbolKey==e?(delete t[r],n.hierarchy.remove(r)):"wrapbox"==t[r].type&&u(e,t[r].contrs,t[r])}t.hasEditSymbol=i,t.deleteSymbol=s,t["default"]={hasEditSymbol:i,deleteSymbol:s}},,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=n(96).colorToGray,l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){return e.phoneView||!!window.isPrototypeTool&&"ipx"==window.phoneSize.type&&this.props.backColor!=e.backColor||e.isLandscape!=this.props.isLandscape},t.prototype.render=function(){var e,t=this.props.phoneView,n=t?window.previewFrameSize:window.phoneSize,r={},o=t?window.phoneTypeObj[window.previewFrameSize.type]:window.phoneTypeObj[window.phoneSize.type],a=this.props.backColor&&t?s(this.props.backColor,!0):0,l=window.phoneModelSizeObj[n.type]||$.getOtherPhoneSize(n);return this.props.isLandscape&&(r.transformOrigin=Math.floor(n.width/2+l[4])+1+"px "+(Math.floor(n.width/2+l[2])+1)+"px"),o&&"ip5"!=n.type?e="ipx"==n.type?i["default"].createElement("div",{className:"mobile-model",style:r},i["default"].createElement("div",{className:"page-bg",style:{backgroundColor:this.props.backColor}},t&&!this.props.isLandscape?i["default"].createElement("div",{className:"ipx-status-bar "+(a<192?"light":"")}):undefined,i["default"].createElement("div",{className:"indicator "+(a<192?"light":"")})),i["default"].createElement("div",{className:"mobile-image"})):i["default"].createElement("div",{className:"mobile-model",style:r}):("ip5"!=n.type&&(r.height=n.height+186,r.width=n.width+34),e=i["default"].createElement("div",{className:"mobile-model",style:r},t?undefined:i["default"].createElement("i",{className:"phone-size-tips material-icons iconfont a_c","data-contr":"hovertip","data-option":'{"text":"手机预览时，自动适配所有手机分辨率", "direction": "top", "changePosi": 10}'},"help_outline"),i["default"].createElement("div",{className:"power-button"}),i["default"].createElement("div",{className:"camera"}),i["default"].createElement("div",{className:"handset"}),i["default"].createElement("ul",{className:"volume-button-group"},i["default"].createElement("li",null),i["default"].createElement("li",null),i["default"].createElement("li",null)),i["default"].createElement("div",{className:"home-button"}))),e},t}(i["default"].Component);t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i={isShow:!1,left:0,top:0,id:null};var s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getData=function(){return i},t.prototype.update=function(e){var t;i.isShow&&e.left==i.left&&e.top==i.top&&e.id==i.id||(!function(e){i.left=e.left,i.top=e.top,i.id=e.id}(e),t=!0,i.isShow=t,s.emitChange())},t.prototype.show=function(e){i.isShow=e,s.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=s},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_MergeBoxStore=__webpack_require__(24),_MergeBoxStore2=_interopRequireDefault(_MergeBoxStore),_RedLineStore=__webpack_require__(268),_RedLineStore2=_interopRequireDefault(_RedLineStore),_SymbolMaskStore=__webpack_require__(32),_SymbolMaskStore2=_interopRequireDefault(_SymbolMaskStore),_GetParentRotateValsHandle=__webpack_require__(256),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var RedLineComp=function(_Component){function RedLineComp(){(0,_classCallCheck3["default"])(this,RedLineComp);var e=_RedLineStore2["default"].getRedLineObj(),t=(0,_possibleConstructorReturn3["default"])(this,(RedLineComp.__proto__||(0,_getPrototypeOf2["default"])(RedLineComp)).call(this));return t.state={renderChange:0,redLineX:e.redLineX,redLineY:e.redLineY},t._onRedLineChange=t._onRedLineChange.bind(t),t}return(0,_inherits3["default"])(RedLineComp,_Component),(0,_createClass3["default"])(RedLineComp,[{key:"shouldComponentUpdate",value:function(e,t){return t.renderChange!==this.state.renderChange}},{key:"componentWillMount",value:function(){_RedLineStore2["default"].addChangeListener(this._onRedLineChange)}},{key:"componentWillUnmount",value:function(){_RedLineStore2["default"].removeChangeListener(this._onRedLineChange)}},{key:"_onRedLineChange",value:function(){var e=_RedLineStore2["default"].getRedLineObj();this.setState({renderChange:this.state.renderChange+1,redLineX:e.redLineX,redLineY:e.redLineY})}},{key:"render",value:function(){var e=this.props.height,t=[],n=[],r=_SymbolMaskStore2["default"].getSymbolMaskShow()&&_SymbolMaskStore2["default"].getSymbolMaskContr(),o={};if(r&&(o.left=r.left,o.top=r.top),e&&(o.height=e),this.state.redLineX.length>0||this.state.redLineY.length>0){var a=void 0,i=void 0,s=void 0,l=void 0,u=void 0;if(!r){var c=_ContrStore2["default"].getFirstSelectContr();l=(0,_GetParentRotateValsHandle.getParentRotateVals)(!0,!1,function(e,t){var n=$.rotateToAngle(t.rotate),r=$.angleChangeArrVals([t.left,t.top],n);return e.rotate(n).translate(r[0],r[1])}),a=$.rotateToAngle(l.rotate),(s=_MergeBoxStore2["default"].getIsWrapEdit())&&(u=_MergeBoxStore2["default"].getThisContr(),u=_ContrStore2["default"].getAllValsContr({contrKey:u}),i=$.getContrId(c)==$.getContrId(u))}this.state.redLineX.forEach(function(e){var n=r?{left:e,height:"100%"}:{left:e/Math.cos(a),height:s&&!i?u.height:"100%",transform:l.matrix.translate(-l.left,e*Math.sin(a)/Math.cos(a)).toCSSTransform(),transformOrigin:"0% 0%"};t.push(_react2["default"].createElement("div",{key:"redX_"+e,className:"guidXLine redLine",style:n}))}),this.state.redLineY.forEach(function(e){var t=r?{top:e,width:"100%"}:{top:e/Math.cos(a),width:s&&!i?u.width:"100%",transform:l.matrix.translate(-e*Math.sin(a)/Math.cos(a),-l.top).toCSSTransform(),transformOrigin:"0% 0%"};n.push(_react2["default"].createElement("div",{key:"redY_"+e,className:"guidYLine redLine",style:t}))})}return _react2["default"].createElement("div",{className:"redLineBox",style:o},t,n)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RedLineComp}(_react.Component),_default=RedLineComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(RedLineComp,"RedLineComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/RedLine.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/RedLine.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_GetCutImageDom=__webpack_require__(1243),_GetCutImageDom2=_interopRequireDefault(_GetCutImageDom),_CutImageStore=__webpack_require__(119),_CutImageStore2=_interopRequireDefault(_CutImageStore),_ZoomStore=__webpack_require__(51),_ZoomStore2=_interopRequireDefault(_ZoomStore),_SaveDataStore=__webpack_require__(10),_SaveDataStore2=_interopRequireDefault(_SaveDataStore),_SymbolMaskStore=__webpack_require__(32),_SymbolMaskStore2=_interopRequireDefault(_SymbolMaskStore),_CutImageActions=__webpack_require__(829),_CutImageActions2=_interopRequireDefault(_CutImageActions),_MoveTipActions=__webpack_require__(253),_MoveTipActions2=_interopRequireDefault(_MoveTipActions),_BaseUtil=__webpack_require__(150),_GetParentRotateValsHandle=__webpack_require__(256),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var isClickBox={cutImage:!1,cutImageBg:!1};function _editMaskMouseDown(e){var t=_CutImageStore2["default"].getCutImageContr().cutVals,n=_ZoomStore2["default"].getZoom()/100,r={left:t.left,top:t.top},o={boxLeft:t.boxLeft,boxTop:t.boxTop},a=isClickBox.cutImage,i=isClickBox.cutImageBg,s=[e.clientX,e.clientY],l=[e.clientX,e.clientY],u=(0,_GetParentRotateValsHandle.getParentRotateVals)(!1,!0),c=$.rotateToAngle(u.rotate);if(i)_CutImageActions2["default"].isCutSpot(!1),$.setDrag({name:"cutImageBgBoxMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var r=[(e.clientX-l[0])/n,(e.clientY-l[1])/n],a=[(e.clientX-s[0])/n,(e.clientY-s[1])/n],i=void 0;if(r=$.angleChangeArrVals(r,c),t=_CutImageStore2["default"].getCutVals(),window.isKeyDown.isShift){var u=[Math.abs(a[0]),Math.abs(a[1])];i=u[0]<u[1]?{boxLeft:o.boxLeft,boxTop:o.boxTop+a[1]}:{boxLeft:o.boxLeft+a[0],boxTop:o.boxTop}}else i={boxLeft:t.boxLeft+r[0],boxTop:t.boxTop+r[1]};_CutImageActions2["default"].changeCutVals(i),l=[e.clientX,e.clientY],_MoveTipActions2["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"x:"+Math.round(t.boxLeft+t.oriLeft+r[0])+" y:"+Math.round(t.boxTop+t.oriTop+r[1])})},endFunc:function(){var e=_CutImageStore2["default"].getCutImageContr(),t=e.cutVals;_MoveTipActions2["default"].show(!1),[t.boxLeft,t.boxTop].some(function(e,t){return o[["boxLeft","boxTop"][t]]!==e})&&_SaveDataStore2["default"].createData({type:"cutImgBgBoxDragSpot",name:"["+e.name+"] 图片裁剪背景框位置改变",handleObjType:e.type,autoSaveType:"pageContrs"})}});else if(a)_CutImageActions2["default"].isCutSpot(!0),$.setDrag({name:"cutImageBoxMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var o=[(e.clientX-l[0])/n,(e.clientY-l[1])/n],a=[(e.clientX-s[0])/n,(e.clientY-s[1])/n],i=void 0;if(o=$.angleChangeArrVals(o,c),t=_CutImageStore2["default"].getCutVals(),window.isKeyDown.isShift){var u=[Math.abs(a[0]),Math.abs(a[1])];i=u[0]<u[1]?{left:r.left,top:r.top+a[1]}:{left:r.left+a[0],top:r.top}}else i={left:t.left+o[0],top:t.top+o[1]};_CutImageActions2["default"].changeCutVals(i),l=[e.clientX,e.clientY],_MoveTipActions2["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"x:"+Math.round(t.left+t.oriLeft+o[0])+" y:"+Math.round(t.top+t.oriTop+o[1])})},endFunc:function(){var e=_CutImageStore2["default"].getCutImageContr(),t=e.cutVals;_MoveTipActions2["default"].show(!1),[t.left,t.top].some(function(e,t){return r[["left","top"][t]]!==e})&&_SaveDataStore2["default"].createData({type:"cutImgBoxDragSpot",name:"["+e.name+"] 图片裁剪框位置改变",handleObjType:e.type,autoSaveType:"pageContrs"})}});else{var d=$.getElById("boxLabel");d?d.click():$.exitCutImage()}isClickBox={cutImage:!1,cutImageBg:!1},e.stopPropagation(),e.preventDefault()}var CutImageEditMaskComp=function(_Component){function CutImageEditMaskComp(){(0,_classCallCheck3["default"])(this,CutImageEditMaskComp);var e=(0,_possibleConstructorReturn3["default"])(this,(CutImageEditMaskComp.__proto__||(0,_getPrototypeOf2["default"])(CutImageEditMaskComp)).call(this));return e.state={renderChange:0},e._onCutImageChange=e._onCutImageChange.bind(e),e}return(0,_inherits3["default"])(CutImageEditMaskComp,_Component),(0,_createClass3["default"])(CutImageEditMaskComp,[{key:"shouldComponentUpdate",value:function(e,t){return t.renderChange!==this.state.renderChange}},{key:"componentDidMount",value:function(){_CutImageStore2["default"].addChangeListener(this._onCutImageChange)}},{key:"componentWillUnmount",value:function(){_CutImageStore2["default"].removeChangeListener(this._onCutImageChange)}},{key:"_onCutImageChange",value:function(){this.setState({renderChange:this.state.renderChange+1})}},{key:"render",value:function(){var e=_CutImageStore2["default"].getCutImage();if(!e.isShow)return null;var t=this.props.self,n=void 0,r=(0,_GetParentRotateValsHandle.getParentRotateVals)(!0,!1,function(e,t){return e.rotate($.rotateToAngle(t.rotate),[t.left,t.top])});if(_SymbolMaskStore2["default"].getSymbolMaskShow()){var o=$.query(".symbolDiv.isSymbolEdit");n=[+o.offsetLeft,+o.offsetTop]}else n=(0,_BaseUtil.mainBoxPosi)();return _react2["default"].createElement("div",{key:"editMask",className:"editMask",onMouseDown:_editMaskMouseDown},_react2["default"].createElement("div",{className:"cutImageBox",style:{left:n[0],top:n[1],transform:r.matrix.toCSSTransform(),transformOrigin:"0% 0%"}},_GetCutImageDom2["default"].imageBgContr.call(t,e,!1,isClickBox),_GetCutImageDom2["default"].imageContr.call(t,e,!1,isClickBox)))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),CutImageEditMaskComp}(_react.Component),_default=CutImageEditMaskComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(isClickBox,"isClickBox","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/CutImageEditMask.react.js"),reactHotLoader.register(_editMaskMouseDown,"_editMaskMouseDown","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/CutImageEditMask.react.js"),reactHotLoader.register(CutImageEditMaskComp,"CutImageEditMaskComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/CutImageEditMask.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/CutImageEditMask.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty2=__webpack_require__(288),_defineProperty3=_interopRequireDefault(_defineProperty2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_DragSpotList=__webpack_require__(1244),_DragSpotList2=_interopRequireDefault(_DragSpotList),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_SymbolMaskStore=__webpack_require__(32),_SymbolMaskStore2=_interopRequireDefault(_SymbolMaskStore),_EightDragSpotEvent=__webpack_require__(906),_EightDragSpotEvent2=_interopRequireDefault(_EightDragSpotEvent),_GetParentRotateValsHandle=__webpack_require__(256),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var angleMouseDown=_EightDragSpotEvent2["default"].angleMouseDown,radiusMouseDown=_EightDragSpotEvent2["default"].radiusMouseDown,oldContr=void 0,firstContr=void 0,lastSymbolContrDom=void 0,EightDragSpotComp=function(_Component){function EightDragSpotComp(e){(0,_classCallCheck3["default"])(this,EightDragSpotComp);var t=(0,_possibleConstructorReturn3["default"])(this,(EightDragSpotComp.__proto__||(0,_getPrototypeOf2["default"])(EightDragSpotComp)).call(this,e));return t.spotStyleDom=null,oldContr=!1,firstContr=!1,t.state={renderChange:0,getSelect:_ContrStore2["default"].getSelect().concat(),isMust:!1},t._onContrChange=t._onContrChange.bind(t),t._onMustChange=t._onMustChange.bind(t),t}return(0,_inherits3["default"])(EightDragSpotComp,_Component),(0,_createClass3["default"])(EightDragSpotComp,[{key:"componentDidMount",value:function(){_ContrStore2["default"].addChangeListener(this._onContrChange),_ContrStore2["default"].addMustChangeListener(this._onMustChange)}},{key:"componentWillUnmount",value:function(){_ContrStore2["default"].removeChangeListener(this._onContrChange),_ContrStore2["default"].removeMustChangeListener(this._onMustChange)}},{key:"_onContrChange",value:function(){this.refs.spotBox&&this.setState({renderChange:this.state.renderChange+1,getSelect:_ContrStore2["default"].getSelect().concat(),isMust:!1})}},{key:"_onMustChange",value:function(){this.refs.spotBox&&this.setState({isMust:!0,getSelect:_ContrStore2["default"].getSelect().concat()})}},{key:"shouldComponentUpdate",value:function(e,t){return t.isMust||t.renderChange!==this.state.renderChange&&!$.checkArrayEqual(t.getSelect,this.state.getSelect)?(oldContr=!1,firstContr=!1,!0):(firstContr=(firstContr=_ContrStore2["default"].getFirstSelectContr()).hoverState&&firstContr.hoverState.isEndHover?_ContrStore2["default"].getAllValsContr({contrKey:firstContr,type:"hover"}):_ContrStore2["default"].getAllValsContr({contrKey:firstContr}),!(t.renderChange!==this.state.renderChange&&(!oldContr||oldContr&&(oldContr.type!=firstContr.type||oldContr.key!=firstContr.key||oldContr.left!=firstContr.left||oldContr.top!=firstContr.top||oldContr.width!=firstContr.width||oldContr.height!=firstContr.height||oldContr.rotate!=firstContr.rotate||oldContr.isOpen!=firstContr.isOpen||oldContr.radius!=($.isArray(firstContr.radius)?firstContr.radius.toString():firstContr.radius)||oldContr.isMaxRadius!=firstContr.isMaxRadius)))||(oldContr={type:firstContr.type,key:firstContr.key,left:firstContr.left,top:firstContr.top,width:firstContr.width,height:firstContr.height,rotate:firstContr.rotate,isOpen:firstContr.isOpen,radius:$.isArray(firstContr.radius)?firstContr.radius.toString():firstContr.radius,isMaxRadius:firstContr.isMaxRadius},!0))}},{key:"componentDidUpdate",value:function(){var e=this.spotStyleDom,t=this.state,n=t.getSelect.length>1,r=_SymbolMaskStore2["default"].getSymbolMaskShow()&&_SymbolMaskStore2["default"].getSymbolMaskContr();if(e&&lastSymbolContrDom&&lastSymbolContrDom.id!=e.id&&r&&!n){var o=$.query(".symbolMaskBox .isOnlyOpt:not(.isStartState)");if(o){var a=o.clientWidth,i=o.clientHeight;e.clientWidth==a&&e.clientHeight==i||this.setState({renderChange:t.renderChange+1})}}}},{key:"render",value:function(){var e;if(0===this.state.getSelect.length)return _react2["default"].createElement("div",{ref:"spotBox",id:"spotBox",className:"spotBox hide"});var t=this,n=void 0,r=void 0,o=t.state.getSelect.length>1,a=_SymbolMaskStore2["default"].getSymbolMaskShow()&&_SymbolMaskStore2["default"].getSymbolMaskContr(),i={};if(a&&(i.left=a.left+1,i.top=a.top+1),o)r=_ContrStore2["default"].getSelectContr(),(n=$.getSeveralElPosition(r)).width-=1,n.height-=1;else if(firstContr&&firstContr.width)n=firstContr;else{if(!(n=_ContrStore2["default"].getContrByAll(this.state.getSelect[0])))return null;n=n.hoverState&&n.hoverState.isEndHover?_ContrStore2["default"].getAllValsContr({contrKey:n,type:"hover"}):_ContrStore2["default"].getAllValsContr({contrKey:n})}var s=(0,_GetParentRotateValsHandle.getParentRotateVals)(),l=$.rotateToAngle(n.rotate),u="symbol"==n.type&&10!=n.scale,c={width:Math.round((u?n.scale/10:1)*n.width),height:Math.round((u?n.scale/10:1)*n.height),transform:s.matrix.translate(Math.round(n.left),Math.round($.getDependBottomTopVal(n))).rotate(l).toCSSTransform(),transformOrigin:"0% 0%"},d=!0;if(o||"text"==n.type&&("vLine"==n.baseContrType||"hLine"==n.baseContrType)?d=!0:(n.isMaxRadius||n.radius&&Math.round($.isArray(n.radius)?n.radius[3]:n.radius)>0||n.hasBackColor||n.insetBorder&&Math.round(n.insetBorder[1])>0||n.border&&Math.round(n.border[1])>0||n.shadow&&Math.round($.isArray(n.shadow)?n.shadow[2]:n.shadow)>0||"image"==n.type||"wrapbox"==n.type)&&(d=!1),a&&!o){var f=$.query(".symbolMaskBox .isOnlyOpt:not(.isStartState)");if(f&&f.id!=$.getContrId(n)&&(lastSymbolContrDom=f),f&&f.id==$.getContrId(n)){lastSymbolContrDom=null;var p=f.clientWidth,h=f.clientHeight;c.width!=p&&(c.width=p),c.height!=h&&(c.height=h)}}return _react2["default"].createElement("div",{ref:"spotBox",id:"spotBox",className:"spotBox",style:i},_react2["default"].createElement("div",{ref:function(e){t.spotStyleDom=e},className:o?"eightSpotBox isMutiContr spotAngle0":(0,_classnames2["default"])("eightSpotBox",(e={isMergeEdit:"wrapbox"==n.type&&n.isOpen,notIndependWH:n.independWH},(0,_defineProperty3["default"])(e,""+n.baseContrType,"hLine"==n.baseContrType||"vLine"==n.baseContrType),(0,_defineProperty3["default"])(e,"spotAngle"+Math.floor((n.rotate+s.rotate+22)%360/45),!0),(0,_defineProperty3["default"])(e,"isAutoW",n.autoW),e)),style:c,"data-id":$.getContrId(n)},_react2["default"].createElement(_DragSpotList2["default"],null),"symbol"!=n.type&&"table"!=n.type?_react2["default"].createElement("div",{key:"angleSpot",className:"angleSpotBox spot"},_react2["default"].createElement("div",{className:"angleSpot",onMouseDown:angleMouseDown})):undefined,d?undefined:_react2["default"].createElement("div",{className:"radiusSpot"+(n.isMaxRadius?" isMaxRadius":""),style:{left:Math.min(n.isMaxRadius?n.width/2:$.isArray(n.radius)?n.radius[3]:n.radius,n.width/2)-5},onMouseDown:radiusMouseDown},_react2["default"].createElement("div",{className:"maxRadiusSet"}))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),EightDragSpotComp}(_react.Component),_default=EightDragSpotComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(angleMouseDown,"angleMouseDown","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EightDragSpot.react.js"),reactHotLoader.register(radiusMouseDown,"radiusMouseDown","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EightDragSpot.react.js"),reactHotLoader.register(oldContr,"oldContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EightDragSpot.react.js"),reactHotLoader.register(firstContr,"firstContr","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EightDragSpot.react.js"),reactHotLoader.register(lastSymbolContrDom,"lastSymbolContrDom","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EightDragSpot.react.js"),reactHotLoader.register(EightDragSpotComp,"EightDragSpotComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EightDragSpot.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EightDragSpot.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=f(n(1)),a=f(n(5)),i=f(n(83)),s=f(n(202)),l=f(n(19)),u=f(n(12)),c=f(n(828)),d=n(61);function f(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var p,h,g={_addInputLine:function(e,t,n){var r="";l["default"].init({width:640,title:"插入"+t+"辅助线",content:o["default"].createElement("div",{className:"popup-content"},o["default"].createElement("div",null,o["default"].createElement("input",{id:"verticalLineInput",className:"pageNameInput cssTextarea",placeholder:"请输入辅助线的"+t+"位置("+n[0]+"-"+n[1]+")",onChange:function(e){r=e.target.value}}))),submitBtnFunc:function(){var o=void 0;""===r?(u["default"].show("请输入值不能为空"),$.getElById("verticalLineInput").focus()):r>=n[0]&&r<=n[1]?(c["default"].addLine({pageId:a["default"].getActivePage(),type:e,value:r/window.ss,isShow:!1}),o=i["default"].returnNewLine(),$.lineDragEnd(r,o,!0,!0,!0),u["default"].show("插入"+t+"辅助线成功"),l["default"].hide()):(u["default"].show("请输入值正确值("+n[0]+"-"+n[1]+")"),$.getElById("verticalLineInput").focus())}})},horizontalContextMenu:function(e){var t=a["default"].getView().isGuide,n=a["default"].getActivePage(!0),r=n.isLandscape;if(!t)return!1;var o=i["default"].getPageTypeLine(a["default"].getActivePage(),"y").length,l=(r?window.phoneSize.width:window.phoneSize.height)-1;window.isPc&&(l=$.isUndefined(n.pageHeight)?2e3:n.pageHeight);var u=[["插入水平辅助线",function(){g._addInputLine("y","水平",[1,l])}]];o>0&&u.push(["清除全部水平辅助线",function(){i["default"].removePageTypeLine(a["default"].getActivePage(),"y"),(0,d.setAutoSaveChangePages)("__pageVals",!0)}]),s["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:u}),e.stopPropagation(),e.preventDefault()},verticalContextMenu:function(e){var t=a["default"].getView().isGuide,n=a["default"].getActivePage(!0).isLandscape;if(!t)return!1;var r=i["default"].getPageTypeLine(a["default"].getActivePage(),"x").length,o=(n?window.phoneSize.height:window.phoneSize.width)-1,l=[["插入垂直辅助线",function(){g._addInputLine("x","垂直",[1,o])}]];r>0&&l.push(["清除全部垂直辅助线",function(){i["default"].removePageTypeLine(a["default"].getActivePage(),"x"),(0,d.setAutoSaveChangePages)("__pageVals",!0)}]),s["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:l}),e.stopPropagation(),e.preventDefault()}},y=g;t["default"]=y,(p=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(p.register(g,"LineEvent","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/common/LineEvent.js"),p.register(y,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/event/common/LineEvent.js")),(h=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&h(e)}).call(this,n(7)(e))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_UserHandleStore=__webpack_require__(459),_UserHandleStore2=_interopRequireDefault(_UserHandleStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var EditinglayerComp=function(_Component){function EditinglayerComp(e){(0,_classCallCheck3["default"])(this,EditinglayerComp);var t=(0,_possibleConstructorReturn3["default"])(this,(EditinglayerComp.__proto__||(0,_getPrototypeOf2["default"])(EditinglayerComp)).call(this,e));return window.isPc&&(t.state={choosePage:_UserHandleStore2["default"].getChoosePageUser()},t._onChoosePageChange=t._onChoosePageChange.bind(t)),t}return(0,_inherits3["default"])(EditinglayerComp,_Component),(0,_createClass3["default"])(EditinglayerComp,[{key:"componentDidMount",value:function(){window.isPc&&_UserHandleStore2["default"].addChoosePageChangeListener(this._onChoosePageChange)}},{key:"componentWillUnmount",value:function(){window.isPc&&_UserHandleStore2["default"].removeChoosePageChangeListener(this._onChoosePageChange)}},{key:"_onChoosePageChange",value:function(){this.setState({choosePage:_UserHandleStore2["default"].getChoosePageUser()})}},{key:"render",value:function(){var e=void 0;if(e=window.isPc?this.state.choosePage?this.state.choosePage[_ViewStore2["default"].getActivePage()]:null:this.props.choosePage){var t=e.map(function(e){return _react2["default"].createElement("div",{className:"isEditing-user",key:e.id},_react2["default"].createElement("img",{className:"avator",src:$.getUserImageUrl(e.userImage,0)}),_react2["default"].createElement("p",{className:"user-name"},e.nickName))});return _react2["default"].createElement("div",{className:"isEditing-layer"},t)}return null}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),EditinglayerComp}(_react.Component),_default=EditinglayerComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(EditinglayerComp,"EditinglayerComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EditingLayer.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EditingLayer.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=l(n(3)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.getSymbolSizeBar=function(e){var t=e.type,n=this.props.changeFunc;return u["default"].createElement("div",{"data-type":t,className:"symbol-box-"+t+"-bar",onMouseDown:n},u["default"].createElement("span",null),u["default"].createElement("span",null),u["default"].createElement("span",null))},t.prototype.render=function(){var e=this.props,t=e.left,n=e.top,r=e.noWidth;return u["default"].createElement("div",{className:"symbol-wh-box",style:{left:Math.round(t),top:Math.round(n)}},!r&&this.getSymbolSizeBar({type:"width"}),this.getSymbolSizeBar({type:"height"}))},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"getSymbolSizeBar",null),t}(u.Component);t.SymbolWHEditComp=d,t["default"]=d},,,function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_class2,_temp,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function getDefaultProps(){return{clickElement:null,dragElement:null,dragOver:null,time:500,moveStop:null,type:"ease-out",className:"",style:{},ignoreLast:!1,direction:"both",isScroll:!1}}function getInitialState(){return{childrenNode:[],zIndex:1,aPos:[]}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var DragSortComp=(_temp=_class2=function(_React$Component){function DragSortComp(e){(0,_classCallCheck3["default"])(this,DragSortComp);var t=(0,_possibleConstructorReturn3["default"])(this,(DragSortComp.__proto__||(0,_getPrototypeOf2["default"])(DragSortComp)).call(this,e));return t.state=getInitialState(),t}return(0,_inherits3["default"])(DragSortComp,_React$Component),(0,_createClass3["default"])(DragSortComp,[{key:"move",value:function(e,t){var n={};n.time=this.props.time,n.moveStop=this.props.moveStop,n.type=this.props.type;var r={},o={};for(var a in t)r[a]=parseFloat(this.getStyle(e,a)),o[a]=t[a]-r[a];var i=Math.round(n.time/30),s=0;clearInterval(e.timer),e.timer=setInterval(function(){var a=void 0,l=void 0;for(var u in s++,t){switch(n.type){case"linear":a=r[u]+s*o[u]/i;break;case"ease-in":l=s/i,a=r[u]+o[u]*(l*l*l);break;case"ease-out":l=1-s/i,a=r[u]+o[u]*(1-l*l*l)}"opacity"==u?(e.style.opacity=a,e.style.filter="alpha(opacity:"+100*a+")"):e.style[u]=a+"px"}s==i&&(clearInterval(e.timer),n.moveStop&&n.moveStop())},30)}},{key:"getStyle",value:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle(e,!1)[t]}},{key:"collTest",value:function(e,t){var n=this.props.isScrollFunc,r=0;n&&(r=n());var o=e.offsetLeft,a=e.offsetTop,i=o+e.offsetWidth,s=a+e.offsetHeight,l=this.state.aPos[t.index].left+r,u=this.state.aPos[t.index].top,c=l+t.offsetWidth,d=u+t.offsetHeight;return!(i<l||s<u||o>c||a>d)}},{key:"getDis",value:function(e,t){var n=e.offsetLeft-this.state.aPos[t.index].left,r=e.offsetTop-this.state.aPos[t.index].top;return Math.sqrt(n*n+r*r)}},{key:"findNearest",value:function(e){for(var t=99999999999999,n=-1,r=this.state.childrenNode,o=0;o<r.length;o++)if(this.collTest(e,r[o])){var a=this.getDis(e,r[o]);t>a&&(t=a,n=o)}return-1==n?null:r[n]}},{key:"drag",value:function(e,t){var n=this,r={};e.onmousedown=function(o){if(!$(".page-view-name input")[0]){r.clickElement=n.props.clickElement||null,r.clickElement&&r.clickElement(e,t);var a=o||window.event,i=a.clientX-e.offsetLeft,s=a.clientY-e.offsetTop;return n.setState({zIndex:n.state.zIndex+1}),e.style.zIndex=n.state.zIndex,clearInterval(e.timer),document.onmousemove=function(o){if(!$.hasClass(e,"add-carousel")){var l=o||window.event;if(!(Math.abs(a.clientX-l.clientX)<5&&Math.abs(a.clientY-l.clientY)<5)){var u=$.hasClass(e,"list-data-layer");"vertical"!==n.props.direction&&(e.style.left=l.clientX-i+"px"),"horizontal"!==n.props.direction&&(e.style.top=l.clientY-s+"px"),r.dragElement=n.props.dragElement||null,r.dragElement&&r.dragElement(e,t);var c=n.findNearest(e);if(c&&u){var d=c.getAttribute("data-layer");if(e.getAttribute("data-layer")!=d)return}if(c&&e!=c){var f=e.index,p=c.index,h=n.state.childrenNode;if(f<p)for(var g=0;g<h.length;g++)h[g].index>=f+1&&h[g].index<=p&&(h[g].index--,n.move(h[g],n.state.aPos[h[g].index]));else if(f>p)for(var y=0;y<h.length;y++)h[y].index>=p&&h[y].index<=f-1&&(h[y].index++,n.move(h[y],n.state.aPos[h[y].index]));e.index=p}}}},document.onmouseup=function(){r.dragOver=n.props.dragOver||null,r.dragOver&&r.dragOver(e,t),document.onmousemove=null,document.onmouseup=null},e.setCapture&&e.setCapture(),!1}}}},{key:"componentDidMount",value:function(){var e=this,t=e.refs.father.children,n=void 0;e.offsetPosiFunc=function r(o,a){var i=e.props.ignoreLast?1:0;if(n=[],o)for(var s=0;s<t.length-i;s++)t[s].style.position="static",$.isFunction(o)&&o(t[s].style,s==t.length-i-1,s);for(var l=0;l<t.length-i;l++)n.push({left:t[l].offsetLeft,top:t[l].offsetTop}),t[l].style.left=n[l].left+"px",t[l].style.top=n[l].top+"px";for(var u=0;u<t.length-i;u++)t[u].style.position="absolute",t[u].style.margin=0,t[u].index=u;for(var c=0;c<t.length;c++)e.drag(t[c],r);e.setState({childrenNode:t,aPos:n},function(){a&&e.offsetPosiFunc(o)})}.bind(e),e.offsetPosiFunc(),e.props.updateFunc&&e.props.updateFunc(e.offsetPosiFunc)}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,r=e.children,o=(0,_extends3["default"])({style:t},{});return _react2["default"].createElement("div",{ref:"father",style:o,className:n},r)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),DragSortComp}(_react2["default"].Component),_class2.defaultProps=getDefaultProps(),_class=_temp,_applyDecoratedDescriptor(_class.prototype,"move",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"move"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getStyle",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"getStyle"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"collTest",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"collTest"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getDis",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"getDis"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"findNearest",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"findNearest"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"drag",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"drag"),_class.prototype),_class),_default=DragSortComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(getDefaultProps,"getDefaultProps","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/common/DragSort.react.js"),reactHotLoader.register(getInitialState,"getInitialState","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/common/DragSort.react.js"),reactHotLoader.register(DragSortComp,"DragSortComp","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/common/DragSort.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/common/DragSort.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},,,,function(e,t,n){var r=n(991),o=n(434)("iterator"),a=n(910);e.exports=n(121).getIteratorMethod=function(e){if(e!=undefined)return e[o]||e["@@iterator"]||a[r(e)]}},,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(5)),l=a(n(6)),u={isShow:!1,type:null,selectPage:null,selectContr:null,isMultiView:!1},c=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(e,t){var n="multi-view"==s["default"].getViewMode(),r=s["default"].getActivePage();n&&(r=s["default"].getOnePagesKey()),u=$.extend(u,{show:!0,type:e.type,selectPage:r,isMultiView:n}),"contr"==e.type&&(u.selectContr=l["default"].getSelect()[0]),t||c.emitChange()},t.prototype.changeSelectPage=function(e,t){u.selectPage=e,u.type="page",t||c.emitChange()},t.prototype.changeSelectContr=function(e,t){u.selectContr=e,u.type="contr",t||c.emitChange()},t.prototype.exit=function(e){u={isShow:!1,type:null,selectPage:null,isMultiView:!1},e&&c.emitChange()},t.prototype.getEditObj=function(){return u},t.prototype.getIsShow=function(){return u.isShow},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));t["default"]=c},function(e,t,n){var r=n(347),o=n(951),a=n(434)("species");e.exports=function(e,t){var n,i=r(e).constructor;return i===undefined||(n=r(i)[a])==undefined?t:o(n)}},function(e,t,n){var r,o,a,i=n(448),s=n(1409),l=n(1553),u=n(1369),c=n(449),d=c.process,f=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,g=c.Dispatch,y=0,m={},_=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},v=function(e){_.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++y]=function(){s("function"==typeof e?e:Function(e),t)},r(y),y},p=function(e){delete m[e]},"process"==n(911)(d)?r=function(e){d.nextTick(i(_,e,1))}:g&&g.now?r=function(e){g.now(i(_,e,1))}:h?(a=(o=new h).port2,o.port1.onmessage=v,r=i(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",v,!1)):r="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),_.call(e)}}:function(e){setTimeout(i(_,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(347),o=n(436),a=n(952);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(11)),d=l(n(3)),f=l(n(1459)),p=l(n(1460)),h=l(n(1461)),g=l(n(319)),y=l(n(40)),m=n(360),_=n(1463),v=n(1159),b=n(271),w=n(26),C=n(77),x=n(621),S=window.$,P=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.setCurrentTextColor=function(){},t.prototype.openDropList=function(e){var t=this.props.baseSet.type;m.changePrdDropdownOpen(t)},t.prototype.getTextData=function(){var e=w.findSelectElement()[0].type,t=this.props.text,n="left",r=14;if("text"==e)r=t,x.textAlignArr.some(function(e){return!!b.isActiveNode({type:e})&&(n=e,!0)});else if("table"==e){var o=y["default"].getTableData(),a=o.selectContr,i=o.selectCell,s=w.findSelectElement()[0];if(a&&i){var l=C.getOneCellData(i[0],a);l&&l.text&&(n=l.text.horizontal,r=l.text.fontSize||14)}else n=s.horizontal,r=s.fontSize;switch(n){case"hC":n="center";break;case"hR":n="right";break;case"hJ":n="justify";break;default:n="left"}}return{textAlign:n,fontSize:r}},t.prototype.selectTextAlign=function(e){var t=w.findSelectElement()[0].type;"text"==t?v.selectTextAlign(e):"table"==t&&v.selectTableTextAlign(e)},t.prototype.getDropdownList=function(e){var t=this.props.text,n=this.getTextData(),r=n.textAlign,o=n.fontSize;switch(e){case"text-size":return u["default"].createElement(f["default"],{selectFunc:_.selectFontSize,text:t});case"text-align":return u["default"].createElement(p["default"],{selectFunc:this.selectTextAlign,textAlign:r});case"table-font-size":return u["default"].createElement(h["default"],{selectFunc:v.selectTableTextSize,fontSize:o});default:return undefined}},t.prototype.getSelectFontSizeText=function(){},t.prototype.render=function(){var e=g["default"].getPrdDropdown(),t=e.type,n=e.isOpen,r=this.props,o=r.baseSet,i=o.type,s=o.tips,l=o.isDisableFunc,d=o.isHaveLine,f=r.btnType,p=this.getTextData(),h=p.textAlign,y=p.fontSize,m=l&&l();return u["default"].createElement("div",{className:c["default"](i+"-drop-panel "+d+"-line",{"have-column-line":d,"is-disable":m})},u["default"].createElement("div",a({className:"a_c"},s?S.addHoverData({text:s}):{},{onClick:this.openDropList}),"text-size"==i||"table-font-size"==i?u["default"].createElement("div",{className:c["default"](i+"-btn",{"is-list-open":n&&f==t})},y):u["default"].createElement("div",{className:c["default"]("prd-head-btn-icon "+i+"-btn text-align-"+h,{"is-list-open":n&&f==t})})),n&&f==t?this.getDropdownList(t):undefined)},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"setCurrentTextColor",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"openDropList",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getTextData",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"selectTextAlign",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[String]),s("design:returntype",void 0)],t.prototype,"getDropdownList",null),t}(u["default"].Component);t["default"]=P},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(29)),i=o(n(126)),s=n(26),l=n(360),u=n(271),c=n(864),d=n(621),f=n(10)["default"];function p(e){return{id:s.findSelectElement()[0].id,currentSelectData:e.currentTarget.getAttribute("data-id")}}function h(e){var t={fontSize:""+p(e).currentSelectData};c.changeVal({changeVal:t}),f.createData({type:"setTableTextFontSize",name:"PRD 表格设置字体大小",autoSaveType:"prd"}),l.hidePrdDropdownOpen()}function g(e){var t=p(e),n=t.id,o=t.currentSelectData,i=s.findSelectElement()[0].child,u={backColor:"#ffffff",hasBackColor:!0};if(a["default"].updateValById({id:n,updateVal:r({styleIndex:o},u)}),i)for(var c in i){var d=i[c].text;$.extend(!0,d,u)}f.createData({type:"setTableType",name:"PRD 表格设置基础样式",autoSaveType:"prd"}),l.hidePrdDropdownOpen()}function y(e){var t=p(e),n=t.id,r=t.currentSelectData,o=a["default"].getPrdElementById(n).isEdit,s=!0;o||(s=!1,a["default"].updateValById({id:n,updateVal:{isEdit:!0}})),setTimeout(function(){$(".element-container.element-edit .editor-pre>div")[0].focus();var e=i["default"].getRichText().editor;s||(e.moveToRangeOfDocument(),e.focus(),e.select()),e&&(d.textAlignArr.some(function(t,n){return!!u.isActiveNode({type:t})&&(e.unwrapBlock(t),!0)}),e.wrapBlock(r)),l.hidePrdDropdownOpen()},0)}function m(e){var t="";switch(p(e).currentSelectData){case"left":t="";break;case"center":t="hC";break;case"right":t="hR";break;case"justify":t="hJ"}var n={horizontal:t};c.changeVal({changeVal:n}),f.createData({type:"setTableTextAlign",name:"PRD 表格设置对齐方式",autoSaveType:"prd"}),l.hidePrdDropdownOpen()}t.getElementData=p,t.selectTableTextSize=h,t.selectTableType=g,t.selectTextAlign=y,t.selectTableTextAlign=m,t["default"]={selectTableTextSize:h,selectTableType:g,selectTextAlign:y,selectTableTextAlign:m}},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=0);var n=$(e).prev()[0];return n?r(n,t+=$(n).find('span[data-slate-content="true"')[0].childNodes[0].length):t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPrevLength=r,t["default"]={getPrevLength:r}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=window.$,u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this,t=e.props,n=t.switchFunc,r=void 0===n?l.noop:n,o=t.switchType,a=void 0===o?"left":o,u=t.notAllowCheck,c=t.isWeb;return i["default"].createElement("div",{className:s["default"]("switch-btn-panel",{"is-web":c})},["left","right"].map(function(t){return i["default"].createElement("div",{key:t,className:s["default"](t+"-btn-box",{"is-checked":a==t,"not-allow-check":u&&a!=t})},i["default"].createElement("div",{className:"btn-text","data-type":t,onClick:u?l.noop:r},e.props[t+"BtnText"]))}))},t}(i["default"].Component);t["default"]=u},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(896)),i=o(n(34)),s=n(26),l=o(n(214)),u=5,c=100,d=["xLeft","xMiddle","xRight"],f=["yTop","yMiddle","yBottom"];function p(e){var t=e.dragPosi,n=e.otherPosi,r=e.saveAdhereObj,o=e.dragLineKeyObj,a=void 0===o?undefined:o,i=h({posi:t}),s=h({posi:n}),l=r,c=l.x,p=l.y;[[a&&a.x?[a.x]:d,d,c,"x"],[a&&a.y?[a.y]:f,f,p,"y"]].forEach(function(e){var t=e[0],n=e[1],r=e[2],o=e[3];t.forEach(function(e){var t=i[e];n.forEach(function(n){var a=function(e){var t=u;for(var n in e){var r=Math.abs(+n);r<t&&(t=r)}return t}(r),l=s[n],c=t-l,d=Math.abs(c);d<=a&&(r[""+c]||(r[""+c]=[]),r[""+c].push({type:o,val:c,absVal:d,dragKey:e,otherKey:n,dragPosi:i,otherPosi:s}),d<a&&function(e,t){for(var n in t){var r=Math.abs(+n);r>e&&delete t[n]}}(d,r))})})})}function h(e){var t=e.posi,n=t.x,o=t.y,a=t.width,i=t.height;return r({},t,{xLeft:n,xMiddle:n+a/2,xRight:n+a,yTop:o,yMiddle:o+i/2,yBottom:o+i})}function g(e){var t=e.dragPosi,n=e.dragLineKeyObj,r=void 0===n?undefined:n,o={x:{},y:{}};!function(e){var t=e.dragPosi,n=e.saveAdhereObj,r=e.dragLineKeyObj,o=void 0===r?undefined:r,a=l["default"].width,i=l["default"].height;p({dragPosi:t,otherPosi:{x:0,y:0,width:a-=c,height:i},saveAdhereObj:n,dragLineKeyObj:o})}({dragPosi:t,saveAdhereObj:o,dragLineKeyObj:r}),function(e){var t=e.dragPosi,n=e.saveAdhereObj,r=e.dragLineKeyObj,o=void 0===r?undefined:r,a=s.findAllElement({isReturnArr:!0}),l=i["default"].getSelectElementArr();a.forEach(function(e){var r=e.id,a=e.x,i=e.y,s=e.width,u=e.height;-1==l.indexOf(r)&&p({dragPosi:t,otherPosi:{x:a,y:i,width:s,height:u},saveAdhereObj:n,dragLineKeyObj:o})})}({dragPosi:t,saveAdhereObj:o,dragLineKeyObj:r});var d=function(e){var t,n=e.saveAdhereObj,r=0,o=0;for(var a in n){var i=u,s=!1;for(var l in n[a])i=Math.min(Math.abs(+l),i);for(var l in n[a])Math.abs(+l)!=i||s||(n[a]=((t={})[""+l]=n[a][l],t),"x"==a?r=+l:"y"==a&&(o=+l),s=!0)}return{adhereX:r,adhereY:o}}({saveAdhereObj:o}),f=d.adhereX,h=d.adhereY;return a["default"].setPrdAdhereLineData(o),{adhereX:f,adhereY:h}}t.dragMoveAdhereFunc=g,t["default"]={dragMoveAdhereFunc:g}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(1505)),l=n(26),u=["lt","rt","rb","lb"],c=["l","r"],d={lb:"l",rt:"r",lt:"t",rb:"b"};function f(e){var t=e.type,n=e.dragFunc;return("all"!=e.dragType?c:u).map(function(e){var r="spot"==t?e:d[e]||e;return i["default"].createElement("div",{key:r,"data-dragtype":t,"data-dragkey":r,className:"prd-drag-"+r+"-"+t+" prd-drag-"+t,onMouseDown:n})})}var p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.stylePos,n=e.noDragSpot,r=void 0!==n&&n,o=e.dragType,a=void 0===o?"all":o,u=e.dragFunc,c=void 0===u?$.noop:u,d=l.findSelectElement()[0]||{},p=0,h="",g=!1;return d!={}&&(p=d.width,h=d.type,g=d.isShowName),i["default"].createElement("div",{className:"prd-drag-container",style:t},r?undefined:i["default"].createElement(i["default"].Fragment,null,i["default"].createElement(f,{dragType:a,type:"line",dragFunc:c}),i["default"].createElement(f,{dragType:a,type:"spot",dragFunc:c})),i["default"].createElement(s["default"],{stylePos:t,width:p,type:h,showName:g}))},t}(i["default"].Component);t.PrdBaseDragContainerComp=p,t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(29)),i=o(n(896)),s=o(n(6)),l=o(n(5)),u=o(n(10)),c=o(n(622)),d=n(26),f=n(1162),p=n(348),h=n(845),g=n(292),y=n(145),m=o(n(214)),_=100;function v(e){var t=e.oldPosi,n=e.limitPosi,r=e.dragKey,o=e.changeXY,a=e.element,i=t.width,s=t.height,l=n.minWidth,u=void 0===l?1:l,c=n.maxWidth,d=n.minHeight,f=void 0===d?1:d,p=n.maxHeight;if("table"==a.type){var h=a.columnPosi,g=a.linePosi;u=20*h.length,f=20*g.length}else if("page"==a.type){var y=n.minWebW,m=n.minWebH,_=n.minMobileW,v=n.minMobileH,b=window.isPc;u=b?y:_,f=b?m:v}-1!=r.indexOf("l")?i-o.x<u?o.x=i-u:!$.isUndefined(c)&&i-o.x>c&&(o.x=i-c):-1!=r.indexOf("r")&&(i+o.x<u?o.x=u-i:!$.isUndefined(c)&&i+o.x>c&&(o.x=c-i)),-1!=r.indexOf("t")?s-o.y<f?o.y=s-f:!$.isUndefined(p)&&s-o.y>p&&(o.y=s-p):-1!=r.indexOf("b")&&(s+o.y<f?o.y=f-s:!$.isUndefined(p)&&s+o.y>p&&(o.y=p-s))}function b(e){var t=e.oldPosi,n=e.changeXY,o=e.dragKey,a=e.returnPos,i=e.dragLineKeyObj,s=t.width,l=t.height,u=t.x,c=t.y;return o.split("").forEach(function(e){switch(e){case"l":i.x="xLeft",a=r({},a,{x:u+n.x,width:s-n.x});break;case"r":i.x="xRight",a=r({},a,{width:s+n.x});break;case"t":i.y="yTop",a=r({},a,{y:c+n.y,height:l-n.y});break;case"b":i.y="yBottom",a=r({},a,{height:l+n.y})}}),a}function w(e){var t=e.oldPosi,n=e.changeXY,o=(e.isDragLine,e.dragKey),a=e.WHproportion,i=e.element,s=i.type,l=i.cutVals,u={};o=function(e){var t=e.oldPosi,n=e.changeXY,r=e.dragKey,o=e.WHproportion;if(!$.isUndefined(o))switch(r){case"rt":case"lb":case"lt":case"rb":var a=t.width,i=t.height,s={lt:[!1,!1],rt:[!0,!1],lb:[!1,!0],rb:[!0,!0]};s[r][0]||(n.x=-n.x),s[r][1]||(n.y=-n.y);var l=Math.pow(a+n.x,2)+Math.pow(i+n.y,2),u=Math.sqrt(l/(1+Math.pow(o,2))),c=l>Math.pow(a,2)+Math.pow(i,2)?1:-1;n.x=(s[r][0]?1:-1)*c*Math.abs(u*o-a),n.y=(s[r][1]?1:-1)*c*Math.abs(u-i);break;case"l":n.y=-n.x/o,r="lb";break;case"r":n.y=n.x/o,r="rb";break;case"t":n.x=-n.y*o,r="rt";break;case"b":n.x=n.y*o,r="rb"}return r}({oldPosi:t,changeXY:n,dragKey:o,WHproportion:a}),v({oldPosi:t,limitPosi:y.elementBaseVal[s],dragKey:o,changeXY:n,element:i});var c={};u=function(e){var t=e.pos,n=e.oldPosi,r=m["default"].width;return x({pos:t,oldPosi:n,limitPosi:{width:r-_}})}({pos:u=b({oldPosi:t,changeXY:n,dragKey:o,returnPos:u,dragLineKeyObj:c}),oldPosi:t});var d=r({},t,u);!function(e){var t=e.WHproportion,n=e.dragAllPosi,r=e.returnPos,o=e.dragKey;if(!$.isUndefined(t)){var a=n.width,i=n.height;a/i<t?("lt"==o&&(n.y+=n.height-a/t,r.y=n.y),n.height=a/t,r.height=n.height):a/i>t&&("lt"==o&&(n.x+=n.width-i*t,r.x=n.x),n.width=i*t,r.width=n.width)}}({WHproportion:a,dragAllPosi:d,returnPos:u,dragKey:o});var p=f.dragMoveAdhereFunc({dragPosi:d,dragLineKeyObj:c}),h=p.adhereX,g=p.adhereY;if(!$.isUndefined(a)){var w="lt"==o||"rb"==o?1:-1;0!=h&&0!=g?Math.abs(h)<Math.abs(g)?g=w*h/a:h=w*g*a:0!=h?g=w*h/a:0!=g&&(h=w*g*a)}return 0!=h&&("xLeft"==c.x?(u.x=d.x-h,u.width=d.width+h):u.width=d.width-h),0!=g&&("yTop"==c.y?(u.y=d.y-g,u.height=d.height+g):u.height=d.height-g),u=C({elementType:s,element:i,returnPos:u=function(e){var t=e.elementType,n=e.cutVals,o=e.returnPos,a=e.oldPosi;if("image"==t&&n&&n.boxWidth){var i=r({},n),s=o.width/a.width;for(var l in i)i[l]*=s;o.cutVals=i}return o}({elementType:s,cutVals:l,returnPos:u,oldPosi:t}),oldPosi:t})}function C(e){var t=e.elementType,n=(e.element,e.returnPos),r=e.oldPosi;if("table"==t){var o=Math.round((n.width||r.width)-r.width),a=Math.round((n.height||r.height)-r.height);if(r.columnPosi){var i=$.getChangePosiArr(o,r.columnPosi);n.columnPosi=i}if(r.linePosi){var s=$.getChangePosiArr(a,r.linePosi);n.linePosi=s}}return n}function x(e){var t=e.pos,n=e.oldPosi,o=e.limitPosi,a=o.width,i=o.height,s=o.x,l=void 0===s?0:s,u=o.y,c=void 0===u?0:u,d=o.minWidth,f=void 0===d?1:d,p=o.minHeight,h=void 0===p?1:p,g=r({},n,t),y=g.x,m=g.y;return!$.isUndefined(t.x)&&t.x<l&&(t.width+=t.x,t.x=l),!$.isUndefined(t.y)&&t.y<c&&(t.height+=t.y,t.y=c),$.isUndefined(t.width)||(t.width=Math.max(Math.min(t.width,a-y),f)),$.isUndefined(t.height)||(t.height=Math.max(i?Math.min(t.height,i-m):t.height,h)),t}function S(e){var t=e.clientX,n=e.clientY,r="line"==e.currentTarget.getAttribute("data-dragtype"),o=e.currentTarget.getAttribute("data-dragkey"),f=d.findSelectElement()[0],y=f.id,m=f.width,_=f.height,v=f.x,b=f.y,C=f.columnPosi,x=void 0===C?[]:C,S=f.linePosi,P=void 0===S?[]:S,k={width:m,height:_,x:v,y:b,columnPosi:$.extend(!0,[],x),linePosi:$.extend(!0,[],P)},O=$.extend(!0,{},f),E={},T=function(e){var t,n=e.element,r=e.dragKey,o=e.elementOtherVal,a=n.width,i=n.height,u=n.type,c=n.src,d=n.symbolKey,f=n.pageKey,p=n.hasBorder,h=void 0!==p&&p,g=n.borderType,y=void 0===g?"":g;if("image"==u&&c)t=a/i;else if("contr"==u){var m=d&&s["default"].getOneSymbolByLib(d);m&&(t=m.width/m.height)}else if("page"==u){var _=l["default"].getPages()[f];(_||h&&"phone-border"==y)&&(o.page=_,"t"!=r&&"b"!=r&&(t=a/i))}return t}({element:f,dragKey:o,elementOtherVal:E});h.initDragChangePosi({autoChangeFunc:function(e){return p.getDragScrollRatio(e,!1)},arriveCriticalFunc:function(){var e=c["default"].getDragChangePosiSet().ratio,t=$(".prd-content-panel")[0].scrollTop,n=t<=0&&-1==e;return n||($(".prd-content-panel")[0].scrollTop=Math.max(t+20*e,0)),n}}),$.setDrag({name:"prdElementDragMove",posi:[t,n],target:e.target,moveFunc:function(e){var i=e.clientX,s=e.clientY,l=e.shiftKey;h.changeDragChangePosi({clientX:i,clientY:s,shiftKey:l},function(e){var u=e.autoChangePosi,c=(e.ratio,u.autoChangePosiX),d=void 0===c?0:c,f=u.autoChangePosiY,p=w({oldPosi:k,changeXY:{x:i-t+d,y:s-n+(void 0===f?0:f)},isDragLine:r,dragKey:o,WHproportion:T||(l?m/_:undefined),element:O});E.page&&(p=function(e){var t=e.changeVal,n=e.element,r=e.dragKey,o=e.elementOtherVal,a=n.cutTop,i=void 0===a?0:a;if("t"==r||"b"==r){"t"==r&&(t.cutTop=Math.max(i+t.y-n.y,0));var s=n.width,l=window.phoneSize.width,u=o.page.pageHeight,c=s/l;u=u||window.phoneSize.height,t.height=Math.min(t.height,Math.max(u,window.phoneSize.height)*c-i)}return t.width&&0!=i&&Math.round(t.width)!=Math.round(n.width)&&(t.cutTop=t.width*i/n.width),t}({changeVal:p,element:O,dragKey:o,elementOtherVal:E})),a["default"].updateValById({id:y,updateVal:p}),a["default"].emitElementContentChange()})},endFunc:function(e){h.endDragChangePosi(),g.calcContainerHeight(),i["default"].setPrdAdhereLineData({x:{},y:{}}),e.clientY==n&&e.clientX==t||u["default"].createData({type:"prdDragSpotChange",name:"PRD 拖拽组件宽高改变",autoSaveType:"prd"})}}),$.stopPropagation(e)}t.reviseChangeXY=v,t.dragBasePosChange=b,t.getChangePos=w,t.changeTableVals=C,t.limitPosScope=x,t.prdDragSpotFunc=S,t["default"]={prdDragSpotFunc:S}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(1512)),l=n(26),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=l.findSelectElement()[0];return e?i["default"].createElement("div",{className:"prd-inner-link-list-panel"},i["default"].createElement(s["default"],{id:e.id})):null},t}(i["default"].Component);t["default"]=u},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(29)),i=o(n(10)),s=n(26);function l(e,t){void 0===t&&(t="");var n=t||s.findSelectElement()[0].id;a["default"].updateValById({id:n,updateVal:r({},e,{isEdit:!1})}),i["default"].createData({type:"saveLinkUrl",name:"PRD 保存添加的链接地址",autoSaveType:"prd"})}function u(){var e=s.findSelectElement()[0].id;a["default"].updateValById({id:e,updateVal:{linkUrl:""}}),i["default"].createData({type:"clearLinkUrl",name:"PRD 清除添加的链接地址",autoSaveType:"prd"})}t.setPrdWebUrl=l,t.clearPrdWebUrl=u,t["default"]={setPrdWebUrl:l,clearPrdWebUrl:u}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.isDelete,n=void 0!==t&&t,r=e.type,o=void 0===r?"页面":r;return i["default"].createElement("div",{className:"prd-guide-icon-text-box"},i["default"].createElement("div",{className:"guide-icon"}),i["default"].createElement("div",{className:s["default"]("guide-text",{"not-find":n})},n?"原"+o+"已被删除请重新选择":"双击选择"+o))},t}(i["default"].Component);t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(12)),f=n(501),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isModifyTitle:!1,isComposition:!0},n}return o(t,e),t.prototype.componentDidUpdate=function(){this.inputDom&&this.inputDom.focus()},t.prototype.handleModifyTitle=function(){this.setState({isModifyTitle:!0})},t.prototype.handleChangeTitle=function(e){e.currentTarget.value.gblen()>24&&(e.currentTarget.value=e.currentTarget.value.slice(0,24),d["default"].show("列表项文本内容不能超过个24字符"))},t.prototype.handleGetComposition=function(e){"compositionend"==e.type?!1||this.handleChangeTitle(e):!0},t.prototype.handleInputBlur=function(e){var t=e.currentTarget.value,n=this.props.element,r=n.id,o=n.modifyTitle;if(""==t)return d["default"].show("列表项文本内容不能为空"),this.inputDom.focus(),!1;o!=t&&f.handleUpdateTitle(t.slice(0,24),r),this.setState({isModifyTitle:!1})},t.prototype.handleMouseDown=function(e){e.stopPropagation()},t.prototype.render=function(){var e=this,t=e.props,n=t.element,r=n.type,o=n.width,a=n.showPhoneShell,i=(n.isEdit,t.title),s=e.state.isModifyTitle;return l["default"].createElement("div",{className:u["default"]("prd-page-contr-title-panel",{"is-show-phone-shell":a}),style:{width:o},onDoubleClick:e.handleModifyTitle},l["default"].createElement("div",{className:"prd-page-contr-title-icon "+r+"-icon"}),s?l["default"].createElement("input",{className:u["default"]("page-title-modify-input",{"is-modify-title":s}),autoComplete:"off",autoCorrect:"off",spellCheck:!1,defaultValue:i,onMouseDown:e.handleMouseDown,onBlur:e.handleInputBlur,ref:function(t){return e.inputDom=t},onCompositionStart:e.handleGetComposition,onCompositionUpdate:e.handleGetComposition,onCompositionEnd:e.handleGetComposition}):l["default"].createElement("div",{className:"page-contr-title-text"},i))},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"handleModifyTitle",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleChangeTitle",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleGetComposition",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",Object)],t.prototype,"handleInputBlur",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleMouseDown",null),t}(l["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(11)),u=window,c=u.$,d=u.isPrototypeTool,f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.clickFunc,n=void 0===t?c.noop:t,r=e.btnStyle,o=e.type;return d?s["default"].createElement("div",a({className:l["default"]("element-edit-btn-panel",{"is-remarks-btn":"pageRemark"==o,a_c:!0}),style:r,onMouseDown:n},c.addHoverData({text:"编辑内容"})),s["default"].createElement("div",{className:"btn-icon"})):null},t}(s["default"].Component);t["default"]=f},,,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(11)),d=s(n(34)),f=s(n(1493)),p=s(n(1496)),h=s(n(1526)),g=window,y=g.$,m=g.isPrototypeTool,_=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._getContainerStyle=function(){var e=this.props.element,t=e.x,n=e.y,r=e.width,o=e.height;return{left:Math.round(t),top:Math.round(n),width:r,height:o}},t.prototype.render=function(){var e=this.props,t=e.element,n=e.element,r=n.id,o=n.isEdit,a=void 0!==o&&o;return l["default"].createElement("div",{className:c["default"]("element-container",{"element-edit":a,"element-select":-1!=d["default"].getSelectElementArr().indexOf(r)}),style:this._getContainerStyle(),"data-id":r,onMouseDown:y.stopPropagation},l["default"].createElement(p["default"],{element:t}),m?l["default"].createElement(f["default"],{element:t}):undefined,l["default"].createElement(h["default"],{element:t}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_getContainerStyle",null),t}(l["default"].Component);t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=n(28),d=l(n(997)),f=l(n(67)),p=l(n(29)),h=l(n(34)),g=n(26),y=l(n(3)),m=window.isPrototypeTool;var _=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.renderPrdLine=function(){var e,t=[],n=g.getAllLineByStructKey(),r=this.props.zoom,o=(e="",h["default"].getSelectElementArr().forEach(function(t,n){var r=p["default"].getPrdElementById(t)||{x:0,y:0},o=r.x,a=r.y;e+=t+"|x"+o+"y"+a}),e),a=h["default"].getSelectElementArr();return n.forEach(function(e){var n,i,s,l=e.id,c=e.lineType,p=e.isHide,g=e.startKey,y=e.endKey,_=e.fixedArr,v=e.hasComment,b=e.text,w=void 0===b?"输入条件":b,C=e.commentPercent,x=e.commentWidth,S=e.commentHeight,P=e.noStartSupply,k=e.noEndSupply,O=e.startPoint,E=e.endPoint,T=e.startPosi,M=e.endPosi,D=e.isConnect;(!D||D&&(!m||a.some(function(e){return e==g||e==y})))&&t.push(u["default"].createElement(d["default"],{key:l,id:l,data:e,zoom:r,lineType:c,isHide:p,startKey:g,endKey:y,fixedArr:_,fixedArrStr:_.join("|"),hasComment:v,text:w,commentPercent:C,commentWidth:x,commentHeight:S,noStartSupply:P,noEndSupply:k,startPoint:O,endPoint:E,endPosi:M,startPosi:T,elementPosi:o,isLineSelect:(n=l,i=f["default"].getPrdSelectArr(),s=h["default"].getSelectElementArr(),-1!=i.indexOf(n)&&!s.length),isConnect:D}))}),t},t.prototype.render=function(){return u["default"].createElement(c.Group,null,this.renderPrdLine())},a([y["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"renderPrdLine",null),t}(u.Component);t["default"]=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(903),o=n(308);function a(e){}function i(e){var t=e.target.attrs["data-eventkey"];t&&-1!=t.indexOf("line")?r.getHoverLineKey({target:e.target}):o.removeHoveringLine()}t.prdCanvasMouseDown=a,t.prdCanvasMouseMove=i,t["default"]={prdCanvasMouseDown:a,prdCanvasMouseMove:i}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}r.prototype=n(1184),r.prototype.loadAsync=n(1216),r.support=n(344),r.defaults=n(922),r.version="3.2.0",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=n(592),e.exports=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=r(n(34)),i=r(n(40)),s=r(n(10)),l=r(n(67)),u=r(n(12)),c=n(477),d=n(325),f=n(489),p=n(1232),h=n(354),g=n(208),y=n(940),m=r(n(29)),_=n(26),v=n(118);window.mousetrap=n(971);var b=window,w=b.Mousetrap,C=b.hotKey.command;function x(){w.reset(),w.bind(C+"+a",function(){i["default"].isSelectTableCell()?h.selectAllCell():(c.selectAllElement(),c.selectAllLine())}),w.bind(["backspace","del"],function(e){i["default"].isSelectTableCell()&&"TEXTAREA"!==e.target.nodeName?(g.updateCellData({text:{content:""}}),s["default"].createData({type:"deleteCellData",name:"PRD 删除选中表格单元格",autoSaveType:"prd"})):(d.deleteSelectElement(),d.deleteSelectLine(),s["default"].createData({type:"deleteSelectElement",name:"PRD 删除选中的prd组件",autoSaveType:"prd"}))});[{hotKey:"t",domName:"text",type:"文本"},{hotKey:"s",domName:"table",type:"表格"},{hotKey:"p",domName:"image",type:"图片"},{hotKey:"l",domName:"line",type:"连线"}].forEach(function(e,t){var n=e.hotKey,r=e.domName,o=e.type;w.bind(n,function(){var e=$.query(".prd-insert-list-panel>."+r+"-box");$(e).trigger("mousedown"),"l"!=n&&u["default"].show("创建"+o+"组件成功")})}),w.bind(C+"+]",function(){f.elementHierarchyFront(),s["default"].createData({type:"elementHierarchyFront",name:"PRD 选中组件置于顶层",autoSaveType:"prd"})}),w.bind(C+"+[",function(){f.elementHierarchyBack(),s["default"].createData({type:"elementHierarchyBack",name:"PRD 选中组件置于底层",autoSaveType:"prd"})}),w.bind(C+"+c",function(){if($.clearPaste(),i["default"].isSelectTableCell())y.copyTableCell();else{var e=a["default"].getSelectElementArr(),t=l["default"].getPrdSelectArr();(e&&e.length>0||t&&t.length)&&p.copyPrdSelectElement()}}),w.bind(C+"+x",function(){if($.clearPaste(),i["default"].isSelectTableCell())y.copyTableCell(!0),s["default"].createData({type:"cutSelectTableCell",name:"PRD 剪切选中的表格内容",autoSaveType:"prd"});else{var e=a["default"].getSelectElementArr();e&&e.length>0&&(p.copyPrdSelectElement(),d.deleteSelectElement(),s["default"].createData({type:"cutSelectElement",name:"PRD 剪切选中的prd组件",autoSaveType:"prd"}))}});[["up","up",1,!1,-1],["down","down",1,!1,1],["left","left",1,!0,-1],["right","right",1,!0,1],["shift+up","up",10,!1,-10],["shift+down","down",10,!1,10],["shift+left","left",10,!0,-10],["shift+right","right",10,!0,10]].forEach(function(e){var t=e[0],n=e[1],r=(e[2],e[3]),a=e[4];w.bind(t,function(e){if(i["default"].isSelectTableCell())h.MouseKeyChangeSelect(n,e.shiftKey,$.isCommonByEvent(e));else{var t=_.getSelectElementByHierarchy();t.length>0&&(t.forEach(function(e){var t=e.x,n=e.y,o={};r?o.x=t+a:o.y=n+a,v.fixElementPosVal({changeVal:o,noEmit:!0,element:e})}),m["default"].emitChange(),clearTimeout(o),o=setTimeout(function(){s["default"].createData({type:"changePrdSelectElementPos",name:"PRD 通过快捷键修改选中组件位置",autoSaveType:"prd"})},1e3))}return!1},"keydown")})}t.initPrdMousetrap=x,t["default"]={initPrdMousetrap:x}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prdTemplateList=[{title:"空文档",type:"empty",platform:"all"},{title:"版本修订记录",type:"versionEditHistory",platform:"all"},{title:"名词解释",type:"nounExplain",platform:"all"},{title:"产品概述",type:"productOverview",platform:"all"},{title:"需求清单",type:"demandList",platform:"all"},{title:"功能列表",type:"funcList",platform:"all"},{title:"产品信息结构",type:"infoStructChart",platform:"all"},{title:"产品功能结构",type:"pageFlowChart",platform:"all"},{title:"交互原型",type:"previewPrototype",platform:"all"},{title:"权限说明示例",type:"permissionExplain",platform:"mobile"},{title:"交互说明示例",type:"previewExplain",platform:"mobile"},{title:"权限说明示例",type:"permissionExplain",platform:"web"},{title:"交互说明示例",type:"previewExplain",platform:"web"},{title:"其他机制与规则",type:"otherRules",platform:"all"},{title:"页面说明 (示例1)",type:"pageExplain1",platform:"mobile"},{title:"页面说明 (示例2)",type:"pageExplain2",platform:"mobile"},{title:"页面说明 (示例3)",type:"pageExplain3",platform:"mobile"},{title:"页面说明 (示例1)",type:"pageExplain1",platform:"web"},{title:"页面说明 (示例2)",type:"pageExplain2",platform:"web"},{title:"页面说明 (示例3)",type:"pageExplain3",platform:"web"},{title:"页面流程",type:"mobilePageFlow",platform:"mobile"},{title:"数据需求",type:"dataDemand",platform:"all"},{title:"非功能性需求",type:"otherFunc",platform:"all"}],t["default"]={prdTemplateList:t.prdTemplateList}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(11)),d=window,f=d.$,p=d.isPrototypeTool,h=(d.ss,window.AMap),g=function(e){function t(t){var n=e.call(this,t)||this;return n.input=null,n.state={title:"",inputValue:"",coordinate:"",test:"",isSearchComplete:""},n}return o(t,e),t.prototype.handleInputChange=function(e){var t=this;t.setState({inputValue:e.target.value}),h.plugin(["AMap.Autocomplete"],function(){(new h.Autocomplete).search(t.state.inputValue,function(e,n){t.setState({isSearchComplete:e})})})},t.prototype.handleClearValue=function(){var e=this.props.clearInputValueFunc,t=void 0===e?f.noop:e;this.setState({inputValue:""}),t(),f.tipHide()},t.prototype.componentDidMount=function(){var e=this.props,t=e.mapData,n=e.center,r=e.zoom,o=e.isZoomIn,a=e.isDrag,i=e.defaultAddress,s=e.contrId,l=e.isEdit,u={scrollWheel:!1,center:n,zoom:r,zoomEnable:o,dragEnable:a,showControlButton:!1},c=new h.Map(l?"edit_map":s+"ViewMap",u);new h.Marker({map:c}),h.plugin(["AMap.Autocomplete","AMap.PlaceSearch","AMap.ToolBar"],function(){var e={input:l?"EditMapSearchInput":s+"MapInputEdit"},n={offset:new h.Pixel(0,0),position:"RB",direction:!1,locate:!1,liteStyle:!1},r=new h.Autocomplete(e),a=new h.PlaceSearch({city:"全国",map:c}),i=new h.ToolBar(n);o?c.addControl(i):undefined,h.event.addListener(r,"select",function(e){a.search(e.poi.name),a.setCity(e.poi.adcode)}),h.event.addListener(a,"markerClick",function(e){t.location=[e.data.location.lng,e.data.location.lat],t.name=e.data.name})}),i&&this.input&&(this.input.value=i)},t.prototype.render=function(){var e=this,t=e.state.isSearchComplete,n=e.props,r=(n.height,n.width),o=n.isHaveInput,a=n.contrId,i=n.isEdit,s=f.getScaleRatio(),u=p?r:s*r;return l["default"].createElement("div",{className:"map-container stretch-wrapper extra-contr-container"},l["default"].createElement("div",{id:i?"edit_map":a+"ViewMap",className:c["default"]("edit-map-container")}),l["default"].createElement("div",{className:c["default"]("map-search-components-wrapper",{"is-mini-input":r<=360})},o?l["default"].createElement("input",{ref:function(t){e.input=t},id:i?"EditMapSearchInput":a+"MapInputEdit",className:c["default"]("map-search-input",{"is-mini-input":r<=360}),placeholder:"请输入地理位置",onChange:e.handleInputChange,value:e.state.inputValue}):undefined,o?l["default"].createElement("div",{className:c["default"]("expand-icon material-icons input-search-icon",{"is-mini-input":r<=360})},"search"):undefined,""==e.state.inputValue?undefined:l["default"].createElement("div",{className:c["default"]("clear-icon-wrapper",{"is-mini-input":r<=360})},l["default"].createElement("div",{className:"expand-icon material-icons input-clear-icon f-r a_c","data-contr":"hovertip","data-option":f.objToString({text:"清除输入内容",direction:"bottom",changePosi:30}),onClick:e.handleClearValue},"add_circle")),l["default"].createElement("div",{className:c["default"]("not-find-toast",{"not-find-toast-show":"error"==t||"NO_PARAMS"==t||"no_data"==t,"is-mini-input":u<=375})},l["default"].createElement("div",{className:"not-find-text"},"抱歉，未找到相关地点。"))))},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleInputChange",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"handleClearValue",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"componentDidMount",null),t}(l["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=u(n(11)),f=u(n(3)),p=u(n(27)),h=u(n(5)),g=u(n(67)),y=u(n(10)),m=u(n(1349)),_=u(n(97)),v=u(n(270)),b=function(e){function t(t){var n=e.call(this,t)||this;return n.state=a({showSelect:!1},n.getLineData()),n}return o(t,e),t.prototype.componentDidMount=function(){p["default"].addChangeListener(this.lineChange),g["default"].addChangeListener(this.lineChange)},t.prototype.componentWillUnmount=function(){p["default"].removeChangeListener(this.lineChange),g["default"].removeChangeListener(this.lineChange)},t.prototype.shouldComponentUpdate=function(e,t){return this.state.selectLine.join()!=t.selectLine.join()||this.state.showSelect!=t.showSelect||this.state.lineType!=t.lineType},t.prototype.lineChange=function(){this.setState(a({},this.getLineData()))},t.prototype.getLineData=function(){var e=this.props.isPrd;return{selectLine:e?g["default"].getPrdSelectArr():p["default"].getSelectArr(),lineType:e?g["default"].getPrdLineType():p["default"].getLineType()}},t.prototype.addComment=function(){var e=this.state.selectLine[0];_["default"].commentBoxFocus(e,!0,.5)||y["default"].createData({type:"showOrEditCommentPrdToast",name:"PRD 弹层显示/修改文本",autoSaveType:"prd"})},t.prototype.renderSelect=function(e){var t=this.props.isPrd,n=[];return e.forEach(function(e,r){var o=e.color,a=e.isRing,i=e.backColor,s=e.textColor,l=e.hasBorder;n.push(c["default"].createElement(m["default"],{key:o+"show",color:o,backColor:i,textColor:s,idx:r,hasBorder:l,isRing:a,isPrd:t}))}),n},t.prototype.showSelect=function(){var e=this.state.showSelect;this.setState({showSelect:!e})},t.prototype.render=function(){var e=this.state,t=e.showSelect,n=e.selectLine,r=this.props.isPrd,o=h["default"].getViewMode();if(!(n.length&&"multi-view"==o||r))return null;var a,i=!0,s=-1,l=!1;n.forEach(function(e){var t=r?g["default"].getPrdOneLine(e):p["default"].getOneLine(e);if(t){var n=t.lineType;l=!0,-1==s?s=n:s!=n&&(i=!1)}}),i&&(a=v["default"].LINE_ARR[s]);var u=r&&n.length;return l?c["default"].createElement("div",{className:d["default"]("line-type-box",{"prd-head-btn":r,"single-prd-line":u})},u?c["default"].createElement("div",{className:"a_c add-comment-btn",onClick:this.addComment,"data-contr":"hovertip","data-option":'{"text":"编辑文本[双击]"}'}):undefined,c["default"].createElement("div",{"data-contr":"hovertip","data-option":'{"text":"连线样式"}',className:d["default"]("line-type-toast-box toast-box",{a_c:r})},i?c["default"].createElement(m["default"],{color:a.color,isRing:a.isRing,idx:s,hasBorder:a.hasBorder,backColor:a.backColor,textColor:a.textColor,isTitle:!0,closeFunc:this.showSelect,isPrd:r}):c["default"].createElement(m["default"],{color:"#A6A6A6",isRing:!1,idx:-1,hasBorder:!1,backColor:"#3c3c46",textColor:"rgba(255, 255, 255, 0.6)",isTitle:!0,closeFunc:this.showSelect,isPrd:r}),c["default"].createElement("div",{style:{transform:t?"rotate(180deg)":undefined},onClick:this.showSelect,className:"new-img line-type-select-icon"+(t?" is-open":" is-close")})),t?c["default"].createElement("div",{className:"line-type-select-box"},this.renderSelect(v["default"].LINE_ARR)):undefined):null},i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"lineChange",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getLineData",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"addComment",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"renderSelect",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"showSelect",null),t}(c.Component);t["default"]=b},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=l(n(3)),d=l(n(27)),f=l(n(5)),p=l(n(67)),h=l(n(10)),g=l(n(12)),y=l(n(270)),m=!1,_=function(e){function t(t){var n=e.call(this,t)||this,r=n.props.isPrd?p["default"].getPrdComment():d["default"].getComment(),o=r.isShow,a=r.text,i=r.x,s=r.y,l=r.lineType,u=r.id;return n.state={isShow:o,text:a,x:i,y:s,lineType:l,id:u},n}return o(t,e),t.prototype.componentDidMount=function(){d["default"].addCommentChangeListener(this.lineChange),p["default"].addChangeListener(this.lineChange)},t.prototype.componentWillUnmount=function(){d["default"].removeCommentChangeListener(this.lineChange),p["default"].removeChangeListener(this.lineChange)},t.prototype.shouldComponentUpdate=function(e,t){return this.state.isShow!=t.isShow||this.state.text!=t.text||this.state.x!=t.x||this.state.y!=t.y||this.state.lineType!=t.lineType||this.state.id!=t.id},t.prototype.lineChange=function(){var e=this.props.isPrd?p["default"].getPrdComment():d["default"].getComment(),t=e.isShow,n=e.text,r=e.x,o=e.y,a=e.lineType,i=e.id;this.setState({isShow:t,text:n,x:r,y:o,lineType:a,id:i})},t.prototype.inputValue=function(e){if(e.currentTarget.value.gblen()>200&&!m){for(;e.currentTarget.value.gblen()>200;){var t=e.currentTarget.value;e.currentTarget.value=e.currentTarget.value.slice(0,t.length-1)}g["default"].show("文本内容不能超过个200字符")}var n=$(".comment-pre span")[0];$(n).html(e.currentTarget.value)},t.prototype.cancelInput=function(e){var t=f["default"].getView().zoom,n=this.state.id,r=this.props.isPrd,o=e.currentTarget.value.trim(),a=$(".comment-box")[0],i=$.offset(a,!0),s=i.width,l=i.height;s/=2*t,l/=2*t,r?(p["default"].changePrdLine({id:n,text:o,hasComment:!!o,commentWidth:o?s:64,commentHeight:o?l:24}),p["default"].setPrdComment({}),h["default"].createData({type:"changeLineCommentPrd",name:"PRD 修改连线备注",autoSaveType:"prd"})):(d["default"].changeLine({id:n,text:o,hasComment:!!o,commentWidth:o?s:64,commentHeight:o?l:24}),d["default"].setComment({}),h["default"].createData({type:"changeCommentPosi",name:"改变文本当前所在的位置"}))},t.prototype.handleComposition=function(e){m="compositionend"!==e.type,this.inputValue(e)},t.prototype.render=function(){var e=f["default"].getView().zoom,t=this.state,n=t.isShow,r=t.text,o=t.x,a=t.y,i=t.lineType;if(!n)return u["default"].createElement("div",null);var s=y["default"].LINE_ARR[i],l=s.color,c=s.backColor,d=s.hasBorder,p=s.textColor;return u["default"].createElement("div",{className:"comment-box",style:{left:o,top:a,border:d?"1px solid "+l:undefined,background:c,transform:"scale("+2*e+") translate("+.5/e*-50+"%, "+.5/e*-50+"%)"}},u["default"].createElement("textarea",{style:{color:p},className:"comment-input",defaultValue:r,onChange:this.inputValue,onBlur:this.cancelInput,onCompositionStart:this.handleComposition,onCompositionUpdate:this.handleComposition,onCompositionEnd:this.handleComposition}),u["default"].createElement("pre",{className:"comment-pre"},u["default"].createElement("span",null,r),u["default"].createElement("br",null)))},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"lineChange",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"inputValue",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"cancelInput",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleComposition",null),t}(u.Component);t["default"]=_},,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(5)),i=r(n(48)),s=r(n(12)),l=r(n(19)),u=r(n(171)),c=r(n(93)),d=n(213),f=n(618),p=n(85),h=n(497),g=n(888);function y(){if(window.noLogin)return $.addAttention("registerBtn"),void s["default"].show("登录后，免费使用");var e=window.isPc?window.pSize||window.phoneBaseSize.width:window.phoneSize.width,t=e+"px",n=Math.round(e/Math.ceil(parseInt(e)/(window.isPc?1e3:500)))+"px",r="1",y=[n],m=["1"];if("0"!=window.loginInfo.vipLevel){window.isPc?(y=y.concat(["1200px","1440px","1680px","1920px"]),m=m.concat(["2","3","4","5"])):(y=y.concat(["640px","720px","750px","828px"]),m=m.concat(["2","3","4","5"])),-1==y.indexOf(t)&&(y.push(e+"px"),m.push("6"));var _=y.indexOf(t);n=y[_],r=m[_]}l["default"].init({width:500,submitBtnName:"下载",cancelBtnName:"取消",title:"项目导出图片？",content:o["default"].createElement("div",{className:"popup-content"},o["default"].createElement("span",{className:"popup-item-title"},"确定下载整个项目的页面为图片？"),o["default"].createElement("div",{className:"popup-setting-item popup-section"},o["default"].createElement("span",{className:"popup-item-title"},"图片分辨率："),o["default"].createElement(u["default"],{id:"imageSizeSet",text:n,value:r,texts:y,values:m,width:100})),"0"==window.loginInfo.vipLevel?o["default"].createElement("span",{className:"popup-item-desc",style:{marginLeft:0,display:"block"}},"（","前往",o["default"].createElement("a",{className:"red-text underline-text",href:"/price",target:"_blank"},"账户升级"),"或",o["default"].createElement("a",{className:"red-text underline-text",onClick:c["default"].showVipPopupFunc,target:"_blank"},"邀请好友免费升级账户"),"，可下载更高分辨率","）"):undefined),submitBtnFunc:function(){window.projectImageDownloading=!0,setTimeout(function(){window.projectImageDownloading=!1},1e4);var e=parseInt(y[$.getElById("imageSizeSet").getAttribute("data-value")-1].replace("px",""));window.isPc?function(e){var t=a["default"].getView();$.ajax("/project/getImage",{name:t.name,proid:t.proid,versionkey:t.versionSet.activeKey,baseversion:""==t.versionSet.activeKey?"true":undefined,platform:window.isPc?"web":"",pageNum:p.getStructPagesLength(),phoneSize:window.pSize,baseWidth:window.phoneSize.width,imageWidth:e,imageHeight:Math.ceil(e*window.phoneSize.height/window.phoneSize.width),pageHeight:window.isPc?undefined:Math.round(window.phoneSize.height*window.phoneSize.width/320)},function(e){window.isDownloading||(window.isDownloading=!0,setTimeout(function(){window.isDownloading=!1},0)),l["default"].hide(),s["default"].show("正在打包下载，请稍候..."),window.location.href="https://www.xiaopiu.com/project/getImage?timeVal="+e.timeVal})}(e):function(e){window.temporarySet.downloadActivePage=!0;var t="normal"==a["default"].getViewMode();a["default"].setLoad(!1,undefined,"正在生成图片，请稍后..."),t&&a["default"].setViewMode("multi-view");setTimeout(function(){h.loadMultiViewCanvas(function(){d.cacheActiveCanvasPage(function(){setTimeout(function(){g.isLoadedImg(function(){l["default"].hide(),t&&a["default"].setViewMode("normal"),f.exportAllPage(e,function(){i["default"].emitChange(),setTimeout(function(){a["default"].setLoad(!0),delete window.temporarySet.downloadActivePage},0)})})},0)},!0)},!0)},100)}(e)}})}t.getProjectImage=y,t["default"]={getProjectImage:y}},function(e,t,n){"use strict";var r=n(461),o=n(140),a=n(263),i=n(921),s=n(922),l=n(872),u=n(1202),c=n(1203),d=n(840),f=n(1215),p=function(e,t,n){var r,i=o.getTypeOf(t),c=o.extend(n||{},s);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(e=g(e)),c.createFolders&&(r=h(e))&&y.call(this,r,!0);var p="string"===i&&!1===c.binary&&!1===c.base64;n&&"undefined"!=typeof n.binary||(c.binary=!p),(t instanceof l&&0===t.uncompressedSize||c.dir||!t||0===t.length)&&(c.base64=!1,c.binary=!0,t="",c.compression="STORE",i="string");var m=null;m=t instanceof l||t instanceof a?t:d.isNode&&d.isStream(t)?new f(e,t):o.prepareContent(e,t,c.binary,c.optimizedBinaryString,c.base64);var _=new u(e,m,c);this.files[e]=_},h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},y=function(e,t){return t=void 0!==t?t:s.createFolders,e=g(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r))},filter:function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(r)}),t},file:function(e,t,n){if(1===arguments.length){if(m(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var o=this.files[this.root+e];return o&&!o.dir?o:null}return e=this.root+e,p.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(m(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=y.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var s=n.comment||this.comment||"";t=c.generateWorker(this,n,s)}catch(l){(t=new a("error")).error(l)}return new i(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=_},function(e,t,n){e.exports=o;var r=n(69).EventEmitter;function o(){r.call(this)}n(462)(o,r),o.Readable=n(870),o.Writable=n(1193),o.Duplex=n(1194),o.Transform=n(1195),o.PassThrough=n(1196),o.Stream=o,o.prototype.pipe=function(e,t){var n=this;function o(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",o),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var i=!1;function s(){i||(i=!0,e.end())}function l(){i||(i=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",o),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){"use strict";var r=n(839).Buffer,o=n(1189);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,o,a=r.allocUnsafe(e>>>0),i=this.head,s=0;i;)t=i.data,n=a,o=s,t.copy(n,o),s+=i.data.length,i=i.next;return a},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,a,i,s,l=1,u={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){h(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){a.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(i="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&h(+t.data.slice(i.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(i+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return u[l]=o,r(l),l++},f.clearImmediate=p}function p(e){delete u[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(59),n(58))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(59))},function(e,t,n){"use strict";e.exports=a;var r=n(919),o=n(591);function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}o.inherits=n(462),o.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(871)},function(e,t,n){e.exports=n(420)},function(e,t,n){e.exports=n(870).Transform},function(e,t,n){e.exports=n(870).PassThrough},function(e,t,n){"use strict";(function(t){e.exports="function"==typeof t?t:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}}).call(this,n(913).setImmediate)},function(e,t,n){"use strict";var r=n(1199);function o(){}var a={},i=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==o&&p(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r(function(){var r;try{r=t(n)}catch(o){return a.reject(e,o)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)})}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function o(t){n||(n=!0,a.resolve(e,t))}var i=h(function(){t(o,r)});"error"===i.status&&r(i.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=u,u.prototype["finally"]=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},u.prototype["catch"]=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===i)return this;var n=new this.constructor(o);this.state!==l?d(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t));return n},c.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){a.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=h(f,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},a.reject=function(e,t){e.state=i,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){if(e instanceof this)return e;return a.resolve(new this(o),e)},u.reject=function(e){var t=new this(o);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);var i=new Array(n),s=0,l=-1,u=new this(o);for(;++l<n;)c(e[l],l);return u;function c(e,o){t.resolve(e).then(function(e){i[o]=e,++s!==n||r||(r=!0,a.resolve(u,i))},function(e){r||(r=!0,a.reject(u,e))})}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);var i=-1,s=new this(o);for(;++i<n;)l=e[i],t.resolve(l).then(function(e){r||(r=!0,a.resolve(s,e))},function(e){r||(r=!0,a.reject(s,e))});var l;return s}},function(e,t,n){"use strict";(function(t){var n,r,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var a=0,i=new o(c),s=t.document.createTextNode("");i.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var l=new t.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}e.exports=function(e){1!==u.push(e)||r||n()}}).call(this,n(59))},function(e,t,n){"use strict";var r=n(263),o=n(140);function a(e){r.call(this,"ConvertWorker to "+e),this.destType=e}o.inherits(a,r),a.prototype.processChunk=function(e){this.push({data:o.transformTo(this.destType,e.data),meta:e.meta})},e.exports=a},function(e,t,n){"use strict";var r=n(914).Readable;function o(e,t,n){r.call(this,t),this._helper=e;var o=this;e.on("data",function(e,t){o.push(e)||o._helper.pause(),n&&n(t)}).on("error",function(e){o.emit("error",e)}).on("end",function(){o.push(null)})}n(140).inherits(o,r),o.prototype._read=function(){this._helper.resume()},e.exports=o},function(e,t,n){"use strict";var r=n(921),o=n(923),a=n(461),i=n(872),s=n(263),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var o="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var i=!this._dataBinary;i&&!o&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&o&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(l){(t=new s("error")).error(l)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof i&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),i.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof i?this._data.getContentWorker():this._data instanceof s?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)l.prototype[u[d]]=c;e.exports=l},function(e,t,n){"use strict";var r=n(926),o=n(1214);t.generateWorker=function(e,t,n){var a=new o(t.streamFiles,n,t.platform,t.encodeFileName),i=0;try{e.forEach(function(e,n){i++;var o=function(e,t){var n=e||t,o=r[n];if(!o)throw new Error(n+" is not a valid compression method !");return o}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(o,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)}),a.entriesCount=i}catch(s){a.error(s)}return a}},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=n(1205),a=n(140),i=n(263),s=r?"uint8array":"array";function l(e,t){i.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",a.inherits(l,i),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){i.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new l("Deflate",e)},t.uncompressWorker=function(){return new l("Inflate",{})}},function(e,t,n){"use strict";var r={};(0,n(345).assign)(r,n(1206),n(1209),n(931)),e.exports=r},function(e,t,n){"use strict";var r=n(1207),o=n(345),a=n(929),i=n(874),s=n(930),l=Object.prototype.toString,u=0,c=-1,d=0,f=8;function p(e){if(!(this instanceof p))return new p(e);this.options=o.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(i[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var h;if(h="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,h))!==u)throw new Error(i[n]);this._dict_set=!0}}function h(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||i[n.err];return n.result}p.prototype.push=function(e,t){var n,i,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,i))&&n!==u)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(a.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===i?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==i||(this.onEnd(u),s.avail_out=0,!0)},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=p,t.deflate=h,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,h(e,t)}},function(e,t,n){"use strict";var r,o=n(345),a=n(1208),i=n(927),s=n(928),l=n(874),u=0,c=1,d=3,f=4,p=5,h=0,g=1,y=-2,m=-3,_=-5,v=-1,b=1,w=2,C=3,x=4,S=0,P=2,k=8,O=9,E=15,T=8,M=286,D=30,A=19,j=2*M+1,I=15,L=3,R=258,B=R+L+1,N=32,F=42,H=69,$=73,z=91,U=103,V=113,K=666,G=1,q=2,W=3,Y=4,X=3;function Z(e,t){return e.msg=l[t],t}function J(e){return(e<<1)-(e>4?9:0)}function Q(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(o.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function oe(e,t){var n,r,o=e.max_chain_length,a=e.strstart,i=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-B?e.strstart-(e.w_size-B):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+R,p=u[a+i-1],h=u[a+i];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+i]===h&&u[n+i-1]===p&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<f);if(r=R-(f-a),a=f-R,r>i){if(e.match_start=t,i=r,r>=s)break;p=u[a+i-1],h=u[a+i]}}}while((t=d[t&c])>l&&0!=--o);return i<=e.lookahead?i:e.lookahead}function ae(e){var t,n,r,a,l,u,c,d,f,p,h=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-B)){o.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=h?r-h:0}while(--n);t=n=h;do{r=e.prev[--t],e.prev[t]=r>=h?r-h:0}while(--n);a+=h}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,f=a,p=void 0,(p=u.avail_in)>f&&(p=f),n=0===p?0:(u.avail_in-=p,o.arraySet(c,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=i(u.adler,c,p,d):2===u.state.wrap&&(u.adler=s(u.adler,c,p,d)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=L)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+L-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<L)););}while(e.lookahead<B&&0!==e.strm.avail_in)}function ie(e,t){for(var n,r;;){if(e.lookahead<B){if(ae(e),e.lookahead<B&&t===u)return G;if(0===e.lookahead)break}if(n=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-B&&(e.match_length=oe(e,n)),e.match_length>=L)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-L),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=L){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=e.strstart<L-1?e.strstart:L-1,t===f?(te(e,!0),0===e.strm.avail_out?W:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:q}function se(e,t){for(var n,r,o;;){if(e.lookahead<B){if(ae(e),e.lookahead<B&&t===u)return G;if(0===e.lookahead)break}if(n=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=L-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-B&&(e.match_length=oe(e,n),e.match_length<=5&&(e.strategy===b||e.match_length===L&&e.strstart-e.match_start>4096)&&(e.match_length=L-1)),e.prev_length>=L&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-L,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-L),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=L-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return G}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return G}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<L-1?e.strstart:L-1,t===f?(te(e,!0),0===e.strm.avail_out?W:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:q}function le(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*j),this.dyn_dtree=new o.Buf16(2*(2*D+1)),this.bl_tree=new o.Buf16(2*(2*A+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(I+1),this.heap=new o.Buf16(2*M+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*M+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=P,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?F:V,e.adler=2===t.wrap?0:1,t.last_flush=u,a._tr_init(t),h):Z(e,y)}function de(e){var t,n=ce(e);return n===h&&((t=e.state).window_size=2*t.w_size,Q(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=L-1,t.match_available=0,t.ins_h=0),n}function fe(e,t,n,r,a,i){if(!e)return y;var s=1;if(t===v&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>O||n!==k||r<8||r>15||t<0||t>9||i<0||i>x)return Z(e,y);8===r&&(r=9);var l=new ue;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+L-1)/L),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=i,l.method=n,de(e)}r=[new le(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===u)return G;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out))return G;if(e.strstart-e.block_start>=e.w_size-B&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?W:Y):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),G)}),new le(4,4,8,4,ie),new le(4,5,16,8,ie),new le(4,6,32,32,ie),new le(4,4,16,16,se),new le(8,16,32,32,se),new le(8,16,128,128,se),new le(8,32,128,256,se),new le(32,128,258,1024,se),new le(32,258,258,4096,se)],t.deflateInit=function(e,t){return fe(e,t,k,E,T,S)},t.deflateInit2=fe,t.deflateReset=de,t.deflateResetKeep=ce,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?y:(e.state.gzhead=t,h):y},t.deflate=function(e,t){var n,o,i,l;if(!e||!e.state||t>p||t<0)return e?Z(e,y):y;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===K&&t!==f)return Z(e,0===e.avail_out?_:y);if(o.strm=e,n=o.last_flush,o.last_flush=t,o.status===F)if(2===o.wrap)e.adler=0,ne(o,31),ne(o,139),ne(o,8),o.gzhead?(ne(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),ne(o,255&o.gzhead.time),ne(o,o.gzhead.time>>8&255),ne(o,o.gzhead.time>>16&255),ne(o,o.gzhead.time>>24&255),ne(o,9===o.level?2:o.strategy>=w||o.level<2?4:0),ne(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(ne(o,255&o.gzhead.extra.length),ne(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=H):(ne(o,0),ne(o,0),ne(o,0),ne(o,0),ne(o,0),ne(o,9===o.level?2:o.strategy>=w||o.level<2?4:0),ne(o,X),o.status=V);else{var m=k+(o.w_bits-8<<4)<<8;m|=(o.strategy>=w||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(m|=N),m+=31-m%31,o.status=V,re(o,m),0!==o.strstart&&(re(o,e.adler>>>16),re(o,65535&e.adler)),e.adler=1}if(o.status===H)if(o.gzhead.extra){for(i=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),ee(e),i=o.pending,o.pending!==o.pending_buf_size));)ne(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=$)}else o.status=$;if(o.status===$)if(o.gzhead.name){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),ee(e),i=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,ne(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),0===l&&(o.gzindex=0,o.status=z)}else o.status=z;if(o.status===z)if(o.gzhead.comment){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),ee(e),i=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,ne(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),0===l&&(o.status=U)}else o.status=U;if(o.status===U&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&ee(e),o.pending+2<=o.pending_buf_size&&(ne(o,255&e.adler),ne(o,e.adler>>8&255),e.adler=0,o.status=V)):o.status=V),0!==o.pending){if(ee(e),0===e.avail_out)return o.last_flush=-1,h}else if(0===e.avail_in&&J(t)<=J(n)&&t!==f)return Z(e,_);if(o.status===K&&0!==e.avail_in)return Z(e,_);if(0!==e.avail_in||0!==o.lookahead||t!==u&&o.status!==K){var v=o.strategy===w?function(e,t){for(var n;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===u)return G;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?W:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:q}(o,t):o.strategy===C?function(e,t){for(var n,r,o,i,s=e.window;;){if(e.lookahead<=R){if(ae(e),e.lookahead<=R&&t===u)return G;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=L&&e.strstart>0&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){i=e.strstart+R;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=R-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=L?(n=a._tr_tally(e,1,e.match_length-L),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?W:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:q}(o,t):r[o.level].func(o,t);if(v!==W&&v!==Y||(o.status=K),v===G||v===W)return 0===e.avail_out&&(o.last_flush=-1),h;if(v===q&&(t===c?a._tr_align(o):t!==p&&(a._tr_stored_block(o,0,0,!1),t===d&&(Q(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),ee(e),0===e.avail_out))return o.last_flush=-1,h}return t!==f?h:o.wrap<=0?g:(2===o.wrap?(ne(o,255&e.adler),ne(o,e.adler>>8&255),ne(o,e.adler>>16&255),ne(o,e.adler>>24&255),ne(o,255&e.total_in),ne(o,e.total_in>>8&255),ne(o,e.total_in>>16&255),ne(o,e.total_in>>24&255)):(re(o,e.adler>>>16),re(o,65535&e.adler)),ee(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?h:g)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==F&&t!==H&&t!==$&&t!==z&&t!==U&&t!==V&&t!==K?Z(e,y):(e.state=null,t===V?Z(e,m):h):y},t.deflateSetDictionary=function(e,t){var n,r,a,s,l,u,c,d,f=t.length;if(!e||!e.state)return y;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==F||n.lookahead)return y;for(1===s&&(e.adler=i(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(Q(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new o.Buf8(n.w_size),o.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=f,e.next_in=0,e.input=t,ae(n);n.lookahead>=L;){r=n.strstart,a=n.lookahead-(L-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+L-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=L-1,ae(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=L-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,h},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(345),o=4,a=0,i=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var u=0,c=1,d=2,f=29,p=256,h=p+1+f,g=30,y=19,m=2*h+1,_=15,v=16,b=7,w=256,C=16,x=17,S=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(h+2));l(T);var M=new Array(2*g);l(M);var D=new Array(512);l(D);var A=new Array(256);l(A);var j=new Array(f);l(j);var I,L,R,B=new Array(g);function N(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function H(e){return e<256?D[e]:D[256+(e>>>7)]}function $(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function z(e,t,n){e.bi_valid>v-n?(e.bi_buf|=t<<e.bi_valid&65535,$(e,e.bi_buf),e.bi_buf=t>>v-e.bi_valid,e.bi_valid+=n-v):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function U(e,t,n){z(e,n[2*t],n[2*t+1])}function V(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function K(e,t,n){var r,o,a=new Array(_+1),i=0;for(r=1;r<=_;r++)a[r]=i=i+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=V(a[s]++,s))}}function G(e){var t;for(t=0;t<h;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*w]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function q(e){e.bi_valid>8?$(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,n,r){var o=2*t,a=2*n;return e[o]<e[a]||e[o]===e[a]&&r[t]<=r[n]}function Y(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&W(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!W(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function X(e,t,n){var r,o,a,i,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0===r?U(e,o,t):(U(e,(a=A[o])+p+1,t),0!==(i=P[a])&&z(e,o-=j[a],i),U(e,a=H(--r),n),0!==(i=k[a])&&z(e,r-=B[a],i))}while(s<e.last_lit);U(e,w,t)}function Z(e,t){var n,r,o,a=t.dyn_tree,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=m,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(o=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=i[2*o+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)Y(e,a,n);o=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Y(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*o]=a[2*n]+a[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=o,e.heap[1]=o++,Y(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,a,i,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,g=0;for(a=0;a<=_;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<m;n++)(a=l[2*l[2*(r=e.heap[n])+1]+1]+1)>h&&(a=h,g++),l[2*r+1]=a,r>u||(e.bl_count[a]++,i=0,r>=p&&(i=f[r-p]),s=l[2*r],e.opt_len+=s*(a+i),d&&(e.static_len+=s*(c[2*r+1]+i)));if(0!==g){do{for(a=h-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[h]--,g-=2}while(g>0);for(a=h;0!==a;a--)for(r=e.bl_count[a];0!==r;)(o=e.heap[--n])>u||(l[2*o+1]!==a&&(e.opt_len+=(a-l[2*o+1])*l[2*o],l[2*o+1]=a),r--)}}(e,t),K(a,u,e.bl_count)}function J(e,t,n){var r,o,a=-1,i=t[1],s=0,l=7,u=4;for(0===i&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=i,i=t[2*(r+1)+1],++s<l&&o===i||(s<u?e.bl_tree[2*o]+=s:0!==o?(o!==a&&e.bl_tree[2*o]++,e.bl_tree[2*C]++):s<=10?e.bl_tree[2*x]++:e.bl_tree[2*S]++,s=0,a=o,0===i?(l=138,u=3):o===i?(l=6,u=3):(l=7,u=4))}function Q(e,t,n){var r,o,a=-1,i=t[1],s=0,l=7,u=4;for(0===i&&(l=138,u=3),r=0;r<=n;r++)if(o=i,i=t[2*(r+1)+1],!(++s<l&&o===i)){if(s<u){do{U(e,o,e.bl_tree)}while(0!=--s)}else 0!==o?(o!==a&&(U(e,o,e.bl_tree),s--),U(e,C,e.bl_tree),z(e,s-3,2)):s<=10?(U(e,x,e.bl_tree),z(e,s-3,3)):(U(e,S,e.bl_tree),z(e,s-11,7));s=0,a=o,0===i?(l=138,u=3):o===i?(l=6,u=3):(l=7,u=4)}}l(B);var ee=!1;function te(e,t,n,o){z(e,(u<<1)+(o?1:0),3),function(e,t,n,o){q(e),o&&($(e,n),$(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){ee||(function(){var e,t,n,r,o,a=new Array(_+1);for(n=0,r=0;r<f-1;r++)for(j[r]=n,e=0;e<1<<P[r];e++)A[n++]=r;for(A[n-1]=r,o=0,r=0;r<16;r++)for(B[r]=o,e=0;e<1<<k[r];e++)D[o++]=r;for(o>>=7;r<g;r++)for(B[r]=o<<7,e=0;e<1<<k[r]-7;e++)D[256+o++]=r;for(t=0;t<=_;t++)a[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,a[8]++;for(;e<=255;)T[2*e+1]=9,e++,a[9]++;for(;e<=279;)T[2*e+1]=7,e++,a[7]++;for(;e<=287;)T[2*e+1]=8,e++,a[8]++;for(K(T,h+1,a),e=0;e<g;e++)M[2*e+1]=5,M[2*e]=V(e,5);I=new N(T,P,p+1,h,_),L=new N(M,k,0,g,_),R=new N(new Array(0),O,0,y,b)}(),ee=!0),e.l_desc=new F(e.dyn_ltree,I),e.d_desc=new F(e.dyn_dtree,L),e.bl_desc=new F(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,G(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,n,r){var l,u,f=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return i;for(t=32;t<p;t++)if(0!==e.dyn_ltree[2*t])return i;return a}(e)),Z(e,e.l_desc),Z(e,e.d_desc),f=function(e){var t;for(J(e,e.dyn_ltree,e.l_desc.max_code),J(e,e.dyn_dtree,e.d_desc.max_code),Z(e,e.bl_desc),t=y-1;t>=3&&0===e.bl_tree[2*E[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(u=e.static_len+3+7>>>3)<=l&&(l=u)):l=u=n+5,n+4<=l&&-1!==t?te(e,t,n,r):e.strategy===o||u===l?(z(e,(c<<1)+(r?1:0),3),X(e,T,M)):(z(e,(d<<1)+(r?1:0),3),function(e,t,n,r){var o;for(z(e,t-257,5),z(e,n-1,5),z(e,r-4,4),o=0;o<r;o++)z(e,e.bl_tree[2*E[o]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,f+1),X(e,e.dyn_ltree,e.dyn_dtree)),G(e),r&&q(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(A[n]+p+1)]++,e.dyn_dtree[2*H(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){z(e,c<<1,3),U(e,w,T),function(e){16===e.bi_valid?($(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(1210),o=n(345),a=n(929),i=n(931),s=n(874),l=n(930),u=n(1213),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==i.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==i.Z_OK))throw new Error(s[n])}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,l,u,d,f=this.strm,p=this.options.chunkSize,h=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?i.Z_FINISH:i.Z_NO_FLUSH,"string"==typeof e?f.input=a.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new o.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&h&&(n=r.inflateSetDictionary(this.strm,h)),n===i.Z_BUF_ERROR&&!0===g&&(n=i.Z_OK,g=!1),n!==i.Z_STREAM_END&&n!==i.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==i.Z_STREAM_END&&(0!==f.avail_in||s!==i.Z_FINISH&&s!==i.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(f.output,f.next_out),u=f.next_out-l,d=a.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&o.arraySet(f.output,f.output,l,u,0),this.onData(d)):this.onData(o.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==i.Z_STREAM_END);return n===i.Z_STREAM_END&&(s=i.Z_FINISH),s===i.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===i.Z_OK):s!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),f.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===i.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},function(e,t,n){"use strict";var r=n(345),o=n(927),a=n(928),i=n(1211),s=n(1212),l=0,u=1,c=2,d=4,f=5,p=6,h=0,g=1,y=2,m=-2,_=-3,v=-4,b=-5,w=8,C=1,x=2,S=3,P=4,k=5,O=6,E=7,T=8,M=9,D=10,A=11,j=12,I=13,L=14,R=15,B=16,N=17,F=18,H=19,$=20,z=21,U=22,V=23,K=24,G=25,q=26,W=27,Y=28,X=29,Z=30,J=31,Q=32,ee=852,te=592,ne=15;function re(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ae(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=C,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,h):m}function ie(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ae(e)):m}function se(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?m:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ie(e))):m}function le(e,t){var n,r;return e?(r=new oe,e.state=r,r.window=null,(n=se(e,t))!==h&&(e.state=null),n):m}var ue,ce,de=!0;function fe(e){if(de){var t;for(ue=new r.Buf32(512),ce=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(u,e.lens,0,288,ue,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,ce,0,e.work,{bits:5}),de=!1}e.lencode=ue,e.lenbits=9,e.distcode=ce,e.distbits=5}function pe(e,t,n,o){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new r.Buf8(i.wsize)),o>=i.wsize?(r.arraySet(i.window,t,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):((a=i.wsize-i.wnext)>o&&(a=o),r.arraySet(i.window,t,n-o,a,i.wnext),(o-=a)?(r.arraySet(i.window,t,n-o,o,0),i.wnext=o,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0}t.inflateReset=ie,t.inflateReset2=se,t.inflateResetKeep=ae,t.inflateInit=function(e){return le(e,ne)},t.inflateInit2=le,t.inflate=function(e,t){var n,ee,te,ne,oe,ae,ie,se,le,ue,ce,de,he,ge,ye,me,_e,ve,be,we,Ce,xe,Se,Pe,ke=0,Oe=new r.Buf8(4),Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return m;(n=e.state).mode===j&&(n.mode=I),oe=e.next_out,te=e.output,ie=e.avail_out,ne=e.next_in,ee=e.input,ae=e.avail_in,se=n.hold,le=n.bits,ue=ae,ce=ie,xe=h;e:for(;;)switch(n.mode){case C:if(0===n.wrap){n.mode=I;break}for(;le<16;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===se){n.check=0,Oe[0]=255&se,Oe[1]=se>>>8&255,n.check=a(n.check,Oe,2,0),se=0,le=0,n.mode=x;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=Z;break}if((15&se)!==w){e.msg="unknown compression method",n.mode=Z;break}if(le-=4,Ce=8+(15&(se>>>=4)),0===n.wbits)n.wbits=Ce;else if(Ce>n.wbits){e.msg="invalid window size",n.mode=Z;break}n.dmax=1<<Ce,e.adler=n.check=1,n.mode=512&se?D:j,se=0,le=0;break;case x:for(;le<16;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}if(n.flags=se,(255&n.flags)!==w){e.msg="unknown compression method",n.mode=Z;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Z;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Oe[0]=255&se,Oe[1]=se>>>8&255,n.check=a(n.check,Oe,2,0)),se=0,le=0,n.mode=S;case S:for(;le<32;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=se),512&n.flags&&(Oe[0]=255&se,Oe[1]=se>>>8&255,Oe[2]=se>>>16&255,Oe[3]=se>>>24&255,n.check=a(n.check,Oe,4,0)),se=0,le=0,n.mode=P;case P:for(;le<16;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Oe[0]=255&se,Oe[1]=se>>>8&255,n.check=a(n.check,Oe,2,0)),se=0,le=0,n.mode=k;case k:if(1024&n.flags){for(;le<16;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Oe[0]=255&se,Oe[1]=se>>>8&255,n.check=a(n.check,Oe,2,0)),se=0,le=0}else n.head&&(n.head.extra=null);n.mode=O;case O:if(1024&n.flags&&((de=n.length)>ae&&(de=ae),de&&(n.head&&(Ce=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,ee,ne,de,Ce)),512&n.flags&&(n.check=a(n.check,ee,de,ne)),ae-=de,ne+=de,n.length-=de),n.length))break e;n.length=0,n.mode=E;case E:if(2048&n.flags){if(0===ae)break e;de=0;do{Ce=ee[ne+de++],n.head&&Ce&&n.length<65536&&(n.head.name+=String.fromCharCode(Ce))}while(Ce&&de<ae);if(512&n.flags&&(n.check=a(n.check,ee,de,ne)),ae-=de,ne+=de,Ce)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=T;case T:if(4096&n.flags){if(0===ae)break e;de=0;do{Ce=ee[ne+de++],n.head&&Ce&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ce))}while(Ce&&de<ae);if(512&n.flags&&(n.check=a(n.check,ee,de,ne)),ae-=de,ne+=de,Ce)break e}else n.head&&(n.head.comment=null);n.mode=M;case M:if(512&n.flags){for(;le<16;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Z;break}se=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=j;break;case D:for(;le<32;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}e.adler=n.check=re(se),se=0,le=0,n.mode=A;case A:if(0===n.havedict)return e.next_out=oe,e.avail_out=ie,e.next_in=ne,e.avail_in=ae,n.hold=se,n.bits=le,y;e.adler=n.check=1,n.mode=j;case j:if(t===f||t===p)break e;case I:if(n.last){se>>>=7&le,le-=7&le,n.mode=W;break}for(;le<3;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}switch(n.last=1&se,le-=1,3&(se>>>=1)){case 0:n.mode=L;break;case 1:if(fe(n),n.mode=$,t===p){se>>>=2,le-=2;break e}break;case 2:n.mode=N;break;case 3:e.msg="invalid block type",n.mode=Z}se>>>=2,le-=2;break;case L:for(se>>>=7&le,le-=7&le;le<32;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Z;break}if(n.length=65535&se,se=0,le=0,n.mode=R,t===p)break e;case R:n.mode=B;case B:if(de=n.length){if(de>ae&&(de=ae),de>ie&&(de=ie),0===de)break e;r.arraySet(te,ee,ne,de,oe),ae-=de,ne+=de,ie-=de,oe+=de,n.length-=de;break}n.mode=j;break;case N:for(;le<14;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&se),se>>>=5,le-=5,n.ndist=1+(31&se),se>>>=5,le-=5,n.ncode=4+(15&se),se>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Z;break}n.have=0,n.mode=F;case F:for(;n.have<n.ncode;){for(;le<3;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}n.lens[Ee[n.have++]]=7&se,se>>>=3,le-=3}for(;n.have<19;)n.lens[Ee[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Se={bits:n.lenbits},xe=s(l,n.lens,0,19,n.lencode,0,n.work,Se),n.lenbits=Se.bits,xe){e.msg="invalid code lengths set",n.mode=Z;break}n.have=0,n.mode=H;case H:for(;n.have<n.nlen+n.ndist;){for(;me=(ke=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,_e=65535&ke,!((ye=ke>>>24)<=le);){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}if(_e<16)se>>>=ye,le-=ye,n.lens[n.have++]=_e;else{if(16===_e){for(Pe=ye+2;le<Pe;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}if(se>>>=ye,le-=ye,0===n.have){e.msg="invalid bit length repeat",n.mode=Z;break}Ce=n.lens[n.have-1],de=3+(3&se),se>>>=2,le-=2}else if(17===_e){for(Pe=ye+3;le<Pe;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}le-=ye,Ce=0,de=3+(7&(se>>>=ye)),se>>>=3,le-=3}else{for(Pe=ye+7;le<Pe;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}le-=ye,Ce=0,de=11+(127&(se>>>=ye)),se>>>=7,le-=7}if(n.have+de>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Z;break}for(;de--;)n.lens[n.have++]=Ce}}if(n.mode===Z)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Z;break}if(n.lenbits=9,Se={bits:n.lenbits},xe=s(u,n.lens,0,n.nlen,n.lencode,0,n.work,Se),n.lenbits=Se.bits,xe){e.msg="invalid literal/lengths set",n.mode=Z;break}if(n.distbits=6,n.distcode=n.distdyn,Se={bits:n.distbits},xe=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se),n.distbits=Se.bits,xe){e.msg="invalid distances set",n.mode=Z;break}if(n.mode=$,t===p)break e;case $:n.mode=z;case z:if(ae>=6&&ie>=258){e.next_out=oe,e.avail_out=ie,e.next_in=ne,e.avail_in=ae,n.hold=se,n.bits=le,i(e,ce),oe=e.next_out,te=e.output,ie=e.avail_out,ne=e.next_in,ee=e.input,ae=e.avail_in,se=n.hold,le=n.bits,n.mode===j&&(n.back=-1);break}for(n.back=0;me=(ke=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,_e=65535&ke,!((ye=ke>>>24)<=le);){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}if(me&&0==(240&me)){for(ve=ye,be=me,we=_e;me=(ke=n.lencode[we+((se&(1<<ve+be)-1)>>ve)])>>>16&255,_e=65535&ke,!(ve+(ye=ke>>>24)<=le);){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}se>>>=ve,le-=ve,n.back+=ve}if(se>>>=ye,le-=ye,n.back+=ye,n.length=_e,0===me){n.mode=q;break}if(32&me){n.back=-1,n.mode=j;break}if(64&me){e.msg="invalid literal/length code",n.mode=Z;break}n.extra=15&me,n.mode=U;case U:if(n.extra){for(Pe=n.extra;le<Pe;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=V;case V:for(;me=(ke=n.distcode[se&(1<<n.distbits)-1])>>>16&255,_e=65535&ke,!((ye=ke>>>24)<=le);){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}if(0==(240&me)){for(ve=ye,be=me,we=_e;me=(ke=n.distcode[we+((se&(1<<ve+be)-1)>>ve)])>>>16&255,_e=65535&ke,!(ve+(ye=ke>>>24)<=le);){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}se>>>=ve,le-=ve,n.back+=ve}if(se>>>=ye,le-=ye,n.back+=ye,64&me){e.msg="invalid distance code",n.mode=Z;break}n.offset=_e,n.extra=15&me,n.mode=K;case K:if(n.extra){for(Pe=n.extra;le<Pe;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Z;break}n.mode=G;case G:if(0===ie)break e;if(de=ce-ie,n.offset>de){if((de=n.offset-de)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Z;break}de>n.wnext?(de-=n.wnext,he=n.wsize-de):he=n.wnext-de,de>n.length&&(de=n.length),ge=n.window}else ge=te,he=oe-n.offset,de=n.length;de>ie&&(de=ie),ie-=de,n.length-=de;do{te[oe++]=ge[he++]}while(--de);0===n.length&&(n.mode=z);break;case q:if(0===ie)break e;te[oe++]=n.length,ie--,n.mode=z;break;case W:if(n.wrap){for(;le<32;){if(0===ae)break e;ae--,se|=ee[ne++]<<le,le+=8}if(ce-=ie,e.total_out+=ce,n.total+=ce,ce&&(e.adler=n.check=n.flags?a(n.check,te,ce,oe-ce):o(n.check,te,ce,oe-ce)),ce=ie,(n.flags?se:re(se))!==n.check){e.msg="incorrect data check",n.mode=Z;break}se=0,le=0}n.mode=Y;case Y:if(n.wrap&&n.flags){for(;le<32;){if(0===ae)break e;ae--,se+=ee[ne++]<<le,le+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Z;break}se=0,le=0}n.mode=X;case X:xe=g;break e;case Z:xe=_;break e;case J:return v;case Q:default:return m}return e.next_out=oe,e.avail_out=ie,e.next_in=ne,e.avail_in=ae,n.hold=se,n.bits=le,(n.wsize||ce!==e.avail_out&&n.mode<Z&&(n.mode<W||t!==d))&&pe(e,e.output,e.next_out,ce-e.avail_out)?(n.mode=J,v):(ue-=e.avail_in,ce-=e.avail_out,e.total_in+=ue,e.total_out+=ce,n.total+=ce,n.wrap&&ce&&(e.adler=n.check=n.flags?a(n.check,te,ce,e.next_out-ce):o(n.check,te,ce,e.next_out-ce)),e.data_type=n.bits+(n.last?64:0)+(n.mode===j?128:0)+(n.mode===$||n.mode===R?256:0),(0===ue&&0===ce||t===d)&&xe===h&&(xe=b),xe)},t.inflateEnd=function(e){if(!e||!e.state)return m;var t=e.state;return t.window&&(t.window=null),e.state=null,h},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?m:(n.head=t,t.done=!1,h):m},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==A?m:n.mode===A&&o(1,t,r,0)!==n.check?_:pe(e,t,r,r)?(n.mode=J,v):(n.havedict=1,h):m},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,a,i,s,l,u,c,d,f,p,h,g,y,m,_,v,b,w,C,x,S,P,k;n=e.state,r=e.next_in,P=e.input,o=r+(e.avail_in-5),a=e.next_out,k=e.output,i=a-(t-e.avail_out),s=a+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,f=n.window,p=n.hold,h=n.bits,g=n.lencode,y=n.distcode,m=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;e:do{h<15&&(p+=P[r++]<<h,h+=8,p+=P[r++]<<h,h+=8),v=g[p&m];t:for(;;){if(p>>>=b=v>>>24,h-=b,0===(b=v>>>16&255))k[a++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=g[(65535&v)+(p&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&v,(b&=15)&&(h<b&&(p+=P[r++]<<h,h+=8),w+=p&(1<<b)-1,p>>>=b,h-=b),h<15&&(p+=P[r++]<<h,h+=8,p+=P[r++]<<h,h+=8),v=y[p&_];n:for(;;){if(p>>>=b=v>>>24,h-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=y[(65535&v)+(p&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(C=65535&v,h<(b&=15)&&(p+=P[r++]<<h,(h+=8)<b&&(p+=P[r++]<<h,h+=8)),(C+=p&(1<<b)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=b,h-=b,C>(b=a-i)){if((b=C-b)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,S=f,0===d){if(x+=u-b,b<w){w-=b;do{k[a++]=f[x++]}while(--b);x=a-C,S=k}}else if(d<b){if(x+=u+d-b,(b-=d)<w){w-=b;do{k[a++]=f[x++]}while(--b);if(x=0,d<w){w-=b=d;do{k[a++]=f[x++]}while(--b);x=a-C,S=k}}}else if(x+=d-b,b<w){w-=b;do{k[a++]=f[x++]}while(--b);x=a-C,S=k}for(;w>2;)k[a++]=S[x++],k[a++]=S[x++],k[a++]=S[x++],w-=3;w&&(k[a++]=S[x++],w>1&&(k[a++]=S[x++]))}else{x=a-C;do{k[a++]=k[x++],k[a++]=k[x++],k[a++]=k[x++],w-=3}while(w>2);w&&(k[a++]=k[x++],w>1&&(k[a++]=k[x++]))}break}}break}}while(r<o&&a<s);r-=w=h>>3,p&=(1<<(h-=w<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=p,n.bits=h}},function(e,t,n){"use strict";var r=n(345),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,u,c,d,f){var p,h,g,y,m,_,v,b,w,C=f.bits,x=0,S=0,P=0,k=0,O=0,E=0,T=0,M=0,D=0,A=0,j=null,I=0,L=new r.Buf16(16),R=new r.Buf16(16),B=null,N=0;for(x=0;x<=15;x++)L[x]=0;for(S=0;S<l;S++)L[t[n+S]]++;for(O=C,k=15;k>=1&&0===L[k];k--);if(O>k&&(O=k),0===k)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(P=1;P<k&&0===L[P];P++);for(O<P&&(O=P),M=1,x=1;x<=15;x++)if(M<<=1,(M-=L[x])<0)return-1;if(M>0&&(0===e||1!==k))return-1;for(R[1]=0,x=1;x<15;x++)R[x+1]=R[x]+L[x];for(S=0;S<l;S++)0!==t[n+S]&&(d[R[t[n+S]]++]=S);if(0===e?(j=B=d,_=19):1===e?(j=o,I-=257,B=a,N-=257,_=256):(j=i,B=s,_=-1),A=0,S=0,x=P,m=c,E=O,T=0,g=-1,y=(D=1<<O)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){v=x-T,d[S]<_?(b=0,w=d[S]):d[S]>_?(b=B[N+d[S]],w=j[I+d[S]]):(b=96,w=0),p=1<<x-T,P=h=1<<E;do{u[m+(A>>T)+(h-=p)]=v<<24|b<<16|w|0}while(0!==h);for(p=1<<x-1;A&p;)p>>=1;if(0!==p?(A&=p-1,A+=p):A=0,S++,0==--L[x]){if(x===k)break;x=t[n+d[S]]}if(x>O&&(A&y)!==g){for(0===T&&(T=O),m+=P,M=1<<(E=x-T);E+T<k&&!((M-=L[E+T])<=0);)E++,M<<=1;if(D+=1<<E,1===e&&D>852||2===e&&D>592)return 1;u[g=A&y]=O<<24|E<<16|m-c|0}}return 0!==A&&(u[m+A]=x-T<<24|64<<16|0),f.bits=O,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var r=n(140),o=n(263),a=n(461),i=n(873),s=n(932),l=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},u=function(e,t,n,o,u,c){var d,f,p=e.file,h=e.compression,g=c!==a.utf8encode,y=r.transformTo("string",c(p.name)),m=r.transformTo("string",a.utf8encode(p.name)),_=p.comment,v=r.transformTo("string",c(_)),b=r.transformTo("string",a.utf8encode(_)),w=m.length!==p.name.length,C=b.length!==_.length,x="",S="",P="",k=p.dir,O=p.date,E={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),g||!w&&!C||(T|=2048);var M,D,A,j=0,I=0;k&&(j|=16),"UNIX"===u?(I=798,j|=(M=p.unixPermissions,D=k,A=M,M||(A=D?16893:33204),(65535&A)<<16)):(I=20,j|=63&(p.dosPermissions||0)),d=O.getUTCHours(),d<<=6,d|=O.getUTCMinutes(),d<<=5,d|=O.getUTCSeconds()/2,f=O.getUTCFullYear()-1980,f<<=4,f|=O.getUTCMonth()+1,f<<=5,f|=O.getUTCDate(),w&&(S=l(1,1)+l(i(y),4)+m,x+="up"+l(S.length,2)+S),C&&(P=l(1,1)+l(i(v),4)+b,x+="uc"+l(P.length,2)+P);var L="";return L+="\n\0",L+=l(T,2),L+=h.magic,L+=l(d,2),L+=l(f,2),L+=l(E.crc32,4),L+=l(E.compressedSize,4),L+=l(E.uncompressedSize,4),L+=l(y.length,2),L+=l(x.length,2),{fileRecord:s.LOCAL_FILE_HEADER+L+y+x,dirRecord:s.CENTRAL_FILE_HEADER+l(I,2)+L+l(v.length,2)+"\0\0\0\0"+l(j,4)+l(o,4)+y+x+v}},c=function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function d(e,t,n,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(d,o),d.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=u(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=u(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:c(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,o=function(e,t,n,o,a){var i=r.transformTo("string",a(o));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(i.length,2)+i}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},d.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},d.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=d},function(e,t,n){"use strict";var r=n(140),o=n(263);function a(e,t){o.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(a,o),a.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=a},function(e,t,n){"use strict";var r=n(140),o=n(592),a=n(461),i=(r=n(140),n(1217)),s=n(925),l=n(840);function u(e){return new o.Promise(function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",function(e){n(e)}).on("end",function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new i(t);return n.load(e),n}).then(function(e){var n=[o.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(u(r[a]));return o.Promise.all(n)}).then(function(e){for(var r=e.shift(),o=r.files,a=0;a<o.length;a++){var i=o[a];n.file(i.fileNameStr,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n})}},function(e,t,n){"use strict";var r=n(933),o=n(140),a=n(932),i=n(1220),s=(n(461),n(344));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},function(e,t,n){"use strict";var r=n(935);function o(e){r.call(this,e)}n(140).inherits(o,r),o.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},o.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},o.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},function(e,t,n){"use strict";var r=n(936);function o(e){r.call(this,e)}n(140).inherits(o,r),o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},function(e,t,n){"use strict";var r=n(933),o=n(140),a=n(872),i=n(873),s=n(461),l=n(926),u=n(344);function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,o=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<o;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var a=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:i(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:i(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},e.exports=c},function(e,t,n){"use strict";function r(e){e.find(".copy-remove").each(function(e){e&&e.destroy()})}Object.defineProperty(t,"__esModule",{value:!0}),t.clearUselessCanvas=r,t["default"]={clearUselessCanvas:r}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(5)),i=r(n(12)),s=r(n(19));function l(){return window.noLogin?($.addAttention("registerBtn"),i["default"].show("登录后，免费使用"),!1):(s["default"].init({width:500,submitBtnName:"下载",cancelBtnName:"取消",title:"项目离线包下载",content:o["default"].createElement("div",{className:"popup-content"},o["default"].createElement("span",{className:"popup-confirm"},"确定下载项目PC离线演示包？")),submitBtnFunc:function(){var e=a["default"].getView();i["default"].show("正在打包下载，请稍候..."),s["default"].hide();var t=$.getVersionQuery(e),n="&platform="+$.getPlatform(window.platform),r=window.isPc?"&isPc=true":"";window.location.href="https://www.xiaopiu.com/project/getLocalWebsite?proid="+e.proid+"&proname="+e.name+t+r+n,window.projectImageDownloading=!0,setTimeout(function(){window.projectImageDownloading=!1},5e3)}}),null)}t.getLocalWebsite=l,t["default"]={getLocalWebsite:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(5)),i=r(n(6)),s=r(n(858)),l=r(n(23)),u=r(n(12)),c=r(n(19)),d=r(n(171)),f=r(n(93)),p=r(n(78)),h=n(213),g=n(63),y=n(617),m=n(618),_=window.$;function v(){if(window.noLogin)return _.addAttention("registerBtn"),void u["default"].show("登录后，免费使用");var e,t,n=a["default"].getActivePage(!0),r=g.getActivePageByHierarchy(!0),v=n.isLandscape,b=window.isPc?window.pSize||window.phoneBaseSize.width:window.phoneSize.width,w=b+"px",C=Math.round(b/Math.ceil(parseInt(b)/(window.isPc?1e3:500)))+"px",x="1",S=[C],P=["1"];if("0"!=window.loginInfo.vipLevel){window.isPc?(S=S.concat(["1200px","1440px","1680px","1920px"]),P=P.concat(["2","3","4","5"])):(S=S.concat(["640px","720px","750px","828px"]),P=P.concat(["2","3","4","5"])),-1==S.indexOf(w)&&(S.push(b+"px"),P.push("6"));var k=S.indexOf(w);C=S[k],x=P[k]}i["default"].selectChange([]);var O=v?window.phoneSize.height/window.phoneSize.width:1,E=[],T=n.pageHeight;if(e=Math.round(_.getPageMaxHeight(r)/O),p["default"].removeInitVal(r,undefined,v,E),E.length>0){var M=y.getSymbolByCopy(E,!0);r.push(M)}if(!window.isPc&&(T||e>(v?window.phoneSize.width:window.phoneSize.height))){var D=Math.round(T||e);e=Math.min(D,3e3)}else window.isPc?(t=n.pageHeight,_.isUndefined(T)&&(t=2e3),e=Math.max(e,t)):e=v?window.phoneSize.width:window.phoneSize.height;c["default"].init({width:500,submitBtnName:"下载",cancelBtnName:"取消",title:"确定下载当前页为图片？",content:o["default"].createElement("div",{className:"popup-content single-page-popup"},o["default"].createElement("span",{className:"popup-item-title file-name"},"文件名："),o["default"].createElement("input",{className:"popup-input file-name-input",id:"pageNameInput",placeholder:"请设定图片名称",defaultValue:n.name}),o["default"].createElement("div",{className:"popup-setting-item popup-section"},o["default"].createElement("span",{className:"popup-item-title"},"图片分辨率："),o["default"].createElement(d["default"],{id:"imageSizeSet",text:C,value:x,texts:S,values:P,width:100})),"0"==window.loginInfo.vipLevel?o["default"].createElement("span",{className:"popup-item-title",style:{marginLeft:0}},"（","前往",o["default"].createElement("a",{className:"red-text underline-text",href:"/price",target:"_blank"},"账户升级"),"或",o["default"].createElement("a",{className:"red-text underline-text",onClick:f["default"].showVipPopupFunc,target:"_blank"},"邀请好友免费升级账户"),"，可下载更高分辨率","）"):undefined),submitBtnFunc:function(){window.pageImageDownloading=!0,setTimeout(function(){window.pageImageDownloading=!1},5e3),function(e){window.temporarySet.downloadActivePage=!0,a["default"].setLoad(!1),u["default"].show("正在下载，请稍候..."),h.cacheActiveCanvasPage(function(){setTimeout(function(){a["default"].emitViewChange(),a["default"].emitPagesChange(),s["default"].emitChange(),l["default"].emitChange(),setTimeout(function(){m.exportActivePage(e),a["default"].setLoad(!0),c["default"].hide(),setTimeout(function(){delete window.temporarySet.downloadActivePage},0)},100)},0)})}(parseInt(S[_.getElById("imageSizeSet").getAttribute("data-value")-1].replace("px","")))}})}t.getPageImage=v,t["default"]={getPageImage:v}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1225));t.getImageHash=function(e,t){var n=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,r=2097152,a=Math.ceil(e.size/r),i=0,s=new o.ArrayBuffer,l=new FileReader;function u(){var t=i*r,o=t+r>=e.size?e.size:t+r;l.readAsArrayBuffer(n.call(e,t,o))}l.onload=function(e){s.append(e.target.result),++i<a?u():t&&t(s.end())},l.onerror=function(){},u()}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],o=e[2],a=e[3];n+=(r&o|~r&a)+t[0]-680876936|0,a+=((n=(n<<7|n>>>25)+r|0)&r|~n&o)+t[1]-389564586|0,o+=((a=(a<<12|a>>>20)+n|0)&n|~a&r)+t[2]+606105819|0,r+=((o=(o<<17|o>>>15)+a|0)&a|~o&n)+t[3]-1044525330|0,n+=((r=(r<<22|r>>>10)+o|0)&o|~r&a)+t[4]-176418897|0,a+=((n=(n<<7|n>>>25)+r|0)&r|~n&o)+t[5]+1200080426|0,o+=((a=(a<<12|a>>>20)+n|0)&n|~a&r)+t[6]-1473231341|0,r+=((o=(o<<17|o>>>15)+a|0)&a|~o&n)+t[7]-45705983|0,n+=((r=(r<<22|r>>>10)+o|0)&o|~r&a)+t[8]+1770035416|0,a+=((n=(n<<7|n>>>25)+r|0)&r|~n&o)+t[9]-1958414417|0,o+=((a=(a<<12|a>>>20)+n|0)&n|~a&r)+t[10]-42063|0,r+=((o=(o<<17|o>>>15)+a|0)&a|~o&n)+t[11]-1990404162|0,n+=((r=(r<<22|r>>>10)+o|0)&o|~r&a)+t[12]+1804603682|0,a+=((n=(n<<7|n>>>25)+r|0)&r|~n&o)+t[13]-40341101|0,o+=((a=(a<<12|a>>>20)+n|0)&n|~a&r)+t[14]-1502002290|0,r+=((o=(o<<17|o>>>15)+a|0)&a|~o&n)+t[15]+1236535329|0,n+=((r=(r<<22|r>>>10)+o|0)&a|o&~a)+t[1]-165796510|0,a+=((n=(n<<5|n>>>27)+r|0)&o|r&~o)+t[6]-1069501632|0,o+=((a=(a<<9|a>>>23)+n|0)&r|n&~r)+t[11]+643717713|0,r+=((o=(o<<14|o>>>18)+a|0)&n|a&~n)+t[0]-373897302|0,n+=((r=(r<<20|r>>>12)+o|0)&a|o&~a)+t[5]-701558691|0,a+=((n=(n<<5|n>>>27)+r|0)&o|r&~o)+t[10]+38016083|0,o+=((a=(a<<9|a>>>23)+n|0)&r|n&~r)+t[15]-660478335|0,r+=((o=(o<<14|o>>>18)+a|0)&n|a&~n)+t[4]-405537848|0,n+=((r=(r<<20|r>>>12)+o|0)&a|o&~a)+t[9]+568446438|0,a+=((n=(n<<5|n>>>27)+r|0)&o|r&~o)+t[14]-1019803690|0,o+=((a=(a<<9|a>>>23)+n|0)&r|n&~r)+t[3]-187363961|0,r+=((o=(o<<14|o>>>18)+a|0)&n|a&~n)+t[8]+1163531501|0,n+=((r=(r<<20|r>>>12)+o|0)&a|o&~a)+t[13]-1444681467|0,a+=((n=(n<<5|n>>>27)+r|0)&o|r&~o)+t[2]-51403784|0,o+=((a=(a<<9|a>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0,r+=((o=(o<<14|o>>>18)+a|0)&n|a&~n)+t[12]-1926607734|0,n+=((r=(r<<20|r>>>12)+o|0)^o^a)+t[5]-378558|0,a+=((n=(n<<4|n>>>28)+r|0)^r^o)+t[8]-2022574463|0,o+=((a=(a<<11|a>>>21)+n|0)^n^r)+t[11]+1839030562|0,r+=((o=(o<<16|o>>>16)+a|0)^a^n)+t[14]-35309556|0,n+=((r=(r<<23|r>>>9)+o|0)^o^a)+t[1]-1530992060|0,a+=((n=(n<<4|n>>>28)+r|0)^r^o)+t[4]+1272893353|0,o+=((a=(a<<11|a>>>21)+n|0)^n^r)+t[7]-155497632|0,r+=((o=(o<<16|o>>>16)+a|0)^a^n)+t[10]-1094730640|0,n+=((r=(r<<23|r>>>9)+o|0)^o^a)+t[13]+681279174|0,a+=((n=(n<<4|n>>>28)+r|0)^r^o)+t[0]-358537222|0,o+=((a=(a<<11|a>>>21)+n|0)^n^r)+t[3]-722521979|0,r+=((o=(o<<16|o>>>16)+a|0)^a^n)+t[6]+76029189|0,n+=((r=(r<<23|r>>>9)+o|0)^o^a)+t[9]-640364487|0,a+=((n=(n<<4|n>>>28)+r|0)^r^o)+t[12]-421815835|0,o+=((a=(a<<11|a>>>21)+n|0)^n^r)+t[15]+530742520|0,r+=((o=(o<<16|o>>>16)+a|0)^a^n)+t[2]-995338651|0,n+=(o^((r=(r<<23|r>>>9)+o|0)|~a))+t[0]-198630844|0,a+=(r^((n=(n<<6|n>>>26)+r|0)|~o))+t[7]+1126891415|0,o+=(n^((a=(a<<10|a>>>22)+n|0)|~r))+t[14]-1416354905|0,r+=(a^((o=(o<<15|o>>>17)+a|0)|~n))+t[5]-57434055|0,n+=(o^((r=(r<<21|r>>>11)+o|0)|~a))+t[12]+1700485571|0,a+=(r^((n=(n<<6|n>>>26)+r|0)|~o))+t[3]-1894986606|0,o+=(n^((a=(a<<10|a>>>22)+n|0)|~r))+t[10]-1051523|0,r+=(a^((o=(o<<15|o>>>17)+a|0)|~n))+t[1]-2054922799|0,n+=(o^((r=(r<<21|r>>>11)+o|0)|~a))+t[8]+1873313359|0,a+=(r^((n=(n<<6|n>>>26)+r|0)|~o))+t[15]-30611744|0,o+=(n^((a=(a<<10|a>>>22)+n|0)|~r))+t[6]-1560198380|0,r+=(a^((o=(o<<15|o>>>17)+a|0)|~n))+t[13]+1309151649|0,n+=(o^((r=(r<<21|r>>>11)+o|0)|~a))+t[4]-145523070|0,a+=(r^((n=(n<<6|n>>>26)+r|0)|~o))+t[11]-1120210379|0,o+=(n^((a=(a<<10|a>>>22)+n|0)|~r))+t[2]+718787259|0,r=((r+=(a^((o=(o<<15|o>>>17)+a|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=a+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function o(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function a(e){var t,o,a,i,s,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(c,r(e.substring(t-64,t)));for(e=e.substring(t-64),o=e.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(n(c,a),t=0;t<16;t+=1)a[t]=0;return i=(i=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(i[2],16),l=parseInt(i[1],16)||0,a[14]=s,a[15]=l,n(c,a),c}function i(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=i(e[t]);return e.join("")}function l(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function c(){this.reset()}return s(a("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,a,i,s,l=this.byteLength,u=t(n,l),c=l;return r!==e&&(c=t(r,l)),u>c?new ArrayBuffer(0):(o=c-u,a=new ArrayBuffer(o),i=new Uint8Array(a),s=new Uint8Array(this,u,o),i.set(s),a)}}(),c.prototype.append=function(e){return this.appendBinary(l(e)),this},c.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,o=this._buff.length;for(t=64;t<=o;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},c.prototype.end=function(e){var t,n,r=this._buff,o=r.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)a[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(a,o),n=s(this._hash),e&&(n=u(n)),this.reset(),n},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},c.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(e,t){var r,o,a,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(n(this._hash,e),i=0;i<16;i+=1)e[i]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),a=parseInt(r[1],16)||0,e[14]=o,e[15]=a,n(this._hash,e)},c.hash=function(e,t){return c.hashBinary(l(e),t)},c.hashBinary=function(e,t){var n=s(a(e));return t?u(n):n},c.ArrayBuffer=function(){this.reset()},c.ArrayBuffer.prototype.append=function(e){var t,r,a,i,s,l=(r=this._buff.buffer,a=e,i=!0,(s=new Uint8Array(r.byteLength+a.byteLength)).set(new Uint8Array(r)),s.set(new Uint8Array(a),r.byteLength),i?s:s.buffer),u=l.length;for(this._length+=e.byteLength,t=64;t<=u;t+=64)n(this._hash,o(l.subarray(t-64,t)));return this._buff=t-64<u?new Uint8Array(l.buffer.slice(t-64)):new Uint8Array(0),this},c.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)a[t>>2]|=r[t]<<(t%4<<3);return this._finish(a,o),n=s(this._hash),e&&(n=u(n)),this.reset(),n},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.ArrayBuffer.prototype.getState=function(){var e,t=c.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},c.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,o=new ArrayBuffer(r),a=new Uint8Array(o);for(n=0;n<r;n+=1)a[n]=e.charCodeAt(n);return t?a:o}(e.buff,!0),c.prototype.setState.call(this,e)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(e,t){var r=s(function(e){var t,r,a,i,s,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(c,o(e.subarray(t-64,t)));for(e=t-64<u?e.subarray(t-64):new Uint8Array(0),r=e.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)a[t>>2]|=e[t]<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(n(c,a),t=0;t<16;t+=1)a[t]=0;return i=(i=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(i[2],16),l=parseInt(i[1],16)||0,a[14]=s,a[15]=l,n(c,a),c}(new Uint8Array(e)));return t?u(r):r},c}()},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27)),a=n(46);function i(){var e=a.getPageFlow(),t=e&&e.id,n=o["default"].getAllLinkLine(),r=!1;for(var i in n){var s=n[i],l=s.pageFlowId,u=s.id,c=s.fixedArr;(t&&l==t||!t&&!l)&&(void 0===c?[]:c).length>0&&(r=!0,o["default"].changeLine({id:u,notEmit:!0,fixedArr:[]}))}return r&&o["default"].emitChange(),r}t.clearFixedPoint=i,t["default"]={clearFixedPoint:i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(498)),i=n(229);window.$;function s(e){i.switchMode("edit-view",!0),e||(o["default"].emitViewChange(),o["default"].emitPagesChange(),a["default"].emitMustChange())}t.inEditView=s,t["default"]={inEditView:s}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(24)),i=r(n(51)),s=r(n(310)),l=window.$;function u(e,t){var n=o["default"].getSelectContr(),r=1==n.length;if(n.length>0){var u,c=i["default"].getZoom()/100,d=void 0;switch(r&&(d=l.offset(l.query("#"+l.getContrId(n[0])+" .rotateBox"),!0)),e){case"up":n.forEach(function(e){u=e=o["default"].getAllValsContr({contrKey:e}),o["default"].contrUpdate(l.getContrId(e),{top:e.top-t},!1,!0)});break;case"down":n.forEach(function(e){u=e=o["default"].getAllValsContr({contrKey:e}),o["default"].contrUpdate(l.getContrId(e),{top:e.top+t},!1,!0)});break;case"left":n.forEach(function(e){u=e=o["default"].getAllValsContr({contrKey:e}),o["default"].contrUpdate(l.getContrId(e),{left:e.left-t},!1,!0)});break;case"right":n.forEach(function(e){u=e=o["default"].getAllValsContr({contrKey:e}),o["default"].contrUpdate(l.getContrId(e),{left:e.left+t},!1,!0)})}if(r){var f=l.getContrPosi(u,!0);s["default"].moveTipUpdate({left:Math.round(d.left+d.width*c/2),top:Math.round(d.top+d.height*c+10*(c-1)),text:"x:"+Math.round(f.left)+" y:"+Math.round(f.top)})}a["default"].getMergeBoxShow()?(a["default"].emitChange(),o["default"].emitChange()):o["default"].emitChange()}}t.contrKeyMove=u,t["default"]={contrKeyMove:u}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(83)),i=o(n(5)),s=o(n(81)),l=o(n(12)),u=n(63),c=o(n(78)),d=n(617),f=n(635),p=n(939),h=n(46);function g(e,t){var n,o,g,y=e||$.getSelectPageList().reverse();if(y.length>0){var m=[],_=h.getPageFlow();y.forEach(function(e){var t=i["default"].getPage(e,!0),n=a["default"].getPageLineArr(t.key),o=s["default"].getNoteArr(t.key,!0),l={serverKey:t.serverKey,backColor:t.backColor,pageHeight:t.pageHeight,isLandscape:t.isLandscape,events:t.events,name:t.name,key:t.key,guideLine:$.objToString(n),note:$.objToString(o),left:t.left,top:t.top},f=u.getPageByHierarchy(parseInt(e),!0),p=[];if(c["default"].removeInitVal(f,undefined,t.isLandscape,p),p.length>0){var h=d.getSymbolByCopy(p,!0);f.push(h)}if(_){var g=_.pageVal;g&&g[l.key]&&(l=r({},l,g[l.key]||{}))}l.contrs=f,m.push(l)}),n={pageData:m[0],pageIdArr:y},o=n.pageData,g=n.pageIdArr,o.allSet||(o.allSet={}),o.allSet.linkLineData=p.getLineByPageKeyArr({pageIdArr:g}),f.pageToClipboard(m,t)}else l["default"].show("请选择页面")}t.copyPage=g,t["default"]={copyPage:g}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(6)),i=r(n(5)),s=r(n(151)),l=r(n(119)),u=r(n(886)),c=r(n(12)),d=r(n(19)),f=r(n(78)),p=n(617),h=window.$;function g(){var e=a["default"].getSelectContrByHierarchy(!0);if(0!=e.length){l["default"].getCutImageShow()&&h.query("#boxLabel").click(),h.clearPaste();var t=[],n=s["default"].getEventRelativedContrs(e),r=n?h.objLength(n):0,g=[],y=function(e){var t=h(e.currentTarget).parent(),r=h(e.currentTarget).parent().attr("data-key");t.remove(),h.removeClass(window.document.querySelector(".isC[data-id="+r+"]"),"hover"),delete n[r],1==h.objLength(n)&&h(".relatived-contr .selectedBtnClose").addClass("hide")},m=function(e){h.addClass(window.document.querySelector(".isC[data-id="+e.currentTarget.getAttribute("data-key")+"]"),"hover")},_=function(e){h.removeClass(window.document.querySelector(".isC[data-id="+e.currentTarget.getAttribute("data-key")+"]"),"hover")},v=function(){var t=i["default"].getActivePage(!0),n=[];if(f["default"].removeInitVal(e,undefined,t.isLandscape,n),n.length>0){var r=p.getSymbolByCopy(n,!0);e.push(r)}window.isPc&&(e[0].isPc=!0),e[0].copyKey=(window.noLogin?"nologin":window.loginInfo.userImage)+(new Date).getTime(),u["default"].setCopyKey(e[0].copyKey),window.localStorage.copy=h.objToString(e),window.copySelectChange=!1,a["default"].initCache()};if(n){for(var b in n)g.push(o["default"].createElement("div",{className:"selectedBtn relatived-contr max-width-btn",onMouseEnter:m,onMouseLeave:_,key:b,"data-key":b},o["default"].createElement("span",null,n[b].name),o["default"].createElement("div",{onClick:y,className:"selectedBtnClose"+(1==r?" hide":"")})));d["default"].init({width:620,title:"关联复制",content:o["default"].createElement("div",{className:"popup-content"},o["default"].createElement("p",null,"以下组件与当前复制组件有事件关联："),o["default"].createElement("div",null,g)),cancelBtnName:"只复制选中组件",submitBtnName:"复制以上关联组件",submitBtnFunc:function(){e.forEach(function(e){t.push(h.getContrId(e))});var r=t.concat(Object.keys(n));r.length>0&&(e=a["default"].getSelectContrByHierarchy(!0,r)),v(),d["default"].hide()},cancelBtnFunc:function(){v(),d["default"].hide()},closeBtnFunc:function(){d["default"].hide()}})}else v()}else c["default"].show("请选中组件")}t.copyContr=g,t["default"]={copyContr:g}},function(e,t,n){"use strict";function r(e,t){switch(t){case"shift":return e.shiftKey;case"cmd":return window.isMac?e.metaKey:e.ctrlKey}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.isKey=r,t["default"]={isKey:r}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(26),i=n(222),s=o(n(67));function l(){var e=$.extend(!0,[],a.getSelectElementByHierarchy()),t=$.extend(!0,[],s["default"].getPrdSelectArr()).filter(function(e){return!s["default"].getPrdOneLine(e).isConnect}).map(function(e){return r({},s["default"].getPrdOneLine(e),{isLine:!0})}),n=e.concat(t).filter(function(e){return"page"==e.type&&(e.lineId&&delete e.lineId,e.remarkId&&delete e.remarkId),"pageRemark"!=e.type}),o=window.localStorage.prd?$.stringToObj(window.localStorage.prd):{};n.forEach(function(e){e.isLine?i.clearDefaultValue(e,{},!0):i.clearDefaultValue(e,"null",!0)}),o.copyElement=n,window.localStorage.prd=$.objToString(o)}t.copyPrdSelectElement=l,t["default"]={copyPrdSelectElement:l}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(860)),d=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.handleConfirmDelete=function(e,t,n){var r=e.trim();"删除"!=r&&n?t("请输入”删除“，完成删除。"):"删除"==r&&t("")},t.prototype.setInputStyle=function(){return{width:400,height:36,background:"rgba(0, 0, 0, .2)",borderRadius:4}},t.prototype.render=function(){this.props;var e=this.setInputStyle();return l["default"].createElement("div",{className:"prd-delete-content-panel"},l["default"].createElement("div",{className:"prd-delete-icon"}),l["default"].createElement("div",{className:"prd-delete-tips-panel"},l["default"].createElement("div",{className:"tips-title"},"删除PRD文档后，",l["default"].createElement("span",{className:"stress-tips-text"},"操作无法撤销"),"，是否继续？"),l["default"].createElement(c["default"],{placeholder:"请输入引号内文本确认：“删除”",blurCallbackFunc:this.handleConfirmDelete,inputStyle:e,domId:"deleteConfirmInput"})))},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object,Object,Object]),i("design:returntype",void 0)],t.prototype,"handleConfirmDelete",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"setInputStyle",null),t}(l["default"].Component));t["default"]=d},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(91));function a(e){var t=e.type,n=e.title,r=void 0===n?"":n,a=e.isTemp,i=void 0!==a&&a,s=o["default"].getAllPrdStruct(),l=r||("folder"==t?"文件夹 ":"文档 "),u=i?0:1;for(var c in s){var d=s[c],f=d.type,p=d.title;if(f==t)if(0==p.indexOf(l)){var h=p.replace(l,"");h&&h==+h&&(u=+h+1)}else i&&l.trim()==p&&(u=1)}return u}t.findStructNameNumKey=a,t["default"]={findStructNameNumKey:a}},function(e,t,n){"use strict";function r(){var e=$(".editor-content-panel ")[0]?$.offset($(".editor-content-panel ")[0],!0):{left:0,top:0};return{OFF_CLIENTX:e.left,OFF_CLIENTY:e.top}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCanvasPosi=r,t["default"]={getCanvasPosi:r}},,function(e,t,n){"use strict";var r,o,a,i,s,l,u=d(n(1569)),c=d(n(1406));function d(e){return e&&e.__esModule?e:{"default":e}}r="undefined"!=typeof window&&"undefined"!=typeof window.document?window.document:{},o=void 0!==e&&e.exports,a="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=t.length,a={};n<o;n++)if((e=t[n])&&e[1]in r){for(n=0;n<e.length;n++)a[t[0][n]]=e[n];return a}return!1}(),s={change:i.fullscreenchange,error:i.fullscreenerror},l={request:function(e){return new c["default"](function(t){var n=i.requestFullscreen,o=function(){this.off("change",o),t()}.bind(this);e=e||r.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[n]():e[n](a?Element.ALLOW_KEYBOARD_INPUT:{}),this.on("change",o)}.bind(this))},exit:function(){return new c["default"](function(e){var t=function(){this.off("change",t),e()}.bind(this);r[i.exitFullscreen](),this.on("change",t)}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,t){var n=s[e];n&&r.addEventListener(n,t,!1)},off:function(e,t){var n=s[e];n&&r.removeEventListener(n,t,!1)},raw:i},i?((0,u["default"])(l,{isFullscreen:{get:function(){return Boolean(r[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return r[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(r[i.fullscreenEnabled])}}}),o?e.exports=l:window.screenfull=l):o?e.exports=!1:window.screenfull=!1},,,function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_GuideLine=__webpack_require__(1241),_GuideLine2=_interopRequireDefault(_GuideLine),_Note=__webpack_require__(1242),_Note2=_interopRequireDefault(_Note),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var MainBoxBorderComp=function(_Component){function MainBoxBorderComp(e){(0,_classCallCheck3["default"])(this,MainBoxBorderComp);var t=(0,_possibleConstructorReturn3["default"])(this,(MainBoxBorderComp.__proto__||(0,_getPrototypeOf2["default"])(MainBoxBorderComp)).call(this,e));return t.state={},t}return(0,_inherits3["default"])(MainBoxBorderComp,_Component),(0,_createClass3["default"])(MainBoxBorderComp,[{key:"shouldComponentUpdate",value:function(e){return e.pageId!=this.props.pageId||e.isViewGuide!=this.props.isViewGuide||e.backColor!=this.props.backColor||e.height!=this.props.height}},{key:"render",value:function(){var e=this.props,t=e.pageId,n=e.backColor,r=e.isViewGuide,o=e.height;return _react2["default"].createElement("div",{id:"mainBoxBorder"+t,className:"mainBoxBorder"+(o?" set-height":""),style:{backgroundColor:n}},_react2["default"].createElement(_Note2["default"],{pageId:t}),_react2["default"].createElement(_GuideLine2["default"],{isViewGuide:r,pageId:t,height:o}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MainBoxBorderComp}(_react.Component),_default=MainBoxBorderComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(MainBoxBorderComp,"MainBoxBorderComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/MainBoxBorder.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/MainBoxBorder.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_GuideLineStore=__webpack_require__(83),_GuideLineStore2=_interopRequireDefault(_GuideLineStore),_ZoomStore=__webpack_require__(51),_ZoomStore2=_interopRequireDefault(_ZoomStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),_LeftLabelStore=__webpack_require__(827),_LeftLabelStore2=_interopRequireDefault(_LeftLabelStore),_LineDeleteBtnStore=__webpack_require__(1007),_LineDeleteBtnStore2=_interopRequireDefault(_LineDeleteBtnStore),_GuideLineActions=__webpack_require__(828),_GuideLineActions2=_interopRequireDefault(_GuideLineActions),_RightMenuActions=__webpack_require__(202),_RightMenuActions2=_interopRequireDefault(_RightMenuActions),_MoveTipActions=__webpack_require__(253),_MoveTipActions2=_interopRequireDefault(_MoveTipActions),_ViewAutoSaveHandle=__webpack_require__(61),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _mouseEnter(e){var t=e.currentTarget.getAttribute("data-value"),n=e.currentTarget.getAttribute("data-type"),r=e.currentTarget.getAttribute("data-id");if("guideLineDrag"==window.mouseDownTarget.name)return _LineDeleteBtnStore2["default"].show(!1),!1;if("x"==n){var o=$.offset(e.currentTarget).left;_MoveTipActions2["default"].moveTipUpdate({left:o+50,top:57,text:"x: "+t}),_LineDeleteBtnStore2["default"].update({left:o,top:57,id:r})}else{var a=$.offset(e.currentTarget).top;_MoveTipActions2["default"].moveTipUpdate({left:105+(_LeftLabelStore2["default"].getFold()?0:225),top:a+5,text:"y: "+t}),_LineDeleteBtnStore2["default"].update({left:80+(_LeftLabelStore2["default"].getFold()?0:225),top:a-19,id:r})}}function _mouseLeave(){_MoveTipActions2["default"].show(!1),_LineDeleteBtnStore2["default"].show(!1)}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var GuideLineComp=function(_Component){function GuideLineComp(e){(0,_classCallCheck3["default"])(this,GuideLineComp);var t=(0,_possibleConstructorReturn3["default"])(this,(GuideLineComp.__proto__||(0,_getPrototypeOf2["default"])(GuideLineComp)).call(this,e));return t.state={guideLineX:_GuideLineStore2["default"].getPageTypeLine(t.props.pageId,"x"),guideLineY:_GuideLineStore2["default"].getPageTypeLine(t.props.pageId,"y"),tempLine:_GuideLineStore2["default"].getTempLine()},t._onGuideLineChange=t._onGuideLineChange.bind(t),t._lineContextMenu=t._lineContextMenu.bind(t),t._vLineMouseDown=t._vLineMouseDown.bind(t),t._hLineMouseDown=t._hLineMouseDown.bind(t),t._hLineMouseDown=t._hLineMouseDown.bind(t),t}return(0,_inherits3["default"])(GuideLineComp,_Component),(0,_createClass3["default"])(GuideLineComp,[{key:"componentDidMount",value:function(){_GuideLineStore2["default"].addChangeListener(this._onGuideLineChange)}},{key:"componentWillUnmount",value:function(){_GuideLineStore2["default"].removeChangeListener(this._onGuideLineChange)}},{key:"_onGuideLineChange",value:function(){this.setState({guideLineX:_GuideLineStore2["default"].getPageTypeLine(this.props.pageId,"x"),guideLineY:_GuideLineStore2["default"].getPageTypeLine(this.props.pageId,"y"),tempLine:_GuideLineStore2["default"].getTempLine()})}},{key:"_lineContextMenu",value:function(e){var t=_GuideLineStore2["default"].getLine(e.currentTarget.getAttribute("data-id"));t&&t.id&&_RightMenuActions2["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:[["删除该辅助线",function(){_GuideLineActions2["default"].removeLine(t.id),(0,_ViewAutoSaveHandle.setAutoSaveChangePages)("__pageVals",!0)}]]}),e.stopPropagation(),e.preventDefault()}},{key:"_vLineMouseDown",value:function(e){var t=_GuideLineStore2["default"].getLine(e.currentTarget.getAttribute("data-id")),n=_ZoomStore2["default"].getZoom(),r=$.offset($.query(".mainBox.active")).left,o=!1;_GuideLineActions2["default"].showLine(t.id,!0),window.isPc&&_LineDeleteBtnStore2["default"].show(!1),$.setDrag({name:"guideLineDrag",posi:[e.clientX,e.clientY],target:e.currentTarget,moveFunc:function(e){var a=Math.round(100*(e.clientX-r)/(n*window.ss));o=!0,_GuideLineActions2["default"].updateLine(t.id,a),window.isPc&&_MoveTipActions2["default"].moveTipUpdate({left:e.clientX+50,top:57,text:"x: "+a})},endFunc:function(e){$.lineDragEnd(Math.round(100*(e.clientX-r)/(n*window.ss)),t,o),window.isPc&&_MoveTipActions2["default"].show(!1)}}),e.stopPropagation()}},{key:"_hLineMouseDown",value:function(e){var t=_GuideLineStore2["default"].getLine(e.currentTarget.getAttribute("data-id")),n=_ZoomStore2["default"].getZoom()/100,r=$.offset($.query(".mainBox.active")).top,o=!1;_GuideLineActions2["default"].showLine(t.id,!0),window.isPc&&_LineDeleteBtnStore2["default"].show(!1),$.setDrag({name:"guideLineDrag",posi:[e.clientX,e.clientY],target:e.currentTarget,moveFunc:function(e){var a=Math.round((e.clientY-r)/(n*window.ss));o=!0,_GuideLineActions2["default"].updateLine(t.id,Math.round((e.clientY-r)/(n*window.ss))),window.isPc&&_MoveTipActions2["default"].moveTipUpdate({left:105+(_LeftLabelStore2["default"].getFold()?0:225),top:e.clientY+5,text:"y: "+a})},endFunc:function(e){$.lineDragEnd(Math.round((e.clientY-r)/(n*window.ss)),t,o),window.isPc&&_MoveTipActions2["default"].show(!1)}}),e.stopPropagation()}},{key:"render",value:function(){var e=this,t=[],n=[],r=void 0,o=_ViewStore2["default"].getActivePage(!0),a=o&&o.isLandscape,i=e.state,s=i.guideLineX,l=i.guideLineY,u=i.tempLine,c=window.isPc?$.getScrollPosi():{},d=c.leftMin,f=c.topMin,p=c.leftMax,h=c.topMax;if(e.props.isViewGuide&&(s.forEach(function(n){var r=Math.round(n.value*window.ss),o={left:r-2};window.isPc?(o={top:-f-50,left:r-2,width:1,height:h+100},t.push(_react2["default"].createElement("div",{key:"lineX_"+r,className:"dragGuideLine pcGuideLine vertical"+(n.isShow?" hover":""),onMouseDown:e._vLineMouseDown,onContextMenu:e._lineContextMenu,"data-id":n.id,"data-value":r,"data-type":"x",style:o,onMouseEnter:_mouseEnter,onMouseLeave:_mouseLeave}))):t.push(_react2["default"].createElement("div",{key:"lineX_"+r,className:"dragGuideLine vertical"+(n.isShow?" hover":""),onMouseDown:e._vLineMouseDown,onContextMenu:e._lineContextMenu,"data-id":n.id,style:o},_react2["default"].createElement("div",{className:"guideLineTip"},_react2["default"].createElement("div",{className:"isOK"+(r>0&&r<(a?window.phoneSize.height:window.phoneSize.width)?" active":"")}),_react2["default"].createElement("span",{className:"lineText"},"left:",r))))}),l.forEach(function(t){var r=Math.round(t.value*window.ss),o={top:r-2};window.isPc?(o={top:r-2,left:-d-50,width:p+100,height:1},n.push(_react2["default"].createElement("div",{key:"lineY_"+r,className:"dragGuideLine pcGuideLine horizontal"+(t.isShow?" hover":""),onMouseDown:e._hLineMouseDown,onContextMenu:e._lineContextMenu,"data-id":t.id,"data-value":r,"data-type":"y",style:o,onMouseEnter:_mouseEnter,onMouseLeave:_mouseLeave}))):n.push(_react2["default"].createElement("div",{key:"lineY_"+r,className:"dragGuideLine horizontal"+(t.isShow?" hover":""),onMouseDown:e._hLineMouseDown,onContextMenu:e._lineContextMenu,"data-id":t.id,style:o},_react2["default"].createElement("div",{className:"guideLineTip"},_react2["default"].createElement("div",{className:"isOK"+(r>0&&r<(a?window.phoneSize.width:window.phoneSize.height)?" active":"")}),_react2["default"].createElement("span",{className:"lineText"},"top:",r))))})),window.isPc&&u.show){var g=void 0;g=u.isHorizontal?{top:u.value-2,left:-d-50,width:p+100,height:1}:{top:-f-50,left:u.value-2,width:1,height:h+100},r=_react2["default"].createElement("div",{key:"tempLine",className:"dragGuideLine tempGuideLine"+(u.isHorizontal?" horizontal":" vertical"),style:g})}return _react2["default"].createElement("div",{style:{height:e.props.height||"100%",position:"relative"}},t,n,r)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),GuideLineComp}(_react.Component),_default=GuideLineComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(_mouseEnter,"_mouseEnter","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainboxBorder/GuideLine.react.js"),reactHotLoader.register(_mouseLeave,"_mouseLeave","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainboxBorder/GuideLine.react.js"),reactHotLoader.register(GuideLineComp,"GuideLineComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainboxBorder/GuideLine.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainboxBorder/GuideLine.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_NoteStore=__webpack_require__(81),_NoteStore2=_interopRequireDefault(_NoteStore),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_RedLineStore=__webpack_require__(268),_RedLineStore2=_interopRequireDefault(_RedLineStore),_DragContrStore=__webpack_require__(76),_DragContrStore2=_interopRequireDefault(_DragContrStore),_RightLabelStore=__webpack_require__(94),_RightLabelStore2=_interopRequireDefault(_RightLabelStore),_MoveTipStore=__webpack_require__(310),_MoveTipStore2=_interopRequireDefault(_MoveTipStore),_ZoomStore=__webpack_require__(51),_ZoomStore2=_interopRequireDefault(_ZoomStore),_ContrHandle=__webpack_require__(60),_ContrHandle2=_interopRequireDefault(_ContrHandle),_ViewAutoSaveHandle=__webpack_require__(61),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var NoteComp=function(_Component){function NoteComp(e){(0,_classCallCheck3["default"])(this,NoteComp);var t=(0,_possibleConstructorReturn3["default"])(this,(NoteComp.__proto__||(0,_getPrototypeOf2["default"])(NoteComp)).call(this,e));return t.state={noteArr:_NoteStore2["default"].getNoteArr(t.props.pageId)},t._onNoteChange=t._onNoteChange.bind(t),t._noteMouseEnter=t._noteMouseEnter.bind(t),t._noteMouseLeave=t._noteMouseLeave.bind(t),t._noteMouseDown=t._noteMouseDown.bind(t),t._dragSpotMouseDown=t._dragSpotMouseDown.bind(t),t}return(0,_inherits3["default"])(NoteComp,_Component),(0,_createClass3["default"])(NoteComp,[{key:"componentDidMount",value:function(){_NoteStore2["default"].addChangeListener(this._onNoteChange)}},{key:"componentWillUnmount",value:function(){_NoteStore2["default"].removeChangeListener(this._onNoteChange)}},{key:"_onNoteChange",value:function(){this.setState({noteArr:_NoteStore2["default"].getNoteArr(this.props.pageId)})}},{key:"render",value:function(){var e=this,t=[];return e.state.noteArr.forEach(function(n){var r=_NoteStore2["default"].isEditNote(n.id);t.push(_react2["default"].createElement("div",{key:"note_"+n.id,className:"note-box"+(r?" active":"")+(n.hasArea?" has-area":""),style:{left:n.left*window.ss-1,top:n.top*window.ss-1},id:"noteBox"+n.id,"data-id":n.id,onMouseEnter:e._noteMouseEnter,onMouseLeave:e._noteMouseLeave,onClick:$.stopPropagation},_react2["default"].createElement("div",{className:"note-area",style:{width:n.width*window.ss,height:n.height*window.ss}},_react2["default"].createElement("div",{className:"area-drag-spot","data-id":n.id,onMouseDown:e._dragSpotMouseDown})),_react2["default"].createElement("div",{className:"note",onMouseDown:e._noteMouseDown,"data-id":n.id},n.index)))}),_react2["default"].createElement("div",null,t)}},{key:"_noteMouseEnter",value:function(e){$.addClass($.getElById("noteItem"+e.currentTarget.getAttribute("data-id")),"hover")}},{key:"_noteMouseLeave",value:function(e){$.removeClass($.getElById("noteItem"+e.currentTarget.getAttribute("data-id")),"hover")}},{key:"_noteMouseDown",value:function(e){var t=e.currentTarget.getAttribute("data-id"),n=[e.clientX,e.clientY],r=_ZoomStore2["default"].getZoom()/100,o=_NoteStore2["default"].getNoteById(t),a=o.hasArea?[o.width-1,o.height-1]:[26,26],i=[Math.round(o.left*window.ss),Math.round(o.top*window.ss)],s=(o.hasArea,[i[0],i[1]]),l=!1;_NoteStore2["default"].changeEdit(t),_ContrStore2["default"].selectChange([],undefined,undefined,!0),_RightLabelStore2["default"].reset("note"),_RedLineStore2["default"].initDragOption({contrs:_DragContrStore2["default"].getRedLineContr()}),$.setDrag({name:"noteDragMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=[Math.round((e.clientX-n[0])/r),Math.round((e.clientY-n[1])/r)],u=_ContrHandle2["default"]._redLine({width:a[0],height:a[1],left:s[0]+t[0],top:s[1]+t[1]});l=!0,u=[Math.round(u[0]),Math.round(u[1])];var c=[Math.round((i[0]+t[0]+u[0])/window.ss),Math.round((i[1]+t[1]+u[1])/window.ss)];_NoteStore2["default"].updateNote(o.id,{left:c[0],top:c[1]}),_MoveTipStore2["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"x:"+Math.round(c[0]*window.ss)+", y:"+Math.round(c[1]*window.ss)})},endFunc:function(){_MoveTipStore2["default"].moveTipShow(!1),_RedLineStore2["default"].init(),l&&(0,_ViewAutoSaveHandle.setAutoSaveChangePages)("__pageVals",!0)}}),e.stopPropagation()}},{key:"_dragSpotMouseDown",value:function(e){var t=e.currentTarget.getAttribute("data-id"),n=[e.clientX,e.clientY],r=_ZoomStore2["default"].getZoom()/100,o=_NoteStore2["default"].getNoteById(t),a=[Math.round(o.width*window.ss),Math.round(o.height*window.ss)],i=[Math.round(o.left*window.ss+1),Math.round(o.top*window.ss)],s=!1;_RedLineStore2["default"].initDragOption({contrs:_DragContrStore2["default"].getRedLineContr()}),$.setDrag({name:"noteDragMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=[Math.round((e.clientX-n[0])/r),Math.round((e.clientY-n[1])/r)],l=_ContrHandle2["default"]._redLine({width:a[0]+t[0]-2,height:a[1]+t[1]-1,left:i[0],top:i[1]});s=!0,l=[Math.round(l[0]),Math.round(l[1])];var u=[Math.round(a[0]+t[0]+l[0]),Math.round(a[1]+t[1]+l[1])];_NoteStore2["default"].updateNote(o.id,{width:u[0]/window.ss,height:u[1]/window.ss}),_MoveTipStore2["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"w:"+u[0]+", h:"+u[1]})},endFunc:function(){_MoveTipStore2["default"].moveTipShow(!1),_RedLineStore2["default"].init(),s&&(0,_ViewAutoSaveHandle.setAutoSaveChangePages)("__pageVals",!0)}}),e.stopPropagation()}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),NoteComp}(_react.Component),_default=NoteComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(NoteComp,"NoteComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainboxBorder/Note.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainboxBorder/Note.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=h(n(1)),a=h(n(6)),i=h(n(51)),s=h(n(24)),l=h(n(10)),u=h(n(119)),c=h(n(253)),d=h(n(829)),f=n(256),p=n(429);function h(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var g,y,m=void 0,_={imageContr:function(e,t,n){m=this;var r=[0,0];if(s["default"].getIsWrapEdit()){var a=(0,f.getParentRotateVals)();r=[a.left+2,a.top+2]}var i=u["default"].getCutImageContr(),l=[],c=[],d=i.cutVals,h=$.rotateToAngle(i.rotate),g={width:d.width?d.width:0,height:d.height?d.height:0,left:i.left+d.left+r[0],top:i.top+d.top+r[1],transform:"rotate("+i.rotate+"deg)"},y={border:null===i.insetBorder[0]?"none":Math.ceil(i.insetBorder[1])+"px solid "+i.insetBorder[0],borderRadius:i.isMaxRadius?Math.ceil(Math.min(i.width,i.height)/2):$.isArray(i.radius)?i.radius.map(function(e){return Math.round(e)+"px"}).join(" "):Math.round(i.radius)},v={opacity:i.opacity/100,width:d.width?d.width:0,height:d.height?d.height:0,background:i.hasBackColor?i.backColor:"none",borderRadius:i.isMaxRadius?Math.ceil(Math.min(d.width,d.height)/2):$.isArray(i.radius)?i.radius.map(function(e){return Math.round(e)+"px"}).join(" "):(Math.round(i.radius),Math.round(i.radius)),boxShadow:(null===i.border[0]?"":" 0 0 0 "+i.border[1]+"px "+i.border[0]+",")+"0px "+i.shadow+"px "+i.shadow+"px "+(i.border[1]?i.border[1]:0)+"px rgba(0,0,0,0.5)"};if(t)return o["default"].createElement("div",{key:i.type+i.id,ref:i.type+i.id,className:"mDiv isC imageC"+(i.isShow?"":" dNone")+" spotAngle"+Math.floor((i.rotate+22)%360/45),id:i.type+"_"+i.id,"data-id":i.type+"_"+i.id,"data-type":i.type,style:g,onMouseDown:function(){n.cutImage=!0}},o["default"].createElement("img",{className:"cImg outerBox",src:(-1!=i.src.indexOf("userImages")||-1!=i.src.indexOf("sketch")||-1!=i.src.indexOf("images")?window.imgUrl:"")+i.src,title:i.oriName,style:v}),o["default"].createElement("div",{className:"cover"}));var b=u["default"].getCutImage().isCutSpot,w=function(t){_._cutImageBoxMove(t,e)};b&&_.getEightCutSpot.call(m,l,i),b||_.getEightCutBgSpot.call(m,c,i);var C=$.getCutBgImgPosi(d,h);return o["default"].createElement("div",{key:i.type+i.id,ref:i.type+i.id,className:"cDiv isCutImage isC imageC"+(i.isOpt?" opt":"")+(i.isLock?" lock":"")+(i.isShow?"":" dNone")+" spotAngle"+Math.floor((i.rotate+22)%360/45),id:i.type+"_"+i.id,"data-id":i.type+"_"+i.id,"data-type":i.type,style:g,onMouseDown:function(){n.cutImage=!0}},o["default"].createElement("div",{className:"stretch-wrapper"},o["default"].createElement("div",{className:"imageOverlap",style:{left:C.left,top:C.top,width:d.boxWidth,height:d.boxHeight},onMouseDown:function(){n.cutImageBg=!0}},c)),o["default"].createElement("div",{className:"cutImgOutBox stretch-wrapper",style:v},(0,p.getImageNode)(i),o["default"].createElement("div",{className:"contrBorder stretch-wrapper",style:y})),o["default"].createElement("div",{className:"cutBoxMask",style:{borderRadius:i.isMaxRadius?Math.ceil(Math.min(d.width,d.height)/2):$.isArray(i.radius)?i.radius.map(function(e){return Math.round(e)+Math.round(i.border[1])+"px"}).join(" "):"0"==Math.round(i.radius)?Math.round(i.radius):Math.round(i.radius)+Math.round(i.border[1])}},o["default"].createElement("span",{className:"maskDashed-h"}),o["default"].createElement("span",{className:"maskDashed-v"}),o["default"].createElement("span",{className:"maskCenter"})),["top","left","right","bottom"].map(function(e){return o["default"].createElement("div",{key:e,className:e+"Line borderLine",onMouseDown:w})}),l)},imageBgContr:function(e,t,n){m=this;var r=[0,0];if(s["default"].getIsWrapEdit()){var a=(0,f.getParentRotateVals)();r=[a.left+2,a.top+2]}var i=u["default"].getCutImageContr(),l=u["default"].getCutImage().isCutSpot,c=i.cutVals,d={left:i.left+1+c.boxLeft+r[0],top:i.top+1+c.boxTop+r[1],width:c.boxWidth,height:c.boxHeight,transform:"rotate("+i.rotate+"deg)"};return o["default"].createElement("div",{key:"cutImageBgBox",className:"cutImageBgBox"+(l?"":" active")+" spotAngle"+Math.floor((i.rotate+22)%360/45),style:d,onMouseDown:function(){n.cutImageBg=!0}},(0,p.getImageNode)(i,!0),o["default"].createElement("div",{className:"cutImageBgMask"}))},_cutImageBoxMove:function(e){var t=u["default"].getCutImageContr(),n=u["default"].getCutVals(),r={left:n.left,top:n.top},o=[e.clientX,e.clientY],a=i["default"].getZoom()/100,s=$.rotateToAngle((0,f.getParentRotateVals)(!1,!0).rotate);d["default"].isCutSpot(!0),$.setDrag({name:"cutImageBoxMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=[(e.clientX-o[0])/a,(e.clientY-o[1])/a];t=$.angleChangeArrVals(t,s),n=u["default"].getCutVals(),d["default"].changeCutVals({left:n.left+t[0],top:n.top+t[1]}),o=[e.clientX,e.clientY],c["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"x:"+Math.round(n.left+n.oriLeft+t[0])+" y:"+Math.round(n.top+n.oriTop+t[1])})},endFunc:function(){var e=t.cutVals;c["default"].show(!1),[e.left,e.top].some(function(e,t){return r[["left","top"][t]]!==e})&&l["default"].createData({type:"cutImageBoxMove",name:"["+t.name+"] 图片裁剪框位置改变",handleObjType:t.type,autoSaveType:"pageContrs"})}}),e.stopPropagation(),e.preventDefault()},getEightCutSpot:function(e,t){var n=i["default"].getZoom()/100,r=["tl","tm","tr","ml","mr","bl","bm","br"],s=[[0,0,1,1,-1,-1],[.5,0,0,1,-1,-1],[0,0,0,1,1,-1],[0,.5,1,0,-1,-1],[0,.5,0,0,1,-1],[0,0,1,0,-1,1],[.5,0,0,0,-1,1],[0,0,0,0,1,1]];function p(e){var t=e.target.getAttribute("data-type"),o=a["default"].getFirstSelectContr(),i=s[r.indexOf(t)],p=[e.clientX,e.clientY],h=1,g=1,y="0"!=o.rotate?$.rotateToAngle(o.rotate):0,m=$.extend(!0,{},u["default"].getCutVals()),_={left:m.left,top:m.top,width:m.width,height:m.height},v=$.hasClass($.query("#cutWidthHeight .WHrelationBtn"),"active")||window.isKeyDown.isShift,b=m.width/m.height,w=$.rotateToAngle((0,f.getParentRotateVals)(!1,!0).rotate);v&&(b>1?h=b:g=1/b),$.setDrag({name:"cutSpotDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var o=[(e.clientX-p[0])/n,(e.clientY-p[1])/n];o=$.angleChangeArrVals(o,y),o=[(o=$.angleChangeArrVals(o,w))[0]*Math.cos(y)+o[1]*Math.sin(y),o[1]*Math.cos(y)-o[0]*Math.sin(y)],m.width+i[4]*o[0]<=h&&(o[0]=(h-m.width)/i[4]),m.height+i[5]*o[1]<=g&&(o[1]=(g-m.height)/i[5]),v&&$.dragPosiChange(o,t,[_.width,_.height],b);var a=$.getRotateDragChangePosi(_,o,y,r.indexOf(t),v);d["default"].changeCutVals(a),c["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"w:"+Math.round(m.width+i[4]*o[0])+" h:"+Math.round(m.height+i[5]*o[1])})},endFunc:function(){var e=u["default"].getCutImageContr(),t=e.cutVals;c["default"].show(!1),[t.left,t.top,t.width,t.height].some(function(e,t){return _[["left","top","width","height"][t]]!==e})&&l["default"].createData({type:"cutImageBoxDragSpot",name:"["+e.name+"] 图片裁剪框宽高改变",handleObjType:e.type,autoSaveType:"pageContrs"})}}),e.stopPropagation(),e.preventDefault()}r.forEach(function(n){var r="spot cutSpot "+n+" spotAngle"+Math.floor((t.rotate+22)%360/45);e.push(o["default"].createElement("div",{"data-type":n,key:"cutSpot"+n,className:r,onMouseDown:p}))})},getEightCutBgSpot:function(e){var t=u["default"].getCutVals(),n=i["default"].getZoom()/100,r=["tl","tm","tr","ml","mr","bl","bm","br"],s=[[0,0,1,1,-1,-1],[.5,0,0,1,-1,-1],[0,0,0,1,1,-1],[0,.5,1,0,-1,-1],[0,.5,0,0,1,-1],[0,0,1,0,-1,1],[.5,0,0,0,-1,1],[0,0,0,0,1,1]];function p(e){var o=e.target.getAttribute("data-type"),i=a["default"].getFirstSelectContr(),p=s[r.indexOf(o)],h=1,g=1,y="0"!=i.rotate?$.rotateToAngle(i.rotate):0,m={left:t.boxLeft,top:t.boxTop,width:t.boxWidth,height:t.boxHeight},_=[e.clientX,e.clientY],v=i.WHrelation||window.isKeyDown.isShift,b=m.width/m.height,w=$.rotateToAngle((0,f.getParentRotateVals)(!1,!0).rotate);v&&(b>1?h=b:g=1/b),$.setDrag({name:"cutSpotDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=[(e.clientX-_[0])/n,(e.clientY-_[1])/n];t=$.angleChangeArrVals(t,y),t=[(t=$.angleChangeArrVals(t,w))[0]*Math.cos(y)+t[1]*Math.sin(y),t[1]*Math.cos(y)-t[0]*Math.sin(y)],m.width+p[4]*t[0]<=h&&(t[0]=(h-m.width)/p[4]),m.height+p[5]*t[1]<=g&&(t[1]=(g-m.height)/p[5]),v&&$.dragPosiChange(t,o,[m.width,m.height],b);var a=$.getRotateDragChangePosi(m,t,y,r.indexOf(o),v);d["default"].changeCutVals({boxLeft:a.left,boxTop:a.top,boxWidth:a.width,boxHeight:a.height}),c["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"w:"+Math.round(m.width+p[4]*t[0])+" h:"+Math.round(m.height+p[5]*t[1])})},endFunc:function(){var e=u["default"].getCutImageContr(),t=e.cutVals;c["default"].show(!1),[t.boxLeft,t.boxTop,t.boxWidth,t.boxHeight].some(function(e,t){return m[["left","top","width","height"][t]]!==e})&&l["default"].createData({type:"cutImageBgBoxDragSpot",name:"["+e.name+"] 图片裁剪背景框宽高改变",handleObjType:e.type,autoSaveType:"pageContrs"})}}),e.stopPropagation(),e.preventDefault()}r.forEach(function(t){var n="spot cutBgSpot "+t;e.push(o["default"].createElement("div",{"data-type":t,key:"cutBgSpot"+t,className:n,onMouseDown:p}))})}},v=_;t["default"]=v,(g=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(g.register(m,"self","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/GetCutImageDom.js"),g.register(_,"CutImageDom","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/GetCutImageDom.js"),g.register(v,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/common/GetCutImageDom.js")),(y=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&y(e)}).call(this,n(7)(e))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_EightDragSpotEvent=__webpack_require__(906),_EightDragSpotEvent2=_interopRequireDefault(_EightDragSpotEvent),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var DRAG_CLASS=["tl","tm","tr","ml","mr","bl","bm","br"],DragSpotListComp=function(_Component){function DragSpotListComp(){return(0,_classCallCheck3["default"])(this,DragSpotListComp),(0,_possibleConstructorReturn3["default"])(this,(DragSpotListComp.__proto__||(0,_getPrototypeOf2["default"])(DragSpotListComp)).apply(this,arguments))}return(0,_inherits3["default"])(DragSpotListComp,_Component),(0,_createClass3["default"])(DragSpotListComp,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=[];return DRAG_CLASS.forEach(function(t){e.push(_react2["default"].createElement("div",{"data-type":t,key:t,className:"spot dragBox "+t,onMouseDown:_EightDragSpotEvent2["default"].eightSpotMouseDown}))}),_react2["default"].createElement("div",{className:"drag-spot-list"},e)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),DragSpotListComp}(_react.Component),_default=DragSpotListComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(DRAG_CLASS,"DRAG_CLASS","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/DragSpotList.react.js"),reactHotLoader.register(DragSpotListComp,"DragSpotListComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/DragSpotList.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/DragSpotList.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_ContrStore=__webpack_require__(6),_ContrStore2=_interopRequireDefault(_ContrStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function switchEventPanel(){_ContrStore2["default"].selectChange([],"event")}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var EventTagComp=function(_Component){function EventTagComp(e){(0,_classCallCheck3["default"])(this,EventTagComp);var t=(0,_possibleConstructorReturn3["default"])(this,(EventTagComp.__proto__||(0,_getPrototypeOf2["default"])(EventTagComp)).call(this,e));return t.state={page:t.props.page},t._onChange=t._onChange.bind(t),t}return(0,_inherits3["default"])(EventTagComp,_Component),(0,_createClass3["default"])(EventTagComp,[{key:"componentDidMount",value:function(){_ContrStore2["default"].addChangeListener(this._onChange)}},{key:"componentWillReceiveProps",value:function(e){this.setState({page:e.page})}},{key:"shouldComponentUpdate",value:function(e,t){return t.page&&!t.page.events}},{key:"componentWillUnmount",value:function(){_ContrStore2["default"].removeChangeListener(this._onChange)}},{key:"_onChange",value:function(){this.setState({page:_ViewStore2["default"].getActivePage(!0)})}},{key:"render",value:function(){var e=this.state.page;return e.events&&0!==$.objLength(e.events)?_react2["default"].createElement("div",{className:"event-tag tool-img contr-tag",onMouseDown:switchEventPanel,onDoubleClick:$.stopPropagation}):null}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),EventTagComp}(_react.Component),_default=EventTagComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(switchEventPanel,"switchEventPanel","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EventTag.react.js"),reactHotLoader.register(EventTagComp,"EventTagComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EventTag.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/EventTag.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=u(n(1247)),f=u(n(1248)),p=u(n(6)),h=u(n(24)),g=u(n(119)),y=n(1004),m=n(63),_=u(n(3)),v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isMust:!1,renderChange:0},n}return o(t,e),t.prototype.componentDidMount=function(){h["default"].addChangeListener(this._onChange),p["default"].addChangeListener(this._onChange),p["default"].addMustChangeListener(this._onMustChange)},t.prototype.componentWillUnmount=function(){h["default"].removeChangeListener(this._onChange),p["default"].removeChangeListener(this._onChange),p["default"].removeMustChangeListener(this._onMustChange)},t.prototype._onChange=function(){this.setState({isMust:!1})},t.prototype._onMustChange=function(){this.setState({isMust:!0})},t.prototype.render=function(){var e=this.props,t=e.isCanvas,n=e.pageKey,r=e.viewMode,o=this.state.isMust;if(t)return c["default"].createElement(f["default"],a({active:!0},this.props));var i=m.getPageByHierarchy(n),s=g["default"].getCutImage(),l=p["default"].getFirstSelectContr(),u=p["default"].getContrastContr(l),h=[];return i.forEach(function(e){if($.isUndefined(e))console.log("ActiveContrsComp warning: i is undefined");else{var t=e.type+"_"+e.id;s.isShow&&t==s.thisImageKey||h.push(c["default"].createElement(d["default"],{key:t,i:e,isMust:o,isOpen:e.isOpen,isOpt:e.isOpt,isActive:!0,cutImage:s,contrastContr:u,viewMode:r,isInSymbol:window.renderSymbol&&y.hasEditSymbol(e)}))}}),c["default"].createElement("div",{className:"contr-box"},h)},i([_["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onChange",null),i([_["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onMustChange",null),t}(c.Component);t["default"]=v},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(1)),l=i(n(341)),u=i(n(6)),c=i(n(60)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){return!!window.renderAll||(!!e.isInSymbol||(!!e.isMust||"multi-view"!=e.viewMode&&(!!e.isActive&&(!(!e.isOpt&&e.isOpt==this.props.isOpt)||(!(!e.isOpen&&e.isOpen==this.props.isOpen)||!(!e.isActive||!e.i||"symbol"!=e.i.type))))))},t.prototype.render=function(){var e,t,n,r=this.props,o=r.i,a=r.contrastContr,i=r.viewMode,d=!(!o.hoverState||!o.hoverState.isEndHover),f=u["default"].getAllValsContr({contrKey:o,type:d?"hover":undefined});if(a&&$.getContrId(a)==$.getContrId(o)){var p=u["default"].getAllValsContr({contrKey:o,type:"start"});e=c["default"].createContr(p,a,!1,!0),t=s["default"].createElement(l["default"],{key:"contrast-link-line",start:p,end:f})}"preview"!=i&&"drag-preview"!=i||u["default"].getSelect()[0]==$.getContrId(o)&&(n="preview");var h=c["default"].createContr(f,a,!1,!1,n,d);return e?s["default"].createElement("div",{className:"contrList"},e,t,h):h||null},t}(s.Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=u(n(3)),f=u(n(858)),p=u(n(907)),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.state.renderChange!==t.renderChange||!window.notCanvasDev},t.prototype.componentDidMount=function(){f["default"].addChangeListener(this.lineChange)},t.prototype.componentWillUnmount=function(){f["default"].removeChangeListener(this.lineChange)},t.prototype.lineChange=function(){this.setState({renderChange:this.state.renderChange+1})},t.prototype.render=function(){return c["default"].createElement(p["default"],a({},this.props))},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"lineChange",null),t}(c.Component);t["default"]=h},function(e,t,n){"use strict";e.exports=n(1250)},function(e,t,n){e.exports=function r(t){"use strict";var o=n(95),a=n(1),i=n(968);function s(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,a,i,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;l.hasOwnProperty("ReactCurrentDispatcher")||(l.ReactCurrentDispatcher={current:null});var u="function"==typeof Symbol&&Symbol["for"],c=u?Symbol["for"]("react.element"):60103,d=u?Symbol["for"]("react.portal"):60106,f=u?Symbol["for"]("react.fragment"):60107,p=u?Symbol["for"]("react.strict_mode"):60108,h=u?Symbol["for"]("react.profiler"):60114,g=u?Symbol["for"]("react.provider"):60109,y=u?Symbol["for"]("react.context"):60110,m=u?Symbol["for"]("react.concurrent_mode"):60111,_=u?Symbol["for"]("react.forward_ref"):60112,v=u?Symbol["for"]("react.suspense"):60113,b=u?Symbol["for"]("react.memo"):60115,w=u?Symbol["for"]("react.lazy"):60116,C="function"==typeof Symbol&&Symbol.iterator;function x(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"ConcurrentMode";case f:return"Fragment";case d:return"Portal";case h:return"Profiler";case p:return"StrictMode";case v:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case y:return"Context.Consumer";case g:return"Context.Provider";case _:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case b:return S(e.type);case w:if(e=1===e._status?e._result:null)return S(e)}return null}function P(e){var t=e;if(e.alternate)for(;t["return"];)t=t["return"];else{if(0!=(2&t.effectTag))return 1;for(;t["return"];)if(0!=(2&(t=t["return"]).effectTag))return 1}return 3===t.tag?2:3}function k(e){2!==P(e)&&s("188")}function O(e){var t=e.alternate;if(!t)return 3===(t=P(e))&&s("188"),1===t?null:e;for(var n=e,r=t;;){var o=n["return"],a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var i=o.child;i;){if(i===n)return k(o),e;if(i===r)return k(o),t;i=i.sibling}s("188")}if(n["return"]!==r["return"])n=o,r=a;else{i=!1;for(var l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}i||s("189")}}n.alternate!==r&&s("190")}return 3!==n.tag&&s("188"),n.stateNode.current===n?e:t}function E(e){if(!(e=O(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child["return"]=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}}return null}var T=t.getPublicInstance,M=t.getRootHostContext,D=t.getChildHostContext,A=t.prepareForCommit,j=t.resetAfterCommit,I=t.createInstance,L=t.appendInitialChild,R=t.finalizeInitialChildren,B=t.prepareUpdate,N=t.shouldSetTextContent,F=t.shouldDeprioritizeSubtree,H=t.createTextInstance,$=t.scheduleDeferredCallback,z=t.cancelDeferredCallback,U=t.shouldYield,V=t.setTimeout,K=t.clearTimeout,G=t.noTimeout,q=t.schedulePassiveEffects,W=t.cancelPassiveEffects,Y=t.now,X=t.isPrimaryRenderer,Z=t.supportsMutation,J=t.supportsPersistence,Q=t.supportsHydration,ee=t.appendChild,te=t.appendChildToContainer,ne=t.commitTextUpdate,re=t.commitMount,oe=t.commitUpdate,ae=t.insertBefore,ie=t.insertInContainerBefore,se=t.removeChild,le=t.removeChildFromContainer,ue=t.resetTextContent,ce=t.hideInstance,de=t.hideTextInstance,fe=t.unhideInstance,pe=t.unhideTextInstance,he=t.cloneInstance,ge=t.createContainerChildSet,ye=t.appendChildToContainerChildSet,me=t.finalizeContainerChildren,_e=t.replaceContainerChildren,ve=t.cloneHiddenInstance,be=t.cloneUnhiddenInstance,we=t.createHiddenTextInstance,Ce=t.canHydrateInstance,xe=t.canHydrateTextInstance,Se=t.getNextHydratableSibling,Pe=t.getFirstHydratableChild,ke=t.hydrateInstance,Oe=t.hydrateTextInstance,Ee=/^(.*)[\\\/]/;function Te(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,a=S(e.type);n=null,r&&(n=S(r.type)),r=a,a="",o?a=" (at "+o.fileName.replace(Ee,"")+":"+o.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e["return"]}while(e);return t}new Set;var Me=[],De=-1;function Ae(e){0>De||(e.current=Me[De],Me[De]=null,De--)}function je(e,t){Me[++De]=e.current,e.current=t}var Ie={},Le={current:Ie},Re={current:!1},Be=Ie;function Ne(e,t){var n=e.type.contextTypes;if(!n)return Ie;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Fe(e){return null!=(e=e.childContextTypes)}function He(e){Ae(Re),Ae(Le)}function $e(e){Ae(Re),Ae(Le)}function ze(e,t,n){Le.current!==Ie&&s("168"),je(Le,t),je(Re,n)}function Ue(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())a in e||s("108",S(t)||"Unknown",a);return o({},n,r)}function Ve(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ie,Be=Le.current,je(Le,t),je(Re,Re.current),!0}function Ke(e,t,n){var r=e.stateNode;r||s("169"),n?(t=Ue(e,t,Be),r.__reactInternalMemoizedMergedChildContext=t,Ae(Re),Ae(Le),je(Le,t)):Ae(Re),je(Re,n)}var Ge=null,qe=null;function We(e){return function(t){try{return e(t)}catch(n){}}}function Ye(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this["return"]=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Xe(e,t,n,r){return new Ye(e,t,n,r)}function Ze(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Je(e,t){var n=e.alternate;return null===n?((n=Xe(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qe(e,t,n,r,o,a){var i=2;if(r=e,"function"==typeof e)Ze(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case f:return et(n.children,o,a,t);case m:return tt(n,3|o,a,t);case p:return tt(n,2|o,a,t);case h:return(e=Xe(12,n,t,4|o)).elementType=h,e.type=h,e.expirationTime=a,e;case v:return(e=Xe(13,n,t,o)).elementType=v,e.type=v,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:i=10;break e;case y:i=9;break e;case _:i=11;break e;case b:i=14;break e;case w:i=16,r=null;break e}s("130",null==e?e:typeof e,"")}return(t=Xe(i,n,t,o)).elementType=e,t.type=r,t.expirationTime=a,t}function et(e,t,n,r){return(e=Xe(7,e,r,t)).expirationTime=n,e}function tt(e,t,n,r){return e=Xe(8,e,r,t),t=0==(1&t)?p:m,e.elementType=t,e.type=t,e.expirationTime=n,e}function nt(e,t,n){return(e=Xe(6,e,null,t)).expirationTime=n,e}function rt(e,t,n){return(t=Xe(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ot(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),st(t,e)}function at(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),st(t,e)}function it(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function st(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,o=t.earliestPendingTime,a=t.latestPingedTime;0===(o=0!==o?o:a)&&(0===e||r<e)&&(o=r),0!==(e=o)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=o,t.expirationTime=e}function lt(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var ut=Object.prototype.hasOwnProperty;function ct(e,t){if(lt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ut.call(t,n[r])||!lt(e[n[r]],t[n[r]]))return!1;return!0}function dt(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ft=(new a.Component).refs;function pt(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var ht={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===P(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Io(),o=ar(r=io(r,e));o.payload=t,null!=n&&(o.callback=n),eo(),sr(e,o),uo(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Io(),o=ar(r=io(r,e));o.tag=Qn,o.payload=t,null!=n&&(o.callback=n),eo(),sr(e,o),uo(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Io(),r=ar(n=io(n,e));r.tag=er,null!=t&&(r.callback=t),eo(),sr(e,r),uo(e,n)}};function gt(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!ct(n,r)||!ct(o,a))}function yt(e,t,n){var r=!1,o=Ie,a=t.contextType;return"object"==typeof a&&null!==a?a=Zn(a):(o=Fe(t)?Be:Le.current,a=(r=null!=(r=t.contextTypes))?Ne(e,o):Ie),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ht,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function mt(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ht.enqueueReplaceState(t,t.state,null)}function _t(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=ft;var a=t.contextType;"object"==typeof a&&null!==a?o.context=Zn(a):(a=Fe(t)?Be:Le.current,o.context=Ne(e,a)),null!==(a=e.updateQueue)&&(dr(e,a,n,o,r),o.state=e.memoizedState),"function"==typeof(a=t.getDerivedStateFromProps)&&(pt(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ht.enqueueReplaceState(o,o.state,null),null!==(a=e.updateQueue)&&(dr(e,a,n,o,r),o.state=e.memoizedState)),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var vt=Array.isArray;function bt(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&s("309"),r=n.stateNode),r||s("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===ft&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!=typeof e&&s("284"),n._owner||s("290",e)}return e}function wt(e,t){"textarea"!==e.type&&s("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Ct(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=Je(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function i(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=nt(n,e.mode,r))["return"]=e,t):((t=o(t,n))["return"]=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=bt(e,t,n),r["return"]=e,r):((r=Qe(n.type,n.key,n.props,null,e.mode,r)).ref=bt(e,t,n),r["return"]=e,r)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=rt(n,e.mode,r))["return"]=e,t):((t=o(t,n.children||[]))["return"]=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=et(n,e.mode,r,a))["return"]=e,t):((t=o(t,n))["return"]=e,t)}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=nt(""+t,e.mode,n))["return"]=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case c:return(n=Qe(t.type,t.key,t.props,null,e.mode,n)).ref=bt(e,null,t),n["return"]=e,n;case d:return(t=rt(t,e.mode,n))["return"]=e,t}if(vt(t)||x(t))return(t=et(t,e.mode,n,null))["return"]=e,t;wt(e,t)}return null}function y(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===o?n.type===f?h(e,t,n.props.children,r,o):u(e,t,n,r):null;case d:return n.key===o?p(e,t,n,r):null}if(vt(n)||x(n))return null!==o?null:h(e,t,n,r,null);wt(e,n)}return null}function m(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case c:return e=e.get(null===r.key?n:r.key)||null,r.type===f?h(t,e,r.props.children,o,r.key):u(t,e,r,o);case d:return p(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(vt(r)||x(r))return h(t,e=e.get(n)||null,r,o,null);wt(t,r)}return null}function _(o,i,s,l){for(var u=null,c=null,d=i,f=i=0,p=null;null!==d&&f<s.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var h=y(o,d,s[f],l);if(null===h){null===d&&(d=p);break}e&&d&&null===h.alternate&&t(o,d),i=a(h,i,f),null===c?u=h:c.sibling=h,c=h,d=p}if(f===s.length)return n(o,d),u;if(null===d){for(;f<s.length;f++)(d=g(o,s[f],l))&&(i=a(d,i,f),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(o,d);f<s.length;f++)(p=m(d,o,f,s[f],l))&&(e&&null!==p.alternate&&d["delete"](null===p.key?f:p.key),i=a(p,i,f),null===c?u=p:c.sibling=p,c=p);return e&&d.forEach(function(e){return t(o,e)}),u}function v(o,i,l,u){var c=x(l);"function"!=typeof c&&s("150"),null==(l=c.call(l))&&s("151");for(var d=c=null,f=i,p=i=0,h=null,_=l.next();null!==f&&!_.done;p++,_=l.next()){f.index>p?(h=f,f=null):h=f.sibling;var v=y(o,f,_.value,u);if(null===v){f||(f=h);break}e&&f&&null===v.alternate&&t(o,f),i=a(v,i,p),null===d?c=v:d.sibling=v,d=v,f=h}if(_.done)return n(o,f),c;if(null===f){for(;!_.done;p++,_=l.next())null!==(_=g(o,_.value,u))&&(i=a(_,i,p),null===d?c=_:d.sibling=_,d=_);return c}for(f=r(o,f);!_.done;p++,_=l.next())null!==(_=m(f,o,p,_.value,u))&&(e&&null!==_.alternate&&f["delete"](null===_.key?p:_.key),i=a(_,i,p),null===d?c=_:d.sibling=_,d=_);return e&&f.forEach(function(e){return t(o,e)}),c}return function(e,r,a,l){var u="object"==typeof a&&null!==a&&a.type===f&&null===a.key;u&&(a=a.props.children);var p="object"==typeof a&&null!==a;if(p)switch(a.$$typeof){case c:e:{for(p=a.key,u=r;null!==u;){if(u.key===p){if(7===u.tag?a.type===f:u.elementType===a.type){n(e,u.sibling),(r=o(u,a.type===f?a.props.children:a.props)).ref=bt(e,u,a),r["return"]=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}a.type===f?((r=et(a.props.children,e.mode,l,a.key))["return"]=e,e=r):((l=Qe(a.type,a.key,a.props,null,e.mode,l)).ref=bt(e,r,a),l["return"]=e,e=l)}return i(e);case d:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=o(r,a.children||[]))["return"]=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=rt(a,e.mode,l))["return"]=e,e=r}return i(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,a))["return"]=e,e=r):(n(e,r),(r=nt(a,e.mode,l))["return"]=e,e=r),i(e);if(vt(a))return _(e,r,a,l);if(x(a))return v(e,r,a,l);if(p&&wt(e,a),void 0===a&&!u)switch(e.tag){case 1:case 0:s("152",(l=e.type).displayName||l.name||"Component")}return n(e,r)}}var xt=Ct(!0),St=Ct(!1),Pt={},kt={current:Pt},Ot={current:Pt},Et={current:Pt};function Tt(e){return e===Pt&&s("174"),e}function Mt(e,t){je(Et,t),je(Ot,e),je(kt,Pt),t=M(t),Ae(kt),je(kt,t)}function Dt(e){Ae(kt),Ae(Ot),Ae(Et)}function At(){return Tt(kt.current)}function jt(e){var t=Tt(Et.current),n=Tt(kt.current);n!==(t=D(n,e.type,t))&&(je(Ot,e),je(kt,t))}function It(e){Ot.current===e&&(Ae(kt),Ae(Ot))}var Lt=0,Rt=2,Bt=4,Nt=8,Ft=16,Ht=32,$t=64,zt=128,Ut=l.ReactCurrentDispatcher,Vt=0,Kt=null,Gt=null,qt=null,Wt=null,Yt=null,Xt=null,Zt=0,Jt=null,Qt=0,en=!1,tn=null,nn=0;function rn(){s("307")}function on(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lt(e[n],t[n]))return!1;return!0}function an(e,t,n,r,o,a){if(Vt=a,Kt=t,qt=null!==e?e.memoizedState:null,Ut.current=null===qt?vn:bn,t=n(r,o),en){do{en=!1,nn+=1,qt=null!==e?e.memoizedState:null,Xt=Wt,Jt=Yt=Gt=null,Ut.current=bn,t=n(r,o)}while(en);tn=null,nn=0}return Ut.current=_n,(e=Kt).memoizedState=Wt,e.expirationTime=Zt,e.updateQueue=Jt,e.effectTag|=Qt,e=null!==Gt&&null!==Gt.next,Vt=0,Xt=Yt=Wt=qt=Gt=Kt=null,Zt=0,Jt=null,Qt=0,e&&s("300"),t}function sn(){Ut.current=_n,Vt=0,Xt=Yt=Wt=qt=Gt=Kt=null,Zt=0,Jt=null,Qt=0,en=!1,tn=null,nn=0}function ln(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Yt?Wt=Yt=e:Yt=Yt.next=e,Yt}function un(){if(null!==Xt)Xt=(Yt=Xt).next,qt=null!==(Gt=qt)?Gt.next:null;else{null===qt&&s("310");var e={memoizedState:(Gt=qt).memoizedState,baseState:Gt.baseState,queue:Gt.queue,baseUpdate:Gt.baseUpdate,next:null};Yt=null===Yt?Wt=e:Yt.next=e,qt=Gt.next}return Yt}function cn(e,t){return"function"==typeof t?t(e):t}function dn(e){var t=un(),n=t.queue;if(null===n&&s("311"),0<nn){var r=n.dispatch;if(null!==tn){var o=tn.get(n);if(void 0!==o){tn["delete"](n);var a=t.memoizedState;do{a=e(a,o.action),o=o.next}while(null!==o);return lt(a,t.memoizedState)||(Dn=!0),t.memoizedState=a,t.baseUpdate===n.last&&(t.baseState=a),n.eagerReducer=e,n.eagerState=a,[a,r]}}return[t.memoizedState,r]}r=n.last;var i=t.baseUpdate;if(a=t.baseState,null!==i?(null!==r&&(r.next=null),r=i.next):r=null!==r?r.next:null,null!==r){var l=o=null,u=r,c=!1;do{var d=u.expirationTime;d<Vt?(c||(c=!0,l=i,o=a),d>Zt&&(Zt=d)):a=u.eagerReducer===e?u.eagerState:e(a,u.action),i=u,u=u.next}while(null!==u&&u!==r);c||(l=i,o=a),lt(a,t.memoizedState)||(Dn=!0),t.memoizedState=a,t.baseUpdate=l,t.baseState=o,n.eagerReducer=e,n.eagerState=a}return[t.memoizedState,n.dispatch]}function fn(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Jt?(Jt={lastEffect:null}).lastEffect=e.next=e:null===(t=Jt.lastEffect)?Jt.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Jt.lastEffect=e),e}function pn(e,t,n,r){var o=ln();Qt|=e,o.memoizedState=fn(t,n,void 0,void 0===r?null:r)}function hn(e,t,n,r){var o=un();r=void 0===r?null:r;var a=void 0;if(null!==Gt){var i=Gt.memoizedState;if(a=i.destroy,null!==r&&on(r,i.deps))return void fn(Lt,n,a,r)}Qt|=e,o.memoizedState=fn(t,n,a,r)}function gn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function yn(){}function mn(e,t,n){25>nn||s("301");var r=e.alternate;if(e===Kt||null!==r&&r===Kt)if(en=!0,e={expirationTime:Vt,action:n,eagerReducer:null,eagerState:null,next:null},null===tn&&(tn=new Map),void 0===(n=tn.get(t)))tn.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{eo();var o=Io(),a={expirationTime:o=io(o,e),action:n,eagerReducer:null,eagerState:null,next:null},i=t.last;if(null===i)a.next=a;else{var l=i.next;null!==l&&(a.next=l),i.next=a}if(t.last=a,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.eagerReducer))try{var u=t.eagerState,c=r(u,n);if(a.eagerReducer=r,a.eagerState=c,lt(c,u))return}catch(d){}uo(e,o)}}var _n={readContext:Zn,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn},vn={readContext:Zn,useCallback:function(e,t){return ln().memoizedState=[e,void 0===t?null:t],e},useContext:Zn,useEffect:function(e,t){return pn(516,zt|$t,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,pn(4,Bt|Ht,gn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pn(4,Bt|Ht,e,t)},useMemo:function(e,t){var n=ln();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ln();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,eagerReducer:e,eagerState:t}).dispatch=mn.bind(null,Kt,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ln().memoizedState=e},useState:function(e){var t=ln();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,eagerReducer:cn,eagerState:e}).dispatch=mn.bind(null,Kt,e),[t.memoizedState,e]},useDebugValue:yn},bn={readContext:Zn,useCallback:function(e,t){var n=un();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&on(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Zn,useEffect:function(e,t){return hn(516,zt|$t,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,hn(4,Bt|Ht,gn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hn(4,Bt|Ht,e,t)},useMemo:function(e,t){var n=un();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&on(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:dn,useRef:function(){return un().memoizedState},useState:function(e){return dn(cn)},useDebugValue:yn},wn=null,Cn=null,xn=!1;function Sn(e,t){var n=Xe(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n["return"]=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Pn(e,t){switch(e.tag){case 5:return null!==(t=Ce(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=xe(t,e.pendingProps))&&(e.stateNode=t,!0);case 13:default:return!1}}function kn(e){if(xn){var t=Cn;if(t){var n=t;if(!Pn(e,t)){if(!(t=Se(n))||!Pn(e,t))return e.effectTag|=2,xn=!1,void(wn=e);Sn(wn,n)}wn=e,Cn=Pe(t)}else e.effectTag|=2,xn=!1,wn=e}}function On(e){for(e=e["return"];null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e["return"];wn=e}function En(e){if(!Q||e!==wn)return!1;if(!xn)return On(e),xn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!N(t,e.memoizedProps))for(t=Cn;t;)Sn(e,t),t=Se(t);return On(e),Cn=wn?Se(e.stateNode):null,!0}function Tn(){Q&&(Cn=wn=null,xn=!1)}var Mn=l.ReactCurrentOwner,Dn=!1;function An(e,t,n,r){t.child=null===e?St(t,null,n,r):xt(t,e.child,n,r)}function jn(e,t,n,r,o){n=n.render;var a=t.ref;return Xn(t,o),r=an(e,t,n,r,a,o),null===e||Dn?(t.effectTag|=1,An(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),zn(e,t,o))}function In(e,t,n,r,o,a){if(null===e){var i=n.type;return"function"!=typeof i||Ze(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qe(n.type,null,r,null,t.mode,a)).ref=t.ref,e["return"]=t,t.child=e):(t.tag=15,t.type=i,Ln(e,t,i,r,o,a))}return i=e.child,o<a&&(o=i.memoizedProps,(n=null!==(n=n.compare)?n:ct)(o,r)&&e.ref===t.ref)?zn(e,t,a):(t.effectTag|=1,(e=Je(i,r)).ref=t.ref,e["return"]=t,t.child=e)}function Ln(e,t,n,r,o,a){return null!==e&&ct(e.memoizedProps,r)&&e.ref===t.ref&&(Dn=!1,o<a)?zn(e,t,a):Bn(e,t,n,r,a)}function Rn(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Bn(e,t,n,r,o){var a=Fe(n)?Be:Le.current;return a=Ne(t,a),Xn(t,o),n=an(e,t,n,r,a,o),null===e||Dn?(t.effectTag|=1,An(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),zn(e,t,o))}function Nn(e,t,n,r,o){if(Fe(n)){var a=!0;Ve(t)}else a=!1;if(Xn(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yt(t,n,r),_t(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=n.contextType;"object"==typeof u&&null!==u?u=Zn(u):u=Ne(t,u=Fe(n)?Be:Le.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||l!==u)&&mt(t,i,r,u),nr=!1;var f=t.memoizedState;l=i.state=f;var p=t.updateQueue;null!==p&&(dr(t,p,r,i,o),l=t.memoizedState),s!==r||f!==l||Re.current||nr?("function"==typeof c&&(pt(t,n,c,r),l=t.memoizedState),(s=nr||gt(t,n,s,r,f,l,u))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.effectTag|=4)):("function"==typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=s):("function"==typeof i.componentDidMount&&(t.effectTag|=4),r=!1)}else i=t.stateNode,s=t.memoizedProps,i.props=t.type===t.elementType?s:dt(t.type,s),l=i.context,"object"==typeof(u=n.contextType)&&null!==u?u=Zn(u):u=Ne(t,u=Fe(n)?Be:Le.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||l!==u)&&mt(t,i,r,u),nr=!1,l=t.memoizedState,f=i.state=l,null!==(p=t.updateQueue)&&(dr(t,p,r,i,o),f=t.memoizedState),s!==r||l!==f||Re.current||nr?("function"==typeof c&&(pt(t,n,c,r),f=t.memoizedState),(c=nr||gt(t,n,s,r,l,f,u))?(d||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,u),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof i.componentDidUpdate&&(t.effectTag|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=u,r=c):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Fn(e,t,n,r,a,o)}function Fn(e,t,n,r,o,a){Rn(e,t);var i=0!=(64&t.effectTag);if(!r&&!i)return o&&Ke(t,n,!1),zn(e,t,a);r=t.stateNode,Mn.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&i?(t.child=xt(t,e.child,null,a),t.child=xt(t,null,s,a)):An(e,t,s,a),t.memoizedState=r.state,o&&Ke(t,n,!0),t.child}function Hn(e){var t=e.stateNode;t.pendingContext?ze(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ze(0,t.context,!1),Mt(e,t.containerInfo)}function $n(e,t,n){var r=t.mode,o=t.pendingProps,a=t.memoizedState;if(0==(64&t.effectTag)){a=null;var i=!1}else a={timedOutAt:null!==a?a.timedOutAt:0},i=!0,t.effectTag&=-65;if(null===e)if(i){var s=o.fallback;e=et(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=et(s,r,n,null),e.sibling=r,(n=e)["return"]=r["return"]=t}else n=r=St(t,null,o.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,i?(n=o.fallback,o=Je(r,r.pendingProps),0==(1&t.mode)&&((i=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(o.child=i)),r=o.sibling=Je(s,n,s.expirationTime),n=o,o.childExpirationTime=0,n["return"]=r["return"]=t):n=r=xt(t,r.child,o.children,n)):(s=e.child,i?(i=o.fallback,(o=et(null,r,0,null)).child=s,0==(1&t.mode)&&(o.child=null!==t.memoizedState?t.child.child:t.child),(r=o.sibling=et(i,r,n,null)).effectTag|=2,n=o,o.childExpirationTime=0,n["return"]=r["return"]=t):r=n=xt(t,s,o.children,n)),t.stateNode=e.stateNode;return t.memoizedState=a,t.child=n,r}function zn(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&s("153"),null!==t.child){for(n=Je(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n["return"]=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Je(e,e.pendingProps,e.expirationTime))["return"]=t;n.sibling=null}return t.child}function Un(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Re.current)Dn=!0;else if(r<n){switch(Dn=!1,t.tag){case 3:Hn(t),Tn();break;case 5:jt(t);break;case 1:Fe(t.type)&&Ve(t);break;case 4:Mt(t,t.stateNode.containerInfo);break;case 10:Wn(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?$n(e,t,n):null!==(t=zn(e,t,n))?t.sibling:null}return zn(e,t,n)}}else Dn=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var o=Ne(t,Le.current);if(Xn(t,n),o=an(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,sn(),Fe(r)){var a=!0;Ve(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var i=r.getDerivedStateFromProps;"function"==typeof i&&pt(t,r,i,e),o.updater=ht,t.stateNode=o,o._reactInternalFiber=t,_t(t,r,e,n),t=Fn(null,t,r,!0,a,n)}else t.tag=0,An(null,t,o,n),t=t.child;return t;case 16:switch(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),a=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t["default"],e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(o),t.type=e,o=t.tag=function(e){if("function"==typeof e)return Ze(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===b)return 14}return 2}(e),a=dt(e,a),i=void 0,o){case 0:i=Bn(null,t,e,a,n);break;case 1:i=Nn(null,t,e,a,n);break;case 11:i=jn(null,t,e,a,n);break;case 14:i=In(null,t,e,dt(e.type,a),r,n);break;default:s("306",e,"")}return i;case 0:return r=t.type,o=t.pendingProps,Bn(e,t,r,o=t.elementType===r?o:dt(r,o),n);case 1:return r=t.type,o=t.pendingProps,Nn(e,t,r,o=t.elementType===r?o:dt(r,o),n);case 3:return Hn(t),null===(r=t.updateQueue)&&s("282"),o=null!==(o=t.memoizedState)?o.element:null,dr(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===o?(Tn(),t=zn(e,t,n)):(o=t.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(Q?(Cn=Pe(t.stateNode.containerInfo),wn=t,o=xn=!0):o=!1),o?(t.effectTag|=2,t.child=St(t,null,r,n)):(An(e,t,r,n),Tn()),t=t.child),t;case 5:return jt(t),null===e&&kn(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,i=o.children,N(r,o)?i=null:null!==a&&N(r,a)&&(t.effectTag|=16),Rn(e,t),1!==n&&1&t.mode&&F(r,o)?(t.expirationTime=t.childExpirationTime=1,t=null):(An(e,t,i,n),t=t.child),t;case 6:return null===e&&kn(t),null;case 13:return $n(e,t,n);case 4:return Mt(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xt(t,null,r,n):An(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,jn(e,t,r,o=t.elementType===r?o:dt(r,o),n);case 7:return An(e,t,t.pendingProps,n),t.child;case 8:case 12:return An(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,Wn(t,a=o.value),null!==i){var l=i.value;if(0===(a=lt(l,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(i.children===o.children&&!Re.current){t=zn(e,t,n);break e}}else for(null!==(l=t.child)&&(l["return"]=t);null!==l;){var u=l.contextDependencies;if(null!==u){i=l.child;for(var c=u.first;null!==c;){if(c.context===r&&0!=(c.observedBits&a)){1===l.tag&&((c=ar(n)).tag=er,sr(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),c=n;for(var d=l["return"];null!==d;){var f=d.alternate;if(d.childExpirationTime<c)d.childExpirationTime=c,null!==f&&f.childExpirationTime<c&&(f.childExpirationTime=c);else{if(!(null!==f&&f.childExpirationTime<c))break;f.childExpirationTime=c}d=d["return"]}u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else i=10===l.tag&&l.type===t.type?null:l.child;if(null!==i)i["return"]=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l["return"]=i["return"],i=l;break}i=i["return"]}l=i}}An(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,Xn(t,n),r=r(o=Zn(o,a.unstable_observedBits)),t.effectTag|=1,An(e,t,r,n),t.child;case 14:return a=dt(o=t.type,t.pendingProps),In(e,t,o,a=dt(o.type,a),r,n);case 15:return Ln(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Fe(r)?(e=!0,Ve(t)):e=!1,Xn(t,n),yt(t,r,o),_t(t,r,o,n),Fn(null,t,r,!0,e,n)}s("156")}var Vn={current:null},Kn=null,Gn=null,qn=null;function Wn(e,t){var n=e.type._context;X?(je(Vn,n._currentValue),n._currentValue=t):(je(Vn,n._currentValue2),n._currentValue2=t)}function Yn(e){var t=Vn.current;Ae(Vn),e=e.type._context,X?e._currentValue=t:e._currentValue2=t}function Xn(e,t){Kn=e,qn=Gn=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(Dn=!0),e.contextDependencies=null}function Zn(e,t){return qn!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(qn=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Gn?(null===Kn&&s("308"),Gn=t,Kn.contextDependencies={first:t,expirationTime:0}):Gn=Gn.next=t),X?e._currentValue:e._currentValue2}var Jn=0,Qn=1,er=2,tr=3,nr=!1;function rr(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function or(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ar(e){return{expirationTime:e,tag:Jn,payload:null,callback:null,next:null,nextEffect:null}}function ir(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function sr(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,o=null;null===r&&(r=e.updateQueue=rr(e.memoizedState))}else r=e.updateQueue,o=n.updateQueue,null===r?null===o?(r=e.updateQueue=rr(e.memoizedState),o=n.updateQueue=rr(n.memoizedState)):r=e.updateQueue=or(o):null===o&&(o=n.updateQueue=or(r));null===o||r===o?ir(r,t):null===r.lastUpdate||null===o.lastUpdate?(ir(r,t),ir(o,t)):(ir(r,t),o.lastUpdate=t)}function lr(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=rr(e.memoizedState):ur(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ur(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=or(t)),t}function cr(e,t,n,r,a,i){switch(n.tag){case Qn:return"function"==typeof(e=n.payload)?e.call(i,r,a):e;case tr:e.effectTag=-2049&e.effectTag|64;case Jn:if(null==(a="function"==typeof(e=n.payload)?e.call(i,r,a):e))break;return o({},r,a);case er:nr=!0}return r}function dr(e,t,n,r,o){nr=!1;for(var a=(t=ur(e,t)).baseState,i=null,s=0,l=t.firstUpdate,u=a;null!==l;){var c=l.expirationTime;c<o?(null===i&&(i=l,a=u),s<c&&(s=c)):(u=cr(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<o?(null===c&&(c=l,null===i&&(a=u)),s<d&&(s=d)):(u=cr(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===i&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===i&&null===c&&(a=u),t.baseState=a,t.firstUpdate=i,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=u}function fr(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),pr(t.firstEffect,n),t.firstEffect=t.lastEffect=null,pr(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function pr(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&s("191",n),n.call(r)}e=e.nextEffect}}function hr(e,t){return{value:e,source:t,stack:Te(t)}}function gr(e){e.effectTag|=4}var yr=void 0,mr=void 0,_r=void 0,vr=void 0;if(Z)yr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)L(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child["return"]=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n["return"]||n["return"]===t)return;n=n["return"]}n.sibling["return"]=n["return"],n=n.sibling}},mr=function(){},_r=function(e,t,n,r,o){if((e=e.memoizedProps)!==r){var a=t.stateNode,i=At();n=B(a,n,e,r,o,i),(t.updateQueue=n)&&gr(t)}},vr=function(e,t,n,r){n!==r&&gr(t)};else if(J){yr=function(e,t,n,r){for(var o=t.child;null!==o;){e:if(5===o.tag){var a=o.stateNode;if(n){var i=o.memoizedProps,s=o.type;a=r?ve(a,s,i,o):be(a,s,i,o),o.stateNode=a}L(e,a)}else if(6===o.tag)a=o.stateNode,n&&(a=o.memoizedProps,i=Tt(Et.current),s=At(),a=r?we(a,i,s,t):H(a,i,s,t),o.stateNode=a),L(e,a);else if(4!==o.tag){if(13===o.tag&&(null!==(i=o.alternate)&&(a=null!==o.memoizedState,null!==i.memoizedState!==a))){null!==(i=a?o.child:o)&&yr(e,i,!0,a);break e}if(null!==o.child){o.child["return"]=o,o=o.child;continue}}if(o===t)break;for(;null===o.sibling;){if(null===o["return"]||o["return"]===t)return;o=o["return"]}o.sibling["return"]=o["return"],o=o.sibling}};var br=function(e,t,n,r){for(var o=t.child;null!==o;){e:if(5===o.tag){var a=o.stateNode;if(n){var i=o.memoizedProps,s=o.type;a=r?ve(a,s,i,o):be(a,s,i,o),o.stateNode=a}ye(e,a)}else if(6===o.tag)a=o.stateNode,n&&(a=o.memoizedProps,i=Tt(Et.current),s=At(),a=r?we(a,i,s,t):H(a,i,s,t),o.stateNode=a),ye(e,a);else if(4!==o.tag){if(13===o.tag&&(null!==(i=o.alternate)&&(a=null!==o.memoizedState,null!==i.memoizedState!==a))){null!==(i=a?o.child:o)&&br(e,i,!0,a);break e}if(null!==o.child){o.child["return"]=o,o=o.child;continue}}if(o===t)break;for(;null===o.sibling;){if(null===o["return"]||o["return"]===t)return;o=o["return"]}o.sibling["return"]=o["return"],o=o.sibling}};mr=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=ge(n);br(r,e,!1,!1),t.pendingChildren=r,gr(e),me(n,r)}},_r=function(e,t,n,r,o){var a=e.stateNode,i=e.memoizedProps;if((e=null===t.firstEffect)&&i===r)t.stateNode=a;else{var s=t.stateNode,l=At(),u=null;i!==r&&(u=B(s,n,i,r,o,l)),e&&null===u?t.stateNode=a:(a=he(a,u,n,i,r,t,e,s),R(a,n,r,o,l)&&gr(t),t.stateNode=a,e?gr(t):yr(a,t,!1,!1))}},vr=function(e,t,n,r){n!==r&&(e=Tt(Et.current),n=At(),t.stateNode=H(r,e,n,t),gr(t))}}else mr=function(){},_r=function(){},vr=function(){};var wr="function"==typeof WeakSet?WeakSet:Set;function Cr(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=Te(n)),null!==n&&S(n.type),t=t.value,null!==e&&1===e.tag&&S(e.type);try{console.error(t)}catch(o){setTimeout(function(){throw o})}}function xr(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){ao(e,n)}else t.current=null}function Sr(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Lt){var o=r.destroy;r.destroy=void 0,void 0!==o&&o()}(r.tag&t)!==Lt&&(o=r.create,r.destroy=o()),r=r.next}while(r!==n)}}function Pr(e){switch("function"==typeof qe&&qe(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var o=e;try{r()}catch(a){ao(o,a)}}n=n.next}while(n!==t)}break;case 1:if(xr(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){ao(e,a)}break;case 5:xr(e);break;case 4:Z?Tr(e):J&&J&&(e=e.stateNode.containerInfo,t=ge(e),_e(e,t))}}function kr(e){for(var t=e;;)if(Pr(t),null===t.child||Z&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t["return"]||t["return"]===e)return;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}else t.child["return"]=t,t=t.child}function Or(e){return 5===e.tag||3===e.tag||4===e.tag}function Er(e){if(Z){e:{for(var t=e["return"];null!==t;){if(Or(t)){var n=t;break e}t=t["return"]}s("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:s("161")}16&n.effectTag&&(ue(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n["return"]||Or(n["return"])){n=null;break e}n=n["return"]}for(n.sibling["return"]=n["return"],n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child["return"]=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)n?r?ie(t,o.stateNode,n):ae(t,o.stateNode,n):r?te(t,o.stateNode):ee(t,o.stateNode);else if(4!==o.tag&&null!==o.child){o.child["return"]=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o["return"]||o["return"]===e)return;o=o["return"]}o.sibling["return"]=o["return"],o=o.sibling}}}function Tr(e){for(var t=e,n=!1,r=void 0,o=void 0;;){if(!n){n=t["return"];e:for(;;){switch(null===n&&s("160"),n.tag){case 5:r=n.stateNode,o=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break e}n=n["return"]}n=!0}if(5===t.tag||6===t.tag)kr(t),o?le(r,t.stateNode):se(r,t.stateNode);else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,o=!0,t.child["return"]=t,t=t.child;continue}}else if(Pr(t),null!==t.child){t.child["return"]=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t["return"]||t["return"]===e)return;4===(t=t["return"]).tag&&(n=!1)}t.sibling["return"]=t["return"],t=t.sibling}}function Mr(e,t){if(Z)switch(t.tag){case 0:case 11:case 14:case 15:Sr(Bt,Nt,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&oe(n,a,o,e,r,t)}break;case 6:null===t.stateNode&&s("162"),n=t.memoizedProps,ne(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=Io())),null!==e&&function(e,t){if(Z)for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?ce(r):fe(n.stateNode,n.memoizedProps)}else if(6===n.tag)r=n.stateNode,t?de(r):pe(r,n.memoizedProps);else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling)["return"]=n,n=r;continue}if(null!==n.child){n.child["return"]=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n["return"]||n["return"]===e)return;n=n["return"]}n.sibling["return"]=n["return"],n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new wr),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n["delete"](t),t=io(t=Io(),e),null!==(e=lo(e,t))&&(ot(e,t),0!==(t=e.expirationTime)&&Lo(e,t))}.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))})}break;case 17:break;default:s("163")}else{switch(t.tag){case 0:case 11:case 14:case 15:return void Sr(Bt,Nt,t)}!function(e){if(J)switch(e.tag){case 1:case 5:case 6:break;case 3:case 4:e=e.stateNode,_e(e.containerInfo,e.pendingChildren);break;default:s("163")}}(t)}}var Dr="function"==typeof WeakMap?WeakMap:Map;function Ar(e,t,n){(n=ar(n)).tag=tr,n.payload={element:null};var r=t.value;return n.callback=function(){Vo(r),Cr(e,t)},n}function jr(e,t,n){(n=ar(n)).tag=tr;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Yr?Yr=new Set([this]):Yr.add(this));var n=t.value,o=t.stack;Cr(e,t),this.componentDidCatch(n,{componentStack:null!==o?o:""})}),n}function Ir(e){switch(e.tag){case 1:Fe(e.type)&&He();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Dt(),$e(),0!=(64&(t=e.effectTag))&&s("285"),e.effectTag=-2049&t|64,e;case 5:return It(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Dt(),null;case 10:return Yn(e),null;default:return null}}var Lr=l.ReactCurrentDispatcher,Rr=l.ReactCurrentOwner,Br=1073741822,Nr=!1,Fr=null,Hr=null,$r=0,zr=-1,Ur=!1,Vr=null,Kr=!1,Gr=null,qr=null,Wr=null,Yr=null;function Xr(){if(null!==Fr)for(var e=Fr["return"];null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&He();break;case 3:Dt(),$e();break;case 5:It(t);break;case 4:Dt();break;case 10:Yn(t)}e=e["return"]}Hr=null,$r=0,zr=-1,Ur=!1,Fr=null}function Zr(){for(;null!==Vr;){var e=Vr.effectTag;if(16&e&&Z&&ue(Vr.stateNode),128&e){var t=Vr.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:Er(Vr),Vr.effectTag&=-3;break;case 6:Er(Vr),Vr.effectTag&=-3,Mr(Vr.alternate,Vr);break;case 4:Mr(Vr.alternate,Vr);break;case 8:e=Vr,Z?Tr(e):kr(e),e["return"]=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e["return"]=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Vr=Vr.nextEffect}}function Jr(){for(;null!==Vr;){if(256&Vr.effectTag)e:{var e=Vr.alternate,t=Vr;switch(t.tag){case 0:case 11:case 15:Sr(Rt,Lt,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:dt(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:s("163")}}Vr=Vr.nextEffect}}function Qr(e,t){for(;null!==Vr;){var n=Vr.effectTag;if(36&n){var r=Vr.alternate,o=Vr,a=t;switch(o.tag){case 0:case 11:case 15:Sr(Ft,Ht,o);break;case 1:var i=o.stateNode;if(4&o.effectTag)if(null===r)i.componentDidMount();else{var l=o.elementType===o.type?r.memoizedProps:dt(o.type,r.memoizedProps);i.componentDidUpdate(l,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}null!==(r=o.updateQueue)&&fr(0,r,i);break;case 3:if(null!==(r=o.updateQueue)){if(i=null,null!==o.child)switch(o.child.tag){case 5:i=T(o.child.stateNode);break;case 1:i=o.child.stateNode}fr(0,r,i)}break;case 5:a=o.stateNode,null===r&&4&o.effectTag&&re(a,o.type,o.memoizedProps,o);break;case 6:case 4:case 12:case 13:case 17:break;default:s("163")}}if(128&n&&null!==(o=Vr.ref)){switch(a=Vr.stateNode,Vr.tag){case 5:a=T(a)}"function"==typeof o?o(a):o.current=a}512&n&&(Gr=e),Vr=Vr.nextEffect}}function eo(){null!==qr&&W(qr),null!==Wr&&Wr()}function to(e,t){Kr=Nr=!0,e.current===t&&s("177");var n=e.pendingCommitExpirationTime;0===n&&s("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,o=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?ot(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,ot(e,t)):t>n&&ot(e,t)}st(0,e)}(e,o>r?o:r),Rr.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,A(e.containerInfo),Vr=r;null!==Vr;){o=!1;var a=void 0;try{Jr()}catch(u){o=!0,a=u}o&&(null===Vr&&s("178"),ao(Vr,a),null!==Vr&&(Vr=Vr.nextEffect))}for(Vr=r;null!==Vr;){o=!1,a=void 0;try{Zr()}catch(u){o=!0,a=u}o&&(null===Vr&&s("178"),ao(Vr,a),null!==Vr&&(Vr=Vr.nextEffect))}for(j(e.containerInfo),e.current=t,Vr=r;null!==Vr;){o=!1,a=void 0;try{Qr(e,n)}catch(u){o=!0,a=u}o&&(null===Vr&&s("178"),ao(Vr,a),null!==Vr&&(Vr=Vr.nextEffect))}if(null!==r&&null!==Gr){var l=function(e,t){Wr=qr=Gr=null;var n=yo;yo=!0;do{if(512&t.effectTag){var r=!1,o=void 0;try{var a=t;Sr(zt,Lt,a),Sr(Lt,$t,a)}catch(l){r=!0,o=l}r&&ao(t,o)}t=t.nextEffect}while(null!==t);yo=n,0!==(n=e.expirationTime)&&Lo(e,n),Co||yo||Ho(1073741823,!1)}.bind(null,e,r);qr=i.unstable_runWithPriority(i.unstable_NormalPriority,function(){return q(l)}),Wr=l}Nr=Kr=!1,"function"==typeof Ge&&Ge(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Yr=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function no(e){for(;;){var t=e.alternate,n=e["return"],r=e.sibling;if(0==(1024&e.effectTag)){Fr=e;e:{var o=t,a=$r,i=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Fe(t.type)&&He();break;case 3:Dt(),$e(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==o&&null!==o.child||(En(t),t.effectTag&=-3),mr(t);break;case 5:It(t),a=Tt(Et.current);var l=t.type;if(null!==o&&null!=t.stateNode)_r(o,t,l,i,a),o.ref!==t.ref&&(t.effectTag|=128);else if(i){if(o=At(),En(t))i=t,Q||s("175"),o=ke(i.stateNode,i.type,i.memoizedProps,a,o,i),i.updateQueue=o,(o=null!==o)&&gr(t);else{var u=I(l,i,a,o,t);yr(u,t,!1,!1),R(u,l,i,a,o)&&gr(t),t.stateNode=u}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&s("166");break;case 6:o&&null!=t.stateNode?vr(o,t,o.memoizedProps,i):("string"!=typeof i&&(null===t.stateNode&&s("166")),o=Tt(Et.current),a=At(),En(t)?(o=t,Q||s("176"),(o=Oe(o.stateNode,o.memoizedProps,o))&&gr(t)):t.stateNode=H(i,o,a,t));break;case 11:break;case 13:if(i=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=a,Fr=t;break e}i=null!==i,a=null!==o&&null!==o.memoizedState,null!==o&&!i&&a&&(null!==(o=o.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=o,o.nextEffect=l):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(i||a)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Dt(),mr(t);break;case 10:Yn(t);break;case 9:case 14:break;case 17:Fe(t.type)&&He();break;case 18:break;default:s("156")}Fr=null}if(t=e,1===$r||1!==t.childExpirationTime){for(o=0,i=t.child;null!==i;)(a=i.expirationTime)>o&&(o=a),(l=i.childExpirationTime)>o&&(o=l),i=i.sibling;t.childExpirationTime=o}if(null!==Fr)return Fr;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Ir(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function ro(e){var t=Un(e.alternate,e,$r);return e.memoizedProps=e.pendingProps,null===t&&(t=no(e)),Rr.current=null,t}function oo(e,t){Nr&&s("243"),eo(),Nr=!0;var n=Lr.current;Lr.current=_n;var r=e.nextExpirationTimeToWorkOn;r===$r&&e===Hr&&null!==Fr||(Xr(),$r=r,Fr=Je((Hr=e).current,null),e.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(t)for(;null!==Fr&&!No();)Fr=ro(Fr);else for(;null!==Fr;)Fr=ro(Fr)}catch(m){if(qn=Gn=Kn=null,sn(),null===Fr)o=!0,Vo(m);else{null===Fr&&s("271");var a=Fr,i=a["return"];if(null!==i){e:{var l=e,u=i,c=a,d=m;if(i=$r,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==d&&"object"==typeof d&&"function"==typeof d.then){var f=d;d=u;var p=-1,h=-1;do{if(13===d.tag){var g=d.alternate;if(null!==g&&null!==(g=g.memoizedState)){h=10*(1073741822-g.timedOutAt);break}"number"==typeof(g=d.pendingProps.maxDuration)&&(0>=g?p=0:(-1===p||g<p)&&(p=g))}d=d["return"]}while(null!==d);d=u;do{if((g=13===d.tag)&&(g=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),g){if(null===(u=d.updateQueue)?((u=new Set).add(f),d.updateQueue=u):u.add(f),0==(1&d.mode)){d.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((i=ar(1073741823)).tag=er,sr(c,i))),c.expirationTime=1073741823;break e}u=i;var y=(c=l).pingCache;null===y?(y=c.pingCache=new Dr,g=new Set,y.set(f,g)):void 0===(g=y.get(f))&&(g=new Set,y.set(f,g)),g.has(u)||(g.add(u),c=so.bind(null,c,f,u),f.then(c,c)),-1===p?l=1073741823:(-1===h&&(h=10*(1073741822-it(l,i))-5e3),l=h+p),0<=l&&zr<l&&(zr=l),d.effectTag|=2048,d.expirationTime=i;break e}d=d["return"]}while(null!==d);d=Error((S(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Te(c))}Ur=!0,d=hr(d,c),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=i,lr(l,i=Ar(l,d,i));break e;case 1:if(p=d,h=l.type,c=l.stateNode,0==(64&l.effectTag)&&("function"==typeof h.getDerivedStateFromError||null!==c&&"function"==typeof c.componentDidCatch&&(null===Yr||!Yr.has(c)))){l.effectTag|=2048,l.expirationTime=i,lr(l,i=jr(l,p,i));break e}}l=l["return"]}while(null!==l)}Fr=no(a);continue}o=!0,Vo(m)}}break}if(Nr=!1,Lr.current=n,qn=Gn=Kn=null,sn(),o)Hr=null,e.finishedWork=null;else if(null!==Fr)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&s("281"),Hr=null,Ur){if(o=e.latestPendingTime,a=e.latestSuspendedTime,i=e.latestPingedTime,0!==o&&o<r||0!==a&&a<r||0!==i&&i<r)return at(e,r),void jo(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void jo(e,n,r,t,-1)}t&&-1!==zr?(at(e,r),(t=10*(1073741822-it(e,r)))<zr&&(zr=t),t=10*(1073741822-Io()),t=zr-t,jo(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function ao(e,t){for(var n=e["return"];null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Yr||!Yr.has(r)))return sr(n,e=jr(n,e=hr(t,e),1073741823)),void uo(n,1073741823);break;case 3:return sr(n,e=Ar(n,e=hr(t,e),1073741823)),void uo(n,1073741823)}n=n["return"]}3===e.tag&&(sr(e,n=Ar(e,n=hr(t,e),1073741823)),uo(e,1073741823))}function io(e,t){var n=i.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(Nr&&!Kr)r=$r;else{switch(n){case i.unstable_ImmediatePriority:r=1073741823;break;case i.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case i.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case i.unstable_LowPriority:case i.unstable_IdlePriority:r=1;break;default:s("313")}null!==Hr&&r===$r&&--r}return n===i.unstable_UserBlockingPriority&&(0===vo||r<vo)&&(vo=r),r}function so(e,t,n){var r=e.pingCache;null!==r&&r["delete"](t),null!==Hr&&$r===n?Hr=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),st(n,e),0!==(n=e.expirationTime)&&Lo(e,n)))}function lo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e["return"],o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r["return"]&&3===r.tag){o=r.stateNode;break}r=r["return"]}return o}function uo(e,t){null!==(e=lo(e,t))&&(!Nr&&0!==$r&&t>$r&&Xr(),ot(e,t),Nr&&!Kr&&Hr===e||Lo(e,e.expirationTime),To>Eo&&(To=0,s("185")))}function co(e,t,n,r,o){return i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){return e(t,n,r,o)})}var fo=null,po=null,ho=0,go=void 0,yo=!1,mo=null,_o=0,vo=0,bo=!1,wo=null,Co=!1,xo=!1,So=null,Po=Y(),ko=1073741822-(Po/10|0),Oo=ko,Eo=50,To=0,Mo=null;function Do(){ko=1073741822-((Y()-Po)/10|0)}function Ao(e,t){if(0!==ho){if(t<ho)return;null!==go&&z(go)}ho=t,e=Y()-Po,go=$(Fo,{timeout:10*(1073741822-t)-e})}function jo(e,t,n,r,o){e.expirationTime=r,0!==o||No()?0<o&&(e.timeoutHandle=V(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,Do(),Oo=ko,$o(e,n)}.bind(null,e,t,n),o)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Io(){return yo?Oo:(Ro(),0!==_o&&1!==_o||(Do(),Oo=ko),Oo)}function Lo(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===po?(fo=po=e,e.nextScheduledRoot=e):(po=po.nextScheduledRoot=e).nextScheduledRoot=fo):t>e.expirationTime&&(e.expirationTime=t),yo||(Co?xo&&(mo=e,_o=1073741823,zo(e,1073741823,!1)):1073741823===t?Ho(1073741823,!1):Ao(e,t))}function Ro(){var e=0,t=null;if(null!==po)for(var n=po,r=fo;null!==r;){var o=r.expirationTime;if(0===o){if((null===n||null===po)&&s("244"),r===r.nextScheduledRoot){fo=po=r.nextScheduledRoot=null;break}if(r===fo)fo=o=r.nextScheduledRoot,po.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===po){(po=n).nextScheduledRoot=fo,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(o>e&&(e=o,t=r),r===po)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}mo=t,_o=e}var Bo=!1;function No(){return!!Bo||!!U()&&(Bo=!0)}function Fo(){try{if(!No()&&null!==fo){Do();var e=fo;do{var t=e.expirationTime;0!==t&&ko<=t&&(e.nextExpirationTimeToWorkOn=ko),e=e.nextScheduledRoot}while(e!==fo)}Ho(0,!0)}finally{Bo=!1}}function Ho(e,t){if(Ro(),t)for(Do(),Oo=ko;null!==mo&&0!==_o&&e<=_o&&!(Bo&&ko>_o);)zo(mo,_o,ko>_o),Ro(),Do(),Oo=ko;else for(;null!==mo&&0!==_o&&e<=_o;)zo(mo,_o,!1),Ro();if(t&&(ho=0,go=null),0!==_o&&Ao(mo,_o),To=0,Mo=null,null!==So)for(e=So,So=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(r){bo||(bo=!0,wo=r)}}if(bo)throw e=wo,wo=null,bo=!1,e}function $o(e,t){yo&&s("253"),mo=e,_o=t,zo(e,t,!1),Ho(1073741823,!1)}function zo(e,t,n){if(yo&&s("245"),yo=!0,n){var r=e.finishedWork;null!==r?Uo(e,r,t):(e.finishedWork=null,(r=e.timeoutHandle)!==G&&(e.timeoutHandle=G,K(r)),oo(e,n),null!==(r=e.finishedWork)&&(No()?e.finishedWork=r:Uo(e,r,t)))}else null!==(r=e.finishedWork)?Uo(e,r,t):(e.finishedWork=null,(r=e.timeoutHandle)!==G&&(e.timeoutHandle=G,K(r)),oo(e,n),null!==(r=e.finishedWork)&&Uo(e,r,t));yo=!1}function Uo(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===So?So=[r]:So.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===Mo?To++:(Mo=e,To=0),i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){to(e,t)})}function Vo(e){null===mo&&s("246"),mo.expirationTime=0,bo||(bo=!0,wo=e)}function Ko(e,t,n,r,o){var a=t.current;e:if(n){t:{2===P(n=n._reactInternalFiber)&&1===n.tag||s("170");var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break t;case 1:if(Fe(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break t}}i=i["return"]}while(null!==i);s("171"),i=void 0}if(1===n.tag){var l=n.type;if(Fe(l)){n=Ue(n,l,i);break e}}n=i}else n=Ie;return null===t.context?t.context=n:t.pendingContext=n,t=o,(o=ar(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),eo(),sr(a,o),uo(a,r),r}function Go(e){var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?s("188"):s("268",Object.keys(e))),null===(e=E(t))?null:e.stateNode}var qo={updateContainerAtExpirationTime:Ko,createContainer:function(e,t,n){return e={current:t=Xe(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:G,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e},updateContainer:function(e,t,n,r){var o=t.current;return Ko(e,t,n,o=io(Io(),o),r)},flushRoot:$o,requestWork:Lo,computeUniqueAsyncExpiration:function(){var e=1073741822-25*(1+((1073741822-Io()+500)/25|0));return e>=Br&&(e=Br-1),Br=e},batchedUpdates:function(e,t){var n=Co;Co=!0;try{return e(t)}finally{(Co=n)||yo||Ho(1073741823,!1)}},unbatchedUpdates:function(e,t){if(Co&&!xo){xo=!0;try{return e(t)}finally{xo=!1}}return e(t)},deferredUpdates:i.unstable_next,syncUpdates:co,interactiveUpdates:function(e,t,n){Co||yo||0===vo||(Ho(vo,!1),vo=0);var r=Co;Co=!0;try{return i.unstable_runWithPriority(i.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(Co=r)||yo||Ho(1073741823,!1)}},flushInteractiveUpdates:function(){yo||0===vo||(Ho(vo,!1),vo=0)},flushControlled:function(e){var t=Co;Co=!0;try{co(e)}finally{(Co=t)||yo||Ho(1073741823,!1)}},flushSync:function(e,t){yo&&s("187");var n=Co;Co=!0;try{return co(e,t)}finally{Co=n,Ho(1073741823,!1)}},getPublicRootInstance:function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return T(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:Go,findHostInstanceWithWarning:function(e){return Go(e)},findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=O(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child["return"]=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}}return null}(e))?null:e.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ge=We(function(e){return t.onCommitFiberRoot(n,e)}),qe=We(function(e){return t.onCommitFiberUnmount(n,e)})}catch(r){}return!0}(o({},e,{overrideProps:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=E(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}};e.exports=qo["default"]||qo;var Wo=e.exports;return e.exports=r,Wo}},function(e,t,n){"use strict";t.__esModule=!0,t.getClosestInstanceFromNode=function(e){if(e[a])return e[a];for(;!e[a];){if(!e.parentNode)return null;e=e.parentNode}var t=e[a];if(t.tag===r||t.tag===o)return t;return null};var r=5,o=6,a="__reactInternalInstance$"+Math.random().toString(36).slice(2)},function(e,t,n){"use strict";t.__esModule=!0,t.supportsMutation=t.isPrimaryRenderer=t.cancelPassiveEffects=t.schedulePassiveEffects=t.noTimeout=t.cancelTimeout=t.scheduleTimeout=t.cancelDeferredCallback=t.shouldYield=t.scheduleDeferredCallback=t.now=undefined;var r=n(1253);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(1254);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=n(968);Object.defineProperty(t,"now",{enumerable:!0,get:function(){return a.unstable_now}}),Object.defineProperty(t,"scheduleDeferredCallback",{enumerable:!0,get:function(){return a.unstable_scheduleCallback}}),Object.defineProperty(t,"shouldYield",{enumerable:!0,get:function(){return a.unstable_shouldYield}}),Object.defineProperty(t,"cancelDeferredCallback",{enumerable:!0,get:function(){return a.unstable_cancelCallback}}),t.appendInitialChild=function(e,t){if("string"==typeof t)return void(0,l["default"])(!1,'Don not use plain text as child of Konva.Node. You are using text: "%s"',t);e.add(t),(0,s.updatePicture)(e)},t.createInstance=function(e,t,n){var r=i["default"][e];if(!r)return void(0,l["default"])(o,'ReactKonva does not support the type "%s". If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html',e);var o=new r;return(0,s.applyNodeProps)(o,t),o},t.createTextInstance=function(e,t,n){(0,l["default"])(!1,'Text components are not supported for now in ReactKonva. You text is: "'+e+'"')},t.finalizeInitialChildren=function(e,t,n){return!1},t.getPublicInstance=function(e){return e},t.prepareForCommit=function(){},t.prepareUpdate=function(e,t,n,r){return d},t.resetAfterCommit=function(){},t.resetTextContent=function(e){},t.shouldDeprioritizeSubtree=function(e,t){return!1},t.getRootHostContext=function(){return c},t.getChildHostContext=function(){return c},t.shouldSetTextContent=function(e,t){return!1},t.appendChild=function(e,t){t.parent===e?t.moveToTop():e.add(t);(0,s.updatePicture)(e)},t.appendChildToContainer=function(e,t){t.parent===e?t.moveToTop():e.add(t);(0,s.updatePicture)(e)},t.insertBefore=function(e,t,n){(0,l["default"])(t!==n,"ReactKonva: Can not insert node before itself"),t.remove(),e.add(t),t.setZIndex(n.getZIndex()),(0,s.updatePicture)(e)},t.insertInContainerBefore=function(e,t,n){(0,l["default"])(t!==n,"ReactKonva: Can not insert node before itself"),t.remove(),e.add(t),t.setZIndex(n.getZIndex()),(0,s.updatePicture)(e)},t.removeChild=function(e,t){t.destroy(),t.off(s.EVENTS_NAMESPACE),(0,s.updatePicture)(e)},t.removeChildFromContainer=function(e,t){t.destroy(),t.off(s.EVENTS_NAMESPACE),(0,s.updatePicture)(e)},t.commitTextUpdate=function(e,t,n){(0,l["default"])(!1,'Text components are not yet supported in ReactKonva. You text is: "'+n+'"')},t.commitMount=function(e,t,n){},t.commitUpdate=function(e,t,n,r,o){(0,s.applyNodeProps)(e,o,r)},t.hideInstance=function(e){e.hide(),(0,s.updatePicture)(e)},t.hideTextInstance=function(e){},t.unhideInstance=function(e,t){(null==t.visible||t.visible)&&e.show()},t.unhideTextInstance=function(e,t){};var i=u(n(131)),s=n(942),l=u(n(878));function u(e){return e&&e.__esModule?e:{"default":e}}var c={},d={};i["default"].Node.prototype._applyProps=s.applyNodeProps;t.scheduleTimeout=setTimeout,t.cancelTimeout=clearTimeout,t.noTimeout=-1,t.schedulePassiveEffects=a.unstable_scheduleCallback,t.cancelPassiveEffects=a.unstable_cancelCallback;t.isPrimaryRenderer=!1,t.supportsMutation=!0},function(e,t,n){"use strict";t.__esModule=!0,t.createHiddenTextInstance=t.cloneUnhiddenInstance=t.cloneHiddenInstance=t.replaceContainerChildren=t.finalizeContainerChildren=t.appendChildToContainerChildSet=t.createContainerChildSet=t.cloneInstance=t.supportsPersistence=undefined;var r,o=n(878),a=(r=o)&&r.__esModule?r:{"default":r};function i(){(0,a["default"])(!1,"The current renderer does not support persistence. This error is likely caused by a bug in React. Please file an issue.")}t.supportsPersistence=!1,t.cloneInstance=i,t.createContainerChildSet=i,t.appendChildToContainerChildSet=i,t.finalizeContainerChildren=i,t.replaceContainerChildren=i,t.cloneHiddenInstance=i,t.cloneUnhiddenInstance=i,t.createHiddenTextInstance=i},function(e,t,n){"use strict";t.__esModule=!0,t.didNotFindHydratableTextInstance=t.didNotFindHydratableInstance=t.didNotFindHydratableContainerTextInstance=t.didNotFindHydratableContainerInstance=t.didNotHydrateInstance=t.didNotHydrateContainerInstance=t.didNotMatchHydratedTextInstance=t.didNotMatchHydratedContainerTextInstance=t.hydrateTextInstance=t.hydrateInstance=t.getFirstHydratableChild=t.getNextHydratableSibling=t.canHydrateTextInstance=t.canHydrateInstance=t.supportsHydration=undefined;var r,o=n(878),a=(r=o)&&r.__esModule?r:{"default":r};function i(){(0,a["default"])(!1,"The current renderer does not support hyration. This error is likely caused by a bug in React. Please file an issue.")}t.supportsHydration=!1,t.canHydrateInstance=i,t.canHydrateTextInstance=i,t.getNextHydratableSibling=i,t.getFirstHydratableChild=i,t.hydrateInstance=i,t.hydrateTextInstance=i,t.didNotMatchHydratedContainerTextInstance=i,t.didNotMatchHydratedTextInstance=i,t.didNotHydrateContainerInstance=i,t.didNotHydrateInstance=i,t.didNotFindHydratableContainerInstance=i,t.didNotFindHydratableContainerTextInstance=i,t.didNotFindHydratableInstance=i,t.didNotFindHydratableTextInstance=i},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(1256)),d=s(n(6)),f=s(n(5)),p=window.$,h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){var t=window,n=t.renderAll,r=t.renderSymbol,o=t.renderActivePage,a=t.quickChoosePageId,i=t.renderPagesKeyArr,s=void 0===i?[]:i,l=t.notCanvasDev,u=f["default"].isMultiView();return-1!=s.indexOf(e.pageKey)||!(u&&!o)&&(!!n||!!e.noRender||!!r||!!o&&e.active||a==e.pageKey||e.active&&!l)},t.prototype.canvasList=function(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n="");var o=this.props.isPreview,a=void 0!==o&&o,i=[];return e.forEach(function(e,o){a||(e=d["default"].getAllValsContr({contrKey:e,symbolChild:t}),e=p.contrChangeSymbolVal(e,t));var s=e.type,u=e.id;p.isContrShow(e)&&i.push(l["default"].createElement(c["default"],{key:s+"_"+u,contr:e,symbolKey:n,children:t,childFunc:r.canvasList}))}),i},t.prototype.render=function(){var e=this.props.contrs;return this.canvasList(e)},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object,Object,Object]),i("design:returntype",Array)],t.prototype,"canvasList",null),t}(l["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=n(28),f=u(n(3)),p=u(n(1257)),h=u(n(1260)),g=u(n(1263)),y=u(n(1265)),m=u(n(1267)),_=u(n(1268)),v=u(n(1269)),b=u(n(1270)),w=u(n(52)),C=u(n(422)),x=u(n(423)),S=u(n(463)),P=u(n(879)),k=u(n(1271)),O=u(n(1272)),E=u(n(1273)),T=u(n(1274)),M=u(n(1275)),D=u(n(1276)),A=u(n(1278)),j=u(n(1279)),I=u(n(1280)),L=u(n(1281)),R=u(n(1282)),B=u(n(1283)),N=u(n(1286)),F=u(n(1287)),H=u(n(1288)),$=u(n(1289)),z=u(n(1290)),U=u(n(1292)),V=u(n(1293)),K=u(n(1294)),G=u(n(1295)),q=u(n(1296)),W=u(n(1297)),Y=u(n(1298)),X=u(n(1299)),Z=u(n(1300)),J=u(n(1301)),Q=u(n(1302)),ee=u(n(1303)),te=u(n(1304)),ne=u(n(1305)),re=u(n(1306)),oe=u(n(1308)),ae=u(n(1309)),ie=u(n(1310)),se=u(n(1314)),le=u(n(1315)),ue=u(n(36)),ce=window.$,de=function(e){function t(t){var n=e.call(this,t)||this;return n.groupDoms=null,n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){this.groupDoms&&this.groupDomsCacheFunc()},t.prototype.componentDidUpdate=function(){this.groupDoms&&this.groupDomsCacheFunc()},t.prototype.groupDomsCacheFunc=function(){},t.prototype.getWrapboxDom=function(e){var t=this,n=this.props,r=n.symbolKey,o=n.children,i=n.childFunc,s=void 0===i?ce.noop:i,l=e.type,u=e.hierarchy,f=e.id,p=e.contrs,h=e.width,g=e.height,y=e.opacity,m=e.border,_=e.radius,v=e.shadow,b=e.isMaxRadius,k=e.insetBorder,O=[];u.forEach(function(e){O.unshift(p[e])});var E=!!v.length&&v[5],T=ce.isArray(_)&&!b,M=b?Math.min(h,g)/2:_;return c["default"].createElement(w["default"],{cssData:e,setArr:["setPosition","setRotate","setType"]},0==v||E?undefined:c["default"].createElement(C["default"],{data:e,shadow:v}),c["default"].createElement(S["default"],{data:e,width:h,height:g,type:l,id:f,radius:_,isMaxRadius:b,borderColor:m[0],borderSize:m[1],borderType:m[2]}),0!=v&&E?c["default"].createElement(x["default"],{data:e,shadow:v,borderType:m}):undefined,e.outerHidden?c["default"].createElement(d.Group,a({},T||e.outerHidden?a({},ue["default"].setClipArcRect(e,!0)):{},ue["default"].setOpacity(e),{ref:function(e){return t.groupDoms=e}}),c["default"].createElement(d.Rect,a({},ue["default"].setTextBgColor(e),{width:h,height:g,cornerRadius:T?0:M})),s(O,o,r)):c["default"].createElement(d.Group,a({},ue["default"].setOpacity(e),{ref:function(e){return t.groupDoms=e}}),c["default"].createElement(d.Group,a({},T?a({},ue["default"].setClipArcRect(e)):{}),c["default"].createElement(d.Rect,a({},ue["default"].setTextBgColor(e),{width:h,height:g,cornerRadius:T?0:M}))),s(O,o,r)),c["default"].createElement(d.Group,a({},T?a({},ue["default"].setClipArcRect(e)):{}),c["default"].createElement(P["default"],{data:e,width:h,height:g,opacity:y,radius:_,borderColor:k[0],borderSize:k[1],borderType:k[2],isMaxRadius:b,baseContrType:""})))},t.prototype.getSymbolDom=function(e){var t=this.props,n=t.childFunc,r=void 0===n?ce.noop:n,o=t.symbolKey,i=e.hierarchy,s=void 0===i?[]:i,l=e.contrs,u=e.scale,f=void 0===u?10:u,p=e.children,h=e.width,g=e.height,y=o+(o?"|":"")+ce.getContrId(e),m=[];return s.forEach(function(e){m.unshift(l[e])}),c["default"].createElement(d.Group,a({},ue["default"].setType(e),ue["default"].setPosition(e),ue["default"].setOpacity(e),{scale:{x:f/10,y:f/10},name:"symbol canvasContr"}),r(m,p,y),h&&g?c["default"].createElement(d.Rect,{width:h,height:g}):undefined)},t.prototype.render=function(){var e=this.props,t=e.contr,n=e.contr,r=n.type,o=n.id,a=e.symbolKey,i=null;switch(t.canvasSymbolKey=a,r){case"wrapbox":i=this.getWrapboxDom(t);break;case"symbol":i=this.getSymbolDom(t);break;case"miniBar":case"bar":case"horizontalBar":case"miniArea":case"lineChart":case"timelineChart":case"circle":case"miniCircle":case"pie":case"gauge":case"radar":case"waterWave":i=c["default"].createElement(ie["default"],{cssData:t,key:r+o});break;case"miniProgress":i=c["default"].createElement(se["default"],{cssData:t,key:r+o});break;case"progressCircle":i=c["default"].createElement(le["default"],{cssData:t,key:r+o});break;case"text":i=c["default"].createElement(h["default"],{cssData:t,key:r+o});break;case"image":i=c["default"].createElement(p["default"],{cssData:t,key:r+o});break;case"hotspot":i=c["default"].createElement(V["default"],{cssData:t,key:r+o});break;case"icon":i=c["default"].createElement(g["default"],{cssData:t,key:r+o});break;case"table":i=c["default"].createElement(y["default"],{cssData:t,key:r+o});break;case"webPage":i=c["default"].createElement(m["default"],{cssData:t,key:r+o});break;case"audio":i=c["default"].createElement(_["default"],{cssData:t,key:r+o});break;case"video":i=c["default"].createElement(v["default"],{cssData:t,key:r+o});break;case"map":i=c["default"].createElement(b["default"],{cssData:t,key:r+o});break;case"switch":i=c["default"].createElement(O["default"],{cssData:t,key:r+o});break;case"pagination":i=c["default"].createElement(k["default"],{cssData:t,key:r+o});break;case"slider":i=c["default"].createElement(E["default"],{cssData:t,key:r+o});break;case"radio":i=c["default"].createElement(T["default"],{cssData:t,key:r+o});break;case"dropdown":i=c["default"].createElement(M["default"],{cssData:t,key:r+o});break;case"select":i=c["default"].createElement(D["default"],{cssData:t,key:r+o});break;case"datePicker":i=c["default"].createElement(A["default"],{cssData:t,key:r+o});break;case"timePicker":i=c["default"].createElement(I["default"],{cssData:t,key:r+o});break;case"cascader":i=c["default"].createElement(j["default"],{cssData:t,key:r+o});break;case"treeSelect":i=c["default"].createElement(L["default"],{cssData:t,key:r+o});break;case"tree":i=c["default"].createElement(R["default"],{cssData:t,key:r+o});break;case"transfer":i=c["default"].createElement(N["default"],{cssData:t,key:r+o});break;case"calendar":i=c["default"].createElement(F["default"],{cssData:t,key:r+o});break;case"checkbox":i=c["default"].createElement(H["default"],{cssData:t,key:r+o});break;case"collapse":i=c["default"].createElement(z["default"],{cssData:t,key:r+o});break;case"menu":i=c["default"].createElement(B["default"],{cssData:t,key:r+o});break;case"carousel":i=c["default"].createElement($["default"],{cssData:t,key:r+o});break;case"rate":i=c["default"].createElement(U["default"],{cssData:t,key:r+o});break;case"rangeM":i=c["default"].createElement(K["default"],{cssData:t,key:r+o});break;case"stepperM":i=c["default"].createElement(G["default"],{cssData:t,key:r+o});break;case"paginationM":i=c["default"].createElement(q["default"],{cssData:t,key:r+o});break;case"carouselTextM":i=c["default"].createElement(W["default"],{cssData:t,key:r+o});break;case"segmentedControlM":i=c["default"].createElement(Y["default"],{cssData:t,key:r+o});break;case"switchM":i=c["default"].createElement(X["default"],{cssData:t,key:r+o});break;case"radioM":i=c["default"].createElement(Z["default"],{cssData:t,key:r+o});break;case"checkboxM":i=c["default"].createElement(J["default"],{cssData:t,key:r+o});break;case"menuM":i=c["default"].createElement(Q["default"],{cssData:t,key:r+o});break;case"pickerM":i=c["default"].createElement(ee["default"],{cssData:t,key:r+o});break;case"calendarM":i=c["default"].createElement(te["default"],{cssData:t,key:r+o});break;case"datePickerM":i=c["default"].createElement(ne["default"],{cssData:t,key:r+o});break;case"accordionM":i=c["default"].createElement(re["default"],{cssData:t,key:r+o});break;case"sliderM":i=c["default"].createElement(oe["default"],{cssData:t,key:r+o});break;case"carouselM":i=c["default"].createElement(ae["default"],{cssData:t,key:r+o})}return i},i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"groupDomsCacheFunc",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getWrapboxDom",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getSymbolDom",null),t}(c.Component);t["default"]=de},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(463)),h=l(n(879)),g=l(n(422)),y=l(n(423)),m=n(346),_=l(n(36)),v=window.$,b=v.getStaticUrl(),w=function(e){function t(t){var n=e.call(this,t)||this;n.imageDom=null,n.isLoad=!1;var r=new window.Image;return r.crossOrigin="Anonymous",n.state={img:r,isError:!1},n}return o(t,e),t.prototype.componentDidMount=function(){this.loadImage()},t.prototype.componentDidUpdate=function(){this.loadImage()},t.prototype.loadImage=function(){var e=this,t=e.props.cssData.src,n=void 0===t?"":t,r=e.state,o=r.img,a=r.isError,i=!n||n&&-1!=n.indexOf("defaultImg");if((!a&&!i||!e.isLoad)&&o.src!=b+n){if(i)return e.isLoad=!0,void e.setState({isError:!0});o.crossOrigin="Anonymous",o.onload=function(){if(!e.imageDom)return e.isLoad=!0,void e.setState({isError:!1});e.imageDom.getLayer().draw(),e.isLoad||(e.isLoad=!0,e.setState({isError:!1}))},o.onerror=function(){e.isLoad||(e.isLoad=!0,e.setState({isError:!0}))},o.src=b+n}},t.prototype.renderImg=function(e){var t=e.width,n=e.height,r=e.type,o=e.id;return u["default"].createElement(c.Text,a({},_["default"].setMdIcon(),_["default"].setOpacity(e),{key:r+o+"text",text:"photo_size_select_actual",fill:"#a2a2a2",fontSize:32.4,offsetX:-(t-32.4)/2,offsetY:-(n-32.4)/2}))},t.prototype.render=function(){var e=this,t=this.props.cssData,n=e.props.cssData,r=n.width,o=n.height,i=n.backColor,s=n.hasBackColor,l=n.type,d=n.id,b=n.shadow,w=void 0===b?0:b,C=n.border,x=n.radius,S=void 0===x?0:x,P=n.isMaxRadius,k=n.opacity,O=n.insetBorder,E=n.baseContrType,T=void 0===E?"":E,M=e.state,D=M.img,A=M.isError,j=!!("/images/defaultImg.png"==t.src||D&&D.src&&-1!=D.src.indexOf("defaultImg"));v.isArray(S),P&&Math.min(r,o);return u["default"].createElement(f["default"],{cssData:t,setArr:["setType","setPosition","setRotate"]},m.hasStyleInCanvas({data:t,compName:"OuterShadowComp"})&&u["default"].createElement(g["default"],{data:t,shadow:w}),m.hasStyleInCanvas({data:t,compName:"OuterBorderComp"})&&u["default"].createElement(p["default"],{data:t,width:r,height:o,type:l,id:d,radius:S,isMaxRadius:P,borderColor:C[0],borderSize:C[1],borderType:C[2]}),u["default"].createElement(c.Group,a({},_["default"].setClipArcRect(t),_["default"].setOpacity(t)),!e.isLoad||A||j?[u["default"].createElement(c.Rect,a({},_["default"].setOpacity(t),{"data-id":l+"_"+d,key:l+d+"bgColor",name:A||j?"":"canvas-img-loading",width:r,height:o,fill:s?i:"rgba(217, 217, 217, 1)"})),this.renderImg(t)]:u["default"].createElement(c.Image,a({"data-id":l+"_"+d,ref:function(t){return e.imageDom=t},name:D&&D.src?"":"canvas-img-loading",image:D},_["default"].setImgSize(t))),m.hasStyleInCanvas({data:t,compName:"InnerBorderComp"})&&u["default"].createElement(h["default"],{data:t,width:r,height:o,opacity:k,radius:S,borderColor:O[0],borderSize:O[1],borderType:O[2],isMaxRadius:P,baseContrType:T})),m.hasStyleInCanvas({data:t,compName:"InnerShadowComp"})&&u["default"].createElement(y["default"],{data:t,shadow:w,borderType:C}))},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"loadImage",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"renderImg",null),t}(u["default"].Component);t["default"]=w},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(36)),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.getSetVals=function(){var e=this.props,t=e.setArr,n=e.cssData,r={};return t.forEach(function(e){r=a({},r,u["default"][e](n))}),r},t.prototype.render=function(){return s["default"].createElement(l.Group,a({},this.getSetVals(),{listening:window.isPrototypeTool}),this.props.children)},t}(s["default"].Component);t["default"]=c},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(36));function a(e,t){$.isArray(e)?e.forEach(function(e){i(e,t)}):i(e,t)}function i(e,t){switch(e){case"setPosition":t.push("left","top");break;case"setPosi":t.push("width","height");break;case"setRotate":t.push("rotate");break;case"setType":t.push("type","id",["targetPage",function(e){return o["default"].getTargetPage(e)}]);break;case"setOpacity":t.push("opacity");break;case"setMaxRadius":t.push("isMaxRadius","height","width","radius");break;case"setBtnMaxRadius":t.push("btnIsMaxRadius","btnRadius","height");break;case"setSelectCompText":t.push("width");break;case"setNormalBorder":t.push("btnBorder","btnBorderColor");break;case"setDropDownWrapper":t.push("btnBorder","btnBackground");break;case"setRectClip":t.push("width","height");break;case"setRowClip":t.push("width","height","listHeight","data")}}t.getRenderVal=a,t["default"]={getRenderVal:a}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(463)),c=i(n(879)),d=i(n(1261)),f=i(n(1262)),p=i(n(422)),h=i(n(423)),g=i(n(52)),y=n(346),m=i(n(36)),_=window.$,v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.cssData,t=e.insetBorder,n=e.width,r=e.height,o=e.type,i=e.id,v=e.radius,b=void 0===v?0:v,w=e.isMaxRadius,C=e.baseContrType,x=e.opacity,S=e.hasBackColor,P=e.backColor,k=e.shadow,O=void 0===k?0:k,E=e.border,T=w?Math.min(n,r)/2:b,M=_.isArray(b)&&!w;return s["default"].createElement(g["default"],{cssData:e,setArr:["setType","setPosition","setRotate"]},y.hasStyleInCanvas({data:e,compName:"OuterShadowComp"})&&s["default"].createElement(p["default"],{data:e,shadow:O}),y.hasStyleInCanvas({data:e,compName:"OuterBorderComp"})&&s["default"].createElement(u["default"],{data:e,width:n,height:r,type:o,id:i,radius:b,isMaxRadius:w,borderColor:E[0],borderSize:E[1],borderType:E[2]}),Math.round(x)/100!=0?s["default"].createElement(l.Group,a({},M?a({},m["default"].setClipArcRect(e)):{},m["default"].setOpacity({opacity:x})),y.hasStyleInCanvas({data:e,compName:"BackgroundColorComp"})&&s["default"].createElement(d["default"],{data:e,width:n,height:r,hasBackColor:S,backColor:P,radius:T,isMaxRadius:w}),y.hasStyleInCanvas({data:e,compName:"TextContentCanvasComp"})&&s["default"].createElement(f["default"],{cssData:e}),y.hasStyleInCanvas({data:e,compName:"InnerBorderComp"})&&s["default"].createElement(c["default"],{data:e,width:n,height:r,opacity:x,radius:b,borderColor:t[0],borderSize:t[1],borderType:t[2],isMaxRadius:w,baseContrType:C})):undefined,y.hasStyleInCanvas({data:e,compName:"InnerShadowComp"})&&s["default"].createElement(h["default"],{data:e,shadow:O,borderType:E}))},t}(s["default"].Component);t["default"]=v},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=n(28),l=n(346),u=window.$,c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.width!=e.width||this.props.height!=e.height||this.props.hasBackColor!=e.hasBackColor||this.props.backColor!=e.backColor||this.props.radius!=e.radiu},t.prototype.render=function(){if(!l.hasStyleInCanvas({data:this.props.data,compName:"BackgroundColorComp"}))return null;var e=this.props,t=e.width,n=e.height,r=e.backColor,o=e.radius,a=e.isMaxRadius,c=u.isArray(o)&&!a;return i["default"].createElement(s.Rect,{width:t,height:n,fill:r,cornerRadius:c?0:o})},t}(i.Component);t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=n(28),f=l(n(36)),p=n(346),h=function(e){function t(t){var n=e.call(this,t)||this;n.filterDoms=null;var r=t.cssData.height;return n.state={textHeight:r},n}return o(t,e),t.prototype.componentDidMount=function(){this.getFilterDoms()},t.prototype.componentDidUpdate=function(){this.getFilterDoms()},t.prototype.setTextAlign=function(e){var t=this.state.textHeight,n=e.horizontal,r=e.vertical,o=e.width,a=e.height,i=e.fontSize,s=e.insetBorder,l=e.lineHeight,u="";switch(n){case"hL":u="left";break;case"hC":u=o<i?"left":"center";break;case"hR":u=o<i?"left":"right";break;case"hJ":u="justify"}var c=0,d=t;switch(l=(l+5)/10,r){case"vT":c=0+s[1];break;case"vM":c=(a-d)/2;break;case"vB":c=a-d-s[1]}return{align:u,lineHeight:l,y:c,fontSize:Math.ceil(i)}},t.prototype.getFilterDoms=function(){var e=this.props.cssData.vertical;if(this.filterDoms&&"vT"!=e){var t=this.state.textHeight,n=this.filterDoms.height();Math.round(t)!=Math.round(n)&&this.setState({textHeight:Math.round(n)})}},t.prototype.render=function(){var e=this;if(!p.hasStyleInCanvas({data:this.props.cssData,compName:"TextContentCanvasComp"}))return null;var t=this.props.cssData,n=t.content,r=t.insetBorder,o=t.width,i=t.textShadow,s=t.fontSize,l=t.indent,c=t.autoW,h=t.adjaceney;return u["default"].createElement(d.Text,a({},i>0?a({},f["default"].setTextShadow(t)):{},f["default"].setFontFamily4(),this.setTextAlign(t),c?{}:{width:o-2*r[1]<Math.ceil(s)?Math.ceil(s)-l:o-2*r[1]-l},{ref:function(t){return e.filterDoms=t},x:r[1]+l,text:n,fill:t.textColor,wrap:"char",fontStyle:(t.isI?"italic":"")+" "+(t.isB?"bold":"")},{textDecoration:(t.isU?"underline":"")+" "+(t.isS?"line-through":"")},{letterSpacing:Math.ceil(h)}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"setTextAlign",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getFilterDoms",null),t}(u["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(1264)),l=a(n(52)),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=e.cssData,r=n.iconKey,o=n.iconColor,a=n.width;return i["default"].createElement(l["default"],{cssData:t,setArr:["setType","setPosition","setRotate","setOpacity"]},i["default"].createElement(s["default"],{iconKey:r,iconColor:o,width:a}))},t}(i["default"].Component);t["default"]=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(36)),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.iconKey!=e.iconKey||this.props.iconColor!=e.iconColor||this.props.width!=e.width},t.prototype.render=function(){var e=this.props,t=e.iconKey,n=e.iconColor,r=e.width;return s["default"].createElement(l.Text,a({},u["default"].setMdIcon(),{text:t,fill:n,fontSize:r}))},t}(s["default"].Component);t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=n(28),f=l(n(52)),p=l(n(422)),h=l(n(423)),g=l(n(36)),y=l(n(1266)),m=window.isPrototypeTool?1:1.171875,_=function(e){function t(t){var n=e.call(this,t)||this;return n.state={textHeight:-1},n}return o(t,e),t.prototype.showTr=function(e){var t=this,n=[],r=0;return e.linePosi.forEach(function(o,a){n.push(t.showTd(r,o,e,a)),r+=o/m}),n},t.prototype.showTd=function(e,t,n,r){var o=[],i=0;return n.columnPosi.forEach(function(s,l){var c=!1;switch(n.styleIndex){case 1:case 2:r%2==0&&(c=!0);break;case 3:0==r&&(c=!0);break;case 4:0==l&&(c=!0);break;case 5:0!=l&&0!=r||(c=!0)}var f=n.child[l+"_"+r],p=0,h=0,_="",v="",b="",w=0,C="",x=!1,S=0,P="",k="",O="",E="",T=0,M=0;f&&(f.mergeLine&&(p=f.mergeLine),f.text&&(_=f.text.content,w=f.text.fontSize,v=f.text.horizontal,b=f.text.vertical,P=f.text.isB,k=f.text.isI,O=f.text.isU,E=f.text.isS,S=f.text.lineHeight==undefined?1.5:(f.text.lineHeight+5)/10,T=f.text.indent,M=f.text.adjaceney),C=f.hasBackColor?f.backColor||"rgba(153, 153, 153, 1)":"",f.mergeColumn&&(h=f.mergeColumn),f.mergeKey&&(x=!0));var D=0,A=0;if(p)for(var j=r;j<=p+r;j++)A+=n.linePosi[j];if(h)for(var I=l;I<=h+l;I++)D+=n.columnPosi[I];if(!x){if(!C||f&&!$.isUndefined(f.opacity)||C&&1!=$.getColorOpacity(C)){if(o.push(u["default"].createElement(d.Rect,a({x:i/m,y:e,width:h?D/m:s/m,height:p?A/m:t/m,fill:n.hasBackColor?n.backColor:""},g["default"].setInnerBorder(n),g["default"].setOpacity(n),{key:n.id+"rect"+l+r}))),C){var L=f.opacity/100*n.opacity/100;o.push(u["default"].createElement(d.Rect,{x:i/m,y:e,width:h?D/m:s/m,height:p?A/m:t/m,fill:C,opacity:L,key:n.id+"opacityColor"+l+r}))}}else o.push(u["default"].createElement(d.Rect,a({x:i/m,y:e,width:h?D/m:s/m,height:p?A/m:t/m,fill:C},g["default"].setInnerBorder(n),g["default"].setOpacity(n),{key:n.id+"rectColor"+l+r})));if(n.innerBorder&&!$.isUndefined(n.innerBorder[2])){var R=i/m,B=e,N=h?D/m:s/m,F=p?A/m:t/m;o.push(u["default"].createElement(d.Line,{key:n.id+"line"+l+r,points:[R,B,R+N,B,R+N,B+F,R,B+F,R,B],strokeWidth:n.innerBorder[1],stroke:n.innerBorder[0],lineJoin:"round",lineCap:2==n.innerBorder[2]?"round":"butt",dash:2==n.innerBorder[2]?[0,3,.001,3]:[3,2]}))}}c&&o.push(u["default"].createElement(d.Rect,a({x:i/m,y:e,width:h?D/m:s/m,height:p?A/m:t/m,fill:"rgba(0,0,0,0.06)"},g["default"].setOpacity(n),{key:n.id+"deepcolor"+l+r}))),_&&!x&&o.push(u["default"].createElement(y["default"],{key:n.id+"text"+l+r,x:(i+5)/m,y:e,indent:T,verticalType:b,text:_,width:(h?D/m:s/m)-10,height:p?A/m:t/m,align:$.changeHorTextStyle(v,!0),fill:f.text.textColor?f.text.textColor:"#505050",fontSize:w?w/m:14/m,lineHeight:S/m,cssData:n,fontStyle:(k?"italic":"")+" "+(P?"bold":""),isU:O,isS:E,adjaceney:M})),i+=s}),o},t.prototype.render=function(){var e=this.props.cssData,t=e.width,n=e.height,r=e.border,o=e.outerBorder,i=e.shadow,s=void 0===i?0:i,l=!!s.length&&s[5];return u["default"].createElement(f["default"],{cssData:e,setArr:["setType","setPosi","setPosition","setOpacity"]},u["default"].createElement(d.Rect,a({},g["default"].setOpacity(e))),this.showTr(e),u["default"].createElement(d.Rect,a({},g["default"].setBorderRect(e),g["default"].setOuterBorder(e),g["default"].setOpacity(e))),0==s||l?undefined:u["default"].createElement(p["default"],{data:e,shadow:s}),e.outerBorder&&!$.isUndefined(e.outerBorder[2])?u["default"].createElement(d.Line,a({},g["default"].setBorderType(o[0],o[1],o[2]),{points:[0,0,t,0,t,n,0,n,0,0],lineJoin:"round"})):undefined,0!=s&&l?u["default"].createElement(h["default"],{data:e,shadow:s,borderType:r}):undefined)},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",Object)],t.prototype,"showTr",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Number,Number,Object,Number]),s("design:returntype",Array)],t.prototype,"showTd",null),t}(u["default"].Component);t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(36)),p=function(e){function t(t){var n=e.call(this,t)||this;n.textDoms=null;var r=t.height;return n.state={textHeight:r},n}return o(t,e),t.prototype.componentDidMount=function(){this.getTextDoms()},t.prototype.componentDidUpdate=function(){this.getTextDoms()},t.prototype.getTextDoms=function(){var e=this.state.textHeight,t=this.props.verticalType;if(this.textDoms&&"vT"!=t){var n=this.textDoms.height();e!=n&&this.setState({textHeight:n})}},t.prototype.render=function(){var e,t=this,n=this.props,r=n.x,o=n.y,i=n.text,s=n.width,l=n.height,d=n.align,p=n.fill,h=n.fontSize,g=n.lineHeight,y=n.verticalType,m=n.fontStyle,_=n.isU,v=n.isS,b=n.indent,w=void 0===b?0:b,C=n.adjaceney,x=void 0===C?0:C,S=this.state.textHeight;switch(y){case undefined:e=(l-S)/2;break;case"vT":e=0;break;case"vM":e=(l-S)/2;break;case"vB":e=l-S}return u["default"].createElement(c.Group,{clipFunc:function(e){e.beginPath(),e.moveTo(r,o),e.lineTo(r+s,o),e.lineTo(r+s,o+l),e.lineTo(r,o+l),e.closePath()}},u["default"].createElement(c.Text,a({},f["default"].setFontFamily1(),{ref:function(e){return t.textDoms=e},x:r+w,y:o+e,text:i,width:s-w,align:d,fill:p,fontSize:h,lineHeight:g,wrap:"char",fontStyle:m},{textDecoration:(_?"underline":"")+" "+(v?"line-through":"")},{letterSpacing:Math.ceil(x)})))},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getTextDoms",null),t}(u["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(36)),c=i(n(52)),d=i(n(463)),f=i(n(422)),p=i(n(423)),h=function(e){function t(t){var n=e.call(this,t)||this;return n.urlTextDom=null,n.state={urlTextHeight:30},n}return o(t,e),t.prototype.componentDidMount=function(){this.getUrlTextDom()},t.prototype.componentDidUpdate=function(){this.getUrlTextDom()},t.prototype.getUrlTextDom=function(){var e=this.props.cssData.webUrl;if(this.urlTextDom&&""!=e){var t=this.state.urlTextHeight,n=this.urlTextDom.height();t!=n&&this.setState({urlTextHeight:n})}},t.prototype.render=function(){var e=this,t=e.props,n=t.cssData,r=n.width,o=n.height,i=n.webUrl,h=n.shadow,g=n.border,y=n.type,m=n.id,_=n.radius,v=void 0===_?0:_,b=n.isMaxRadius,w=t.cssData,C=e.state.urlTextHeight,x={width:.88*r,height:.11*o<=14?o-14-.06*r*2<=0?0:o-14-.06*r*2:.89*o-.06*r*2},S={height:.48*(.11*o<=14?14:.11*o),width:.3325*r},P={height:.48*(.11*o<=14?14:.11*o),width:.48*(.11*o<=14?14:.11*o)},k=.11*o<14?14:.11*o,O=!!h.length&&h[5];return s["default"].createElement(c["default"],{cssData:w,setArr:["setType","setPosition","setRotate"]},0==h||O?undefined:s["default"].createElement(f["default"],{data:w,shadow:h}),s["default"].createElement(d["default"],{data:w,width:r,height:o,type:y,id:m,radius:v,isMaxRadius:b,borderColor:g[0],borderSize:g[1],borderType:g[2]}),s["default"].createElement(l.Group,a({},u["default"].setClipArcRect(w),u["default"].setOpacity(w)),s["default"].createElement(l.Rect,a({},u["default"].setPosi(w),{fill:"rgba(238, 238, 238, 1)"})),s["default"].createElement(l.Rect,a({},u["default"].setPosi(x),{x:.06*r,y:.11*o<=14?14+.06*r:.11*o+.06*r,cornerRadius:4,fill:"rgba(216, 216, 216, 1)"})),s["default"].createElement(l.Rect,{width:r,height:.11*o<=14?14:.11*o,fill:"rgba(216, 216, 216, 1)"}),s["default"].createElement(l.Rect,a({},u["default"].setPosi(S),{x:.0175*r,y:.52*(.11*o<=14?14:.11*o)/2,cornerRadius:100,fill:"rgba(198, 198, 198, 1)"})),s["default"].createElement(l.Rect,a({},u["default"].setPosi(P),{fill:"rgba(198, 198, 198, 1)",x:r-.48*(.11*o<=14?14:.11*o)-.0175*r,y:.52*(.11*o<=14?14:.11*o)/2,cornerRadius:100})),s["default"].createElement(l.Text,a({},u["default"].setFontFamily1(),{fontSize:""==i?o<100||r<100?12:o<200||r<300?20:30:o<100||r<100?12:o<200||r<300?16:20,x:.06*r,width:.88*r,y:(x.height-C)/2+k+.06*r,ref:function(t){return e.urlTextDom=t},text:""==i?"Web Page":"https://"+i},""==i?{align:"center"}:{},o<100||r<100?a({},u["default"].setEllipsis()):{},{fill:"rgba(166, 166, 166, 1)",lineHeight:1.5}))),0!=h&&O?s["default"].createElement(p["default"],{data:w,shadow:h,borderType:g}):undefined)},t}(s["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.audioName,i=t.defaultName,d=e.cssData,f={width:n-1,height:r>80?79:r-1},p={width:40,height:40},h={width:n-79,height:5},g={width:n-12-40-10-16-80,height:20},y={width:80,height:20};return s["default"].createElement(u["default"],{cssData:d,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(f),{fill:"rgba(238, 238, 238, 1)",cornerRadius:4,stroke:"rgba(216, 216, 216, 1)",strokeWidth:1,x:1,y:r>80?(r-80)/2+1:1})),r>=64&&n>=64?[s["default"].createElement(l.Rect,a({},c["default"].setPosi(p),{fill:"rgba(255, 255, 255, 1)",cornerRadius:20,x:13.5,y:r>80?(r-80)/2+20-.5:(r-64)/2+13-.5})),s["default"].createElement(l.Text,a({},c["default"].setMdIcon(),{fontSize:24,text:"play_arrow",x:21,y:(r-24)/2+.5,fill:"rgba(166, 166, 166, 1)"})),n>=140?[s["default"].createElement(l.Rect,a({},c["default"].setPosi(h),{fill:"rgba(0, 0, 0, 0.15)",x:63,y:r>80?(r-80)/2+50+.5:(r-64)/2+42+.5,cornerRadius:3})),s["default"].createElement(l.Text,a({},c["default"].setPosi(n>240?g:n-78),c["default"].setFontFamily1(),{x:63,y:r>80?(r-80)/2+25-2+.5:(r-64)/2+17-2+.5,fontSize:14,text:""==o?i:o,fill:"rgba(80, 80, 80, 1)"})),n>=240?s["default"].createElement(l.Text,a({},c["default"].setPosi(y),c["default"].setFontFamily1(),{x:n-80+.5,y:r>80?(r-80)/2+24+.5:(r-64)/2+16+.5,fontSize:12,fill:"rgba(128, 128, 128, 1)",text:"0:00/[时长]"})):undefined]:undefined]:[s["default"].createElement(l.Rect,a({},c["default"].setPosi({width:20,height:20}),{fill:"rgba(255, 255, 255, 1)",cornerRadius:10,x:7.5,y:(r-20)/2})),s["default"].createElement(l.Text,a({},c["default"].setMdIcon(),{x:11.5,y:(r-11)/2+.5,text:"play_arrow",fill:"rgba(166, 166, 166, 1)",fontSize:11})),n>=100?[s["default"].createElement(l.Text,a({},c["default"].setPosi(n>240?n-128:n-48),c["default"].setFontFamily1(),{x:37,y:(r-12)/2,fontSize:12,text:""==o?i:o,fill:"rgba(80, 80, 80, 1)"})),n>240?s["default"].createElement(l.Text,a({},c["default"].setPosi(y),c["default"].setFontFamily1(),{x:n-76+.5,y:(r-12)/2,fontSize:12,fill:"rgba(128, 128, 128, 1)",text:"0:00/[时长]"})):undefined]:undefined])},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=i(n(463)),f=i(n(422)),p=i(n(423)),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.videoUrl,i=t.border,h=t.type,g=t.id,y=t.shadow,m=t.radius,_=void 0===m?0:m,v=t.isMaxRadius,b=e.cssData,w={width:n,height:r},C=Math.min(n,.8711*r),x=.37628*C>59?29.5:.37628*C/2,S=.12*C,P=!!y.length&&y[5];return s["default"].createElement(u["default"],{cssData:b,setArr:["setType","setPosition","setRotate"]},0==y||P?undefined:s["default"].createElement(f["default"],{data:b,shadow:y}),s["default"].createElement(l.Group,a({},c["default"].setClipArcRect(b),c["default"].setOpacity(b)),s["default"].createElement(l.Rect,a({},c["default"].setPosi(w),c["default"].setMaxRadius(b),{fill:"rgba(238, 238, 238, 1)"})),""==o?[s["default"].createElement(l.Circle,{key:h+g+"playIconBox",x:(n-x)/2+x/2,y:(.8711*r-x)/2+x/2,radius:x,fill:"rgba(219, 219, 219, 1)"}),s["default"].createElement(l.Text,a({key:h+g+"playIcon"},c["default"].setMdIcon(),{text:"play_arrow",fontSize:S,x:(n-S)/2,y:(.8711*r-S)/2-1,fill:"rgba(255, 255, 255, 1)"}))]:[s["default"].createElement(l.Text,{key:h+g+"preview",x:(n-128)/2,y:(.8711*r-47)/2+5,fontSize:16,text:"预览",fill:"rgba(166, 166, 166, 1)"}),s["default"].createElement(l.Text,{key:h+g+"previewText",x:(n-128)/2+32,y:(.8711*r-47)/2+5,fontSize:16,text:"即可看到视频",fill:"rgba(166, 166, 166, 0.6)"}),s["default"].createElement(l.Text,a({key:h+g+"previewUrl"},c["default"].setEllipsis(),{width:.8*n,height:14,x:.1*n,y:(.8711*r-47)/2+22+10,fontSize:14,text:"https://player.youku.com/embed/"+o,wrap:"none",align:"center",fill:"rgba(166, 166, 166, 0.6)"}))],s["default"].createElement(l.Rect,{width:n,height:.1289*r,fill:"rgba(216, 216, 216, 1)",y:.8711*r}),s["default"].createElement(l.Rect,{x:(n-.92*n)/2,y:r-(.1289*r-.01289*r)/2-.01289*r,width:.92*n,height:.01289*r,fill:"rgba(255, 255, 255, 1)"}),s["default"].createElement(l.Circle,{x:.1*n+.045*r/2,y:r-(.1289*r-.01289*r)/2-.01289*r+.01289*r/2,radius:.045*r/2,fill:"rgba(255, 255, 255, 1)"})),s["default"].createElement(d["default"],{data:b,width:n,height:r,type:h,id:g,radius:_,isMaxRadius:v,borderColor:i[0],borderSize:i[1],borderType:i[2]}),0!=y&&P?s["default"].createElement(p["default"],{data:b,shadow:y,borderType:i}):undefined)},t}(s["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=i(n(463)),f=i(n(422)),p=i(n(423)),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.shadow,i=void 0===o?0:o,h=t.border,g=t.type,y=t.id,m=t.radius,_=void 0===m?0:m,v=t.isMaxRadius,b=e.cssData,w=!!i.length&&i[5];return s["default"].createElement(u["default"],{cssData:b,setArr:["setType","setRotate","setPosition"]},0==i||w?undefined:s["default"].createElement(f["default"],{data:b,shadow:i}),s["default"].createElement(d["default"],{data:b,width:n,height:r,type:g,id:y,radius:_,isMaxRadius:v,borderColor:h[0],borderSize:h[1],borderType:h[2]}),s["default"].createElement(l.Group,a({},c["default"].setOpacity(b),c["default"].setClipArcRect(b)),s["default"].createElement(l.Rect,a({},c["default"].setPosi(b),c["default"].setMaxRadius(b),{fill:"rgba(216, 216, 216, 1)"})),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),{width:n,fontSize:30,y:(r-30)/2,fill:"rgba(166, 166, 166, 1)",text:"Map",align:"center"}))),0!=i&&w?s["default"].createElement(p["default"],{data:b,shadow:i,borderType:h}):undefined)},t}(s["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getDoms=function(e,t,n){for(var r=e.type,o=e.id,i=e.total,u=e.themeColor,d=e.btnBackground,f=e.btnBorderColor,p=e.btnBorder,h=e.btnFontSize,g=e.btnTextColor,y=[],m=0;m<Math.ceil(i);m++)y.push(s["default"].createElement(l.Rect,a({},c["default"].setPosi(t),c["default"].setBtnMaxRadius(e),{key:r+o+m+"wrapper",x:(n+8)*(m+1)+Math.round(p)/2,y:Math.round(p)/2,fill:d,stroke:0==p?"":0==m?u:f,strokeWidth:Math.round(p)})),s["default"].createElement(l.Text,a({},c["default"].setPosi(t),{key:r+o+m+"text",x:(n+8)*(m+1)+Math.round(p)/2,y:(n-h)/2,text:""+(m+1),align:"center",fill:0==m?u:g,fontSize:h,fontFamily:"Arial"})));return y},t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.height,r=t.showQuickJumper,o=t.btnBorder,i=t.type,d=t.id,f=e.cssData,p=n<=25?25:n>=35?35:n,h={width:p-Math.round(o),height:p-Math.round(o)};return s["default"].createElement(u["default"],{cssData:f,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(h),c["default"].setForwardBtn(f),c["default"].setBtnMaxRadius(f),c["default"].setNormalBorder(f),{opacity:.6})),s["default"].createElement(l.Text,a({},c["default"].setMdIcon(),c["default"].setForwardBtnIcon(f),{text:"keyboard_arrow_left",opacity:.6})),this.getDoms(f,h,p),s["default"].createElement(l.Rect,a({},c["default"].setPosi(h),c["default"].setBackwardBtn(f,p),c["default"].setBtnMaxRadius(f),c["default"].setNormalBorder(f))),s["default"].createElement(l.Text,a({},c["default"].setBackwardBtnIcon(f,p,20),c["default"].setMdIcon(),{text:"keyboard_arrow_right"})),r?[s["default"].createElement(l.Text,a({},c["default"].setFontFamily2(),c["default"].setJumpPageText1(f,p,14),{key:i+d+"preText",text:"跳至"})),s["default"].createElement(l.Rect,a({},c["default"].setJumpInput(f,p,14),{key:i+d+"jumpWrapper"})),s["default"].createElement(l.Text,a({},c["default"].setJumpPageText2(f,p,14),c["default"].setFontFamily2(),{key:i+d+"lastText",text:"页"}))]:undefined)},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=n(96),c=i(n(52)),d=i(n(36)),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.type,r=t.id,o=t.width,i=t.height,f=t.checked,p=t.background,h=t.themeColor,g=t.btnColor,y=e.cssData,m={width:o,height:i},_={width:i-4,height:i-4},v=u.getRGBAobj(g);return s["default"].createElement(c["default"],{cssData:y,setArr:["setType","setPosition","setRotate"]},f?[s["default"].createElement(l.Rect,a({key:n+r+"box"},d["default"].setPosi(m),d["default"].setSwitchWrapper(y,h),d["default"].setOpacity(y))),s["default"].createElement(l.Rect,a({key:n+r+"board"},d["default"].setPosi(_),{x:2.5+o/2,y:2.5,fill:"rgba(255, 255, 255, 1)",cornerRadius:i/2,opacity:v.a<1?0:1})),s["default"].createElement(l.Rect,a({key:n+r+"btn"},d["default"].setPosi(_),d["default"].setSwitchBtn(y,o/2),d["default"].setOpacity(y),{fill:0==v.a?h:g}))]:[s["default"].createElement(l.Rect,a({key:n+r+"box"},d["default"].setPosi(m),d["default"].setSwitchWrapper(y,p),d["default"].setOpacity(y))),s["default"].createElement(l.Rect,a({key:n+r+"board"},d["default"].setPosi(_),{x:2.5,y:2.5,fill:"rgba(255, 255, 255, 1)",cornerRadius:i/2,opacity:v.a<1?0:1})),s["default"].createElement(l.Rect,a({key:n+r+"btn"},d["default"].setPosi(_),d["default"].setSwitchBtn(y,0),d["default"].setOpacity(y),{fill:0==v.a?p:g}))])},t}(s["default"].Component);t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.value,o=t.lineColor,i=t.lineHeight,d=t.lineSelectColor,f=t.btnBackground,p=t.opacity,h=e.cssData,g={width:n,height:i},y={width:n*r/100,height:i};return s["default"].createElement(u["default"],{cssData:h,setArr:["setType","setPosition","setRotate"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(g),c["default"].setbgSlider(h,o),c["default"].setOpacity(h))),s["default"].createElement(l.Rect,a({},c["default"].setPosi(y),c["default"].setbgSlider(h,d),c["default"].setOpacity(h))),s["default"].createElement(l.Circle,a({},c["default"].setSliderBtn(h),c["default"].setNormalBorder(h),c["default"].setSliderRadius(h),c["default"].setWhiteSliderBtn(p))),s["default"].createElement(l.Circle,a({},c["default"].setSliderBtn(h),c["default"].setNormalBorder(h),c["default"].setOpacity(h),c["default"].setSliderRadius(h),{fill:f})),s["default"].createElement(l.Circle,a({},c["default"].setSliderBtn(h),c["default"].setNormalBorder(h),c["default"].setOpacity(h),c["default"].setSliderRadius(h))))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(36)),h=l(n(943)),g=0,y=function(e){function t(t){var n=e.call(this,t)||this;return n.childWidthArr=[],n.state={},n}return o(t,e),t.prototype.getTextWidthArr=function(e,t){var n=[],r=[],o=0;return e.forEach(function(a,i){(o+=a)>=t?(r.length>0&&n.push(r),o=a,r=[a]):r.push(a),i==e.length-1&&n.push(r)}),n},t.prototype.render=function(){var e=this,t=e.props,n=t.cssData,r=n.type,o=n.id,i=n.width,s=n.height,l=n.iconColor,d=n.selectIconColor,y=n.fontSize,m=n.textColor,_=n.data,v=n.isVertical,b=t.cssData,w=["选项 1","选项 2","选项 3"],C=_==undefined?w:_,x=Math.round(y),S=x+Math.floor(x/2);g++,e.childWidthArr.length!=C.length&&(e.childWidthArr=[]);var P=e.getTextWidthArr(e.childWidthArr,[i].concat(e.childWidthArr).sort(function(e,t){return t-e})[0]);return C.map(function(t,n){return v?u["default"].createElement(f["default"],{key:r+o+n,cssData:b,setArr:["setType","setPosition","setRotate","setOpacity"]},u["default"].createElement(c.Circle,{x:9.5,y:-(C.length*S-s)/2+8+2+1+n*S+.5+(18==x?3:x<14?-2:0),stroke:l,strokeWidth:1,radius:7.5}),u["default"].createElement(c.Circle,{x:9.5,y:-(C.length*S-s)/2+8+2+1+n*S+.5+(18==x?3:x<14?-2:0),fill:d,radius:4,opacity:C==w&&0==n?1:t.select?1:0}),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{x:24,y:-(C.length*S-s)/2+1.5+n*S+3,text:C==w?t:t.title,fill:m,fontSize:x})),u["default"].createElement(c.Rect,{width:i,height:s})):u["default"].createElement(h["default"],{key:r+o+n,cssData:b,currentText:t,radioIndex:n,list:C,defaultList:w,childCount:C.length,parentRef:e,childWidthArr:e.childWidthArr,renderChange:g,widthArr:P,isRadio:!0})})},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Number]),s("design:returntype",void 0)],t.prototype,"getTextWidthArr",null),t}(u["default"].Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.btnContent,i=t.btnBorder,d=e.cssData,f=r>21?r:20,p={width:n-Math.round(i),height:f-Math.round(i)},h={width:.7*(n-Math.round(i)),height:r-Math.round(i)};return s["default"].createElement(u["default"],{cssData:d,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(p),c["default"].setDropDownWrapper(d),c["default"].setNormalBorder(d),c["default"].setBtnMaxRadius(d))),o?s["default"].createElement(l.Text,a({},c["default"].setPosi(h),c["default"].setDropDownText(d,f),c["default"].setEllipsis(),{text:""+o})):undefined,s["default"].createElement(l.Text,a({},c["default"].setDropSelectIcon(d),c["default"].setIconfontIcon(),{text:""})))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(36)),h=l(n(1277)),g=0,y=function(e){function t(t){var n=e.call(this,t)||this;return n.childWidthArr=[],n.state={},n}return o(t,e),t.prototype.getDefaultText=function(e){var t=e.data,n=e.placeholder,r=-1;if(t==undefined)n;else for(var o=0;o<t.length;o++)t[o].select&&(r=o);return r>-1?t[r].title:n},t.prototype.getSelectTitle=function(e,t){var n=[];if(e==undefined)n.push(t);else for(var r=0;r<e.length;r++)e[r].select&&n.push(e[r].title);return 0==n.length&&n.push(t),n},t.prototype.getTextWidthArr=function(e,t){var n=[],r=[],o=0;return 0==e.length?[["请选择"]]:(e.forEach(function(a,i){(o+=a+4)>=t-22?(r.length>0&&n.push(r),o=a+4,r=[a]):r.push(a),i==e.length-1&&n.push(r)}),n)},t.prototype.render=function(){var e=this,t=e.props,n=t.cssData,r=n.width,o=n.height,i=n.btnBorder,s=n.isMultiple,l=n.data,d=n.placeholder,y=n.type,m=n.id,_=t.cssData,v=o>21?o:20,b={width:r-Math.round(i),height:v-Math.round(i)},w=e.getSelectTitle(l,d),C=e.getTextWidthArr(e.childWidthArr,r);return g++,u["default"].createElement(f["default"],{cssData:_,setArr:["setType","setPosition","setRotate","setOpacity"]},u["default"].createElement(c.Rect,a({},p["default"].setPosi(b),p["default"].setDropDownWrapper(_),p["default"].setNormalBorder(_),p["default"].setBtnMaxRadius(_),{height:l==undefined?v:s?l==undefined?32:27*C.length+3+2>o?27*C.length+3+2:o:v})),s?w[0]==d?""!=d?u["default"].createElement(c.Text,a({},p["default"].setSelectText(_,!1,v),p["default"].setFontFamily1(),p["default"].setEllipsis(),p["default"].setSelectCompText(_),{text:d})):undefined:w.map(function(t,n){return u["default"].createElement(h["default"],{key:y+n+m,selectData:w,cssData:_,selectIndex:n,currentText:t,parentRef:e,childWidthArr:e.childWidthArr,textWidthArr:C,isEllipsis:e.childWidthArr[n]>r-16,renderChange:g})}):u["default"].createElement(c.Text,a({},p["default"].setSelectText(_,!1,v),p["default"].setFontFamily1(),p["default"].setEllipsis(),p["default"].setSelectCompText(_),{text:this.getDefaultText(_)})),s?undefined:u["default"].createElement(c.Text,a({},p["default"].setIconfontIcon(),p["default"].setDropSelectIcon(_),{fill:"rgba(191, 191, 191, 1)",text:""})))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,String]),s("design:returntype",void 0)],t.prototype,"getSelectTitle",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Number]),s("design:returntype",void 0)],t.prototype,"getTextWidthArr",null),t}(u["default"].Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(36)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.textDom=null,n.state={textWidth:-1},n}return o(t,e),t.prototype.componentDidMount=function(){this.getTextDoms()},t.prototype.componentDidUpdate=function(){this.getTextDoms()},t.prototype.shouldComponentUpdate=function(e){return e.renderChange!==this.props.renderChange},t.prototype.getTextDoms=function(){var e=this.props,t=e.childWidthArr,n=e.selectIndex,r=e.parentRef,o=e.isEllipsis,a=this.textDom.width();if(o)return t;a+30!=t[n]&&(t[n]=a+30,this.setState({textWidth:a}),r.setState({}))},t.prototype.getTextIndex=function(e){var t=this.props.selectIndex,n={},r=0;return e.forEach(function(e,o){if(e.length>0){var a=0;e.forEach(function(e,i){t==r&&(n={linesX:i,linesY:o,textSize:e,xOffset:a}),a+=e,r++})}}),n},t.prototype.render=function(){var e=this,t=this.props,n=t.cssData,r=n.btnBorder,o=n.type,i=n.id,s=t.cssData,l=t.selectIndex,d=t.currentText,p=t.childWidthArr,h=t.textWidthArr,g=p[l]>s.width-16,y=s.width<52?32:g?s.width-16:p[l]+2,m=this.getTextIndex(h),_=m.xOffset,v=m.linesX,b=m.linesY,w=m.textSize;return[u["default"].createElement(c.Rect,{key:o+i+"backColor",width:y,height:23,fill:"#fafafa",stroke:"#e8e8e8",strokeWidth:1,cornerRadius:2,x:5+6*v+_+r,y:4*(b+1)+24*b-b+r}),u["default"].createElement(c.Text,a({},f["default"].setFontFamily3(),{key:o+i+"title",ref:function(t){return e.textDom=t},fontSize:14,x:5+_+4*v+12+r+2*v+1-2,y:9+27*b+r,fill:"rgba(0, 0, 0, 0.65)",text:d},g?a({width:s.width-30-16>0?s.width-30-16:0},f["default"].setEllipsis()):{})),u["default"].createElement(c.Text,a({},f["default"].setMdIcon(),{key:o+i+"icon",fill:"rgba(0, 0, 0, 0.45)",text:"close",fontSize:12,x:y<=32?20:5+_+(g?s.width-16:w)-16+4*v+r+2*v+1,y:11+27*b+r}))]},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getTextDoms",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getTextIndex",null),t}(u["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.placeholder,i=t.typeIndex,d=t.btnBorder,f=t.btnFontSize,p=t.btnTextColor,h=t.type,g=t.id,y=e.cssData,m=r>21?r-1:20,_={width:n-Math.round(d),height:m-Math.round(d)},v=.44*n,b=(m-f)/2+.5;return s["default"].createElement(u["default"],{cssData:y,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(_),c["default"].setDropDownWrapper(y),c["default"].setNormalBorder(y),c["default"].setBtnMaxRadius(y))),1==i?s["default"].createElement(l.Text,a({},c["default"].setSelectText(y,!1,m),c["default"].setFontFamily1(),c["default"].setEllipsis(),{width:n-22-15,text:1==i?o:"开始时间 ~ 结束时间"})):[s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setEllipsis(),{key:"startTime"+h+g,width:v,align:"center",text:"开始时间",fill:p,x:0,y:b,fontSize:f})),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setEllipsis(),{key:"separator"+h+g,width:10,fontSize:14,text:"~",fill:p,x:.44*n,y:(m-14)/2})),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setEllipsis(),{key:"endTime"+h+g,width:v,align:"center",text:"结束时间",fill:p,x:.44*n+10,y:b,fontSize:f}))],s["default"].createElement(l.Text,a({},c["default"].setIconfontIcon(),c["default"].setSelectIcon(y,14),{text:"",fill:p})))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getCheckedTitle=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),e==undefined)return"请选择";for(var r=0;r<e.length;r++)if(e[r]){var o=e[r],a=o.select,i=o.child,s=void 0===i?[]:i,l=o.title,u=$.extend(!0,[],t).concat([r]),c=$.extend(!0,[],n).concat([l]);if(a)return{title:l,parentKeyArr:u,parentTitleArr:c};if(s){var d=this.getCheckedTitle(s,u,c);if(d)return d}}},t.prototype.getSelectTitle=function(e,t){var n="";return t.data==undefined||e==undefined?n=t.placeholder:e.forEach(function(e,t){n+=0==t?e:" / "+e}),n},t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.placeholder,i=t.btnBorder,d=t.btnTextColor,f=t.data,p=e.cssData,h=r>21?r:20,g={width:n-Math.round(i),height:h-Math.round(i)},y=this.getCheckedTitle(f)||{},m=(y.title,y.parentTitleArr),_=this.getSelectTitle(m,p);return s["default"].createElement(u["default"],{cssData:p,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(g),c["default"].setDropDownWrapper(p),c["default"].setNormalBorder(p),c["default"].setBtnMaxRadius(p))),""!=_?s["default"].createElement(l.Text,a({},c["default"].setFontFamily3(),c["default"].setCascaderText(p),c["default"].setEllipsis(),c["default"].setSelectCompText(p),{text:_,opacity:_==o?.4:1})):undefined,s["default"].createElement(l.Text,a({},c["default"].setIconfontIcon(),c["default"].setDropDownIcon(p,h),{text:"",fill:d})))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.placeholder,i=t.btnBorder,d=t.btnTextColor,f=e.cssData,p=r>21?r-1:20,h={width:n-Math.round(i),height:p-Math.round(i)};return s["default"].createElement(u["default"],{cssData:f,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(h),c["default"].setDropDownWrapper(f),c["default"].setNormalBorder(f),c["default"].setBtnMaxRadius(f))),""!=o?s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setSelectText(f,!0,p),c["default"].setEllipsis(),c["default"].setSelectCompText(f),{text:o})):undefined,s["default"].createElement(l.Text,a({},c["default"].setIconfontIcon(),c["default"].setTimePickerIcon(f),{text:"",fill:d})))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.placeholder,i=t.btnBorder,d=t.btnTextColor,f=e.cssData,p=r>21?r-1:20,h={width:n-Math.round(i),height:p-Math.round(i)};return s["default"].createElement(u["default"],{cssData:f,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(h),c["default"].setDropDownWrapper(f),c["default"].setNormalBorder(f),c["default"].setBtnMaxRadius(f))),""!=o?s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setTreeSelect(f),c["default"].setEllipsis(),{text:o,width:n-34})):undefined,s["default"].createElement(l.Text,a({},c["default"].setIconfontIcon(),c["default"].setDropSelectIcon(f),{text:"",fill:d})))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(36)),h=[{title:"一级选项 1"},{title:"一级选项 2"},{title:"一级选项 3"}],g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTreeList=function(e,t,n){if(e==h)return e;var r=this;e.forEach(function(e){var o=e.title,a=e.child,i=e.select,s=e.active;t.push({title:o,haveChild:a.length>0,select:i,childList:a.length>0?a:undefined,deep:n,active:s}),e.child.length>0&&s&&r.getTreeList(e.child,t,n+1)})},t.prototype.getDeepHeight=function(e){var t;switch(e){case 0:t=12;break;case 1:t=8;break;case 2:t=4;break;case 3:t=0}return t},t.prototype.getList=function(e,t){var n=t.type,r=t.id,o=t.textColor,i=t.fontSize,s=t.checkboxIconColor,l=this;return e.map(function(e,d){var f=e.deep,h=e.haveChild,g=e.active,y=e.title;return[h?g?u["default"].createElement(c.Text,a({},p["default"].setOpacity(t),p["default"].setIconfontIcon(),{key:n+r+d+"parentIconOn",x:4+18*f+3,y:32*d+l.getDeepHeight(f)+3,text:"",fontSize:10,fill:"rgba(89, 89, 89, 1)"})):u["default"].createElement(c.Text,a({},p["default"].setOpacity(t),p["default"].setIconfontIcon(),{key:n+r+d+"parentIconOff",x:4+18*f+3,y:32*d+l.getDeepHeight(f)+3,text:"",fontSize:10,fill:"rgba(89, 89, 89, 1)"})):undefined,u["default"].createElement(c.Rect,a({},p["default"].setOpacity(t),p["default"].setPosi({width:y.length*Math.round(i)-7,height:24}),{key:n+r+d+"selectBackColor",fill:e.select?s:"rgba(255, 255, 255, 1)",opacity:.4,x:24+18*f,y:32*d+l.getDeepHeight(f)-5,cornerRadius:2})),u["default"].createElement(c.Text,a({},p["default"].setOpacity(t),p["default"].setFontFamily3(),{key:n+r+d+"text",x:29+18*f,y:32*d+l.getDeepHeight(f),text:e.title,fill:o,fontSize:Math.round(i),fontStyle:e.select?"bold":"normal"}))]})},t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.type,r=t.id,o=t.data,i=t.checkboxIconColor,s=e.cssData,l=o==undefined?h:o,d=[];return this.getTreeList(l,d,0),u["default"].createElement(f["default"],{cssData:s,setArr:["setType","setPosition","setRotate","setOpacity"]},l==h?l.map(function(e,t){return[2==t?u["default"].createElement(c.Text,a({},p["default"].setMdIcon(),{key:n+r+t+"parentIcon",x:4,y:32*t+12,text:"arrow_right",fontSize:18,fill:"rgba(89, 89, 89, 1)"})):undefined,u["default"].createElement(c.Rect,{key:n+r+t+"optionBackColor",width:e.length*Math.round(s.fontSize)-7,height:24,fill:e.select?i:"rgba(255, 255, 255, 1)",opacity:.4,x:24,y:32*t+12-5,cornerRadius:2}),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:n+r+t+"text",x:29,y:32*t+12,text:e.title,fill:s.textColor,fontSize:Math.round(s.fontSize),fontStyle:e.select?"bold":"normal"}))]}):this.getList(d,s))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Number]),s("design:returntype",void 0)],t.prototype,"getTreeList",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Number]),s("design:returntype",void 0)],t.prototype,"getDeepHeight",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"getList",null),t}(u["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=n(28),c=s(n(3)),d=s(n(52)),f=s(n(1284)),p=s(n(1285)),h=[{title:"一级选项 1"},{title:"一级选项 2"},{title:"一级选项 3"}],g=["home","mail_outline","today","turned_in_not","inbox","widgets"],y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textWidthArr=[],t}return o(t,e),t.prototype.getMenuList=function(e,t,n,r){if(e==h)return e;var o=this;return e.forEach(function(a,i){var s=a.title,l=a.child,u=a.select,c=a.active,d=a.icon;t.push({title:s,haveChild:l.length>0,select:u,childList:l.length>0?l:undefined,deep:n,active:c,icon:d==undefined?"":d,isLast:i==e.length-1}),a.child.length>0&&c&&1==r&&o.getMenuList(a.child,t,n+1,r)}),t},t.prototype.getListOffset=function(e,t){for(var n=0,r=0;r<t+1;r++)(e[r].haveChild||e[r].isLast)&&n++;return n},t.prototype.getLevel1TitleList=function(e,t){for(var n=0;n<e.length;n++)0==e[n].deep&&t.push(e[n]);return 0},t.prototype.getLevel1TitleIndex=function(e,t){for(var n=0,r=0;r<e.length;r++)t==e[r].title&&(n=r);return n},t.prototype.render=function(){var e=this,t=this.props,n=t.cssData,r=n.type,o=n.id,a=n.width,i=n.height,s=n.background,c=n.data,y=n.typeIndex,m=t.cssData,_=c==undefined?h:c,v=[],b=[];return this.getMenuList(_,v,0,y),this.getLevel1TitleList(v,b),l["default"].createElement(d["default"],{cssData:m,setArr:["setType","setPosition","setRotate","setOpacity"]},null!=s?l["default"].createElement(u.Rect,{width:a,height:i,fill:s}):undefined,c==undefined?h.map(function(t,n){var a=t.title;return 3==y?l["default"].createElement(f["default"],{key:r+o+n+"horizMenu",cssData:m,text:t.title,icons:g[n%6],currentIndex:n,wrapperPadding:20,isSelect:!1,textWidthArr:e.textWidthArr,defaultList:h}):l["default"].createElement(p["default"],{key:r+o+n+"verticalMenu",cssData:m,currentData:"",currentIndex:n,level1Title:"",text:a,icons:g,isSelect:!1,haveChild:!1})}):v.map(function(t,n){var a=t.title,i=t.select,s=t.icon;return 3==y?l["default"].createElement(f["default"],{key:r+o+n+"horizMenu",cssData:m,text:a,icons:""!=s?s:g[n%6],currentIndex:n,wrapperPadding:20,isSelect:i,textWidthArr:e.textWidthArr,defaultList:h}):l["default"].createElement(p["default"],{key:r+o+n+"verticalMenu",cssData:m,currentData:t,currentIndex:n,text:a,level1Title:b,icons:g,isSelect:!1,haveChild:!1})}))},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object,Object,Number,Number]),i("design:returntype",void 0)],t.prototype,"getMenuList",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object,Number]),i("design:returntype",void 0)],t.prototype,"getListOffset",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"getLevel1TitleList",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"getLevel1TitleIndex",null),t}(l["default"].Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(36)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.textDom=null,n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){this.getTextWidth()},t.prototype.componentDidUpdate=function(){this.getTextWidth()},t.prototype.getTextWidth=function(){var e=this.props,t=e.currentIndex,n=e.textWidthArr;if(this.textDom){var r=this.textDom.width();n[t]!=r&&(n[t]=r,this.setState({}))}},t.prototype.getPreTextWidth=function(){var e=[],t=0,n=this.props,r=n.textWidthArr,o=n.cssData,a=n.defaultList,i=o.data==undefined?a.length:o.data.length;if(r.length>0){for(var s=0;s<i;s++)0==s?t=0:t+=r[s-1],e.push(t);return e}return[0,66,133]},t.prototype.getOptionWidth=function(e,t){for(var n=this.props,r=n.wrapperPadding,o=n.cssData,a=this.getPreTextWidth(),i=[],s=0;s<a.length;s++){var l;l=2*r+t+e[s],i[s]=l}return this.getTextWidthArr(i,o.width)},t.prototype.getTextWidthArr=function(e,t){var n=[],r=[],o=0;return e.forEach(function(a,i){(o+=a)>=t?(r.length>0&&n.push(r),o=a,r=[a]):r.push(a),i==e.length-1&&n.push(r)}),this.getTextIndex(n)},t.prototype.getTextIndex=function(e){var t=[];return e.forEach(function(e,n){if(e.length>0){var r=0;e.forEach(function(e,o){r+=e,t.push({linesX:o,linesY:n,textWidth:e,xOffset:r-e})})}}),t},t.prototype.render=function(){var e=this,t=this.props,n=t.cssData,r=n.width,o=n.height,i=n.type,s=n.id,l=n.fontSize,d=n.iconSize,p=n.textColor,h=n.selectTextColor,g=n.isShowIcon,y=n.selectBackground,m=n.lineColor,_=t.text,v=t.icons,b=t.currentIndex,w=t.wrapperPadding,C=t.isSelect,x=t.textWidthArr,S=(this.getPreTextWidth(),g?d+5:0),P=this.textDom?this.getOptionWidth(x,S):null;return[null!=y?u["default"].createElement(c.Rect,{key:i+s+b+"backColor",width:S+2*w+x[b],height:o,x:P?P[b].xOffset:0,y:P?o*P[b].linesY-2:0,fill:C?y:""}):undefined,C?u["default"].createElement(c.Rect,{key:i+s+b+"checkLine",width:S+2*w+x[b],height:3,x:P?P[b].xOffset:0,y:P?(o-4)*(P[b].linesY+1)+(P[b].linesY>1?2*P[b].linesY+P[b].linesY:P[b].linesY):0,fill:C?m:""}):undefined,g?u["default"].createElement(c.Text,a({},f["default"].setMdIcon(),{key:i+s+b+"icon",text:v,fontSize:d,fill:C?h:p,x:P?P[b].xOffset+w:0,y:(o-d)/2+(P?P[b].linesY*o+(P[b].linesY>0?-P[b].linesY:0):0)})):undefined,u["default"].createElement(c.Text,{key:i+s+b+"title",ref:function(t){return e.textDom=t},text:_,fontSize:C?14:l,fill:C?h:p,x:P?P[b].xOffset+(w+S):0,y:(o-(C?14:l))/2+1+(P?P[b].linesY*o+(P[b].linesY>0?-P[b].linesY:0):0)}),u["default"].createElement(c.Line,{key:i+s+b+"line",points:[0,o,r,o],stroke:"rgba(232, 232, 232, 1)",strokeWidth:1})]},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getTextWidth",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getPreTextWidth",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"getOptionWidth",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Number]),s("design:returntype",void 0)],t.prototype,"getTextWidthArr",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getTextIndex",null),t}(u["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(36)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.textDom=null,n.state={},n}return o(t,e),t.prototype.getLevel1TitleIndex=function(e,t){for(var n=0,r=0;r<e.length;r++)t==e[r].title&&(n=r);return n},t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.type,i=t.id,s=t.fontSize,l=t.iconSize,d=t.selectFontSize,p=t.textColor,h=t.selectTextColor,g=t.isShowIcon,y=t.selectBackground,m=t.lineColor,_=t.typeIndex,v=t.listHeight,b=t.lineWidth,w=t.data,C=e.currentData,x=void 0===C?null:C,S=x.title,P=x.haveChild,k=x.active,O=x.deep,E=x.select,T=x.icon,M=e.text,D=e.icons,A=e.currentIndex,j=(e.isSelect,e.level1Title),I=Math.round(s),L=Math.round(l);return w==undefined?[g?u["default"].createElement(c.Text,a({},f["default"].setMdIcon(),{key:o+i+A+"icon",x:24-(2==_?8:0),y:3.5+(v-L)/2+1+48*A,text:g?D[A]:"",fontSize:L,fill:p})):undefined,u["default"].createElement(c.Text,a({},f["default"].setFontFamily3(),{key:o+i+A+"title",x:25+(g?L+4:0)-(2==_?8:0),y:3.5+(v-14)/2+1+48*A,fill:p,fontSize:I,text:M})),2==A?u["default"].createElement(c.Text,a({},f["default"].setMdIcon(),{key:o+i+A+"selectIcon",x:n-30,y:4+(v-14)/2+97,text:"keyboard_arrow_down",fontSize:14,fill:"rgba(80, 80, 80, 1)"})):undefined,u["default"].createElement(c.Line,{key:o+i+A+"wrapperLine",points:[n,0,n,r],stroke:"rgba(232, 232, 232, 1)",strokeWidth:1})]:[E?u["default"].createElement(c.Rect,{key:o+i+A+"backColor",width:n,height:v,y:48*A+4,fill:E?y:""}):undefined,u["default"].createElement(c.Text,a({},f["default"].setMdIcon(),{key:o+i+A+"icon",x:24-(2==_?8:0),y:3.5+(v-L)/2+1+48*A,text:g&&0==O?""==T?D[this.getLevel1TitleIndex(j,M)%6]:T:"",fontSize:L,fill:E?h:p})),E?u["default"].createElement(c.Rect,{key:o+i+A+"selectLine",width:Math.round(b),height:v,x:n-Math.round(b),y:48*A+4,fill:E?m:""}):undefined,u["default"].createElement(c.Text,a({},f["default"].setFontFamily3(),{key:o+i+A+"optionTitle",x:25+(0==O?g?L+4:0:L+4)+(O>1?24*(O-1):0)-(2==_?8:0),y:4+A*(v+8)+(v-d)/2,fill:E?h:p,fontSize:E?Math.round(d):I,text:S})),P?u["default"].createElement(c.Text,a({},f["default"].setMdIcon(),{key:o+i+A+"childIcon",x:n-32,y:A*(v+8)+4+(v-I)/2,text:2==_?"keyboard_arrow_right":k?"keyboard_arrow_up":"keyboard_arrow_down",fontSize:16,fill:"rgba(80, 80, 80, 1)"})):undefined,u["default"].createElement(c.Line,{key:o+i+A+"wrapperLine",points:[n,0,n,r],stroke:"rgba(232, 232, 232, 1)",strokeWidth:1})]},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"getLevel1TitleIndex",null),t}(u["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(36)),h=["选项 1","选项 2","选项 3","选项 4","选项 5","选项 6","选项 7","选项 8","选项 9","选项 10"],g=["选项 11","选项 12","选项 13","选项 14","选项 15","选项 16","选项 17","选项 18","选项 19","选项 20"],y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleChecked=function(e){var t=0;return e.forEach(function(e){e.select&&t++}),t},t.prototype.MenuHeaderComp=function(e,t,n,r){var o=t.width,i=t.textColor,s=t.fontSize,l=t.listOneName,d=t.listTwoName,f=t.data,y=t.themeColor,m=t.type,_=t.id,v=180*o/410+50,b=n?f==undefined?g:f[1].child:f==undefined?h:f[0].child,w=n?"right":"left",C=this.handleChecked(b);return[u["default"].createElement(c.Rect,a({},p["default"].setPosi(e),p["default"].setTransferLine(),p["default"].setTransfer(t),{key:m+_+w+"rectBox",stroke:C?y:"rgba(232, 232, 232, 1)",x:14+(n?v:0),y:(r-15)/2,fill:C>0?y:"rgba(255, 255, 255, 1)"})),C==b.length?u["default"].createElement(c.Text,a({},p["default"].setMdIcon(),{key:m+_+w+"checkIcon",x:14.5+(n?v:0),y:(r-16)/2,text:"done",opacity:C>0?1:0,fill:"white",fontSize:16})):u["default"].createElement(c.Rect,{key:m+_+w+"checkRect",width:11,height:2,fill:"white",x:15.5+(n?v:0),y:(r-2)/2}),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:m+_+w+"checkedNum",x:37+(n?v:0),y:(r-s)/2,text:f==undefined?"10 项":C>0?C+"/"+b.length+" 项":b.length+" 项",fill:i,fontSize:s})),""!=l||""!=d?u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:m+_+w+"checkPreNum",x:180*o/410-s*(n?d.length:l.length)+(n?v+1:0)-3,y:(r-s)/2+1,text:n?d:l,fill:i,fontSize:s})):undefined,u["default"].createElement(c.Line,a({},p["default"].setTransferLine(),{key:m+_+w+"headBottomLine",points:[n?v:0,r,180*o/410+(n?v:0),r]}))]},t.prototype.MenuBodyComp=function(e,t,n,r){var o=e.type,i=e.id,s=e.width,l=e.height,d=e.fontSize,f=e.textColor,y=e.data,m=e.themeColor,_=180*s/410+50,v=n?y==undefined?g:y[1].child:y==undefined?h:y[0].child;return 0==v.length?u["default"].createElement(c.Text,{text:"无匹配结果",width:180*s/410,x:0,y:(l-Math.round(d))/2+r/2+2,fontSize:d,align:"center",fill:"rgba(0, 0, 0, 0.25)"}):v.map(function(e,s){return[u["default"].createElement(c.Rect,a({},p["default"].setPosi(t),p["default"].setTransferLine(),{key:o+i+s+"checkbox",x:14+(n?_:0),y:8.5+r+32*s,width:15,height:15,cornerRadius:2,fill:e.select?m:"rgba(255, 255, 255, 0)",stroke:e.select?m:"rgba(232, 232, 232, 1)"})),u["default"].createElement(c.Text,a({},p["default"].setMdIcon(),{key:o+i+s+"checkboxIcon",text:"done",fontSize:16,x:14+(n?_:0),y:8.5+r+32*s,fill:"white",opacity:e.select?1:0})),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:o+i+s+"text",x:37+(n?_:0),y:(32-d)/2+r+32*s,text:y==undefined?e:e.title,fill:f,fontSize:d}))]})},t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.borderColor,i=t.border,s=t.background,l=t.data,d=t.themeColor,h=t.fontSize,g=e.cssData,y={width:180*n/410,height:r},m={width:16,height:16},_={width:30,height:23},v=Math.round(h)+Math.floor(Math.round(h)/2)+12+1;return u["default"].createElement(f["default"],{cssData:g,setArr:["setType","setPosition","setRotate","setOpacity","setRectClip"]},u["default"].createElement(c.Rect,a({},p["default"].setPosi(y),p["default"].setMaxRadius(g),0!=i?{stroke:o,strokeWidth:i}:{},{fill:s})),u["default"].createElement(c.Rect,a({},p["default"].setPosi(y),p["default"].setMaxRadius(g),0!=i?{stroke:o,strokeWidth:i}:{},{x:50+180*n/410,fill:s})),this.MenuHeaderComp(m,g,!1,v),this.MenuHeaderComp(m,g,!0,v),this.MenuBodyComp(g,m,!1,v),this.MenuBodyComp(g,m,!0,v),u["default"].createElement(c.Rect,a({},p["default"].setPosi(_),p["default"].setTransferLine(),{x:180*n/410+10,y:(r-52)/2,cornerRadius:3,fill:l==undefined?"rgba(245, 245, 245, 1)":this.handleChecked(l[0].child)>0?d:"rgba(245, 245, 245, 1)",stroke:l==undefined?"rgba(232, 232, 232, 1)":this.handleChecked(l[0].child)>0?d:"rgba(232, 232, 232, 1)"})),u["default"].createElement(c.Text,a({},p["default"].setIconfontIcon(),{x:180*n/410+10+4+4,y:(r-52)/2+2+6-2,text:"",fontSize:14,fill:l==undefined?"rgba(183, 183, 183, 1)":this.handleChecked(l[0].child)>0?"rgba(255, 255, 255, 1)":"rgba(183, 183, 183, 1)"})),u["default"].createElement(c.Rect,a({},p["default"].setPosi(_),p["default"].setTransferLine(),{x:180*n/410+10,y:(r-52)/2+29,cornerRadius:3,fill:l==undefined?"rgba(245, 245, 245, 1)":this.handleChecked(l[1].child)>0?d:"rgba(245, 245, 245, 1)",stroke:l==undefined?"rgba(232, 232, 232, 1)":this.handleChecked(l[1].child)>0?d:"rgba(232, 232, 232, 1)"})),u["default"].createElement(c.Text,a({},p["default"].setIconfontIcon(),{x:180*n/410+10+4+4,y:(r-52)/2+2+28+6-2,text:"",fontSize:14,fill:l==undefined?"rgba(183, 183, 183, 1)":this.handleChecked(l[1].child)>0?"rgba(255, 255, 255, 1)":"rgba(183, 183, 183, 1)"})))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"handleChecked",null),t}(u["default"].Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(36)),h=n(421),g=new Date,y=g.getFullYear(),m=g.getMonth(),_=["Su","Mo","Tu","We","Th","Fr","Sa"],v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],b="rgba(0, 0, 0, 0.65)",w=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.YearLabelEComp=function(e){var t=e.data,n=e.xOffset;return[u["default"].createElement(c.Rect,{key:"calendarYearEWrapper",width:90,height:32,x:n,cornerRadius:4,stroke:"rgba(0, 0, 0, 0.25)",strokeWidth:1,fill:"rgba(255, 255, 255, 1)"}),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:"calendarYearEText",text:y+"年",fontSize:14,x:11+n,y:9,fill:b})),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),p["default"].setIconfontIcon(),p["default"].setDropSelectIcon(t),{key:"calendarYearEIcon",x:n+65,y:10,fill:"rgba(0, 0, 0, 0.25)",text:""}))]},t.prototype.MonthLabelEComp=function(e){var t=e.data,n=e.xOffset;return[u["default"].createElement(c.Rect,{key:"monthEWrapper",width:68,height:32,x:n,cornerRadius:4,stroke:"rgba(0, 0, 0, 0.25)",strokeWidth:1,fill:"rgba(255, 255, 255, 1)"}),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:"monthEText",text:v[m],fontSize:14,x:11+n,y:9,fill:b})),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),p["default"].setIconfontIcon(),p["default"].setDropSelectIcon(t),{key:"monthEIcon",x:n+45,y:10,fill:"rgba(0, 0, 0, 0.25)",text:""}))]},t.prototype.CalendarTypeButtonComp=function(e,t){var n=e.themeColor;return[u["default"].createElement(c.Path,{key:"monthButtonWrapper",data:h.drawSegHeadPath({w:46,h:32,r:4}),stroke:n,strokeWidth:1,x:t,fill:"rgba(255, 255, 255, 1)"}),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:"monthButtonText",text:"月",fontSize:14,width:46,align:"center",fill:n,x:t,y:10})),u["default"].createElement(c.Path,{key:"yearButtonWrapper",data:h.drawSegLastPath({x:48,w:92,h:32,r:4}),stroke:"rgba(0, 0, 0, 0.25)",strokeWidth:1,x:t-1.5,fill:"rgba(255, 255, 255, 1)"}),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:"yearButtonText",text:"年",fontSize:14,width:46,align:"center",fill:b,x:t+44,y:10}))]},t.prototype.WeekTextComp=function(e){return _.map(function(t,n){return u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:t+n,text:t,width:n<2?e-11:e-12,align:"right",fontSize:14,fill:b,x:(n<2?e+1:e)*n+1,y:54}))})},t.prototype.getCurrentMonthDays=function(){for(var e=[],t=new Date,n=t.getMonth(),r=t.getFullYear(),o=new Date(r,n+1,0),a=o.getDate(),i=new Date(r,n,1).getDay(),s=o.getMonth(),l=new Date(r,(0==s?11:s-1)+1,0).getDate(),u=42-a-i,c=l-i+1;c<=l;c++)if(e.push({days:c,isCurrentMonth:!1}),c==l)for(var d=1;d<=a;d++)if(e.push({days:d,isCurrentMonth:!0}),d==a)for(var f=1;f<=u;f++)e.push({days:f,isCurrentMonth:!1});return e},t.prototype.DayBoxComp=function(e,t){return this.getCurrentMonthDays().map(function(n,r){var o=n.days,i=n.isCurrentMonth;return[u["default"].createElement(c.Rect,{key:"line"+r,width:(r%7>2?e-4:e-3)-4,height:2,fill:"rgba(232, 232, 232, 1)",x:r%7*e+5,y:75+Math.floor(r/7)*t+(r/7>3?1:0)}),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:"dataText"+r,text:""+(o<10?"0"+o:o),fontSize:14,width:r%7>2?e-12:e-11,align:"right",fill:i?b:"rgba(0, 0, 0, 0.25)",x:r%7*(r%7>2?e:e+1)+1,y:75+Math.floor(r/7)*t+(r/7>3?1:0)+10+1}))]})},t.prototype.MonthBoxComp=function(e,t){return v.map(function(n,r){return[u["default"].createElement(c.Rect,{key:"line"+r,width:(r%3>0?e+1:e)-8,height:2,fill:"rgba(232, 232, 232, 1)",x:r%3*(r%3>0?e+1:e)+3,y:52+Math.floor(r/3)*t}),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{key:"dataText"+r,text:n,fontSize:14,width:(r%3>0?e+1:e)-8,align:"right",fill:b,x:r%3*(r%3>0?e+1:e)-4,y:52+Math.floor(r/3)*t+10+1}))]})},t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.background,a=e.cssData,i=n<=278?278:n,s=r<=280?280:r,l=s-52-23,d=Math.floor(i/7),p=Math.floor(l/6);Math.floor(i/3),Math.floor((s-52)/4);return u["default"].createElement(f["default"],{cssData:a,setArr:["setType","setRotate","setPosition"]},u["default"].createElement(c.Rect,{width:i,height:s,fill:o||"rgba(255, 255, 255, 1)"}),this.YearLabelEComp({data:a,xOffset:i-274}),this.MonthLabelEComp({data:a,xOffset:i-179}),this.CalendarTypeButtonComp(a,i-96),this.WeekTextComp(d),this.DayBoxComp(d,p))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"YearLabelEComp",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"MonthLabelEComp",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"CalendarTypeButtonComp",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"WeekTextComp",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getCurrentMonthDays",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"DayBoxComp",null),t}(u["default"].Component);t["default"]=w},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(36)),h=l(n(943)),g=0,y=function(e){function t(t){var n=e.call(this,t)||this;return n.childWidthArr=[],n.state={},n}return o(t,e),t.prototype.getTextWidthArr=function(e,t){var n=[],r=[],o=0;return e.forEach(function(a,i){(o+=a)>=t+8?(r.length>0&&n.push(r),o=a,r=[a]):r.push(a),i==e.length-1&&n.push(r)}),n},t.prototype.render=function(){var e=this,t=e.props,n=t.cssData,r=n.type,o=n.id,i=n.data,s=n.isVertical,l=n.height,d=n.width,y=n.fontSize,m=n.textColor,_=t.cssData,v=["选项 1","选项 2","选项 3"],b=i==undefined?v:i,w={width:15,height:15},C=Math.round(y),x=C+Math.floor(C/2);g++,e.childWidthArr.length!=b.length&&(e.childWidthArr=[]);var S=e.getTextWidthArr(e.childWidthArr,d);return b.map(function(t,n){return s?u["default"].createElement(f["default"],{cssData:_,setArr:["setType","setPosition","setRotate","setOpacity"]},u["default"].createElement(c.Rect,a({},p["default"].setPosi(w),p["default"].setColumnCheckboxIcon(_,n,b),{y:-(b.length*x-l)/2+n*x+4+(C<16?C<14?-2:0:2),cornerRadius:2})),u["default"].createElement(c.Text,a({},p["default"].setFontFamily3(),{x:24,y:-(b.length*x-l)/2+n*x+4.5,fill:m,fontSize:C,text:b==v?t:t.title})),u["default"].createElement(c.Text,a({},p["default"].setMdIcon(),{text:"done",fontSize:16,x:1,y:-(b.length*x-l)/2+n*x+3+(C<16?C<14?-2:0:2),fill:"white",opacity:i==undefined?0==n?1:0:t.select?1:0}))):u["default"].createElement(h["default"],{key:r+o+n,cssData:_,currentText:t,radioIndex:n,list:b,defaultList:v,childCount:b.length,parentRef:e,childWidthArr:e.childWidthArr,renderChange:g,widthArr:S,isRadio:!1})})},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Number]),s("design:returntype",void 0)],t.prototype,"getTextWidthArr",null),t}(u["default"].Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(36)),p=$.getStaticUrl(),h=function(e){function t(t){var n=e.call(this,t)||this;n.imageDom=null,n.imgWHSize=-1,n.isLoad=!1;var r=new window.Image;return r.crossOrigin="Anonymous",n.state={img:r,isError:!1},n}return o(t,e),t.prototype.componentDidMount=function(){this.loadImage()},t.prototype.componentDidUpdate=function(){this.loadImage()},t.prototype.loadImage=function(){var e=this,t=e.props.cssData.data,n=e.state,r=n.img,o=n.isError,a=t.length>0?t[0].src:"",i=!a||a&&-1!=a.indexOf("defaultImg");if((!o&&!i||!e.isLoad)&&r.src!=p+a){if(i)return e.isLoad=!0,void e.setState({isError:!0});r.crossOrigin="Anonymous",e.imgWHSize=-1,r.onload=function(){if(e.imgWHSize=r.height/r.width,!e.imageDom)return e.isLoad=!0,void e.setState({isError:!1});e.imageDom.getLayer().draw(),e.isLoad||(e.isLoad=!0,e.setState({isError:!1}))},r.onerror=function(){e.isLoad||(e.isLoad=!0,e.setState({isError:!0}))},r.src=p+a}},t.prototype.getCarouselPoints=function(e){for(var t=[],n=e.type,r=e.id,o=e.data,i=e.vertical,s=0==o.length?3:o.length,l=0;l<s;l++)t.push(u["default"].createElement(c.Rect,a({},f["default"].setCarouselPoint(e,l),{key:n+r+l,width:i?3:0==l?24:16,height:i?0==l?24:16:3})));return t},t.prototype.render=function(){var e=this,t=e.props,n=t.cssData,r=n.width,o=n.height,i=n.data,s=n.dots,l=n.isMaxRadius,d=n.radius,p=void 0===d?0:d,h=t.cssData,g=e.state,y=g.img,m=g.isError,_={width:r,height:o},v=l?Math.min(r,o)/2:p,b=!!("/images/defaultImg.png"==h.src||y&&y.src&&-1!=y.src.indexOf("defaultImg"));return u["default"].createElement(c.Group,a({},f["default"].setType(h),f["default"].setPosition(h),f["default"].setRotate(h),f["default"].setOpacity(h),f["default"].setSingleRadiusClip(r,o,v,0)),u["default"].createElement(c.Rect,a({},f["default"].setPosi(_),f["default"].setMaxRadius(h),{fill:"rgba(217, 217, 217, 1)"})),!e.isLoad||m||b?u["default"].createElement(c.Text,a({name:m||b?"":"canvas-img-loading"},f["default"].setMdIcon(),f["default"].setCarouselImg(h,30,.3),{text:"photo_size_select_actual"})):u["default"].createElement(c.Image,{name:y&&y.src?"":"canvas-img-loading",width:r,height:r*e.imgWHSize,image:y,ref:function(t){return e.imageDom=t}}),1!=i.length&&s?this.getCarouselPoints(h):undefined)},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"loadImage",null),t}(u["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(36)),h=l(n(1291)),g=[{title:"标题 1",active:!1},{title:"标题 2",active:!0},{title:"标题 3",active:!1}],y="我们是一个小小的团队，但是有着大大的梦想。我们想做最酷的产品，想做最有挑战的技术，想用我们的力量改变国内研发团队的工作习惯！现在，我们向全国的小伙伴发出邀请，欢迎加入「即时原型」！",m=0,_=function(e){function t(t){var n=e.call(this,t)||this;return n.childContentArr=[],n.contentDoms=null,n.state={},n}return o(t,e),t.prototype.getDefaultList=function(e){var t=[];for(var n in e){var r=e[n];t.push(r)}return t},t.prototype.getListData=function(e){var t=[];return this.getDefaultList(e).map(function(e){e.active!=undefined&&t.push(e)}),t},t.prototype.getContentPosi=function(e,t,n,r){var o=0,a=0;if(r!=g){for(var i=0;i<t;i++)o+=e[i];for(i=0;i<=t;i++)a+=e[i];return{offsetHeight:o,currentIndex:t,isActive:n.active,textContent:n.content?n.content[0]:y,contentHeight:0==e[t]?0:e[t],anylizeHeight:a}}},t.prototype.render=function(){var e=this,t=e.props,n=t.cssData,r=n.type,o=n.id,i=n.width,s=n.height,l=n.fontSize,d=n.iconSize,_=n.textColor,v=n.childTextColor,b=n.childFontSize,w=n.data,C=n.listHeight,x=n.typeIndex,S=n.headerBackground,P=n.childBackground,k=t.cssData,O={width:.38*i,height:s},E={width:i-32},T=w==undefined?g:e.getListData(w);return m++,u["default"].createElement(f["default"],{cssData:k,setArr:["setType","setPosition","setRotate","setOpacity"]},w!=undefined?T.map(function(t,n){return u["default"].createElement(h["default"],{key:r+n+o,cssData:k,contentIndex:n,childContentArr:e.childContentArr,renderChange:m,parentRef:e,isOpen:t.active,contentPosi:e.getContentPosi(e.childContentArr,n,t,T),title:t.title})}):T.map(function(e,t){return[u["default"].createElement(c.Rect,{key:r+o+t+"titleBackColor",x:.6,y:t*C+(2==t?1==x?95:83:0)+(3==x?16*t:0),width:i-1.2,height:C,fill:S}),u["default"].createElement(c.Text,a({},p["default"].setMdIcon(),{key:r+o+t+"titleIcon",x:17,y:(C-d)/2+t*C+(t>1?1!=x?83:95:0)+(3==x?16*t:0),fill:"rgba(136, 136, 136, 1)",text:1==t?"keyboard_arrow_down":"keyboard_arrow_right"})),u["default"].createElement(c.Text,a({},p["default"].setPosi(O),p["default"].setFontFamily3(),{key:r+o+t+"title",x:41,y:(C-l)/2+C*t+(2==t?1!=x?83:95:0)+(3==x?16*t:0),text:e.title,wrap:"none",fill:_,fontSize:l})),1==t?[u["default"].createElement(c.Rect,{key:r+o+t+"contentBackColor",width:i-2,height:1!=x?83:95+(3==x?16*t:0),x:1,y:(t+1)*C+(3==x?16*t:0),fill:P}),u["default"].createElement(c.Text,a({},p["default"].setPosi(E),p["default"].setFontFamily3(),{key:r+o+t+"content",x:17+(2==x?-1:0),y:C*(t+1)+(1==x?16:4)+(3==x?16*t:0)+2,text:y,fill:v,fontSize:b,wrap:"char",lineHeight:1.5})),1==x?u["default"].createElement(c.Line,a({},p["default"].setAccordionLine(),{key:r+o+t+"contentLine",points:[0,2*C+95,i,2*C+95],strokeWidth:1})):undefined]:undefined,1!=x?u["default"].createElement(c.Line,a({},p["default"].setAccordionLine(),{key:r+o+t+"contentBLine",points:[0,2*C+83+(3==x?16:0),i,2*C+83+(3==x?16:0)],strokeWidth:1})):undefined,u["default"].createElement(c.Line,a({},p["default"].setAccordionLine(),{key:r+o+t+"titleBLine",points:[0,(t+1)*C+(2==t?1==x?95:83:0)+(3==x?16*t:0),i,(t+1)*C+(2==t?1==x?95:83:0)+(3==x?16*t:0)],strokeWidth:1})),1==x?u["default"].createElement(c.Line,a({},p["default"].setAccordionLine(),{key:r+o+t+"topLine",points:[0,0,i,0],strokeWidth:1})):undefined]}))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getDefaultList",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getListData",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Number,Object,Object]),s("design:returntype",void 0)],t.prototype,"getContentPosi",null),t}(u["default"].Component);t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(36)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.contentDoms=null,n.state={contentTextHeight:-1},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){return e.renderChange!==this.props.renderChange},t.prototype.componentDidMount=function(){this.getContentDoms()},t.prototype.componentDidUpdate=function(){this.getContentDoms()},t.prototype.getContentDoms=function(){var e=this.state.contentTextHeight,t=this.props,n=t.childContentArr,r=t.contentIndex,o=t.isOpen,a=t.parentRef,i=t.cssData,s=o?this.contentDoms.height():0;e!=s&&(n[r]=o?s+(1==i.typeIndex?32:20):0,this.setState({contentTextHeight:s}),a.setState({}))},t.prototype.render=function(){var e=this,t=e.props,n=t.cssData,r=n.width,o=n.childTextColor,i=n.childFontSize,s=n.listHeight,l=n.childBackground,d=n.data,p=n.textColor,h=n.fontSize,g=n.iconSize,y=n.iconColor,m=n.headerBackground,_=n.typeIndex,v=n.currentRadius,b=t.contentPosi,w=b.currentIndex,C=b.isActive,x=b.textContent,S=b.offsetHeight,P=b.contentHeight,k=Math.round(h),O=Math.round(g);return[null!=m?u["default"].createElement(c.Rect,{x:.6,y:w*s+S+(3==_?16*w:0),width:r-1.2,height:s,fill:m,cornerRadius:3==_?v:0}):undefined,u["default"].createElement(c.Text,a({},f["default"].setMdIcon(),{x:17-(3==_?1:0),y:S+s*w+(s-O)/2+(3==_?16*w:0),text:"keyboard_arrow_"+(C?"down":"right"),fill:y,fontSize:O})),u["default"].createElement(c.Text,a({},f["default"].setFontFamily3(),{width:.38*r,x:41-(3==_?1:0),y:S+s*w+(s-k)/2+(3==_?16*w:0),fill:p,fontSize:k,text:d[w].title?d[w].title:"选项 "+(w+1),wrap:"none"})),C?[null!=l?u["default"].createElement(c.Rect,{key:w+"contentBox",x:.6,width:r-1.2,height:P,y:(w+1)*s+S+(3==_?16*w:0),fill:l}):undefined,u["default"].createElement(c.Text,a({},f["default"].setFontFamily3(),{key:w+"contetText",ref:function(t){return e.contentDoms=t},width:r-32,x:17-(3==_?1:0),y:s*(w+1)+S+(1==_?16:4)+(3==_?16*w:0),text:x},f["default"].setFontFamily3(),{fill:o,fontSize:i,lineHeight:1.5,wrap:"word"}))]:undefined,u["default"].createElement(c.Line,a({},f["default"].setAccordionLine(),{points:[0,(w+1)*s+S+(3==_?16*w:0),r,(w+1)*s+S+(3==_?16*w:0)],strokeWidth:1})),1==_&&0!=w?u["default"].createElement(c.Line,a({},f["default"].setAccordionLine(),{points:[0,w*s+S+(3==_?16*w:0),r,w*s+S+(3==_?16*w:0)],strokeWidth:1})):undefined,1==_?u["default"].createElement(c.Line,a({},f["default"].setAccordionLine(),{points:[0,0,r,0],strokeWidth:1})):undefined,C&&0!=w?u["default"].createElement(c.Line,a({},f["default"].setAccordionLine(),{points:[0,w*s+S+(3==_?16*w:0),r,w*s+S+(3==_?16*w:0)],strokeWidth:1})):undefined,1!=_?u["default"].createElement(c.Line,a({},f["default"].setAccordionLine(),{points:[0,w*s+S+(3==_?16*w:0),r,w*s+S+(3==_?16*w:0)],strokeWidth:1})):undefined,1!=_&&w==d.length-1?u["default"].createElement(c.Line,a({},f["default"].setAccordionLine(),{points:[0,(w+1)*s+S+P+(3==_?16*w:0),r,(w+1)*s+S+P+(3==_?16*w:0)],strokeWidth:1})):undefined]},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getContentDoms",null),t}(u["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getRateDoms=function(e){for(var t=[],n=e.width,r=e.typeIndex,o=e.iconColor,i=e.selectIconColor,u=e.type,d=e.id,f=e.iconSize,p=e.value,h=e.num,g=e.allowHalf,y=Math.ceil(h),m=n,_=0==Math.floor(m/(f+8))?1:Math.floor(m/(f+8)),v=Math.round(f)>23?Math.round(f):23,b=Math.ceil(y/_)*v,w=0;w<Math.ceil(h);w++)t.push(1==r?s["default"].createElement(l.Text,a({},c["default"].setIconfontIcon(),c["default"].setRate(e,w,v,8),{key:u+d+w+"starIcon",text:"",fill:o})):s["default"].createElement(l.Text,a({},c["default"].setIconfontIcon(),c["default"].setRate(e,w,v,8),{key:u+d+w+"heartIcon",text:"",fill:o})),g?s["default"].createElement(l.Group,a({},0!=Math.floor(p)?a({},c["default"].setRateClip(e,8,w,_,v,b)):{},{key:u+d+w+"halfCoverIcon"}),1==r?s["default"].createElement(l.Text,a({},c["default"].setIconfontIcon(),c["default"].setRate(e,w,v,8),{text:"",fill:0!=Math.floor(p)?i:o})):s["default"].createElement(l.Text,a({},c["default"].setIconfontIcon(),c["default"].setRate(e,w,v,8),{text:"",fill:0!=Math.floor(p)?i:o}))):1==r?s["default"].createElement(l.Text,a({},c["default"].setIconfontIcon(),c["default"].setRate(e,w,v,8),{key:u+d+w+"halfStarIcon",text:"",fill:w<Math.floor(p)?i:o})):s["default"].createElement(l.Text,a({},c["default"].setIconfontIcon(),c["default"].setRate(e,w,v,8),{key:u+d+w+"halfHeartIcon",text:"",fill:w<Math.round(p)?i:o})));return t},t.prototype.render=function(){var e=this.props.cssData;return s["default"].createElement(u["default"],{cssData:e,setArr:["setType","setPosition","setRotate","setOpacity"]},this.getRateDoms(e))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props.cssData;return s["default"].createElement(u["default"],{cssData:e,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Rect,a({name:"copy-remove hot-spot"},c["default"].setPosi(e),{stroke:"rgba(37, 172, 209, .6)",strokeWidth:1,fill:"rgba(37, 172, 209, .1)",opacity:window.isPrototypeTool?1:0})))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.lineColor,o=t.minVal,i=t.maxVal,d=t.lineHeight,f=t.opacity,p=t.btnBackground,h=e.cssData,g={width:n,height:d},y={width:n*(i-o)/100,height:d};return s["default"].createElement(u["default"],{cssData:h,setArr:["setType","setPosition","setRotate"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(g),c["default"].setbgSlider(h,r),c["default"].setOpacity(h))),s["default"].createElement(l.Rect,a({},c["default"].setPosi(y),c["default"].setRangeMSlider(h),c["default"].setOpacity(h))),s["default"].createElement(l.Circle,a({},c["default"].setRangeMSliderBtn1(h),c["default"].setNormalBorder(h),c["default"].setSliderRadius(h),c["default"].setWhiteSliderBtn(f))),s["default"].createElement(l.Circle,a({},c["default"].setRangeMSliderBtn1(h),c["default"].setNormalBorder(h),c["default"].setOpacity(h),c["default"].setSliderRadius(h),{fill:p})),s["default"].createElement(l.Circle,a({},c["default"].setRangeMSliderBtn1(h),c["default"].setNormalBorder(h),c["default"].setOpacity(h),c["default"].setSliderRadius(h))),s["default"].createElement(l.Circle,a({},c["default"].setRangeMSliderBtn2(h),c["default"].setNormalBorder(h),c["default"].setSliderRadius(h),c["default"].setWhiteSliderBtn(f))),s["default"].createElement(l.Circle,a({},c["default"].setRangeMSliderBtn2(h),c["default"].setNormalBorder(h),c["default"].setOpacity(h),c["default"].setSliderRadius(h),{fill:p})),s["default"].createElement(l.Circle,a({},c["default"].setRangeMSliderBtn2(h),c["default"].setNormalBorder(h),c["default"].setOpacity(h),c["default"].setSliderRadius(h))))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.value,i=t.btnBorder,d=t.btnBackground,f=t.maxVal,p=e.cssData,h=r<14?14:r>35?34:r-1,g={width:h-Math.round(i)/2,height:h-Math.round(i)},y={width:n,height:r};return s["default"].createElement(u["default"],{cssData:p,setArr:["setType","setPosition","setRotate","setOpacity","setRectClip"]},s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setPosi(y),c["default"].setStepperValue(p),{text:o>0?""+Math.round(o):"0"})),s["default"].createElement(l.Rect,a({},c["default"].setPosi(g),c["default"].setNormalBorder(p),c["default"].setStepperLeftBtn(p),c["default"].setStepperRadius(p),{fill:d})),s["default"].createElement(l.Text,a({},c["default"].setMdIcon(),c["default"].setStepperBtnIcon(p,!0,h),{text:"remove"})),s["default"].createElement(l.Rect,a({},c["default"].setPosi(g),c["default"].setStepperRightBtn(p),c["default"].setNormalBorder(p),c["default"].setStepperRadius(p),{fill:d})),s["default"].createElement(l.Text,a({},c["default"].setMdIcon(),c["default"].setStepperBtnIcon(p,!1,h),{text:"add",opacity:o>=f?.3:1})))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.btnWidth,i=t.leftBtnText,d=t.rightBtnText,f=t.maxVal,p=t.value,h=t.btnBorder,g=t.btnBackground,y=e.cssData,m={width:o-Math.round(h),height:r-Math.round(h)};return s["default"].createElement(u["default"],{cssData:y,setArr:["setType","setPosition","setRotate","setOpacity","setRectClip"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(m),c["default"].setNormalBorder(y),c["default"].setBtnMaxRadius(y),c["default"].setPaginationOpacity(y,!0),{x:Math.round(h)/2,y:Math.round(h)/2,fill:g})),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setPosi(m),c["default"].setPaginationMWrapper(y,!0),c["default"].setEllipsis(),c["default"].setPaginationOpacity(y,!0),{text:""+(""==i?"Prev":i)})),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setPaginationMNumber(y,!0),{text:""+Math.round(p)})),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setPaginationMNumber(y,!1),{text:"/"+Math.round(f)})),s["default"].createElement(l.Rect,a({},c["default"].setPosi(m),c["default"].setNormalBorder(y),c["default"].setBtnMaxRadius(y),c["default"].setPaginationOpacity(y,!1),{x:n<=2*o+26?o+26:n-o+Math.round(h)/2,y:Math.round(h)/2,fill:g})),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setPosi(m),c["default"].setPaginationMWrapper(y,!1),c["default"].setEllipsis(),c["default"].setPaginationOpacity(y,!1),{text:""+(""==d?"Next":d)})))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=["我们是一个小小的团队","但是有着大大的梦想","我们想做最酷的产品","想做最有挑战的技术"],f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={currentText:d[0]},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.height,r=t.width,o=t.data,i=e.cssData,d={width:180,height:n};return s["default"].createElement(u["default"],{cssData:i,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(d))),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setCarouselText(i),{width:r,wrap:"none",text:o==undefined?this.state.currentText:o[0].title})))},t}(s["default"].Component);t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=n(421),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.isHaveChecked=function(e){for(var t=e.data,n=0,r=0;r<t.length;r++)t[r].select&&n++;return n},t.prototype.render=function(){var e=this,t=e.props,n=t.cssData,r=n.width,o=n.height,i=n.data,f=n.themeColor,p=n.fontSize,h=n.activeTextColor,g=n.textColor,y=n.background,m=t.cssData,_=o>27?o:27,v=i==undefined?3:i.length;return i==undefined?s["default"].createElement(u["default"],{cssData:m,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Path,{data:d.drawSegHeadPath({w:r/3,h:_,r:5}),stroke:f,strokeWidth:1,fill:i==undefined||i[0].select||0==e.isHaveChecked(m)?f:y}),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),{width:1*r/3,height:_,text:"选项 1",fill:i==undefined||i[0].select||0==e.isHaveChecked(m)?h:g,align:"center",y:(_-p)/2+.5,fontSize:p})),s["default"].createElement(l.Path,{data:d.drawSegMiddlePath({x:2*r/3,w:r/3,h:_}),stroke:f,strokeWidth:1,fill:i&&i[1].select?f:y}),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),{width:1*r/3,height:_,text:"选项 2",fill:i&&i[1].select?h:g,align:"center",x:1*r/3,y:(_-p)/2+.5,fontSize:p})),s["default"].createElement(l.Path,{data:d.drawSegLastPath({x:2*r/3,w:r,h:_,r:5}),stroke:f,strokeWidth:1,fill:i&&i[2].select?f:y}),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),{width:1*r/3,height:_,text:"选项 3",fill:i&&i[2].select?h:g,align:"center",x:2*r/3,y:(_-p)/2+.5,fontSize:p}))):s["default"].createElement(u["default"],{cssData:m,setArr:["setType","setPosition","setRotate","setOpacity"]},i.map(function(t,n){var o=t.title,u=t.select;return 0==n?[s["default"].createElement(l.Path,{key:o+"head"+n,data:d.drawSegHeadPath({w:r/v,h:_,r:5}),stroke:f,strokeWidth:1,fill:i==undefined||i[0].select||0==e.isHaveChecked(m)?f:y}),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),{key:o+"text"+n,width:1*r/i.length,height:_,text:o,fill:i==undefined||i[0].select||0==e.isHaveChecked(m)?h:g,align:"center",y:(_-p)/2+.5,fontSize:p}))]:n==i.length-1?[s["default"].createElement(l.Path,{key:o+"middle"+n,data:d.drawSegLastPath({x:r*(v-1)/v,w:r,h:_,r:5}),stroke:f,strokeWidth:1,fill:u?f:y}),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),{key:o+"text"+n,width:1*r/i.length,height:_,text:o,fill:u?h:g,align:"center",x:r*(i.length-1)/i.length,y:(_-p)/2+.5,fontSize:p}))]:[s["default"].createElement(l.Path,{key:o+"last"+n,data:d.drawSegMiddlePath({x:r*(n+1)/v,w:r/v,h:_}),stroke:f,strokeWidth:1,fill:u?f:y}),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),{key:o+"text"+n,width:1*r/i.length,height:_,text:o,fill:u?h:g,align:"center",x:r*n/i.length,y:(_-p)/2+.5,fontSize:p}))]}))},t}(s["default"].Component);t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=n(96),c=i(n(52)),d=i(n(36)),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.typeIndex,i=t.btnColor,f=t.themeColor,p=t.opacity,h=e.cssData,g={width:n,height:r},y={width:n,height:r-.3*r},m={width:r-4,height:r-4},_={width:n/2,height:r-1.5},v={width:r,height:r},b=u.getRGBAobj(i),w=u.getRGBAobj(f);return s["default"].createElement(c["default"],{cssData:h,setArr:["setType","setPosition","setRotate"]},s["default"].createElement(l.Rect,a({},d["default"].setPosi([g,g,y][o-1]),d["default"]["setSwitchM"+o](h),d["default"].setOpacity(h))),1==b.a&&0!=p?s["default"].createElement(l.Rect,a({},d["default"].setPosi([m,_,v][o-1]),d["default"]["setSwitchM"+o+"Btn"](h),{fill:"rgba(255, 255, 255, 1)",opacity:w.a<1?0:1,shadowOpacity:0})):undefined,s["default"].createElement(l.Rect,a({},d["default"].setPosi([m,_,v][o-1]),d["default"]["setSwitchM"+o+"Btn"](h),d["default"].setOpacity(h))))},t}(s["default"].Component);t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.type,r=t.id,o=t.width,i=t.data,d=t.listHeight,f=t.selectTextColor,p=t.textColor,h=t.opacity,g=t.background,y=e.cssData,m={width:o,height:.5},_={width:o-15,height:.5},v=["选项 1","选项 2","选项 3"],b=i==undefined?v:i;return s["default"].createElement(u["default"],{cssData:y,setArr:["setType","setPosition","setRotate","setOpacity","setRowClip"]},null!=g?s["default"].createElement(l.Rect,a({},c["default"].setPosi({width:o,height:b.length*d}),c["default"].setRadioMbg(y,b))):undefined,s["default"].createElement(l.Rect,a({},c["default"].setPosi(m),c["default"].setRadioMLine(y,!0,b))),b.map(function(e,t){return s["default"].createElement(l.Group,{key:n+r+t},s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setRadioMText(y,t,b),c["default"].setEllipsis(),{text:b==v?e:e.title,width:o-40,fill:b==v&&0==t?f:e.select?f:p})),t<b.length-1?s["default"].createElement(l.Rect,a({},c["default"].setPosi(_),c["default"].setRadioMShortLine(y,t,!1,b))):undefined,s["default"].createElement(l.Text,a({},c["default"].setRadioMIcon(y,t,b,19),c["default"].setMdIcon(),{text:"done",opacity:b==v&&0==t?h/100:e.select?h/100:0,fontStyle:"bold"})))}),s["default"].createElement(l.Rect,a({},c["default"].setPosi(m),c["default"].setRadioMLine(y,!1,b))))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.type,r=t.id,o=t.width,i=t.background,d=t.data,f=t.iconColor,p=t.selectIconColor,h=t.selectTextColor,g=t.textColor,y=t.listHeight,m=e.cssData,_={width:o,height:.5},v={width:o-51,height:.5},b={width:20,height:20},w=["选项 1","选项 2","选项 3"],C=d==undefined?w:d;return s["default"].createElement(u["default"],{cssData:m,setArr:["setType","setPosition","setRotate","setOpacity","setRowClip"]},null!=i?s["default"].createElement(l.Rect,a({},c["default"].setPosi({width:o,height:y*C.length}),c["default"].setRadioMbg(m,C))):undefined,s["default"].createElement(l.Rect,a({},c["default"].setPosi(_),c["default"].setRadioMLine(m,!0,C))),C.map(function(e,t){return s["default"].createElement(l.Group,{key:n+r+t},s["default"].createElement(l.Rect,a({},c["default"].setPosi(b),c["default"].setCheckboxMIcon(m,t,!1,C),{fill:C==w&&0==t?p:e.select?p:i,stroke:C==w&&0==t?p:e.select?p:f})),s["default"].createElement(l.Text,a({},c["default"].setMdIcon(),c["default"].setCheckboxMIcon(m,t,!0,C),{text:"done",fontSize:18,fill:"rgba(255, 255, 255, 1)",opacity:d==undefined?0==t?1:0:e.select?1:0})),s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setCheckboxMText(m,t,C),c["default"].setEllipsis(),{width:o-66,text:C==w?e:e.title,fill:C==w&&0==t?h:e.select?h:g})),t<C.length-1?s["default"].createElement(l.Rect,a({},c["default"].setPosi(v),c["default"].setRadioMShortLine(m,t,!0,C))):undefined)}),s["default"].createElement(l.Rect,a({},c["default"].setPosi(_),c["default"].setRadioMLine(m,!1,C))))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.background,i=t.title,d=t.iconKey,f=e.cssData,p={width:n,height:r};return s["default"].createElement(u["default"],{cssData:f,setArr:["setType","setPosition","setRotate","setOpacity"]},null!=o?s["default"].createElement(l.Rect,a({},c["default"].setPosi(p),{y:1,fill:o})):undefined,""!=i?s["default"].createElement(l.Text,a({},c["default"].setFontFamily1(),c["default"].setMenuMText(f,15,5),c["default"].setEllipsis(),{width:n-40,text:i})):undefined,""!=d?s["default"].createElement(l.Text,a({},c["default"].setMdIcon(),c["default"].setMenuMIcon(f,15),{text:d})):undefined)},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(36)),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.getSelectText=function(e){var t=e.data,n="";if(t==undefined)n="选项 1,选项 1";else for(var r=0;r<t.length;r++)for(var o=0;o<t[r].child.length;o++)t[r].child[o].select&&0!=r?n+=","+t[r].child[o].title:t[r].child[o].select&&0==r&&(n+=""+t[r].child[o].title);return n},t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.title,i=t.data,s=e.cssData,l=r>31?r:31,d={width:n-115.5,height:r},h=r>31?r:31;return u["default"].createElement(f["default"],{cssData:s,setArr:["setType","setPosition","setRotate","setOpacity"]},u["default"].createElement(c.Rect,a({},p["default"].setMobileSelectWrapper(s,h))),u["default"].createElement(c.Line,{points:[0,0,n,0],stroke:"rgba(221, 221, 221, 1)",strokeWidth:.5}),u["default"].createElement(c.Text,a({},p["default"].setFontFamily1(),p["default"].setPickerMTitle(s,15,l),p["default"].setEllipsis(),{text:o,width:.5*(n-30)-20})),u["default"].createElement(c.Text,a({},p["default"].setPosi(d),p["default"].setFontFamily1(),p["default"].setPickerMChildTitle(s,l,14),p["default"].setEllipsis(),{x:i==undefined?15+.4*(n-30)+.5*(n-30)-70+4:1==i.length?n-74:2==i.length?n-115:3==i.length?n-158:i.length>3?n-175:0,width:.5*(n-30),text:this.getSelectText(s),wrap:"none"})),u["default"].createElement(c.Text,a({},p["default"].setPickerMIcon(s,l,14),p["default"].setIconfontIcon(),{x:n*(n-35)/n+8,text:"",opacity:n<=30?0:1})),u["default"].createElement(c.Line,{points:[0,l,n+1,l],stroke:"rgba(221, 221, 221, 1)",strokeWidth:.5}))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getSelectText",null),t}(u["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.title,i=e.cssData,d=r>31?r-1:30,f={width:.38*n,height:r};return s["default"].createElement(u["default"],{cssData:i,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Rect,a({},c["default"].setMobileSelectWrapper(i,d))),s["default"].createElement(l.Line,{points:[0,1,n,1],stroke:"rgba(221, 221, 221, 1)",strokeWidth:.5}),""!=o?s["default"].createElement(l.Text,a({},c["default"].setPosi(f),c["default"].setFontFamily1(),c["default"].setPickerMTitle(i,15,d),c["default"].setEllipsis(),{text:o,wrap:"none",width:n-30+20})):undefined,s["default"].createElement(l.Text,a({},c["default"].setIconfontIcon(),c["default"].setPickerMIcon(i,d,14),{text:"",opacity:.6,fontSize:14})),s["default"].createElement(l.Line,{points:[0,d,n,d],stroke:"rgba(221, 221, 221, 1)",strokeWidth:.5}))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(155)),c=i(n(52)),d=i(n(36)),f=new Date,p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.height,o=t.title,i=t.formatType,p=e.cssData,h={width:.38*n,height:r},g={width:n-("HH:mm"==i?65.5:138.5),height:r},y=r>31?r-1:30;return s["default"].createElement(c["default"],{cssData:p,setArr:["setType","setPosition","setRotate","setOpacity"]},s["default"].createElement(l.Rect,a({},d["default"].setMobileSelectWrapper(p,y))),""!=o?s["default"].createElement(l.Text,a({},d["default"].setPosi(h),d["default"].setFontFamily1(),d["default"].setPickerMTitle(p,15,y),d["default"].setEllipsis(),{text:o,width:.5*(n-30)-20})):undefined,s["default"].createElement(l.Text,a({},d["default"].setPosi(g),d["default"].setFontFamily1(),d["default"].setDatePickerM(p),d["default"].setEllipsis(),{width:.5*(n-30),text:u["default"](f).format(i)})),s["default"].createElement(l.Text,a({},d["default"].setIconfontIcon(),d["default"].setPickerMIcon(p,y,14),{text:"",opacity:n<40?0:1})))},t}(s["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(36)),h=l(n(1307)),g=["标题 1","标题 2","标题 3"],y=0,m=function(e){function t(t){var n=e.call(this,t)||this;return n.childContentArr=[],n.state={contentHeight:-1},n}return o(t,e),t.prototype.getCheckedNum=function(e){for(var t=0,n=[],r=0;r<e.length;r++)if(e[r].active){t=!0;for(var o=0,a=0;a<r;a++)e[a].active&&o++;n.push({currentIndex:t,haveOpenedNum:o})}else{t=!1;for(o=0,a=0;a<r;a++)e[a].active&&o++;n.push({currentIndex:t,haveOpenedNum:o})}return n},t.prototype.getOpenedNum=function(e){for(var t=0,n=0,r=e;n<r.length;n++){r[n].currentIndex&&t++}return t},t.prototype.getContentPosi=function(e,t,n,r){for(var o=0,a=0,i=0;i<t;i++)o+=e[i];for(i=0;i<=t;i++)a+=e[i];return{offsetHeight:o,currentIndex:t,isActive:n.active,textContent:n.content[0],contentHeight:0==e[t]?0:e[t],anylizeHeight:a}},t.prototype.render=function(){var e=this,t=e.props,n=t.cssData,r=n.type,o=n.id,i=n.width,s=n.fontSize,l=n.textColor,d=n.childTextColor,m=n.childFontSize,_=n.iconColor,v=n.iconSize,b=n.listHeight,w=n.data,C=n.background,x=n.childBackground,S=t.cssData,P={width:i-54,height:b},k={width:i-15},O=Math.round(s),E=Math.round(m),T=Math.round(v),M=w==undefined?g:w;return y++,u["default"].createElement(f["default"],{cssData:S,setArr:["setType","setPosition","setRotate","setOpacity"]},M==g||0==w.length?M.map(function(t,n){return[u["default"].createElement(c.Rect,{key:r+o+n+"titleBackColor",width:i,height:b,y:b*n+(0==n?1:102),fill:C}),u["default"].createElement(c.Line,a({},p["default"].setAccordionLine(),{key:r+o+n+"titleTopLine",points:[0,n*b+(0!=n?102:0),i,n*b+(0!=n?102:0)]})),u["default"].createElement(c.Text,a({},p["default"].setPosi(P),p["default"].setFontFamily3(),p["default"].setEllipsis(),{key:r+o+n+"titleText",x:15,y:b*n+(b-O)/2+(M==g&&0!=n?102:102*e.getCheckedNum(M)[n].haveOpenedNum),fill:l,fontSize:O,text:M==g?t:t.title,strokeWidth:.5})),u["default"].createElement(c.Text,a({},p["default"].setMdIcon(),{key:r+o+n+"titleIcon",x:i-38,y:b*n+(b-(T+10))/2+(M==g&&0!=n?102:102*e.getCheckedNum(M)[n].haveOpenedNum),fontSize:T+10,fill:_,text:"keyboard_arrow_"+(M==g?0==n?"up":"down":t.active?"up":"down")})),0==n?[u["default"].createElement(c.Rect,{key:r+o+n+"titlebg",width:i,height:102,fill:x,y:b}),u["default"].createElement(c.Text,a({},p["default"].setPosi(k),p["default"].setFontFamily3(),{key:r+o+n+"titleContent",text:"我们是一个小小的团队，但是有着大大的梦想。我们想做最酷的产品，想做最有挑战的技术，想用我们的力量改变国内研发团队的工作习惯！现在，我们向全国的小伙伴发出邀请，欢迎加入「即时原型」！",x:15,y:b+15,width:i-45,fill:d,fontSize:E,lineHeight:1.5})),u["default"].createElement(c.Line,a({},p["default"].setAccordionLine(),{key:r+o+n+"bottomLine",points:[0,b*M.length+102+.5,i,b*M.length+102+.5]}))]:undefined,u["default"].createElement(c.Line,a({},p["default"].setAccordionLine(),{key:r+o+n+"titlebottomLine",points:[0,b,i,b]}))]}):M.map(function(t,n){return u["default"].createElement(h["default"],{key:r+o+n,cssData:S,contentIndex:n,renderChange:y,childContentArr:e.childContentArr,parentRef:e,contentText:t.content,contentPosi:e.getContentPosi(e.childContentArr,n,t,M),title:t.title,isOpen:t.active})}))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getCheckedNum",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getOpenedNum",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Number,Object,Object]),s("design:returntype",void 0)],t.prototype,"getContentPosi",null),t}(u["default"].Component);t["default"]=m},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(36)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.contentDoms=null,n.state={contentTextHeight:-1},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e){return e.renderChange!==this.props.renderChange},t.prototype.componentDidMount=function(){this.getContentDoms()},t.prototype.componentDidUpdate=function(){this.getContentDoms()},t.prototype.getContentDoms=function(){var e=this.state.contentTextHeight,t=this.props,n=t.childContentArr,r=t.contentIndex,o=t.isOpen,a=t.parentRef,i=o?this.contentDoms.height():0;e!=i&&(n[r]=i+(o?30:0),this.setState({contentTextHeight:i}),a.setState({}))},t.prototype.render=function(){var e=this,t=e.props,n=t.cssData,r=n.width,o=n.childTextColor,i=n.childFontSize,s=n.listHeight,l=n.childBackground,d=n.data,p=n.background,h=n.textColor,g=n.fontSize,y=n.iconSize,m=n.iconColor,_=n.type,v=n.id,b=t.contentIndex,w=t.contentPosi,C=t.title,x=w,S=x.currentIndex,P=x.isActive,k=x.textContent,O=x.offsetHeight,E=x.contentHeight,T=x.anylizeHeight,M=Math.round(g),D=Math.round(i),A=Math.round(y);return[u["default"].createElement(c.Rect,{key:_+v+b+"backColor",width:r,height:s,y:O+s*S,fill:p}),u["default"].createElement(c.Line,a({},f["default"].setAccordionLine(),{key:_+v+b+"titleTopLine",points:[0,O+s*S,r,O+s*S]})),u["default"].createElement(c.Text,a({},f["default"].setFontFamily3(),f["default"].setEllipsis(),{key:_+v+b+"titleText",width:r-54,x:15,y:O+s*S+(s-M)/2,text:C,fill:h,fontSize:M,strokeWidth:.5})),u["default"].createElement(c.Text,a({},f["default"].setMdIcon(),{key:_+v+b+"titleIcon",x:r-38,y:O+s*S+(s-A-10)/2,fontSize:A+10,fill:m,text:"keyboard_arrow_"+(P?"up":"down")})),P?[u["default"].createElement(c.Rect,{key:_+v+b+"contentBg",width:r,height:E,fill:l,y:(S+1)*s+O}),u["default"].createElement(c.Text,a({},f["default"].setFontFamily3(),{key:_+v+b+"contentText",ref:function(t){return e.contentDoms=t},text:k,x:15,y:(S+1)*s+O+15,width:r-45,fill:o,fontSize:D,lineHeight:1.5,wrap:"char"}))]:u["default"].createElement(c.Text,{key:_+v+b+"fakeContentText",ref:function(t){return e.contentDoms=t},text:""}),P&&S==d.length-1?u["default"].createElement(c.Line,a({},f["default"].setAccordionLine(),{key:_+v+b+"lastContentLine",points:[0,(S+1)*s+T,r,(S+1)*s+T]})):undefined,P?u["default"].createElement(c.Line,a({},f["default"].setAccordionLine(),{key:_+v+b+"titleBottomLine",points:[0,O+s*S+s,r,O+s*S+s]})):S!=d.length-1||P?undefined:u["default"].createElement(c.Line,a({},f["default"].setAccordionLine(),{key:_+v+b+"lastBottomLine",points:[0,O+s*S+s,r,O+s*S+s]}))]},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getContentDoms",null),t}(u["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=t.width,r=t.value,o=t.btnBackground,i=t.lineColor,d=t.lineSelectColor,f=t.lineHeight,p=t.opacity,h=e.cssData,g={width:n,height:f},y={width:Math.round(n*r/100),height:f};return s["default"].createElement(u["default"],{cssData:h,setArr:["setType","setPosition","setRotate"]},s["default"].createElement(l.Rect,a({},c["default"].setPosi(g),c["default"].setbgSlider(h,i),c["default"].setOpacity(h),{fill:i})),s["default"].createElement(l.Rect,a({},c["default"].setPosi(y),c["default"].setbgSlider(h,d),c["default"].setOpacity(h),{fill:d})),s["default"].createElement(l.Circle,a({},c["default"].setSliderBtn(h),c["default"].setNormalBorder(h),c["default"].setSliderRadius(h),c["default"].setWhiteSliderBtn(p))),s["default"].createElement(l.Circle,a({},c["default"].setSliderBtn(h),c["default"].setNormalBorder(h),c["default"].setOpacity(h),c["default"].setSliderRadius(h),{fill:o})),s["default"].createElement(l.Circle,a({},c["default"].setSliderBtn(h),c["default"].setNormalBorder(h),c["default"].setOpacity(h),c["default"].setSliderRadius(h))))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(52)),p=l(n(36)),h=$.getStaticUrl(),g="rgba(217, 217, 217, 1)",y=function(e){function t(t){var n=e.call(this,t)||this;n.imageDoms=null,n.imgWHsize=-1,n.isLoad=!1;var r=new window.Image;return r.crossOrigin="Anonymous",n.state={img:r,isError:!1,imgWidth:0,imgHeight:0},n}return o(t,e),t.prototype.componentDidMount=function(){this.loadImage()},t.prototype.componentDidUpdate=function(){this.loadImage()},t.prototype.loadImage=function(){var e=this,t=e.props.cssData.data,n=e.state,r=n.img,o=n.isError,a=t==undefined?"":t[0].src,i=!a||a&&-1!=a.indexOf("defaultImg");if((!o&&!i||!e.isLoad)&&r.src!=h+a){if(i)return e.isLoad=!0,void e.setState({isError:!0});r.crossOrigin="Anonymous",e.imgWHsize=-1,r.onload=function(){if(e.imgWHsize=r.width/r.height,!e.imageDoms)return e.isLoad=!0,void e.setState({isError:!1});e.imageDoms.getLayer().draw(),e.isLoad||(e.isLoad=!0,e.setState({isError:!1}))},r.onerror=function(){e.isLoad||(e.isLoad=!0,e.setState({isError:!0}))},r.src=h+a}},t.prototype.getSlidePoint=function(e,t){for(var n=[],r=e.type,o=e.id,a=e.width,i=e.height,s=e.activeDotColor,l=e.dotColor,d=0;d<t;d++)n.push(u["default"].createElement(c.Circle,{key:r+o+d,x:(a-14*t)/2+14*d+3+4,y:i-9.5,radius:4,fill:0==d?s:l}));return n},t.prototype.render=function(){var e=this,t=this.props,n=t.cssData,r=n.width,o=n.height,i=n.data,s=n.dots,l=n.typeIndex,d=n.opacity,h=n.radius,y=void 0===h?0:h,m=n.isMaxRadius,_=n.type,v=n.id,b=t.cssData,w=this.state,C=w.img,x=(w.imgWidth,w.imgHeight,w.isError),S=i==undefined?3:i.length,P={width:r,height:o},k={width:.8*r,height:o},O=m?Math.min(r,o)/2:y,E=!!("/images/defaultImg.png"==b.src||C&&C.src&&-1!=C.src.indexOf("defaultImg"));return u["default"].createElement(f["default"],{cssData:b,setArr:["setType","setPosition","setRotate","setOpacity","setRectClip"]},1==l?u["default"].createElement(c.Group,a({},p["default"].setSingleRadiusClip(r,o,O,0)),u["default"].createElement(c.Rect,a({},p["default"].setPosi(P),p["default"].setMaxRadius(b),{fill:g})),!this.isLoad||x||E?u["default"].createElement(c.Text,a({},p["default"].setMdIcon(),{x:(r-30)/2,y:(o-30)/2+2.5,text:"photo_size_select_actual",fontSize:30,fill:"#a2a2a2",opacity:d/100,name:x||E?"":"canvas-img-loading"})):u["default"].createElement(c.Image,{name:C&&C.src?"":"canvas-img-loading",width:r,height:r/this.imgWHsize,image:C,ref:function(t){return e.imageDoms=t}})):[u["default"].createElement(c.Rect,a({},p["default"].setPosi(k),p["default"].setMaxRadius(b),{key:_+v+"leftCarousel",x:-(k.width-(r-k.width-20)/2),fill:g})),u["default"].createElement(c.Rect,a({},p["default"].setPosi(k),p["default"].setMaxRadius(b),{key:_+v+"cneterCarousel",x:.1*r,fill:g})),u["default"].createElement(c.Rect,a({},p["default"].setPosi(k),p["default"].setMaxRadius(b),{key:_+v+"rightCarousel",x:r-(r-k.width-20)/2,fill:g})),!this.isLoad||x||E?u["default"].createElement(c.Text,a({},p["default"].setMdIcon(),{key:_+v+"defaultIcon",x:(r-30)/2,y:(o-30)/2+2.5,text:"photo_size_select_actual",fontSize:30,fill:"#a2a2a2",opacity:d/100,name:x||E?"":"canvas-img-loading"})):u["default"].createElement(c.Group,a({},p["default"].setSpecialCarouselClip(b),{key:_+v+"img"}),u["default"].createElement(c.Image,{name:C&&C.src?"":"canvas-img-loading",width:.8*r,height:.8*r/this.imgWHsize,x:.1*r,image:C,ref:function(t){return e.imageDoms=t}}))],s&&1!=S?this.getSlidePoint(b,S):undefined)},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"loadImage",null),t}(u["default"].Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(125)),d=n(28),f=l(n(3)),p=l(n(5)),h=l(n(52)),g=l(n(1311)),y=l(n(1312)),m=l(n(1313)),_=l(n(36)),v=l(n(453)),b=l(n(92)),w=window.$,C=[{name:"个人",value:"34"},{name:"团队",value:"22"},{name:"部门",value:"23"}],x=window.isPrototypeTool,S=function(e){function t(t){var n=e.call(this,t)||this;return n.groupDom=null,n.state={radarData:[]},n}return o(t,e),t.prototype.componentDidMount=function(){this.renderFunc(!0)},t.prototype.componentDidUpdate=function(){var e=this.props.cssData.interfaceId;this.renderFunc(window.renderActivePage&&p["default"].getActivePage()==e)},t.prototype.getCircleCount=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].y;return t},t.prototype.renderFunc=function(e){if(void 0===e&&(e=!1),"multi-view"===p["default"].getViewMode()||e||!x){var t=this.groupDom,n=this.props.cssData;if(t){var r=n.type,o=n.id,a=n.width,i=n.height,s=w('<div id="canvas-'+r+"-"+o+'" class="chart-canvas-container" style="width: '+a+"px; height: "+i+'px;" />');s.appendTo(w(document.body));var l=v["default"].getContr(r),d=u["default"].createElement(l,{contr:n,canvasDom:t});c["default"].render(d,s[0])}}},t.prototype.getChartLegendFunc=function(e,t){var n=[],r=t.data,o=t.width,i=t.height,s=t.title,l=t.titleFontSize,c=t.percent,f=t.textFontSize,p=t.percentFontSize,h=t.hasLegend,v=t.type,w=t.id,x=t.textColor,S=void 0===x?"":x,P=t.titleColor,k=void 0===P?"":P,O=r!=undefined?r:C,E=h?o-240:o,T={width:o},M={width:E},D="circle"==e||"pie"==e?b["default"].getDefaultData(e,r):null,A="circle"==e||"pie"==e?this.getCircleCount(D):0;switch(e){case"miniCircle":n.push(u["default"].createElement(d.Text,a({},_["default"].setPosi(T),{key:v+w+"title",text:s,x:E/4,width:E/2,y:(i-l)/2-15,fill:k,align:"center",fontSize:l,lineHeight:1.5})),u["default"].createElement(d.Text,a({},_["default"].setPosi(T),{key:v+w+"val",text:Math.round(c)+"%",y:(i-f)/2+18,fill:S,align:"center",fontSize:f})));break;case"circle":n.push(u["default"].createElement(d.Text,a({},_["default"].setPosi(M),_["default"].setFontFamily3(),{key:v+w+"title",x:E/4,width:E/2,text:s,y:(i-l)/2-12,lineHeight:1.5,fill:k,align:"center",fontSize:l})),u["default"].createElement(d.Text,a({},_["default"].setPosi(M),_["default"].setFontFamily3(),{key:v+w+"val",text:""+A,y:(i-f)/2+20,fill:S,align:"center",fontSize:f})),h?u["default"].createElement(m["default"],{key:v+w+"circleLegend",cssData:t,legendData:D,totalNum:A,isPie:!1}):undefined);break;case"gauge":n.push(u["default"].createElement(d.Text,a({},_["default"].setPosi(T),{key:v+w+"title",width:o,text:s,y:i-50+3,fill:k,align:"center",fontSize:l})),u["default"].createElement(d.Text,a({},_["default"].setPosi(T),{key:v+w+"val",text:Math.round(c)+"%",y:i-50+20+4,fill:S,align:"center",fontSize:p})));break;case"waterWave":n.push(u["default"].createElement(g["default"],{key:v+w+"title",cssData:t}));break;case"radar":h?n.push(u["default"].createElement(y["default"],{key:e+w+"radar",cssData:t,listData:O})):undefined;break;case"pie":h?n.push(u["default"].createElement(m["default"],{key:e+w+"pie",cssData:t,legendData:D,totalNum:A,isPie:!0})):undefined}return n},t.prototype.render=function(){var e=this,t=e.props.cssData;return u["default"].createElement(h["default"],{cssData:t,setArr:["setType","setPosi","setPosition","setRotate","setOpacity"]},u["default"].createElement(d.Group,a({},_["default"].setType(t),_["default"].setPosi(t),{ref:function(t){return e.groupDom=t}})),e.getChartLegendFunc(t.type,t))},i([f["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"renderFunc",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[String,Object]),s("design:returntype",void 0)],t.prototype,"getChartLegendFunc",null),t}(u["default"].Component);t["default"]=S},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=n(28),c=s(n(3)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.waterTextDom=null,n.state={waterTextHeight:21},n}return o(t,e),t.prototype.componentDidMount=function(){this.getWaterTextDoms()},t.prototype.componentDidUpdate=function(){this.getWaterTextDoms()},t.prototype.getWaterTextDoms=function(){var e=this.state.waterTextHeight;if(this.waterTextDom){var t=this.waterTextDom.height();e!=t&&this.setState({waterTextHeight:t})}},t.prototype.render=function(){var e=this,t=this.props.cssData,n=t.width,r=t.title,o=t.fontColor,a=t.titleFontSize,i=t.percentColor,s=t.percentFontSize,c=t.percent,d=t.type,f=t.id,p=this.state.waterTextHeight;return[l["default"].createElement(u.Text,{key:d+f+"text",width:n,ref:function(t){return e.waterTextDom=t},text:r,y:34,fill:o,align:"center",fontSize:a,lineHeight:1.2}),l["default"].createElement(u.Text,{key:d+f+"num",width:n,text:Math.round(c)+"%",y:""==r?41:p+33+(32-s)/2,fill:i,align:"center",fontSize:s})]},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"getWaterTextDoms",null),t}(l["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(36)),p=[{name:"个人",value:"34"},{name:"团队",value:"22"},{name:"部门",value:"23"}],h=["First","Second","Third","Fourth","Fifth"],g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.getRadarData=function(e){var t=[],n=[];if(e==p)return e;for(var r=0;r<e.length;r++)n.indexOf(e[r].name)<0&&n.push(e[r].name);for(r=0;r<n.length;r++){for(var o=0,a=0;a<e.length;a++)n[r]==e[a].name&&(o+=+e[a].value);0!=o&&t.push({name:n[r],value:o})}return t},t.prototype.render=function(){var e=this.props,t=e.cssData,n=e.listData,r=t.width,o=t.height,i=t.fontSize,s=t.dataFontSize,l=t.type,d=t.id,p=(t.textColor,t.legendNumberColor),g=void 0===p?"":p,y=t.legendTextColor,m=void 0===y?"":y,_=this.getRadarData(n).length,v=(r/_-40)/2+3,b=o<80?155:o<97?97:o;return this.getRadarData(n).map(function(e,n){var o=e.name,p=e.value;return[u["default"].createElement(c.Circle,{key:l+d+n+"circlePoint",x:v+r/_*n,y:b-45,radius:3,fill:t["type"+h[n]+"Color"]}),u["default"].createElement(c.Text,{key:l+d+n+"titleText",x:v+r/_*n+9,y:b-54,text:o,fontSize:i,fill:m}),u["default"].createElement(c.Text,a({},f["default"].setFontFamily1(),{key:l+d+n+"dataNum",x:v+r/_*n+13,y:b-26,text:p,fill:g,fontSize:s})),n==_-1?undefined:u["default"].createElement(c.Line,{key:l+d+n+"columnLine",points:[r/_*(n+1),b-52,r/_*(n+1),b-8],stroke:"rgba(232, 232, 232, 1)",strokeWidth:.5})]})},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getRadarData",null),t}(u["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(36)),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=e.legendData,r=e.totalNum,o=e.isPie,i=t.type,c=t.id,d=t.width,f=t.height,p=t.colorList,h=t.legendFontSize,g=t.nameColor,y=void 0===g?"":g,m=t.percentColor,_=void 0===m?"":m,v=t.numberColor,b=void 0===v?"":v,w="pie"==i?3:0,C=d>424?1:d/424,x=d-220*C,S=f>212?(f-212)/2:0,P=d>=424?22:22*C,k=h*(d>=424?1:C),O=8*(d>=424?1:C),E=14*C;return n.map(function(e,t){var n=e.x,f=e.y;return[s["default"].createElement(l.Circle,{key:i+c+t+"circlePoint",y:S+(P+16*C)*t+(P-O)/2+O/2+(o?3:0),x:x+O/2,radius:O/2,fill:p[t]}),s["default"].createElement(l.Text,a({},u["default"].setFontFamily3(),{key:i+c+t+"text",x:x+16*C,y:S+(P+16*C)*t+(P-k+2)/2+w,text:n,fontSize:k-2,fill:y})),s["default"].createElement(l.Line,{key:i+c+t+"columnLine",points:[x+48*C,S+(P+16*C)*t+4+(o?3:0),x+48*C,S+(P+16*C)*t+4+(o?3:0)+E],stroke:"rgba(232, 232, 232, 0.5)",strokeWidth:.1}),s["default"].createElement(l.Text,{key:i+c+t+"percentNum",x:x+56*C,y:S+(P+16*C)*t+(P-k-2)/2+2+(o?3:0),text:(f/r*100).toFixed(2)+"%",fontSize:k-2,fill:_}),s["default"].createElement(l.Text,{key:i+c+t+"number",x:d-49*C,y:S+(P+16*C)*t+(P-k-2)/2+2+w,text:f,fill:b,fontSize:k-2})]})},t}(s["default"].Component);t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=e.cssData,r=n.width,o=n.height,i=n.percent,d=n.defaultColor,f=n.progressColor,p={width:r,height:o},h={width:r*i/100,height:o};return s["default"].createElement(u["default"],{cssData:t,setArr:["setType","setPosition","setRotate","setOpacity"]},100!=i?s["default"].createElement(l.Rect,a({},c["default"].setPosi(p),{fill:d})):undefined,i>0?s["default"].createElement(l.Rect,a({},c["default"].setPosi(h),{fill:f})):undefined)},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(28),u=i(n(52)),c=i(n(36)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cssData,n=e.cssData,r=n.width,o=n.height,i=n.defaultColor,d=n.progressColor,f=n.textColor,p=n.percent,h=n.lineWidth,g=n.showText;return s["default"].createElement(u["default"],{cssData:t,setArr:["setType","setPosition","setRotate","setOpacity"]},100!=p?s["default"].createElement(l.Shape,{sceneFunc:function(e){e.beginPath(),e.arc(r/2,o/2,.875*r/2,0,2*Math.PI),e.fillStrokeShape(this)},stroke:i,strokeWidth:h-5+(o-200)/50}):undefined,0!=p?s["default"].createElement(l.Shape,{sceneFunc:function(e){e.beginPath(),e.arc(r/2,o/2,.875*r/2,1.5*Math.PI,1.5*Math.PI+2*Math.PI*Math.round(p)/100),e.fillStrokeShape(this)},stroke:d,strokeWidth:Math.round(h)/2,lineCap:"round"}):undefined,s["default"].createElement(l.Text,a({},c["default"].setPosi({width:r,height:o}),{text:g?Math.round(p)+"%":"",y:(o-.2*o)/2,align:"center",fill:f,fontSize:.2*o,fontFamily:"Helvetica, Arial, sans-serif",fontStyle:"bold"})))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=u(n(3)),f=u(n(23)),p=u(n(27)),h=u(n(5)),g=u(n(36)),y=n(28),m=n(166),_=u(n(42)),v=n(98),b=window,w=b.$,C=b.isPrototypeTool,x=50,S=-64,P=100,k=window.phoneSize.width-10,O=20,E=22,T=10;function M(e){var t=e.pageId,n=e.pageIdx,r=[];return n>=99?r.push(c["default"].createElement(y.Rect,{key:"page-number"+t,offsetY:E-2,height:2*E,width:4*E,stroke:"#fff",strokeWidth:1,cornerRadius:E,listening:!1}),c["default"].createElement(y.Text,a({},g["default"].setFontFamily1(),{key:"page-name"+t,text:""+((n||0)+1),width:4*E,align:"center",fill:"#fff",fontSize:25,offsetY:10,listening:!1}))):r.push(c["default"].createElement(y.Ring,{key:"page-number"+t,offsetY:-2,innerRadius:O,outerRadius:E,x:E,fill:"#fff",listening:!1}),c["default"].createElement(y.Text,a({},g["default"].setFontFamily1(),{key:"page-name"+t,text:""+((n||0)+1),width:2*E,align:"center",fill:"#fff",fontSize:25,offsetY:10,listening:!1}))),r}var D=function(e){function t(t){var n=e.call(this,t)||this;return n.state={pageInput:p["default"].getPageInput()},n}return o(t,e),t.prototype.componentDidMount=function(){p["default"].addTitleChangeListener(this.lineChange)},t.prototype.componentWillUnmount=function(){p["default"].removeTitleChangeListener(this.lineChange)},t.prototype.lineChange=function(){this.setState({pageInput:p["default"].getPageInput()})},t.prototype.pageInputShow=function(){var e=window.mouseDownTarget,t=this.props,n=t.pageIdx,r=t.pageId;if(-1==["createDot","dragLine","moveComment"].indexOf(e.name)){var o=w(".page-idx-input")[0],a=f["default"].getStage(),i=h["default"].getPage(v.getPageIdByKey(r),!0).name,s=function(e){var t,n,r,o=e.stage,a=e.pageId,i=e.pageIdx>=99?P:x,s=k-i,l=C?h["default"].getZoom():_["default"].getMultiZoom(),u=h["default"].getView().isShowPageNo;if(o){var c=o.getStage(),d=m.findPage(c,a).getAbsolutePosition();t=d.x,n=d.y,r=(u?s:k+2*T)*l,t+=(u?i:-T-2)*l,n+=S*l}return{x:t,y:n,w:r}}({stage:a,pageId:r,pageIdx:n}),l=s.x,u=s.y,c=s.w;if(!o){var d={x:l,y:u,pageName:i,idx:n,pageId:r,w:c};p["default"].setPageInput(d)}}},t.prototype.render=function(){var e=this.props,t=e.pageId,n=e.pageIdx,r=this.state,o=r.pageInput.idx,i=r.pageInput,s=C?h["default"].getView():window.projectSet||{},l=s.isShowName,u=s.isShowPageNo,d=v.getPageIdByKey(t),f=C?h["default"].getPageByKey(d):_["default"].getPage(d),p=f?f.name:"",m=n>=99?P:x;return c["default"].createElement(y.Group,{x:0,y:-40,name:"copy-remove"},u?c["default"].createElement(M,{pageId:t,pageIdx:n}):undefined,!w.isEmptyObj(i)&&o==n||!l?undefined:c["default"].createElement(y.Text,a({},g["default"].setFontFamily1(),{text:p,fill:"#fff",fontSize:25,x:u?T+m:-2,offsetY:10,onMouseMove:C?this.pageInputShow:w.noop})))},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"lineChange",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"pageInputShow",null),t}(c.Component);t["default"]=D},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=u(n(3)),f=n(28),p=u(n(42)),h=n(830),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isPresentation:p["default"].isPresentation(),showPlayBtn:p["default"].getShowPlayBtn()},n}return o(t,e),t.prototype.componentDidMount=function(){p["default"].addChangeListener(this.changeIsPresentation)},t.prototype.componentWillUnmount=function(){p["default"].removeChangeListener(this.changeIsPresentation)},t.prototype.changeIsPresentation=function(){this.setState({isPresentation:p["default"].isPresentation(),showPlayBtn:p["default"].getShowPlayBtn()})},t.prototype.render=function(){var e=p["default"].getMultiZoom(),t=this.state,n=t.isPresentation,r=t.showPlayBtn;return n&&r?c["default"].createElement(f.Group,{name:"copy-remove"},c["default"].createElement(f.Circle,{radius:16/e,offsetY:-16/e,offsetX:24/e,fill:"#ff7676"}),c["default"].createElement(f.Path,{offsetX:766,offsetY:297,fill:"#fff",data:"M738,306.800097 L738,318.269433 C738,318.71126 738.358172,319.069433 738.8,319.069433 C738.953401,319.069433 739.103568,319.025328 739.232606,318.942375 L748.1532,313.207708 C748.524856,312.968786 748.632459,312.473815 748.393537,312.102159 C748.331564,312.005757 748.249602,311.923795 748.1532,311.861822 L739.232606,306.127155 C738.86095,305.888233 738.365979,305.995835 738.127057,306.367491 C738.044104,306.496529 738,306.646696 738,306.800097 Z",scale:{x:1/e,y:1/e}}),c["default"].createElement(f.Circle,a({radius:16/e,offsetY:-16/e,offsetX:24/e,fill:"transparent","data-type":"button","data-cursorkey":"pointer"},h.getHoverFunc()))):null},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"changeIsPresentation",null),t}(c.Component);t["default"]=g},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(594)),i=o(n(1319)),s=o(n(595)),l=o(n(464)),u=o(n(146)),c=o(n(202)),d=n(170),f=n(1321),p=window.$;function h(e){var t=e.currentTarget.attrs["data-id"];a["default"].getHoverKey()!=t&&a["default"].setHoverKey(t)}function g(e){var t=e.shiftKey,n=e.id,r=e.noRemove,o=void 0!==r&&r,i=a["default"].getSelectArr().slice(),s=!1,l=-1!==i.indexOf(n);return t?(l?o||i.remove(n):i.push(n),s=!0):l||(i=[n],s=!0),{selectArr:i,isChange:s}}function y(e){var t=e.evt,n=d.getEventAttr({event:e,key:"data-id"}),o=t.shiftKey,c=l["default"].getZoom(),f=!1,h=g({shiftKey:o,id:n,noRemove:!0}),y=h.selectArr,m=h.isChange;if(y&&y.length>0){var _=p.extend(!0,[],y.map(function(e){var t=s["default"].getOneElement(e);return{x:t.x,y:t.y}}));p.setDrag({name:"elementMove",posi:[t.clientX,t.clientY],target:t.target,moveFunc:function(e){var n=e.shiftKey;u["default"].setCursor("move"),f||(m&&a["default"].setSelectArr(y),i["default"].init({type:"elementMove",pos:{x:t.clientX,y:t.clientY}}),f=!0,""!=a["default"].getHoverKey()&&a["default"].setHoverKey("")),i["default"].move({pos:{x:e.clientX,y:e.clientY}});var o=[e.clientX-t.clientX,e.clientY-t.clientY];n&&(Math.abs(o[0])<Math.abs(o[1])?o[0]=0:o[1]=0),y.forEach(function(e,t){var n=_[t],a=n.x,i=n.y;s["default"].getOneElement(e).isLock||s["default"].changeElementVal(r({id:e,noEmit:!0},d.getRoundVals({x:a+o[0]/c,y:i+o[1]/c})))}),s["default"].emitChange()},endFunc:function(e){if(f)s["default"].emitChange();else{var t=g({shiftKey:o,id:n}),r=t.selectArr;t.isChange&&a["default"].setSelectArr(r)}u["default"].setCursor("base"),i["default"].hide()}})}}function m(e){h(e)}function _(e){h(e)}function v(){""!=a["default"].getHoverKey()&&a["default"].setHoverKey("")}t.elementRightMenu=function(e){},t.elementMouseDown=y,t.elementMouseEnter=m,t.elementMouseMove=_,t.elementMouseLeave=v,t.elementContextMenu=function(e){var t=[["复制",f.copyElement],["粘贴",function(){}]];c["default"].rightMenuUpdate({left:e.evt.clientX,top:e.evt.clientY,content:t})},t["default"]={elementMouseDown:y,elementMouseEnter:m,elementMouseMove:_,elementMouseLeave:v}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(n(464)),l=n(944),u=window.$,c={type:"",pos:{x:0,y:0,w:0,h:0}},d=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(e){var t=e.type,n=e.pos,r=e.noZoom?1:s["default"].getZoom();u.extend(!0,c,{type:t,pos:l.getZoomPos(n,r)}),d.emitChange()},t.prototype.move=function(e){var t=e.pos,n=t.x,r=t.y,o=e.noZoom?1:s["default"].getZoom(),a=c.pos,i=a.x,l=a.y;u.extend(!0,c,{pos:{w:n*o-i,h:r*o-l}}),d.emitChange()},t.prototype.hide=function(){c={type:"",pos:{x:0,y:0,w:0,h:0}},d.emitChange()},t.prototype.getDragSet=function(){return c},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(i.EventEmitter));t["default"]=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$,o={position:{x:0,y:0},backgroundColor:"rgba(44, 44, 50, 1)",hierarchy:[],zoom:1};function a(e){var t={};switch(e){case"page":t=o}return r.extend(!0,{},t)}t.getStatic=a,t["default"]={getStatic:a}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(595)),i=o(n(594)),s=o(n(464)),l=o(n(945)),u=o(n(880)),c=o(n(230)),d=n(96),f=n(170),p=n(946),h=n(1324),g=n(946);function y(e){var t=a["default"].getElements();t[e]&&(delete t[e],a["default"].emitChange())}function m(){var e=i["default"].getSelectArr(),t=a["default"].getOneElement(e[0]);t.border=t.border.filter(function(e){return!e.isSelect}),a["default"].changeElementVal({id:e[0],noExtend:!0,border:t.border})}function _(){var e=i["default"].getSelectArr(),t=a["default"].getOneElement(e[0]);t.shadow=t.shadow.filter(function(e){return!e.isSelect}),a["default"].changeElementVal({id:e[0],noExtend:!0,shadow:t.shadow})}function v(){var e=i["default"].getSelectArr(),t=a["default"].getElements(),n=s["default"].getPage().id,r=u["default"].getGuideLineByPage(n),o=!1;e&&e.length>0&&(e.forEach(function(e){t[e]&&(delete t[e],p.removeOneInPage(e),o=!0)}),r&&r.length&&r.forEach(function(e){var t=u["default"].getOneGuideLine(e),n=t.id,r=t.elementId;r&&!a["default"].getOneElement(r)&&u["default"].deleteOneGuideLine(n)}),o&&i["default"].setSelectArr([]))}function b(){var e=s["default"].getPage();i["default"].setSelectArr(e.hierarchy.slice())}function w(e,t){h.hideAllPopup();var n=i["default"].getSelectArr().map(function(e){return a["default"].getOneElement(e)}),o=n.length>1,s=n[0],l=s.baseType,u=s.name,f=s.bgcolor,p=o?"多个元素":u,g=o?"multiFrame":l;c["default"].init({hsba:d.getHsbaFromColor(f[0].color),name:"["+p+"] 背景色改变",handleObjType:g,type:"backgroundColorChange",target:e.target,isLeft:!0,isBottom:!1,callback:function(e,o){n.forEach(function(n){var i=n.id;f[t].color=d.rgbaObjToStr(r({a:e.a/100},o)),a["default"].changeElementVal({id:i,noEmit:!0,bgcolor:f})}),a["default"].emitChange()}}),e.stopPropagation()}function C(e){h.hideAllPopup();var t=i["default"].getSelectArr(),n=a["default"].getOneElement(t[0]).border,o=e.currentTarget.getAttribute("data-idx"),l=n[o].color;c["default"].init({hsba:d.getHsbaFromColor(l),name:"边框"+(o+1)+"颜色改变",handleObjType:"border",type:"borderColorChange",target:e.target,isLeft:!0,isBottom:!1,callback:function(e,i){n[o].color=d.rgbaObjToStr(r({a:e.a/100},i)),a["default"].changeElementVal({id:t[0],noEmit:!0,noExtend:!0,border:n}),s["default"].emitChange()}}),e.stopPropagation()}function x(e){h.hideAllPopup();var t=s["default"].getPage(),n=t.name,o=t.backgroundColor,a=t.id;c["default"].init({hsba:d.getHsbaFromColor(o),name:"["+n+"] 背景色改变",handleObjType:"page",type:"pageColorChange",target:e.target,isLeft:!0,isBottom:!1,callback:function(e,t){l["default"].changePageVal({id:a,noEmit:!0,backgroundColor:d.rgbaObjToStr(r({a:e.a/100},t))}),s["default"].emitChange()}}),e.stopPropagation()}function S(e){var t,n,o=e.colorVal,i=e.key,u=e.val,c=e.id,f=e.type,p=void 0===f?"element":f,h=e.target,g=e.idx,y=d.getRGBAobj(o);h?(h[g].color=d.rgbaObjToStr(r({},y,{a:u/100})),n={id:c,target:h}):((t={id:c})[i]=d.rgbaObjToStr(r({},y,{a:u/100})),n=t),"page"==p?(n.noEmit=!0,l["default"].changePageVal(n),s["default"].emitChange()):"element"==p&&a["default"].changeElementVal(n)}function P(){var e=u["default"].getSelectGuideLine();e&&u["default"].deleteOneGuideLine(e)}function k(){var e=a["default"].getShadowExchange(),t=e.startIdx,n=e.targetIdx;n=("top"==e.position?0:1)+n,n+=t<n?-1:0;var r=i["default"].getSelectArr(),o=a["default"].getOneElement(r[0]),s=o.shadow[t];o.shadow.splice(t,1),o.shadow.splice(n,0,s),a["default"].emitChange()}function O(){i["default"].getSelectArr().forEach(function(e){var t=f.generateUUID(),n=$.extend(!0,{},a["default"].getOneElement(e)),r=$.extend(!0,n,{id:t});g.addOneInPage(t),a["default"].createElement(r)})}function E(e,t,n,r){var o=s["default"].getMain().page.position,a=o.x,i=o.y,l=s["default"].getZoom(),u=s["default"].mainViewWH(),c=u.width,d=u.height;return c/=l,d/=l,{minX:Math.min(e,-a-n),minY:Math.min(t,-i-r),maxX:Math.max(e,-a+c),maxY:Math.max(t,-i+d),minWidth:1,maxWidth:Math.max(n,c),minHeight:1,maxHeight:Math.max(r,d)}}t.deleteElement=y,t.deleteSelectBorder=m,t.deleteSelectShadow=_,t.deleteSelectElement=v,t.selectAllElement=b,t.backgroundColorChange=w,t.borderColorChange=C,t.pageColorChange=x,t.opacityChange=S,t.deleteSelectGuideLine=P,t.exchangeShadow=k,t.copyElement=O,t.calcElementSlider=E,t["default"]={deleteSelectBorder:m,deleteSelectShadow:_,deleteElement:y,deleteSelectElement:v,selectAllElement:b,backgroundColorChange:w,pageColorChange:x,borderColorChange:C,opacityChange:S,deleteSelectGuideLine:P,exchangeShadow:k,copyElement:O,calcElementSlider:E}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=window.$,s={isDraging:!1,startKey:"",dragClientX:0,elementKey:"",lineKey:"",innerKey:"",positionType:"",dragPosi:"",lineDeep:0},l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setExchange=function(e){i.extend(!0,s,e),l.emitChange()},t.prototype.getExchange=function(){return s},t.prototype.setInit=function(){i.extend(!0,s,{isDraging:!1,startKey:"",dragClientX:0,elementKey:"",lineKey:"",innerKey:"",positionType:"",dragPosi:"",lineDeep:0}),l.emitChange()},t.prototype.setDraging=function(e){s.isDraging=e,l.emitChange()},t.prototype.setStartKey=function(e,t){s.startKey=e,s.dragClientX=t,s.isDraging=!0,l.emitChange()},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=l},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(595)),a=r(n(594));function i(e){var t=o["default"].getOneElement(e);return t||void 0}function s(){return a["default"].getSelectArr().map(function(e){return i(e)})}t.getOne=i,t.getSelectList=s,t["default"]={getOne:i,getSelectList:s}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(146)),a=r(n(595)),i=r(n(594)),s=r(n(482)),l=r(n(260)),u=r(n(433)),c=r(n(458)),d=r(n(101)),f=r(n(446)),p=n(445);function h(){var e=o["default"].getCursor(),t=i["default"].getSelectArr(),n=a["default"].getOneElement(t[0]);a["default"].setLastIdx(-1),n&&(n.shadow&&n.shadow.length>0&&(n.shadow.forEach(function(e){e.isSelect=!1}),a["default"].changeElementVal({id:t[0],shadow:n.shadow})),n.bgcolor&&n.bgcolor.length>0&&(n.bgcolor.forEach(function(e){e.isSelect=!1}),a["default"].changeElementVal({id:t[0],bgcolor:n.bgcolor})),n.border&&n.border.length>0&&(n.border.forEach(function(e){e.isSelect=!1}),a["default"].changeElementVal({id:t[0],border:n.border}))),"color-picker"==e&&l["default"].getColorPickerGlass().color?p.hideColorPickerGlass():"zoom-in"!=e&&"zoom-out"!=e&&(c["default"].hide(),f["default"].hideShadow()),d["default"].hide(),s["default"].cancelOpenSelect(),u["default"].rightMenuShow(!1,!0)}t.hideAllPopup=h,t["default"]={hideAllPopup:h}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=n(28),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){return window.isPc?null:i["default"].createElement(s.Group,{id:"coverTip",x:-5,y:-5,rotation:-45,"z-index":11111,name:"copy-remove",listening:!1},i["default"].createElement(s.Line,{points:[-15,15,15,15,40,40,-40,40],fill:"#ed554e",closed:!0}),i["default"].createElement(s.Text,{text:"封面",width:80,height:25,fontSize:15,fill:"white",offsetX:40,offsetY:-15,lineHeight:25/15,align:"center"}))},t}(i.Component);t["default"]=l},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(131)),a=r(n(23)),i=r(n(5)),s=r(n(76)),l=n(166),u=r(n(149)),c=r(n(316)),d=n(359),f=n(87),p=n(266);function h(e){var t=e.dragPagesArr,n=e.stage,r=e.pageOldPosi,o=e.isEnd,a=void 0!==o&&o;t.forEach(function(e){var t="mainBox"+e,o=l.findPage(n,t),i=o.attrs,s=i.x,u=i.y,c=i.rotation,f=r[e];o.rotate(-c),o.setX(s-window.phoneSize.width/2),o.setY(u-window.phoneSize.height/2),o.setOffsetX(0),o.setOffsetY(0),a&&d.pagePosChange({key:parseInt(e),pos:{left:f.left,top:f.top}})}),a&&f.pageEmitChange()}function g(e){var t=e.winSize,n=e.trashBoxDom,r=e.pageSelect,d=(e.pageSelectDom,e.pageName,e.pages,e.dspl),f=void 0===d?[0,0]:d,g=e.isMultiFixed,y=void 0!==g&&g,m=e.isEnd,_=void 0!==m&&m,v=e.pageOldPosi,b=void 0===v?{}:v,w=!1;p.getCanvasTransform().length&&(w=!0);var C=$(".trashBox")[0],x=parseInt($(C).css("bottom")),S=$.hasClass(n,"active")?100:50,P=[t.width-S,t.height-x-S,S,S],k=i["default"].getZoom(),O=!1,E=r,T=a["default"].getStage().getStage(),M=T.findOne("#canvasLayer");if(y){var D="mainBox"+r[0],A=l.findPage(T,D).attrs,j=A.width,I=A.height,L=s["default"].getDragContr(),R=L.left,B=L.top;$.collide(P,[R,B,j*k,I*k])&&(O=!u["default"].isOtherEditing(r))}else E.every(function(e){var t="mainBox"+e,n=l.findPage(T,t);if(!n)return!1;var o=n.getAbsolutePosition(),a=o.x,i=o.y,s=n.attrs,c=s.width,d=s.height,f=s.offsetX,p=void 0===f?0:f,h=s.offsetY,g=[a-p*k,i-(void 0===h?0:h)*k,c*k,d*k];return!$.collide(P,g)||(O=!u["default"].isOtherEditing(r),!1)});if(O)_?(c["default"].deletePages(r,y,!1,!1,function(){h({dragPagesArr:E,stage:T,pageOldPosi:b,isEnd:_})}),$.removeClass(n,"active"),(N=p.getCanvasTransform()).length&&(N.forEach(function(e){e.stop()}),p.clearCanvasTransform())):(E.forEach(function(e){if(!y){var t="mainBox"+e,n=l.findPage(T,t),r=b[e],a=r.left+f[0],i=r.top+f[1];if(n.setX(a+window.phoneSize.width/2),n.setY(i+window.phoneSize.height/2),n.setOffsetX(window.phoneSize.width/2),n.setOffsetY(window.phoneSize.height/2),!w){var s=new o["default"].Animation(function(e){var t=n.attrs.rotation,r=0;e.time%60<30&&3!=t?r=3:-3!=t&&(r=-3),n.rotate(r)},M);s.start(),p.setCanvasTransform(s)}}}),$.addClass(n,"active"));else if($.hasClass(n,"active")){var N;(N=p.getCanvasTransform()).length&&(N.forEach(function(e){e.stop()}),p.clearCanvasTransform()),y||h({dragPagesArr:E,stage:T,pageOldPosi:b}),$.removeClass(n,"active")}return O}t.deleteCheck=g,t["default"]={deleteCheck:g}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(10)),i=o(n(5)),s=o(n(76)),l=o(n(81)),u=o(n(83)),c=o(n(6)),d=o(n(132)),f=o(n(311)),p=n(63),h=n(154),g=n(204),y=n(291),m=o(n(78)),_=n(85),v=n(46),b=n(470),w=n(98);function C(e,t,n){var o=window,C=o.phoneSize,x=o.ss,S=o.hss,P="fixed-view"==e.multiViewType&&"multi-view"==e.mode,k=!1,O=i["default"].isMultiView(),E=[n.clientX,n.clientY],T=n.target,M=i["default"].getZoom();$.setDrag({name:"myPageDragAdd",posi:E,target:T,moveFunc:function(e){k||($.exitCutImage(),$.hidePageStruct(O),d["default"].selectChange([]),f["default"].init({type:"page",posi:E,contr:{width:164*M/.5,height:279*M/.5,pageKey:t.key}}),P&&$.addClass($.getElById("allPanel"),"multi-fixed-drag"),k=!0),f["default"].move({posi:[e.clientX,e.clientY]})},endFunc:function(e){if(k){var n=$.offset($.query(".phoneConBox")),o=v.getPageFlow(),d=g.getNewPagePosi(),f={left:(e.pageX-n.left)/M-C.width/(2*x),top:(e.pageY-n.top)/M-C.height/(2*S)},O=P||o?d:f;h.pageCreate(O,!1,P);var E=i["default"].getViewTotal();if(v.getPageFlow()){var T={};T[E]=r({key:E},f),b.pageFlowAddPage({pageVal:T})}var D=t.serverKey,A=t.backColor,j=t.pageHeight,I=t.isLandscape,L=t.events,R=t.name,B=t.key,N=t.id;s["default"].hide(),i["default"].updateProp(E,{serverKey:D,backColor:A,pageHeight:j,isLandscape:I,events:L,name:R});var F=p.getPageByHierarchy(parseInt(B),!0);m["default"].removeInitVal(F,undefined,I);var H=l["default"].getNoteArr(parseInt(B),!0);y.importPage(F,E,undefined,H,N,I);var z=u["default"].getPageLineArr(B);u["default"].pageAddGuideAllLine(z,E),P&&function(e){var t,n=$(".drop-area.drop-right, .drop-area.drop-left, .folder-box.dropping, .folder-box.dropping-top, .folder-box.dropping-bottom")[0];n&&(t=n.id,$.hasClass(n,"folder-box")?$.hasClass(n,"dropping")?(_.addStructPageInFolder(n.getAttribute("data-key")),setTimeout(function(){$.scrollPhoneConBoxPage($.getElById("mainBox"+e),i["default"].getZoom())},0)):$.hasClass(n,"dropping-top")?_.addStructPageInFolderBefore(n.getAttribute("data-key")):$.hasClass(n,"dropping-bottom")&&_.addStructPageInFolder(n.getAttribute("data-key"),undefined,!0):t&&$.hasClass(n,"drop-right")?_.addStructPageAfter([parseInt(w.getPageIdByKey(t)),"page"]):t&&$.hasClass(n,"drop-left")?_.addStructPageBefore([parseInt(w.getPageIdByKey(t)),"page"]):$.hasClass(n,"drop-left")&&n.getAttribute("data-prevpage")&&_.addStructPageAfter([n.getAttribute("data-prevpage"),"page"]),i["default"].selectChange([""+e],!0))}(E),i["default"].emitViewChange(),i["default"].emitPageStructChange(),c["default"].emitChange(),a["default"].createData({type:"createCopyPage",name:"[页面 "+E+"] 复制",handleObjType:"page",autoSaveType:"changePages"}),P&&$.removeClass($.getElById("allPanel"),"multi-fixed-drag")}}})}t.dragCopyPage=C,t["default"]={dragCopyPage:C}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27)),a=r(n(23)),i=r(n(5)),s=r(n(32)),l=r(n(10)),u=r(n(202)),c=n(859),d=n(61),f=n(63),p=n(431),h=r(n(97)),g=n(841),y=r(n(849)),m=r(n(340)),_=n(98);function v(e){var t=o["default"].getAllLine(),n=[];if(t.forEach(function(t){var r=t.id;$.isUndefined(e)&&n.push(r)}),$.isUndefined(e)||!e)return n}var b={noSelectContextMenu:function(e){var t=e.evt,n=i["default"].getView(),r=n.mode,l=n.multiViewType,c="multi-view"==r,d=[],h=[t.clientX,t.clientY],g=window,y=g.Mousetrap,m=g.hotKey,_=[c?"全选页面":"全选组件",function(){y.trigger(m.command+"+a")},m.comKey+"+A"];if(c){var b=function(){var e=a["default"].getStage().getStage(),t=e.find(".page"),n=!1,r=t&&t.length>0;if(r){var o=e.find(".baseLinkLine");o&&o.length>0&&(n=!0)}return{hasLine:n,hasPage:r}}(),w=b.hasLine;b.hasPage&&d.push(_),w&&d.push(["全选连线",function(){var e=v();o["default"].setSelectArr(e)},undefined,!0]),d.push(["粘贴",function(){$("body").trigger("paste")},m.comKey+"+V"]),"free-view"==l&&d.push(["粘贴到当前位置",function(){p.getPageFromClipboard(h)},m.comKey+"+"+m.shiftKey+"+v"])}else{f.getActiveInterface().length>0&&d.push(_),window.localStorage.copy&&(d.push(["粘贴",function(){$("body").trigger("paste")},m.comKey+"+V"]),d.push(["粘贴到当前位置",function(){$.pasteFunc(window.event,h)},m.comKey+"+"+m.shiftKey+"+V"]));var C=s["default"].getSymbolMask();C.isShow&&(C.parentArr.length>0&&d.push(["返回上一个引用",function(){s["default"].exitAndSave()},"tab"]),d.push(["返回页面",function(){s["default"].exitAndSave(undefined,!0)},0==C.parentArr.length?"[tab]":undefined]))}return $.hasClass(t.target,"mainBoxBorder")&&d.push(["修改页面背景色",function(){var e=$.getElById("pageSetLabel");e&&e.click(),setTimeout(function(){var e=$.getElById("interfaceBgPicker");e&&e.click()},0)}]),d.length>0&&u["default"].rightMenuUpdate({left:t.clientX,top:t.clientY,content:d}),d},lineContextMenu:function(){a["default"].getStage().getStage();var e=[["删除",function(){c.deleteSelectLinkLine()},"Delete",!0],["全选连线",function(){var e=v();o["default"].setSelectArr(e)}]];return 1==o["default"].getSelectArr().length&&e.push(["编辑文本",function(){var e=o["default"].getSelectArr()[0];h["default"].commentBoxFocus(e,!1,.5)||l["default"].createData({type:"showOrEditCommentContentNoPrd",name:"非prd右键显示/修改文本"})},"双击"]),e},pageContextMenu:function(e){var t=window,n=t.Mousetrap,r=t.hotKey,o=e.target.findAncestors(".page")[0],s=o.attrs["data-isCoverPage"],l=_.getPageIdByKey(o.attrs["data-key"]);return[["复制",function(){n.trigger(r.command+"+c")},r.comKey+"+C"],["删除",function(){n.trigger("backspace")},"Delete",!0],["进入页面",function(){g.pageDblclick(o)},"双击"]].concat(s?[]:[["设为封面",function(){i["default"].setPageIndexKey(l),d.setAutoSaveChangePages("changeProject"),i["default"].emitPageStructChange(),a["default"].emitChange()}]],[["保存选中页面",function(){m["default"].getPageLib(function(){y["default"].savePage({pageKey:l})})},"",!0],["全选页面",function(){var e=window,t=e.Mousetrap,n=e.hotKey;t.trigger(n.command+"+a")}]])}};t["default"]=b},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(131)),a=r(n(27)),i=r(n(23)),s=r(n(5)),l=r(n(315)),u=r(n(97)),c=n(266),d=n(1330),f=n(46),p=n(842),h=n(843),g=n(170),y=window.$;function m(e){var t=e.target,n=a["default"].getAllLine(),r=a["default"].getLineType(),m=function(e){var t=e.thisTarget,n=t.getAbsolutePosition(),r=n.x,o=n.y,a={startPosi:"",endPosi:"",startPoint:null,endPoint:null,endKey:"",startKey:"",deg:"",pageKey:""},i=t.attrs;return a.startPosi=i["data-position"],a.startKey=i["data-id"],a.pageKey=i["data-pageid"],a.startPoint=[r,o],{x:r,y:o,dragObj:a}}({thisTarget:t}),_=m.x,v=m.y,b=m.dragObj,w=[_,v],C=e.evt,x=u["default"].getLineType(r),S=b.startKey;a["default"].setDragStart(S);var P,k=i["default"].getStage().getStage(),O=function(e){var t=e.stage,n=e.startKey,r=e.line,o=[],a=[],i=f.getPageFlow(),s=i?i.id:i;return t.find(".page").each(function(e){if(e.attrs["data-isShow"]){var t=e.attrs,n=t.id,r=t.width,o=t.height,i=e.getAbsolutePosition(),s={x:i.x,y:i.y,id:n,width:r,height:o};a.push(s)}}),r.forEach(function(e){var t=e.startKey,r=e.endKey,a=e.pageFlowId;t==n&&a==s&&o.push(r)}),{thisTargetPage:o,pageArr:a}}({stage:k,startKey:S,line:n}),E=O.thisTargetPage,T=O.pageArr,M=k.find(".page")[0].getAbsolutePosition(),D=s["default"].getView().zoom;(P=c.getCancelDot())&&clearTimeout(P),a["default"].setHoverKey({pageKey:"",contrKey:""});var A=function(e){var t=e.lineColor,n=e.x,r=e.y,a=e.isRing;return{circle:new o["default"].Shape({sceneFunc:function(e){var o=d.getBallDragPosSet(),i=o.offsetX,s=o.offsetY;e.beginPath(),e.setAttr("fillStyle",t),e.arc(n+i,r+s,4,0,2*Math.PI,!1),e.fill(),a&&(e.beginPath(),e.setAttr("fillStyle","#fff"),e.arc(n+i,r+s,2,0,2*Math.PI,!1),e.fill())}})}}({lineColor:x,x:_,y:v,isRing:2!=r&&3!=r}).circle,j=function(e){var t=e.lineColor,n=e.x,r=e.y,a=e.lineType;return{triangle:new o["default"].Shape({sceneFunc:function(e){var o=d.getBallDragPosSet(),i=o.endX,s=o.endY,l=o.controlX,u=o.controlY,c=o.offsetX,f=o.offsetY;e.beginPath(),e.moveTo(n+c,r+f),e.quadraticCurveTo(l,u,i,s),e.setAttr("strokeStyle",t),e.setAttr("lineWidth",2),1==a&&e.setLineDash([5,4]),e.stroke()}})}}({lineColor:x,x:_,y:v,lineType:r}).triangle,I=function(e){var t=e.lineColor;return{triangle2:new o["default"].Shape({sceneFunc:function(e){var n=d.getBallDragPosSet(),r=n.endX,o=n.endY,a=n.rotate,i=n.offX;e.translate(r,o),e.rotate(a),e.beginPath(),e.moveTo(0,-6),e.lineTo(6*i,0),e.lineTo(0*i,6),e.fillStyle=t,e.fill(),e.closePath()}})}}({lineColor:x}).triangle2,L=h.createLayer([j,I,A],{}),R=L.layer,B=L.newStage,N=L.allPanelDom,F=function(e){var t=e.stage,n=e.startOff,r=e.fixStartPoint,o=e.dragObj,i=e.pageArr,s=e.thisTargetPage,l=e.layer,u=e.zoom;return function(e){var c=d.getBallDragPosSet(),f=c.endX,p=c.endY,h=c.offsetX,g=c.offsetY,m=t.find(".page")[0].getAbsolutePosition();h=m.x-n.x,g=m.y-n.y;var _=[r[0]+h,r[1]+g];y.extend(!0,o,{startPoint:_});var v=o.startPoint,b=e.clientX,w=e.clientY;f=b,p=w;var C=v[0],x=(2*p+v[1])/3,S=-1,P=a["default"].getToastPage(),k=a["default"].getSelectContr().pageKey,O=!1;i.some(function(e){var t=e.x,n=e.y,r=e.id,i=e.width,l=e.height,c=[[t+=h,(n+=g)+(l*=u)/2],[t+(i*=u)/2,n],[t+i,n+l/2],[t+i/2,n+l]];if(t<=b&&t+i>=b&&n<=w&&n+l>=w){if(O=!0,r!=o.pageKey&&-1==s.indexOf(r)){var d=Math.max(i/2,l/2);c.forEach(function(e,t){var n=Math.sqrt((b-e[0])*(b-e[0])+(w-e[1])*(w-e[1]));n<d&&(d=n,S=t)}),f=c[S][0],p=c[S][1],1==S||3==S?C+=(b-t-i/2)*u:x+=(w-n-l/2)*u,o.endKey=r,o.endPosi=["left","top","right","down"][S],k!=r&&a["default"].setSelectContr({contrKey:"",pageKey:r})}else-1!=s.indexOf(r)&&P!=r&&a["default"].setToastPage(r);return!0}return o.endKey="",!1}),O||(P&&a["default"].setToastPage(""),k&&a["default"].setSelectContr({}));var E=Math.atan((p-v[1])/(f-v[0]))||0,T=f-v[0]>0?1:-1;o.endPoint=[f,p],d.setBallDragPosSet({endX:f,endY:p,controlX:C,controlY:x,rotate:E,offX:T,offsetX:h,offsetY:g}),l.draw()}}({stage:k,startOff:M,fixStartPoint:w,dragObj:b,pageArr:T,thisTargetPage:E,layer:R,zoom:D});l["default"].setAutoMoveFunc(F),y.setDrag({name:"createDot",posi:[C.clientX,C.clientY],target:C.target,moveFunc:function(e){F(e)},endFunc:function(e){a["default"].getToastPage()&&a["default"].setToastPage(""),a["default"].setSelectContr({},!0),a["default"].setDragStart("");var t=b.startKey,n=b.endKey,r=b.startPosi,o=b.endPosi,i=b.pageKey;if(n){var s={id:g.generateUUID(),startKey:t,endKey:n,startPosi:r,endPosi:o,pageKey:i,lineType:a["default"].getLineType()};u["default"].contrAddEvent(k,s)}h.clearLayer(R,B,N),d.clearBallDragPosSet(),p.canvasStageDblclickFix(),l["default"].setAutoMoveFunc(null)}})}t.handleBallMouseDown=m,t["default"]={handleBallMouseDown:m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$,o={endX:undefined,endY:undefined,controlX:undefined,controlY:undefined,rotate:undefined,offX:undefined,offsetX:0,offsetY:0};function a(){return o}function i(e){r.extend(!1,o,e)}t.getBallDragPosSet=a,t.setBallDragPosSet=i,t.clearBallDragPosSet=function(){o={endX:undefined,endY:undefined,controlX:undefined,controlY:undefined,rotate:undefined,offX:undefined,offsetX:0,offsetY:0}},t["default"]={getBallDragPosSet:a,setBallDragPosSet:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$,o={start:undefined,end:undefined,controlX:undefined,controlY:undefined,offsetX:0,offsetY:0};function a(){return o}function i(e){r.extend(!1,o,e)}t.getReDragPosSet=a,t.setReDragPosSet=i,t.clearDragPosSet=function(){o={start:undefined,end:undefined,controlX:undefined,controlY:undefined,offsetX:0,offsetY:0}},t["default"]={getReDragPosSet:a,setReDragPosSet:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$,o={arr:[]};function a(){return o}function i(e){r.extend(!1,o,e)}function s(){o={arr:[]}}t.getReDragArrSet=a,t.setReDragArrSet=i,t.clearReDragArrSet=s,t["default"]={getReDragArrSet:a,setReDragArrSet:i,clearReDragArrSet:s}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(23)),a=r(n(51)),i=r(n(10)),s=r(n(5)),l=n(213),u=n(148),c=n(841),d=n(266),f=r(n(131)),p=n(262),h=window,g=h.$,y=h.isPrototypeTool;function m(e){var t="fixed-view"==s["default"].getView().multiViewType,n=s["default"].getPages(),r=(""+e.attrs["data-key"]).replace("mainBox",""),o=p.setCenter({activePage:n[r],isFixedView:t,getNewPos:!0,noEmit:!0});return{layerX:o.left,layerY:o.top}}function _(e){var t=g.getEventTarget({event:e}).attrs,n=(""+t["data-key"]).replace("mainBox",""),r=t["data-name"];u.choosePageAction(n),i["default"].createData({type:"changeFromMultiView",name:"["+r+"] 选中该页面",handleObjType:"viewChange",autoSaveType:"none"}),e.cancelBubble=!0}function v(e){var t=e.page,n=e.callback,r=void 0===n?g.noop:n,i=e.event,u=void 0===i?undefined:i;if(!d.getCanvasAnim()[0]){var p=function(){!function(e){var t=e.callback,n=e.page,r=a["default"].getZoom()/100,i=o["default"].getStage().getStage().findOne("#canvasLayer"),s=m(n),l=s.layerX,u=s.layerY;g("#phoneConBox").css({opacity:0});var c=new f["default"].Tween({node:i,duration:.2,x:l,y:u,scaleX:r,scaleY:r,onFinish:function(){g("#phoneConBox").css({opacity:1}),d.clearCanvasAnim(),c&&c.destroy(),o["default"].emitMoveChange(),t&&t()}});d.setCanvasAnim(c),c&&c.play()}({callback:function(){c.pageDblclick(t,u),r()},page:t})};s["default"].isMultiView()?p():l.cacheActiveCanvasPage(p)}}function b(){return y?{onDblClick:_}:{}}t.getLayerPosi=m,t.toInactivePageAnim=v,t.getInactivePageCanvasEvent=b,t["default"]={getInactivePageCanvasEvent:b,toInactivePageAnim:v,getLayerPosi:m}},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_GuideLineStore=__webpack_require__(83),_GuideLineStore2=_interopRequireDefault(_GuideLineStore),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),_ZoomStore=__webpack_require__(51),_ZoomStore2=_interopRequireDefault(_ZoomStore),_GuideLineActions=__webpack_require__(828),_GuideLineActions2=_interopRequireDefault(_GuideLineActions),_LineEvent=__webpack_require__(1011),_LineEvent2=_interopRequireDefault(_LineEvent),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var horizontalContextMenu=_LineEvent2["default"].horizontalContextMenu,verticalContextMenu=_LineEvent2["default"].verticalContextMenu,RulerComp=function(_Component){function RulerComp(e){(0,_classCallCheck3["default"])(this,RulerComp);var t=(0,_possibleConstructorReturn3["default"])(this,(RulerComp.__proto__||(0,_getPrototypeOf2["default"])(RulerComp)).call(this,e));return t.state={},t._verticalMouseDown=t._verticalMouseDown.bind(t),t._horizontalMouseDown=t._horizontalMouseDown.bind(t),t}return(0,_inherits3["default"])(RulerComp,_Component),(0,_createClass3["default"])(RulerComp,[{key:"shouldComponentUpdate",value:function(e){return this.props.isGuide!=e.isGuide||this.props.isLandscape!=e.isLandscape||this.props.height!=e.height}},{key:"_verticalMouseDown",value:function(e){if(!this.props.isGuide)return!1;if(2!=e.button){var t=_ZoomStore2["default"].getZoom()*window.ss/100,n=$.offset(window.document.querySelector(".mainBox.active")).left,r=!1;_GuideLineActions2["default"].addLine({pageId:_ViewStore2["default"].getActivePage(),type:"x",value:Math.round((e.clientX-n)/t)});var o=_GuideLineStore2["default"].returnNewLine();$.setDrag({name:"addLineDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){r=!0,_GuideLineActions2["default"].updateLine(o.id,Math.round((e.clientX-n)/t))},endFunc:function(e){$.lineDragEnd(Math.round((e.clientX-n)/t),o,r,!0)}})}e.stopPropagation()}},{key:"_horizontalMouseDown",value:function(e){if(!this.props.isGuide)return!1;if(2!=e.button){var t=_ZoomStore2["default"].getZoom()*window.ss/100,n=$.offset(window.document.querySelector(".mainBox.active")).top,r=!1;_GuideLineActions2["default"].addLine({pageId:_ViewStore2["default"].getActivePage(),type:"y",value:Math.round((e.clientY-n)/t)});var o=_GuideLineStore2["default"].returnNewLine();$.setDrag({name:"addLineDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){r=!0,_GuideLineActions2["default"].updateLine(o.id,Math.round((e.clientY-n)/t))},endFunc:function(e){$.lineDragEnd(Math.round((e.clientY-n)/t),o,r,!0)}})}e.stopPropagation()}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"rulerBox"},_react2["default"].createElement("div",{className:"horizontalRuler",style:{width:(this.props.isLandscape?window.phoneSize.height:window.phoneSize.width)+2},onContextMenu:horizontalContextMenu,onMouseDown:this._horizontalMouseDown}),_react2["default"].createElement("div",{className:"verticalRuler",style:{height:this.props.height||(this.props.isLandscape?window.phoneSize.width:window.phoneSize.height)+2},onContextMenu:verticalContextMenu,onMouseDown:this._verticalMouseDown}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RulerComp}(_react.Component),_default=RulerComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(horizontalContextMenu,"horizontalContextMenu","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/Ruler.react.js"),reactHotLoader.register(verticalContextMenu,"verticalContextMenu","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/Ruler.react.js"),reactHotLoader.register(RulerComp,"RulerComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/Ruler.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/mainbox/Ruler.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(6)),i=r(n(10)),s=r(n(51)),l=r(n(268)),u=r(n(94)),c=r(n(83)),d=r(n(253)),f=r(n(60)),p=n(63);function h(e){var t,n,r=o["default"].getActivePage(!0),h=r&&r.pageHeight||(r.isLandscape?window.phoneSize.width:window.phoneSize.height),g=[e.clientX,e.clientY],y=h,m=a["default"].getSelect(),_=!1;m.length>0&&a["default"].selectChange([]),u["default"].change([{tabType:"struct"},{tabType:"pageSet",isFold:!0},{tabType:"event"},{tabType:"versionManage"},{tabType:"note"}]);var v=s["default"].getZoom()/100,b=p.getActiveInterface(),w={left:0,top:0,width:window.phoneSize.width,height:h},C=r.isLandscape?window.phoneSize.width:window.phoneSize.height;l["default"].initDragOption({isSymbolWH:"height",contrs:b}),$.setDrag({name:"radiusSpotDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){_||(_=!0),n=Math.max(y+(e.clientY-g[1])/v,1),w.height=n,window.isPc||(w.height=Math.max(w.height,C));var r=f["default"]._redLine(w);n+=r[1],window.isPc||(n=Math.max(n,C)),n!=t&&(t=n,!window.isPc&&n<=C?o["default"].changePcPageHeight(undefined):o["default"].changePcPageHeight(n)),d["default"].moveTipUpdate({left:e.clientX+50,top:e.clientY,text:"高: "+Math.round(t)})},endFunc:function(){l["default"].init(),d["default"].show(!1),_&&!$.isUndefined(t)&&y!=t&&(c["default"].emitChange(),i["default"].createData({name:"["+r.name+"] 页面高度改变",handleObjType:"page",type:"pageHeightChange",autoSaveType:"pageVals"}))}}),e.stopPropagation()}t.pageHeightChange=h,t["default"]={pageHeightChange:h}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=u(n(3)),f=n(28),p=u(n(1337)),h=u(n(27)),g=u(n(10)),y=n(830),m=n(597),_=u(n(97)),v=n(98),b=n(308),w=4.5,C=5,x=0;function S(e){var t=e.x,n=e.y,r=e.id,o=e.zoom;return c["default"].createElement(f.Group,{name:"event-symbol",x:t,y:n,key:"event-line"+r},c["default"].createElement(f.Circle,{radius:5/o,fill:"#2FAFFD"}),c["default"].createElement(P,a({},{zoom:o,baseScale:1})))}function P(e){var t=e.zoom,n=e.baseScale;return c["default"].createElement(f.Path,{data:"M7.5 4.71428571 4.67032967 4.71428571 5.27472527 1.42857143 2.14285714 6 4.97252747 6 4.36813187 8.9010989 Z",offsetX:w,offsetY:C,fill:"#fff",scale:{x:n/t,y:n/t}})}function k(e){var t=e.pointArr,n=e.index,r=e.lineSize,o=t[n],a=t[n+1],i=a[0]==o[0],s=a[0]-o[0],l=a[1]-o[1],u=r,c=0;return 0==n&&[t][n][0]>t[n+1][0]&&(u=0),n==t.length-2&&t[n][0]>t[n+1][0]&&(u=0,c=r),{isDragXline:i,x:(s<0?1:0)*s+o[0]+c,y:(l<0?1:0)*l+o[1],w:i?r:Math.abs(s)+u,h:i?Math.abs(l)+u:r}}function O(e){var t=e.x,n=e.w,r=e.y,o=e.h,i=e.id,s=e.index,l=e.isDragXline,u=e.zoom,d=e.lineColor,p=e.isEnd;return n<30&&o<30?null:c["default"].createElement(f.Group,{x:t+n/2,y:r+o/2,rotation:l?90:0},c["default"].createElement(f.Circle,{radius:6.5/u,stroke:"#fff",strokeWidth:1/u,fill:d}),c["default"].createElement(f.Line,{points:[-2/u,2/u,0,4/u,2/u,2/u],strokeWidth:1/u,closed:!0,fill:"#fff",stroke:"#fff"}),c["default"].createElement(f.Line,{points:[-2/u,-2/u,0,-4/u,2/u,-2/u],strokeWidth:1/u,closed:!0,fill:"#fff",stroke:"#fff"}),c["default"].createElement(f.Circle,a({radius:7/u,fill:"transparent","data-id":i,"data-end":p,"data-idx":s,"data-eventkey":"lineDrag","data-cursorkey":l?"col-resize":"row-resize"},m.lineDragEvent(),y.getHoverFunc())))}function E(e){var t=e.point,n=e.posi,r=e.zoom,o=e.id,i=e.isHide,s=e.lineColor,l=e.hasEvent;return c["default"].createElement(f.Group,a({x:t[0],y:t[1]},m.reDragEvent()),c["default"].createElement(f.Circle,{radius:7/r,stroke:i?"transparent":"#fff",strokeWidth:1/r,fill:i?"transparent":s}),l?c["default"].createElement(P,a({},{zoom:r,baseScale:1.5})):c["default"].createElement(f.Circle,{radius:4/r,stroke:i?"transparent":"#fff",strokeWidth:1/r,fill:i?"transparent":s}),c["default"].createElement(f.Circle,a({radius:8/r,fill:"transparent","data-id":o,"data-posi":n,"data-eventkey":"line","data-cursorkey":"move"},y.getHoverFunc())))}function T(e){var t=e.zoom,n=e.lineColor,r=e.point,o=e.id;return c["default"].createElement(f.Circle,{radius:4/t,strokeWidth:2/t,stroke:n,x:r[0],y:r[1],fill:"#fff",name:"line-start-ring","data-id":o})}function M(e){var t=e.zoom,n=e.point,r=e.lineColor;return c["default"].createElement(f.Circle,{radius:5/t,x:n[0],y:n[1],fill:r})}function D(e){var t=e.lineColor,n=e.point,r=e.zoom,o=e.rotate;return c["default"].createElement(f.Line,{stroke:t,x:n[0],y:n[1],points:[-6/r,-6/r,0,0,-6/r,6/r],closed:!0,fill:t,offsetX:-2/r,rotation:o})}var A=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=v.getPageIdByKey(e.pageKey);return-1!=(window.renderPagesKeyArr||[]).indexOf(+n)||(this.props.id!=e.id||this.props.startPosi!=e.startPosi||this.props.endPosi!=e.endPosi||this.props.lineType!=e.lineType||this.props.isHide!=e.isHide||this.props.startKey!=e.startKey||this.props.endKey!=e.endKey||this.props.fixedArrStr!=e.fixedArrStr||this.props.pageKey!=e.pageKey||this.props.hasComment!=e.hasComment||this.props.text!=e.text||this.props.zoom!=e.zoom||this.props.commentPercent!=e.commentPercent||this.props.commentWidth!=e.commentWidth||this.props.commentHeight!=e.commentHeight||this.props.startPagePos!=e.startPagePos||this.props.endPagePos!=e.endPagePos||this.props.isPageSelect!=e.isPageSelect||this.props.isLineSelect!=e.isLineSelect||this.props.noStartSupply!=e.noStartSupply||this.props.noEndSupply!=e.noEndSupply||this.props.isPageDrag!=e.isPageDrag||this.props.pointArrString!=e.pointArrString||this.props.startPoint!=e.startPoint||this.props.endPoint!=e.endPoint||this.props.elementPosi!=e.elementPosi)},t.prototype._handleDblLine=function(e){var t=e.evt,n=t.clientX,r=t.clientY;if(window.isPrototypeTool){var o=e.target.attrs["data-id"];_["default"].commentBoxFocus(o,!1,.5,{x:n,y:r})||g["default"].createData({type:"showOrEditCommentDblNotPrd",name:"非prd编辑页双击显示/修改文本"}),e.cancelBubble=!0}},t.prototype._handleLeaveLine=function(){b.removeHoveringLine()},t.prototype.render=function(){var e=this.props,t=e.id,n=(e.startPosi,e.endPosi),r=e.lineType,o=e.isHide,i=e.startKey,s=e.endKey,l=(e.fixedArr,e.pageKey),u=e.hasComment,d=e.text,g=void 0===d?"输入条件":d,v=e.commentPercent,b=e.commentWidth,w=e.commentHeight,C=(e.data,e.noStartSupply,e.noEndSupply,e.isPageDrag),P=e.pointArr,A=e.startPoint,j=e.endPoint,I=e.zoom,L=e.isLineSelect,R=e.isConnect,B=2/I,N=[],F=[],H=!!A&&!!j;if(o)return null;var $=!u||o||C,z=_["default"].getLineType(r);if(g=g.trim()?g:"输入条件",!P||!P.length)return null;var U=function(e,t){var n=0;switch(e){case"top":n=90;break;case"right":n=180;break;case"down":n=270;break;case"":var r=t[t.length-1],o=r[0],a=r[1],i=t[t.length-2],s=i[0],l=i[1];n=o==s?a>l?90:270:o<s?180:0}return n}(n,P),V=function(e){var t=1;return-1!=h["default"].getSelectArr().indexOf(e)&&(t=2),t}(t);N.push(c["default"].createElement(f.Shape,{key:"line"+t,stroke:z,strokeWidth:V/I,lineCap:"round",lineJoin:"round",name:"show-line","data-id":t,dash:1==r?[5/I,4/I]:undefined,sceneFunc:function(e){e.beginPath(),_["default"].drawLineShape({ctx:e,pointArr:P}),e.fillStrokeShape(this)}})),function(e){var t=e.lineDom,n=e.pointArr,r=e.zoom,o=e.id,i=e.handleDblLine,s=e.handleLeaveLine,l=e.isConnect,u=window.isPrototypeTool;n.forEach(function(e,d){if(n[d+1]){var p=!0;n[d+1][0]==e[0]&&(p=!1);var h=n[d+1][0]-e[0]||15/r,g=n[d+1][1]-e[1]||15/r;l?t.push(c["default"].createElement(f.Rect,{name:"baseLinkLine",key:"line-extend"+x,x:e[0],y:e[1],width:h,height:g,fill:"transparent",offsetX:p?0:h/2,offsetY:p?g/2:0})):t.push(c["default"].createElement(f.Rect,a({name:"baseLinkLine",key:"line-extend"+x,x:e[0],y:e[1],width:h,height:g,fill:"transparent",offsetX:p?0:h/2,offsetY:p?g/2:0,"data-id":o,"data-eventkey":"line lineDrag","data-end":d==n.length-2||d==n.length-3,"data-endSupply":d==n.length-4,"data-idx":d,onDblClick:i,"data-cursorkey":u?p?"row-resize":"col-resize":"pointer"},y.getHoverFunc(),m.lineDragEvent(),{onMouseOut:s}))),x++}})}({lineDom:N,pointArr:P,zoom:I,id:t,handleDblLine:this._handleDblLine,handleLeaveLine:this._handleLeaveLine,isConnect:R});var K=!1;if(!j&&!A&&!R&&(K=_["default"].isEventLine({startKey:i,endKey:s,pageKey:l}))&&!L){var G=_["default"].calcEventSymbolPos(P,I),q=G.x,W=G.y;N.push(c["default"].createElement(S,a({key:"event-line"+t},{x:q,y:W,id:t,zoom:I})))}$||N.push(c["default"].createElement(p["default"],{key:"comment"+t,id:t,text:g,lineType:r,commentPercent:v,commentWidth:b,commentHeight:w,pointArr:P,zoom:I,isPrd:H}));for(var Y=0;Y<P.length-1;Y++){var X=k({pointArr:P,index:Y,lineSize:B}),Z=X.isDragXline,J=(q=X.x,W=X.y,X.w),Q=X.h;L&&F.push(c["default"].createElement(O,a({key:t+"select"+Y},{x:q-1/I,w:J,y:W-1/I,h:Q,id:t,index:Y,isDragXline:Z,zoom:I,lineColor:z,isEnd:Y==P.length-2||Y==P.length-3})))}return L?(N.push(c["default"].createElement(E,a({key:t+"start"},{point:P[0],posi:"start",zoom:I,id:t,isHide:o,lineColor:z,hasEvent:K}))),N.push(c["default"].createElement(E,a({key:t+"end"},{point:P[P.length-1],posi:"end",zoom:I,id:t,isHide:o,lineColor:z,hasEvent:K})))):(2!=r&&3!=r?N.push(c["default"].createElement(T,a({key:t+"ring"},{zoom:I,lineColor:z,point:P[0],id:t}))):N.push(c["default"].createElement(M,a({key:t+"dot"},{zoom:I,point:P[0],lineColor:z}))),R?N.push(c["default"].createElement(f.Circle,{key:t+"circle",radius:3/I,x:P[P.length-1][0],y:P[P.length-1][1],fill:z})):N.push(c["default"].createElement(D,a({key:t+"arrow"},{lineColor:z,point:P[P.length-1],zoom:I,rotate:U})))),c["default"].createElement(f.Group,{"data-id":t,name:"line"},N,F)},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleDblLine",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_handleLeaveLine",null),t}(c.Component);t["default"]=A},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=u(n(131)),f=n(28),p=u(n(3)),h=u(n(27)),g=u(n(42)),y=u(n(23)),m=u(n(67)),_=n(830),v=u(n(97)),b=n(979),w=u(n(36)),C=n(166),x=n(881),S=n(842),P=n(1338),k=n(843),O=n(10)["default"];function E(e){var t=e.lineType,n=e.commentWidth,r=e.commentHeight,o=(e.isDraw,e.isPrd),a=void 0!==o&&o,i=a?1:2,s=v["default"].getLineType(t);return{textFill:1==t||3==t?s:"#fff",rectFill:1==t||3==t?a?"#fff":"#2c2c32":s,width:1==t||3==t?n*i-i:n*i,height:1==t||3==t?r*i-i:r*i,stroke:1==t||3==t?s:undefined,strokeWidth:1==t||3==t?i:undefined}}var T=function(e){function t(t){var n=e.call(this,t)||this;return n.state={line:b.getPageFlowAllLine()},n}return o(t,e),t.prototype.componentDidMount=function(){h["default"].addCommentChangeListener(this.lineChange)},t.prototype.componentWillUnmount=function(){h["default"].removeCommentChangeListener(this.lineChange)},t.prototype.lineChange=function(){this.setState({line:b.getPageFlowAllLine()})},t.prototype.getComment=function(e){var t=this.props,n=t.text,r=t.lineType,o=t.commentWidth,a=t.commentHeight,i=t.pointArr,s=t.isPrd,l=E({lineType:r,commentWidth:o,commentHeight:a,isDraw:!0,isPrd:s}),u=l.textFill,c=l.rectFill,f=l.stroke,p=l.width,h=l.height,g=l.strokeWidth,y=s?.5:1,m=g?g/2:0,_=v["default"].getLineLengthArr(i),b=_.lineLengthArr,w=_.allLineLength;return new d["default"].Shape({sceneFunc:function(t){var r=P.getReDragPercentSet(),o=r.percent,a=r.start;if(!$.isUndefined(o)){var s=v["default"].getCommentPosi({lineLengthArr:b,allLineLength:w,commentPercent:o,pointArr:i}),l=s.lineCommentLeft,d=s.lineCommentTop;t.beginPath(),t.setAttr("lineWidth",g),t.setAttr("strokeStyle",f),t.setAttr("fillStyle",c),function(e,t,n,r,o,a,i){void 0===i&&(i=!1),e.beginPath(),e.arc(t+a,n+a,a,Math.PI,3*Math.PI/2),e.lineTo(r-a+t,n),e.arc(r-a+t,a+n,a,3*Math.PI/2,2*Math.PI),e.lineTo(r+t,o+n-a),e.arc(r-a+t,o-a+n,a,0,1*Math.PI/2),e.lineTo(a+t,o+n),e.arc(a+t,o-a+n,a,1*Math.PI/2,Math.PI),e.closePath()}(t,l-a[0]-p/2-m,d-a[1]-h/2-m,p,h,4/y/e),t.fill(),g&&t.stroke(),t.setAttr("font",24*y+"px PingFang SC"),t.setAttr("fillStyle",u),n.split("\n").forEach(function(e,n){var r=d-a[1]-h/2+32*y+2*n*24*y;t.fillText(e,l-a[0]-p/2+16*y,r)})}}})},t.prototype.renderInput=function(e){var t=this.props.isPrd,n=e.target.getAbsolutePosition(),r=n.x,o=n.y,a=e.target.attrs,i=a["data-text"],s=a["data-id"],l=a["data-line"];t?(m["default"].changePrdLine({id:s,hasComment:!1}),m["default"].setPrdComment({x:r,y:o,isShow:!0,text:i,id:s,lineType:l})):(h["default"].changeLine({id:s,hasComment:!1}),h["default"].setComment({x:r,y:o,isShow:!0,text:i,id:s,lineType:l}));var u=$(".comment-box .comment-input")[0];u.focus(),u.select(),e.cancelBubble=!0},t.prototype.commentDragEvent=function(e){var t,n=this.props.isPrd,r=window.isPrototypeTool;t=n?m["default"].getPrdStage().getStage():y["default"].getStage().getStage();var o,a=e.evt,i=a.clientX,s=a.clientY,l=e.target.attrs,u=this.props.zoom,c=!1,d=function(e){var t=e.attrs;return{id:t["data-id"],x:t["data-x"],y:t["data-y"]}}({attrs:l}),f=d.id,p=d.x,_=d.y,b=C.findComment(t,f).getAbsolutePosition(),w=b.x,E=b.y;if(n){o=M=m["default"].getPrdOneLine(f).commentPercent,m["default"].setPrdSelectArr([f])}else{var T=h["default"].getOneLine(f),M=T.commentPercent,D=T.endKey;if(o=M,h["default"].setSelectArr([f]),!r){var A=g["default"].getMultiZoom(),j=C.findPage(t,D);return g["default"].setSelectPage(D),y["default"].emitChange(),void x.pageFitMiddleFunc({targetPage:j,zoom:A})}}var I=function(e){var t=e.id,n=e.zoom;if(e.isPrd){var r=m["default"].getPrdOneLine(t),o=r.startPosi,a=r.endPosi,i=r.startKey,s=r.endKey,l=r.startPoint,u=r.endPoint,c=r.fixedArr,d=r.noStartSupply,f=r.noEndSupply;return v["default"].getPrdPointArr({startPosi:o,endPosi:a,startKey:i,endKey:s,startPoint:l,endPoint:u,fixedArr:c,noStartSupply:d,noEndSupply:f}).pointArr}var p=h["default"].getOneLine(t),g=p.pageKey;return s=p.endKey,i=p.startKey,o=p.startPosi,a=p.endPosi,c=p.fixedArr,d=p.noStartSupply,f=p.noEndSupply,v["default"].getPointArr({pageKey:g,endKey:s,startKey:i,id:t,startPosi:o,endPosi:a,fixedArr:c,zoom:n,noStartSupply:d,noEndSupply:f}).pointArr}({id:f,zoom:u,isPrd:n}),L=v["default"].getLineLengthArr(I),R=L.lineLengthArr,B=L.allLineLength,N=v["default"].getCommentPosi({lineLengthArr:R,allLineLength:B,commentPercent:o,pointArr:I}),F=N.lineCommentLeft,H=N.lineCommentTop;P.setReDragPercentSet({start:[F,H]});var z=this.getComment(u),U=k.createLayer([z],{scaleX:u,scaleY:u,x:w,y:E},!0),V=U.layer,K=U.newStage,G=U.allPanelDom;$.setDrag({name:"moveComment",posi:[i,s],target:e.target,moveFunc:function(e){c||(c=!0,n?m["default"].changePrdLine({id:f,hasComment:!1}):h["default"].changeLine({id:f,hasComment:!1}));var t=v["default"].getLineArr({pointArr:I}),r=t.lineLengthArr,o=t.allLength,a=t.lineArr,l=e.clientX,d=e.clientY,g=v["default"].getShortIdx({_clientX:l,clientX:i,zoom:u,_clientY:d,clientY:s,_x:p,_y:_,lineArr:a}),y=g.shortIdx,b=g.off;if(-1!=y){var w=v["default"].calcCommentPercent({lineLengthArr:r,shortIdx:y,off:b,allLength:o});P.setReDragPercentSet({percent:w}),V&&V.draw()}},endFunc:function(e){if(c){var t=P.getReDragPercentSet().percent;n?m["default"].changePrdLine({id:f,hasComment:!0,commentPercent:t}):h["default"].changeLine({id:f,hasComment:!0,commentPercent:t})}k.clearLayer(V,K,G),P.clearReDragPercentSet(),S.canvasStageDblclickFix(),O.createData({type:"changeCommentPosi",name:"改变文本当前所在的位置"})}})},t.prototype.render=function(){var e=this.props,t=e.id,n=e.text,r=e.lineType,o=e.commentPercent,i=e.commentWidth,s=e.commentHeight,l=e.pointArr,u=e.isPrd,d=v["default"].getLineLengthArr(l),p=d.lineLengthArr,h=d.allLineLength,g=v["default"].getCommentPosi({lineLengthArr:p,allLineLength:h,commentPercent:o,pointArr:l}),y=g.lineCommentLeft,m=g.lineCommentTop;P.setReDragPercentSet({start:[y,m]});var b=u?.5:1,C=i*b,x=s*b,S=E({lineType:r,commentWidth:i,commentHeight:s,isDraw:!1,isPrd:u}),k=S.textFill,O=S.rectFill,T=S.width,M=S.height,D=S.stroke,A=S.strokeWidth,j=24*Math.round(s/24);return c["default"].createElement(f.Group,{x:y,y:m,name:"comment",id:t},c["default"].createElement(f.Rect,{width:T,height:M,fill:O,offsetX:C,offsetY:x,cornerRadius:u?4:8,stroke:D,strokeWidth:A}),c["default"].createElement(f.Text,a({},w["default"].setFontFamily1(),{fontSize:24*b,height:2*j,width:2*i,offsetX:C-16*b,offsetY:j*b,fill:k,lineHeight:2,text:n,"data-eventkey":"comment","data-id":t,"data-text":n,"data-x":y,"data-y":m,"data-line":r,onDblClick:this.renderInput,onMouseDown:this.commentDragEvent,"data-cursorkey":"move"},_.getHoverFunc())))},i([p["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"lineChange",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getComment",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"renderInput",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"commentDragEvent",null),t}(c.Component);t["default"]=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$,o={};function a(){return o}function i(e){r.extend(!1,o,e)}function s(){o={}}t.getReDragPercentSet=a,t.setReDragPercentSet=i,t.clearReDragPercentSet=s,t["default"]={getReDragPercentSet:a,setReDragPercentSet:i,clearReDragPercentSet:s}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=u(n(131)),f=n(28),p=u(n(5)),h=u(n(3)),g=u(n(27)),y=u(n(23)),m=n(166),_=n(830),v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={toastPage:""},n}return o(t,e),t.prototype.componentDidMount=function(){g["default"].addToastChangeListener(this.renderToastPage)},t.prototype.componentWillMount=function(){g["default"].removeToastChangeListener(this.renderToastPage)},t.prototype.renderToastPage=function(){this.setState({toastPage:g["default"].getToastPage()})},t.prototype.getPosiData=function(){var e,t,n,r,o,a=this.props,i=a.x,s=a.y,l=a.w,u=a.h,c=a.type,d=a.isContr,f=this.state.toastPage,p=y["default"].getStage().getStage();if(d)e=i,t=s,n=l,r=u,o=c;else{var h=m.findPage(p,f).attrs;e=h.x,t=h.y,n=h.width,r=h.height,o=-1==g["default"].getDragStart().indexOf("mainBox")?"组件":"页面"}return{x:e,y:t,w:n,h:r,type:o}},t.prototype.render=function(){var e=this.props,t=e.isContr,n=e.contrId,r=e.pageId,o=this.state.toastPage;if(!t&&!o)return null;var i=this.getPosiData(),s=i.x,l=i.y,u=i.w,h=i.h,g=i.type,y=p["default"].getView().zoom,m=new d["default"].Text({text:t?"["+g+"组件]只能在编辑页修改":"已存在该"+g+"到本页面的连线",fontSize:12/y}).getSelfRect(),v=m.width+8/y,b=m.height*(t?1:2)+24/y;return c["default"].createElement(f.Group,{x:s+u/2-v/2,y:l+h/2-b/2,"data-eventType":"tip",id:n,"data-pageid":r,name:"canvasContr"},c["default"].createElement(f.Rect,{width:v,height:b,cornerRadius:2/y,fill:"rgba(60, 61, 67, .96)"}),c["default"].createElement(f.Text,{width:v,align:"center",offsetY:-12/y,text:t?"["+g+"组件]暂不支持连线":"已存在该"+g+"到本页面的连线 不可重复创建",fill:"white",fontSize:12/y}),c["default"].createElement(f.Rect,a({width:v,height:b,fill:"transparent","data-eventType":"tip","data-cursorkey":"not-allowed"},_.getHoverFunc())))},i([h["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"renderToastPage",null),i([h["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getPosiData",null),t}(c.Component);t["default"]=v},function(e,t,n){"use strict";function r(){var e=$(".gesture-tag-dom");e.length&&e.remove()}Object.defineProperty(t,"__esModule",{value:!0}),t.removeBlinkContr=r,t["default"]={removeBlinkContr:r}},,,,,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={mode:null},t}return o(t,e),t.prototype.componentWillMount=function(){this.load(this.props)},t.prototype.componentWillReceiveProps=function(e){var t=this.props.load;e.load!==t&&this.load(e)},t.prototype.load=function(e){var t=this;this.setState({mod:null}),e.load&&e.load(function(e){t.setState({mod:e["default"]?e["default"]:e})})},t.prototype.render=function(){var e=this.props.children,t=this.state.mod;return t?e(t):null},t}(a(n(1))["default"].Component);t["default"]=i},,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=l(n(11)),d=l(n(3)),f=l(n(27)),p=l(n(67)),h=n(10)["default"];function g(e){var t=e.data,n=e.idx,r=(e.selectIdx,e.isPrd);void 0!==r&&r?p["default"].changePrdLine({id:t,lineType:n}):f["default"].changeLine({id:t,lineType:n}),h.createData({type:"changeLineType",name:"改变线条样式"})}var y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.chooseType=function(){var e=this.props,t=e.idx,n=e.isTitle,r=e.closeFunc,o=void 0===r?$.noop:r,a=e.isPrd;if(n)o();else if(a){var i=p["default"].getPrdSelectArr();p["default"].setPrdLineType(t),i&&i.length>0&&(i.forEach(function(e,n){g({data:e,idx:t,selectIdx:n,isPrd:a})}),h.createData({type:"changeLineTypePrd",name:"PRD 修改连线样式",autoSaveType:"prd"}))}else{i=f["default"].getSelectArr();f["default"].setLineType(t),i&&i.length>0&&(i.forEach(function(e,n){g({data:e,idx:t,selectIdx:n})}),f["default"].setSelectArr(i))}},t.prototype.render=function(){var e=this.props,t=e.isRing,n=e.textColor,r=e.backColor,o=e.color,a=e.idx,i=e.hasBorder,s=e.isPrd,l={color:n,background:r};return i&&$.extend(!0,l,{boxSizing:"border-box",border:"1px solid "+n}),u["default"].createElement("div",{onClick:this.chooseType,className:c["default"]("line-type-show-box",{"prd-line-type-show-box":s})},u["default"].createElement("div",{style:1==a||-1==a?{border:"1px dashed "+o}:{background:o},className:"line-type-line"}),u["default"].createElement("div",{style:{border:"1px "+(1==a||-1==a?"dashed":"solid")+" "+o},className:"line-type-line"}),t?u["default"].createElement("div",{className:"line-type-start-ring",style:{border:-1!=a?"2px solid "+o:undefined}}):u["default"].createElement("div",{style:{background:-1!=a?o:"transparent"},className:"line-type-start-point"}),u["default"].createElement("div",{style:l,className:"line-type-comment"},-1!=a?"样式"+(a+1):"多个样式"),u["default"].createElement("div",{style:{borderColor:-1!=a?"transparent transparent transparent "+o:"transparent"},className:"line-type-end-arrow"}))},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"chooseType",null),t}(u.Component);t["default"]=y},,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=window;n(1565);var a=r(n(42)),i=r(n(475)),s=r(n(844)),l=r(n(2236)),u=n(2237),c=n(836),d=n(1646),f=window.$;window.notCanvasDev=!0,window.isLoadMulti=!0,f.hoverContrInit(),f.ClickContrInit(),f.ClickResourceInit();var p;if(self!=top&&"www.xiaopiu.com"==window.parent.location.hostname){var h=window.parent.location.pathname.replace("/","");p="editor"==h||"project"==h?"editor":"square"==h?"square":"list"}window.temp=-1==window.location.href.indexOf("byId")&&"www.xiaopiu.com"==window.location.host;var g={url:o.hostUrl+"/"+f.getPlatform(o.type)+"/byId?"+o.code,noClose:!0,noBtn:"true"==o.noBtn||window.temp,user:f.unescapeObj(o.user),view:f.unescapeObj(o.view),isMine:"true"==o.isMine,catalog:"project"==o.type,note:"project"==o.type,noteTag:"project"==o.type,fromIframe:p,hidePrdCoverPage:p||f.getUrlParam("prdpage")};p&&(o.fromIframe=!0),window.parent.previewPopupSet&&f.extend(!0,g,window.parent.previewPopupSet),a["default"].init(g),window.setPreviewPagesArr=function(e,t){a["default"].setPagesArr(e),a["default"].setStructData(t),a["default"].emitChange()},window.setPreviewActivePage=function(e,t){a["default"].changeActivePage({currIndex:e,nextIndex:t,setPos:!0}),s["default"].initContr(),i["default"].setPageId(t,"discuss"==a["default"].getMode())},window.addListNoteHoverClass=function(e,t,n){if(a["default"].getPrdView()){var r=f.getElById("page"+e+"Note"+t),o=r.getAttribute("data-name"),i=f(r).find(".note")[0].innerText,s=o?f('.contr-remarks-box[data-contr="'+o+'"]')[0]:f('.page-remarks-box[data-idx="'+i+'"]')[0],u=f(s).parents(".prd-page-remarks-panel")[0];f.addClass(s,"hover");var c=f.offset(s,!0),d=c.top,p=c.height,h=f.offset(u,!0),g=h.top,y=h.height;(d<g||d+p>g+y)&&f(u).scrollTop(d+p/2-g-y/2)}else{var m=f.getElById("listPage"+e+"Note"+t);if(u=f.getElById("previewNotePanel")){var _=u.clientHeight,v=m.offsetTop,b=m.offsetHeight,w=u.scrollTop;(v+b>_||v<w)&&(u.scrollTop=v)}f.addClass(m,"hover"),l["default"].show({content:n,noteTag:f.getElById("page"+e+"Note"+t)})}},window.removeListNoteHoverClass=function(e,t){if(a["default"].getPrdView()){var n=f.getElById("page"+e+"Note"+t),r=n.getAttribute("data-name"),o=f(n).find(".note")[0].innerText,i=r?f('.contr-remarks-box[data-contr="'+r+'"]')[0]:f('.page-remarks-box[data-idx="'+o+'"]')[0];f.removeClass(i,"hover")}else f.removeClass(f.getElById("listPage"+e+"Note"+t),"hover"),l["default"].hide()},window.document.onkeydown=function(e){!f.isCommonByEvent(e)||189!=e.keyCode&&187!=e.keyCode||(e.returnValue=!1)},u.previewMousetrapInit(),f.getUrlParam("pageflow")&&setTimeout(function(){c.selectPageFlow({id:f.getUrlParam("pageflow")}),setTimeout(function(){d.zoomFit()},500)},0),t["default"]="UserHomeInit"},function(e,t){e.exports=function(e){var t=e.anchorNode,n=e.anchorOffset,r=e.focusNode,o=e.focusOffset,a=t.compareDocumentPosition(r);return!(4===a||0===a&&n<o)}},function(e,t,n){var r=n(1393),o=n(141),a="Expected a function";e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(a);return o(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:i,maxWait:t,trailing:s})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(42)),i=n(224),s=r(n(19)),l=r(n(1657));function u(){var e=a["default"].getPreviewInfo(),t=i.getSelectStruct(),n=a["default"].getPreviewInfo().view.id;s["default"].init({title:"分享["+e.view.name+"]",width:500,maxZindex:!0,content:o["default"].createElement(l["default"],{pageId:t?t.id:"",coverId:n}),submitBtnFunc:function(){},noBottom:!0})}t.sharePopupFunc=u,t["default"]={sharePopupFunc:u}},function(e,t,n){var r=n(347);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(i){var a=e["return"];throw a!==undefined&&r(a.call(e)),i}}},function(e,t,n){var r=n(910),o=n(434)("iterator"),a=Array.prototype;e.exports=function(e){return e!==undefined&&(r.Array===e||a[o]===e)}},function(e,t,n){var r=n(434)("iterator"),o=!1;try{var a=[7][r]();a["return"]=function(){o=!0},Array.from(a,function(){throw 2})}catch(i){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a=[7],s=a[r]();s.next=function(){return{done:n=!0}},a[r]=function(){return s},e(a)}catch(i){}return n}},,function(e,t,n){"use strict";var r,o,a,i=s(n(335));s(n(82));function s(e){return e&&e.__esModule?e:{"default":e}}o=[],(a="function"==typeof(r=function(){var e=null;return function t(n,r){var o=r||{preventDefault:!1};if(n.Manager){var a=n,s=function(e,n){var r=(0,i["default"])(o);return n&&a.assign(r,n),t(new a(e,r),r)};return a.assign(s,a),s.Manager=function(e,n){var r=(0,i["default"])(o);return n&&a.assign(r,n),t(new a.Manager(e,r),r)},s}var l=(0,i["default"])(n),u=n.element;function c(e){return e.match(/[^ ]+/g)}function d(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}var n=!1;t.stopPropagation=function(){n=!0};var r=t.srcEvent.stopPropagation.bind(t.srcEvent);"function"==typeof r&&(t.srcEvent.stopPropagation=function(){r(),t.stopPropagation()}),t.firstTarget=e;for(var o=e;o&&!n;){var a=o.hammer;if(a)for(var i,s=0;s<a.length;s++)if(i=a[s]._handlers[t.type])for(var l=0;l<i.length&&!n;l++)i[l](t);o=o.parentNode}}return u.hammer||(u.hammer=[]),u.hammer.push(l),n.on("hammer.input",function(t){!0!==o.preventDefault&&o.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(e=t.target)}),l._handlers={},l.on=function(e,t){return c(e).forEach(function(e){var r=l._handlers[e];r||(l._handlers[e]=r=[],n.on(e,d)),r.push(t)}),l},l.off=function(e,t){return c(e).forEach(function(e){var r=l._handlers[e];r&&((r=t?r.filter(function(e){return e!==t}):[]).length>0?l._handlers[e]=r:(n.off(e,d),delete l._handlers[e]))}),l},l.emit=function(t,r){e=r.target,n.emit(t,r)},l.destroy=function(){var e=n.element.hammer,t=e.indexOf(l);-1!==t&&e.splice(t,1),e.length||delete n.element.hammer,l._handlers={},n.destroy()},l}})?r.apply(t,o):r)===undefined||(e.exports=a)},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_Contr=__webpack_require__(1437),_Contr2=_interopRequireDefault(_Contr),_Note=__webpack_require__(1451),_Note2=_interopRequireDefault(_Note),_DataHandle=__webpack_require__(428),_DataHandle2=_interopRequireDefault(_DataHandle),_EventHandle=__webpack_require__(994),_EventHandle2=_interopRequireDefault(_EventHandle),_ProtoPreviewStore=__webpack_require__(42),_ProtoPreviewStore2=_interopRequireDefault(_ProtoPreviewStore),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var PageComp=function(_React$Component){function PageComp(){(0,_classCallCheck3["default"])(this,PageComp);var e=(0,_possibleConstructorReturn3["default"])(this,(PageComp.__proto__||(0,_getPrototypeOf2["default"])(PageComp)).call(this));return e.state={renderChange:1},e}return(0,_inherits3["default"])(PageComp,_React$Component),(0,_createClass3["default"])(PageComp,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.renderChange==t.renderChange;return"page"==e.updateType?"web"==$.getPlatform(window.platform)?e.active&&n:e.active&&(!(window.loadPages&&window.loadPages[e.page.key])||!!e.reset||_EventHandle2["default"].hasTmEvents(e.page.key))&&n:"contr"==e.updateType&&(e.active&&n)}},{key:"componentDidMount",value:function(){this.initPage(),_ProtoPreviewStore2["default"].emitNoteChange()}},{key:"componentWillUpdate",value:function(e){"page"==e.updateType&&this.offEvents()}},{key:"componentDidUpdate",value:function(){"page"==this.props.updateType&&this.initPage(),_ProtoPreviewStore2["default"].emitNoteChange()}},{key:"render",value:function(){var e=this,t=e.props.page,n=[],r=window.pages[e.props.index].stateCache,o={},a=void 0;if((t.active||window.isInPrd)&&(window.loadPages&&(window.loadPages[t.key]=!0),t.contrs.forEach(function(o){var a=$.getContrId(o),i=o,s=!!window.isInPrd||-1!==e.props.updateParent.indexOf(a),l=e.props.updateContrId==a;if(("page"==e.props.updateType||s||l)&&(i=_DataHandle2["default"].getAllValsContr({contrKey:o,pageKey:t.key})),i.isDelete)return!1;n.push(_react2["default"].createElement(_Contr2["default"],{key:a,contr:i,page:t,pageIndex:e.props.index,updateType:e.props.updateType,updateContrId:e.props.updateContrId,updateParent:e.props.updateParent,isUpdateParent:s,mustChange:l,parentStateCache:r,select:""}))}),t.pageHeight&&(a=_react2["default"].createElement("div",{className:"page-placeholder"}))),window.isInPrd){var i=t.pageHeight?t.pageHeight*window.ss:t.pageHeight;o={width:window.previewFrameSize[t.isLandscape?"height":"width"],height:i||window.previewFrameSize[t.isLandscape?"width":"height"],transform:"scale("+e.props.scale+")"}}return _react2["default"].createElement("div",{key:"page"+t.key,id:"page"+t.key,"data-islandscape":t.isLandscape?"true":"false",ref:"page",className:(0,_classnames2["default"])("page",{current:t.active,isLandscape:t.isLandscape,"container-height":"web"==$.getPlatform(window.platform)}),style:o,"data-key":t.key,"data-direction":"y"},a,n,!window.isMobile&&t.note&&t.note.length>0?_react2["default"].createElement(_Note2["default"],{noteList:t.note,pageId:t.key||"1"}):undefined)}},{key:"setEvents",value:function(){var e=this.props.page.events;e&&0!==$.objLength(e)&&_EventHandle2["default"].setEvents({events:e,updateParent:this.props.updateParent,pageIndex:this.props.pageIndex,pageKey:this.props.page.key,targetId:"page"+this.props.page.key,type:"page"})}},{key:"offEvents",value:function(){this.props.page.events&&$("#page"+this.props.page.key).children(".gesture-tag").remove()}},{key:"initPage",value:function(){if(window.isInPrd)return!1;var e=this.props.page.key,t=["page"+e];if("mobile"==$.getPlatform(window.platform))new PreventOverScroll({list:t});if($.fixPageScroll(e),this.props.page.active&&(this.setEvents(),!window.isMobile)){var n=$.isUndefined(this.props.page.pageHeight)?$.getElById("page"+e).scrollHeight:this.props.page.pageHeight*window.ss;$.getElById("page"+e).style.height=n+"px"}}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PageComp}(_react2["default"].Component),_default=PageComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(PageComp,"PageComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Page.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Page.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(541));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={change:function(e){o["default"].dispatch({actionType:a["default"].RIGHTLABEL_CHANGE,label:e})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"RightLabelActions","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/RightLabelActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/actions/RightLabelActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({MYCONTROL_INIT:null,MYCONTROL_ADD:null,MYCONTROL_DELETE:null,MYCONTROL_EDIT:null,MYCONTROL_CHANGEEDIT:null,MYCONTROL_ADDCONTR:null,MYCONTROL_UPDATECONTR:null,MYCONTROL_DELCONTR:null,MYCONTROL_SCROLLTOP:null,MYCONTROL_CONCAT:null,MYCONTROL_INITPUBLIC:null,MYCONTROL_OPENCHANGE:null,MYCONTROL_LIBSMANAGE:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/constants/ControlConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";function r(){var e=$(".menu-switch")[0];$(e).hasClass("menu-switch-open")||$(e).click(),setTimeout(function(){$(".struct-bottom-btn").click()},0)}Object.defineProperty(t,"__esModule",{value:!0}),t.pageFlowImportPages=r,t["default"]={pageFlowImportPages:r}},,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=!1,s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.changeShow=function(e){i=e,s.emitChange()},t.prototype.isShow=function(){return i},t.prototype.emitChange=function(){this.emit("change")},t.prototype.addChangeListener=function(e){this.on("change",e)},t.prototype.removeChangeListener=function(e){this.removeListener("change",e)},t}(a.EventEmitter));t["default"]=s},,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(42)),a=r(n(278)),i=r(n(23)),s=r(n(27)),l=n(98);function u(e){a["default"].setLoaded(!1),setTimeout(function(){o["default"].isPresentation()&&!e&&o["default"].setShowBackMultiBtn(!1),o["default"].toggleMultiView(),i["default"].emitChange(),setTimeout(function(){s["default"].emitChange(),setTimeout(function(){i["default"].emitChange(),a["default"].setLoaded(!0)},100)},0),$.tipHide()},10)}function c(){var e=parseInt(l.getPageIdByKey(o["default"].getSelectPage()));u(!0),o["default"].setShowBackMultiBtn(!0),o["default"].emitChange(),setTimeout(function(){var t=o["default"].getActivePage();o["default"].changeActivePage({nextKey:e}),window.goToPage({curr:t,next:e,transition:"empty",notToparent:!0,reset:!0})},0)}t.changeMultiFunc=u,t.enterMulti=c,t["default"]={changeMultiFunc:u,enterMulti:c}},,,,,,,,,,,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(893)),d=s(n(3)),f=n(96),p=f.rgbaObjToStr,h=f.getRGBAobj,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={changedColor:""},n}return o(t,e),t.prototype.changeColorStyle=function(){var e=c["default"].getColorUnit();switch(c["default"].setColorFree(!0),this.state.changedColor){case"":this.setState({changedColor:e});case"RGBA":this.setState({changedColor:"HEX"});break;case"HEX":this.setState({changedColor:"ARGB"});break;case"ARGB":this.setState({changedColor:"RGBA"})}},t.prototype.render=function(){var e=this.props,t=e.headerName,n=(e.colorPanelName,e.colorDataName),r=e.bgColor,o=e.contr,a=e.data,i=a?a.name:t,s=a?o[a.value]:r;if(!s)return l["default"].createElement("div",null);var d=p(h(s)),f=this.state.changedColor,g=c["default"].getcolorFree(),y=c["default"].getColorUnit(),m=(g?f:y)||"RGBA",_=$.changeColorUnit(d,m),v=(a?o[a.value]:r).split(",")[3],b="1)"==v||" 1)"==v;return l["default"].createElement("div",{className:"mark-list-content"},l["default"].createElement("div",{className:"list-content-header"},i),l["default"].createElement("div",{"data-unit":m,onClick:this.changeColorStyle,className:u["default"]("mark-color-panel",{"mark-opacity-color-panel":!b})},l["default"].createElement("div",{className:"bgColor-color color-val",style:{background:d}})),l["default"].createElement("div",{"data-contr":"hovertip",className:u["default"]("a_c mark-bg-color mark-data-common copy-link-common",""+n),"data-clipboard-text":_,"data-option":'{"text":"'+_+'"}'},l["default"].createElement("span",null,_)))},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"changeColorStyle",null),t}(l["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=window.$,u=["radius","btnRadius"],c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e,t=this.props,n=t.headerName,r=t.headerClassName,o=t.contentHeaderClassName,a=t.dataClassName,c=t.value,d=t.visibility,f=t.scale,p=t.isLineHeight,h=t.isOpacity,g=t.data,y=t.contr,m=this.props.unit,_=g?g.name:n,v=g?l.isArray(g.value)?g.value.map(function(e,t){return y[e]}).join(","):l.isUndefined(y[g.value])?g.value:y[g.value]:l.isArray(c)?c.map(function(e){return l.saveTwoBit(Number(e)/Number(f),m)+m}).join(","):c,b=m&&f&&l.isNumber(v)&&(!g||"inner"!=g.value)?l.saveTwoBit(Number(v)/Number(f),m)+m:h||g&&"inner"==g.value?(l.isUndefined(v)?100:Math.round(v))+"%":v;p&&(e=10*Math.ceil(Number(v)+5)+"%");var w=p?e:b;return-1!=u.indexOf(c)&&y&&(y.isMaxRadius||y.btnIsMaxRadius)&&(w=l.saveTwoBit(Math.min(y.width,y.height)/2/Number(f),m)+m),i["default"].createElement("div",{className:s["default"]("mark-list-content",""+(r||""),{"visibility-box":d,"font-size-more":!!m,"chart-input":!!g})},i["default"].createElement("div",{className:s["default"]("list-content-header",""+o)},_),i["default"].createElement("div",{className:s["default"]("a_c mark-data-common copy-link-common",""+a),"data-contr":"hovertip","data-option":'{"text":"'+w+'"}',"data-clipboard-text":w},i["default"].createElement("span",null,w)))},t}(i["default"].Component);t["default"]=c},function(e,t,n){var r=n(141),o=n(1401),a=n(949),i="Expected a function",s=Math.max,l=Math.min;e.exports=function(e,t,n){var u,c,d,f,p,h,g=0,y=!1,m=!1,_=!0;if("function"!=typeof e)throw new TypeError(i);function v(t){var n=u,r=c;return u=c=undefined,g=t,f=e.apply(r,n)}function b(e){var n=e-h;return h===undefined||n>=t||n<0||m&&e-g>=d}function w(){var e=o();if(b(e))return C(e);p=setTimeout(w,function(e){var n=t-(e-h);return m?l(n,d-(e-g)):n}(e))}function C(e){return p=undefined,_&&u?v(e):(u=c=undefined,f)}function x(){var e=o(),n=b(e);if(u=arguments,c=this,h=e,n){if(p===undefined)return function(e){return g=e,p=setTimeout(w,t),y?v(e):f}(h);if(m)return p=setTimeout(w,t),v(h)}return p===undefined&&(p=setTimeout(w,t)),f}return t=a(t)||0,r(n)&&(y=!!n.leading,d=(m="maxWait"in n)?s(a(n.maxWait)||0,t):d,_="trailing"in n?!!n.trailing:_),x.cancel=function(){p!==undefined&&clearTimeout(p),g=0,u=h=c=p=undefined},x.flush=function(){return p===undefined?f:C(o())},x}},function(e,t,n){var r=n(448),o=n(1363),a=n(1364),i=n(347),s=n(1366),l=n(1020),u={},c={};(t=e.exports=function(e,t,n,d,f){var p,h,g,y,m=f?function(){return e}:l(e),_=r(n,d,t?2:1),v=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(a(m)){for(p=s(e.length);p>v;v++)if((y=t?_(i(h=e[v])[0],h[1]):_(e[v]))===u||y===c)return y}else for(g=m.call(e);!(h=g.next()).done;)if((y=o(g,_,h.value,t))===u||y===c)return y}).BREAK=u,t.RETURN=c},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||r!==undefined&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(912);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},,,,,function(e,t,n){var r=n(84);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";var r=n(449),o=n(121),a=n(435),i=n(427),s=n(434)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];i&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(998)),f=s(n(1453)),p=s(n(1454)),h=s(n(1455)),g=s(n(34)),y=n(954),m=n(955),_=n(845),v=n(895),b=n(957),w=window.$,C=v.structBaseVal.ONEDEEPWIDTH,x=v.structBaseVal.BASEMARGINLEFT,S=v.structBaseVal.TOPDISTANCE,P=v.structBaseVal.DOMHEIGHT,k=v.structBaseVal.PREVIEW_ONEDEEPWIDTH,O=v.structBaseVal.PREVIEW_BASEMARGINLEFT,E=n(10)["default"];var T=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.handleChangeName=function(e){var t=this.props.data.id;y.changeValById({key:"title",val:e,id:t}),E.createData({type:"reNamePrd",name:"PRD 重命名prd",autoSaveType:"prd"})},t.prototype.handleMouseMove=function(e){var t=this.props.data,n=t.id,r=t.type;if(g["default"].getIsDraging()){var o=e.clientX,a=e.clientY;_.changeDragChangePosi({clientX:o,clientY:a},function(){var e=w(".prd-page-list .show-drag-page-comp.drag-page-comp")[0],t=e&&w.offset(e,!0)?w.offset(e,!0).top:S,i=(a-t)%P;g["default"].setMoveOption({x:o,y:a});var s=w('.drag-page-comp[data-id="'+n+'"]')[0],l=m.testIsVaild(s),u=l.isVaild,c=l.isLast;if(u&&c&&i<=P/2&&(u=!1),u){var d=m.getMouseEndTarget(o,i,r,n),f=d.targetId,p=d.targetPosi,h=d.lineId,y=d.linePosi,_=d.lineDeep;g["default"].setDragOption({targetId:f,targetPosi:p,lineId:h,linePosi:y,lineDeep:_})}else g["default"].setDragOption({targetId:"",targetPosi:"",lineId:"",linePosi:"",lineDeep:-1})})}},t.prototype.clickPage=function(e){if(this.props.clickFunc)this.props.clickFunc(e);else{b.handleMouseDown(e);var t=w.query(".prd-preview-container>.right-content-panel");t&&0!=t.scrollTop&&(t.scrollTop=0)}},t.prototype.render=function(){var e=this.props,t=e.data,n=t.id,r=t.title,o=t.pageHierarchy,a=t.isFold,i=t.type,s=e.isSelect,c=e.isDeepColor,g=e.deep,y=e.isCurrent,m=e.idx,_=e.isParentSelect,v=e.searchText,w=e.searchShowKeyArr,S=e.isPreview,P=e.isContainer,E=e.isLink,T=e.isOnlyShow,M=o&&o.length,D=function(e,t){var n=t?k:C;return{paddingLeft:e*n+(t?O:x),iconLeft:e*n}}(g,S),A=D.paddingLeft,j=D.iconLeft;return l["default"].createElement("div",{style:{paddingLeft:A},"data-idx":m,"data-id":n,onMouseMove:this.handleMouseMove,"data-ispreview":S,"data-iscontainer":P,onMouseDown:this.clickPage,onContextMenu:b.handleContextMenu,className:u["default"]("show-drag-page-comp",{"deep-drag-page-comp":c,"current-page-comp":s,"is-showing-page-comp":y,"is-parent-select":_,"is-preview-folder":"folder"==i&&(S||P),"drag-page-comp":!T})},l["default"].createElement(h["default"],{isParentSelect:_,isCurrent:y,id:n}),l["default"].createElement(f["default"],{paddingLeft:A,id:n,deep:g,isPreview:S}),M?l["default"].createElement(p["default"],{hasChild:M,isFold:a,pageHierarchy:o,iconLeft:j,searchShowKeyArr:w,id:n,idx:m,isContainer:!!P,isLink:!!E}):undefined,l["default"].createElement("div",{className:u["default"]("page-icon",{"fold-icon":o})}),l["default"].createElement(d["default"],{name:r,alwaysReadOnly:P,updateFunc:this.handleChangeName,needDivision:!0,noLimit:!1,limitNum:200,searchText:v,toastName:a?"文件夹名称":"文档名称"}))},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleChangeName",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleMouseMove",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"clickPage",null),t}(l["default"].Component);t["default"]=T},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(1456)),f=s(n(1491)),p=s(n(1549)),h=s(n(214)),g=n(950),y=n(292),m=n(477),_=n(224),v=s(n(313)),b=n(118),w=s(n(34)),C=s(n(622)),x=s(n(29)),S=s(n(67)),P=s(n(1550)),k=window.$;function O(e){var t=window.mouseDownTarget;if(!t||!t.name){var n=C["default"].getDragChangePosiSet().autoChangeFunc,r=y.getDeepest();if(n)e<r&&w["default"].setContainerHeight(r);else if(e!=r){var o=w["default"].getSelectElementArr()||[],a=S["default"].getPrdSelectArr()||[];o.length+a.length==0&&w["default"].setContainerHeight(r)}}}t.reCalcContainerHeight=O;var E=function(e){function t(t){var n=e.call(this,t)||this;return n.scrollBar=null,n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){x["default"].addElementContentChangeListener(this._onChange),S["default"].addChangeListener(this._onChange);var e=this.props.prdSet.containerHeight;this._fixScrollTop(),O(e),_.showStructFromFoldParent()},t.prototype.componentWillUnmount=function(){x["default"].removeElementContentChangeListener(this._onChange),S["default"].removeChangeListener(this._onChange)},t.prototype.componentDidUpdate=function(){var e=this.props.prdSet.containerHeight;this._fixScrollTop(),O(e),_.showStructFromFoldParent()},t.prototype._fixScrollTop=function(){var e;window.mouseDownTarget.name?this.scrollBar&&(e=P["default"](this.scrollBar,!0))!=w["default"].getScrollTop()&&w["default"].setScrollTop(e):this.scrollBar&&(e=P["default"](this.scrollBar,!0))!=w["default"].getScrollTop()&&(this.scrollBar.scrollTop=w["default"].getScrollTop())},t.prototype._onChange=function(){this.setState({})},t.prototype.handleScroll=function(e){k(".menu-head-panel .head-close-btn").click(),w["default"].setScrollTop(e.currentTarget.scrollTop)},t.prototype._prdContentMouseDownFunc=function(e){m.elementDeselect(),k.stopPropagation(e)},t.prototype._dropImage=function(e){for(var t=[],n=e.dataTransfer.files,r=function(e){var r,o,a;r=n[e],o=new window.Image,a=new window.FormData,r.size/1048576<=2?(a.append("imgs",r),o.src=window.URL.createObjectURL(r),o.onload=function(){var e=k.query(".prd-insert-list-panel>.image-box");k(e).trigger("mousedown"),b.updatePrdImageSrc({width:o.width,height:o.height,fd:a,name:r.name},!0)}):t.push(r.name),e==n.length-1&&t.length>0&&v["default"].moreThanOneMB(t)},o=0;o<n.length;o++)r(o);k.removeClass(k.getElById("prdContentBox"),"isDropping"),e.preventDefault()},t.prototype._dragOver=function(e){k.addClass(k.getElById("prdContentBox"),"isDropping"),e.preventDefault()},t.prototype._dragLeave=function(e){k.removeClass(k.getElById("prdContentBox"),"isDropping"),e.preventDefault()},t.prototype.render=function(){var e=this,t=this.props,n=t.prdSet.containerHeight,r=t.cursor,o=t.isUnfold,a=h["default"].width;return l["default"].createElement("div",{ref:function(t){return e.scrollBar=t},onWheel:this.handleScroll,className:u["default"]("prd-content-panel has-scrollbar",{"is-pack-up":!o}),id:"prdContentPanel",onMouseDown:this._prdContentMouseDownFunc},l["default"].createElement("div",{onMouseDown:g.clearSelectArr,className:"prd-edit-box"},l["default"].createElement(d["default"],{isUnfold:o}),l["default"].createElement("div",{id:"prdContentBox",className:"prd-text-content-box",onDrop:this._dropImage,onDragOver:this._dragOver,onDragEnter:this._dragOver,onDragLeave:this._dragLeave},l["default"].createElement(p["default"],{isUnfold:o}),l["default"].createElement(f["default"],{width:a,cursor:r,height:n}))))},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_fixScrollTop",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleScroll",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_prdContentMouseDownFunc",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_dropImage",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_dragOver",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_dragLeave",null),t}(l["default"].Component);t["default"]=E},,function(e,t,n){e.exports={"default":n(1407),__esModule:!0}},function(e,t,n){n(1405),n(992),n(1021),n(1408),n(1412),n(1413),e.exports=n(121).Promise},function(e,t,n){"use strict";var r,o,a,i,s=n(995),l=n(449),u=n(448),c=n(991),d=n(215),f=n(436),p=n(951),h=n(1395),g=n(1394),y=n(1024),m=n(1025).set,_=n(1410)(),v=n(952),b=n(1026),w=n(1411),C=n(1027),x=l.TypeError,S=l.process,P=S&&S.versions,k=P&&P.v8||"",O=l.Promise,E="process"==c(S),T=function(){},M=o=v.f,D=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(434)("species")]=function(e){e(T,T)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t&&0!==k.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(r){}}(),A=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var n=e._c;_(function(){for(var r=e._v,o=1==e._s,a=0,i=function(t){var n,a,i,s=o?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(o||(2==e._h&&R(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),i=!0)),n===t.promise?u(x("Promise-chain cycle")):(a=A(n))?a.call(n,l,u):l(n)):u(r)}catch(d){c&&!i&&c.exit(),u(d)}};n.length>a;)i(n[a++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){m.call(l,function(){var t,n,r,o=e._v,a=L(e);if(a&&(t=b(function(){E?S.emit("unhandledRejection",o,e):(n=l.onunhandledrejection)?n({promise:e,reason:o}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=E||L(e)?2:1),e._a=undefined,a&&t.e)throw t.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(e){m.call(l,function(){var t;E?S.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=A(e))?_(function(){var r={_w:n,_d:!1};try{t.call(e,u(N,r,1),u(B,r,1))}catch(o){B.call(r,o)}}):(n._v=e,n._s=1,j(n,!1))}catch(r){B.call({_w:n,_d:!1},r)}}};D||(O=function(e){h(this,O,"Promise","_h"),p(e),r.call(this);try{e(u(N,this,1),u(B,this,1))}catch(t){B.call(this,t)}},(r=function(e){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1}).prototype=n(1396)(O.prototype,{then:function(e,t){var n=M(y(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?S.domain:undefined,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},"catch":function(e){return this.then(undefined,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=u(N,e,1),this.reject=u(B,e,1)},v.f=M=function(e){return e===O||e===i?new a(e):o(e)}),d(d.G+d.W+d.F*!D,{Promise:O}),n(1171)(O,"Promise"),n(1402)("Promise"),i=n(121).Promise,d(d.S+d.F*!D,"Promise",{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!D),"Promise",{resolve:function(e){return C(s&&this===i?O:this,e)}}),d(d.S+d.F*!(D&&n(1365)(function(e){O.all(e)["catch"](T)})),"Promise",{all:function(e){var t=this,n=M(t),r=n.resolve,o=n.reject,a=b(function(){var n=[],a=0,i=1;g(e,!1,function(e){var s=a++,l=!1;n.push(undefined),i++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--i||r(n))},o)}),--i||r(n)});return a.e&&o(a.v),n.promise},race:function(e){var t=this,n=M(t),r=n.reject,o=b(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var r=n===undefined;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(449),o=n(1025).set,a=r.MutationObserver||r.WebKitMutationObserver,i=r.process,s=r.Promise,l="process"==n(911)(i);e.exports=function(){var e,t,n,u=function(){var r,o;for(l&&(r=i.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(a){throw e?n():t=undefined,a}}t=undefined,r&&r.enter()};if(l)n=function(){i.nextTick(u)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(undefined);n=function(){c.then(u)}}else n=function(){o.call(r,u)};else{var d=!0,f=document.createTextNode("");new a(u).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var o={fn:r,next:undefined};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var r=n(449).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(215),o=n(121),a=n(449),i=n(1024),s=n(1027);r(r.P+r.R,"Promise",{"finally":function(e){var t=i(this,o.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(215),o=n(952),a=n(1026);r(r.S,"Promise",{"try":function(e){var t=o.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),_DataHandle=__webpack_require__(428),_DataHandle2=_interopRequireDefault(_DataHandle),_EventHandle=__webpack_require__(994),_EventHandle2=_interopRequireDefault(_EventHandle),_getContrHandle=__webpack_require__(1440),_getContrHandle2=_interopRequireDefault(_getContrHandle),_ContrStyleHandle=__webpack_require__(327),_ContrStyleHandle2=_interopRequireDefault(_ContrStyleHandle),_ExtraBaseContrHandle=__webpack_require__(205),_ExtraBaseContrHandle2=_interopRequireDefault(_ExtraBaseContrHandle),_getExtraBaseViewContr=__webpack_require__(1445),_getExtraBaseViewContr2=_interopRequireDefault(_getExtraBaseViewContr),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ContrComp=(_class=function(_React$Component){function ContrComp(e){(0,_classCallCheck3["default"])(this,ContrComp);var t=(0,_possibleConstructorReturn3["default"])(this,(ContrComp.__proto__||(0,_getPrototypeOf2["default"])(ContrComp)).call(this,e));return t.state={timers:[],eventHammers:{},eTypeClass:"",renderChange:1},t}return(0,_inherits3["default"])(ContrComp,_React$Component),(0,_createClass3["default"])(ContrComp,[{key:"componentDidMount",value:function(){var e=this.props.contr,t=$("#"+$.getContrId(e)+">.childrenBox");(e.scrollX||e.scrollY)&&t.on("touchmove",function(e){e.stopPropagation()}),this.setEvents()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.renderChange==t.renderChange,r="page"==e.updateType;return n&&(r||e.isUpdateParent||e.mustChange)}},{key:"componentWillUpdate",value:function(){this.offEvents()}},{key:"componentDidUpdate",value:function(){this.setEvents()}},{key:"_noteMouseEnter",value:function(e){if(window.addListNoteHoverClass){var t=e.currentTarget.getAttribute("data-pageid"),n=e.currentTarget.getAttribute("data-key"),r=e.currentTarget.getAttribute("data-note");window.addListNoteHoverClass(t,n,r)}}},{key:"_noteMouseLeave",value:function(e){if(window.removeListNoteHoverClass){var t=e.currentTarget.getAttribute("data-pageid"),n=e.currentTarget.getAttribute("data-key");window.removeListNoteHoverClass(t,n)}}},{key:"focus",value:function(){$("#"+$.getContrId(this.props.contr)+" p").focus()}},{key:"render",value:function(){var e=this,t=e.props.contr,n=$.getContrId(t),r=e.props.symbolChild&&e.props.symbolChild[n],o={text:"textC",hotspot:"hotspotC",icon:"iconC",image:"imageC",wrapbox:"wrapBox",symbol:"symbol",table:"tableC"},a={onMouseDown:function(e){["sH","sV","sT","sD","sL","sR"].some(function(t){return!!$.hasClass(e.currentTarget,t)})&&e.stopPropagation()}},i=$.getContrEndState(t),s="symbol"==t.type?"symbol_"+t.symbolKey:"";"contr"!=e.props.updateType&&r&&!$.isUndefined(r.endState)&&(i=r.endState);var l=t.scrollX||t.scrollY,u=(o[t.type]?o[t.type]:"")+" "+(e.props.isMergeBox?"mDiv":"cDiv")+(t.isDepend?" fixed":"")+" state"+(+i+1)+" "+s+" "+n,c=null,d=e.props.parentStateCache,f=e.props.stateAncestor,p=$.extend(!0,{},e.props.ancestorState)||{},h=void 0,g={},y={};t.isDepend&&window.fixedData&&(window.fixedData[e.props.page.key]=!0,window.isLocal&&(y={"data-ori-left":t.left,"data-ori-top":t.top})),l&&window.innerScrollData&&(window.innerScrollData[e.props.page.key]=!0),t.states&&!$.isEmptyObj(t.states)&&($.isEmptyObj(d)&&(f=n),d[n]||(d[n]={}),d[n][i]||(d[n][i]={}),h=d[n][i],p[n]=i);var m=_react2["default"].createElement("div",{className:"outerBorderBox stretch-wrapper"}),_=t.noteContent&&!window.isMobile?_react2["default"].createElement("div",{className:"note-box contr-note-box page"+e.props.page.key+"Note"+n,"data-note":t.noteContent,"data-key":n,"data-name":t.name,"data-pageid":e.props.page.key,id:"page"+e.props.page.key+"Note"+n,onMouseEnter:e._noteMouseEnter,onMouseLeave:e._noteMouseLeave},_react2["default"].createElement("div",{className:"note"},"N")):undefined;switch(a["data-select"]=e.props.select+(e.props.select?" .":".")+n,window.__c&&(window.__c[a["data-select"]]=t),t.type){case"text":r&&!$.isUndefined(r.content)&&((t=$.extend(!0,{},t)).content=r.content,window.__c&&(window.__c[a["data-select"]]=t));var v="inputText"==t.baseContrType,b={},w={};"inputText"==t.baseContrType?(b={contentEditable:!0,placeholder:t.content,onClick:e.stopPropagation},w={onClick:e.focus}):b={dangerouslySetInnerHTML:{__html:t.content.replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;").replace("\b","")}},t.autoW&&g.width&&delete g.width;var C=_react2["default"].createElement("p",(0,_extends3["default"])({className:"content "+(v?"isInput ":"")+t.vertical+" "+t.horizontal+(t.isB?" tB":"")+(t.isI?" tI":"")+(t.isU?" tU":"")+(t.isS?" tS":"")},b));c=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:u+("inputText"==t.baseContrType?" editable":"")+(t.autoW?" auto-width":"")+(t.fontSize<12?" minFont":""),style:g,ref:"contr","data-state":i},w,y,a),_,C,m);break;case"hotspot":c=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:u,ref:"contr"},a),_);break;case"icon":r&&!$.isUndefined(r.iconKey)&&((t=$.extend(!0,{},t)).iconKey=r.iconKey,window.__c&&(window.__c[a["data-select"]]=t)),c=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:u,style:g,ref:"contr","data-state":i},y,a),_,_react2["default"].createElement("i",{className:"material-icons icon iconfont"},t.iconKey));break;case"image":r&&r.src&&((t=$.extend(!0,{},t)).src=r.src,window.__c&&(window.__c[a["data-select"]]=t));var x={},S=void 0,P=!t.src||t.src&&-1!=t.src.indexOf("defaultImg"),k=window.h5ImgUrl+t.src;if(window.isLocal)try{k="images/"+/\/([^\/]*?\.(jpg|png|svg|jpeg|gif|webp|bmp|ico))/i.exec(t.src)[1]}catch(N){console.log(N)}P?S="cImg default-img material-icons":(x.backgroundImage="url("+k+")",S="cImg"),c=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:u,style:g,ref:"contr","data-state":i},y,a),_,_react2["default"].createElement("div",{className:"cutImgOutBox"},P?_react2["default"].createElement("div",{className:S,style:x}):_react2["default"].createElement("img",{className:S,src:k})),_react2["default"].createElement("div",{className:"insetBorder"}),m);break;case"tableCell":var O=void 0;if(t.content){var E={__html:t.content.replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;")};O=_react2["default"].createElement("span",{dangerouslySetInnerHTML:E})}c=_react2["default"].createElement("td",(0,_extends3["default"])({key:n,id:t.tableId+"_"+n,className:(0,_classnames2["default"])(n+" "+t.vertical+" "+t.horizontal,{tB:t.isB,tI:t.isI,tU:t.isU,tS:t.isS,"no-border-top":t.noBorderTop,"no-border-right":t.noBorderRight,"no-border-bottom":t.noBorderBottom,"no-border-left":t.noBorderLeft}),colSpan:t.colSpan,rowSpan:t.rowSpan,width:Math.round(t.width),height:Math.round(t.height)},a),O);break;case"table":var T=[],M="table-style-"+t.styleIndex,D={},A=[];t.linePosi.forEach(function(r,o){var i=[];t.columnPosi.forEach(function(s,l){if(!D[l+"_"+o]){var u=$.getOneCellData(t.child[l+"_"+o]),c=u&&u.mergeColumn?+u.mergeColumn+1:1,d=u&&u.mergeLine?+u.mergeLine+1:1;if(c>1&&d>1)for(var g=c-1;g>=0;g--)for(var y=d-1;y>=0;y--)D[g+l+"_"+(o+y)]=!0;else if(c>1)for(var m=c-1;m>0;m--)D[m+l+"_"+o]=!0;else if(d>1)for(var _=d-1;_>0;_--)D[l+"_"+(o+_)]=!0;i.push(_react2["default"].createElement(ContrComp,(0,_extends3["default"])({key:l+"_"+o,contr:$.extend(!0,$.extend(!0,{type:"tableCell",id:l+"_"+o,colSpan:c,rowSpan:d,width:s,height:r,noBorderTop:0==o,noBorderRight:l+c==t.columnPosi.length,noBorderBottom:o+d==t.linePosi.length,noBorderLeft:0==l,tableId:n},u),u.text),page:e.props.page,pageIndex:e.props.pageIndex,isMergeBox:!0,updateType:e.props.updateType,updateContrId:e.props.updateContrId,updateParent:e.props.updateParent,parentStateCache:h||e.props.parentStateCache,stateAncestor:f,ancestorState:p,symbolChild:j,symbolParent:I},a)))}}),T.push(_react2["default"].createElement("tr",{key:o},i))}),t.columnPosi.forEach(function(e){A.push(_react2["default"].createElement("col",{style:{width:e}}))}),c=_react2["default"].createElement("table",(0,_extends3["default"])({key:n,id:n,className:u+" "+M,ref:"contr",cellPadding:"0"},y,a),_,A,_react2["default"].createElement("tbody",null,T));break;case"symbol":case"wrapbox":var j=e.props.symbolChild,I=e.props.symbolParent;"symbol"==t.type&&(j=j?$.extend(!0,$.extend(!0,{},t.children),j):$.extend(!0,{},t.children),(I=I?I.concat():[]).push(n));var L=[];t.hierarchy&&t.hierarchy.concat().reverse().forEach(function(r){var o=t.contrs[r];if(!o)return!1;var i=$.getContrId(o),s=!!window.isInPrd||-1!==e.props.updateParent.indexOf(n),l=e.props.mustChange||e.props.updateContrId==r;("page"==e.props.updateType||s||l)&&(o=_DataHandle2["default"].getAllValsContr({contrKey:o,symbolChild:j,pageKey:e.props.page.key})),L.push(_react2["default"].createElement(ContrComp,(0,_extends3["default"])({key:i,contr:o,page:e.props.page,pageIndex:e.props.pageIndex,isMergeBox:!0,updateType:e.props.updateType,updateContrId:e.props.updateContrId,updateParent:e.props.updateParent,isUpdateParent:s,mustChange:l,parentStateCache:h||e.props.parentStateCache,stateAncestor:f,ancestorState:p,symbolChild:j,symbolParent:I,select:e.props.select+(e.props.select?" .":".")+n},a)))}),c=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:u,style:g,ref:"contr","data-state":i},y,a),_,_react2["default"].createElement("div",{className:"childrenBox"+(!window.isMobile&&l?" dragscroll":""),"data-direction":t.scrollX&&t.scrollY?"":t.scrollX?"x":"y",onWheel:!window.isMobile&&l?e.stopPropagation:null},L),_react2["default"].createElement("div",{className:"insetBorder"}),m)}if($.isAdvancedAllContr(t.type)){var R=_ContrStyleHandle2["default"].getStyles({contr:t,type:"box"});u+=" advanced-contr",c=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:u,ref:"contr","data-state":i},y,a),_,_getContrHandle2["default"].getAdvancedContr(t,R))}else if(_ExtraBaseContrHandle2["default"].isExtraBaseContr(t.type)){var B=_getExtraBaseViewContr2["default"].getContr(t.type);c=_react2["default"].createElement("div",(0,_extends3["default"])({key:n,id:n,className:u,ref:"contr","data-state":i},y,a),_,_react2["default"].createElement(B,{contr:t,contrId:$.getContrId(t)}),m)}return c}},{key:"setAdvancedContrEvents",value:function(e,t,n){var r=this,o=e||r.props.contr,a=o.data||o.child,i=$.isUndefined(n)?0:n+1;if(!a||!$.isArray(a))return!1;a.forEach(function(e,n){var a=t||[];if(a[i]=n,a.length-1>i&&a.splice(i+1,a.length-1-i),"menu"==o.type&&!1!==o.allowRouter&&e.child&&0==e.child.length&&!e.events){var s=_DataHandle2["default"].getPageByName(e.title);$.isUndefined(s)||(e.events={tA:{actions:[{page:s,type:"page"}],disable:!1,name:null,type:"tA"}})}e.events&&r.setEvents($.extend({id:o.id,type:o.type},e),a),e.child&&r.setAdvancedContrEvents($.extend({id:o.id,type:o.type,allowRouter:o.allowRouter},e),a,i)})}},{key:"setEvents",value:function(e,t){if(window.isInPrd)return!1;var n=e||this.props.contr,r=n.events,o=n.tableId?n.tableId+"_"+$.getContrId(n):$.getContrId(n);if(!e&&$.isAdvancedAllContr(n.type)&&this.setAdvancedContrEvents(),r&&0!==$.objLength(r)){var a=_EventHandle2["default"].setEvents({events:r,updateParent:this.props.updateParent,pageIndex:this.props.pageIndex,pageKey:this.props.page.key,targetId:o,childrenIndex:t,type:n.type,symbolParent:this.props.symbolParent});this.setState({timers:a.timers,eventHammers:a.eventHammers,eTypeClass:a.eTypeClass,renderChange:this.state.renderChange+1})}}},{key:"offEvents",value:function(){var e=this.props.contr,t=e.tableId?e.tableId+"_"+$.getContrId(e):$.getContrId(e);if($.isAdvancedAllContr(this.props.contr.type)||_ExtraBaseContrHandle2["default"].isExtraBaseContr(e.type))return!1;_EventHandle2["default"].offEvents({pageKey:this.props.page.key,targetId:t,eventHammers:this.state.eventHammers,eTypeClass:this.state.eTypeClass,type:this.props.contr.type,timers:this.state.timers,symbolParent:this.props.symbolParent})}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ContrComp}(_react2["default"].Component),_applyDecoratedDescriptor(_class.prototype,"focus",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"focus"),_class.prototype),_class),_default=ContrComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(ContrComp,"ContrComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Contr.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Contr.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var o,a,i={},s={getTimeline:function(e,t,n){return i[e+"_"+t+"_"+n]},setTimeline:function(e,t,n,r){i[e+"_"+t+"_"+n]=r}},l=s;t["default"]=l,(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(o.register(i,"timelines","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/stores/AnimStore.js"),o.register(s,"AnimStore","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/stores/AnimStore.js"),o.register(l,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/stores/AnimStore.js")),(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&a(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(144)),a=i(n(428));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e),CSSPlugin.defaultForce3D=!0;var s,l,u=void 0,c=void 0,d=void 0,f=void 0,p={delay:0,time:.5,count:1},h=void 0,g={getTimeline:function(e,t,n){var r=new window.TimelineMax({paused:!0}),o={},i=n||1,s=!$.isUndefined(n),l={};d={start:e.next,end:e.curr},u=a["default"].getAllValsContr({contrKey:t||e.contrId}),c=g.getTransition();var p=g.getTrProps();if(f||(f=$.extend(!0,{},d)),g.setChangedContrs(e),g.getDisabled()){if(!s)return"disabled";p.time=0,p.delay=0}if(c||console.log("warning"),!c||!c[d.end]||!c[d.end].contrs)return"noChange";for(var y in c[d.end].contrs)if(h[y]){var m=a["default"].getStartEndContrs(y,e.contrId,f.start),_=m.start,v=m.end,b=c[d.end].contrs[y],w=[],C=[];for(var x in b.units[0].keyframes)C.push(x),w[x]=b.units[0].keyframes[x].frame;C=C.sort(function(e,t){return parseInt(e)-parseInt(t)}),l[y]={keyArr:C,keyframes:w,props:b.units[0].props||{},startContr:_,endContr:v}}var S=function(t){var n=l[t].keyArr,r=l[t].props.time||p.time,a=l[t].props.delay?l[t].props.delay-p.delay:0,s=l[t].props.easing||p.easing,u=l[t].keyframes["0%"];if(o[t]||(o[t]={}),o[t+"_start"]||(o[t+"_start"]={}),n.forEach(function(u,c){if(0!==c)for(var d=l[t].keyframes[u],f=$.extend(!0,$.extend(!0,{},l[t].startContr),d),p=c-1;p>=0;p--){var h=l[t].keyframes[n[p]],y=$.extend(!0,$.extend(!0,{},l[t].startContr),h);for(var m in d){if("state"==m){var _=g.getTimeline({contrId:e.contrId,next:$.isUndefined(f[m].endState)?"-1":f[m].endState,curr:y[m].endState},t,i+1);$.isObject(_)&&$.extend(!0,o,_)}"100%"!=u&&$.isUndefined(l[t].keyframes["100%"][m])&&(l[t].keyframes["100%"][m]=l[t].endContr[m])}o[t][i]={contrId:t,styles:d,curData:f,prevData:y,time:r*(parseInt(u)-parseInt(n[p]))/100,delay:a+parseInt(n[p])/100*r,easing:s,symbolParent:e.symbolParent}}}),!$.isUndefined(u.rotate)||!$.isUndefined(u.filter)){var c={};$.isUndefined(u.rotate)||(c.rotate=u.rotate),$.isUndefined(u.filter)||(c.filter=u.filter),o[t+"_start"][i]={contrId:t,styles:c,curData:$.extend(!0,$.extend(!0,{},l[t].endContr),u),symbolParent:e.symbolParent},o[t+"_start"][i].prevData=o[t+"_start"][i].curData}};for(var P in l)S(P);if(!s){var k=[],O=[],E={};for(var T in o)for(var M in o[T])-1==T.indexOf("_start")?O=O.concat(g.dataToStyle(o[T][M])):k=k.concat(g.dataToStyle(o[T][M]));k.forEach(function(e){"self"==e.type&&(E[e.contrId]=!0),r.set(e.element,$.extend(!0,"self"==e.type?{transformOrigin:"50% 50%",x:0,y:0}:{},e.props),0)}),O.forEach(function(e){var t=e.props;e.start&&r.set(e.element,e.start,e.delay),E[e.contrId]||"self"!=e.type||(r.set(e.element,{x:0,y:0},0),e.rotation&&r.set(e.element,{transformOrigin:"50% 50%"},0)),e.easing&&(t=$.extend(!0,{ease:$.getEasingFuncName(e.easing)},t)),r.to(e.element,e.time,t,e.delay),e.end&&r.set(e.element,e.end)}),f=null}return s?o:r},unrepeatedContrProps:function(e){for(var t in e){var n=e[t];$.objLength(n)>1&&g.unrepeatedProps(n)}},unrepeatedProps:function(e){var t=(0,o["default"])(e),n=[];t.sort(function(e,t){return+t-+e}),t.forEach(function(t){for(var r in e[t].styles)-1!=n.indexOf(r)?delete e[t].styles[r]:n.push(r);0===$.objLength(e[t].styles)&&delete e[t]})},setChangedContrs:function(e){var t={};for(var n in h={},t[d.start]={},t[d.end]={},(-1!=d.start&&!u.states[d.start]||-1!=d.end&&!u.states[d.end])&&console.log("warning"),-1!=d.start&&u.states[d.start]&&(t[d.start]=g.unrepeatedContrs(u,u.states[d.start].contrs)),-1!=d.end&&u.states[d.end]&&(t[d.end]=g.unrepeatedContrs(u,u.states[d.end].contrs)),t[d.end]){var r=$.filterState(t[d.end][n]),o=$.filterState(t[d.start][n]),i={},s={},l=a["default"].getStartEndContrs(n,e.contrId,f.start),c=l.start,p=l.end;for(var y in r)c||console.log("warning:未获取到startContr"),c&&r&&!$.isPropEqual(c[y],r[y],"state"==y)&&(h[n]=!0,g.compareProps({prop:y,startContr:c,endContr:r,reverse:!0,startData:i,endData:s}));for(var m in o)$.isPropEqual(o[m],p[m],"state"==m)||(h[n]=!0,g.compareProps({prop:m,startContr:o,endContr:p,reverse:!1,startData:i,endData:s}));(s.isDelete||i.isDelete)&&(s={isDelete:s.isDelete},i={isDelete:i.isDelete}),g.editFrame(s,n,"0%",!0),g.editFrame(i,n,"100%",!0)}for(var _ in t[d.start])if(!t[d.end][_]){var v=$.filterState(t[d.start][_]),b={},w={},C=a["default"].getStartEndContrs(_,e.contrId,f.start).end;for(var x in v)C||console.log("warning:未获取到endContr"),v&&C&&!$.isPropEqual(v[x],C[x],"state"==x)&&(h[_]=!0,g.compareProps({prop:x,startContr:v,endContr:C,reverse:!1,startData:b,endData:w}));(w.isDelete||b.isDelete)&&(w={isDelete:w.isDelete},b={isDelete:b.isDelete}),g.editFrame(w,_,"0%",!0),g.editFrame(b,_,"100%",!0)}},unrepeatedContrs:function(e,t,n){var r=n?t:$.extend(!0,{},t),o=$.getContrId(e);for(var i in r){var s=r[i];a["default"].getAllValsContr({contrKey:i,parentSaveContrVals:s,parentSaveContrId:o})}return r},compareProps:function(e){var t=e.startContr[e.prop],n=e.endContr[e.prop];if("cutVals"==e.prop){var r=e.reverse?n:t;for(var o in t||(t=$.getDefaultCutVals(e.startContr)),n||(n=$.getDefaultCutVals(e.endContr)),r)t[o]!=n[o]&&($.isUndefined(e.startData[e.prop])&&(e.startData[e.prop]={}),$.isUndefined(e.endData[e.prop])&&(e.endData[e.prop]={}),e.startData[e.prop][o]=t[o],e.endData[e.prop][o]=n[o])}else e.reverse?(e.startData[e.prop]=$.isUndefined(t)?null:t,"filter"==e.prop?e.endData[e.prop]=$.extend(!0,$.extend(!0,{},t),n):e.endData[e.prop]=n):(e.endData[e.prop]=$.isUndefined(n)?null:n,"filter"==e.prop?e.startData[e.prop]=$.extend(!0,$.extend(!0,{},n),t):e.startData[e.prop]=t)},editFrame:function(e,t,n,r){var o=void 0,a=void 0;if(r&&$.isEmptyObj(e)&&(!c[d.end]||!c[d.end].contrs||!c[d.end].contrs[t]))return!1;t?((a=g.getContrAnim(t,!0)).keyframes[n]||g.createFrame(n,t,{},!0),o=a.keyframes[n].frame):o=curInfo.keyframe.frame,r?t?a.keyframes[n].frame=e:curInfo.keyframe.frame=e:$.extend(o,e)},getContrAnim:function(e,t){if(c&&c[d.end]&&c[d.end].contrs&&c[d.end].contrs[e]&&c[d.end].contrs[e].units){var n=c[d.end].contrs[e].units[0];return $.isUndefined(n.keyframes)&&(n.keyframes={}),$.isUndefined(n.props)&&(n.props={}),n}return t?(g.setContrAnim(e),c[d.end].contrs[e].units[0]):g.getContrAnimData()},setContrAnim:function(e){c[d.end]||(c[d.end]={});var t=c[d.end];t.contrs||(t.contrs={}),t.contrs[e]||(t.contrs[e]={units:[{index:0,props:{},keyframes:{}}]})},getContrAnimData:function(e){var t={};return e&&c&&c[d.end]&&c[d.end].contrs&&(t=c[d.end].contrs[e]),$.extend(!0,{units:[{index:0,props:{},keyframes:{}}]},t)},createFrame:function(e,t,n,r){var o=g.getContrAnim(t);return o.keyframes[e]={frame:n||{},show:!0,active:!r},o},getTransition:function(){var e=void 0;return $.objLength(u.states)>0&&(-1!=d.start?(u.states[d.start].transition||(u.states[d.start].transition={}),e=u.states[d.start].transition):(u.transition||(u.transition={}),e=u.transition)),e},getTrProps:function(){var e=$.extend({},p);return c||console.log("warning"),c&&c[d.end]&&c[d.end].props&&$.extend(e,c[d.end].props),e},getDisabled:function(){return!(!c||!c[d.end])&&c[d.end].disabled},dataToStyle:function(e){var t={},n=[],r=e.contrId.split("_")[0],a=g.getStyleCategory(r),i=e.curData,s=function(n){a[n].stylesArr.forEach(function(r){if(!$.isUndefined(e.styles[r])){var o="#"+e.contrId;e.symbolParent&&(o="#"+e.symbolParent.join(" #")+" "+o),$.isUndefined(t[n])&&(t[n]={element:$.query(o+" "+a[n]["class"]),process:{},ins:{},startData:{}}),function s(t,n,r,o){var a=g.styleDict(t);var l=e.styles[t];switch(t){case"textShadow":n.process[a]="rgba(0,0,0,0.5) 0px "+$.convertNum(l,"px")+" "+$.convertNum(l,"px");break;case"opacity":n.process[a]=l/100;break;case"insetBorder":n.process[a]=$.convertNum(l)+" "+$.getBorderStyle("style",l[2])+" "+l[0];break;case"content":n.ins[a]=l;break;case"vertical":case"horizontal":n.ins[t]=l;break;case"isB":n.ins[a]=l?"bold":"normal";break;case"isI":n.ins[a]=l?"italic":"normal";break;case"isU":n.ins[a]=l?"underline":"none";break;case"isS":n.ins[a]=l?"line-through":"none";break;case"isShow":case"isDelete":var u=!1!==i.isShow&&!i.isDelete;u&&(n.ins[a]="block"),n.process.opacity=u?i.opacity/100:0;break;case"border":"outerBorderBox"==r?(n.process.border=i.border&&null!==(i.border&&i.border[0])?$.convertNum(Math.ceil(i.border[1]))+" "+$.getBorderStyle("style",i.border[2])+" "+i.border[0]:"none",n.process.left=$.convertNum(-Math.ceil(i.border[1]+(i.insetBorder?i.insetBorder[1]:0))),n.process.top=$.convertNum(-Math.ceil(i.border[1]+(i.insetBorder?i.insetBorder[1]:0))),n.process.width="calc(100% + "+$.convertNum(2*Math.ceil(i.insetBorder[1]))+")",n.process.height="calc(100% + "+$.convertNum(2*Math.ceil(i.insetBorder[1]))+")"):s("shadow",n,r);break;case"shadow":if(!n.process[a]){var c="";!i.border&&"table"!=i.type||$.isUndefined(i.shadow)||"0"==i.shadow||(c=$.isArray(i.shadow)?i.shadow[0]+"px "+i.shadow[1]+"px "+i.shadow[2]+"px "+i.shadow[3]+"px "+i.shadow[4]+(i.shadow[5]?" inset":""):"0px "+i.shadow+"px "+i.shadow+"px "+(i.border&&i.border[1]?i.border[1]:0)+"px rgba(0,0,0,0.5)"),n.process[a]=c?""+c:"none"}break;case"rotate":n.process[a]=l,s("left",n,r,t),s("top",n,r,t);break;case"cutVals":$.extend(!0,n.process,{width:$.convertNum(i.cutVals.boxWidth),height:$.convertNum(i.cutVals.boxHeight),"margin-left":$.convertNum(l.boxLeft),"margin-top":$.convertNum(l.boxTop)});break;case"filter":n.process.webkitFilter=$.getFilter(l),n.process.filter=$.getFilter(l);break;case"radius":case"isMaxRadius":n.process[a]||("outerBorderBox"==r&&i.border[1]?n.process[a]=i.isMaxRadius?$.convertNum(Math.ceil(Math.min(i.width,i.height))+$.getRadiusAddValue(i.radius,i.border[1]),"px"):$.isArray(i.radius)?i.radius.map(function(e){return""+$.convertNum(Math.ceil(e)+$.getRadiusAddValue(e,i.border[1]),"px")}).join(" "):$.convertNum(Math.ceil(i.radius)+$.getRadiusAddValue(i.radius,i.border[1]),"px"):n.process[a]=i.isMaxRadius?$.convertNum(Math.ceil(Math.min(i.width,i.height)),"px"):$.isArray(i.radius)?i.radius.map(function(e){return e+"px"}).join(" "):$.convertNum(Math.ceil(i.radius),"px"));break;case"backColor":case"hasBackColor":n.process[a]||(n.process[a]=i.hasBackColor?i.backColor:"transparent");break;case"left":case"top":var d="rotate"==o?$.getRotatePosiDiff({rotate:i.rotate,width:i.width,height:i.height,type:t}):0;n.process[a]=e.prevData?$.convertNum(i[t]-e.prevData[t]-d,"px"):0;break;case"width":case"height":if("icon"==r){if($.isUndefined(n.process.fontSize)){var f=1,p=1;n.process.fontSize=$.convertNum(Math.max(Math.max(i.width,i.height),12)),i.width!=i.height&&(i.width>i.height?p=i.height/i.width:f=i.width/i.height),n.process.transform=1!=f||1!=p?(1!=f?"scaleX("+f+")":"")+(1!=p?" scaleY("+p+")":""):"none"}}else"textBox"==r?s("fontSize",n,r):"self"!=r?s("radius",n,r):(n.process[a]=$.convertNum(l,"px"),s("radius",n,r));break;case"independWH":case"outerHidden":n.process.overflow=!i.independWH&&i.outerHidden?"hidden":"visible";break;case"textColor":case"iconColor":n.process[a]=l;break;case"fontSize":(l<12||e.prevData.fontSize<12)&&window.fromIframe&&(n.ins.width="100%",n.ins.scale=1,"vM"==i.vertical?n.ins.y="-50%":n.ins.y=0,l=Math.max(l,12)),n.process[a]=$.convertNum(l);break;case"scale":n.process.transform="scale("+l/10+")";break;default:n.process[a]=$.convertNum(l)}}(r,t[n],n)}})};for(var l in a)s(l);var u=function(r){if((0,o["default"])(t[r].process).length>0){var a={},i={};n.push({element:t[r].element,props:t[r].process,time:e.time,delay:e.delay,start:0!==$.objLength(a)&&a,end:0!==$.objLength(i)&&i,easing:e.easing,type:r,contrId:e.contrId})}if((0,o["default"])(t[r].ins).length>0){if("textBox"==r){var s="";[["horizontal",t[r].ins.horizontal],["vertical",t[r].ins.vertical]].forEach(function(e){$.isUndefined(t[r].ins[e[0]])||(s+=(""!==s?" ":"")+e[1],delete t[r].ins[e[0]])}),""!==s&&(e.prevData?t[r].ins.className="+="+s:t[r].ins.className="-="+s)}n.push({element:t[r].element,props:t[r].ins,time:0,delay:e.delay,type:r,contrId:e.contrId})}};for(var c in t)u(c);return n},styleDict:function(e){return{width:"width",height:"height",left:"x",top:"y",rotate:"rotation",radius:"borderRadius",isMaxRadius:"borderRadius",shadow:"box-shadow",opacity:"opacity",backColor:"backgroundColor",hasBackColor:"backgroundColor",iconColor:"color",insetBorder:"border",adjaceney:"letterSpacing",textColor:"color",fontSize:"fontSize",textShadow:"textShadow",lineHeight:"lineHeight",indent:"textIndent",content:"value",border:"boxShadow",isShow:"display",isDelete:"display",outerHidden:"overflow",scrollX:"overflow-x",scrollY:"overflow-y",isDepend:"position"}[e]},getStyleCategory:function(e){var t={"class":"",stylesArr:"hotspot"==e||"icon"==e?["width","height","left","top","opacity","rotate","isShow","isDelete","isDepend"]:["width","height","left","top","backColor","hasBackColor","radius","isMaxRadius","border","shadow","opacity","rotate","isShow","isDelete","isDepend"]},n={"class":">.outerBorderBox",stylesArr:["radius","isMaxRadius","width","height","border"]};switch(e){case"text":return t.stylesArr.push("insetBorder"),{self:t,textBox:{"class":" .content",stylesArr:["width","adjaceney","indent","textColor","lineHeight","textShadow","fontSize"]},outerBorderBox:n};case"hotspot":return{self:t};case"icon":return{self:t,icon:{"class":" i",stylesArr:["iconColor","width","height"]}};case"image":return{self:t,insetBorder:{"class":" .insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},imgBox:{"class":" .cutImgOutBox",stylesArr:["radius","isMaxRadius","width","height"]},img:{"class":" .cImg",stylesArr:["cutVals","filter"]},outerBorderBox:n};case"wrapbox":return t.stylesArr.push("outerHidden","scrollX","scrollY"),{self:t,insetBorder:{"class":">.insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},childrenBox:{"class":">.childrenBox",stylesArr:["radius","isMaxRadius","outerHidden","scrollX","scrollY"]},outerBorderBox:n};case"symbol":return{self:{"class":"",stylesArr:["left","top"]},childrenBox:{"class":">.childrenBox",stylesArr:["scale"]}}}}},y=g;t["default"]=y,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"curContr","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),s.register(c,"curTr","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),s.register(d,"curState","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),s.register(f,"parentState","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),s.register(p,"defaultProps","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),s.register(h,"changedContrs","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),s.register(g,"AnimHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js"),s.register(y,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/AnimHandle.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(11)),i=r(n(453)),s=r(n(1441)),l=r(n(1442)),u=r(n(147)),c=r(n(327)),d=n(329),f=window.$,p=new(function(){function e(){}return e.prototype.getAdvancedContr=function(e,t){var n,r=u["default"].getType(e.type)+"-box",i=p.getAdvancedBaseContr(e.type),s=c["default"].getStyles({_contr:e,type:"selectBox"});return o["default"].createElement("div",{className:a["default"](""+r,(n={},n[f.getAdvancedStyleClass(e.type)]=!0,n)),style:s},i?o["default"].createElement(i,{contr:d.fixDefaultData(e),contrId:f.getContrId(e),boxStyle:t}):undefined)},e.prototype.getAdvancedBaseContr=function(e){var t;return f.isAdvancedContr(e)?t=l["default"].getContr(e):f.isMobileContr(e)?t=s["default"].getContr(e):f.isChartContr(e)&&(t=i["default"].getContr(e)),t},e}());t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(525)),a=r(n(526)),i=r(n(527)),s=r(n(528)),l=r(n(529)),u=r(n(466)),c=r(n(530)),d=r(n(531)),f=r(n(532)),p=r(n(533)),h=r(n(467)),g=r(n(534)),y=r(n(535)),m=r(n(536)),_=r(n(537)),v=new(function(){function e(){}return e.prototype.getContr=function(e){var t;switch(e){case"carouselM":t=o["default"];break;case"carouselTextM":t=a["default"];break;case"sliderM":t=u["default"];break;case"rangeM":t=c["default"];break;case"stepperM":t=d["default"];break;case"paginationM":t=i["default"];break;case"radioM":t=f["default"];break;case"checkboxM":t=p["default"];break;case"switchM":t=h["default"];break;case"menuM":t=g["default"];break;case"pickerM":t=y["default"];break;case"segmentedControlM":t=m["default"];break;case"calendarM":t=s["default"];break;case"datePickerM":t=l["default"];break;case"accordionM":t=_["default"]}return t},e}());t["default"]=v},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(511)),a=r(n(512)),i=r(n(513)),s=r(n(509)),l=r(n(510)),u=r(n(514)),c=r(n(515)),d=r(n(1443)),f=r(n(517)),p=r(n(518)),h=r(n(519)),g=r(n(466)),y=r(n(467)),m=r(n(520)),_=r(n(1444)),v=r(n(522)),b=r(n(523)),w=r(n(524)),C=new(function(){function e(){}return e.prototype.getContr=function(e){var t;switch(e){case"dropdown":t=s["default"];break;case"menu":t=l["default"];break;case"pagination":t=o["default"];break;case"cascader":t=u["default"];break;case"checkbox":t=c["default"];break;case"datePicker":t=d["default"];break;case"rate":t=f["default"];break;case"radio":t=p["default"];break;case"select":t=h["default"];break;case"slider":t=g["default"];break;case"switch":t=y["default"];break;case"treeSelect":t=m["default"];break;case"timePicker":t=_["default"];break;case"transfer":t=v["default"];break;case"calendar":t=a["default"];break;case"carousel":t=i["default"];break;case"collapse":t=b["default"];break;case"tree":t=w["default"]}return t},e}());t["default"]=C},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(516)),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:undefined},n}return o(t,e),t.prototype.handleChange=function(e,t){this.setState({value:t})},t.prototype.render=function(){var e=this.props,t=this.handleChange,n=this.state.value;return u["default"].createElement(d["default"],a({},e,{changeFunc:t,dateVal:n}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"handleChange",null),t}(u["default"].Component);t.DatePickerContrComp=f,t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(521)),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:undefined},n}return o(t,e),t.prototype.handleChange=function(e,t){this.setState({value:t})},t.prototype.render=function(){var e=this.props,t=this.state.value,n=this.handleChange;return u["default"].createElement(d["default"],a({},e,{timeVal:t,changeFunc:n}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"handleChange",null),t}(u["default"].Component);t.TimePickerViewContrComp=f,t["default"]=f},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1446)),a=r(n(1447)),i=r(n(1448)),s=r(n(1450)),l=new(function(){function e(){}return e.prototype.getContr=function(e){var t;switch(e){case"map":t=o["default"];break;case"audio":t=i["default"];break;case"video":t=a["default"];break;case"webPage":t=s["default"]}return t},e}());t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(1179)),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={title:"",inputValue:""},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.contr,n=t.location,r=t.zoom,o=t.isZoomIn,a=t.isDrag,l=t.isHaveInput,u=t.width,c=t.height,d=t.address,f=e.contrId;return i["default"].createElement(s["default"],{contrId:f,isEdit:!1,mapData:{},center:n,zoom:r+1,isZoomIn:o,isDrag:a,isHaveInput:l,width:u,height:c,defaultAddress:d})},t}(i["default"].Component);t.MapContrViewComp=l,t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.contr,t=(e.width,e.height,e.image,e.videoUrl);return i["default"].createElement("div",{className:"extra-contr-container stretch-wrapper"},""==t?i["default"].createElement("video",{className:"video-view-container",poster:"https://img.xiaopiu.com/images/default-video-image-f0d45e825c.jpg",controls:!0,controlsList:"nodownload",preload:"auto",autoPlay:!1},i["default"].createElement("source",{src:"https://img.xiaopiu.com/video/default-video.mp4",type:"video/mp4"})):i["default"].createElement("iframe",{frameBorder:"0",allowFullScreen:!0,scrolling:"no",sandbox:"allow-scripts allow-forms allow-pointer-lock allow-same-origin",src:"https://player.youku.com/embed/"+t},i["default"].createElement("p",null,"您的浏览器不支持 iframe 标签，请切换到 chrome 浏览器")))},t}(i["default"].Component);t.VideoContrViewComp=s,t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(538)),d=s(n(1449)),f=window,p=f.$,h=f.isPrototypeTool,g=function(e){function t(t){var n=e.call(this,t)||this;return n.player=null,n.state={isPlaying:t.contr.isAutoPlay,progress:{played:0},duration:0,played:0,seeking:!1,reactPlayer:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;d["default"](function(t){e.setState({reactPlayer:t["default"]})})},t.prototype.handlePlay=function(){var e=this.state.isPlaying;this.setState({isPlaying:!e})},t.prototype.onDuration=function(e){this.setState({duration:e})},t.prototype.onProgress=function(e){this.state.progress;this.setState({progress:e})},t.prototype.onSeekMouseDown=function(e){this.setState({seeking:!0})},t.prototype.onSeekChange=function(e){this.setState({played:parseFloat(e.target.value)})},t.prototype.onSeekMouseUp=function(e){this.setState({seeking:!1}),this.player.seekTo(parseFloat(e.target.value))},t.prototype.onEnded=function(){this.setState({isPlaying:!1})},t.prototype.render=function(){var e=this,t=this.state.reactPlayer;if(!t)return null;var n=this.state,r=n.isPlaying,o=n.duration,a=n.progress,i=n.played,s=this.props.contr,u=s.width,d=s.height,f=s.isLoop,g=s.audioUrl,y=s.audioName,m=s.defaultName,_="",v=p.getScaleRatio(),b=h?u:Math.round(u*v),w=h?d:Math.round(d*v);return(w<64||b<64)&&(_+=" xxsmall"),w<64&&b<100&&(_+=" xxxsmall"),b<140&&(_+=" xsmall"),b<240&&(_+=" small"),l["default"].createElement("div",{className:"audio-player-container "+_+" middle-advanced-box"},l["default"].createElement(t,{ref:function(t){return[e.player=t]},url:"https://img.xiaopiu.com/"+g,playing:r,loop:f,controls:!0,width:0,height:0,onDuration:this.onDuration,onProgress:this.onProgress,onEnded:this.onEnded,className:"react-player"}),l["default"].createElement("div",{className:"audio-wrapper"},l["default"].createElement("div",{className:"audio-play-btn",onClick:this.handlePlay},l["default"].createElement("div",{className:"expand-icon material-icons audio-play-icon"},r?"pause":"play_arrow")),l["default"].createElement("div",{className:"audio-right-info"},l["default"].createElement("div",{className:"audio-info-container clearfix"},l["default"].createElement("div",{className:"audio-title-container"},l["default"].createElement("span",{className:"audio-info-title  text-ellipsis"},"/userAudio/默认音频.mp3"!=g?y.substring(0,y.length-5):m.substring(0,m.length-5)),l["default"].createElement("span",{className:"audio-file-format"},"/userAudio/默认音频.mp3"!=g?y.substring(y.length-5):m.substring(m.length-5))),l["default"].createElement("div",{className:"audio-info-time"},l["default"].createElement("div",null,l["default"].createElement(c["default"],{seconds:a.played*o}),"/",l["default"].createElement(c["default"],{seconds:o})))),l["default"].createElement("div",{className:"audio-progress-container"},l["default"].createElement("div",{className:"audio-progress-bar",style:{width:100*a.played+"%"}}),l["default"].createElement("div",{className:"audio-progress-bg"}),l["default"].createElement("input",{className:"audio-progress-input",type:"range",min:0,max:1,step:"any",value:i,onMouseDown:this.onSeekMouseDown,onChange:this.onSeekChange,onMouseUp:this.onSeekMouseUp})))))},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"handlePlay",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Number]),i("design:returntype",void 0)],t.prototype,"onDuration",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onProgress",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onSeekMouseDown",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onSeekChange",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onSeekMouseUp",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onEnded",null),t}(l["default"].Component);t.AudioContrViewComp=g,t["default"]=g},function(e,t,n){e.exports=function(e){n.e(47).then(function(t){e(n(1760))}.bind(null,n))["catch"](n.oe)}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(539)),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.contr,n=e.contr,r=(n.width,n.height,n.webUrl),o=n.isScroll;return console.log(t,"contrcontrcontr"),""==r?i["default"].createElement(s["default"],{contr:t}):i["default"].createElement("div",{className:"extra-contr-container stretch-wrapper"},i["default"].createElement("iframe",{src:"https://"+r,scrolling:o?"auto":"no",className:"webpage-show-wrapper",frameBorder:"none"}))},t}(i["default"].Component);t.WebPageViewContrComp=l,t["default"]=l},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_NoteItem=__webpack_require__(1452),_NoteItem2=_interopRequireDefault(_NoteItem),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var NoteComp=function(_React$Component){function NoteComp(){return(0,_classCallCheck3["default"])(this,NoteComp),(0,_possibleConstructorReturn3["default"])(this,(NoteComp.__proto__||(0,_getPrototypeOf2["default"])(NoteComp)).apply(this,arguments))}return(0,_inherits3["default"])(NoteComp,_React$Component),(0,_createClass3["default"])(NoteComp,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this,t=[];return e.props.noteList.forEach(function(n,r){t.push(_react2["default"].createElement(_NoteItem2["default"],{key:r,info:n,pageId:e.props.pageId}))}),_react2["default"].createElement("div",{className:"note-layer"},t)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),NoteComp}(_react2["default"].Component),_default=NoteComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(NoteComp,"NoteComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Note.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/Note.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var NoteItemComp=(_class=function(_React$Component){function NoteItemComp(){return(0,_classCallCheck3["default"])(this,NoteItemComp),(0,_possibleConstructorReturn3["default"])(this,(NoteItemComp.__proto__||(0,_getPrototypeOf2["default"])(NoteItemComp)).call(this))}return(0,_inherits3["default"])(NoteItemComp,_React$Component),(0,_createClass3["default"])(NoteItemComp,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_noteMouseEnter",value:function(){window.addListNoteHoverClass&&this.props.info&&window.addListNoteHoverClass(this.props.pageId,this.props.info.id,this.props.info.text)}},{key:"_noteMouseLeave",value:function(){window.removeListNoteHoverClass&&this.props.info&&window.removeListNoteHoverClass(this.props.pageId,this.props.info.id)}},{key:"render",value:function(){if(!this.props.info)return null;var e=this.props.info,t=e.left,n=e.top,r=e.id,o=e.hasArea,a=e.width,i=e.height,s=e.index;return _react2["default"].createElement("div",{className:"note-box",style:{left:$.convertNum(t),top:$.convertNum(n)},id:"page"+this.props.pageId+"Note"+r,onMouseEnter:this._noteMouseEnter,onMouseLeave:this._noteMouseLeave},o?_react2["default"].createElement("div",{className:"note-area",style:{width:$.convertNum(a),height:$.convertNum(i)}}):undefined,_react2["default"].createElement("div",{className:"note"},s))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),NoteItemComp}(_react2["default"].Component),_applyDecoratedDescriptor(_class.prototype,"_noteMouseEnter",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_noteMouseEnter"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_noteMouseLeave",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_noteMouseLeave"),_class.prototype),_class),_default=NoteItemComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(NoteItemComp,"NoteItemComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/NoteItem.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/NoteItem.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(34)),c=n(895),d=s(n(3)),f=(window.$,c.structBaseVal.DOMWIDTH),p=c.structBaseVal.PREVIEW_ONEDEEPWIDTH,h=c.structBaseVal.ONEDEEPWIDTH;var g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dragData:u["default"].getDragOption()},n}return o(t,e),t.prototype.componentDidMount=function(){u["default"].addDragChangeListener(this.onchange)},t.prototype.componentWillUnmount=function(){u["default"].removeDragChangeListener(this.onchange)},t.prototype.onchange=function(){this.setState({dragData:u["default"].getDragOption()})},t.prototype.render=function(){var e=this.props,t=e.paddingLeft,n=function(e,t,n){var r=n?p:h,o=u["default"].getDragOption(),a=o.lineId,i=o.linePosi,s=o.lineDeep,l="",c=0;if(-1!=s&&s!=t&&(c=(t-s)*r),a==e)switch(i){case"top":l="is-drag-target-top";break;case"inner":l="is-drag-target-inner";break;case"bottom":l="is-drag-target-bottom"}return{targetClass:l,offset:c}}(e.id,e.deep,e.isPreview),r=n.targetClass,o=n.offset;return r?l["default"].createElement("div",{className:"tip-line "+r,style:{left:t-o,width:f-t+o}}):null},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onchange",null),t}(l["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=n(224),f=n(895),p=s(n(91)),h=f.structBaseVal.DOMHEIGHT,g=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.handleChildShowFunc=function(e){var t=this.props,n=t.isFold,r=t.id;t.isContainer||(p["default"].changeFoldById({updateVal:{isFold:!n},id:r}),e.stopPropagation(),e.preventDefault())},t.prototype.calcAllChildLength=function(e,t,n){var r=this,o=r.props,a=o.searchShowKeyArr,i=o.isContainer;return(n?d.getPrdAllStructDataArr(e):e).forEach(function(e){var o=i?e.id:e,s=!1;if(a?-1!=a.indexOf(o)&&(t++,s=!0):(t++,s=!0),s){var l=i?e:p["default"].getPrdStructById(e),u=l.pageHierarchy,c=l.isFold;u&&u.length&&!c&&(t=r.calcAllChildLength(u,t,n))}}),t},t.prototype.render=function(){var e=this.props,t=e.isFold,n=e.pageHierarchy,r=e.iconLeft,o=e.id,a=e.idx,i=e.isLink;if(!n)return null;var s=(!t&&this.calcAllChildLength(n,0,i)||0)*h;return l["default"].createElement("div",{style:{left:r},onMouseDown:this.handleChildShowFunc,"data-id":o,"data-idx":a,className:u["default"]("has-child-icon",{"hide-child-icon":t})},!!s&&l["default"].createElement("div",{style:{height:s},className:"fold-line"}))},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleChildShowFunc",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object,Object,Object]),i("design:returntype",void 0)],t.prototype,"calcAllChildLength",null),t}(l["default"].Component));t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(34)),c=n(224),d=s(n(3));var f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dragData:u["default"].getDragOption()},n}return o(t,e),t.prototype.componentDidMount=function(){u["default"].addDragChangeListener(this.onchange)},t.prototype.componentWillUnmount=function(){u["default"].removeDragChangeListener(this.onchange)},t.prototype.onchange=function(){this.setState({dragData:u["default"].getDragOption()})},t.prototype.render=function(){var e=this.props,t=e.id,n=e.isParentSelect,r=e.isCurrent;return function(e){var t=u["default"].getDragOption(),n=t.targetId,r=t.targetPosi,o=!1;n==e&&"inner"==r&&(o=!0);var a=$('.drag-page-comp[data-id="'+n+'"]')[0];if(a&&"inner"!=r){var i=a.getAttribute("data-idx");c.findAllParentByIdx({idx:i,isNear:!0})==e&&(o=!0)}return o}(t)||n&&r?l["default"].createElement("div",{className:"inner-page-border"}):null},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onchange",null),t}(l["default"].Component);t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(1457)),f=window.$,p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isFixed:!1},n}return o(t,e),t.prototype.componentDidMount=function(){f("#prdContentPanel").on("scroll",this._windowScroll)},t.prototype.componentWillUnmount=function(){f("#prdContentPanel").off("scroll",this._windowScroll)},t.prototype._windowScroll=function(){var e=f("#prdContentPanel").scrollTop();e>0&&!this.state.isFixed?this.setState({isFixed:!0}):0===e&&this.state.isFixed&&this.setState({isFixed:!1})},t.prototype.render=function(){var e=this.state.isFixed,t=this.props.isUnfold;return l["default"].createElement("div",{id:"prdEditorHeader",className:u["default"]("prd-editor-header",{isFixed:e,"is-pack-up":!t})},l["default"].createElement(d["default"],null))},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_windowScroll",null),t}(l["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(319)),d=s(n(67)),f=s(n(620)),p=s(n(29)),h=s(n(1458)),g=s(n(1469)),y=s(n(1473)),m=s(n(1477)),_=s(n(1479)),v=s(n(1481)),b=s(n(1483)),w=s(n(1485)),C=s(n(1488)),x=s(n(1180)),S=n(26),P=s(n(214)),k=window.$,O=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onChange),f["default"].addChangeListener(this._onChange),p["default"].addElementContentChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onChange),f["default"].removeChangeListener(this._onChange),p["default"].removeElementContentChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype.getHeadBtnType=function(){var e=S.findSelectElement();return 0!=e.length&&e[0]?e.length>1?"multiple":e[0].type:"empty"},t.prototype.getHeadBtnDom=function(){var e=this.getHeadBtnType();if(d["default"].getPrdSelectArr().length)return"empty"==e?l["default"].createElement(x["default"],{isPrd:!0}):undefined;switch(e){case"text":return l["default"].createElement(h["default"],null);case"multiple":return l["default"].createElement(g["default"],null);case"table":return l["default"].createElement(y["default"],null);case"image":return l["default"].createElement(m["default"],null);case"page":return l["default"].createElement(_["default"],null);case"contr":return l["default"].createElement(v["default"],null);case"pageflow":return l["default"].createElement(b["default"],null);case"preview":return l["default"].createElement(w["default"],null);case"webView":return l["default"].createElement(C["default"],null);default:return undefined}},t.prototype.render=function(){var e=P["default"].width;return l["default"].createElement("div",{className:"prd-editor-btn-panel",style:{width:e},onMouseDown:k.stopPropagation},l["default"].createElement("div",{className:"head-center-btn-panel"},this.getHeadBtnDom()))},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"getHeadBtnType",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"getHeadBtnDom",null),t}(l["default"].Component);t["default"]=O},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(126)),d=n(271),f=s(n(1158)),p=s(n(500)),h=n(621),g=n(1466),y=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype.getTextSize=function(){var e="正文";return h.fontSizeArr.some(function(t,n){return!!d.isActiveNode({type:t})&&(e=h.titleNameArr[n],!0)}),e},t.prototype.render=function(){var e=this.getTextSize();return l["default"].createElement(l["default"].Fragment,null,l["default"].createElement(f["default"],{btnType:"text-size",text:e,baseSet:g.textBtnList[0]}),g.textBtnList.slice(2,10).map(function(e,t){var n=e.type;return l["default"].createElement(p["default"],{key:n+t,btnSet:e})}),l["default"].createElement(f["default"],{btnType:"text-align",baseSet:g.textBtnList[1]}),l["default"].createElement(p["default"],{btnSet:g.textBtnList[10]}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"getTextSize",null),t}(l["default"].Component));t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=n(863),f=n(360),p=window.$,h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={currentSize:-1},n}return o(t,e),t.prototype.changeFontSize=function(e){this.setState({currentSize:e}),f.hidePrdDropdownOpen()},t.prototype.render=function(){var e=this.props,t=e.selectFunc,n=void 0===t?p.noop:t,r=e.text;return l["default"].createElement("div",{className:"fontSize-dropdown-list-panel"},d.fontSizeList.map(function(e,t){var o=e.text,a=e.value;return l["default"].createElement("div",{key:"title-size"+t,className:u["default"]("single-option-box",{"is-select":o==r,"is-main-body":0==t}),style:{fontSize:a},onClick:function(){return n(e)}},l["default"].createElement("div",{className:u["default"]("single-option-text",{"is-main-body":0==t})},o))}))},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"changeFontSize",null),t}(l["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(11)),d=l(n(3)),f=n(863),p=window.$,h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectType:"left"},n}return o(t,e),t.prototype.clickTextAlign=function(e){var t=this.props,n=t.selectFunc,r=void 0===n?p.noop:n,o=t.clickFunc;r(e),o&&o(e)},t.prototype.getTips=function(e){var t="";switch(e){case"left":t="左对齐";break;case"center":t="居中对齐";break;case"right":t="右对齐";break;case"justify":t="两端对齐"}return t},t.prototype.render=function(){var e=this,t=this,n=t.props.textAlign;return u["default"].createElement("div",{className:"text-align-mode-list-panel"},f.textAlignModeList.map(function(r,o){var i=r.type;return u["default"].createElement("div",a({className:c["default"]("align-mode-box a_c",{"is-select":i==n}),"data-id":i,onClick:e.clickTextAlign,key:i+o},p.addHoverData({text:t.getTips(i),direction:"top",changePosi:5})),u["default"].createElement("div",{className:i+"-mode-icon prd-document-icons"}))}))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"clickTextAlign",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[String]),s("design:returntype",void 0)],t.prototype,"getTips",null),t}(u["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=n(1462),u=window.$,c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectIndex:-1,isChecked:!1},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.selectFunc,n=void 0===t?u.noop:t,r=e.fontSize;return i["default"].createElement("div",{className:"table-font-size-panel"},l.tableFontSizeList.map(function(e,t){var o=e.size;return i["default"].createElement("div",{key:"table-font"+o,className:s["default"]("font-size-option",{"is-select":o==r}),"data-id":o,onClick:n},o)}))},t}(i["default"].Component);t["default"]=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableFontSizeList=[{size:10},{size:11},{size:12},{size:13},{size:14},{size:16},{size:18},{size:22},{size:24},{size:28},{size:32}],t["default"]={tableFontSizeList:t.tableFontSizeList}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(126)),a=r(n(29)),i=n(360),s=n(271),l=n(26),u=n(621);function c(e){var t=e.text,n=l.findSelectElement()[0].id,r=a["default"].getPrdElementById(n).isEdit,c=!0;r||(c=!1,a["default"].updateValById({id:n,updateVal:{isEdit:!0}})),setTimeout(function(){$(".element-container.element-edit .editor-pre>div")[0].focus(),i.hidePrdDropdownOpen();var e=o["default"].getRichText().editor;c||(e.moveToRangeOfDocument(),e.select());var n=t[t.length-1],r=u.fontSizeArr[n-1];e&&(u.fontSizeArr.some(function(t,n){return!!s.isActiveNode({type:t})&&(e.unwrapBlock(t),!0)}),r&&e.wrapBlock(r))},0)}t.selectFontSize=c,t["default"]={selectFontSize:c}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(11)),d=l(n(3)),f=l(n(319)),p=n(863),h=n(360),g=n(26),y=n(864),m=l(n(1465)),_=l(n(620)),v=window.$,b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.openDropList=function(){var e=this.props.btnSet.type;h.changePrdDropdownOpen(e)},t.prototype.changeColor=function(e,t,n,r){"text"==r?y.changeRichTextColor(t):"table"==r&&("text-color"==e?y.changeTableTextColor(n):"table-bg-color"==e&&y.changeTableBgColor(n))},t.prototype.render=function(){var e,t,n=this,r=f["default"].getPrdDropdown(),o=r.type,i=r.isOpen,s=n.props,l=s.btnSet,d=l.type,h=l.tips,y=l.isHaveLine,b=void 0!==y&&y,w=l.isTable,C=void 0!==w&&w,x=l.isActiveFunc,S=l.clickFunc,P=void 0===S?v.noop:S,k=l.isDisableFunc,O=s.btnType,E=g.findSelectElement()[0],T=E.borderType,M=void 0===T?"normal-border":T,D=E.type;"text"==D?(t=_["default"].getTextColorIdx(),e=p.colorPickerList[t].value):"table"==D&&("text-color"==d?e=_["default"].getTableTextColor():"table-bg-color"==d&&(e=_["default"].getTableBgColor()),p.colorPickerList.some(function(n,r){return n.value==e&&(t=r,!0)}));var A=k&&k();return u["default"].createElement("div",{className:c["default"](d+"-drop-panel",{"is-have-column-line":b,"is-table":C,"is-disable":A})},u["default"].createElement("div",a({className:c["default"](d+"-drop-box a_c",{"is-list-open":i&&o==O})},h?v.addHoverData({text:h}):{}),u["default"].createElement("div",{className:c["default"](d+"-btn",{"is-active":x&&x(),"is-phone-icon":"phone-border"==M}),onClick:P}),u["default"].createElement("div",{className:d+"-drop-icon",onClick:n.openDropList}),"text-color"==d||"table-bg-color"==d?u["default"].createElement("div",{className:"current-checked-color",style:{background:"#"+e}}):undefined),d==o&&i?"page-border"!=d?u["default"].createElement("div",{className:"prd-color-picker-panel"},p.colorPickerList.map(function(e,r){var o=e.value;return u["default"].createElement("div",{key:o+r,className:c["default"]("single-color-box",{"is-select":r==t}),style:{backgroundColor:"#"+o},onClick:function(){return n.changeColor(d,r,o,D)}})})):u["default"].createElement(m["default"],null):undefined)},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"openDropList",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Object,Object]),s("design:returntype",void 0)],t.prototype,"changeColor",null),t}(u["default"].Component);t["default"]=b},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=n(26),u=n(501),c=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=l.findSelectElement()[0],t=e.borderType,n=void 0===t?"":t,r=e.hasBorder;return i["default"].createElement("div",{className:"page-border-dropdown-panel"},["normal-border","phone-border"].map(function(e,t){return i["default"].createElement("div",{key:e+t,className:s["default"]("icon-panel "+e,{}),onClick:function(){return u.setPageBorderFunc(e)}},i["default"].createElement("div",{className:s["default"](e+"-icon",{"is-select":r&&n==e})}))}))},t}(i["default"].Component));t["default"]=c},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=o(n(126)),l=o(n(620)),u=o(n(29)),c=o(n(34)),d=n(621),f=n(271),p=n(864),h=n(26),g=n(271),y=n(1160),m=n(900);function _(e){var t=!1;return e.some(function(e){return!!f.isActiveNode({type:e})&&(t=!0,!0)}),t}function v(e){var t=s["default"].getRichText().editor;t&&window.getSelection().toString()&&t.toggleMark(e)}function b(e){return{clickFunc:function(t){v(e)},isActiveFunc:function(){return f.isActiveMark({type:e})}}}function w(e,t,n){return void 0===n&&(n=$.noop),{clickFunc:function(r){!function(e,t){var n=s["default"].getRichText().editor;_(t)?n.setBlocks(""):n.setBlocks(e)}(e,t),setTimeout(function(){n&&n(r)},0)},isActiveFunc:function(){return _(t)}}}function C(){return!(h.findSelectElement()[0].isEdit&&window.getSelection().toString())}function x(){return!h.findSelectElement()[0].isEdit}t.textBtnList=[{type:"text-size",tips:"标题",isDisableFunc:x},{type:"text-align",tips:"对齐",isDisableFunc:x},r({type:"font-weight",tips:"加粗"},b("bold"),{isHaveLine:"left",isDisableFunc:C}),r({type:"italic",tips:"倾斜"},b("italic"),{isDisableFunc:C}),r({type:"underline",tips:"下划线"},b("underlined"),{isDisableFunc:C}),r({type:"strikethrough",tips:"中划线"},b("strikethrough"),{isDisableFunc:C}),{type:"text-color",tips:"文本颜色",clickFunc:function(){var e=l["default"].getTextColorIdx();p.changeRichTextColor(e)},isColorPicker:!0,isDisableFunc:C},r({type:"num-list",tips:"有序列表",isHaveLine:"left"},w("num-list-1",d.numListDeepArr),{isDisableFunc:x}),r({type:"unordered-list",tips:"无序列表"},w("unordered-list-1",d.unorderedListDeepArr),{isDisableFunc:x}),r({type:"task-list",tips:"任务列表"},w("task-list",["task-list","complete-task-list"]),{isDisableFunc:x}),r({type:"text-hyperlink",tips:"文本链接"},(a=["a-link","a-link-inner"],i=function(e){if(e)g.removeLink();else{var t=s["default"].getRichText().editor,n=t.value,r=window.getSelection(),o=r.focusOffset,a=r.anchorOffset,i=r.anchorNode.parentElement,l=$(i).parents('span[data-slate-leaf="true"]')[0],d=y.getPrevLength(l),f=$.offset(i,!0),p=f.left,_=f.top;c["default"].setLinkInput({left:p,top:_,isShow:!0,link:"",innerLink:"",isInner:!1});var v=m.findNode(i,t);s["default"].setNodeData({key:v.key,start:Math.min(o+d,a+d),length:Math.abs(o-a),value:n})}setTimeout(function(){var e=h.findSelectElement()[0].id;u["default"].updateValById({id:e,updateVal:{isEdit:!1},noEmit:!1});var t=$(".insert-hyperlink-panel input")[0];t&&$(t).focus()},0)},void 0===i&&(i=$.noop),{clickFunc:function(e){var t=!1,n=e.currentTarget.className;-1==n.indexOf("is-hyperlink-icon")?v(a[0]):-1!=n.indexOf("is-active")&&(t=!0),setTimeout(function(){i&&i(t)},0)},isActiveFunc:function(){return a.some(function(e){return f.isActiveMark({type:e})})}}),{isHaveLine:"left",isDisableFunc:C})],t["default"]={textBtnList:t.textBtnList}},function(e,t){e.exports=function o(e){if(r(e))return e;if(r(e.ownerDocument))return e.ownerDocument;if(r(e.document))return e.document;if(e.parentNode)return o(e.parentNode);if(e.commonAncestorContainer)return o(e.commonAncestorContainer);if(e.startContainer)return o(e.startContainer);if(e.anchorNode)return o(e.anchorNode)};var n=9;function r(e){return e&&e.nodeType===n}},function(e,t){e.exports=!!document.attachEvent&&window!==document.parentWindow},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(126)),d=s(n(500)),f=n(1470),p=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype.render=function(){return f.multipleSelectBtnList.map(function(e,t){var n=e.type;return l["default"].createElement(d["default"],{key:n+t,btnSet:e})})},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component));t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(34)),a=n(1471);function i(){return o["default"].getSelectElementArr().length<3}t.multipleSelectBtnList=[{type:"vertical-top",tips:"顶对齐",clickFunc:function(){a.setAlignment({type:"verticalTop",handleName:"顶对齐"})}},{type:"vertical-middle",tips:"垂直居中对齐",clickFunc:function(){a.setAlignment({type:"verticalMiddle",handleName:"垂直居中对齐"})}},{type:"vertical-bottom",tips:"底对齐",clickFunc:function(){a.setAlignment({type:"verticalBottom",handleName:"底对齐"})}},{type:"horiz-left",tips:"左对齐",clickFunc:function(){a.setAlignment({type:"horizLeft",handleName:"左对齐"})}},{type:"horiz-center",tips:"水平居中对齐",clickFunc:function(){a.setAlignment({type:"horizMiddle",handleName:"水平居中对齐"})}},{type:"horiz-right",tips:"右对齐",clickFunc:function(){a.setAlignment({type:"horizRight",handleName:"右对齐"})},isHaveLine:"right"},{type:"horiz-center-align",tips:"水平等间距",isDisableFunc:i,clickFunc:function(){i()||a.setAlignment({type:"horizCenter",handleName:"水平等间距"})}},{type:"vertical-center-align",tips:"垂直等间距",isDisableFunc:i,clickFunc:function(){i()||a.setAlignment({type:"verticalCenter",handleName:"垂直等间距"})}}],t["default"]={multipleSelectBtnList:t.multipleSelectBtnList}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(29)),i=n(26),s=n(1472),l=o(n(10)),u=n(118);function c(e){var t=e.type,n=e.handleName,o=i.findSelectElement().map(function(e){var t=e.id;return r({id:t},s.getElementPosi(e))}),c=[];switch(t){case"horizLeft":c=function(e){var t,n=!1;e.map(function(e,n){var r=e.x;t=0===n?r:Math.min(t,r)});var o=e.map(function(e){var o=e;return e.x!=Math.round(t)&&(o=r({},e,{x:Math.round(t)}),n=!0),o});return n?o:[]}(o);break;case"horizMiddle":c=function(e){var t,n,o=!1;e.map(function(e,r){var o=e.x,a=e.width;t=0===r?o:Math.min(t,o),n=0===r?o+a:Math.max(n,o+a)});var a=(n+t)/2,i=e.map(function(e){var t=e;return e.x!=Math.round(a-e.width/2)&&(t=r({},e,{x:Math.round(a-e.width/2)}),o=!0),t});return o?i:[]}(o);break;case"horizRight":c=function(e){var t,n=!1;e.map(function(e,n){var r=e.x,o=e.width;t=0===n?r+o:Math.max(t,r+o)});var o=e.map(function(e){var o=e;return e.x!=Math.round(t-e.width)&&(o=r({},e,{x:Math.round(t-e.width)}),n=!0),o});return n?o:[]}(o);break;case"verticalTop":c=function(e){var t,n=!1;e.map(function(e,n){var r=e.y;t=0===n?r:Math.min(t,r)});var o=e.map(function(e){var o=e;return e.y!=Math.round(t)&&(o=r({},e,{y:t}),n=!0),o});return n?o:[]}(o);break;case"verticalMiddle":c=function(e){var t,n,o=!1;e.map(function(e,r){var o=e.y,a=e.height;t=0===r?o:Math.min(t,o),n=0===r?o+a:Math.max(n,o+a)});var a=(n+t)/2,i=e.map(function(e){var t=e;return e.y!=Math.round(a-e.height/2)&&(t=r({},e,{y:Math.round(a-e.height/2)}),o=!0),t});return o?i:[]}(o);break;case"verticalBottom":c=function(e){var t,n=!1;e.map(function(e,n){var r=e.y,o=e.height;t=0===n?r+o:Math.max(t,r+o)});var o=e.map(function(e){var o=e;return e.y!=Math.round(t-e.height)&&(o=r({},e,{y:Math.round(t-e.height)}),n=!0),o});return n?o:[]}(o);break;case"horizCenter":c=function(e){var t=0,n=0,o=!1;e.forEach(function(e){n+=e.width}),e.sort(function(e,t){return e.x-t.x}),t=e[0].x;var a=(e[e.length-1].x+e[e.length-1].width-e[0].x-n)/(e.length-1),i=e.map(function(e){var n=e;return e.x!=Math.round(t)&&(n=r({},e,{x:Math.round(t)}),o=!0),t+=e.width+a,n});return o?i:[]}(o);break;case"verticalCenter":c=function(e){var t=0,n=0,o=!1;e.forEach(function(e){n+=e.height}),e.sort(function(e,t){return e.y-t.y}),t=e[0].y;var a=(e[e.length-1].y+e[e.length-1].height-e[0].y-n)/(e.length-1),i=e.map(function(e){var n=e;return e.y!=Math.round(t)&&(n=r({},e,{y:Math.round(t)}),o=!0),t+=e.height+a,n});return o?i:[]}(o)}c.length>0&&(c.forEach(function(e){var t=e.id,n=e.x,r=e.y,o=e.width,i=e.height,s=a["default"].getPrdElementById(t);u.fixElementPosVal({changeVal:{x:n,y:r,width:o,height:i},element:s})}),a["default"].emitChange(),l["default"].createData({type:t+"Set",name:"修改选中组件"+n,autoSaveType:"prd"}))}t.setAlignment=c,t["default"]={setAlignment:c}},function(e,t,n){"use strict";function r(e){return{x:e.x,y:e.y,width:e.width,height:e.height}}Object.defineProperty(t,"__esModule",{value:!0}),t.getElementPosi=r,t["default"]={getElementPosi:r}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(1474)),d=s(n(1158)),f=s(n(500)),p=s(n(126)),h=n(26),g=n(1476),y=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){p["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){p["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype.render=function(){var e=h.findSelectElement()[0].fontSize,t=void 0===e?14:e;return l["default"].createElement(l["default"].Fragment,null,l["default"].createElement(c["default"],null),l["default"].createElement(d["default"],{btnType:"table-font-size",text:t,baseSet:g.tableBtnList[0]}),g.tableBtnList.slice(1,7).map(function(e,t){var n=e.type;return l["default"].createElement(f["default"],{key:n+t,btnSet:e})}),l["default"].createElement(d["default"],{btnType:"text-align",baseSet:g.tableBtnList[7]}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component));t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(11)),f=l(n(1475)),p=l(n(319)),h=l(n(12)),g=n(360),y=n(1159),m=n(26),_=n(481),v=n(336),b=window.$,w=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectBox:!1,columnVal:null,lineVal:null},n}return o(t,e),t.prototype.setCurrentTextColor=function(){},t.prototype.openDropList=function(){g.changePrdDropdownOpen("table-mode")},t.prototype._columnChange=function(e){this.setState({columnVal:e.target.value})},t.prototype._lineChange=function(e){this.setState({lineVal:e.target.value})},t.prototype._columnBlur=function(e){var t=this,n=m.findSelectElement()[0].columnPosi,r=parseInt(e.target.value),o=b.isNumber(r);if(r<1&&h["default"].show("列数不能小于1列"),o&&r!==n.length&&r>=1){r>45&&h["default"].show("列数不能超过45列");var a=Math.min(r,45);_.changeColumnByNum(a)}setTimeout(function(){t.setState({columnVal:null})},0)},t.prototype._lineBlur=function(e){var t=this,n=m.findSelectElement()[0].linePosi,r=parseInt(e.target.value),o=b.isNumber(r);if(r<1&&h["default"].show("行数不能小于1行"),o&&r!==n.length&&r>=1){r>100&&h["default"].show("行数不能超过100行");var a=Math.min(r,100);v.changeLineByNum(a)}setTimeout(function(){t.setState({lineVal:null})},0)},t.prototype.render=function(){var e=this.state,t=e.selectBox,n=e.columnVal,r=e.lineVal,o=p["default"].getPrdDropdown(),i=o.type,s=o.isOpen,l=m.findSelectElement()[0],c=l.columnPosi,h=l.linePosi,g=b.isNull(n)?c.length:n,_=b.isNull(r)?h.length:r;return u["default"].createElement("div",{className:d["default"]("table-mode-setting-panel",{"is-disable":t})},u["default"].createElement("div",a({className:d["default"]("dropdown-btn-box a_c",{"is-dropdown-list-open":s&&"table-mode"==i}),onClick:t?b.noop:this.openDropList},b.addHoverData({text:"表格样式"})),u["default"].createElement("div",{className:"table-icon"})),u["default"].createElement("div",{className:d["default"]("table-input-box row-line-box",{})},u["default"].createElement("input",{className:"table-pos-input",autoComplete:"off",autoCorrect:"off",spellCheck:!1,disabled:t,value:_,onChange:this._lineChange,onBlur:this._lineBlur})),u["default"].createElement("div",{className:d["default"]("table-input-box column-line-box",{})},u["default"].createElement("input",{className:"table-pos-input",autoComplete:"off",autoCorrect:"off",spellCheck:!1,disabled:t,value:g,onChange:this._columnChange,onBlur:this._columnBlur})),"table-mode"==i&&s?u["default"].createElement(f["default"],{selectTableType:y.selectTableType}):undefined)},i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"setCurrentTextColor",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"openDropList",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_columnChange",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_lineChange",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_columnBlur",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_lineBlur",null),t}(u["default"].Component);t["default"]=w},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=n(26),f=window.$,p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.getTableModeDoms=function(){for(var e=[],t=this.props.selectTableType,n=void 0===t?f.noop:t,r=d.findSelectElement()[0].styleIndex,o=0;o<6;o++)e.push(l["default"].createElement("div",{className:u["default"]("table-type-btn-box",{"is-select":o==r}),"data-id":o,onClick:n,key:"table-mode"+o},l["default"].createElement("div",{className:u["default"]("btn-icon btn-icon-"+o)})));return e},t.prototype.render=function(){return l["default"].createElement("div",{className:"table-type-dropdown-panel"},this.getTableModeDoms())},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"getTableModeDoms",null),t}(l["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(40)),a=r(n(620)),i=n(77),s=n(26),l=n(864),u=n(864),c=n(10)["default"];function d(e){var t,n=e.e,r=e.changeType,o=$.hasClass(n.currentTarget,"is-active");l.changeVal({changeVal:(t={},t[""+r]=!o,t)})}function f(e){return function(){var t=o["default"].getTableData(),n=t.selectContr,r=t.selectCell;if(!n||!r)return s.findSelectElement()[0][e];var a=i.getOneCellData(r[0],n);return!!(a&&a.text&&a.text[e])}}t.tableBtnList=[{type:"table-font-size",tips:"字号",clickFunc:function(e){}},{type:"font-weight",tips:"加粗",clickFunc:function(e){d({e:e,changeType:"isB"}),c.createData({type:"setTableTextisB",name:"PRD 设置单元格是否加粗",autoSaveType:"prd"})},isActiveFunc:f("isB")},{type:"italic",tips:"倾斜",clickFunc:function(e){d({e:e,changeType:"isI"}),c.createData({type:"setTableTextisI",name:"PRD 设置单元格是否倾斜",autoSaveType:"prd"})},isActiveFunc:f("isI")},{type:"underline",tips:"下划线",clickFunc:function(e){d({e:e,changeType:"isU"}),c.createData({type:"setTableTextisU",name:"PRD 设置单元格是否下划线",autoSaveType:"prd"})},isActiveFunc:f("isU")},{type:"strikethrough",tips:"中划线",clickFunc:function(e){d({e:e,changeType:"isS"}),c.createData({type:"setTableTextisS",name:"PRD 设置单元格是否中划线",autoSaveType:"prd"})},isActiveFunc:f("isS")},{type:"text-color",tips:"文本颜色",clickFunc:function(){var e=a["default"].getTableTextColor();u.changeTableTextColor(e)},isTable:!0},{type:"table-bg-color",tips:"背景颜色",clickFunc:function(){var e=a["default"].getTableBgColor();u.changeTableBgColor(e)},isHaveLine:!0},{type:"text-align",tips:"对齐",clickFunc:function(){},isHaveLine:!0}],t["default"]={tableBtnList:t.tableBtnList}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(126)),d=s(n(500)),f=n(1478),p=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype.render=function(){return f.imageBtnList.map(function(e,t){var n=e.type;return l["default"].createElement(d["default"],{key:n+t,btnSet:e})})},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component));t["default"]=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(118),o=n(26),a=n(118),i=n(451);t.imageBtnList=[{type:"replace-img",tips:"替换原图[双击]",clickFunc:r.changeImageFunc},{type:"clip-img",tips:"裁剪图片",isDisableFunc:function(){return!o.findSelectElement()[0].src},clickFunc:i.clipImageFunc,isHaveLine:"left"},{type:"recover-clip",tips:"还原裁剪",clickFunc:a.recoverImageClip,isDisableFunc:function(){var e=o.findSelectElement()[0],t=e.src,n=e.cutVals;if(!t||!n)return!0;var r=e.cutVals,a=r.boxWidth,i=r.boxHeight,s=e.width,l=e.height;return!a||!i||a==s&&i==l},isHaveLine:"right"},{type:"recover-default-size",tips:"原始大小",clickFunc:a.changeImageOriginalSize,isDisableFunc:function(){var e=o.findSelectElement()[0],t=e.src,n=e.width,r=e.oriWidth,a=void 0===r?0:r;return!t||Math.round(n)==Math.round(a)}}],t["default"]=t.imageBtnList},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(126)),d=s(n(500)),f=n(1480),p=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype.render=function(){return f.pageBtnList.map(function(e,t){var n=e.type;return l["default"].createElement(d["default"],{key:n+t,btnSet:e})})},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component));t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(10)),i=n(848),s=n(26),l=n(118),u=n(901),c=n(360),d=n(501),f=n(501),p=n(868),h=r(n(214))["default"].width-100,g=window.isPc;t.pageBtnList=[{type:"replace-page",tips:"替换页面[双击]",clickFunc:i.triggerDblclick},{type:"hide-snapshots-title",tips:"标题",isDisableFunc:function(){return!s.findSelectElement()[0].pageKey},clickFunc:function(){var e=s.findSelectElement()[0],t=e.isShowName;e.id;e.y<40&&!t?l.fixElementPosVal({changeVal:{y:40,isShowName:!t},element:e}):l.fixElementPosVal({changeVal:{isShowName:!t},element:e}),a["default"].createData({type:"showOrHidePageTitle",name:"PRD 显示/隐藏页面标题",autoSaveType:"prd"})},isActiveFunc:function(){return s.findSelectElement()[0].isShowName}},{type:window.isPc?"contr-border":"page-border",tips:"边框",clickFunc:function(){var e=s.findSelectElement()[0].borderType;d.setPageBorderFunc(e),c.hidePrdDropdownOpen(),a["default"].createData({type:"showOrHidePageBorder",name:"PRD 添加页面组件的边框",autoSaveType:"prd"})},isActiveFunc:function(){return s.findSelectElement()[0].hasBorder}},{type:"recover-default-size",tips:"原始大小",isDisableFunc:function(){var e=s.findSelectElement()[0],t=e.width,n=e.height,r=e.pageKey,o=e.hasBorder,a=void 0!==o&&o,i=e.borderType,l=void 0===i?"":i,u=e.phoneShellType,c=window.phoneSize,d=c.width,y=c.height,m=!1;if(r)if(g)m=Math.round(h)==Math.round(t)&&Math.round(9*h/16)==Math.round(n);else if(a&&"phone-border"==l){var _=p.phoneShellConfig[u],v=_.topEdge,b=_.width,w=_.horizEdge,C={topEdge:v,bottomEdge:_.bottomEdge,horizEdge:w,phoneWidth:b},x=f.getPhoneContentSize({width:t,height:n,shellElement:C}),S=x.shellW,P=x.shellTop,k=x.shellBottom;m=Math.round(d)==Math.floor(t-2*S)&&Math.round(y)==Math.floor(n-P-k)}else m=Math.round(d)==Math.round(t)&&Math.round(y)==Math.round(n);else m=!0;return m},clickFunc:f.recoverPageOriginSize},{type:"short-page",tips:"展示首屏",isDisableFunc:function(){var e=s.findSelectElement()[0],t=e.width,n=e.height,r=e.pageKey,a=e.phoneShellType,i=e.hasBorder,l=e.borderType,u=o["default"].getPages()[r],c=window.phoneSize,d=c.width,h=c.height,y=!0;if(u)if(g)Math.abs(16/9-t/n)>.01&&(y=!1);else if(i&&"phone-border"==l){var m=p.phoneShellConfig[a],_=m.topEdge,v=m.width,b=m.height,w=m.horizEdge,C={topEdge:_,bottomEdge:m.bottomEdge,horizEdge:w,phoneWidth:v},x=f.getPhoneContentSize({width:t,height:n,shellElement:C});v/b-x.width/x.height>.01&&(y=!1)}else Math.abs(d/h-t/n)>.01&&(y=!1);return y},clickFunc:function(){var e=s.findSelectElement()[0],t=e.width,n=e.height,r=void 0===n?0:n,o=(e.pageKey,e.phoneShellType),i=e.hasBorder,u=void 0!==i&&i,c=e.borderType,d=void 0===c?"normal-border":c,h=window.phoneSize,y=h.width,m=h.height;if(g)l.fixElementPosVal({changeVal:{height:Math.round(9*t/16),cutTop:0},element:e});else{var _=r;if(u&&"phone-border"==d){var v=p.phoneShellConfig[o],b=v.topEdge,w=v.width,C=(v.height,v.horizEdge),x={topEdge:b,bottomEdge:v.bottomEdge,horizEdge:C,phoneWidth:w},S=f.getPhoneContentSize({width:t,height:r,shellElement:x}),P=S.shellW,k=S.shellTop,O=S.shellBottom;_=Math.round((t-2*P)*m/y)+k+O}else _=Math.round(t*m/y);l.fixElementPosVal({changeVal:{height:_,cutTop:0},element:e})}a["default"].createData({type:"showFirstPage",name:"PRD 展示页面的首屏内容",autoSaveType:"prd"})},isHaveLine:"left"},{type:"long-page",tips:"展示全部",isHaveLine:"right",isDisableFunc:function(){var e=s.findSelectElement()[0],t=e.width,n=e.height,r=e.pageKey,a=o["default"].getPages(),i=a[r],l=window.phoneSize,u=l.width,c=l.height,d=!0;if(i){var f=(a[r]||{}).pageHeight,p=f||c;if(g){Math.abs(u/p-t/n)>.01&&(d=!1)}else Math.abs(u/p-t/n)>.01&&(d=!1)}return d},clickFunc:function(){var e=s.findSelectElement()[0],t=e.width,n=e.height,r=e.pageKey,i=o["default"].getPages(),u=window.phoneSize,c=u.width,d=u.height,f=i[r],p=(f||{}).pageHeight,h=p||d,y=t/c;f&&(g?l.fixElementPosVal({changeVal:{height:Math.round(h*y),cutTop:0},element:e}):g||Math.round(h*y)!=Math.round(n)&&l.fixElementPosVal({changeVal:{height:Math.round(h*y),cutTop:0},element:e})),a["default"].createData({type:"showAllPage",name:"PRD 展示页面的全部内容",autoSaveType:"prd"})}},{type:"page-remarks",tips:"备注",clickFunc:u.clickPageRemarks,isDisableFunc:function(){return!s.findSelectElement()[0].pageKey},isActiveFunc:function(){return s.findSelectElement()[0].remarkId}}],t["default"]={pageBtnList:t.pageBtnList}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(126)),d=s(n(500)),f=n(1482),p=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype.render=function(){return f.contrBtnList.map(function(e,t){var n=e.type;return l["default"].createElement(d["default"],{key:n+t,btnSet:e})})},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component));t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(29)),a=r(n(10)),i=n(848),s=n(26),l=n(118),u=n(452);t.contrBtnList=[{type:"replace-contr",tips:"替换组件[双击]",clickFunc:i.triggerDblclick},{type:"hide-snapshots-title",tips:"标题",isDisableFunc:function(){return!s.findSelectElement()[0].symbolKey},clickFunc:function(){var e=s.findSelectElement()[0],t=e.isShowName;e.y<40&&!t?l.fixElementPosVal({changeVal:{y:40,isShowName:!t},element:e}):l.fixElementPosVal({changeVal:{isShowName:!t},element:e}),a["default"].createData({type:"showOrHideTitle",name:"PRD 显示/隐藏组件标题",autoSaveType:"prd"})},isActiveFunc:function(){return s.findSelectElement()[0].isShowName}},{type:"contr-border",tips:"边框",clickFunc:function(){var e=s.findSelectElement()[0],t=e.id,n=e.hasBorder;o["default"].updateValById({id:t,updateVal:{hasBorder:!n}}),a["default"].createData({type:"showOrHideBorder",name:"PRD 显示/隐藏组件边框",autoSaveType:"prd"})},isActiveFunc:function(){var e=s.findSelectElement()[0],t=e.hasBorder;e.symbolKey;return t}},{type:"recover-default-size",tips:"原始大小",clickFunc:function(){var e=s.findSelectElement()[0],t=e.oriWidth,n=e.oriHeight;u.OriginSizeOverToast({oriWidth:t,fixElementPosOverSize:function(){l.fixElementPosVal({changeVal:{width:900,height:900*n/t},element:e})},fixElementPosinSize:function(){l.fixElementPosVal({changeVal:{width:t,height:n},element:e})},type:"组件快照"})&&a["default"].createData({type:"recoverDefaultSize",name:"PRD 恢复原始的尺寸",autoSaveType:"prd"})},isDisableFunc:function(){var e=s.findSelectElement()[0],t=e.oriWidth,n=e.width;return!t||t==n}}],t["default"]={contrBtnList:t.contrBtnList}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(126)),d=s(n(500)),f=n(1484),p=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype.render=function(){return l["default"].createElement(d["default"],{btnSet:f.pageFlowBtnList[0]})},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component));t["default"]=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(848);t.pageFlowBtnList=[{type:"replace-preview",tips:"替换流程[双击]",clickFunc:r.triggerDblclick}],t["default"]={pageFlowBtnList:t.pageFlowBtnList}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(126)),d=n(26),f=s(n(1161)),p=n(1486),h=n(1487),g=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype.render=function(){var e=d.findSelectElement()[0].previewMode,t=void 0===e?"all":e;return l["default"].createElement(f["default"],{leftBtnText:p.previewBtnList[0].text,rightBtnText:p.previewBtnList[1].text,switchFunc:h.previewSwitchFunc,switchType:"all"==t?"left":"right"})},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component));t["default"]=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.previewBtnList=[{type:"fully-mode",text:"完整模式"},{type:"brief-mode",text:"简洁模式"}],t["default"]={previewBtnList:t.previewBtnList}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(29)),a=r(n(10)),i=n(26);function s(e){var t=e.currentTarget.getAttribute("data-type"),n=i.findSelectElement()[0].id;o["default"].updateValById({id:n,updateVal:{previewMode:"left"==t?"all":"simple"}}),a["default"].createData({type:"switchPrdCompType",name:"PRD 切换组件的类型",autoSaveType:"prd"})}t.previewSwitchFunc=s,t["default"]={previewSwitchFunc:s}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(126)),d=n(26),f=n(1489),p=s(n(1161)),h=s(n(500)),g=n(1490),y=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype.render=function(){var e=d.findSelectElement()[0],t=e.webMode,n=void 0===t?"web":t,r=e.isLink;return l["default"].createElement(l["default"].Fragment,null,l["default"].createElement(h["default"],{btnSet:g.webBtnList[0]}),l["default"].createElement(p["default"],{leftBtnText:g.webBtnList[1].text,rightBtnText:g.webBtnList[2].text,switchFunc:f.webViewSwitchFunc,switchType:"web"==n?"left":"right",notAllowCheck:r,isWeb:!0}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component));t["default"]=y},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(10)),a=n(26),i=n(118),s=n(145);function l(e){var t=e.currentTarget.getAttribute("data-type"),n=a.findSelectElement()[0],r=n.type,l=s.elementBaseVal[r],u=l.width,c=l.height,d=l.cardH,f=l.cardW,p="left"==t?u:f,h="left"==t?c:d;i.fixElementPosVal({changeVal:{webMode:"left"==t?"web":"card",width:p,height:h},element:n}),o["default"].createData({type:"switchWebMode",name:"PRD 切换网页组件模式（普通/卡片）",autoSaveType:"prd"})}t.webViewSwitchFunc=l,t["default"]={webViewSwitchFunc:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(848);t.webBtnList=[{type:"insert-web-url",tips:"编辑链接[双击]",clickFunc:r.triggerDblclick,isHaveLine:"right"},{type:"web-mode",text:"网页模式"},{type:"card-mode",text:"卡片模式"}],t["default"]={webBtnList:t.webBtnList}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(34)),d=s(n(91)),f=s(n(202)),p=s(n(1492)),h=s(n(1539)),g=s(n(1540)),y=s(n(1541)),m=s(n(1181)),_=s(n(1542)),v=s(n(1543)),b=s(n(1544)),w=s(n(1545)),C=s(n(1547)),x=n(1548),S=n(477),P=n(902),k=n(26),O=n(224),E=window.$;var T=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){this._fixData()},t.prototype.componentDidUpdate=function(){this._fixData()},t.prototype._fixData=function(){var e=k.findAllElement(),t=k.getSelectPageElementHierarchy(),n=t.slice();for(var r in n=E.arrayUnique(n),t.forEach(function(t){e[t]||n.remove(t)}),e)-1==n.indexOf(r)&&n.unshift(r);E.checkArrayEqual(n,t)||d["default"].updateValById({id:c["default"].getSelectStructKey(),updateVal:{elementHierarchy:n}})},t.prototype.handleContextMenu=function(e){S.elementDeselect(),f["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:P.emptyContextMenuConfig}),E.preventDefault(e)},t.prototype.render=function(){var e=this.props,t=e.cursor,n=e.width,r=e.height,o=function(e){var t="";switch(e){case"line":t="cursor-line"}return t}(t),a=O.getSelectStruct(),i=c["default"].getLinkInput(),s=i.left,u=i.top,d=i.link,f=i.isShow,S=i.innerLink,P=i.isInner,E=k.findSelectElement()[0]?k.findSelectElement()[0].id:"";return l["default"].createElement("div",{className:"prd-editor-container",style:{width:n,height:r}},l["default"].createElement(b["default"],{struct:a}),l["default"].createElement("div",{id:"editorContentPanel",className:"editor-content-panel "+o,onMouseMove:x.prdElementMouseMove,onMouseDown:x.prdElementMouseDown,onContextMenu:this.handleContextMenu},l["default"].createElement(p["default"],null),l["default"].createElement(h["default"],null),l["default"].createElement(g["default"],null),l["default"].createElement(y["default"],null),l["default"].createElement(w["default"],null),l["default"].createElement(_["default"],null),f?l["default"].createElement(C["default"],{type:"text",id:E,left:s,top:u,link:d,isInner:P,innerLink:S}):undefined,l["default"].createElement(v["default"],null),l["default"].createElement(m["default"],{isPrd:!0})))},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_fixData",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleContextMenu",null),t}(l["default"].Component);t["default"]=T},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(1173)),d=s(n(1538)),f=n(26),p=s(n(214)),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._getElementListComp=function(){return f.getAllElementBySelectPageHierarchy().map(function(e){return e?l["default"].createElement(c["default"],{key:e.id,element:e}):null})},t.prototype.render=function(){var e=p["default"].width;return l["default"].createElement("div",{className:"editor-content-view",style:{width:e-100}},"true"==h.getUrlParam("ischangetable")?l["default"].createElement(d["default"],null):undefined,this._getElementListComp())},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_getElementListComp",null),t}(l["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=s(n(11)),d=s(n(3)),f=s(n(34)),p=s(n(67)),h=s(n(40)),g=s(n(202)),y=l(n(902)),m=n(1494),_=n(1495),v=n(326),b=n(628),w=n(865),C=n(249),x=n(354),S=n(950),P=n(26),k=n(118),O=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.handleContextMenu=function(e){var t=this.props.element.type,n=f["default"].getSelectElementArr(),r=m.baseContextMenuConfig.concat(_.hierarchyContextMenuConfig);r=n.length>1?r.concat(y.multipleContextMenuConfig):r.concat(y["default"][t+"ContextMenuConfig"]||[]),g["default"].rightMenuUpdate({left:e.clientX,top:e.clientY,content:r}),$.preventDefault(e)},t.prototype.handleDoubleClick=function(e){var t=this.props.element,n=t.type,r=t.id;if("image"==n)k.changeImageFunc();else if(-1==["preview","projectView"].indexOf(n)){if("table"==n){C.tableDataInit(!0);var o=e.nativeEvent;x.selectTableCellByPosi({x:o.offsetX,y:o.offsetY}),h["default"].setTableDataContr(P.findSelectElement()[0])}else"text"==n&&setTimeout(function(){var e=$('.element-container.element-edit .editor-pre>div span[data-slate-content="true"]')[0].childNodes[0],t=window.document.createRange();t.selectNodeContents(e),t.collapse(!0),t.setEnd(e,e.length),t.setStart(e,e.length);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)},0);v.changeEditById({id:r})}},t.prototype.handleMouseDown=function(e){var t=e.currentTarget.getAttribute("data-id");if("line"==f["default"].getCursor())b.prdLineCreate(e);else{var n=p["default"].getPrdSelectArr();S.clearSelectArr();var r=f["default"].getSelectElementArr();n.length&&-1==r.indexOf(t)&&p["default"].setPrdSelectArr([]),w.dragElementCoverMove(e)}},t.prototype.render=function(){var e=this.props.element,t=e.id,n=e.isEdit;e.type;if(n)return!1;var r=f["default"].getSelectElementArr(),o=r.some(function(e){return e==t});return u["default"].createElement("div",{"data-id":t,className:c["default"]("element-cover",{isSelect:o,isSelectOnlyOne:o&&1==r.length}),"data-eventkey":"element",onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onDoubleClick:this.handleDoubleClick})},a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleContextMenu",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleDoubleClick",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleMouseDown",null),t}(u["default"].Component);t["default"]=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window,o=r.Mousetrap,a=r.hotKey,i=a.command,s=a.comKey;t.baseContextMenuConfig=[["复制",function(){o.trigger(i+"+c")},s+"+C"],["粘贴",function(){$("body").trigger("paste")},s+"+V"],["剪切",function(){o.trigger(i+"+x")},s+"+X"],["删除",function(){o.trigger("del")},"Delete",!0]],t["default"]={baseContextMenuConfig:t.baseContextMenuConfig}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window,o=r.Mousetrap,a=r.hotKey,i=a.command,s=a.comKey;t.hierarchyContextMenuConfig=[["置于顶层",function(){o.trigger(i+"+]")},s+"+]"],["置于底层",function(){o.trigger(i+"+[")},s+"+[",!0]],t["default"]={hierarchyContextMenuConfig:t.hierarchyContextMenuConfig}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(1497)),d=s(n(1501)),f=s(n(1503)),p=s(n(1509)),h=s(n(1519)),g=s(n(1520)),y=s(n(1522)),m=s(n(1523)),_=s(n(1524)),v=s(n(1525)),b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._getElementComp=function(){var e,t=this.props,n=t.element,r=t.element,o=(r.id,r.type),a=r.name;switch(o){case"text":e=l["default"].createElement(c["default"],{element:n});break;case"table":e=l["default"].createElement(d["default"],{element:n});break;case"image":e=l["default"].createElement(f["default"],{element:n});break;case"webView":var i=n.webMode,s=void 0===i?"web":i,u=n.url;e=l["default"].createElement(p["default"],{element:n,isCard:"card"==s,url:u});break;case"contr":e=l["default"].createElement(h["default"],{element:n});break;case"page":e=l["default"].createElement(g["default"],{element:n});break;case"pageflow":e=l["default"].createElement(m["default"],{element:n});break;case"preview":e=l["default"].createElement(y["default"],{element:n});break;case"projectView":e=l["default"].createElement(_["default"],{element:n});break;case"pageRemark":e=l["default"].createElement(v["default"],{element:n});break;default:e=l["default"].createElement("div",{className:o+"-element-container"},a)}return e},t.prototype.render=function(){return this._getElementComp()},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_getElementComp",null),t}(l["default"].Component);t["default"]=b},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(900),d=n(90),f=l(n(3)),p=n(4),h=n(863),g=n(621),y=n(145),m=l(n(29)),_=l(n(126)),v=l(n(620)),b=l(n(1498)),w=l(n(1499)),C=n(271),x=n(26),S=n(1500),P=n(10)["default"],k=window.isPrototypeTool,O=null,E=null;function T(e,t){O&&(clearTimeout(O),O=null),E||(E=t),O=setTimeout(function(){!function(e,t){var n=m["default"].getPrdElementById(e);if(n){var r=n.content;p.is(r,t)||(t=null,P.createData({type:"changeEditContent",name:"PRD 修改富文本内容",autoSaveType:"prd"}))}}(e,E)},500)}var M=function(e){function t(t){var n=e.call(this,t)||this;return n.editor=null,n.containerDom=null,n.lastSaveData={},n.lastEditorVal=null,n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){this.fixDomHeight()},t.prototype.componentDidUpdate=function(){this.fixDomHeight()},t.prototype.fixDomHeight=function(){if(this.containerDom){var e=this.props.element,t=e.id,n=e.height,r=$.offset(this.containerDom,!0).height;Math.round(r)!=Math.round(n)&&m["default"].updateValById({id:t,updateVal:{height:Math.round(r)}})}},t.prototype.editChangeFunc=function(e){var t=e.value;this._changeValFunc(t)},t.prototype.editFocusFunc=function(e,t,n){var r=this;window.Mousetrap.pause(),_["default"].initRichText({comp:this,editor:this.editor}),setTimeout(function(){var e=window.getSelection(),t=c.findRange(e,r.editor);r.editor.focus(),r.editor.select(t)},0)},t.prototype._changeValFunc=function(e){var t=this.props.element,n=t.id,r=t.content;_["default"].setAllEditorVals({selection:e.selection,decorations:e.decorations,data:e.decorations},n),this.lastEditorVal=e,p.is(r,e.document)?(this.setState({}),v["default"].emitChange()):(m["default"].updateValById({id:n,updateVal:{content:e.document}}),T(n,e.document))},t.prototype.editBlurFunc=function(){window.Mousetrap.unpause();var e=x.findSelectElement()[0],t=this.props.element,n=t.id,r=t.content;!d.Document.isDocument(r)||r.text||e&&e.id==n||(m["default"].updateValById({id:n,updateVal:{content:y.elementBaseVal.text.addCreateVal.content}}),P.createData({type:"changeEditContent",name:"PRD 修改富文本内容",autoSaveType:"prd"}))},t.prototype.renderMark=function(e,t,n){var r=e.children,o=e.mark,i=e.attributes;switch(o.type){case"bold":return u["default"].createElement("strong",a({},i),r);case"strikethrough":var s=$.extend(!0,{},r);return s.props.style=a({},s.props.style,{textDecoration:"line-through"}),u["default"].createElement("del",a({style:{color:r.props.style?r.props.style.color:undefined}},i),s);case"italic":return u["default"].createElement("em",a({},i),r);case"underlined":var l=$.extend(!0,{},r);return l.props.style=a({},l.props.style,{textDecoration:"underline"}),u["default"].createElement("u",a({style:{color:r.props.style?r.props.style.color:undefined}},i),l);case"fontSize":return u["default"].createElement("span",a({style:{fontSize:o.toJSON().data.val}},i),r);case"textColor":return u["default"].createElement("span",a({style:{color:"#"+h.colorPickerList[$.isUndefined(o.toJSON().data.val)?1:o.toJSON().data.val].value}},i),r);case"a-link":case"a-link-inner":var c=$.extend(!0,{},r);return c.props.style=a({},c.props.style,{color:"#569FF3",textDecoration:"underline"}),u["default"].createElement(w["default"],{attributes:i,link:o.toJSON().data.val||"",isInner:"a-link-inner"==o.type},c);default:return n()}},t.prototype.renderNode=function(e,t,n){var r,o=e.attributes,i=e.children,s=e.node,l=20*(Number(s.type[s.type.length-1])-1),c=function(e){var t="";switch(e){case"num-list-1":case"num-list-4":t="decimal";break;case"num-list-2":case"num-list-5":t="lower-roman";break;case"num-list-3":case"num-list-6":t="lower-alpha";break;case"unordered-list-1":case"unordered-list-4":t="disc";break;case"unordered-list-2":case"unordered-list-5":t="circle";break;case"unordered-list-3":case"unordered-list-6":t="square"}return t}(s.type),d=s.type;switch(-1!=s.type.indexOf("color|")&&(d="color|",r=s.type.split("|")[1]),d){case"heading-one":return u["default"].createElement("h1",a({},o),i);case"heading-two":return u["default"].createElement("h2",a({},o),i);case"heading-three":return u["default"].createElement("h3",a({},o),i);case"heading-four":return u["default"].createElement("h4",a({},o),i);case"heading-five":return u["default"].createElement("h5",a({},o),i);case"left":case"center":case"right":case"justify":return u["default"].createElement("div",a({style:{textAlign:s.type}},o),i);case"num-list-1":case"num-list-4":case"num-list-2":case"num-list-5":case"num-list-3":case"num-list-6":case"unordered-list-1":case"unordered-list-4":case"unordered-list-2":case"unordered-list-5":case"unordered-list-3":case"unordered-list-6":return u["default"].createElement("li",a({style:{marginLeft:l,listStyleType:c}},o),i);case"task-list":return u["default"].createElement(b["default"],{isComplete:!1,attributes:o},i);case"complete-task-list":return u["default"].createElement(b["default"],{isComplete:!0,attributes:o},i);case"color|":return u["default"].createElement("div",a({style:{color:"#"+h.colorPickerList[r].value}},o),i);default:return n()}},t.prototype.onKeyDown=function(e,t,n){if(S.RichTextMousetrap(e),9!=e.keyCode&&8!=e.keyCode)return n();var r,o=!1;if(g.allListDeepArr.some(function(t,n){if(C.isActiveNode({type:t})){var a=Number(t[t.length-1]);if(0==window.getSelection().anchorOffset)if(8==e.keyCode)o=!0,r=0==(i=a-1)?"":t.slice(0,t.length-1)+i;if(9==e.keyCode){o=!0;var i=Math.min(a+1,6);r=t.slice(0,t.length-1)+i}return!0}return!1}),!o)return n();e.preventDefault(),t.setBlocks(r)},t.prototype.ref=function(e){var t=this.props.element.id;this.editor=e,_["default"].addAllTextEditor(e,t)},t.prototype.mouseDown=function(){this.editor.deselect()},t.prototype.render=function(){var e=this,t=this.props.element,n=t.id,r=t.isEdit,o=t.content;d.Document.isDocument(o)||"document"!=o.object||(o=d.Document.fromJSON(o));var i=_["default"].getAllEditorVals(n),s=d.Document.isDocument(o)?this.lastEditorVal&&this.lastEditorVal.document&&p.is(o,this.lastEditorVal.document)?this.lastEditorVal:d.Value.create(a({document:o},r&&i&&i.selection?i:{})):d.Value.fromJSON(o);return u["default"].createElement("div",{className:"text-element-container",ref:function(t){return e.containerDom=t}},s?u["default"].createElement("pre",{className:"editor-pre"},u["default"].createElement(c.Editor,{autoCorrect:!1,spellCheck:!1,key:"Editor"+n,ref:this.ref,value:s,readOnly:!k||!r,onChange:this.editChangeFunc,onFocus:this.editFocusFunc,onBlur:this.editBlurFunc,renderMark:this.renderMark,renderNode:this.renderNode,onKeyDown:this.onKeyDown,onMouseDown:this.mouseDown})):null)},i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"fixDomHeight",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"editChangeFunc",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Object]),s("design:returntype",void 0)],t.prototype,"editFocusFunc",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_changeValFunc",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"editBlurFunc",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Object]),s("design:returntype",void 0)],t.prototype,"renderMark",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Object]),s("design:returntype",void 0)],t.prototype,"renderNode",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object,Object,Object]),s("design:returntype",void 0)],t.prototype,"onKeyDown",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"ref",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"mouseDown",null),t}(u["default"].Component);t["default"]=M},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(126)),f=n(900),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.handleClick=function(e){var t=this.props.isComplete,n=d["default"].getRichText().editor,r=f.findNode(e.currentTarget,n);n.moveToRangeOfNode(r),t?n.setBlocks("task-list"):n.setBlocks("complete-task-list")},t.prototype.render=function(){var e=this.props,t=e.attributes,n=e.isComplete;return u["default"].createElement("li",a({onClick:this.handleClick,className:n?"complete-task-list-li":"task-list-li"},t),this.props.children)},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"handleClick",null),t}(u["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=n(900),f=n(26),p=l(n(126)),h=l(n(29)),g=l(n(34)),y=n(1160),m=n(224),_=null,v=window.isPrototypeTool,b=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.readyShowLink=function(e){var t=e.currentTarget,n=f.findSelectElement()[0];if(n){var r=n.id,o=$.offset(t,!0),a=o.left,i=o.top,s=0;_||(_=setInterval(function(){if(1==++s){var e=p["default"].getRichText().editor,n=e.value,o=$(t).parents('span[data-slate-leaf="true"]')[0],l=y.getPrevLength(o),u=$(t).find('span[data-slate-content="true"')[0].childNodes[0],c=window.document.createRange();c.selectNodeContents(u),c.collapse(!0),c.setEnd(u,u.length),c.setStart(u,0);var f=window.getSelection();f.removeAllRanges(),f.addRange(c);var m=window.getSelection(),v=m.focusOffset,b=m.anchorOffset,w=m.anchorNode.parentElement,C=d.findNode(w,e);p["default"].setNodeData({key:C.key,start:Math.min(v+l,b+l),length:Math.abs(v-b),value:n}),setTimeout(function(){h["default"].updateValById({id:r,updateVal:{isEdit:!1},noEmit:!1});var e="true"==t.getAttribute("data-isinner");g["default"].setLinkInput({left:a,top:i,isShow:!0,link:e?"":t.getAttribute("data-link"),innerLink:e?t.getAttribute("data-link"):"",isInner:e})},0),setTimeout(function(){var e=$(".insert-hyperlink-panel input")[0];$(e).focus()},0),clearInterval(_),_=null}},1e3))}},t.prototype.cancelShowLink=function(){_&&(clearInterval(_),_=null)},t.prototype.handleLink=function(){var e=this.props.link;g["default"].setSelectStructArr([e],!0),g["default"].setSelectStructKey(e),m.moveStructMiddle(e)},t.prototype.handleLinkHeader=function(e){return-1==e.indexOf("http")?"https://"+e:e},t.prototype.render=function(){var e=this.props,t=e.attributes,n=e.link,r=e.isInner;_&&clearInterval(_);var o="";o=window.isPrototypeTool||r?n:this.handleLinkHeader(n);var i=u["default"].createElement("span",a({"data-isinner":r,"data-link":o,onMouseLeave:this.cancelShowLink,onMouseEnter:this.readyShowLink,style:{color:"#569FF3",textDecoration:"underline"}},t),this.props.children);return u["default"].createElement("div",{className:"rich-text-link",style:{position:"relative",display:"inline-block"}},v?i:r?u["default"].createElement("div",{onClick:this.handleLink},i):u["default"].createElement("a",{href:o,target:"_blank"},i))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"readyShowLink",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"cancelShowLink",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"handleLink",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"handleLinkHeader",null),t}(u["default"].Component);t["default"]=b},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=window,a=o.$,i=o.isMac,s=r(n(126)),l=n(621),u=n(271),c=["","one","two","three","four","five"];function d(e){var t,n,r,o=e.metaKey,d=e.ctrlKey,f=e.shiftKey,p=e.altKey,h=e.keyCode;if(i?o:d){if(f){l.fontSizeArr.some(function(e,t){return!!u.isActiveNode({type:e})&&(r=e,!0)});var g=l.fontSizeArr.indexOf(r)+1||6;switch(h){case 38:var y=Math.max(g-1,1);n="heading-"+c[y];break;case 40:n=g>=5?"":"heading-"+c[g+1];break;case 83:t="strikethrough";break;case 85:var m=a(".num-list-btn")[0];a(m).click(),e.preventDefault();break;case 73:var _=a(".unordered-list-btn")[0];a(_).click(),e.preventDefault();break;case 89:var v=a(".task-list-btn")[0];a(v).click(),e.preventDefault()}}else if(p)switch(h){case 48:n="";break;case 49:n="heading-one";break;case 50:n="heading-two";break;case 51:n="heading-three";break;case 52:n="heading-four";break;case 53:n="heading-five"}else switch(h){case 66:t="bold";break;case 73:t="italic";break;case 85:t="underlined";break;case 75:var b=a(".is-hyperlink-icon")[0];a(b).click()}var w=s["default"].getRichText().editor;t?window.getSelection().isCollapsed||w.toggleMark(t):a.isUndefined(n)||(w.unwrapBlock(r),n&&w.wrapBlock(n))}}t.RichTextMousetrap=d,t["default"]={RichTextMousetrap:d}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(34)),l=a(n(40)),u=a(n(29)),c=a(n(508)),d=a(n(507)),f=a(n(506)),p=n(1502),h=20;var g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){!function(e){var t=e.linePosi,n=e.columnPosi,r=e.id,o=e.child,a=e.height,i=e.width;if(!$.isEmptyObject(o)){var s=[],l=$('div[data-id="'+r+'"]').prev().find(".inputText"),c=h,d=0,f=0,p=0,g={};l.forEach(function(e,t){var r=$.offset(e,!0).height,o=(r.width,r.height);if(c=Math.max(c,o),t%n.length==n.length-1){var a=c;d+=a,s.push(a),c=h}}),t.forEach(function(e){f+=e}),n.forEach(function(e){p+=e}),Math.round(a)!=Math.round(f)&&(g.height=Math.round(f)),Math.round(i)!=Math.round(p)&&(g.width=Math.round(p)),!$.checkArrayEqual(t,s)&&d>a&&u["default"].updateValById({id:r,updateVal:{linePosi:s,height:d}}),Object.keys(g).length>0&&u["default"].updateValById({id:r,updateVal:g})}}(this.props.element)},t.prototype.render=function(){var e=this.props,t=e.element,n=t.width,r=t.height,o=t.id,a=e.element,u=p.initTableData({element:a}),h=s["default"].getSelectElementArr(),g=1==h.length&&h[0]==o,y=!1;if(g){var m=l["default"].getTableData(),_=m.selectContr,v=m.selectCell;_&&v&&(y=!0)}return i["default"].createElement("div",{style:{width:n,height:r}},i["default"].createElement(c["default"],{i:u,isActivePage:!0}),g?i["default"].createElement(d["default"],{i:u}):undefined,y?i["default"].createElement(f["default"],{i:u}):undefined)},t}(i["default"].Component);t["default"]=g},function(e,t,n){"use strict";function r(e){var t=e.element,n=t.x,r=t.y,o=$.extend(!0,{left:n,top:r,interfaceId:1},t);return delete o.left,delete o.top,o}Object.defineProperty(t,"__esModule",{value:!0}),t.initTableData=r,t["default"]={initTableData:r}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(11)),d=l(n(3)),f=l(n(361)),p=l(n(12)),h=l(n(1504)),g=l(n(1507)),y=n(429),m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={imgStyle:{},isZoom:!1,increaseVal:0,left:0,top:0,isMax:!1,isMin:!1,zoomNum:100,canFullScreen:!0,zoomWidth:0,zoomHeight:0,isZoomImg:!1,zoomScale:1},n}return o(t,e),t.prototype.componentDidUpdate=function(){if(this.state.isZoomImg){var e=this.state.zoomScale,t=this.props.element,n=t.width,r=t.height,o=t.cutVals,a=o||{},i=a.width,s=a.height,l=a.boxWidth,u=a.boxHeight,c=$(".prd-preview-img-zoom-panel"),d=$.query(".prd-zoom-img-box"),f=window.innerWidth,p=window.innerHeight,h=o?Math.min(i,l):n,g=o?Math.min(s,u):r;h*e>=f?(c.scrollLeft((h*e-f)/2),d.style.left=0):h*e<f&&(d.style.left=(f-h*e)/2+"px"),g*e>=p?(c.scrollTop((g*e-p)/2),d.style.top=0):g*e<p&&(d.style.top=(p-g*e)/2+"px")}},t.prototype.handleImgOpen=function(e,t){var n=$(e.currentTarget).parents(".element-container")[0],r=$.offset(n,!0),o=this.state.isZoom,a=t.width,i=t.height,s=t.oriWidth,l=t.oriHeight,u=r.left,c=r.top,d=this.getTransformVal({width:a,height:i,oriWidth:s,oriHeight:l,left:u,top:c}),f=d.scaleNum,p=d.translateX,h=d.translateY;this.setState({imgStyle:{transform:"scale("+f+") translate3d("+p+"px, "+h+"px, 0)"},isZoom:!o,left:u,top:c,increaseVal:0,isMax:!1,isMin:Math.min(s,l)/Math.min(a*f,i*f)>=2,zoomNum:100,zoomWidth:a*f,zoomHeight:i*f,isZoomImg:!1,zoomScale:f},function(){var e=$.query(".right-content-panel"),t=$.query(".right-content-panel>.content-box>.head-panel"),n=$.query(".right-content-panel>.content-box>.content-text-panel>.prd-content-text");o?(e.style.zIndex=99,t.style.zIndex=101,n.style.zIndex=0):(e.style.zIndex=101,t.style.zIndex=99,n.style.zIndex=112)})},t.prototype.getTransformVal=function(e){var t=e.width,n=e.height,r=e.oriWidth,o=e.oriHeight,a=e.left,i=e.top,s=e.isZoom,l=void 0!==s&&s,u=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=0,f=0;l?(d=r/t,f=o/n):(d=Math.min(u,r)/t,f=Math.min(c,o)/n);var p=Math.min(d,f),h=((u-t)/2-a)/p,g=((c-n)/2-i)/p;return Math.min(t,n)*p==Math.min(r,o)?this.setState({canFullScreen:!1}):this.setState({canFullScreen:!0}),{scaleNum:p,translateX:h,translateY:g}},t.prototype.closeZoomImage=function(){this.setState({isZoom:!1,increaseVal:0,isMax:!1,isMin:!1,zoomNum:100,isZoomImg:!1},function(){var e=$.query(".right-content-panel"),t=$.query(".right-content-panel>.content-box>.head-panel");e.style.zIndex=99,t.style.zIndex=101})},t.prototype.getZoomIncreaseVal=function(){var e=this.props.element,t=e.oriWidth,n=e.oriHeight,r=this.state,o=r.zoomWidth,a=r.zoomHeight;return Math.round((2*Math.min(t,n)-Math.min(o,a))/10)},t.prototype.zoomInFunc=function(){var e=this.props.element,t=e.width,n=e.height,r=e.oriWidth,o=e.oriHeight,a=this.state,i=a.left,s=a.top,l=a.increaseVal,u=a.zoomNum,c=a.zoomWidth,d=a.zoomHeight,f=this.getZoomIncreaseVal(),p=c+f+l,h=d+f+l,g=this.getTransformVal({width:t,height:n,oriWidth:p,oriHeight:h,left:i,top:s,isZoom:!0}),y=g.scaleNum,m=g.translateX,_=g.translateY;this.setState({imgStyle:{transform:"scale("+y+") translate3d("+m+"px, "+_+"px, 0)"},increaseVal:l+f,isMax:Math.min(p,h)/Math.min(r,o)>=2||u+10==200,isMin:!1,zoomNum:u+10,canFullScreen:Math.min(r,o)!=Math.min(p,h),isZoomImg:!0,zoomScale:y})},t.prototype.zoomOutFunc=function(){var e=this.props.element,t=e.width,n=e.height,r=e.oriWidth,o=e.oriHeight,a=this.state,i=a.left,s=a.top,l=a.increaseVal,u=a.zoomNum,c=a.zoomWidth,d=a.zoomHeight,f=this.getZoomIncreaseVal(),p=c+l-f<=0?c:c+l-f,h=d+l-f<=0?d:d+l-f,g=this.getTransformVal({width:t,height:n,oriWidth:p,oriHeight:h,left:i,top:s,isZoom:!0}),y=g.scaleNum,m=g.translateX,_=g.translateY;this.setState({imgStyle:{transform:"scale("+y+") translate3d("+m+"px, "+_+"px, 0)"},increaseVal:l-f,isMax:Math.min(p,h)/Math.min(r,o)>=2||u+10==200,isMin:Math.min(r,o)/Math.min(p,h)>=2,zoomNum:u-10,canFullScreen:Math.min(r,o)!=Math.min(p,h),isZoomImg:!0,zoomScale:y})},t.prototype.fullScreenFunc=function(){var e=this.props.element,t=e.width,n=e.height,r=e.oriWidth,o=e.oriHeight,a=this.state,i=a.left,s=a.top,l=this.getTransformVal({width:t,height:n,oriWidth:r,oriHeight:o,left:i,top:s,isZoom:!0}),u=l.scaleNum,c=l.translateX,d=l.translateY,f=this.getZoomIncreaseVal(),p=Math.round((Math.min(r,o)-Math.min(t,n))/f),h=window.innerWidth,g=window.innerHeight,y=Math.min(r,o),m=Math.min(h,g);this.setState({imgStyle:{transform:"scale("+u+") translate3d("+c+"px, "+d+"px, 0)"},isMax:!1,isMin:!1,zoomNum:100+10*p,increaseVal:y<=m?0:f*p,isZoomImg:!0,zoomScale:u})},t.prototype.downloadFunc=function(){var e=this.props.element,t=e.oriName,n=e.src,r=(-1!=n.indexOf("userImages")||-1!=n.indexOf("static")||-1!=n.indexOf("images")?"https://img.xiaopiu.com":"")+n,o=r.lastIndexOf("."),a=r.substr(o),i=t.lastIndexOf("."),s=t.substr(0,i);p["default"].show("下载中...");var l=new XMLHttpRequest;l.open("GET",r,!0),l.responseType="blob",l.setRequestHeader("Authorization","Basic a2VybWl0Omtlcm1pdA=="),l.onload=function(){200===l.status&&f["default"].saveAs(l.response,""+s+a)},l.send()},t.prototype.render=function(){var e=this,t=this.props,n=t.element,r=t.element,o=r.width,i=r.height,s=r.src,l=r.isEdit,d=r.cutVals||{},f=d.width,p=d.height,m=d.boxWidth,_=d.boxHeight,v=this.state,b=v.isZoom,w=v.imgStyle,C=v.isMax,x=v.isMin,S=v.zoomNum,P=v.canFullScreen,k=v.isZoomImg,O=v.zoomScale,E=window.isPrototypeTool,T=(l=E&&l)?$.extend(!0,{},n):n;l&&(T.cutVals=a({},T.cutVals,{left:0,top:0}));var M=$(".right-content-panel").scrollTop();return s?u["default"].createElement(u["default"].Fragment,null,u["default"].createElement("div",{className:c["default"]("cutImgOutBox stretch-wrapper",{"is-edit-image":l,"is-preview-page":!E,"is-zoom":b,"is-zoom-img":k}),style:a({},b?a({},w):{}),onMouseDown:E?$.noop:function(t){return e.handleImgOpen(t,n)}},u["default"].createElement("div",{className:"prd-image-container",style:{width:(l?m:f)||o,height:(l?_:p)||i}},y.getImageNode(T)),l&&u["default"].createElement(h["default"],{element:n})),!E&&b?u["default"].createElement(u["default"].Fragment,null,u["default"].createElement("div",{id:"prdImageZoomPanel",className:c["default"]("prd-image-zoom-panel",{"is-zoom":b}),"data-scrollval":M,onMouseDown:this.closeZoomImage}),u["default"].createElement(g["default"],{zoomNum:S,zoomInFunc:C?$.noop:this.zoomInFunc,zoomOutFunc:x?$.noop:this.zoomOutFunc,fullScreenFunc:P?this.fullScreenFunc:$.noop,downloadFunc:this.downloadFunc,isMax:C,isMin:x,canFullScreen:P}),k?u["default"].createElement("div",{className:"prd-preview-img-zoom-panel",onMouseDown:this.closeZoomImage},u["default"].createElement("div",{className:"prd-zoom-img-box",style:{position:"absolute",transform:"scale("+O+")",transformOrigin:"0 0",left:0,top:0,width:f||o,height:p||i}},y.getImageNode(T))):undefined):undefined):u["default"].createElement("div",{className:"prd-image-panel",style:{width:o,height:i}},u["default"].createElement("div",{className:"default-img-icon"}))},i([d["default"],s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],t.prototype,"handleImgOpen",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getTransformVal",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"closeZoomImage",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getZoomIncreaseVal",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"zoomInFunc",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"zoomOutFunc",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"fullScreenFunc",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"downloadFunc",null),t}(u["default"].Component);t["default"]=m},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(437)),f=l(n(1163)),p=n(429),h=n(1506),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={prdImageCut:d["default"].getPrdImageCut()},n}return o(t,e),t.prototype.componentDidMount=function(){d["default"].addChangeListener(this.onChange)},t.prototype.componentWillUnmount=function(){d["default"].removeChangeListener(this.onChange)},t.prototype.onChange=function(){this.setState({prdImageCut:d["default"].getPrdImageCut()})},t.prototype.render=function(){var e=this.props,t=e.element,n=e.element.cutVals,r=this.state.prdImageCut.dragPos,o=r.x,i=r.y,s=r.width,l=r.height,c=a({cutVals:n},{left:o,top:i,width:s,height:l});return u["default"].createElement(u["default"].Fragment,null,u["default"].createElement("div",{className:"prd-image-cut-container",onMouseDown:h.imageCutMove,style:c},p.getImageNode(a({},t,{cutVals:c}))),u["default"].createElement(f["default"],{dragType:"all",stylePos:c,noDragSpot:!1,dragFunc:h.imageCutSpotDrag}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"onChange",null),t}(u["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(11)),f=l(n(29)),p=l(n(67)),h=l(n(622)),g=l(n(214)),y=n(26),m=n(869),_=n(845),v=n(348),b=n(26),w=l(n(97)),C=n(10)["default"],x=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dragPos:0,isDrag:!1,isHover:!1},n}return o(t,e),t.prototype.getAllChangeElement=function(e){var t=e.allElement,n=e.baseTopVal,r=[];return t.forEach(function(e){var t=e.y,o=e.id,a=e.type,i=e.remarkId;if("page"==a&&i){var s=f["default"].getPrdElementById(i),l=s.id,u=s.y;u>=n&&r.push({id:l,y:u})}t>=n&&r.push({id:o,y:t})}),r},t.prototype.getAllChangeLine=function(e){var t=e.allLine,n=e.baseTopVal,r=[];return t.forEach(function(e){var t=e.id,o=e.startPosi,a=e.endPosi,i=e.startKey,s=e.endKey,l=e.startPoint,u=e.endPoint,c=e.fixedArr,d=e.noStartSupply,f=e.noEndSupply;if(!e.isConnect){var p=w["default"].getPrdLinePointArr({startPosi:o,endPosi:a,startKey:i,endKey:s,startPoint:l,endPoint:u,fixedArr:c,noStartSupply:d,noEndSupply:f}),h=!1;p.some(function(e){return e[1]<n&&(h=!0,!0)}),h||r.push({id:t,startPoint:l,endPoint:u,fixedArr:c,startKey:i,endKey:s})}}),r},t.prototype.compTopDrag=function(e){var t=e.clientX,n=e.clientY,r=n,o=this,i=y.findAllElement({isReturnArr:!0}),s=b.getAllLineByStructKey(),l=y.findSelectElement(),u=m.getSeveralElementPos(l).top,c=o.getAllChangeElement({allElement:i,baseTopVal:u});$(".menu-head-panel .head-close-btn").click();var d=o.getAllChangeLine({allLine:s,baseTopVal:u});_.initDragChangePosi({autoChangeFunc:function(e){return v.getDragScrollRatio(e,!0)},arriveCriticalFunc:function(){var e=h["default"].getDragChangePosiSet().ratio,t=$(".prd-content-panel")[0].scrollTop,n=t<=0&&-1==e;return n||($(".prd-content-panel")[0].scrollTop=Math.max(t+20*e,0)),n}}),$.setDrag({name:"compTopDrag",posi:[t,n],target:e.currentTarget,moveFunc:function(e){var t=e.clientX,i=e.clientY;_.changeDragChangePosi({clientX:t,clientY:i},function(e){var t=e.autoChangePosi,s=(e.ratio,t.autoChangePosiY),l=void 0===s?0:s,h=i-n;u+h+l<0&&(h=-u-l);var g=h+l;c.forEach(function(e){var t=e.id,n=e.y;f["default"].updateValById({id:t,updateVal:{y:n+g},noEmit:!0})}),d.forEach(function(e){var t=e.id,n=e.startPoint,r=e.endPoint,o=e.fixedArr,i=e.startKey,s=e.endKey,l={};if(i||(l.startPoint=[n[0],n[1]+g]),s||(l.endPoint=[r[0],r[1]+g]),o.length){var u=$.extend(!0,[],o);u.forEach(function(e,t){u[t]=[e[0],e[1]+g]}),l.fixedArr=u}p["default"].changePrdLine(a({},l,{id:t,noEmit:!0}))}),o.setState({isDrag:!0,dragPos:i-r}),f["default"].emitElementContentChange(),r=i})},endFunc:function(){_.endDragChangePosi(),o.setState({isDrag:!1}),C.createData({type:"changeAllElementPosiLowerSelect",name:"PRD 修改所有在选中组件之下的组件位置",autoSaveType:"prd"})}}),$.stopPropagation(e)},t.prototype.handleMouseEnter=function(){this.setState({isHover:!0})},t.prototype.handleMouseLeave=function(){this.setState({isHover:!1})},t.prototype.render=function(){var e=this.props,t=e.stylePos,n=e.width,r=void 0===n?0:n,o=e.type,a=void 0===o?"":o,i=e.showName,s=void 0!==i&&i,l=this.state,c=l.dragPos,f=l.isDrag,p=l.isHover,h=("page"==a||"contr"==a)&&s;return u["default"].createElement("div",{className:"prd-comp-top-drag-container"},p&&h?u["default"].createElement("div",{className:"drag-bg-box",style:{width:r}}):undefined,u["default"].createElement("div",{className:"comp-pos-drag-icon",onMouseDown:this.compTopDrag,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),u["default"].createElement("div",{className:d["default"]("prd-comp-drag-line",{"is-drag":f,"is-drag-up":c<0}),style:{width:g["default"].width,left:-t.left}}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getAllChangeElement",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getAllChangeLine",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"compTopDrag",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"handleMouseEnter",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"handleMouseLeave",null),t}(u["default"].Component);t.PrdCompDragLineComp=x,t["default"]=x},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(437)),i=n(1164),s=n(26),l=n(145);function u(e){var t=s.findSelectElement()[0],n=t.type,o=e.clientX,u=e.clientY,c=a["default"].getPrdImageCut(),d=c.dragPos,f=d.x,p=d.y,h=d.width,g=d.height,y=c.imagePos,m=y.width,_=y.height,v=(e.currentTarget.getAttribute("data-dragtype"),e.currentTarget.getAttribute("data-dragkey")),b={x:f,y:p,width:h,height:g};$.setDrag({name:"imageCutSpotDrag",posi:[o,u],target:e.target,moveFunc:function(e){var s={},c={x:e.clientX-o,y:e.clientY-u};s=i.reviseChangeXY({oldPosi:b,limitPosi:l.elementBaseVal[n],dragKey:v,changeXY:c,element:t}),s=i.dragBasePosChange({oldPosi:b,changeXY:c,dragKey:v,returnPos:s,dragLineKeyObj:{}}),s=i.limitPosScope({pos:s,oldPosi:b,limitPosi:{width:m,height:_}}),a["default"].changeDragPos({dragPos:r({},b,s)})}}),$.stopPropagation(e)}function c(e){var t=e.clientX,n=e.clientY,r=a["default"].getPrdImageCut(),o=r.dragPos,i=o.x,s=o.y,l=o.width,u=o.height,c=r.imagePos,d=c.width,f=c.height;$.setDrag({name:"imageCutMove",posi:[t,n],target:e.target,moveFunc:function(e){a["default"].changeDragPos({dragPos:{width:l,height:u,x:$.setRegion(i+(e.clientX-t),0,d-l),y:$.setRegion(s+(e.clientY-n),0,f-u)}})}}),$.stopPropagation(e)}t.imageCutSpotDrag=u,t.imageCutMove=c,t["default"]={imageCutSpotDrag:u,imageCutMove:c}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(11)),f=n(1508),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.getClickFunc=function(e){var t=this.props,n=t.zoomOutFunc,r=void 0===n?$.noop:n,o=t.zoomInFunc,a=void 0===o?$.noop:o,i=t.fullScreenFunc,s=void 0===i?$.noop:i,l=t.downloadFunc,u=void 0===l?$.noop:l,c=$.noop;switch(e){case"zoomOut":c=r;break;case"zoomIn":c=a;break;case"fullScreen":c=s;break;case"download":c=u}return c},t.prototype.render=function(){var e=this,t=e.props,n=t.zoomNum,r=void 0===n?100:n,o=t.isMax,i=void 0!==o&&o,s=t.isMin,l=void 0!==s&&s,c=t.canFullScreen;return u["default"].createElement("div",{className:"prd-zoom-btn-panel"},f.IMG_ZOOM_BTN_CONFIG.map(function(t){var n=t.type,r=t.tips;return u["default"].createElement("div",a({key:n,className:d["default"](n+"-btn img-zoom-btn a_c",{"is-max":i,"is-min":l,"can-full-screen":c}),onClick:e.getClickFunc(n)},$.addHoverData({text:r})))}),u["default"].createElement("div",{className:"prd-image-zoom-num"},r+"%"))},i([c["default"],s("design:type",Function),s("design:paramtypes",[String]),s("design:returntype",void 0)],t.prototype,"getClickFunc",null),t}(u["default"].Component);t["default"]=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMG_ZOOM_BTN_CONFIG=[{type:"zoomIn",tips:"放大"},{type:"zoomOut",tips:"缩小"},{type:"fullScreen",tips:"实际大小"},{type:"download",tips:"下载"}],t["default"]={IMG_ZOOM_BTN_CONFIG:t.IMG_ZOOM_BTN_CONFIG}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(956)),d=s(n(1510)),f=s(n(898)),p=s(n(1518)),h=s(n(34)),g=window.isPrototypeTool,y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.handleInnerLink=function(){var e=this.props.element.linkUrl;h["default"].setSelectStructArr([e],!0),h["default"].setSelectStructKey(e)},t.prototype.handleLinkHeader=function(e){return-1==e.indexOf("http")?"https://"+e:e},t.prototype.render=function(){var e=this.props,t=e.isCard,n=e.element,r=n.width,o=n.height,a=n.isEdit,i=n.webUrl,s=void 0===i?"":i,u=n.left,h=n.top,y=n.isInnerLink,m=n.id,_=e.element,v={width:r,height:o},b="";b=window.isPrototypeTool||y?s:this.handleLinkHeader(s);var w;return w=s.indexOf("http")>-1?s:"https://"+$.sliceUrl(s),t?g?l["default"].createElement(d["default"],{element:_,isPreview:!g,id:m}):y?l["default"].createElement("div",{className:"card-inner-link-box",onClick:this.handleInnerLink},l["default"].createElement(d["default"],{element:_,isPreview:!g,id:m})):l["default"].createElement("a",{href:b,target:"_blank"},l["default"].createElement(d["default"],{element:_,isPreview:!g,id:m})):g||""==s?l["default"].createElement("div",{className:"prd-web-panel",style:v},l["default"].createElement("div",{className:"web-head-panel"},g?l["default"].createElement(c["default"],{text:"网页",type:"webView"}):undefined,l["default"].createElement("div",{className:"web-head-close-btn-box"})),l["default"].createElement("div",{className:"content-panel"},l["default"].createElement("div",{className:"content-bg-box"},l["default"].createElement("div",{className:"web-url-text"},s||"Web Page"))),a?l["default"].createElement(p["default"],{left:u,top:h,val:s,id:m,isEdit:a}):undefined):l["default"].createElement(f["default"],{width:r,height:o,url:w,isWeb:!0})},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"handleInnerLink",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleLinkHeader",null),t}(l["default"].Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(1511)),f=s(n(1165)),p=s(n(12)),h=s(n(91)),g=s(n(29)),y=s(n(10)),m=n(1166),_=function(e){function t(t){var n=e.call(this,t)||this,r=n.props.element,o=r.webUrl,a=r.webDesc;return n.state={isInnerLink:!1,webUrl:o,webDesc:a},n}return o(t,e),t.prototype.handleChangeLinkType=function(){var e=this.state.isInnerLink,t=this.props.element.id;g["default"].updateValById({id:t,updateVal:{isInnerLink:!e,webUrl:"",webDesc:"",linkUrl:""}}),y["default"].createData({type:"changeLinkType",name:"PRD 切换链接的格式",autoSaveType:"prd"}),this.setState({isInnerLink:!e,webUrl:"",webDesc:""})},t.prototype.handleUrlChange=function(e){var t=e.currentTarget.value;this.setState({webUrl:t})},t.prototype.handleDescChange=function(e){e.currentTarget.value.gblen()>200&&(e.currentTarget.value=e.currentTarget.value.slice(0,200),p["default"].show("链接名称不能超过200个字符")),this.setState({webDesc:e.currentTarget.value})},t.prototype.handleSubmit=function(e){var t=this.state,n=t.webUrl,r=t.webDesc,o=t.isInnerLink,a=this.props.id,i="",s="";""==n||(""==r?(i=n,s=n):(i=n,s=r)),this.setState({webUrl:i,webDesc:s}),m.setPrdWebUrl({webUrl:i,webDesc:s,isInnerLink:o},a)},t.prototype.render=function(){var e=this.props,t=e.element,n=t.webDesc,r=t.webUrl,o=t.width,a=t.height,i=t.isEdit,s=t.isInnerLink,c=(t.pageKey,t.linkUrl),p=(t.id,e.element),g=e.isPreview,y=this.state,m=y.isInnerLink,_=y.webUrl,v=y.webDesc,b="",w="",C="";return c&&(b=h["default"].getPrdStructById(c).title),s?(C=""!=c?b:"双击添加链接地址",w=""!=c?b:"这是一个链接名称"):(C=""==r?"双击添加链接地址":r,w=""==r?"这是一个链接名称":""!=n?n:r),l["default"].createElement("div",{className:u["default"]("web-card-panel",{"is-preview":g}),style:{width:o,height:a}},l["default"].createElement("div",{className:"web-left-column-line"}),l["default"].createElement("div",{className:"web-center-info-box"},l["default"].createElement("div",{className:"web-info-box"},l["default"].createElement("div",{className:"web-title"},w),l["default"].createElement("div",{className:"web-url"},C))),l["default"].createElement("div",{className:"insert-url-btn-box"},l["default"].createElement("div",{className:u["default"]("btn-icon",{"is-inner-link":s||m})})),i?l["default"].createElement("div",{className:"web-card-input-panel"},l["default"].createElement(d["default"],{handleChangeLinkTypeFunc:this.handleChangeLinkType,isInnerLink:s||m,element:p,handleUrlChange:this.handleUrlChange,handleDescChange:this.handleDescChange,url:_,desc:v,handleSubmit:this.handleSubmit})):undefined,(s||m)&&i?l["default"].createElement(f["default"],null):undefined)},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"handleChangeLinkType",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleUrlChange",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleDescChange",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleSubmit",null),t}(l["default"].Component);t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(11)),f=l(n(91)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.input=null,n.state={webUrl:n.props.element.webUrl,webDesc:n.props.element.webDesc},n}return o(t,e),t.prototype.componentDidMount=function(){this.input.focus()},t.prototype.handleClearUrl=function(){this.setState({webUrl:""})},t.prototype.handleMouseDown=function(e){$(e.currentTarget).focus()},t.prototype.handleBlur=function(e){var t=this;setTimeout(function(){var n=!0;$(".web-input").forEach(function(e){$(e).is(":focus")&&(n=!1)}),n&&t.props.handleSubmit&&t.props.handleSubmit(e)},0)},t.prototype.render=function(){var e=this,t=e.props,n=t.isInnerLink,r=t.handleChangeLinkTypeFunc,o=t.element,i=o.linkUrl,s=(o.id,t.url),l=void 0===s?"":s,c=t.desc,p=void 0===c?"":c,h=t.handleUrlChange,g=void 0===h?$.noop:h,y=t.handleDescChange,m=void 0===y?$.noop:y,_=t.handleSubmit,v=(void 0===_&&$.noop,t.handleBlur),b=(void 0===v&&$.noop,"");return i&&(b=f["default"].getPrdStructById(i).title),u["default"].createElement("div",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},className:"web-url-input-panel"},u["default"].createElement("div",{className:"title-input-box web-url-input"},u["default"].createElement("div",{className:"icon-box"},u["default"].createElement("div",{className:"title-icon"})),u["default"].createElement("input",a({className:"web-input",placeholder:"请输入链接文案",autoComplete:"off",autoFocus:!0,autoCorrect:"off",spellCheck:!1,onChange:n?$.noop:m,value:n?b:p,onBlur:this.handleBlur},n?{disabled:!0}:{},{onMouseDown:this.handleMouseDown}))),u["default"].createElement("div",{className:"url-input-box web-url-input"},u["default"].createElement("div",a({className:"icon-box url-link-icon a_c",onClick:r},$.addHoverData({text:(n?"内":"外")+"部链接",direction:"right",changePosi:-20,changeOtherPosi:-3})),u["default"].createElement("div",{className:d["default"]("outer-link-icon prd-document-icons",{"is-inner-link":n})}),u["default"].createElement("div",{className:d["default"]("scroll-arrow-icon prd-document-imgs",{"is-inner-link":n})})),u["default"].createElement("input",a({className:d["default"]("web-input",{"have-input-val":l}),placeholder:n?"请添加链接页面目录":"输入链接，回车确认",autoComplete:"off",autoCorrect:"off",ref:function(t){return e.input=t},spellCheck:!1,onChange:n?$.noop:g,onBlur:this.handleBlur,value:n?b:l},n?{disabled:!0}:{},{onMouseDown:this.handleMouseDown}))),u["default"].createElement("div",{className:"input-triangle"}),u["default"].createElement("div",{className:"triangle-border"}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"handleClearUrl",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"handleMouseDown",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"handleBlur",null),t}(u["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(866)),d=s(n(953)),f=n(224),p=n(326),h=n(957),g=s(n(29)),y=s(n(91)),m=s(n(34)),_=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={arr:f.getPrdAllStructDataArr()},n}return o(t,e),t.prototype.selectPage=function(e){var t=this.props.id,n=e.currentTarget.getAttribute("data-id"),r=g["default"].getPrdElementById(t).type;"page"==y["default"].getPrdStructById(n).type&&("text"==r?p.textBindLinkPageById(t,n):p.webBindLinkPageById({id:t,pageId:n}))},t.prototype.changeData=function(e){var t=this.state.arr,n=h.handleChangeFoldData(e,t);this.setState({arr:n}),e.preventDefault(),e.stopPropagation()},t.prototype.render=function(){var e=this.props.id,t=this.state.arr,n="",r=g["default"].getPrdElementById(e),o=r.linkUrl;"text"!=r.type?n=o:n=m["default"].getLinkInput().innerLink;return l["default"].createElement("div",{onMouseDown:this.changeData,className:"page-menu-list-panel"},l["default"].createElement(c["default"],{placeholder:"搜索页面…",searchType:"link"}),l["default"].createElement(d["default"],{arr:t,selectKey:n,searchType:"link",selectArr:[n],clickFunc:this.selectPage,isLink:!0,isContainer:!0,showArr:[]}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"selectPage",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"changeData",null),t}(l["default"].Component));t["default"]=_},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=window,a=o.$,i=(o.isMac,n(10)["default"]),s=n(1514),l=n(1515),u=n(1516),c=n(894),d=r(n(91));function f(e,t){var n=[["复制并粘贴",function(){u.duplicateStructById({id:t}),i.createData({type:"copyAndPastePrd",name:"PRD 复制并粘贴目录",autoSaveType:"prd"})}],["删除",function(){l.deleteSelectStruct(t),i.createData({type:"deletePrd",name:"PRD 删除目录",autoSaveType:"prd"})},undefined,!0],["创建文件夹",function(){s.createFoldByPosi(t),i.createData({type:"createPrdFolder",name:"PRD 创建文件夹",autoSaveType:"prd"})}]],r=["重命名",function(){var e=a('.drag-page-comp[data-id="'+t+'"] .readonly-input')[0];e&&setTimeout(function(){a(e).dblclick()},0)},undefined,!0],o=["创建页面",function(){s.createPageByPosi(t),i.createData({type:"contextCreatePrd",name:"PRD 右键创建文档",autoSaveType:"prd"})}],f=["添加子文件夹",function(){c.createChildFolder({},t),i.createData({type:"createChildrenPrdFolder",name:"PRD 创建子文件夹",autoSaveType:"prd"})}],p=["添加子页面",function(){c.createChildPage({},t),i.createData({type:"createChildrenPrd",name:"PRD 创建子页面",autoSaveType:"prd"})}],h=["用选中项创建文件夹("+e+")",function(){s.createFoldAsParent(t),i.createData({type:"createFolderBySelectPrd",name:"PRD 根据选中项创建文件夹",autoSaveType:"prd"})}];1==e?(n.splice(2,0,r),"page"==d["default"].getPrdStructById(t).type?n.push(o):n.push(f,o,p)):n.splice(3,1,h);return n}t.getContentArr=f,t["default"]={getContentArr:f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window,o=r.$,a=(r.isMac,n(894)),i=n(224),s=n(867),l=n(867);function u(e){a.createFolder({vals:{},changeHierarchyFunc:function(t){s.createInHierarchyPosiAfter({id:e,createId:t})}})}function c(e){a.createPage({vals:{},changeHierarchyFunc:function(t){s.createInHierarchyPosiAfter({id:e,createId:t})}})}function d(e){a.createFolder({vals:{},changeHierarchyFunc:function(t){s.createInHierarchyPosiAfter({id:e,createId:t}),o(".drag-page-comp.current-page-comp:not(.is-parent-select)").forEach(function(e){var n=e.getAttribute("data-id"),r=i.findStructInHierarchy({structId:n}),o=r.indexOf(n);r.splice(o,1),l.addKeyToStructHierarchy({structId:t,createId:n})})}})}t.createFoldByPosi=u,t.createPageByPosi=c,t.createFoldAsParent=d,t["default"]={createFoldByPosi:u,createPageByPosi:c,createFoldAsParent:d}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(34)),a=r(n(91)),i=n(224),s=n(325),l=n(894);function u(e){var t=$(".drag-page-comp"),n=e.length,r=0,o="",i="";return t.forEach(function(e,t){var s=e.className,l=e.getAttribute("data-id"),u=a["default"].getPrdStructById(l).type;-1!=s.indexOf("current-page-comp")?r++:"page"==u&&-1==s.indexOf("is-parent-select")&&(i||(i=l),r!=n||o||(o=l))}),{nextId:o,firstId:i}}function c(e){var t=e.id,n=e.noEmit,r=void 0!==n&&n,o=a["default"].getPrdStructById(t);if(o){var i=o.type;"page"==i?d({id:t,noEmit:r}):"folder"==i&&f({id:t,noEmit:r})}}function d(e){var t=e.id,n=e.noEmit,r=void 0!==n&&n,o=i.findStructInHierarchy({structId:t});s.deleteAllLineByPageId({pageId:t,noEmit:!0}),s.deleteAllElementByPageId({pageId:t,noEmit:!0}),o&&o.length&&o.remove(t),a["default"].deleteStructById({id:t,noEmit:r})}function f(e){var t=e.id,n=e.noEmit,r=void 0!==n&&n,o=i.findStructInHierarchy({structId:t});p({id:t,noEmit:!0}),o&&o.length&&o.remove(t),a["default"].deleteStructById({id:t,noEmit:r})}function p(e){var t=e.id;e.noEmit;a["default"].getPrdStructById(t).pageHierarchy.forEach(function(e){c({id:e})})}t.getNewStructKey=u,t.deleteSelectStruct=function(e){var t=o["default"].getAllSelectArr();-1==t.indexOf(e)&&t.push(e);var n=u(t),r=n.nextId,a=n.firstId;t.forEach(function(e){c({id:e,noEmit:!0})}),r?(o["default"].setSelectStructKey(r,!0),o["default"].setSelectStructArr([r])):a?(o["default"].setSelectStructKey(a,!0),o["default"].setSelectStructArr([a])):l.createPage();var i=r||a;if(i){var s=$('.drag-page-comp[data-id="'+i+'"] .readonly-input')[0];s&&$(s).dblclick()}},t.deleteStructById=c,t.deletePageById=d,t.deleteFolderById=f,t.deleteAllPageByFolderId=p,t["default"]={deleteStructById:c,deletePageById:d,deleteFolderById:f}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(170),a=r(n(34)),i=r(n(91)),s=r(n(29)),l=r(n(67)),u=n(867),c=n(26);function d(e){var t=1,n=[],r=i["default"].getAllPrdStruct();for(var o in r){var a=r[o].title;n.push(a)}var s=/\((\d+)\)/.exec(e),l="";return l=s?e.replace(s[0],""):e,n.forEach(function(e){var n=e.split(l);if(n.length>1){var r=n[1].slice(1,n[1].length-1);Number(r)&&r>=t&&(t=Number(r)+1)}}),{title:l,times:t}}function f(e){var t=e.id,n=(e.noEmit,$(".drag-page-comp.current-page-comp:not(.is-parent-select)")),r=t,o=[];n.forEach(function(e,t){var n=e.getAttribute("data-id"),a=i["default"].getPrdStructById(n),s=a.type,l={},c=d(a.title),f=c.title,g=c.times;"page"==s?p({id:n,newIdObj:l,noEmit:!0,needNum:!0,times:g,actualTitle:f}):"folder"==s&&h({id:n,newIdObj:l,noEmit:!0,needNum:!0,times:g,actualTitle:f});var y=l[n];o.push(y),u.createInHierarchyPosiAfter({id:r,createId:y,noEmit:!0}),r=y}),a["default"].setTemporarySelectArr([],!0),a["default"].setSelectStructKey(o[0],!0),a["default"].setSelectStructArr(o,!0),i["default"].emitChange()}function p(e){var t=e.id,n=e.newIdObj,r=e.noEmit,a=void 0!==r&&r,u=e.needNum,d=void 0!==u&&u,f=e.times,p=void 0===f?0:f,h=e.actualTitle,g=void 0===h?"":h,y=$.extend(!0,{},i["default"].getPrdStructById(t)),m=o.generateUUID(),_=(y.title,y.elementHierarchy),v=[];_.forEach(function(e){var t=$.extend(!0,{},s["default"].getPrdElementById(e)),r=t.id,a=o.generateUUID();n[t.id]=a,t.id=a,t.pageId=m,s["default"].createElement(t,!0),v.push({oldId:r,newId:a})}),function(e,t){c.getAllLineByStructKey().forEach(function(n){var r=n.startKey,a=n.endKey,i=$.extend(!0,{},n),s=o.generateUUID();i.id=s,i.structKey=e,r&&t.some(function(e){var t=e.oldId,n=e.newId;return t==r&&(i.startKey=n,i.pageKey=n,!0)}),a&&t.some(function(e){var t=e.oldId,n=e.newId;return t==a&&(i.endKey=n,!0)}),l["default"].setLineLink(i)})}(m,v),n[y.id]=m,y.id=m,y.elementHierarchy=_.map(function(e){return n[e]}),d&&(y.title=g+"("+p+")"),i["default"].createStruct(y,a)}function h(e){var t=e.id,n=e.newIdObj,r=e.noEmit,a=void 0!==r&&r,s=e.needNum,l=void 0!==s&&s,u=e.times,c=void 0===u?0:u,d=e.actualTitle,f=void 0===d?"":d,g=$.extend(!0,{},i["default"].getPrdStructById(t)),y=o.generateUUID(),m=g.pageHierarchy;m.forEach(function(e){var t=i["default"].getPrdStructById(e).type;"page"==t?p({id:e,newIdObj:n,noEmit:a}):"folder"==t&&h({id:e,newIdObj:n,noEmit:a})}),n[g.id]=y,g.id=y,g.pageHierarchy=m.map(function(e){return n[e]}),l&&(g.title=f+"("+c+")"),i["default"].createStruct(g,a)}t.findCopyTimes=d,t.duplicateStructById=f,t.duplicatePageById=p,t.duplicateFolderById=h,t["default"]={duplicateStructById:f,findCopyTimes:d}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(11)),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.isWeb,n=void 0!==t&&t,r=e.setFullScreenFunc,o=void 0===r?$.noop:r,i=e.url,u=void 0===i?"":i;return s["default"].createElement("div",{className:l["default"]("full-screen-btn-panel",{"is-web":n})},s["default"].createElement("div",a({className:"btn-box a_c",onClick:o},$.addHoverData({text:"网页全屏"})),s["default"].createElement("div",{className:"full-screen-btn"})),n?s["default"].createElement("a",{href:u,target:"_blank"},s["default"].createElement("div",a({className:"btn-box a_c"},$.addHoverData({text:"新标签页打开"})),s["default"].createElement("div",{className:l["default"]("outer-jump-link-btn",{"is-web":n})}))):undefined)},t}(s["default"].Component);t["default"]=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(29)),d=s(n(10)),f=function(e){function t(t){var n=e.call(this,t)||this;return n.inputDom=null,n.state={inputVal:n.props.val},n}return o(t,e),t.prototype.handleInputChange=function(e){this.setState({inputVal:e.currentTarget.value})},t.prototype.saveUrl=function(){var e=this.state.inputVal,t=this.props.id;c["default"].updateValById({id:t,updateVal:{webUrl:e,isEdit:!1}}),d["default"].createData({type:"saveWebUrl",name:"PRD 保存修改的网页链接",autoSaveType:"prd"})},t.prototype.render=function(){var e=this,t=e.props,n=t.left,r=void 0===n?0:n,o=t.top,a=void 0===o?0:o,i=e.state.inputVal;return l["default"].createElement("div",{className:"prd-web-input",style:{left:r,top:a-57}},l["default"].createElement("div",{className:"input-box"},l["default"].createElement("input",{placeholder:"输入网址后按回车确认",autoComplete:"off",autoCorrect:"off",autoFocus:!0,spellCheck:!1,className:"url-input",onChange:e.handleInputChange,onBlur:e.saveUrl,value:i,ref:function(t){return e.inputDom=t}}),l["default"].createElement("div",{className:"little-triangle"}),l["default"].createElement("div",{className:"little-triangle-border"})))},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleInputChange",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"saveUrl",null),t}(l["default"].Component);t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(11)),d=s(n(6)),f=s(n(60)),p=s(n(1167)),h=s(n(1168)),g=n(865),y=n(958),m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.handleMouseDown=function(e){var t=this.props.element.id;g.dragElementCoverMove(e),y.PrdEditElementMove(e,t),$.stopPropagation(e)},t.prototype.render=function(){var e,t=this.props,n=t.element,r=n.width,o=n.height,a=n.oriWidth,i=n.symbolKey,s=n.isShowName,u=(n.showNameFunc,n.hasBorder),g=n.modifyTitle,y=n.id,m=t.element,_=i&&d["default"].getOneSymbolByLib(i);return _&&(e=f["default"].createContr(_,undefined,!0,undefined,"dragBase")),l["default"].createElement("div",{className:c["default"]({"prd-component-panel":!0,"no-background":_,"has-border":u}),style:{width:r,height:o,overflow:"hidden"},onMouseDown:this.handleMouseDown,"data-id":y},_?l["default"].createElement(l["default"].Fragment,null,s?l["default"].createElement(h["default"],{title:g||_.name,element:m}):undefined,l["default"].createElement("div",{className:"symbol-lib-item",style:{width:Math.round(_.width),height:Math.round(_.height),transform:"scale("+r/(a||r)+")"}},e)):l["default"].createElement(p["default"],{type:"组件",isDelete:i&&!_}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleMouseDown",null),t}(l["default"].Component);t["default"]=m},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(11)),d=l(n(3)),f=l(n(5)),p=l(n(29)),h=l(n(67)),g=l(n(10)),y=n(868),m=l(n(993)),_=l(n(1167)),v=l(n(1168)),b=l(n(1521)),w=l(n(1368)),C=n(501),x=n(501),S=n(325),P=n(865),k=n(958),O=l(n(34)),E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){this.fixData();var e=this.props.element,t=e.cutTop,n=e.id,r=$("#"+n)[0];r&&t&&0!=t&&(r.style.marginTop="-"+t+"px")},t.prototype.componentDidUpdate=function(){this.fixData()},t.prototype.fixData=function(){if(f["default"].getIsInit()){var e=this.props.element,t=e.id,n=e.remarkId,r=e.pageKey,o=r&&f["default"].getPages()[r];if(r&&!o)p["default"].updateValById({id:t,updateVal:{pageKey:null,autoDelete:!0},noEmit:!0}),this._deleteRemarkId(),g["default"].createData({type:"pageElementAutoFixData",name:"PRD 页面组件自动修复数据",autoSaveType:"prd"});else if(n){p["default"].getPrdElementById(n)||(this._deleteRemarkId(),g["default"].createData({type:"pageElementAutoFixRemarkData",name:"PRD 页面组件自动修复关联备注数据",autoSaveType:"prd"}))}}},t.prototype._deleteRemarkId=function(){var e=this.props.element,t=e.id,n=e.remarkId,r=e.lineId;(n||r)&&(n&&S.deleteElementByIdArr({keyArr:[n]}),h["default"].deleteLine(r),p["default"].updateValById({id:t,updateVal:{remarkId:null,lineId:null}}),O["default"].emitChange())},t.prototype.handleMouseDown=function(e){var t=this.props.element.id;P.dragElementCoverMove(e),k.PrdEditElementMove(e,t),$.stopPropagation(e)},t.prototype.render=function(){var e,t=this.props,n=t.element,r=n.id,o=n.width,i=n.height,s=n.pageKey,l=n.isShowName,d=n.hasBorder,p=n.borderType,h=void 0===p?"normal-border":p,g=n.phoneShellType,S=void 0===g?"iPhone6":g,P=n.cutTop,k=void 0===P?0:P,O=n.modifyTitle,E=void 0===O?"":O,T=n.autoDelete,M=n.remarkId,D=t.element,A=d&&"phone-border"==h,j=y.phoneShellConfig[S],I=j.radius,L=void 0===I?0:I,R=(j.height,j.width,"#f0f0f0"),B="",N={};if(A){var F=y.phoneShellConfig[S],H=F.topEdge,$=F.height,z=F.width,U=F.horizEdge,V={topEdge:H,bottomEdge:F.bottomEdge,horizEdge:U,phoneWidth:z,phoneHeight:$};N=x.getPhoneContentSize({width:o,height:i,shellElement:V})}var K=N.width,G=N.height,q=N.shellW,W=N.shellTop,Y=d&&"phone-border"==h,X=(window.isPrototypeTool,(Y?K:o)/window.phoneSize.width);if(s)if(window.isPrototypeTool){var Z=f["default"].getPages(),J=f["default"].getView(),Q=Z[s];if(Q){var ee={activePage:s,view:J,viewMode:J.mode,pages:Z,page:Q,pageSelect:Q.isSelect,pagePosi:[Q.left,Q.top],phoneConBoxPos:{left:0,top:0},prdShow:!0,isCanvas:!1,pageHeight:(i+k)/X};R=Q.backColor,B=Q.name,e=u["default"].createElement("div",{className:"page-container",style:{transform:"scale("+X+")",top:-k}},u["default"].createElement(m["default"],a({},ee)))}}else{var te,ne;window.pages.some(function(e,t){e.key==s&&(te=e,ne=t)}),te&&(B=te.name,e=u["default"].createElement(w["default"],{key:te.key,index:ne,page:te,fromPrd:!0,scale:X}))}return u["default"].createElement("div",{className:"prd-page-container",onMouseDown:this.handleMouseDown,"data-id":r},"phone-border"==h?u["default"].createElement(b["default"],{element:D}):undefined,u["default"].createElement("div",{className:c["default"]("prd-page-panel",{"is-phone-border":A,"has-border":d&&"phone-border"!=h,"is-preview-page":!window.isPrototypeTool,"is-iPhone5":"iPhone5"==S&&A,"is-iPhone6":"iPhone6"==S&&A,"is-iPhone6s":"iPhone6s"==S&&A,"is-iPhoneX":"iPhoneX"==S&&A,"is-SamsungS8":"SamsungS8"==S&&A,"is-Mix":"Mix"==S&&A,"is-Mix2":"Mix2"==S&&A,"is-android":"android"==S&&A,"not-open-remark":null==M}),style:a({},A?{left:q,top:W,borderRadius:L}:{},{background:R,width:Y?K:o,height:Y?G:i})},e?window.isPrototypeTool?e:u["default"].createElement("div",{id:r,style:{position:"absolute",left:0,right:0,top:0,bottom:0}},e):u["default"].createElement(_["default"],{type:"页面",isDelete:T})),l&&e?u["default"].createElement(v["default"],{title:E||B,element:D}):undefined,k>0&&window.isPrototypeTool?u["default"].createElement("div",{className:"recover-clip-btn-box",onClick:C.handleRecoverClip},u["default"].createElement("div",{className:"recover-clip-icon"})):undefined)},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"fixData",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_deleteRemarkId",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"handleMouseDown",null),t}(u["default"].Component);t["default"]=E},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=n(868),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.element,t=e.phoneShellType,n=void 0===t?"iPhone6":t,r=e.width,o=e.height,a=s.phoneShellConfig[n],l=a.horizEdge,u=r/(a.width+2*l);return i["default"].createElement("div",{className:"prd-page-phone-shell-panel "+n+"-panel",style:{height:o/u,width:r/u,transform:"scale("+u+")",transformOrigin:"0 0"}},i["default"].createElement("div",{className:"phone-head-img "+n+"-head"}),i["default"].createElement("div",{className:"phone-body-img "+n+"-body"}),i["default"].createElement("div",{className:"phone-footer-img "+n+"-footer"}))},t}(i["default"].Component);t.PrdPagePhoneShellPanelComp=l,t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=a(n(42)),u=a(n(898)),c=window.isPrototypeTool,d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.element,t=e.width,n=e.height,r=e.previewMode,o=void 0===r?"all":r,a=c?"":l["default"].getPreviewInfo().view.id;return c?i["default"].createElement("div",{className:"preview-panel",style:{width:t,height:n}},"all"==o?i["default"].createElement("div",null,i["default"].createElement("div",{className:"left-list-panel"}),i["default"].createElement("div",{className:"list-bg-box"})):undefined,i["default"].createElement("div",{className:s["default"]("center-content-panel",{"is-web":window.isPc})},i["default"].createElement("div",{className:"phone-page-img"})),"all"==o?i["default"].createElement("div",null,i["default"].createElement("div",{className:"right-list-panel"}),i["default"].createElement("div",{className:"list-bg-box"})):undefined,i["default"].createElement("p",{className:"head-tips-text"},"为提升文档流畅度，此图暂显示为示意图，预览时显示为实际交互原型")):i["default"].createElement(u["default"],{width:t,height:n,url:"https://www.xiaopiu.com/h5/byId?type=project&id="+a+("all"!=o?"&simple=true":"")+"&inprd=true"})},t}(i["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(49)),d=s(n(42)),f=s(n(956)),p=s(n(898)),h=n(865),g=n(958),y=s(n(29)),m=window.isPrototypeTool,_=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.handleMouseDown=function(e){var t=this.props.element.id;h.dragElementCoverMove(e),g.PrdEditElementMove(e,t),$.stopPropagation(e)},t.prototype.render=function(){var e=this.props.element,t=e.width,n=e.height,r=e.pageFlowId,o=e.id,a=m?"":d["default"].getPreviewInfo().view.id,i="";if(r&&m)if("all"==r)i="所有页面流程";else{var s=c["default"].getOnePageFlow(r);s||y["default"].updateValById({id:o,updateVal:{pageFlowId:null},noEmit:!0}),i=s?s.title:"所有页面流程"}return m?l["default"].createElement("div",{className:"page-flow-panel",style:{width:t,height:n},onMouseDown:this.handleMouseDown,"data-id":o},l["default"].createElement("div",{className:"preview-title-text"},l["default"].createElement("div",{className:"pageflow-title"},i),l["default"].createElement("div",{className:"pageflow-tips"},"页面流程")),l["default"].createElement(f["default"],{text:"流程图",top:0}),l["default"].createElement(l["default"].Fragment,null,l["default"].createElement("div",{className:"preview-default-bg-img"}),l["default"].createElement("div",{className:"preview-default-bg-img"}))):l["default"].createElement(p["default"],{width:t,height:n,url:"https://www.xiaopiu.com/h5/byId?type=project&id="+a+"&multi=true&inprd=true"+(r?"&pageflow="+r:"")})},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleMouseDown",null),t}(l["default"].Component);t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(42)),l=a(n(956)),u=a(n(898)),c=window.isPrototypeTool,d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.element,t=e.width,n=e.height,r=c?"":s["default"].getPreviewInfo().view.id;return c?i["default"].createElement("div",{className:"page-flow-panel",style:{width:t,height:n}},i["default"].createElement(l["default"],{text:"固定模式视图",top:20}),i["default"].createElement("div",{className:"preview-fixed-default-bg-img"})):i["default"].createElement(u["default"],{width:t,height:n,url:"https://www.xiaopiu.com/h5/byId?type=project&id="+r+"&multi=true&fixed=true&inprd=true"})},t}(i["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(29)),d=s(n(1169)),f=s(n(3)),p=n(901),h=n(325),g=n(847),y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){e.setState({})},0)},t.prototype.componentWillUpdate=function(){var e=this.props.element,t=e.id,n=e.pageKey,r=e.pageId,o=n||r,a=c["default"].getPrdElementById(o);if(a)return!n&&r&&c["default"].updateValById({id:t,updateVal:{pageKey:r,pageId:a.pageId},noEmit:!0}),!1;h.deleteElementByIdArr({keyArr:[t],noEmit:!0})},t.prototype._pageNoteClick=function(e){g.prdEditInit(),$.tipHide()},t.prototype.handleHoverAndBlur=function(e,t){var n,r=this.props.element.pageKey,o=e.currentTarget,a=o.getAttribute("data-idx"),i=o.getAttribute("data-contr");a?$('.prd-page-container[data-id="'+r+'"] .note-box .note').forEach(function(e){e.innerText==a&&(n=$(e).parent()[0])}):i&&(n=$('.prd-page-container[data-id="'+r+'"] .contr-note-box[data-name="'+i+'"]')[0]);n&&(t?($.hasClass(n,"hover")||$.addClass(n,"hover"),$.hasClass(o,"hover")||$.addClass(o,"hover")):($.hasClass(o,"hover")&&$.removeClass(o,"hover"),$.hasClass(n,"hover")&&$.removeClass(n,"hover")))},t.prototype.handleHoverNote=function(e){this.handleHoverAndBlur(e,!0)},t.prototype.handleLeaveNote=function(e){this.handleHoverAndBlur(e,!1)},t.prototype.render=function(){var e=this,t=this.props.element,n=t.width,r=t.height,o=t.pageKey,a=t.pageId,i=(t.type,o||a),s=i&&c["default"].getPrdElementById(i);if(!s)return null;var f=p.getNodeList(s),h=f.pageNoteList,g=f.contrNoteList,y=0==h.length&&0==g.length,m=h.length>0&&g.length>0;return l["default"].createElement("div",{className:u["default"]("prd-page-remarks-panel",{"is-remark-empty":y,"is-no-page-remarks":0==h.length}),style:y?{width:n,height:r}:{}},y?l["default"].createElement("div",{className:"empty-remarks-panel"},l["default"].createElement("div",{className:"empty-tips-icon"}),l["default"].createElement("div",{className:"empty-tips-text"},"当前页面没有备注信息")):l["default"].createElement(l["default"].Fragment,null,h.length>0?h.map(function(t,r){var o=t.content;return l["default"].createElement("div",{"data-idx":r+1,onMouseMove:e.handleHoverNote,onMouseLeave:e.handleLeaveNote,className:u["default"]("page-remarks-box",{"is-small-size":n<280}),key:"page-note"+r},l["default"].createElement("div",{className:"remarks-num-box"},l["default"].createElement("div",{className:"remarks-num"},r+1)),l["default"].createElement("div",{className:"remarks-text-panel"},l["default"].createElement("p",{className:"remarks-text"},""+o)))}):undefined,m?l["default"].createElement("div",{className:u["default"]("page-contr-separator-line",{"is-small-size":n<280})}):undefined,g.length>0?g.map(function(t,r){var o=t.name,a=t.content;return l["default"].createElement("div",{onMouseMove:e.handleHoverNote,onMouseLeave:e.handleLeaveNote,"data-contr":o,className:u["default"]("contr-remarks-box",{"is-small-size":n<280}),key:"contr-note"+r},l["default"].createElement("div",{className:"remarks-icon-box"},l["default"].createElement("div",{className:"remarks-icon"})),l["default"].createElement("div",{className:"remarks-text-panel"},l["default"].createElement("div",{className:"remarks-text contr-title"},o),l["default"].createElement("pre",{className:"remarks-text contr-content"},a)))}):undefined),l["default"].createElement(d["default"],{clickFunc:this._pageNoteClick,btnStyle:{right:5},type:"pageRemark"}))},a([f["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_pageNoteClick",null),a([f["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"handleHoverAndBlur",null),a([f["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleHoverNote",null),a([f["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleLeaveNote",null),t}(l["default"].Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=n(1527),l=a(n(1528)),u=a(n(1169)),c=n(899),d=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.element,n=t.type,r=t.isEdit,o=t.symbolKey,a=t.pageKey,d=e.element,f=s.getMenuListPos(d),p=f.listStyle,h=f.btnStyle,g=r&&("contr"==n||"pageflow"==n||"page"==n),y=r&&("contr"==n&&o||"pageflow"==n||"page"==n&&a);return i["default"].createElement(i["default"].Fragment,null,y?i["default"].createElement(u["default"],{clickFunc:c.editBtnClickFunc,btnStyle:h}):undefined,g?i["default"].createElement(l["default"],{menuStyle:p,element:d}):undefined)},t}(i["default"].Component));t["default"]=d},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(214));function i(e){var t,n,o=e.width,i=e.x,s=e.isEdit,l=a["default"].width-100;if(i+o==l)o/2>=275?(t={left:o-275},n={left:s?o-275-40-5:o-40-5}):o/2<275&&(l-o>=275?(t={left:-275},n={left:o-40-5}):(t={left:-o-5},n={left:5}));else if(i+o<l)if(l-i-o>=275)t={left:o+5},n={left:o-40-5};else if(l-i-o<275)if(o/2>=275)t={left:o-275},n={left:s?o-275-40-5:o-40-5};else if(o/2<275)if(i>275||l-i-o>275)i>275?(t={left:-275},n={left:o-40-5}):l-i-o>275&&(t={left:o+5},n={left:o-40-5});else{var u=i+o+275-5-l;t={left:o-u},n={left:s?o-u-5-40:o-40-5}}return{listStyle:r({},t),btnStyle:r({},n)}}t.getMenuListPos=i,t["default"]={getMenuListPos:i}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=n(899),f=n(899),p=l(n(1529)),h=l(n(1530)),g=l(n(1532)),y=l(n(1533)),m=l(n(1534)),_=l(n(1536)),v=l(n(1537)),b=l(n(846)),w=window.$,C=function(e){function t(t){var n=e.call(this,t)||this;return n.dom=null,n.state={marginTop:0,isCreating:!1,isTutorial:!1},n}return o(t,e),t.prototype.componentDidMount=function(){this.fixedTop(),b["default"].addChangeListener(this.onChange)},t.prototype.componentDidUpdate=function(){},t.prototype.componentWillUnmount=function(){b["default"].removeChangeListener(this.onChange)},t.prototype.onChange=function(){this.setState({})},t.prototype.fixedTop=function(){this.props.element.id;if(this.dom){var e=w.offset(this.dom,!0),t=e.top,n=e.height,r=w.offset(document.body,!0).height;t=Math.round(t),n=Math.round(n),r=Math.round(r),t<110?this.setState({marginTop:115-t}):t+n>r&&this.setState({marginTop:r-n-t-5})}},t.prototype.ref=function(e){this.dom=e},t.prototype.returnFunc=function(){this.setState({isCreating:!1,isTutorial:!1})},t.prototype.createFunc=function(){this.setState({isCreating:!0})},t.prototype.tutorialFunc=function(){this.setState({isTutorial:!0})},t.prototype.getCurrentMenuContent=function(e){e.id;var t=e.type,n=e.isCreating,r=e.isTutorial,o=void 0!==r&&r;e.isLink;switch(t){case"pageflow":return n?u["default"].createElement(m["default"],{type:t}):u["default"].createElement(g["default"],{selectFunc:f.pageFlowSelectFunc});case"page":return n?u["default"].createElement(m["default"],{type:t}):u["default"].createElement(y["default"],null);case"contr":return n?u["default"].createElement(m["default"],{type:t}):o?u["default"].createElement(v["default"],null):u["default"].createElement(_["default"],{selectFunc:f.contrSelectFunc});default:return null}},t.prototype.render=function(){var e=this.props,t=e.menuStyle,n=e.element,r=n.id,o=n.type,i=n.isLink,s=this.state,l=s.marginTop,c=s.isCreating,f=s.isTutorial;return u["default"].createElement("div",{className:"menu-list-container",ref:this.ref,style:a({top:l},t),onWheel:function(e){e.stopPropagation()}},u["default"].createElement(p["default"],{type:o,closeFunc:d.closeMenuFunc,returnFunc:this.returnFunc,isCreating:c,isTutorial:f,tutorialFunc:this.tutorialFunc}),u["default"].createElement("div",{className:"menu-body-panel"},this.getCurrentMenuContent({id:r,type:o,isCreating:c,isTutorial:f,isLink:i})),u["default"].createElement(h["default"],{type:o,createFunc:this.createFunc,tutorialFunc:this.tutorialFunc,isCreating:c,isTutorial:f}))},i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"onChange",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"fixedTop",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"ref",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"returnFunc",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"createFunc",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"tutorialFunc",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getCurrentMenuContent",null),t}(u["default"].Component);t["default"]=C},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(11)),u=n(897),c=window.$,d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.closeFunc,n=void 0===t?c.noop:t,r=e.returnFunc,o=void 0===r?c.noop:r,i=e.tutorialFunc,d=void 0===i?c.noop:i,f=e.isCreating,p=e.isTutorial,h=e.type,g=u.getTitleText(h);return s["default"].createElement("div",{className:"menu-head-panel"},f||p?s["default"].createElement("div",{className:"head-return-btn-panel",onClick:o},s["default"].createElement("div",{className:"return-btn-icon"}),s["default"].createElement("div",{className:"return-text"},"返回")):"contr"==h?s["default"].createElement("div",{className:l["default"]("head-title-text-panel")},s["default"].createElement("div",{className:"head-text"},"选择"+g),s["default"].createElement("div",a({className:"question-btn-icon a_c",onClick:d},c.addHoverData({text:"展示项目中创建的所有引用组件",direction:"bottom"})))):s["default"].createElement("div",{className:"head-text"},"选择"+g),s["default"].createElement("div",{className:"head-close-btn",onClick:n}))},t}(s["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(1531)),l=n(897),u=window.$,c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.isCreating,n=void 0===t||t,r=e.isTutorial,o=void 0!==r&&r,a=e.createFunc,c=void 0===a?u.noop:a,d=e.tutorialFunc,f=void 0===d?u.noop:d,p=e.type,h=l.getFooterText(p);return n||o?null:"contr"==p?i["default"].createElement(s["default"],{createFunc:c,tutorialFunc:f}):i["default"].createElement("div",{className:"menu-footer-panel"},i["default"].createElement("div",{className:"menu-footer-btn",onClick:c},"+创建新"+h))},t}(i["default"].Component);t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=window.$,l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.createFunc,n=void 0===t?s.noop:t,r=e.tutorialFunc,o=void 0===r?s.noop:r;return i["default"].createElement("div",{className:"contr-bottom-panel"},i["default"].createElement("div",{className:"add-new-contr-btn",onClick:n},"+创建新组件"),i["default"].createElement("div",{className:"import-other-contr-btn",onClick:o},"导入更多组件"))},t}(i["default"].Component);t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(49)),f=s(n(846)),p=n(26),h=s(n(866)),g=s(n(959)),y=window.$;var m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.getSearchText=function(e){var t=[],n=p.findSelectElement()[0].pageFlowId,r=this.props.selectFunc,o=void 0===r?y.noop:r,a=f["default"].getSearchFlowText();return e.forEach(function(e,r){var i=e.id,s=e.title,c=a&&y.searchIn(a,s,!0,!0);a&&-1==s.indexOf(a)||t.push(l["default"].createElement("div",{"data-id":i,className:u["default"]("single-list-box",{"is-select":n==i}),key:i,onClick:o},l["default"].createElement("div",{className:"single-list-icon"}),c?l["default"].createElement("div",{className:"list-text",dangerouslySetInnerHTML:{__html:c}}):l["default"].createElement("div",{className:"list-text"},s)))}),t},t.prototype.render=function(){var e=[{id:"all",title:"所有页面流程"}].concat((d["default"].getPageFlowList()||[]).map(function(e){return{id:e.id,title:e.title}})),t=this.getSearchText(e);return l["default"].createElement("div",{className:"page-flow-menu-list-panel"},l["default"].createElement(h["default"],{placeholder:"搜索流程…",searchType:"flow"}),l["default"].createElement("div",{className:"content-list-panel"},t,t.length?undefined:l["default"].createElement(g["default"],null)))},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"getSearchText",null),t}(l["default"].Component);t["default"]=m},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(866)),d=s(n(953)),f=n(26),p=n(85),h=n(899),g=n(957),y=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={pageListArr:n._getPageListArr(p.getStructHierarchy(!0))},n}return o(t,e),t.prototype._getPageListArr=function(e){void 0===e&&(e=[]);var t=this,n=[];return e.forEach(function(e){var r=e.type,o=e.name,a=e.key,i=e.folderHierarchy,s={type:r,title:o,id:r+"_"+a};"folder"==r&&(s.isFold=!1,s.pageHierarchy=t._getPageListArr(i)),n.push(s)}),n},t.prototype.changeData=function(e){var t=this.state.pageListArr,n=g.handleChangeFoldData(e,t);this.setState({pageListArr:n})},t.prototype.render=function(){var e=this.state.pageListArr,t=f.findSelectElement()[0].pageKey,n=void 0===t?-1:t;return l["default"].createElement("div",{onMouseDown:this.changeData,className:"page-menu-list-panel"},l["default"].createElement(c["default"],{placeholder:"搜索页面…",searchType:"containerStruct"}),l["default"].createElement(d["default"],{isContainer:!0,arr:e,clickFunc:h.pageSelectFunc,selectKey:"page_"+n,selectArr:["page_"+n],searchType:"containerStruct",showArr:e}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_getPageListArr",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"changeData",null),t}(l["default"].Component));t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(12)),f=n(1535),p=function(e){function t(t){var n=e.call(this,t)||this;return n.input=null,n.state={inputValue:""},n}return o(t,e),t.prototype.getInputDefaultTitle=function(e){switch(e){case"pageflow":return"页面流程";case"page":return"页面";case"contr":return"引用组件";default:return""}},t.prototype.handleInputChange=function(e){e.currentTarget.value.gblen()>24&&(e.currentTarget.value=e.currentTarget.value.slice(0,24),d["default"].show("长度不能超过24个字符")),this.setState({inputValue:e.currentTarget.value})},t.prototype.onSubmitInputValue=function(){var e=this.state.inputValue;""!=e&&f.prdEditCreate({name:e})},t.prototype.render=function(){var e=this.props.type,t=this.state.inputValue,n=this.getInputDefaultTitle(e);return l["default"].createElement(l["default"].Fragment,null,l["default"].createElement("input",{className:"page-flow-title-input-panel",placeholder:"请输入"+n+"名称",autoComplete:"off",autoCorrect:"off",spellCheck:!1,onChange:this.handleInputChange,value:t}),l["default"].createElement("div",{className:u["default"]("create-page-flow-btn-panel",{"is-have-input-value":""!=t}),onClick:this.onSubmitInputValue},"创建并前往编辑"))},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"getInputDefaultTitle",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleInputChange",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onSubmitInputValue",null),t}(l["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(6)),i=r(n(29)),s=r(n(10)),l=r(n(885)),u=n(26),c=n(847),d=n(836),f=n(85),p=n(154),h=n(204),g=n(635);function y(e){var t=e.name,n=(e.noEmit,u.findSelectElement()[0]),r=n.type,y=n.id;if("contr"==r){var m=l["default"].createSymbol({Nums:a["default"].getNums(),contrArr:[],symbolContrs:a["default"].getSymbolContr(),widthHeight:[150,150],name:t});i["default"].updateValById({id:y,updateVal:{width:150,height:150,oriWidth:150,oriHeight:150,symbolKey:m}})}else if("page"==r){var _=o["default"].getView(),v=h.getNewPagePosi();p.pageCreate({options:v,name:t,isShow:!1},!1,!0),f.addStructPageInFolder(),i["default"].updateValById({id:y,updateVal:{pageKey:_.total}}),s["default"].createData({type:"prdEditCreatePage",name:"PRD页面组件创建新页面",autoSaveType:"prd"}),s["default"].createData({type:"createPage",name:"[页面 "+t+"] 创建",handleObjType:"page",autoSaveType:"changePages"}),setTimeout(function(){g.selectPage("",_.total,!1)},0)}else if("pageflow"==r){o["default"].selectChange([],!0);var b=d.createPageFlow({name:t}).id;i["default"].updateValById({id:y,updateVal:{pageFlowId:b}})}c.prdEditInit()}t.prdEditCreate=y,t["default"]={prdEditCreate:y}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(6)),f=s(n(846)),p=s(n(60)),h=s(n(866)),g=s(n(959)),y=window.$;var m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isCopyIconShow:!1,currentIndex:-1},n}return o(t,e),t.prototype.showCopyIcon=function(e){this.setState({isCopyIconShow:!0,currentIndex:e})},t.prototype.hideCopyIcon=function(){this.setState({currentIndex:-1,isCopyIconShow:!1})},t.prototype.handleCopyFunc=function(e){var t=e.currentTarget.getAttribute("data-key");t&&d["default"].getOneSymbolByLib(t);y.stopPropagation(e)},t.prototype.renderContr=function(e){var t=this,n=t.state,r=n.isCopyIconShow,o=(n.currentIndex,t.props.selectFunc),a=void 0===o?y.noop:o,i=f["default"].getSearchContrText(),s=[];return e.forEach(function(e,n){var o=e.name,c=e.width,d=e.height,f=e.key,h=p["default"].createContr(e,undefined,!0,undefined,"dragBase"),g={width:Math.round(c),height:Math.round(d)};if(c>100||d>100){var m=100/Math.max(c,d);g.transform="translate3d(-50%, -50%, 0) scale("+m+")"}var _=i&&y.searchIn(i,o,!0,!0);-1==o.indexOf(i)&&i||s.push(l["default"].createElement("div",{className:"single-contr-box",key:"contr"+n},l["default"].createElement("div",{"data-key":f,className:u["default"]("single-contr-img-box",{"is-mouse-hover":r}),onMouseMove:function(){return t.showCopyIcon(n)},onMouseLeave:t.hideCopyIcon,onClick:a},l["default"].createElement("div",{className:"symbol-lib-item",style:g},h)),_?l["default"].createElement("div",{className:"single-contr-name",dangerouslySetInnerHTML:{__html:_}}):l["default"].createElement("div",{className:"single-contr-name"},o)))}),s},t.prototype.render=function(){var e=function(){var e=d["default"].getSymbolContr().symbols,t=[];for(var n in e){var r=d["default"].getOneSymbolByLib(n);t.push(r)}return t}(),t=this.renderContr(e);return e.length>0?l["default"].createElement("div",{className:"contr-menu-list-container"},l["default"].createElement(h["default"],{placeholder:"搜索组件…",searchType:"contr"}),l["default"].createElement("div",{className:"contr-menu-list-panel"},t,t.length?undefined:l["default"].createElement(g["default"],null))):l["default"].createElement("div",{className:"empty-contr-tips-panel"},l["default"].createElement("div",{className:"empty-contr-img-tips"}),l["default"].createElement("pre",{className:"empty-contr-text-tips"},"无可用的引用组件\n创建新组件或导入更多组件"))},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"showCopyIcon",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"hideCopyIcon",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleCopyFunc",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"renderContr",null),t}(l["default"].Component);t["default"]=m},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(6)),l=n(847),u=window.$,c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){return i["default"].createElement("div",{className:"import-contr-tutorial-panel"},i["default"].createElement("div",{className:"tutorial-title"},"如何导入更多组件"),i["default"].createElement("div",{className:"tutorial-brief-answer"},"将组件创建为引用组件后可自动导入。"),i["default"].createElement("div",{className:"answer-step-text"},"1. 前往",i["default"].createElement("span",{className:"key-tips-text"},"【项目编辑页】"),"选中组件"),i["default"].createElement("div",{className:"check-contr-example-img"}),i["default"].createElement("div",{className:"answer-step-text"},"2. 在右侧面板，创建引用"),i["default"].createElement("div",{className:"quote-contr-demo-box"},i["default"].createElement("span",null,"引用"),i["default"].createElement("div",{className:"quote-contr-demo-img"})),i["default"].createElement("div",{className:"bottom-setting-btn",onClick:function(){l.prdEditInit(!1,"createSymbol"),setTimeout(function(){s["default"].selectChange([]),u("#symbolLibLabel").click()},0)}},"去编辑页设置"))},t}(i["default"].Component);t["default"]=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=n(857),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={val:[]},n}return o(t,e),t.prototype.handleChange=function(){var e=$(".markdown-textarea")[0].value.split("\n"),t=[],n={};e.forEach(function(e){var r=e.trim();if(r)if("*"==r[0])$.isEmptyObj(n)?n={contrlist:[]}:(t.push(n),n={contrlist:[]});else if("| **"==r.slice(0,4)){var o=r.split("|").filter(function(e){return!!e.trim()}).map(function(e){return e.trim().replace(/[*]/g,"")});n.keylist=o}else if("| "==r.slice(0,2)){var a=r.split("|");a.splice(0,1),n.contrlist.push(a)}}),t.push(n);t.forEach(function(e){var t=e.keylist,n=e.contrlist,r={},o={child:r},a=[],i=[48];t.forEach(function(e,t){r[t+"_0"]={text:{content:e}},a.push(900/7)});var s=900/7*t.length;$.extend(!0,o,{columnPosi:a,width:s}),n.forEach(function(e,t){i.push(48),e.forEach(function(e,n){r[n+"_"+(t+1)]={text:{content:e}}})});var l=48*(n.length+1);$.extend(!0,o,{linePosi:i,height:l}),c.createElementByInsert("table","table",o)})},t.prototype.render=function(){return l["default"].createElement("div",{style:{position:"absolute",top:0,left:0,width:200,height:200}},l["default"].createElement("div",{style:{position:"absolute",right:-40},onClick:this.handleChange},"转换"),l["default"].createElement("textarea",{className:"markdown-textarea",style:{width:"100%",height:"100%",border:"1px solid #000"}}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"handleChange",null),t}(l["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(505)),c=s(n(3)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state=n.getState(),n}return o(t,e),t.prototype.getState=function(){return{renderChange:this.state?this.state.renderChange+1:0,prdDragSelectSet:u["default"].getPrdDragSelectSet()}},t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){u["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){u["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState(this.getState())},t.prototype.render=function(){var e=this.state.prdDragSelectSet.pos,t=e.x,n=e.y,r=e.w,o=e.h;return 0==r&&0==o?null:l["default"].createElement("div",{className:"prd-drag-select",style:{left:r<0?t+r:t,top:o<0?n+o:n,width:Math.abs(r),height:o?Math.abs(o):"auto"}})},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"getState",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component);t.PrdDragSelectComp=d,t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(437)),l=a(n(67)),u=a(n(34)),c=a(n(1163)),d=n(26),f=n(1164),p=n(869),h=a(n(97)),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=d.findSelectElement(),t=l["default"].getPrdSelectArr();if(0==e.length||s["default"].isShow())return null;var n=h["default"].getAllLinePointPosi(),r=p.getSeveralElementPos(e,!1,n),o=e[0],a=o.type,g=o.webMode,y=u["default"].getCursor();return i["default"].createElement(c["default"],{dragType:"text"==a||"webView"==a&&"card"==g?"lr":"all",stylePos:r,noDragSpot:e.length+t.length>1||"line"==y,dragFunc:f.prdDragSpotFunc,type:a})},t}(i["default"].Component);t.PrdElementDragContainerComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(29)),c=s(n(67)),d=n(145),f=s(n(3));var p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.renderAdsorbPoint=function(e,t){var n,r,o,a=e.x,i=void 0===a?0:a,s=e.y,u=void 0===s?0:s,c=e.width,f=void 0===c?0:c,p=e.height,h=void 0===p?0:p;return i+=d.elementCanvasBaseVal.OFFSET_X,n=t,r=[],o=["top","down","left","right"],[[i+f/2,u],[i+f/2,u+h],[i,u+h/2],[i+f,u+h/2]].forEach(function(e,t){var a=e[0],i=e[1];r.push(l["default"].createElement("div",{className:"adsorb-point",key:a+"|"+i+"adsorb",style:{top:i,left:a}}),l["default"].createElement("div",{"data-posi":o[t],className:"adsorb-extend-point","data-id":n,key:a+"|"+i+"adsorb-extend",style:{top:i,left:a}}))}),r},t.prototype.render=function(){var e=this,t=c["default"].getHoverIdArr();return t.length?l["default"].createElement(l["default"].Fragment,null,t.map(function(t){var n=u["default"].getPrdElementById(t);return e.renderAdsorbPoint(n,t)})):null},a([f["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"renderAdsorbPoint",null),t}(l["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(3)),f=l(n(896)),p=window.$,h=0,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,adhereLineData:f["default"].getPrdAdhereLineData()},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.state.renderChange!==t.renderChange},t.prototype.componentDidMount=function(){f["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){f["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({renderChange:this.state.renderChange+1,adhereLineData:f["default"].getPrdAdhereLineData()})},t.prototype._getAdhereLines=function(){var e=this.state.adhereLineData,t=[],n=p.offset(p.getElById("editorContentPanel")),r=n.left,o=n.top;for(var a in r+=50,e.x)e.x[a].forEach(function(e){var n=e.dragPosi,a=e.otherPosi,i=e.otherKey,s=Math.min(n.yTop,a.yTop),l=Math.max(n.yBottom,a.yBottom);t.push(u["default"].createElement(c.Line,{key:h++,points:[a[i]+r,s+o,a[i]+r,l+o],strokeWidth:1,stroke:"#f56464"}))});for(var a in e.y)e.y[a].forEach(function(e){var n=e.dragPosi,a=e.otherPosi,i=e.otherKey,s=Math.min(n.xLeft,a.xLeft),l=Math.max(n.xRight,a.xRight);t.push(u["default"].createElement(c.Line,{key:h++,points:[s+r,a[i]+o,l+r,a[i]+o],strokeWidth:1,stroke:"#f56464"}))});return t},t.prototype.render=function(){var e=p.getWinSize(),t=e.width,n=e.height;return u["default"].createElement(c.Stage,a({key:"canvasAllPage",className:"prd-adhere-line-panel"},{width:t,height:n}),u["default"].createElement(c.Layer,{id:"canvasLayer"},this._getAdhereLines()))},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onChange",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_getAdhereLines",null),t}(u["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(11)),f=l(n(3)),p=l(n(146)),h=l(n(67)),g=l(n(34)),y=l(n(1174)),m=n(1175),_=n(145),v=window.$,b=_.elementCanvasBaseVal.OFFSET_X,w=_.elementCanvasBaseVal.TOP_DISTANCE,C=function(e){function t(t){var n=e.call(this,t)||this;return n.time=null,n.state={canvasCursor:p["default"].getCursor(),scrollTop:g["default"].getScrollTop()},n}return o(t,e),t.prototype.componentDidMount=function(){p["default"].addChangeListener(this._onCursorChange),g["default"].addScrollChangeListener(this._onCursorChange),h["default"].addMoveChangeListener(this._onCursorChange)},t.prototype.componentWillUnmount=function(){p["default"].removeChangeListener(this._onCursorChange),g["default"].removeScrollChangeListener(this._onCursorChange),h["default"].removeMoveChangeListener(this._onCursorChange),clearTimeout(this.time)},t.prototype._onCursorChange=function(){this.setState({canvasCursor:p["default"].getCursor(),scrollTop:g["default"].getScrollTop()})},t.prototype.renderAgain=function(){var e=this;this.time=setTimeout(function(){e.setState({})},200)},t.prototype.render=function(){var e,t=this.props.isPreview,n=this.state.canvasCursor,r=v.getWinSize(),o=r.width,i=r.height,s=v(".prd-editor-container")[0],l=v(".prd-content-text")[0],f=s||l,p=f&&v.offset(f,!0)||{};if(!f)return this.renderAgain(),null;var g=t?b:0,_=t?0:w;return u["default"].createElement(c.Stage,a({ref:function(e){h["default"].setPrdStage(e)},className:d["default"]("prd-canvas-stage",(e={},e["cursor-"+n]=!0,e)),onMouseDown:m.prdCanvasMouseDown,onMouseMove:m.prdCanvasMouseMove},{width:o,height:i}),u["default"].createElement(c.Layer,{x:p.left-g||0,y:p.top+_||0},u["default"].createElement(y["default"],{zoom:1})))},i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onCursorChange",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"renderAgain",null),t}(u["default"].Component);t["default"]=C},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=n(224),d=n(954),f=s(n(12)),p=window.$,h=n(10)["default"],g=!1,y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={title:"",isEdit:!1},n}return o(t,e),t.prototype.onTitleChange=function(){var e=c.getSelectStruct();if(e){var t=e.title;this.setState({title:t})}},t.prototype.handleChangeTitle=function(e){var t=this.state.title,n=this.props.struct,r=n.id,o=n.title;""==t.trim()?(f["default"].show("页面名称不能为空!"),p(e.target).focus()):t!=o&&(d.changeValById({key:"title",val:t,id:r}),h.createData({type:"changePrdNameFromContainer",name:"PRD 在内容处修改文档名称",autoSaveType:"prd"})),this.setState({isEdit:!1})},t.prototype._handleComposition=function(e){"compositionend"===e.type?(g=!1,this.changeTitle(e)):g=!0},t.prototype.changeTitle=function(e){g||(console.log(e.target.value),e.currentTarget.value.gblen()>200&&(e.currentTarget.value=e.currentTarget.value.slice(0,200),f["default"].show("文档名称内容不能超过200个字符"))),this.setState({title:e.target.value})},t.prototype.handleFocus=function(e){this.setState({isEdit:!0,title:e.target.value})},t.prototype.render=function(){var e=this.state,t=e.title,n=e.isEdit;if(!this.props.struct)return null;var r=n?t:c.getSelectStruct().title||"";return l["default"].createElement("div",{className:"editor-title-panel"},l["default"].createElement("input",{className:"title-input-area",placeholder:"无标题",value:r,"data-value":r,autoComplete:"off",autoCorrect:"off",spellCheck:!1,onChange:this.changeTitle,onBlur:this.handleChangeTitle,onFocus:this.handleFocus,onCompositionStart:this._handleComposition,onCompositionUpdate:this._handleComposition,onCompositionEnd:this._handleComposition}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onTitleChange",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleChangeTitle",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_handleComposition",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"changeTitle",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleFocus",null),t}(l["default"].Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(67)),d=s(n(29)),f=s(n(10)),p=s(n(34)),h=s(n(97)),g=n(963),y=n(964),m=n(1546),_=n(26),v=n(950),b=n(145),w=s(n(3)),C=n(597),x=n(504),S=0,P=b.elementCanvasBaseVal.OFFSET_X,k=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this.onChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this.onChange)},t.prototype.onChange=function(){this.setState({})},t.prototype.renderEnds=function(e,t,n,r,o){var a=c["default"].getPrdSelectArr(),i=e,s=t;if(r){var f=d["default"].getPrdElementById(r),p=f.x,h=f.y,y=f.width,m=f.height;i=[e[0]*y+p+P,e[1]*m+h]}if(o){var _=d["default"].getPrdElementById(o);p=_.x,h=_.y,y=_.width,m=_.height;s=[t[0]*y+p+P,t[1]*m+h]}return l["default"].createElement("div",{key:"prd-end"+n},[i,s].map(function(e,t){return l["default"].createElement("div",{key:"prd-end"+n+(0==t?"start":"end"),className:u["default"]("prd-line-circle",{"prd-circle-select":-1!=a.indexOf(n)}),style:{left:e[0],top:e[1]},"data-id":n,"data-posi":0==t?"start":"end","data-eventkey":"line","data-isprd":!0,onMouseDown:g.handleBallReDrag})}))},t.prototype.renderCircle=function(e,t){var n=[];return e.forEach(function(r,o){if(e[o+1]){var a=e[o+1][0]!=r[0],i=(e[o+1][0]+r[0])/2,s=(e[o+1][1]+r[1])/2;n.push(l["default"].createElement("div",{key:"prd-circle-"+i+"-"+s,className:u["default"]("prd-line-circle",{"row-resize-cursor-line":a,"col-resize-cursor-line":!a}),style:{left:i,top:s},"data-id":t,"data-eventkey":"line lineDrag","data-idx":o,"data-isprd":!0,onMouseDown:y.handleLineDrag}))}}),n},t.prototype.stopPropagation=function(e){e.preventDefault(),e.stopPropagation(),v.clearSelectArr()},t.prototype.handleDblLine=function(e){var t=e.clientX,n=e.clientY,r=e.currentTarget,o=$.offset(r,!0),a=o.top,i=o.left,s=o.width,l=o.height,u=r.getAttribute("data-isx"),c=+r.getAttribute("data-currentlength"),d=+r.getAttribute("data-alllength"),p="true"==r.getAttribute("data-isincrease"),g=.5;d&&(g=(c+("true"==u?p?t-i:i+s-t:p?n-a:a+l-n))/d);var y=e.currentTarget.getAttribute("data-id"),m=e.currentTarget.getAttribute("data-isprd");h["default"].commentBoxFocus(y,m,g)||f["default"].createData({type:"showOrHideCommentDblPrd",name:"PRD 双击显示/修改文本",autoSaveType:"prd"})},t.prototype.renderLineDom=function(e,t){var n=this,r=[],o=0,a=0;return e.forEach(function(t,n){if(e[n+1]){var r=e[n+1][0]-t[0],o=e[n+1][1]-t[1];a+=Math.abs(r||o)}}),e.forEach(function(i,s){if(e[s+1]){S++;var c=e[s+1][0]!=i[0],d=e[s+1][0]-i[0],f=e[s+1][1]-i[1],p=Math.abs(d)||15,h=Math.abs(f)||15;r.push(l["default"].createElement("div",{key:"prd-line-"+t+"-"+S,className:u["default"]("prd-line-dom"),style:{left:i[0]-(d<0?-d:0),top:i[1]-(f<0?-f:0),width:p,height:h,transform:"translate("+(c?0:-p/2)+"px, "+(c?-h/2:0)+"px)"},"data-id":t,"data-eventkey":"line lineDrag","data-idx":s,"data-isprd":!0,"data-isx":c,"data-currentlength":o,"data-alllength":a,"data-isincrease":c?d>0:f>0,onMouseDown:m.handleLineMove,onContextMenu:C.handleLineContextMenu,onDoubleClick:function(e){return n.handleDblLine(e)}})),o+=Math.abs(d||f)}}),r},t.prototype.renderLine=function(e){var t=this,n=[],r=c["default"].getPrdSelectArr();return e.forEach(function(e){var o=e.isConnect,a=e.startPoint,i=e.endPoint,s=e.id,c=e.commentWidth,d=e.commentHeight,f=e.commentPercent,p=e.hasComment,g=e.startKey,y=e.endKey,m=x.fixLineData(g,y,s);if(!o&&m){var _=h["default"].getPrdLinePointArr(e);n.push(l["default"].createElement("div",{key:"event-line"+s,className:u["default"]({"no-select-line":-1==r.indexOf(s)})},t.renderLineDom(_,s),p?t.renderComment(c,d,_,f,s):undefined,t.renderCircle(_,s),t.renderEnds(a,i,s,g,y)))}}),n},t.prototype.commentDragEvent=function(e,t){var n=e.clientX,r=e.clientY,o=!1,a=e.currentTarget,i=a.getAttribute("data-id"),s=parseInt($(a).css("top")),l=parseInt($(a).css("left"));c["default"].setPrdSelectArr([i]),$.setDrag({name:"moveComment",posi:[n,r],target:e.target,moveFunc:function(e){o||(o=!0);var a=e.clientX,u=e.clientY,d=h["default"].getLineArr({pointArr:t}),f=d.lineArr,p=d.lineLengthArr,g=d.allLength,y=h["default"].getShortIdx({_clientX:a,clientX:n,zoom:1,_clientY:u,clientY:r,_x:l,_y:s,lineArr:f}),m=y.shortIdx,_=y.off;if(-1!=m){var v=h["default"].calcCommentPercent({lineLengthArr:p,shortIdx:m,off:_,allLength:g});c["default"].changePrdLine({id:i,commentPercent:v})}},endFunc:function(e){o&&f["default"].createData({type:"changeCommentPosi",name:"PRD 改变文本当前所在的位置",autoSaveType:"prd"})}})},t.prototype.renderComment=function(e,t,n,r,o){var a=this,i=h["default"].getLineLengthArr(n),s=i.lineLengthArr,u=i.allLineLength,c=h["default"].getCommentPosi({lineLengthArr:s,allLineLength:u,commentPercent:r,pointArr:n}),d=c.lineCommentLeft,f=c.lineCommentTop;return l["default"].createElement("div",{key:"prd-comment"+o,className:"prd-line-comment",style:{width:e,height:24*Math.round(t/24),top:f,left:d},"data-id":o,onMouseDown:function(e){a.commentDragEvent(e,n)},"data-eventkey":"line","data-isprd":!0,onDoubleClick:a.handleDblLine})},t.prototype.render=function(){var e=_.getAllLineByStructKey();return p["default"].getSelectElementArr().length?null:l["default"].createElement("div",{onMouseDown:this.stopPropagation,onContextMenu:this.stopPropagation,className:"prd-line-panel-comp"},this.renderLine(e))},a([w["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onChange",null),a([w["default"],i("design:type",Function),i("design:paramtypes",[Object,Object,Object,Object,Object]),i("design:returntype",void 0)],t.prototype,"renderEnds",null),a([w["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"renderCircle",null),a([w["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"stopPropagation",null),a([w["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleDblLine",null),a([w["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"renderLineDom",null),a([w["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"renderLine",null),a([w["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"commentDragEvent",null),a([w["default"],i("design:type",Function),i("design:paramtypes",[Object,Object,Object,Object,Object]),i("design:returntype",void 0)],t.prototype,"renderComment",null),t}(l["default"].Component);t["default"]=k},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(67)),a=r(n(29)),i=r(n(34)),s=r(n(91)),l=r(n(315)),u=r(n(622)),c=n(845),d=r(n(97)),f=n(348),p=r(n(620)),h=50,g=950,y=n(10)["default"];function m(e){var t=e.dragSet,n=e.clientX,r=e.clientY,i=e.elementArr,s=e.fixedArr,l=e.startPosi,u=e.endPosi,f=e.id;return function(e){var p=e.clientX,y=e.clientY;c.changeDragChangePosi({clientX:p,clientY:y},function(e){var c=e.autoChangePosi,m=(e.ratio,c.autoChangePosiY),_=void 0===m?0:m,v=[l[0]+p-n,l[1]+y-r+_],b=[u[0]+p-n,u[1]+y-r+_],w=$.extend(!0,[],s);if(w.length&&w.forEach(function(e,t){w[t]=[e[0]+p-n,e[1]+y-r+_]}),!function(e,t,n){var r=$.extend(!0,[],n);r.push(e,t);var o=!1;return r.some(function(e){return(e[0]<h||e[0]>g||e[1]<0)&&(o=!0,!0)}),o}(v,b,w)){var C="",x="",S=[];i.some(function(e){var n=a["default"].getPrdElementById(e),r=n.x,o=n.y,i=n.width,s=n.height,l=n.id,u=r+h,c=[[u,o+s/2],[u+i/2,o],[u+i,o+s/2],[u+i/2,o+s]];if(v[0]>u&&v[0]<u+i&&v[1]>o&&v[1]<o+s&&!C){C=l,t.startPointKey=l,S.push(C);var f=d["default"].isNearAdsorbPoint(c,{x:v[0],y:v[1]}),p=f.isAdsorb,g=f.endX,y=f.endY,m=f.endPosi;if(p){t.startPointPosi=m;var _=g-v[0],P=y-v[1];v=[g,y],b=[b[0]+_,b[1]+P],w.length&&w.forEach(function(e,t){w[t]=[e[0]+_,e[1]+P]})}else t.startPointPosi=""}if(b[0]>u&&b[0]<u+i&&b[1]>o&&b[1]<o+s&&!x){x=l,t.endPointKey=l,S.push(x);var k=d["default"].isNearAdsorbPoint(c,{x:b[0],y:b[1]}),O=(p=k.isAdsorb,g=k.endX,y=k.endY,k.endPosi);if(p){t.endPointPosi=O;var E=g-b[0],T=y-b[1];b=[g,y],v=[v[0]+E,v[1]+T],w.length&&w.forEach(function(e,t){w[t]=[e[0]+E,e[1]+T]})}else t.endPointPosi=""}return!(!C||!x)}),C||(t.startPointKey="",t.startPointPosi=""),x||(t.endPointKey="",t.endPointPosi=""),t.newStartPosi=v,t.newEndPosi=b,t.newFixedArr=w;var P=o["default"].getHoverIdArr();$.checkArrayEqual(P,S)||o["default"].setHoverIdArr(S,!0),o["default"].changePrdLine({id:f,startPoint:v,endPoint:b,fixedArr:w})}})}}function _(e){var t=e.currentTarget.getAttribute("data-id"),n=i["default"].getSelectStructKey(),r=s["default"].getPrdStructById(n).elementHierarchy,d=!1,g=e.clientX,_=e.clientY,v=e.shiftKey,b=o["default"].getPrdOneLine(t),w=b.startPoint,C=b.endPoint,x=b.startKey,S=b.endKey,P=b.fixedArr,k=b.startPosi,O=b.endPosi,E=w,T=C;if(x){var M=a["default"].getPrdElementById(x),D=M.x,A=M.y,j=M.width,I=M.height;E=[w[0]*j+D+h,w[1]*I+A]}if(S){var L=a["default"].getPrdElementById(S);D=L.x,A=L.y,j=L.width,I=L.height;T=[C[0]*j+D+h,C[1]*I+A]}var R={newStartPosi:E,newEndPosi:T,endPointPosi:O,startPointPosi:k,startPointKey:x,endPointKey:S,newFixedArr:P};o["default"].setIsDragPoint(!0,!0);var B=o["default"].getPrdSelectArr();-1==B.indexOf(t)&&(v?(B.push(t),o["default"].setPrdSelectArr(B,!0)):o["default"].setPrdSelectArr([t],!0));var N=m({dragSet:R,clientX:g,clientY:_,elementArr:r,fixedArr:P,startPosi:E,endPosi:T,id:t});l["default"].setAutoMoveFunc(N),o["default"].emitMoveChange(),c.initDragChangePosi({autoChangeFunc:function(e){return f.getDragScrollRatio(e,!1)},arriveCriticalFunc:function(){var e=u["default"].getDragChangePosiSet().ratio,t=$(".prd-content-panel")[0].scrollTop,n=t<=0&&-1==e;return n||($(".prd-content-panel")[0].scrollTop=Math.max(t+20*e,0)),n}}),$.setDrag({name:"dragLine",posi:[g,_],target:e.currentTarget,moveFunc:function(e){d||(d=!0,(x||S)&&o["default"].changePrdLine({id:t,startPoint:E,endPoint:T,noEmit:!0,startKey:"",endKey:"",startPosi:"",endPosi:""})),N(e)},endFunc:function(e){if(o["default"].setIsDragPoint(!1,!0),p["default"].emitChange(),d){c.endDragChangePosi();var n=R.startPointKey,r=R.newStartPosi,i=R.endPointKey,s=R.newEndPosi,l=R.newFixedArr,u=R.startPointPosi,f=R.endPointPosi;if(o["default"].setHoverIdArr([],!0),n){var g=a["default"].getPrdElementById(n),m=g.x,_=g.y,v=g.width,b=g.height;r=[(r[0]-m-h)/v,(r[1]-_)/b]}if(i){var w=a["default"].getPrdElementById(i);m=w.x,_=w.y,v=w.width,b=w.height;s=[(s[0]-m-h)/v,(s[1]-_)/b]}o["default"].changePrdLine({id:t,startPoint:r,endPoint:s,fixedArr:l,startKey:n,endKey:i,startPosi:u,endPosi:f}),y.createData({type:"movePrdLine",name:"PRD 整体拖拽连线",autoSaveType:"prd"})}}}),e.stopPropagation()}t.handleLineMove=_,t["default"]={handleLineMove:_}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(11)),d=l(n(3)),f=l(n(34)),p=l(n(126)),h=l(n(91)),g=n(26),y=n(271),m=n(1166),_=l(n(1165)),v=window.$,b=function(e){function t(t){var n=e.call(this,t)||this;n.dom=null,n.input=null;var r=n.props,o=r.isInner,a=(r.innerLink,r.link);return n.state={hyperlink:a,isInnerLink:o,marginTop:0},n}return o(t,e),t.prototype.componentDidMount=function(){},t.prototype.fixedTop=function(){if(this.props.innerLink&&this.dom){var e=v.offset(this.dom,!0),t=e.top,n=e.height,r=v.offset(document.body,!0).height;t=Math.round(t),n=Math.round(n),r=Math.round(r),t<107?this.setState({marginTop:112-t}):r-t-40-405<0&&this.setState({marginTop:r-t-40-405})}},t.prototype.handleInputChange=function(e){var t=e.currentTarget.value;this.setState({hyperlink:t})},t.prototype.handleClearUrl=function(e){var t=this,n=this.props.type,r=this.state.isInnerLink;this.setState({hyperlink:""}),"text"==n?setTimeout(function(){r?(f["default"].setLinkInput({isShow:!1}),y.removeLink(!0)):v(t.input).blur(),v.tipHide()},0):m.clearPrdWebUrl()},t.prototype.handleChangeLinkType=function(e){var t=this,n=this.state.isInnerLink,r=0;if(this.dom&&!n){var o=v.offset(this.dom,!0).top,a=v.offset(document.body,!0).height;o=Math.round(o),r=(a=Math.round(a))-o-40-405}this.setState({isInnerLink:!n,marginTop:n?0:r}),setTimeout(function(){v(t.input).blur()},0)},t.prototype.handleInputBlur=function(e){var t=this.props.id,n=p["default"].getEditorById(t),r=this.state.hyperlink,o=this.props.type;v(".page-menu-list-panel")[0]||("text"==o?setTimeout(function(){g.findSelectElement()[0]||window.Mousetrap.unpause();var e=p["default"].getNodeData(),t=e.key,o=e.start,a=e.length;y.removeLink(!0),r&&n.addMarkByKey(t,o,a,{type:"a-link",data:{val:r}})},0):m.setPrdWebUrl({webUrl:r}),f["default"].setLinkInput({isShow:!1}))},t.prototype.render=function(){var e,t=this.props,n=t.left,r=t.top,o=t.innerLink,i=this,s=i.props,l=s.type,d=void 0===l?"text":l,f=s.notWeb,p=void 0===f||f,g=s.textIndent,y=i.state,m=y.hyperlink,b=y.isInnerLink,w=y.marginTop,C=v.offset(v("#editorContentPanel")[0],!0),x=C.left,S=C.top;return e=b?h["default"].getPrdStructById(o)?h["default"].getPrdStructById(o).title:"":m,u["default"].createElement("div",{style:{left:n-x,top:r-S+w},className:"insert-hyperlink-panel",onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},ref:function(e){return i.dom=e}},u["default"].createElement("div",{className:"input-area-box"},p?u["default"].createElement("div",a({className:"link-type-icon-box a_c"},v.addHoverData({text:(b?"内":"外")+"部链接",direction:"right",changeOtherPosi:3}),{onMouseDown:i.handleChangeLinkType}),u["default"].createElement("div",{className:c["default"]("outer-link-icon prd-document-icons",{"is-inner-link":b})}),u["default"].createElement("div",{className:c["default"]("scroll-arrow-icon prd-document-imgs",{"is-outer-link":!b})})):undefined,u["default"].createElement("input",a({className:c["default"]("hyperlink-input",{"is-have-val":e}),placeholder:b?"请添加链接页面目录":"输入链接，回车确认",autoComplete:"off",autoCorrect:"off",spellCheck:!1,onChange:i.handleInputChange,onBlur:i.handleInputBlur,value:e,ref:function(e){return i.input=e},style:{textIndent:g},onMouseDown:function(){v(i.input).focus()}},b?{disabled:!0}:{})),""!=e&&"webView"!=d?u["default"].createElement("div",a({className:"cancel-hyperlink-btn a_c"},v.addHoverData({text:"取消链接"}),{onMouseDown:i.handleClearUrl}),u["default"].createElement("div",{className:"prd-document-icons cancel-icon"})):undefined),u["default"].createElement("div",{className:"little-triangle"}),u["default"].createElement("div",{className:"little-triangle-border"}),b?u["default"].createElement(_["default"],null):undefined)},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"fixedTop",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"handleInputChange",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"handleClearUrl",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"handleChangeLinkType",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"handleInputBlur",null),t}(u["default"].Component);t["default"]=b},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(34)),a=r(n(67)),i=n(314),s=n(628),l=n(962);function u(e){"line"==o["default"].getCursor()?s.prdLineCreate(e):(o["default"].getLinkInput().isShow&&o["default"].setLinkInput({isShow:!1}),i.prdEditorSelectDrag(e))}t.prdElementMouseDown=u,t.prdElementMouseMove=function(e){var t=l.getLineCreatePosSet().startKey,n=o["default"].getCursor(),r=a["default"].getIsDragPoint(),i=a["default"].getHoverIdArr();if("line"==n||r){var s=e.target.getAttribute("data-id");if(e.target.getAttribute("data-eventkey")&&-1!=e.target.getAttribute("data-eventkey").indexOf("line"))return;s?-1==i.indexOf(s)&&t!=s&&a["default"].setHoverIdArr([s]):i.length&&a["default"].setHoverIdArr([])}else i.length&&a["default"].setHoverIdArr("")},t["default"]={prdElementMouseDown:u}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(11)),u=n(863),c=n(857),d=window.$,f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.isUnfold;return s["default"].createElement("div",{className:l["default"]("prd-insert-list-panel",{"is-pack-up":!e})},u.insertBtnList.map(function(e,t){var n=e.type,r=e.tips;return""!=n?s["default"].createElement("div",a({className:l["default"]("option-box "+n+"-box a_c",{}),key:n+t,onMouseDown:function(){setTimeout(function(){c.createElementByInsert(n,n)},0)}},d.addHoverData({text:r,direction:"left",changeOtherPosi:5})),s["default"].createElement("div",{className:n+"-icon prd-document-icons insert-icons"})):undefined}))},t}(s["default"].Component);t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){if("undefined"==typeof window)return 0;var n=t?"scrollTop":"scrollLeft",r=e===window,o=r?e[t?"pageYOffset":"pageXOffset"]:e[n];return r&&"number"!=typeof o&&(o=window.document.documentElement[n]),o}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(91));function a(e){var t=e.id,n=e.childArr,r=void 0===n?[]:n,i=e.data,s=void 0===i?null:i,l=s||o["default"].getPrdStructById(t);if(l&&"folder"==l.type){var u=l.pageHierarchy;(void 0===u?[]:u).forEach(function(e){var t=s?e.id:e;-1==r.indexOf(t)?(r.push(s?e.id:e),a({id:e,childArr:r,data:s?e:null})):window.log("目录脏数据，子父级嵌套")})}return r}function i(e){var t={};e.length?function i(e,t){e.forEach(function(e,n){var r=e.type,o=e.id,a=e.pageHierarchy;if("folder"==r&&(t[o]=e),a)return i(a,t)})}(e,t):t=o["default"].getPrdFolders();var n={};for(var r in t)n[r]=a({id:r,data:e.length?t[r]:null});return n}function s(e){var t=e.searchTitle,n=e.arr,r=o["default"].getAllPrdStruct(),a=[];if(n.length)!function s(e,n){e.forEach(function(e,r){var o=e.title,a=e.id,i=e.pageHierarchy;if(-1!=o.indexOf(t)&&n.push(a),i)return s(i,n)})}(n,a);else for(var i in r){-1!=o["default"].getPrdStructById(i).title.indexOf(t)&&a.push(i)}return a}function l(e){var t=e.searchTitle,n=e.arr,r=void 0===n?[]:n,o=i(r),a=s({searchTitle:t,arr:r}),l=a.slice(),u=function(e){o[e].some(function(t){return-1!=a.indexOf(t)&&(-1==l.indexOf(l)&&l.push(e),!0)})};for(var c in o)u(c);return l}t.findFolderAllChildKey=a,t.findAllFolderAllChildKey=i,t.getAllSearchFindKeyArr=s,t.getAllSearchShowKeyArr=l,t["default"]={findFolderAllChildKey:a,findAllFolderAllChildKey:i,getAllSearchFindKeyArr:s,getAllSearchShowKeyArr:l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(34)),a=r(n(91)),i=r(n(10));t.prdAllSturctFix=function(){var e=[],t=o["default"].getStructHierarchy(),n=t.slice();t.forEach(function(t){if(-1==e.indexOf(t)){var r=a["default"].getPrdStructById(t);e.push(t),r?"folder"==r.type&&function o(e,t){var n=e.id,r=e.pageHierarchy,i=r.slice();r.forEach(function(e){if(-1==t.indexOf(e)){var n=a["default"].getPrdStructById(e);n?(t.push(e),"folder"==n.type&&o(n,t)):i.remove(e)}else i.remove(e)}),$.checkArrayEqual(i,r)||a["default"].updateValById({id:n,updateVal:{pageHierarchy:i}})}(r,e):n.remove(t)}else n.remove(t)});var r=a["default"].getAllPrdStruct();for(var s in r)-1==e.indexOf&&n.push(s);$.checkArrayEqual(n,t)||(o["default"].setStructHierarchy(n),i["default"].createData({type:"fixFolderData",name:"PRD 目录脏数据自修复",autoSaveType:"prd"}))}},,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),n(970),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e),window.phoneModelSizeObj={ip5:[354,755,95,95,16],ip6:[436,881,107,107,30],ip6p:[477,973,118,120,30],ipx:[431,862,69,28,28],AN:[387,800,77,86,13],SMs8:[384,809,35,35,11],XMmix2:[394,821,12,50,16],XMmix:[388,773,7,45,13]},window.phoneBaseSize="web"==window.platform?"sketch"==$.getUrlParam("type")?{width:1440,height:2e3,type:"1440"}:{width:1200,height:2e3,type:"1200"}:{width:320,height:568,type:"ip5"};var o="web"==window.platform?window.webTypeObj:window.phoneTypeObj;if(window.phoneSize=$.extend(!0,{},window.phoneBaseSize),window.pSize&&o[window.pSize])window.phoneSize.type=window.pSize,window.phoneSize.width=o[window.pSize][1],window.phoneSize.height=o[window.pSize][2];else if(window.pSize&&-1!=window.pSize.indexOf("_")){var a=window.pSize.split("_");window.phoneSize.type=window.pSize,window.phoneSize.width=+a[0],window.phoneSize.height=+a[1]}else window.pSize&&"web"==window.platform&&(window.phoneSize.type=window.pSize,window.phoneSize.width=parseInt(window.pSize));if(!window.noNew){var i=!1;if($.getUrlParam("pw")&&window.isPrototypeTool&&(i=!0,window.phoneSize.width=parseInt($.getUrlParam("pw"))),$.getUrlParam("ph")&&(i=!0,window.phoneSize.height=parseInt($.getUrlParam("ph"))),$.getUrlParam("ps")){var s=$.getUrlParam("ps");o[s]&&(window.phoneSize.type=s,window.phoneSize.width=o[s][1],window.phoneSize.height=o[s][2])}else i&&(window.phoneSize.type=window.phoneSize.width+"_"+window.phoneSize.height)}window.ss=window.isPc||"web"==window.platform?1:window.phoneSize.width/window.phoneBaseSize.width,window.hss=window.isPc||"web"==window.platform?1:window.phoneSize.height/window.phoneBaseSize.height;var l,u;t["default"]="initPhoneSize",(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(l.register(o,"thisTypeObj","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/init/initPhoneSize.js"),l.register("initPhoneSize","default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/init/initPhoneSize.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&u(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(288),i=(r=a)&&r.__esModule?r:{"default":r},s=n(285);(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var l,u,c=$.extend($,{mainBoxOffsetPosi:function(e){var t=window.document.querySelector(".mainBox.active");return $.offset(t,!e)},slideDrag:function(e,t,n,r){n=n||58;var o=-e.target.offsetLeft+e.clientX;$.setDrag({name:"slideMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var n=e.clientX-o;t(n)},endFunc:function(e){r&&r(e.clientX-o)}})},addMainbox:function(e){var t=n(5)["default"].getActivePage(!0),r=t&&t.isLandscape,o=void 0;window.isPc?o=$.isUndefined(t.pageHeight)?window.phoneSize.height:t.pageHeight:t.pageHeight&&e.push({type:"mainBoxSetHeight",id:1,left:0,top:0,width:r?window.phoneSize.height:window.phoneSize.width,height:t.pageHeight}),e.push({type:"mainBox",id:1,left:0,top:0,width:r?window.phoneSize.height:window.phoneSize.width,height:window.isPc?o:r?window.phoneSize.width:window.phoneSize.height})},getContrId:function(e){try{return e.type+"_"+e.id}catch(t){log(t)}},getSeveralElPosition:function(e,t,r){var o=n(6)["default"],a=[null,null,null,null];return e.forEach(function(e){if(r||(e=o.getAllValsContr({contrKey:e})),e){var n="symbol"==e.type?e.scale/10:1;t&&(t[$.getContrId(e)]=[+e.left,+e.top,+e.width,+e.height,e.scale]);var i="0"==e.rotate?e:$.getRotateBoxPosi(!1,e),s=[+i.left,+i.top,+i.width*n,+i.height*n];$.isDependBottomContr(e)&&(s[1]+=$.getDependBottomVal()),a=[s[0]<=a[0]||$.isNull(a[0])?s[0]:a[0],s[1]<=a[1]||$.isNull(a[1])?s[1]:a[1],s[0]+s[2]>=a[2]||$.isNull(a[2])?s[0]+s[2]:a[2],s[1]+s[3]>=a[3]||$.isNull(a[3])?s[1]+s[3]:a[3]]}}),{left:a[0],top:a[1],width:Math.round(a[2]-a[0]),height:Math.round(a[3]-a[1])}},getOffsetMaxPosi:function(e){var t={left:0,top:0,width:0,height:0},n={};return e.forEach(function(e){var t=$.getElById(e);t&&(n[e]=$.offset(t,!0,!0))}),0!=$.objLength(n)&&(t=$.getMaxPosi(n)),t},getPosiByContrs:function(e){var t={},r=n(6)["default"];return e.forEach(function(e){var n="0"==(e=r.getAllValsContr({contrKey:e})).rotate?e:$.getRotateBoxPosi(!1,e);t[$.getContrId(e)]=[+n.left,+n.top,+n.width,+n.height]}),t},getMaxPosi:function(e){var t=[null,null,null,null];for(var n in e){var r=e[n];r&&(t=[r[0]<=t[0]||$.isNull(t[0])?r[0]:t[0],r[1]<=t[1]||$.isNull(t[1])?r[1]:t[1],r[0]+r[2]>=t[2]||$.isNull(t[2])?r[0]+r[2]:t[2],r[1]+r[3]>=t[3]||$.isNull(t[3])?r[1]+r[3]:t[3]])}return{left:t[0],top:t[1],width:Math.round(t[2]-t[0]),height:Math.round(t[3]-t[1])}},posiObjToArr:function(e){var t=[0,0,0,0];return e&&(t=[e.left,e.top,e.width,e.height]),t},getMinPosi:function(e,t){var n=[null,null,null,null];for(var r in e){var o=e[r];n=[o[0]>=n[0]||$.isNull(n[0])?o[0]:n[0],o[1]>=n[1]||$.isNull(n[1])?o[1]:n[1],o[0]+o[2]<=n[2]||$.isNull(n[2])?o[0]+o[2]:n[2],o[1]+o[3]<=n[3]||$.isNull(n[3])?o[1]+o[3]:n[3]]}var a={left:n[0],top:n[1],width:Math.round(n[2]-n[0]),height:Math.round(n[3]-n[1])};return t?[a.left,a.top,a.width,a.height]:a},pagesMaxPosi:function(e){var t=[null,null];for(var n in e){var r=e[n];t=[r[0]>=t[0]||$.isNull(t[0])?r[0]:t[0],r[1]<=t[1]||$.isNull(t[1])?r[1]:t[1]]}return{left:t[0],top:t[1]}},posiLTIsChange:function(e,t){return e.left!=t.left||e.top!=t.top},getNewContrBox:function(e,t){var r=n(6)["default"];e.splice(1,0,t);var o=r.getContrByAll(t);if(!o||!o.mergeName)return e;$.getNewContrBox(e,o.mergeName)},getRotateDragChangePosi:function(e,t,n,r,o){var a=[+t[0],+t[1]],i=void 0;return 0===r?i={left:e.left+a[0]*Math.cos(n)-a[1]*Math.sin(n),top:e.top+a[1]*Math.cos(n)+a[0]*Math.sin(n),width:e.width-a[0],height:e.height-a[1]}:1===r?(o||(a[0]=0),i={left:e.left-a[1]*Math.sin(n)+a[0]*Math.cos(n)/2,top:e.top+a[1]*Math.cos(n)+a[0]*Math.sin(n)/2,width:e.width-a[0],height:e.height-a[1]}):2===r?i={left:e.left-a[1]*Math.sin(n),top:e.top+a[1]*Math.cos(n),width:e.width+a[0],height:e.height-a[1]}:3===r?(o||(a[1]=0),i={left:e.left+a[0]*Math.cos(n)-a[1]*Math.sin(n)/2,top:e.top+a[0]*Math.sin(n)+a[1]*Math.cos(n)/2,width:e.width-a[0],height:e.height-a[1]}):4===r?(o||(a[1]=0),i={left:e.left-a[1]*Math.sin(n)/2,top:e.top+a[1]*Math.cos(n)/2,width:e.width+a[0],height:e.height-a[1]}):5===r?i={left:e.left+a[0]*Math.cos(n),top:e.top+a[0]*Math.sin(n),width:e.width-a[0],height:e.height+a[1]}:6===r?(o||(a[0]=0),i={left:e.left+a[0]*Math.cos(n)/2,top:e.top+a[0]*Math.sin(n)/2,width:e.width-a[0],height:e.height+a[1]}):7===r&&(i={left:e.left,top:e.top,width:e.width+a[0],height:e.height+a[1]}),i},objValsToRound:function(e){for(var t in e)e[t]=Math.round(e[t]);return e},getContrPosi:function(e,t,n){var r=void 0;return r="0"!=e.rotate?$.getRotateBoxPosi(!1,e):$.getContrOriPosi(e),t&&$.objValsToRound(r),n||"symbol"!=e.type||(r.width*=e.scale/10,r.height*=e.scale/10),r},getContrOriPosi:function(e){return{left:e.left,top:e.top,width:e.width,height:e.height}},getRotateBoxPosi:function(e,t,n,r){if(2===arguments.length&&(n=t,r=t.type,t=t.rotate),"0"==t)return undefined;var o=void 0,a=[0,0,0,0],i=$.rotateToAngle(t,!0),s=$.getRotateWH(i,[n.width,n.height]);switch($.fixRotateWH(s,t),r){case"wrapbox":case"text":case"image":a=[0,0,1,1]}return o={left:(n.width-s.w)/2+n.left+a[0],top:(n.height-s.h)/2+n.top+a[1],width:s.w+a[2],height:s.h+a[3]},o=$.getRotateOffsetPosi(n,o),e&&$.objValsToRound(o),o},getRotateOffsetPosi:function(e,t){var n=t||$.getRotateBoxPosi(!1,e);if(n){var r=$.rotateChangePosiVal([e.width+2,e.height+2],e.rotate);return{left:e.left+r.left,top:e.top+r.top,width:n.width,height:n.height}}return undefined},rotateChangePosiVal:function(e,t){var n=$.rotateToAngle(t),r={left:0,top:0},o=t%360<0?t%360+360:t%360;return"0"==o?r:(o<=90?r.left=-e[1]*Math.sin(n):o<=180?(r.left=-e[1]*Math.sin(n)+e[0]*Math.cos(n),r.top=e[1]*Math.cos(n)):o<=270?(r.left=e[0]*Math.cos(n),r.top=e[1]*Math.cos(n)+e[0]*Math.sin(n)):r.top=e[0]*Math.sin(n),r)},getContrLinePosi:function(e,t,n){var r=t||[0,0],o=void 0;return n||"symbolBox"==e.type||"0"==e.rotate||e.rotate===undefined?o=e:((o=$.getRotateBoxPosi(!1,e)).left+=1,o.top+=1),o={left:Math.round(o.left),top:Math.round(o.top),width:Math.round(o.width),height:Math.round(o.height)},{lX:Math.round(o.left+r[0]),rX:Math.round(o.left+o.width+r[0]),mX:Math.round(o.left+Math.floor((o.width+2)/2)+r[0]-1),tY:Math.round(o.top+r[1]),bY:Math.round(o.top+o.height+r[1]),mY:Math.round(o.top+Math.floor((o.height+2)/2)+r[1]-1)}},getFilter:function(e){var t={blur:0,saturate:10,hue:180,brightness:10,contrast:10},n=!1;if(e){for(var r in e)e[r]!=t[r]&&(t[r]=e[r],n=!0);if(n)return"blur("+t.blur+"px) saturate("+(.1*t.saturate).toFixed(1)+") hue-rotate("+(t.hue-180)+"deg) brightness("+(.1*t.brightness).toFixed(1)+") contrast("+(.1*t.contrast).toFixed(1)+")"}return"none"},isInBox:function(e,t){return e[0]<t[0]&&e[0]+e[2]>t[0]&&e[1]<t[1]&&e[1]+e[3]>t[1]},changeWrapChildState:function(e,t){for(var n in e.contrs)t[n]&&($.handleEventsData(e.contrs[n],t[n].events),$.extend(!0,e.contrs[n],t[n]),"wrapbox"==e.contrs[n].type&&$.changeWrapChildState(e.contrs[n],t))},proportionChangeLinePosi:function(e,t,n){return"0"!=t[0]&&"0"!=t[1]?Math.abs(t[0])<=Math.abs(t[1])?t[1]=n*t[0]/e:t[0]=n*t[1]*e:"0"!=t[0]?t[1]=n*t[0]/e:"0"!=t[1]&&(t[0]=n*t[1]*e),t},getStateEndContr:function(e,t){return $.getContrChangeChildState(e,"endState",!1,t)},getContrChangeChildState:function(e,t,r,o){var a=n(6)["default"],i=$.isInState(e,!0),s=o?"startState":"endState",l=a.getContrState(e,o),u=$.getContrId(e),c=$.isUndefined(l)||l&&("undefined"==typeof l.endState||-1==l.endState&&"endState"==t),d="hoverEndIndex"==t?e.hoverState[t]:c?-1:l[t],f=void 0,p=!1,h=void 0;if(!c)if("endState"!=t&&"hoverEndIndex"!=t||s||!e.hoverState||!e.hoverState.isEndHover){if("startState"==t&&!i&&-1==d)return(h=$.extend(!0,{},e)).state=l,h}else d=""+e.hoverState.hoverEndIndex,p=!0;if((c||r||p)&&("hoverEndIndex"!=t||"hoverEndIndex"==t&&-1==d)&&(c||-1==d)&&(c||"undefined"==typeof l.endState||-1==d)){if(i){if(-1==(f=i.state[s]))return(h=$.extend(!0,{},e)).state=l,h;var g=i.states[f].contrs[u];if(g){var y=$.extend(!0,{},a.getContrByAll(u));return $.handleEventsData(y,g.events),(h=$.extend(!0,y,g)).state=l,h}}if(c||-1==d)return(h=$.extend(!0,{},e)).state=l,h}if($.objLength(e.states)>0){var m=$.extend(!0,{},e.states[d].contrs[u]),_=$.extend(!0,{},e);$.stateContrCancelAttr(m),$.handleEventsData(_,m.events),"wrapbox"==(e=$.extend(!0,_,m)).type&&$.objLength(e.states[d].contrs)>1&&$.changeWrapChildState(e,e.states[d].contrs),e.state=l}return e},stateContrCancelAttr:function(e){var t={bgColor:["hasBackColor","backColor"],textStyle:["isB","isI","isU","isS"],angle:["rotate"],boxShadow:["shadow"],borderRadius:["radius"]},n=["left","top","width","height","opacity","insetBorder","border","content","fontSize","lineHeight","adjaceney","indent","textColor","textShadow","vertical","horizontal"];if(e.cancelObj)for(var r in e.cancelObj)e.cancelObj[r]&&(t[r]?t[r].forEach(function(t){delete e[t]}):-1!=n.indexOf(r)&&delete e[r])},isEditState:function(e,t){var r=n(6)["default"],o=!1;if($.hasStates(e)){var a=t||r.getContrState(e);o=a&&!$.isUndefined(a.endState)&&-1!=a.endState}return o},hasStates:function(e){return e&&e.states&&$.objLength(e.states)>0},isUsedState:function(e){return e&&e.state&&!$.isUndefined(e.state.endState)},deleteCancel:function(e,t){var n={isB:"textStyle",isI:"textStyle",isU:"textStyle",isS:"textStyle",hasBackColor:"bgColor",backColor:"bgColor",rotate:"angle",shadow:"boxShadow",radius:"borderRadius"},r=["left","top","width","height","opacity","insetBorder","border","content","fontSize","lineHeight","adjaceney","indent","textColor","textShadow","vertical","horizontal","iconColor"];for(var o in t)n[o]?e.cancelObj&&e.cancelObj[n[o]]&&(e.cancelObj[n[o]]=!1):-1!=r.indexOf(o)&&e.cancelObj&&e.cancelObj[o]&&(e.cancelObj[o]=!1)},initKeyDown:function(){window.isKeyDown={isShift:!1,isAlt:!1,isSpace:!1,isP:!1,isL:!1}},textContentChangeLine:function(e,t){e||(e=$.getElById("textContent")),e&&(e.style.height=(t||"18")+"px",e.style.height=e.scrollHeight-12+"px")},getMidPosi:function(){var e=n(827)["default"],t=[45,0,310,310],r=$.getWindowWH();return"web"==window.platform&&(t[3]=270,t[2]=e.getFold()?45:270),[t[2],t[0],r.width-t[2]-t[3],r.height-t[0]-t[1]]},isDragInMid:function(e){return $.isInBox($.getMidPosi(),e)},getContrInBoxPosi:function(e,t,r){var o=n(51)["default"].getZoom()/100,a=n(24)["default"],i=n(32)["default"].getSymbolMask(),s=a.getMergeBoxShow(),l=$.offset(s&&!r?$.getElById($.getContrId(a.getThisContr())):window.document.querySelector(".mainBox.active"));return!s&&i.isShow&&(l.left+=i.posi.left*o+i.parentPosi.left,l.top+=i.posi.top*o+i.parentPosi.top),{left:Math.round((e[0]-l.left-t[0]*o/2)/o),top:Math.round((e[1]-l.top-t[1]*o/2)/o)}},getParentBoxPosi:function(){var e=n(24)["default"],t=n(32)["default"].getSymbolMask(),r=void 0,o=void 0;return e.getMergeBoxShow()?(r=$.getElById($.getContrId(e.getThisContr())),o="mergeBox"):t.isShow?(o="symbol",r=$.query(".symbolMaskBox > .symbolDiv")):(o="mainBox",r=$.query(".mainBox.active")),r?{type:o,posi:$.offset(r,!0),dom:r}:undefined},dragPosiChange:function(e,t,n,r){var o={tl:[!1,!1],tr:[!0,!1],bl:[!1,!0],br:[!0,!0]};if("tm"==t)e[0]=e[1]*r;else if("ml"==t)e[1]=e[0]/r;else if("mr"==t)e[1]=-e[0]/r;else if("bm"==t)e[0]=-e[1]*r;else{o[t][0]||(e[0]=-e[0]),o[t][1]||(e[1]=-e[1]);var a=Math.pow(n[0]+e[0],2)+Math.pow(n[1]+e[1],2),i=Math.sqrt(a/(1+Math.pow(r,2))),s=a>Math.pow(n[0],2)+Math.pow(n[1],2)?1:-1;e[0]=(o[t][0]?1:-1)*s*Math.abs(i*r-n[0]),e[1]=(o[t][1]?1:-1)*s*Math.abs(i-n[1])}},getMultiple:function(e,t){return t[0]>=window.phoneSize.width*e&&t[1]>=window.phoneSize.height*e?t[0]/(window.phoneSize.width*e)>=t[1]/(window.phoneSize.height*e)?window.phoneSize.width*e/t[0]:window.phoneSize.height*e/t[1]:t[0]>=window.phoneSize.width*e?window.phoneSize.width*e/t[0]:t[1]>=window.phoneSize.height*e?window.phoneSize.height*e/t[1]:1},createLibFunc:function(){var e=$.getElById("controlLibSelect"),t=$.getElById("createLibBtn"),n=$.getElById("createLib"),r=$.getElById("cancelLibBtn");$.addClass(e,"hide"),$.addClass(t,"hide"),$.removeClass(n,"hide"),$.removeClass(r,"hide"),n.focus()},cancelLibFunc:function(){var e=$.getElById("controlLibSelect"),t=$.getElById("createLibBtn"),n=$.getElById("createLib"),r=$.getElById("cancelLibBtn");$.removeClass(e,"hide"),$.removeClass(t,"hide"),$.addClass(n,"hide"),$.addClass(r,"hide")},lineDragEnd:function(e,t,r,o,a){var i=n(5)["default"],s=n(83)["default"],l=n(828)["default"],u=n(61)["default"],c=i.getActivePage(!0),d=c&&c.isLandscape,f="x"==t.type?d?window.phoneSize.height:window.phoneSize.width:d?window.phoneSize.width:window.phoneSize.height,p=window.ss,h=r;a||(e*p>0&&e*p<f||window.isPc?s.isHave(t)?l.removeLine(t.id):l.showLine(t.id,!1):(o&&(h=!1),l.removeLine(t.id))),h&&u.setAutoSaveChangePages("__pageVals",!0)},addRightBottom:function(e){e.right=e.left+e.width,e.bottom=e.top+e.height},getParentContrs:function(e,t){var r=n(6)["default"];if(e.mergeName&&"null"!=e.mergeName){var o=r.getContrByAll(e.mergeName);return o?(t.push(o),$.getParentContrs(o,t)):t}return t},findStateInParent:function(e,t){var r=n(6)["default"];if(!e.mergeName||"null"==e.mergeName)return!1;var o=r.getContrByAll(e.mergeName);if(o&&$.isEditState(o,!1)){if(!t)return o;t.push(o),$.findStateInParent(o,t)}else{if(!o)return!1;if(!t)return $.findStateInParent(o);$.findStateInParent(o,t)}},isInState:function(e,t,n){if(!e)return!1;return!t&&$.isEditState(e,!1)?!n||e:$.findStateInParent(e)},getInStateContr:function(e,t){if($.isEditState(e,!1))return e;var n=$.isInState(e,!0,!1),r=$.getContrId(e),o=void 0;if(n&&n.states&&(o=$.getThisStateIndex(n,t),n.states[o])){var a=n.states[o].contrs;a[r]&&($.handleEventsData(e,a[r].events),$.extend(!0,e,a[r]))}return e},getThisStateIndex:function(e,t){var n=-1;return t&&e.state?n=e.state.startState:e.hoverState.isEndHover?n=e.hoverState.hoverEndIndex:e.state&&(n=e.state.endState),n},filterState:function(e){if(!e)return{};var t=["events","eventsTag","lastContent","isDepend","dependType","isLock","outerHidden","scrollX","scrollY"],n={};for(var r in e)-1==t.indexOf(r)&&(n[r]=e[r]);return n},styleDict:function(e){return{width:"width",height:"height",left:"left",top:"top",rotate:"rotation",radius:"borderRadius",isMaxRadius:"borderRadius",shadow:"boxShadow",opacity:"opacity",backColor:"backgroundColor",hasBackColor:"backgroundColor",insetBorder:"border",adjaceney:"letterSpacing",textColor:"color",iconColor:"color",fontSize:"fontSize",textShadow:"textShadow",indent:"textIndent",content:"value",border:"boxShadow",isB:"fontWeight",isI:"fontStyle",isU:"textDecoration",isS:"textDecoration",isShow:"opacity",isDelete:"opacity",src:"src"}[e]},isTextLine:function(e){var t=n(6)["default"],r=$.isString(e)?t.getContrByAll(e):e;return r&&("vLine"==r.baseContrType||"hLine"==r.baseContrType)},changeContrName:function(e,t,n,r){var o=t.name?t.name.split(" "):[];2==o.length&&("text"==t.type&&t.baseContrType?o[0]=={rect:"矩形",roundRect:"圆角矩形",round:"圆形",square:"正方形",hLine:"水平线",vLine:"垂直线"}[t.baseContrType]&&o[1]==t.id&&(e.name=o[0]+" "+(r||n[t.type+"Contr"])):o[0]=={text:"文本",image:"图片",wrapbox:"集合",icon:"图标"}[t.type]&&o[1]==t.id&&(e.name=o[0]+" "+(r||n[t.type+"Contr"])))},angleChangeArrVals:function(e,t){return[e[0]*Math.cos(t)+e[1]*Math.sin(t),e[1]*Math.cos(t)-e[0]*Math.sin(t)]},changeEventsContrName:function(e,t,r){var o=n(5)["default"],a=n(147)["default"];if(e&&($.isAdvancedContr(e.type)||$.isMobileContr(e.type))&&e.data&&a.changeListDataAll(e.data,function(e){e.events&&$.changeEventsContrName(e,t,r)}),e&&e.events)for(var i in e.events){var s=e.events[i];s.actions&&s.actions.forEach(function(e){"state"==e.type?t[e.contr]&&(e.contr=t[e.contr]):"page"==e.type&&r.importPage&&(r.pagesKey?r.pagesKey[e.page]&&(e.page=r.pagesKey[e.page]):r.copyPageId?e.page==r.copyPageId&&(e.page=r.pageId):e.page=""+(r.pageId||o.getActivePage()))})}},changeTransitionContrName:function(e,t){if(e.transition)for(var n in e.transition){var r={};for(var o in e.transition[n].contrs)t[o]&&(r[t[o]]=e.transition[n].contrs[o]);e.transition[n].contrs=r}},getIsOpenState:function(e,t){var r=n(6)["default"],o=t||r.getContrState(e);return e.isOpenState&&o&&!$.isUndefined(o.endState)&&-1!=o.endState},loadImage:function(e,t,n){if(t<10)try{var r=new window.Image;r.src=e,r.complete?n&&n(r,"complete"):(r.onload=function(){n&&n(r,"onload")},r.onerror=function(){setTimeout(function(){$.loadImage(e,t+1,n)},500)})}catch(o){}},getEventPosi:function(e){var t={};return e.clientX>=window.mouseDownTarget.posi[0]?(t.width=e.clientX-window.mouseDownTarget.posi[0],t.left=window.mouseDownTarget.posi[0]):(t.width=window.mouseDownTarget.posi[0]-e.clientX,t.left=e.clientX),e.clientY>=window.mouseDownTarget.posi[1]?(t.height=e.clientY-window.mouseDownTarget.posi[1],t.top=window.mouseDownTarget.posi[1]):(t.height=window.mouseDownTarget.posi[1]-e.clientY,t.top=e.clientY),t},getDragRotateChangePosi:function(e,t){var n=t||$.getRotateWH($.rotateToAngle(e.rotate,!0),[e.width,e.height]),r=$.rotateChangePosiVal([e.width,e.height],e.rotate),o=[];return $.fixRotateWH(n,e.rotate),e.rotate<=90?(o[0]=-1-r.left,o[1]=-1-r.top):e.rotate<=180?(o[0]=-r.left,o[1]=-1-r.top):e.rotate<=270?(o[0]=-1-r.left,o[1]=1-r.top):(o[0]=-2-r.left,o[1]=-1-r.top),o},isContrShow:function(e,t){return"preview"==t||"drag-preview"==t||!e.isDelete&&($.isUndefined(e.isShow)||e.isShow||($.getElById("structLabel")||$.getElById("wrapBoxLabel"))&&window.structHoverContrKey==$.getContrId(e))},quickSelectContr:function(e){var t=n(24)["default"],r=n(6)["default"],o=n(32)["default"],a=n(239)["default"],i=e.attr("data-id"),s=e.parents(".isC[data-type=wrapbox]"),l=e.parents(".isC"),u=o.getSymbolParentKeyArr(e,$.removeFunc),c=void 0,d=void 0;t.getMergeBoxShow()&&(t.wrapBoxEditOut(),t.emitChange()),setTimeout(function(){s.length>0&&(c=[],s.each(function(e,t){var n=r.getContrByAll(t.id);c.push(n)})),l.length>0&&(d=[],l.each(function(e,t){var n=r.getContrByAll(t.id);d.push(n)})),a.selectContr(i,undefined,u,c,d)},0)},removeFunc:function(){var e=n(432)["default"],t=n(32)["default"].getSymbolMaskShow(),r=t?$.query(".symbolMaskBox"):$.query(".mainBox.active");r&&($.removeClass(r,"isCmdKey"),$(".isC.hoverContr").removeClass("hoverContr"),e.emitChange(),(t?$(".symbolMaskBox .isC"):$(".mainBox.active .isC")).off("mouseenter").off("mouseleave").off("mousedown"))},handleEventsData:function(e,t,n){if(!e.events||0===$.objLength(e.events))return n&&(e.events=$.extend(!0,{},t)),!1;var r=[];for(var o in t)e.events[o]&&(e.events[o].actions=t[o].actions,r.push(o),n&&t[o].disable&&(delete e.events[o],delete t[o]));$.extend(!0,e.events,t),e.events&&0===$.objLength(e.events)&&delete e.events},changeContrPosiAllState:function(e,t,n){var r=$.getContrId(e),o=void 0,a=void 0,i=[(o=n&&$.isUsedState(n.contr)&&-1!=n.contr.state.endState?[(a=n.contr.states[n.contr.state.endState].contrs[$.getContrId(n.contr)]).left||e.left,a.top||e.top]:[e.left,e.top])[0]-t[0],o[1]-t[1]];if(e.left-=i[0],e.top-=i[1],e.states)for(var s in e.states){var l=e.states[s].contrs[r];$.isUndefined(l.left)||(l.left-=i[0]),$.isUndefined(l.top)||(l.top-=i[1])}},imgReader:function(e,t){var r=e.getAsFile(),o=new window.FileReader,a=[],i=!1,s=new window.FormData;if(s.append("imgs",r),r.size/1024/1024<=2?(i=!0,s.append("imgs",r)):a.push(r.name),i)o.onload=function(e){var n=new window.Image;n.name="copyImg."+r.type.split("image/")[1],n.src=e.target.result,n.fd=s,n.onload=function(){t(n)}},o.readAsDataURL(r);else{var l=n(313)["default"];a.length>0&&l.moreThanOneMB(a)}},clearPaste:function(){var e=window.document.createElement("input");e.style.position="fixed",e.style.opacity=0,e.value=" ",window.document.body.appendChild(e),e.select(),window.document.execCommand("Copy"),window.document.body.removeChild(e)},contrChangeVals:function(e,t){var n=$.getContrId(e);for(var r in t)if($.isUndefined(e[r])||(e[r]+=t[r]),e.states&&$.objLength(e.states)>0)for(var o in e.states)$.isUndefined(e.states[o].contrs[n][r])||(e.states[o].contrs[n][r]+=t[r])},getDefaultCutVals:function(e){return{boxHeight:e.height,boxLeft:0,boxTop:0,boxWidth:e.width,height:e.height,left:0,oriHeight:e.height,oriLeft:e.left,oriTop:e.top,oriWidth:e.width,top:0,width:e.width}},getIncludeContrs:function(e){var t={};if(t[$.getContrId(e)]=!0,"wrapbox"==e.type)for(var n in e.contrs)$.extend(t,$.getIncludeContrs(e.contrs[n]));return t},getEasingFuncName:function(e){var t=e.split("-");return t[1]+"."+t[0]},getThreeDecimal:function(e){return Math.round(1e3*e)/1e3},textIsBox:function(e){return"text"==e.type&&""==e.content.trim()},getCodeName:function(e){return $.textIsBox(e)?"box_"+e.id:"wrapbox"==e.type?"wrapper_"+e.id:$.getContrId(e)},removeStatesThisContrAll:function(e,t,n){if("wrapbox"==n.type)for(var r in n.contrs)$.removeStatesThisContrAll(e,r,n.contrs[r]);for(var o in e)e[o].contrs[t]&&delete e[o].contrs[t]},getIsNotOnlyExistInState:function(e,t,n){var r=!1;if(!e.states)return r;if(e.contrs[t].isDelete)for(var o in e.states)o==n||r||!e.states[o].contrs[t]||e.states[o].contrs[t].isDelete||(r=!0);else r=!0;return r},setPhoneConBoxTrans:function(e){var t=$.getElById("phoneConBox"),r=n(48)["default"],o=n(85)["default"],a=e||"trans",i=o.getStructPagesLength(),s=e?400:i>30?1500:1e3;r.setTransition(!0),r.optimizationOn(),$.addClass(t,a),clearTimeout(window.phoneConBoxTimer),window.phoneConBoxTimer=setTimeout(function(){$.removePhoneConBoxTrans(a,t)},s)},removePhoneConBoxTrans:function(e,t,r){clearTimeout(window.phoneConBoxTimer);var o=t||$.getElById("phoneConBox"),a=n(48)["default"];($.removeClass(o,"trans"),$.removeClass(o,"trans300"),r)||n(492)["default"].optimizationOff();a.setTransition(!1)},isPropEqual:function(e,t,n){return n?$.isStateEqual(e,t):$.isObject(e)&&$.isObject(t)?$.isObjectEqual(e,t):e==t},isStateEqual:function(e,t){return $.getContrEndState({state:e})==$.getContrEndState({state:t})},getAllChildContr:function(e,t){if(t=t||{},e&&"wrapbox"==e.type)for(var n in e.contrs)t[n]=e.contrs[n],$.getAllChildContr(e.contrs[n],t);return t},getStateIndex:function(e,t,n){if($.hasStates(e)){if(n&&$.getContrId(e)==$.getContrId(n))return e.hoverState.hoverEndIndex;if(t&&$.getContrId(e)==$.getContrId(t))return e.state.startState;if(-1!=e.state.endState)return e.state.endState}},getDecimals:function(e,t){return t=$.isUndefined(t)?1:t,parseFloat(e.toFixed(t))},getContrEndState:function(e){return $.isUsedState(e)?e.state.endState:-1},addAttention:function(e,t,n){var r=n||$("#"+e);if(r.length>0)if(t&&0===r.find("#animBreathDom").length){var o=$("<div id='animBreathDom' class='anim-breath-dom'></div>");o.on("webkitAnimationEnd",function(){o.off("webkitAnimationEnd"),o.remove()}),r.append(o)}else t||r.addClass("anim-breath").on("webkitAnimationEnd",function(){r.off("webkitAnimationEnd"),r.removeClass("anim-breath")})},getPageMaxHeight:function(e){var t=n(6)["default"],r=0;return e.forEach(function(e){e=t.getAllValsContr({contrKey:e});var n=$.getRotateBoxPosi(!1,e);r=Math.max(r,e.top+(n?n.height:e.height))}),Math.round(r)},isCutImage:function(){var e=$.getElById("cutImageLabel");return e&&$.hasClass(e,"active")},exitCutImage:function(e){if($.isCutImage()){var t=n(119)["default"],r=n(94)["default"],o=n(89)["default"],a=n(829)["default"],i=n(1372)["default"],s=n(414)["default"],l=r.getLabel(),u=t.getCutImageContr(),c=u.cutVals,d=$.rotateToAngle(u.rotate),f=$.extend(!0,{},c);e||(l[0].isFold=!0,l[1].isFold=!1,i.change(l)),f.oriLeft=u.left+f.left,f.oriTop=u.top+f.top;var p={key:$.getContrId(u),width:f.width,height:f.height,left:f.oriLeft,top:f.oriTop};return f.boxLeft-=f.left,f.boxTop-=f.top,f.left=0,f.top=0,f=$.extend(!0,f,{boxLeft:f.boxLeft*Math.cos(d)+f.boxTop*Math.sin(d),boxTop:f.boxTop*Math.cos(d)-f.boxLeft*Math.sin(d)}),s.contrPosi(p),o.contrUpdate(p.key,{cutVals:f}),a.exit(),!0}return!1},getObjVals:function(e,t){var n={};return t.forEach(function(t){n[t]=e[t]}),n},deleteChangeOtherState:function(e,t,n){e&&e.state&&e.state!=n&&(e.state.endState==t?-1==e.state.startState?e.state={}:e.state.endState=-1:e.state.startState==t&&(-1==e.state.endState?e.state={}:e.state.startState=-1))},updateImage:function(e){n(6)["default"].contrUpdate($.getContrId(e),{src:"/userImages/defaultImage.png"},!0,!0)},posiAdsorb:function(e,t,n){var r={},o={left:n,top:n},a=function(n){t.forEach(function(t){var a=Math.abs(e[n]-t[n]);0!=o[n]&&a<o[n]&&(r[n]=e[n]-t[n],o[n]=a)})};for(var i in e)a(i);return r},scrollBottom:function(e){e.scrollTop=e.scrollHeight},scrollPhoneConBoxPage:function(e,t){$.getElById("phoneConWrapBox").scrollTop-=200*t+100-$.offset(e).top},scrollTop:function(e){e.scrollTop=0},structDragKeyArr:function(e){return-1!=e.indexOf("page")?[e.replace("page",""),"page"]:-1!=e.indexOf("folder")?[e.replace("folder",""),"folder"]:[]},isShiftByEvent:function(e){return e.shiftKey},fixedMultiScrollMove:function(e,t,n,r,o){e<145?(window.cancelAnimationFrame(r.id),(n=function(){if(t.scrollTop<=0)return window.cancelAnimationFrame(r.id),n=null,void(r.id=undefined);t.scrollTop-=80*o*(1-Math.max(e-45,0)/100),r.id=window.requestAnimationFrame(n)})()):e>window.document.body.clientHeight-100?(window.cancelAnimationFrame(r.id),(n=function(){if(t.scrollTop+t.clientHeight>=t.scrollHeight)return window.cancelAnimationFrame(r.id),n=null,void(r.id=undefined);t.scrollTop+=80*o*(1-(window.document.body.clientHeight-e)/100),r.id=window.requestAnimationFrame(n)})()):r.id&&(window.cancelAnimationFrame(r.id),n=null,r.id=undefined)},getSelectPageList:function(e){var t=n(23)["default"],r=[];return[].slice.call(t.getStage().getStage().find(".selectPage")).forEach(function(t){r[e?"push":"unshift"](t.getAttr("id").replace("mainBox",""))}),r},getTranslateVals:function(e){return e.split("(")[1].split(")")[0].split(",").map(function(e){return parseInt(e)})},setTranslateVals:function(e){if(e.translate){var t=$.getTranslateVals(e.translate);e={x:t[0],y:t[1],z:t[2]}}return $.isUndefined(e.z)?"translate("+e.x+"px , "+e.y+"px)":"translate3d("+e.x+"px , "+e.y+"px, "+e.z+"px)"},setMainBoxTransform:function(e){e.transform?(e.dom.style.left=e.page.left+"px",e.dom.style.top=e.page.top+"px",e.dom.style.transform="translate3d("+e.dspl[0]+"px,"+e.dspl[1]+"px,0)"):e.normal&&(e.dom.style.left=e.page.left+e.dspl[0]+"px",e.dom.style.top=e.page.top+e.dspl[1]+"px",e.dom.style.transform="")},hidePageStruct:function(e){e&&$.getElById("pageStructLabel")&&setTimeout(function(){$(".menu-switch.menu-switch-open").click()},0)},fixedHierarchy:function(e,t,n,r){var o=$.extend(!0,[],e);o.reverse().forEach(function(a,i){a?"page"==a.type&&-1!=t.indexOf(""+a.key)?(t.remove(""+a.key),n&&n()):"page"==a.type&&-1==t.indexOf(""+a.key)?(e.splice(o.length-1-i,1),n&&n()):"folder"==a.type&&(r&&-1==r.indexOf(""+a.key)?(r.push(""+a.key),$.fixedHierarchy(e[o.length-1-i].folderHierarchy,t,n,r)):(e.splice(o.length-1-i,1),n&&n())):(e.splice(o.length-1-i,1),n&&n())})},getRgba:function(e){return"rgba("+Math.round(255*e.r)+", "+Math.round(255*e.g)+", "+Math.round(255*e.b)+", "+e.a+")"},inMaskPosi:function(e,t){return e?{x:Math.max(e.origin.x,t.origin.x),y:Math.max(e.origin.y,t.origin.y),w:Math.min(e.size.width,t.size.width-(e.origin.x-t.origin.x)),h:Math.min(e.size.height,t.size.height-(e.origin.y-t.origin.y))}:{x:t.origin.x,y:t.origin.y,w:t.size.width,h:t.size.height}},isDefaultImg:function(e){return!e||e&&-1!=e.indexOf("defaultImg")},getNestedSymbolArr:function(e){for(var t=[],n=$.objLength(e.symbols),r=!0;r&&t.length<n;)for(var o in r=!1,e.symbols)if(-1==t.indexOf(o)){var a=!0;e.symbols[o].hierarchy.some(function(n){return"symbol"==n.split("_")[0]&&-1==t.indexOf(e.contrs[n].symbolKey)&&(a=!1,!0)}),a&&(r=!0,t.push(o))}for(var i in e.symbols)-1==t.indexOf(i)&&t.push(i);return t},isChangeSymbolChild:function(e,t,n){if(t[e])return!0;if("symbol"==n.type&&t["symbolKey_"+n.symbolKey])return!0;if("wrapbox"==n.type){var r=!1;if(n.hierarchy.some(function(o){return!!$.isChangeSymbolChild(e,t,n.contrs[o])&&(r=!0,!0)}),r)return!0}return!1},changeAllSymbolKey:function(e,t,n,r,o){e.forEach(function(e,a){o["_"+e]=t[a],-1!=e.indexOf("wrapbox")&&n[e]&&r[t[a]]&&$.changeAllSymbolKey(n[e].hierarchy,r[t[a]].hierarchy,n,r,o)})},changeKeyObjFixedSymbolKey:function(e){var t={};for(var n in e)t["_"==n[0]?n.substr(1):n]=e[n];return t},getSymbolObjFunc:function(e,t){var r=n(78)["default"],o=n(1567)["default"],a=e.length,i=e[a-1],s=i&&i.symbols,l=void 0;if(s){var u=i.contrs;for(var c in u)r.addInitVal(u[c],undefined,undefined,undefined,undefined,t);for(var d in i.symbols)r.addInitVal(i.symbols[d],undefined,undefined,undefined,undefined,t);l={};var f=[];e.splice(a-1,1),$.getNestedSymbolArr(i).forEach(function(t){o.importSymbol(i.symbols[t],t,i,l,f,e)}),l=$.changeKeyObjFixedSymbolKey(l)}return{symbol:s?i:null,changeKeyObj:l}},pasteFunc:function(e,t,r){var o=n(6)["default"],a=n(5)["default"],i=n(51)["default"],s=n(886)["default"],l=n(32)["default"],u=n(89)["default"],c=n(78)["default"],d=n(286)["default"],f=e&&e.clipboardData,p=0,h=void 0,g=void 0,y=void 0;$.exitCutImage();var m=function(){var e=$.stringToObj(window.localStorage.copy);e&&e[0]||(window.Mousetrap.trigger(window.hotKey.command+"+c"),e=$.stringToObj(window.localStorage.copy));var n=a.getActivePage(!0),u=e&&e[0]&&e[0].isPc,f=$.getSymbolObjFunc(e);f=$.extend(!0,{},f),c.addInitVal(e,undefined,undefined,undefined,n&&n.isLandscape,u);var p=void 0;if($.exitCutImage(),$.isUndefined(e[0].copyKey)||(p=s.getCopyKey(e[0].copyKey)),$.isUndefined(e[0].isPc)||delete e[0].isPc,r)!function(){for(var e=r.verticalNum,t=r.verticalDistance,n=r.horizontalNum,a=r.horizontalDistance,s=$.offset($.query(".eightSpotBox"),!0),l=s.width,u=s.height,c=i.getZoom(),h=100*(l-1)/c,g=100*(u-1)/c,y=o.getSelectContrByHierarchy(!0),m=[],_=function(e){for(var r=function(n){y.forEach(function(r){var o=$.extend(!0,{},r);0==e&&0==n||(0==e?$.contrChangeVals(o,{left:(h+a)*n}):0==n?$.contrChangeVals(o,{top:(g+t)*e}):$.contrChangeVals(o,{left:(h+a)*n,top:(g+t)*e}),m.push(o))})},o=0;o<=n;o++)r(o)},v=0;v<=e;v++)_(v);d.pasteContrAction(m,undefined,p,f.symbol,f.changeKeyObj)}();else if(t){var h=$.query(".wrapBox.openNow"),g=h?$.offset(h,!0):l.getSymbolMaskShow()?$.offset($.query(".symbolMaskBox > .symbolDiv"),!0):$.mainBoxOffsetPosi(),y=i.getZoom(),m=[100*(t[0]-g.left)/y,100*(t[1]-g.top)/y],_=$.getSeveralElPosition(e,undefined,!0);e.forEach(function(e){$.contrChangeVals(e,{left:m[0]-_.left,top:m[1]-_.top})}),d.pasteContrAction(e,undefined,p,f.symbol,f.changeKeyObj)}else if(!window.copySelectChange&&$.query(".eightSpotBox")){var v=100*($.offset($.query(".eightSpotBox"),!0).height-1)/i.getZoom();e.forEach(function(e){$.contrChangeVals(e,{top:v})});var b=$.extend(!0,[],e);if(b.forEach(function(e){c.removeInitVal(e,undefined,n&&n.isLandscape)}),f.symbol&&f.symbol.symbols){var w=$.stringToObj(window.localStorage.copy);b.push(w[w.length-1])}e[0].copyKey&&(b[0].copyKey=e[0].copyKey),window.localStorage.copy=$.objToString(b),d.pasteContrAction(e,undefined,p,f.symbol,f.changeKeyObj)}else p&&delete e[0].copyKey,d.pasteContrAction(e,undefined,p,f.symbol,f.changeKeyObj);setTimeout(function(){window.copySelectChange=!1},0)};if(f){if(!(h=f.items))return;for(g=h[0],y=f.types||[];p<y.length;p++)if("Files"===y[p]){g=h[p];break}g&&"file"===g.kind&&g.type.match(/^image\//i)?$.imgReader(g,function(e){e?u.createImageContr({oriWidth:e.width,oriHeight:e.height,oriName:e.name,src:e.src,fd:e.fd}):m()}):m()}else m();return window.isKeyDown.isShift=!1,e.preventDefault(),!1},changeCutValsSize:function(e,t){return{left:(0,s.getTwoDecimal)(e.left*t),top:(0,s.getTwoDecimal)(e.top*t),width:(0,s.getTwoDecimal)(e.width*t),height:(0,s.getTwoDecimal)(e.height*t),boxLeft:(0,s.getTwoDecimal)(e.boxLeft*t),boxTop:(0,s.getTwoDecimal)(e.boxTop*t),boxWidth:(0,s.getTwoDecimal)(e.boxWidth*t),boxHeight:(0,s.getTwoDecimal)(e.boxHeight*t)}},isTextContr:function(e){return"text"==e.type&&"vLine"!=e.baseContrType&&"hLine"!=e.baseContrType},getOtherSizeChangeObj:function(e,t){if(!$.isUndefined(e.type)){var n={};return $.extend(!0,n,{width:$.isUndefined(e.width)?undefined:(0,s.getTwoDecimal)(e.width*t),height:$.isUndefined(e.height)?undefined:(0,s.getTwoDecimal)(e.height*t),left:(0,s.getTwoDecimal)(e.left*t),top:(0,s.getTwoDecimal)(e.top*t)}),$.isUndefined(e.radius)||($.isArray(e.radius)?n.radius=e.radius.map(function(e){return(0,s.getTwoDecimal)(e*t)}):n.radius=(0,s.getTwoDecimal)(e.radius*t)),"text"==e.type?($.extend(!0,n,{fontSize:(0,s.getTwoDecimal)(e.fontSize*t),indent:(0,s.getTwoDecimal)(e.indent*t),adjaceney:(0,s.getTwoDecimal)(e.adjaceney*t)}),e.textShadow&&(n.textShadow=(0,s.getTwoDecimal)(e.textShadow*t))):"image"==e.type&&e.cutVals&&(n.cutVals=$.changeCutValsSize(e.cutVals,t)),n}},otherSizeChangeStates:function(e,t){if(["width","height","left","top","fontSize","indent","adjaceney","textShadow"].forEach(function(n){$.isUndefined(e[n])||(e[n]=(0,s.getTwoDecimal)(e[n]*t))}),e.cutVals)for(var n in e.cutVals)$.isUndefined(e.cutVals[n])||(e.cutVals[n]=(0,s.getTwoDecimal)(e.cutVals[n]*t))},otherSizeChangeContr:function(e,t,n){if(!$.isUndefined(e.type)){var r=e.isDepend&&"bm"==e.dependType,o=$.getOtherSizeChangeObj(e,t);for(var a in e.states)if(e.states[a].contrs)for(var i in e.states[a].contrs)$.otherSizeChangeStates(e.states[a].contrs[i],t,r);if(!n&&"wrapbox"==e.type)for(var s in e.contrs)e.contrs[s]&&$.otherSizeChangeContr(e.contrs[s],t,n);$.extend(!0,e,o)}},notBasePhoneSize:function(){return window.phoneBaseSize.width!=window.phoneSize.width||window.phoneBaseSize.width!=window.phoneSize.width},isDependBottomContr:function(e,t){return $.notBasePhoneSize()&&(t||e.isDepend)&&"bm"==e.dependType},getDependBottomTopVal:function(e){var t=e.top;if($.isDependBottomContr(e)){var r=n(5)["default"].getPage(e.interfaceId,!0);if(r&&r.isLandscape){var o=window.phoneBaseSize.width-e.top/window.hss-e.height/window.hss;t=window.phoneSize.width-o*window.hss-e.height}else{var a=window.phoneBaseSize.height-e.top/window.ss-e.height/window.ss;t=window.phoneSize.height-a*window.ss-e.height}}return t},getDependBottomVal:function(){var e=n(5)["default"].getActivePage(!0);return e&&e.isLandscape?window.phoneSize.width-window.phoneBaseSize.width*window.hss:window.phoneSize.height-window.phoneBaseSize.height*window.ss},isSymbolContr:function(e){return e&&"symbol"==e.type},copyContrChangeSymbolVal:function(e,t,n){var r=e,o=$.getContrId(r),a=t&&t[o];return a&&!$.isUndefined(a[n])&&((r=$.extend(!0,{},r))[n]=a[n]),r},contrChangeSymbolVal:function(e,t){var r=e.type,o=$.getContrId(e),a=t&&t[o],s=e;switch(r){case"text":s=$.copyContrChangeSymbolVal(s,t,"content");break;case"icon":s=$.copyContrChangeSymbolVal(s,t,"iconKey");break;case"image":s=$.copyContrChangeSymbolVal(s,t,"src"),s=$.copyContrChangeSymbolVal(s,t,"cutVals")}if(a)for(var l in a)if("endState"==l){var u=n(6)["default"];s=$.extend(!0,{},u.getContrByAll(o)||s),s=$.copyContrChangeSymbolVal(s,(0,i["default"])({},o,{state:$.extend(!0,$.extend(!0,{},e.state),{endState:a[l]})}),"state"),s=u.getAllValsContr({contrKey:s,changeThisContr:!0})}return s},composeSymbol:function(e,t){var r=n(78)["default"];if($.isArray(e)){var o=e[0],a=e[1];for(var i in r.addInitVal(o,undefined,undefined,undefined,undefined,t),a.contrs)r.addInitVal(a.contrs[i],undefined,undefined,undefined,undefined,t);for(var s in a.symbols)r.addInitVal(a.symbols[s],undefined,undefined,undefined,undefined,t);return o=$.composeSymbolBySymbolData(o,a,o.children||{})}return r.addInitVal(e,undefined,undefined,undefined,undefined,t),e},composeSymbolBySymbolData:function(e,t,n){var r=$.getContrId(e),o=n||{};if("symbol"==e.type){var a=t.symbols[e.symbolKey];e.children&&(o=$.extend(!0,$.extend(!0,{},e.children),$.extend(!0,{},o))),e.hierarchy=a.hierarchy,e.contrs={},e.width=a.width,e.height=a.height,e.hierarchy.forEach(function(n){var r=t.contrs[n];e.contrs[n]=$.composeSymbolBySymbolData(r,t,o)}),e.type="wrapbox"}else if("wrapbox"==e.type)for(var i in e.contrs)e.contrs[i]=$.composeSymbolBySymbolData(e.contrs[i],t,o);return n[r]&&$.extend(!0,e,n[r]),e},addUserKeyToContr:function(e){e.userKey=window.userKey},getCutValsChangeObj:function(e,t){var n=e.width/e.height,r={};return r=n-t.width/t.height>0?{boxHeight:(0,s.getTwoDecimal)(t.height),boxLeft:(0,s.getTwoDecimal)(-(t.height*n-t.width)/2),boxTop:0,boxWidth:(0,s.getTwoDecimal)(t.height*n)}:{boxHeight:(0,s.getTwoDecimal)(t.width/n),boxLeft:0,boxTop:(0,s.getTwoDecimal)(-(t.width/n-t.height)/2),boxWidth:(0,s.getTwoDecimal)(t.width)},$.extend(!0,r,{height:(0,s.getTwoDecimal)(t.height),left:0,oriHeight:(0,s.getTwoDecimal)(t.height),oriLeft:(0,s.getTwoDecimal)(t.left),oriTop:(0,s.getTwoDecimal)(t.top),oriWidth:(0,s.getTwoDecimal)(t.width),top:0,width:(0,s.getTwoDecimal)(t.width)}),r},removeAllCanvasSymbolKey:function(e){e.canvasSymbolKey&&delete e.canvasSymbolKey,e.hierarchy&&e.hierarchy.forEach(function(e){$.removeAllCanvasSymbolKey(e)})},changePatchRemoveDeviation:function(e){var t=!0;for(var n in e)if(t&&"_t"!=n){var r=e[n].hierarchy;for(var o in r)if(t&&"_t"!=o)for(var a in r[o])if("_t"!=a){var i=r[o][a];$.isArray(i)&&2==i.length&&i[0]==+i[0]&&i[1]==+i[1]&&Math.abs(i[0]-i[1])<.03||(t=!1)}}return t},getBaseContrByKey:function(e){return{tKey:{index:0,contr:{width:28,height:21}},rKey:{index:1},oKey:{index:11,contr:{width:66,height:66}},pKey:{index:3,contr:{width:150,height:150}},iKey:{index:4,contr:{width:40,height:40}},lKey:{index:8,contr:{width:60,height:1}},hKey:{index:7},nKey:{index:6,contr:{width:26,height:26}},sKey:{index:12,contr:window.isPc?{width:600,height:240}:{width:320,height:150}},dKey:{index:66,contr:{width:160,height:40}}}[e]},getScrollPosi:function(){var e=n(5)["default"],t=n(51)["default"],r=n(290)["default"].getSize(),o=e.getActivePage(!0),a=t.getZoom()/100,i=o&&o.pageHeight||window.phoneSize.height;return{leftMin:(window.document.body.parentNode.clientWidth/2*(1+a)-200-270)/a,leftMax:(r.width+(window.phoneSize.width+r.width)*a-400)/a,topMin:(window.document.body.parentNode.clientHeight/2*(1+a)-200)/a,topMax:(r.height+(i+r.height)*a-400)/a}},contrAddRemoveValSaveData:function(e){var t=e.selects,r=e.contr,o=e.isAdd,a=e.typeText,i=e.dataName;n(10)["default"].createData({type:a+"ToggleChange",name:"["+(1===t.length?r.name:"多个元素")+"] "+(o?"开启"+i:"关闭"+i),handleObjType:1===t.length?r.type:"mutiContr",autoSaveType:"pageContrs"})},toolChangeLibCooperation:function(e,t,r,o){if("contr"==e)n(887)["default"].changeLibCooperationLength(t,r,o);else if("page"==e){n(276)["default"].changeLibCooperationLength(t,r,o)}else if("project"==e){n(460)["default"].setCooperationUserNum(r,o)}},hideRightMenu:function(){n(433)["default"].rightMenuShow(!1,!0)},isTableByKey:function(e){return-1!==e.indexOf("table_")},baseSetStyle:function(e){var t=e.marginLeft,n={};return t&&(n.marginLeft=t),n},isChangeStaticVal:function(e,t){var n=$.getStatic(t),r=!0;for(var o in e)if($.isUndefined(n[o])){r=!1;break}return r},getChangePosiArr:function(e,t){var n=void 0,r=0,o=[].concat(t);if(e>0)n=e/t.length,o=t.map(function(e){return e+n});else if(t.forEach(function(e){if(!(e>20))return 20;n=n?Math.min(n,e-20):e-20,r++}),r*n>-e)n=-e/r,o=t.map(function(e){return e>20?Math.max(e-n,20):20});else{var a=!1;if(o=t.map(function(e){return e>20?(a=!0,Math.max(e-n,20)):20}),a)return $.getChangePosiArr(e+n*r,o)}return o},getMinMaxColumnLine:function(e,t){var n=e[0],r=n.columnIndex,o=n.lineIndex,a=e[1],i=a.columnIndex,s=a.lineIndex,l={minColumn:Math.min(r,i),maxColumn:Math.max(r,i),minLine:Math.min(o,s),maxLine:Math.max(o,s)};if(t&&t.child)for(var u=t.child,c=l.minColumn,d=l.maxColumn,f=l.minLine,p=l.maxLine,h=c;h<=d;h++)for(var g=f;g<=p;g++){var y=u[h+"_"+g];y&&(y.mergeColumn&&(l.maxColumn=Math.max(l.maxColumn,h+y.mergeColumn)),y.mergeLine&&(l.maxLine=Math.max(l.maxLine,g+y.mergeLine)))}return l},tableMinVal:function(){return 20},addMergeKey:function(e,t,n){for(var r=n.mergeColumn,o=n.mergeLine,a=t.columnIndex,i=t.lineIndex,s=e.mergeLineData,l=e.mergeCellArr,u=s.rowArr,c=s.lineArr,d=a;d<=a+(r||0);d++)for(var f=i;f<=i+(o||0);f++)d===a&&f===i||l.push(d+"_"+f),d!==a&&d<=a+(r||0)&&u.push(d+"|"+f),f!==i&&f<=i+(o||0)&&c.push(f+"|"+d)},fixTableWidthHeight:function(e){"table"==e.type&&(e.width=e.columnPosi.reduce(function(e,t){return e+t}),e.height=e.linePosi.reduce(function(e,t){return e+t}))},changeNums:function(e){n(6)["default"].changeNums(e)},getContrKeyByUserKey:function(e,t){var n=t||e.id;return n&&-1!=(""+n).indexOf("X")?parseInt(n.split("X")[0]):n},getNumKey:function(e){var t=window.userKey;return t?e+"X"+t:e},getStructSelectArr:function(){var e=$("#structList li.isSelect"),t=[],n=[];return e.forEach(function(e){var r=void 0,o=void 0;e.getAttribute("data-parentkey").split("").some(function(e){return-1!=t.indexOf("folder"+e)})||(o=e.getAttribute("data-id"),t.push(o),r=$.structDragKeyArr(o),n.push({key:r[0],type:r[1]}))}),n},shadowNumToArray:function(e,t,n){return[0,parseFloat(e),parseFloat(e),0,t||"rgba(0, 0, 0, 0.5)",!!n]},shadowChangeColor:function(e,t){return $.isArray(e)?(e[4]=t,e):$.shadowNumToArray(e,t)},getRadiusAddValue:function(e,t){return e?Math.ceil(t):0},getContrVal:function(e,t){if($.isFunc(e))return e(t);var n=e;return $.isString(e)&&-1!=e.indexOf("contr.")&&(n=t[e.split("contr.")[1]]),n},isSliderDom:function(e){var t=e.contrKey,n=e.sliderSet;return window.sliderId==t+n.valKey},getLayerName:function(e){return"零一二三四五六七八九".split("")[e]}});t["default"]=c,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&l.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/util/jqueryExtend.js"),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&u(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=r(n(885)),i=n(66).createJsonDiff(),s=window.$;function l(e,t,n,r,l){var u,c=o["default"].getSymbolContr(),d=o["default"].getNums(),f=!1,p=!1,h=!1;for(var g in c.symbols)if(!f){var y=c.symbols[g];if(y.uniqueKey==e.uniqueKey){p=!0;var m=y.hierarchy.map(function(e){return o["default"].getCopyContrBySymbolHierarchy(c.contrs[e])});m=s.extend(!0,{},m),s.removeAllCanvasSymbolKey(m);var _=e.hierarchy.map(function(e){return o["default"].getCopyContrBySymbolHierarchy(n.contrs[e])}),v=i.diff(m,_);console.log(v,"changePatch"),v&&!s.changePatchRemoveDeviation(v)||(f=!0,e.hierarchy.some(function(e){return!!s.isChangeSymbolChild(e,r,n.contrs[e])&&(h=!0,!0)})),h||(s.changeAllSymbolKey(e.hierarchy,y.hierarchy,n.contrs,c.contrs,r),u=s.extend(!0,[],y.hierarchy),r["_symbolKey_"+t]=g);break}}if(!p||p&&!f||h){var b=a["default"].createSymbolFromImport(e,d,c,!p);r["symbolKey_"+t]=b,l.push(b)}else e.hierarchy.forEach(function(e){delete n.contrs[e]}),e.hierarchy=u.map(function(e){return"changed_"+e})}t.importSymbol=l,t["default"]={importSymbol:l}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=i(n(11)),u=window.$,c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.changeViewFunc,n=void 0===t?u.noop:t,r=e.multiViewType;return s["default"].createElement("div",{className:"change-multi-type",style:{display:"inherit"}},["free-view","fixed-view"].map(function(e){return s["default"].createElement("div",a({key:e,className:l["default"]("max-icon-box a_c "+e+"-icon-panel cursor-pointer",{"is-fix-model":e==r}),"data-key":e,onMouseDown:n},u.addHoverData({text:"free-view"==e?"页面流程":"固定模式"})),s["default"].createElement("div",{className:"prd-icons "+e+"-icon"}))}))},t}(s["default"].Component);t.ChangeMultiTypeBtnComp=c,t["default"]=c},function(e,t,n){e.exports={"default":n(1570),__esModule:!0}},function(e,t,n){n(1571);var r=n(121).Object;e.exports=function(e,t){return r.defineProperties(e,t)}},function(e,t,n){var r=n(215);r(r.S+r.F*!n(427),"Object",{defineProperties:n(1558)})},,,,,,,,,function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),_PrdFooterShowStore=__webpack_require__(852),_PrdFooterShowStore2=_interopRequireDefault(_PrdFooterShowStore),_pageViewHandle=__webpack_require__(303),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var HEAD_HEIGHT=45,MAX_WIDTH=250,MAX_HEIGHT=150,PAGE_WIDTH=window.phoneSize.width,PAGE_HEIGHT=window.phoneSize.height,PageGuideBoxComp=(_class=function(_Component){function PageGuideBoxComp(){(0,_classCallCheck3["default"])(this,PageGuideBoxComp);var e=(0,_possibleConstructorReturn3["default"])(this,(PageGuideBoxComp.__proto__||(0,_getPrototypeOf2["default"])(PageGuideBoxComp)).call(this));return e.state={isFooterShow:_PrdFooterShowStore2["default"].isFooterShow()},e}return(0,_inherits3["default"])(PageGuideBoxComp,_Component),(0,_createClass3["default"])(PageGuideBoxComp,[{key:"componentDidMount",value:function(){_PrdFooterShowStore2["default"].addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){_PrdFooterShowStore2["default"].removeChangeListener(this._onChange)}},{key:"_onChange",value:function(){this.setState({isFooterShow:_PrdFooterShowStore2["default"].isFooterShow()})}},{key:"_pageGuideDragMouseDown",value:function(e){var t=this.props;(0,t.mouseDownFunc)(e,t.phoneConBoxPos)}},{key:"render",value:function(){var e=this.state.isFooterShow,t=$.getWindowWH(),n=t.width,r=t.height-HEAD_HEIGHT,o=n/r,a=o>MAX_WIDTH/MAX_HEIGHT,i={},s=[],l=this.props,u=l.pageKeyList,c=l.zoom,d=l.phoneConBoxPos,f=l.pages,p=void 0,h=void 0,g=void 0,y=void 0,m=1,_={};a?(i.width=MAX_WIDTH-40,i.height=i.width/o):(i.height=MAX_HEIGHT-40,i.width=i.height*o),i.left=(MAX_WIDTH-i.width)/2,i.top=(MAX_HEIGHT-i.height)/2;var v=i.width/n;if(u.forEach(function(e){if(f[e]){var t=f[e].isSelect,n=(0,_pageViewHandle.getPagePos)(e,f[e]),r=n.left,o=n.top;$.isUndefined(p)?(p=r,h=o,g=r,y=o):(p=Math.min(p,r),h=Math.min(h,o),g=Math.max(g,r),y=Math.max(y,o)),s.push(_react2["default"].createElement("div",{id:"pageGuide"+e,className:"pageGuideOne"+(t?" select":""),key:"pageGuideOne"+e,style:{left:r*v,top:o*v,width:PAGE_WIDTH*v,height:PAGE_HEIGHT*v}}))}}),_.left=Math.min(0,p+d.left/c+n*(1/c-1)/2),_.right=Math.min(0,n*(1/c+1)/2-g-PAGE_WIDTH-d.left/c),_.top=Math.min(0,h+d.top/c+r*(1/c-1)/2),_.bottom=Math.min(0,r*(1/c+1)/2-y-PAGE_HEIGHT-d.top/c),_.left<0||_.right<0||_.top||_.bottom){var b=_.left+_.right,w=_.top+_.bottom,C=n/(n-Math.abs(_.right-_.left)*(1-c)-b),x=r/(r-Math.abs(_.bottom-_.top)*(1-c)-w);m=Math.min(C,x),i.transform="scale("+m+")",i.left+=(_.right-_.left)/(2/c)*v*m,i.top+=(_.bottom-_.top)/(2/c)*v*m}return _react2["default"].createElement("div",{className:"pageGuideBox",onDoubleClick:$.stopPropagation,style:{bottom:e?175:5}},_react2["default"].createElement("div",{className:"pageGuideDrag",onMouseDown:this._pageGuideDragMouseDown,style:i,"data-minwidth":i.width*m},_react2["default"].createElement("div",{className:"pagesBox",style:{transform:"scale("+c+")  translate3d("+d.left*v+"px, "+d.top*v+"px, 0)"}},s)))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PageGuideBoxComp}(_react.Component),_applyDecoratedDescriptor(_class.prototype,"_onChange",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_onChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_pageGuideDragMouseDown",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_pageGuideDragMouseDown"),_class.prototype),_class),_default=PageGuideBoxComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(HEAD_HEIGHT,"HEAD_HEIGHT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/PageGuideBox.react.js"),reactHotLoader.register(MAX_WIDTH,"MAX_WIDTH","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/PageGuideBox.react.js"),reactHotLoader.register(MAX_HEIGHT,"MAX_HEIGHT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/PageGuideBox.react.js"),reactHotLoader.register(PAGE_WIDTH,"PAGE_WIDTH","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/PageGuideBox.react.js"),reactHotLoader.register(PAGE_HEIGHT,"PAGE_HEIGHT","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/PageGuideBox.react.js"),reactHotLoader.register(PageGuideBoxComp,"PageGuideBoxComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/PageGuideBox.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/PageGuideBox.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_FolderName=__webpack_require__(1582),_FolderName2=_interopRequireDefault(_FolderName),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),_DragContrStore=__webpack_require__(76),_DragContrStore2=_interopRequireDefault(_DragContrStore),_SaveDataStore=__webpack_require__(10),_SaveDataStore2=_interopRequireDefault(_SaveDataStore),_DragContrActions=__webpack_require__(311),_DragContrActions2=_interopRequireDefault(_DragContrActions),_ToastActions=__webpack_require__(12),_ToastActions2=_interopRequireDefault(_ToastActions),_ViewStructHandle=__webpack_require__(85),_ViewCreateHandle=__webpack_require__(154),_GetPagePosHandle=__webpack_require__(204),_PageRenderHandle=__webpack_require__(87),_pageUtil=__webpack_require__(98),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var RomanNum=["Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ"],FolderTopBoxComp=function(_Component){function FolderTopBoxComp(){(0,_classCallCheck3["default"])(this,FolderTopBoxComp);var e=(0,_possibleConstructorReturn3["default"])(this,(FolderTopBoxComp.__proto__||(0,_getPrototypeOf2["default"])(FolderTopBoxComp)).call(this));return e.state={moving:!1},e._deleteFolderClick=e._deleteFolderClick.bind(e),e._addFolderClick=e._addFolderClick.bind(e),e._addPageClick=e._addPageClick.bind(e),e._moveFolder=e._moveFolder.bind(e),e._dragEnter=e._dragEnter.bind(e),e._dragLeave=e._dragLeave.bind(e),e._dragMove=e._dragMove.bind(e),e._mouseUp=e._mouseUp.bind(e),e}return(0,_inherits3["default"])(FolderTopBoxComp,_Component),(0,_createClass3["default"])(FolderTopBoxComp,[{key:"shouldComponentUpdate",value:function(e){return e.update_key!==this.props.update_key}},{key:"render",value:function(){var e=this.props.thisBox;return _react2["default"].createElement("div",{key:"folder-box"+e.key,className:"folder-box layer-"+this.props.index,ref:"folderBox",id:"folder"+e.key,"data-key":e.key,onMouseEnter:this._dragEnter,onMouseLeave:this._dragLeave,onMouseMove:this._dragMove,onMouseUp:this._mouseUp},_react2["default"].createElement("div",{className:"folder-drag-handler material-icons iconfont",onMouseDown:this._moveFolder}),_react2["default"].createElement("div",{className:"name-box","data-layer":RomanNum[this.props.index-1]+"."},_react2["default"].createElement(_FolderName2["default"],{folderName:e.name,folderKey:e.key})),_react2["default"].createElement("i",(0,_extends3["default"])({className:"delelte-folder-icon a_c material-icons iconfont","data-key":e.key,onClick:this._addFolderClick,onMouseDown:$.stopPropagation},$.addHoverData({text:"分组内创建新分组",direction:"top",changePosi:20,changeOtherPosi:0})),"create_new_folder"),_react2["default"].createElement("i",(0,_extends3["default"])({className:"delelte-folder-icon a_c material-icons iconfont","data-key":e.key,onClick:this._addPageClick,onMouseDown:$.stopPropagation},$.addHoverData({text:"分组内创建页面",direction:"top",changePosi:20,changeOtherPosi:0})),"add"),_react2["default"].createElement("i",(0,_extends3["default"])({className:"delelte-folder-icon a_c material-icons iconfont","data-key":e.key,"data-name":e.name,onClick:this._deleteFolderClick,onMouseDown:$.stopPropagation},$.addHoverData({text:"删除分组",direction:"top",changePosi:20,changeOtherPosi:0})),"delete"))}},{key:"_mouseUp",value:function(e){$.removeClass(e.currentTarget,"dropping-top"),$.removeClass(e.currentTarget,"dropping"),$.removeClass(e.currentTarget,"dropping-bottom")}},{key:"_dragEnter",value:function(e){if(!_ViewStore2["default"].isMultiFixed()||!$.hasClass($.getElById("allPanel"),"multi-fixed-drag"))return!1;var t=$.offset(e.currentTarget);e.pageY<=t.top+30*_ViewStore2["default"].getZoom()&&!$.hasClass(e.currentTarget,"dropping-top")?($.removeClass(e.currentTarget,"dropping"),$.removeClass(e.currentTarget,"dropping-bottom"),$.addClass(e.currentTarget,"dropping-top")):e.pageY<t.top+120*_ViewStore2["default"].getZoom()&&e.pageY>t.top+30*_ViewStore2["default"].getZoom()&&!$.hasClass(e.currentTarget,"dropping")?($.removeClass(e.currentTarget,"dropping-top"),$.removeClass(e.currentTarget,"dropping-bottom"),$.addClass(e.currentTarget,"dropping")):e.pageY>t.top+120*_ViewStore2["default"].getZoom()&&!$.hasClass(e.currentTarget,"dropping-bottom")&&($.removeClass(e.currentTarget,"dropping-top"),$.removeClass(e.currentTarget,"dropping"),$.addClass(e.currentTarget,"dropping-bottom"))}},{key:"_dragLeave",value:function(e){if(!_ViewStore2["default"].isMultiFixed()||!$.hasClass($.getElById("allPanel"),"multi-fixed-drag"))return!1;$.removeClass(e.currentTarget,"dropping-top"),$.removeClass(e.currentTarget,"dropping"),$.removeClass(e.currentTarget,"dropping-bottom")}},{key:"_dragMove",value:function(e){if(!_ViewStore2["default"].isMultiFixed()||!$.hasClass($.getElById("allPanel"),"multi-fixed-drag"))return!1;var t=$.offset(e.currentTarget);e.pageY<=t.top+30*_ViewStore2["default"].getZoom()&&!$.hasClass(e.currentTarget,"dropping-top")?($.removeClass(e.currentTarget,"dropping"),$.removeClass(e.currentTarget,"dropping-bottom"),$.addClass(e.currentTarget,"dropping-top")):e.pageY<t.top+120*_ViewStore2["default"].getZoom()&&e.pageY>t.top+30*_ViewStore2["default"].getZoom()&&!$.hasClass(e.currentTarget,"dropping")?($.removeClass(e.currentTarget,"dropping-top"),$.removeClass(e.currentTarget,"dropping-bottom"),$.addClass(e.currentTarget,"dropping")):e.pageY>t.top+120*_ViewStore2["default"].getZoom()&&!$.hasClass(e.currentTarget,"dropping-bottom")&&($.removeClass(e.currentTarget,"dropping-top"),$.removeClass(e.currentTarget,"dropping"),$.addClass(e.currentTarget,"dropping-bottom"))}},{key:"_deleteFolderClick",value:function(e){var t=e.currentTarget.getAttribute("data-key"),n=e.currentTarget.getAttribute("data-name");(0,_ViewStructHandle.deleteFolder)({key:t}),(0,_PageRenderHandle.pageEmitChange)(),this.props.parent.setState({}),_SaveDataStore2["default"].createData({type:"deleteFolder",name:"["+n+"] 删除",handleObjType:"folder",autoSaveType:"changePages"})}},{key:"_addFolderClick",value:function(e){var t=e.target.getAttribute("data-key"),n=(0,_ViewStructHandle.findStructFolder)(t,"folder").val,r=_ViewStore2["default"].getPageSelect().map(function(e){return{type:"page",key:e}});(0,_ViewStructHandle.addStructFolder)(r,!0,n.folderHierarchy),(0,_PageRenderHandle.pageEmitChange)();var o=_ViewStore2["default"].getView().folderTotal;_ToastActions2["default"].show("创建分组成功"),_SaveDataStore2["default"].createData({type:"createFolder",name:"[多视图] 分组内创建分组",handleObjType:"folder",autoSaveType:"changeStruct"}),setTimeout(function(){$.scrollPhoneConBoxPage($.getElById("folder"+o),_ViewStore2["default"].getZoom())},0)}},{key:"_addPageClick",value:function(e){var t=e.target.getAttribute("data-key"),n=(0,_GetPagePosHandle.getNewPagePosi)(),r=(0,_ViewStructHandle.findStructFolder)(t,"folder").val;(0,_ViewCreateHandle.pageCreate)(n,!1,!0);var o=_ViewStore2["default"].getView().total;r.folderHierarchy.push({key:o,type:"page"}),(0,_PageRenderHandle.pageEmitChange)(),_ViewStore2["default"].selectChange([""+o]),_ViewStore2["default"].emitPageStructChange(),_ToastActions2["default"].show("创建页面成功"),_SaveDataStore2["default"].createData({type:"createPage",name:"[多视图] 分组内创建页面",handleObjType:"page",autoSaveType:"changePages"}),setTimeout(function(){$.scrollPhoneConBoxPage($.getElById("mainBox"+o),_ViewStore2["default"].getZoom())},0)}},{key:"_moveFolder",value:function(e){var t=this.props.thisBox.key,n=_ViewStore2["default"].isMultiView(),r=[e.clientX,e.clientY],o=e.target,a=void 0,i=$(e.currentTarget).next(),s=i.find(".folder-name"),l=!1;$.setDrag({name:"myFolderDragMove",posi:r,target:o,moveFunc:function(e){a||($.hidePageStruct(n),_ViewStore2["default"].selectChange([],!0),(0,_ViewStructHandle.changeStructFolderHide)(t),_DragContrActions2["default"].init({type:"folder",posi:r,contr:{folderKey:t,name:s.is("input")?s.val():s.text(),layer:i[0].getAttribute("data-layer")}}),$.addClass($.getElById("allPanel"),"multi-fixed-drag"),a=!0,(0,_PageRenderHandle.pageEmitChange)()),_DragContrActions2["default"].move({posi:[e.clientX,e.clientY]})},endFunc:function(){if(a){var e=$(".drop-area.drop-right, .drop-area.drop-left, .folder-box.dropping, .folder-box.dropping-top, .folder-box.dropping-bottom")[0],n=void 0;e&&(n=e.id,$.hasClass(e,"drop-left")&&e.getAttribute("data-prevpage")?(0,_ViewStructHandle.addStructPageAfter)([e.getAttribute("data-prevpage"),"page"],t,!0):$.hasClass(e,"folder-box")?$.hasClass(e,"dropping")?(0,_ViewStructHandle.addStructPageInFolder)(e.getAttribute("data-key"),t,undefined,!0):$.hasClass(e,"dropping-top")?(0,_ViewStructHandle.addStructPageInFolderBefore)(e.getAttribute("data-key"),t,!0):$.hasClass(e,"dropping-bottom")&&(0,_ViewStructHandle.addStructPageInFolder)(e.getAttribute("data-key"),t,!0,!0):n&&$.hasClass(e,"drop-right")?(0,_ViewStructHandle.addStructPageAfter)([parseInt((0,_pageUtil.getPageIdByKey)(n)),"page"],t,!0):n&&$.hasClass(e,"drop-left")&&(0,_ViewStructHandle.addStructPageBefore)([parseInt((0,_pageUtil.getPageIdByKey)(n)),"page"],t,!0),(0,_ViewStructHandle.changeStructFolderHide)(t,!0),_ViewStore2["default"].emitViewChange(),_ViewStore2["default"].emitPageStructChange(),(0,_PageRenderHandle.pageEmitChange)(),_SaveDataStore2["default"].createData({type:"fixedMoveFolder",name:"[多视图] 分组层级位置移动",handleObjType:"folder",autoSaveType:"changeStruct"}),l=!0),_DragContrStore2["default"].hide(),l||(0,_ViewStructHandle.changeStructFolderHide)(t),$.removeClass($.getElById("allPanel"),"multi-fixed-drag")}}}),e.stopPropagation()}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FolderTopBoxComp}(_react.Component),_default=FolderTopBoxComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(RomanNum,"RomanNum","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/FolderTopBox.react.js"),reactHotLoader.register(FolderTopBoxComp,"FolderTopBoxComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/FolderTopBox.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/FolderTopBox.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(39),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_ViewStore=__webpack_require__(5),_ViewStore2=_interopRequireDefault(_ViewStore),_ToastActions=__webpack_require__(12),_ToastActions2=_interopRequireDefault(_ToastActions),_ViewAutoSaveHandle=__webpack_require__(61),_ViewStructHandle=__webpack_require__(85),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var FolderNameComp=function(_Component){function FolderNameComp(e){(0,_classCallCheck3["default"])(this,FolderNameComp);var t=(0,_possibleConstructorReturn3["default"])(this,(FolderNameComp.__proto__||(0,_getPrototypeOf2["default"])(FolderNameComp)).call(this,e));return t.state={renderChange:0,folderName:!1,isEditName:!1},t._folderNameInputChange=t._folderNameInputChange.bind(t),t._folderNameInputBlur=t._folderNameInputBlur.bind(t),t._folderNameSpanClick=t._folderNameSpanClick.bind(t),t}return(0,_inherits3["default"])(FolderNameComp,_Component),(0,_createClass3["default"])(FolderNameComp,[{key:"shouldComponentUpdate",value:function(e,t){return t.renderChange!==this.state.renderChange||e.folderName!=this.props.folderName||e.folderKey!=this.props.folderKey}},{key:"render",value:function(){var e={onMouseDown:$.stopPropagation,onDoubleClick:$.stopPropagation};return this.state.isEditName?_react2["default"].createElement("input",(0,_extends3["default"])({},e,{ref:"folderNameInput",className:"folder-name isEdit",onChange:this._folderNameInputChange,onBlur:this._folderNameInputBlur,onFocus:$.rangeGoEnd,value:this.state.folderName})):_react2["default"].createElement("span",(0,_extends3["default"])({},e,{className:"folder-name",onClick:this._folderNameSpanClick}),!1===this.state.folderName?this.props.folderName:this.state.folderName)}},{key:"_folderNameSpanClick",value:function(e){var t=this,n={renderChange:t.state.renderChange+1,isEditName:!0};n.folderName=e.currentTarget.innerText,t.setState(n,function(){t.refs.folderNameInput.focus()}),e.stopPropagation()}},{key:"_folderNameInputBlur",value:function(e){var t=e.target.value.trim(),n=t.gblen()>window.maxNameLength,r=(0,_ViewStructHandle.findStructFolder)(this.props.folderKey,"folder").val.name;n&&(t=$.stringCut(t,window.maxNameLength),_ToastActions2["default"].show("分组名称不能超过"+window.maxNameLength+"个字符")),""!==t&&t!=r?((0,_ViewStructHandle.changeStructFolderName)(this.props.folderKey,t),n||_ToastActions2["default"].show("分组名称修改成功"),(0,_ViewAutoSaveHandle.setAutoSaveChangePages)("changeStruct"),this.setState({renderChange:this.state.renderChange+1,folderName:t,isEditName:!1}),_ViewStore2["default"].isMultiView()&&_ViewStore2["default"].isShowPageStruct()&&$('#structList .folder-layer[data-id="folder'+this.props.folderKey+'"] .name-wrapper').text(t),$.getElById("folderEnd"+this.props.folderKey).setAttribute("data-name",t)):this.setState({renderChange:this.state.renderChange+1,folderName:r,isEditName:!1})}},{key:"_folderNameInputChange",value:function(e){this.setState({renderChange:this.state.renderChange+1,folderName:e.target.value})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FolderNameComp}(_react.Component),_default=FolderNameComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(FolderNameComp,"FolderNameComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/FolderName.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/FolderName.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(1)),l=i(n(1584)),u=n(85),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=window.phoneSize.width+90,t=this.props,n=t.padding,r=t.zoom,o=15/r,a=Math.floor(($.getWinSize().width-n[1]-n[3])/(r*e)),i=u.getStructTree(a);return i.children&&i.children.length>0?s["default"].createElement("div",{className:"folder-indicator",style:{top:n[0]/r+120+30,right:n[1]/r,width:i.layers*o-o+30}},i.children.map(function(e,t){return s["default"].createElement(l["default"],{key:"layer1-"+t,layer:1,info:e,zoom:r})})):null},t}(s.Component);t["default"]=c},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var folderH=290,folderTopH=folderH-100,pageH=window.phoneSize.height+3+70+60,FolderIndicatorItemComp=function(_Component){function FolderIndicatorItemComp(){(0,_classCallCheck3["default"])(this,FolderIndicatorItemComp);var e=(0,_possibleConstructorReturn3["default"])(this,(FolderIndicatorItemComp.__proto__||(0,_getPrototypeOf2["default"])(FolderIndicatorItemComp)).call(this));return e.state={},e}return(0,_inherits3["default"])(FolderIndicatorItemComp,_Component),(0,_createClass3["default"])(FolderIndicatorItemComp,[{key:"render",value:function(){var e=this,t=e.props.info.children,n=[],r=e.props.layer+1;return t&&t.length>0&&t.forEach(function(t,o){n.push(_react2["default"].createElement(FolderIndicatorItemComp,{key:"layer"+r+"-"+o,layer:r,info:t,zoom:e.props.zoom}))}),_react2["default"].createElement("div",{className:"indicator-group",style:{height:pageH*e.props.info.pageLine+40+e.props.info.folderNum*folderH,top:e.props.info.before.folderNum*folderH+e.props.info.before.pageLine*pageH+(r>2?folderTopH:0),right:r>2?15/e.props.zoom:0}},_react2["default"].createElement("div",{className:"indicator-item"}),n)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FolderIndicatorItemComp}(_react.Component),_default=FolderIndicatorItemComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(folderH,"folderH","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/FolderIndicatorItem.react.js"),reactHotLoader.register(folderTopH,"folderTopH","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/FolderIndicatorItem.react.js"),reactHotLoader.register(pageH,"pageH","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/FolderIndicatorItem.react.js"),reactHotLoader.register(FolderIndicatorItemComp,"FolderIndicatorItemComp","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/FolderIndicatorItem.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/js/components/middle/FolderIndicatorItem.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=u(n(11)),f=u(n(3)),p=n(28),h=u(n(23)),g=u(n(146)),y=u(n(5)),m=u(n(1586)),_=u(n(1587)),v=u(n(1594)),b=n(597),w=u(n(1595)),C=n(1596),x=window,S=x.$,P=x.isPrototypeTool,k=!1,O=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,dblClickKey:0,isMoveChange:!1,cursor:g["default"].getCursor()},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=y["default"].isMultiView(),r=g["default"].getCursor(),o=window,a=o.renderActivePage,i=o.temporarySet.downloadActivePage,s=k&&"color-picker"!=r;return k="color-picker"==r,this.state.renderChange!=t.renderChange&&(P&&n||!P||k||s||!!a||!!i)},t.prototype.componentDidMount=function(){h["default"].addChangeListener(this._onChange),h["default"].addMoveChangeListener(this._onMoveChange),h["default"].addDblclickChangeListener(this._onChangeDblclickKey),g["default"].addChangeListener(this._onCursorChange)},t.prototype.componentWillUnmount=function(){h["default"].removeChangeListener(this._onChange),h["default"].removeMoveChangeListener(this._onMoveChange),h["default"].removeDblclickChangeListener(this._onChangeDblclickKey),g["default"].removeChangeListener(this._onCursorChange)},t.prototype._onCursorChange=function(){this.setState({renderChange:this.state.renderChange+1,cursor:g["default"].getCursor(),isMoveChange:!0})},t.prototype._onChange=function(){this.setState({renderChange:this.state.renderChange+1,isMoveChange:!1})},t.prototype._onMoveChange=function(){this.setState({renderChange:this.state.renderChange+1,isMoveChange:!0})},t.prototype._onChangeDblclickKey=function(){this.setState({renderChange:this.state.renderChange+1,isMoveChange:!0,dblClickKey:this.state.dblClickKey+1})},t.prototype.render=function(){var e,t=P?this.props.canvasPos:C.getCanvasStagePos(),n=t.canvasX,r=t.canvasY,o=t.canvasZoom,i=this.state,s=i.isMoveChange,l=i.cursor,u=S.getWinSize(),f=u.width,g=u.height;return c["default"].createElement(p.Stage,a({key:"canvasAllPage"},P?b.getAllCanvasEvent():w["default"].getAllCanvasEvent(),{style:{zIndex:1},className:d["default"]("canvas-stage",(e={},e["cursor-"+l]=!0,e)),ref:function(e){h["default"].setStage(e)}},{width:f,height:g}),c["default"].createElement(p.Layer,{id:"canvasLayer",x:n,y:r,scale:{x:o,y:o}},c["default"].createElement(m["default"],{isMoveChange:s,canvasPos:t}),c["default"].createElement(_["default"],a({isMoveChange:s},this.props,{canvasPos:t}))),c["default"].createElement(v["default"],null))},i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onCursorChange",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onChange",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onMoveChange",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onChangeDblclickKey",null),t}(c.Component);t["default"]=O},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=l(n(3)),d=n(28),f=l(n(23)),p=n(597),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dblClickKey:0},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return 1!=e.isMoveChange||this.state.dblClickKey!=t.dblClickKey},t.prototype.componentDidMount=function(){f["default"].addDblclickChangeListener(this._onChangeDblclickKey)},t.prototype.componentWillUnmount=function(){f["default"].removeDblclickChangeListener(this._onChangeDblclickKey)},t.prototype._onChangeDblclickKey=function(){this.setState({dblClickKey:this.state.dblClickKey+1})},t.prototype.render=function(){var e=this.props.canvasPos,t=e.canvasX,n=e.canvasY,r=e.canvasZoom,o=this.state.dblClickKey,a=h.getWinSize(),i=a.width,s=a.height;return u["default"].createElement(d.Rect,{name:"layerBackground",key:"dblClickKey"+o,x:-t/r,y:-n/r,width:i/r,height:s/r,onDblClick:p.stageDblClick})},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChangeDblclickKey",null),t}(u.Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(1)),l=n(28),u=i(n(42)),c=i(n(1588)),d=i(n(1589)),f=window.isPrototypeTool,p=function(e){function t(t){var n=e.call(this,t)||this;return n.canvasDom=null,n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return 1!=e.isMoveChange},t.prototype.render=function(){var e=this,t=e.props,n=t.canvasPage,r=t.isFreeMultiView,o=t.thisStore,a=t.isEdit,i=t.canvasPos.canvasZoom,p=t.pages,h=a?o.getPages():p;return s["default"].createElement(l.Group,{ref:function(t){return e.canvasDom=t}},n,f&&r&&$("#allPanel").hasClass("multiView")||!f&&u["default"].isMultiFreeView()?s["default"].createElement(c["default"],{isEdit:a,pages:h,zoom:i}):undefined,s["default"].createElement(d["default"],{isFreeMultiView:r,isEdit:a}))},t}(s.Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=n(28),d=l(n(997)),f=l(n(5)),p=l(n(27)),h=l(n(23)),g=l(n(42)),y=l(n(10)),m=l(n(97)),_=n(979),v=l(n(3)),b=n(303),w=n(98),C=window.isPrototypeTool;function x(e){var t=m["default"].getAllPageId(),n=[],r=!1;return e.forEach(function(e,o){var a=e.commentPercent,i=e.pageKey,s=e.endKey,l=e.id;$.isNull(a)||-1==t.indexOf(i)||-1==t.indexOf(s)?(p["default"].deleteLine(l),r=!0):n.push(e)}),r&&y["default"].createData({type:"clearWrongLine",name:"PRD 修复连线脏数据",autoSaveType:"prd"}),n}function S(e){var t=w.getPageIdByKey(e),n=C?b.getPagePos(t):g["default"].getPage(t);return"left: "+n.left+", top: "+n.top}var P=function(e){function t(t){var n=e.call(this,t)||this;return n.state={line:n.getAllLines(),renderChange:0},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.state.renderChange!==t.renderChange},t.prototype.componentDidMount=function(){p["default"].addChangeListener(this.lineChange)},t.prototype.componentDidUpdate=function(){var e=x(this.state.line);this.setState({line:e})},t.prototype.componentWillUnmount=function(){p["default"].removeChangeListener(this.lineChange)},t.prototype.lineChange=function(){this.setState({line:this.getAllLines(),renderChange:this.state.renderChange+1})},t.prototype.getAllLines=function(){var e=this,t=p["default"].getSelectArr(),n=x(function(e){var t=e.line,n=e.selectArr;return t.sort(function(e,t){var r=e.id,o=t.id;return(-1==n.indexOf(r)?0:1)-(-1==n.indexOf(o)?0:1)}),t}({line:_.getPageFlowAllLine(),selectArr:t}));return h["default"].getStage()?n:(setTimeout(function(){e.setState({line:n})},0),n)},t.prototype.renderLine=function(){var e=[],t=this.state.line,n=this.props.zoom;return t.forEach(function(t){var r,o,a=t.id,i=t.startPosi,s=t.endPosi,l=t.lineType,c=t.isHide,h=t.startKey,y=t.endKey,_=t.fixedArr,v=t.pageKey,b=t.hasComment,x=t.text,P=void 0===x?"输入条件":x,k=t.commentPercent,O=t.commentWidth,E=t.commentHeight,T=t.noStartSupply,M=t.noEndSupply,D=m["default"].getOpacity({id:a,pageKey:v}).opacityVale,A=(r=v,C?-1!=f["default"].getPageSelect().indexOf(w.getPageIdByKey(r)):g["default"].getSelectPage()==r),j=function(e,t){var n=C?f["default"].getPageSelect():g["default"].getSelectPage();return C?-1!=n.indexOf(w.getPageIdByKey(e))||-1!=n.indexOf(w.getPageIdByKey(t)):n==e||n==t}(v,y)&&$("#allPanel").hasClass("dragMoveTarget"),I=window.isPrototypeTool&&f["default"].getIsShowLongPage();e.push(u["default"].createElement(d["default"],{key:a,id:a,data:t,zoom:n,startPosi:i,endPosi:s,lineType:l,isHide:c,startKey:h,endKey:y,fixedArr:_,fixedArrStr:_.join("|"),pageKey:v,hasComment:b,text:P,startPagePos:S(v),endPagePos:S(y),commentPercent:k,commentWidth:O,commentHeight:E,isPageSelect:A,isLineSelect:(o=a,-1!=p["default"].getSelectArr().indexOf(o)),isPageDrag:j,opacityVale:D,noStartSupply:T,noEndSupply:M,isShowLongPage:I}))}),e},t.prototype.render=function(){if(window.isPrototypeTool&&!f["default"].isMultiFree())return u["default"].createElement(c.Group,null);var e=h["default"].getStage(),t=e&&e.getStage().find(".page").length>0;return u["default"].createElement(c.Group,null,t?this.renderLine():undefined)},a([v["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"lineChange",null),a([v["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"getAllLines",null),a([v["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"renderLine",null),t}(u.Component);t["default"]=P},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(1)),u=n(28),c=s(n(1590)),d=s(n(1591)),f=s(n(1592)),p=s(n(1593)),h=s(n(1339)),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.isFreeMultiView,n=e.isEdit,r=$("#allPanel").hasClass("dragMoveTarget");return l["default"].createElement(u.Group,a({name:"canvas-all-container"},{zIndex:99999}),t&&n?r?undefined:l["default"].createElement(d["default"],null):undefined,t&&n?l["default"].createElement(f["default"],null):undefined,t&&n?l["default"].createElement(c["default"],null):undefined,n?l["default"].createElement(p["default"],null):undefined,t&&n?l["default"].createElement(h["default"],{isContr:!1}):undefined)},t}(l.Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=n(28),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return i["default"].createElement(s.Group,{id:"BezierGroup"})},t}(i.Component);t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=n(28),f=u(n(3)),p=n(597),h=u(n(27)),g=u(n(23)),y=u(n(5)),m=u(n(97)),_=u(n(36)),v=u(n(1339)),b=n(830);function w(e){var t=e.offX,n=e.offY,r=e.data,o=e.zoom,i=e.arcRotate,s=e.arrowRotate,l=e.outerRadius,u=e.contrKey,f=e.pageKey,p=e.lineWidth;return c["default"].createElement(d.Group,{x:t,y:n},c["default"].createElement(d.Arc,{angle:180,innerRadius:0,outerRadius:12/o,fill:"#F56464",rotation:i}),c["default"].createElement(d.Line,{offsetX:3/o,offsetY:4/o,points:[0,0,3/o,-3/o,6/o,0],stroke:"#fff",strokeWidth:1/o,fill:"#fff",closed:!0,rotation:s}),c["default"].createElement(d.Arc,a({offsetY:p,angle:180,innerRadius:0,outerRadius:l,fill:"transparent",rotation:i,"data-eventkey":"ball","data-position":r,"data-id":u||f,"data-pageid":f,"data-cursorkey":"move"},b.getHoverFunc())))}var C=function(e){function t(t){var n=e.call(this,t)||this,r=h["default"].getHoverKey(),o=r.contrKey,a=r.pageKey;return n.state={contrKey:o,pageKey:a,showHoverBall:h["default"].getShowHoverBall()},n}return o(t,e),t.prototype.componentDidMount=function(){h["default"].addHoverChangeListener(this.lineChange)},t.prototype.componentWillUnmount=function(){h["default"].removeHoverChangeListener(this.lineChange)},t.prototype.shouldComponentUpdate=function(e,t){return this.state.pageKey!=t.pageKey||this.state.contrKey!=t.contrKey||this.state.showHoverBall!=t.showHoverBall},t.prototype.lineChange=function(){var e=h["default"].getHoverKey(),t=e.contrKey,n=e.pageKey;this.setState({contrKey:t,pageKey:n,showHoverBall:h["default"].getShowHoverBall()})},t.prototype.renderBall=function(){var e=y["default"].getView().zoom,t=g["default"].getStage(),n=this.state,r=n.pageKey,o=n.contrKey,i=!0,s=m["default"].isSpecialContr({pageKey:r,contrKey:o,zoom:e}),l=s.specialType,u=s.x,f=s.y,p=s.w,h=s.h,b=m["default"].getHoverActualPosi({stage:t,pageKey:r,contrKey:o,zoom:e,specialType:l}),C=b.actualStartX,x=b.actualStartY,S=b.actualStartH,P=b.actualStartW,k=b.isLarge,O=[];if(l)return O.push(c["default"].createElement(v["default"],{key:"hover-contr-tip",x:u,y:f,w:p,h:h,type:l,isContr:!0,contrId:o,pageId:r})),{dom:O,allowDrag:i=!1};var E=k?4:0,T=(k?3:1)/e,M=(k?24:12)/e;return O.push(c["default"].createElement(d.Rect,{key:"hover-cover",x:C,y:x,width:P,height:S,fill:"#F56464",opacity:.2,listening:!1})),O.push(c["default"].createElement(d.Shape,a({key:"hover-border",x:C,y:x,"data-eventkey":"arround-line"},_["default"].setPageBorderLine(P,S,E,T,"#F56464"),{listening:!1}))),["top","right","down","left"].map(function(t){var n=function(e){var t,n,r,o,a=e.posi,i=e.x,s=e.y,l=e.w,u=e.h,c=e.lineWidth;switch(a){case"top":r=l/2+i,o=s-c,t=-180,n=0;break;case"right":r=l+i+c,o=s+u/2,t=-90,n=90;break;case"down":r=l/2+i,o=s+u+c,t=0,n=180;break;case"left":r=i-c,o=s+u/2,t=90,n=270}return{offX:r,offY:o,arcRotate:t,arrowRotate:n}}({posi:t,x:C,y:x,w:P,h:S,lineWidth:T}),i=n.offX,s=n.offY,l=n.arcRotate,u=n.arrowRotate;O.push(c["default"].createElement(w,a({key:t+"ball"},{offX:i,offY:s,data:t,zoom:e,arcRotate:l,arrowRotate:u,outerRadius:M,contrKey:o,pageKey:r,lineWidth:T})))}),{dom:O,allowDrag:i}},t.prototype.render=function(){var e=this.state,t=e.pageKey,n=e.showHoverBall;if(!t||!n)return null;var r=this.renderBall(),o=r.dom,i=r.allowDrag;return c["default"].createElement(d.Group,a({name:"hoverBall","data-eventkey":"ball","data-name":name},i?p.hoverBallEvent():$.noop),o)},i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"lineChange",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"renderBall",null),t}(c.Component);t["default"]=C},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=n(28),f=u(n(3)),p=u(n(27)),h=u(n(23)),g=u(n(5)),y=u(n(97)),m=u(n(36)),_=function(e){function t(t){var n=e.call(this,t)||this,r=p["default"].getSelectContr(),o=r.pageKey,a=r.contrKey;return n.state={pageKey:o,contrKey:a},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.state.pageKey!=t.pageKey||this.state.contrKey!=t.contrKey},t.prototype.componentDidMount=function(){p["default"].addHoverChangeListener(this.lineChange)},t.prototype.componentWillUnmount=function(){p["default"].removeHoverChangeListener(this.lineChange)},t.prototype.lineChange=function(){var e=p["default"].getSelectContr(),t=e.pageKey,n=e.contrKey;this.setState({pageKey:t,contrKey:n})},t.prototype.renderBall=function(){var e=g["default"].getView().zoom,t=h["default"].getStage(),n=this.state,r=n.pageKey,o=n.contrKey,i=y["default"].isSpecialContr({pageKey:r,contrKey:o,zoom:e}).specialType,s=y["default"].getHoverActualPosi({stage:t,pageKey:r,contrKey:o,zoom:e,specialType:i}),l=s.actualStartX,u=s.actualStartY,f=s.actualStartH,p=s.actualStartW,_=s.isLarge,v=[],b=_?4:0,w=(_?3:1)/e;return v.push(c["default"].createElement(d.Rect,{key:"hover-cover",x:l,y:u,width:p,height:f,fill:"#F56464",opacity:.2,listening:!1})),v.push(c["default"].createElement(d.Shape,a({key:"hover-border",x:l,y:u,"data-eventkey":"arround-line"},m["default"].setPageBorderLine(p,f,b,w,"#F56464"),{listening:!1}))),{dom:v}},t.prototype.render=function(){if(!this.state.pageKey)return null;var e=this.renderBall().dom;return c["default"].createElement(d.Group,null,e)},i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"lineChange",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"renderBall",null),t}(c.Component);t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(1)),d=u(n(3)),f=u(n(5)),p=u(n(23)),h=u(n(1376)),g=u(n(36)),y=n(28),m=u(n(131)),_=window,v=_.$,b=_.isPrototypeTool,w=48*.8,C=48,x=15,S=45,P=28,k=10,O=0;var E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isShow:h["default"].isShow()||!b},n}return o(t,e),t.prototype.componentDidMount=function(){h["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){h["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({isShow:h["default"].isShow()||!b})},t.prototype.renderGroup=function(){var e=f["default"].getView().zoom,t=p["default"].getStage();if(t){var n=t.getStage().findOne("#canvasLayer").getAbsolutePosition().y,r=[];return function(e){var t=e.dom,n=e.zoom,r=e.y;v(".folder-box").forEach(function(e){var o=v.offset(e,!0).width,i=v(e).find(".name-box")[0],s=i.getAttribute("data-layer"),l=v(i).find(".folder-name")[0],u=l.innerText,d=v.offset(i,!0),f=d.left,p=d.top,h=d.height,m=v.offset(l,!0),_=m.left,b=m.top;t.push(c["default"].createElement(y.Group,{key:"group-title-"+O},c["default"].createElement(y.Text,a({},g["default"].setFontFamily1(),{text:s,x:f/n,y:(p-r)/n,offsetY:-C/2,fontSize:w,fill:"#fff"})),c["default"].createElement(y.Text,a({},g["default"].setFontFamily1(),{text:u,x:_/n+x,y:(b-r)/n,offsetY:-C/2,fontSize:C,fill:"#fff"})),c["default"].createElement(y.Line,{points:[f/n,(p+h-r)/n,(f+o)/n-S,(p+h-r)/n],strokeWidth:1,stroke:"#fff"}))),O++})}({dom:r,zoom:e,y:n}),function(e){var t=e.dom,n=e.zoom,r=e.y;v(".folder-endLine").forEach(function(e){var o=v.offset(e,!0),i=o.left,s=o.top,l=o.width,u=e.getAttribute("data-name"),d=e.id;v("#"+d+"_bottom")||v("body").append('<span id="'+d+'_bottom" style="position: \'absolute\'; opacity: 0; ">'+u+"</span>");var f=new m["default"].Text({text:"[ "+u+" ]",x:i/n,y:s/n,fontSize:P}).getSelfRect().width*n;t.push(c["default"].createElement(y.Group,{key:"group-bottom-"+O},c["default"].createElement(y.Line,{points:[i/n,(s-r)/n,(i+l-f)/n-k,(s-r)/n],strokeWidth:1,dash:[1,1],stroke:"#666"}),c["default"].createElement(y.Text,a({},g["default"].setFontFamily1(),{text:"[ "+u+" ]",fill:"#666",fontSize:P,x:i/n,y:(s-r)/n,width:l/n,align:"right",offsetY:14})))),O++})}({dom:r,zoom:e,y:n}),function(e){var t=e.dom,n=e.zoom,r=e.y;v(".folder-indicator .indicator-group").forEach(function(e){var o=v(e).find(".indicator-item")[0],a=v.offset(o,!0),i=a.top,s=a.left,l=a.width,u=a.height;t.push(c["default"].createElement(y.Group,{key:"group-right-"+O},c["default"].createElement(y.Circle,{y:(i-r)/n,x:(s+l/2)/n,radius:10,fill:"#666"}),c["default"].createElement(y.Line,{points:[(s+l/2)/n,(i-r)/n,(s+l/2)/n,(i+u-r)/n],stroke:"#666",strokeWidth:1}),c["default"].createElement(y.Circle,{y:(i+u-r)/n,x:(s+l/2)/n,radius:10,fill:"#666"}))),O++})}({dom:r,zoom:e,y:n}),r}},t.prototype.render=function(){var e=this.state.isShow;return c["default"].createElement(y.Group,null,e?this.renderGroup():undefined)},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onChange",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"renderGroup",null),t}(c.Component);t["default"]=E},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=n(28),d=l(n(3)),f=l(n(76)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.layerDom=null,n.state={renderChange:0,dragContr:f["default"].getDragContr()},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){f["default"].addChangeListener(this._onDragContrChange)},t.prototype.componentWillUnmount=function(){f["default"].removeChangeListener(this._onDragContrChange)},t.prototype.componentDidUpdate=function(){var e=this.layerDom,t=this.state.dragContr,n=t.copyPageCanvas,r=t.left,o=t.top;if(e&&n){var a=e.findOne(".dragPage");if(a)a.setAttrs({x:r,y:o});else{var i=n.getAttr("name");n.setAttr("name",i+" dragPage"),e.add(n)}e.draw()}},t.prototype._onDragContrChange=function(){this.setState({renderChange:this.state.renderChange+1,dragContr:f["default"].getDragContr()})},t.prototype.render=function(){var e=this;return"page"==e.state.dragContr.type?u["default"].createElement(c.Layer,{ref:function(t){return e.layerDom=t}}):null},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onDragContrChange",null),t}(u.Component);t["default"]=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=window.$,a=r(n(131)),i=r(n(42)),s=r(n(23)),l=n(266),u=n(166),c=n(881),d=n(1379),f=r(n(97)),p=n(1340),h=n(903),g=n(456),y=120,m=r(n(270));function _(e){var t=e.clickPage,n=e.page,r=e.zoom;if(t){var a=n.attrs.id,u=i["default"].getSelectPage(),d=i["default"].isMultiFixedView();if(c.pageFitMiddleFunc({targetPage:n,zoom:r}),a!=u)i["default"].setSelectPage(a),s["default"].emitChange();else if(!d){var p=setTimeout(function(){!function(e){var t=e.page,n=t.attrs,r=n.scaleX,a=void 0===r?1:r,s=n.scaleY,l=void 0===s?1:s,u=n.width,c=n.height,d=t.getAbsolutePosition(),p=d.x,h=d.y,y=i["default"].getMultiZoom();o("body").append('<div class="gesture-tag-page gesture-tag-dom" style="position: absolute; top: '+h+"px; left: "+p+"px; width: "+u*a*y+"px; height: "+c*l*y+'px; overflow: hidden" />'),t.find(".canvasContr").each(function(e){var t=g.getContrAbsolutePos(e),n=t.x,r=t.y,i=e.attrs,s=i.width,u=i.height,c=i.name,d=i.rotation,m=0,_=0;if(-1!=c.indexOf("eventContr")){if(d){var v=o.getRotateWH(o.rotateToAngle(d,!0),[s*a,u*l]);o.fixRotateWH(v,d);var b=f["default"].getRotateOffPosi(d,s*a,u*l,v),w=b.offX,C=b.offY;m=(-w+v.w/2-s/2*a)*y,_=(-C+v.h/2-u/2*l)*y}o(".gesture-tag-page").append('<div class="gesture-tag gesture-tag-dom animating" style="position: absolute; top: '+(r-h)+"px; left: "+(n-p)+"px; width: "+s*a*y+"px; height: "+u*l*y+"px; z-index: 111111; transform: translate("+m+"px, "+_+"px) rotate("+d+'deg)" />')}})}({page:n})},500);l.setBlinkContr(p)}}}function v(e){var t,n=e.canvasContr,r=e.canvasPage,o=e.zoom,a=e.isLine,l=!1,d=s["default"].getStage().getStage(),f=function(e){var t=!1,n=i["default"].getSelectPage();return e&&e.length>0&&n==e[0].attrs.id&&(t=!0),t}(r);if(n&&n.length>0&&f)if(n.some(function(e){var n=e.attrs["data-targetPage"];return!!n&&(t=n,!0)}),t){var p=u.findPage(d,t);c.pageFitMiddleFunc({targetPage:p,zoom:o});var h=p.attrs.id;i["default"].setSelectPage(h),s["default"].emitChange()}else l=!0;else r&&r.length>0?l=!0:a||(i["default"].setSelectPage(""),s["default"].emitChange());return l}function b(e){var t=l.getBlinkContr();t&&clearTimeout(t),p.removeBlinkContr();var n=i["default"].getMultiZoom(),r=e.currentTarget.targetShape;if(r)if("button"==r.attrs["data-type"])d.enterMulti();else{var o=r.attrs["data-eventkey"],a=r.findAncestors(".canvasContr"),s=r.findAncestors(".page");_({clickPage:v({canvasContr:a,canvasPage:s,zoom:n,isLine:o}),page:s[0],zoom:n})}}function w(e){e.evt;var t=e.currentTarget.targetShape;t&&h.getHoverLineKey({target:t})}function C(e){if(!l.getCanvasAnim()[0]){var t=o.getWinSize(),n=t.width,r=t.height,u=l.getBlinkContr();u&&clearTimeout(u);var c=i["default"].getMultiZoom(),d=e.currentTarget.targetShape.findAncestors(".page"),f=s["default"].getStage().getStage().findOne("#canvasLayer"),p=f.getAbsolutePosition(),h=p.x,g=p.y,_=i["default"].isPresentation()?0:m["default"].TOP_DISTANCE;if(d&&d.length>0){var v=d[0],b=v.getAbsolutePosition(),w=b.x,C=b.y,x=v.attrs,S=x.width,P=x.height,k=x.scaleX,O=void 0===k?1:k,E=x.scaleY,T=void 0===E?1:E,M=w+S*O*c/2,D=C+P*T*c/2,A=document.body.clientWidth/2,j=document.body.clientHeight/2+_/2,I=function(e,t){var n=i["default"].isPresentation();return(document.body.clientHeight-2*y-(n?0:m["default"].TOP_DISTANCE))/(e*t)}(P,T),L=_/2/c*(c-I),R=n/2-((n/2-S*O*c/2-h)*(I/c)+h+S*O*I/2),B=(r+_)/2-(((r+_)/2-P*T*c/2-g)*(I/c)+g+P*T*I/2);if(A==M&&j==D&&c!=I){i["default"].getShowPlayBtn()&&(i["default"].setShowPlayBtn(!1),s["default"].emitChange());var N=new a["default"].Tween({node:f,duration:.2,x:h+R,y:g+B,scaleX:I,scaleY:I,onFinish:function(){l.clearCanvasAnim(),N&&N.destroy();var e=i["default"].getMultiPos(),t=e.left,n=e.top;i["default"].setMultiPos({left:t,top:n+L/I}),i["default"].setMultiZoom(I),i["default"].setShowPlayBtn(!0),s["default"].emitChange()}});l.setCanvasAnim(N),N&&N.play()}}e.cancelBubble=!0}}function x(){return{onContentMouseDown:b,onContentDblClick:C,onContentMouseMove:w}}t.getAllCanvasEvent=x,t["default"]={getAllCanvasEvent:x}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(42)),i=window.$;function s(){var e=a["default"].getPreviewInfo(),t=e.multiZoom,n=e.multiPos,o=e.multiViewType,s=i.getWinSize(),l=s.width,u=s.height;return r({canvasZoom:t},"fixed-view"==o?{canvasX:0,canvasY:n.top*t}:{canvasX:n.left*t+l*(1-t)/2,canvasY:n.top*t+u*(1-t)/2})}t.getCanvasStagePos=s,t["default"]={getCanvasStagePos:s}},,,,,,,,,,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.data,r=e.isShowFunc,o=e.contr,a=n?n.name:t;return r&&!r(o)?null:i["default"].createElement("div",{className:"mark-chart-list"},a)},t}(i["default"].Component);t["default"]=s},function(e,t,n){e.exports=function(e){n.e(44).then(function(t){e(n(1764))}.bind(null,n))["catch"](n.oe)}},,,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=l(n(3)),d=l(n(49)),f=l(n(454)),p=n(46),h=n(1374),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){f["default"].addChangeListener(this.onChange)},t.prototype.componentWillUnmount=function(){f["default"].removeChangeListener(this.onChange)},t.prototype.onChange=function(){this.setState({})},t.prototype.render=function(){if(!p.getPageFlow())return null;if(0!=d["default"].getSelectPageFlowNum())return null;var e=window.isPrototypeTool;return u["default"].createElement("div",{className:"no-page-toast"},e?[u["default"].createElement("div",{key:"toast-img",className:"toast-img"}),u["default"].createElement("div",{onClick:h.pageFlowImportPages,key:"toast-btn",className:"toast-btn"},"导入页面"),u["default"].createElement("div",{key:"toast-text",className:"toast-text"},"或从其他流程复制内容")]:"没有页面")},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onChange",null),t}(u.Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u,c,d,f=l(n(1)),p=l(n(3)),h=l(n(11)),g=l(n(49)),y=l(n(852)),m=l(n(42)),_=l(n(5)),v=l(n(1016)),b=l(n(162)),w=l(n(1614)),C=l(n(1615)),x=n(836),S=window.$,P=null,k="",O=0;function E(e){e.marginLeft="20px",e.transform="translateX(0px)"}var T=function(e){function t(t){var n=e.call(this,t)||this;return n._updateFunc=null,n.state={isFooterShow:y["default"].isFooterShow(),isMove:!1,scrollLeft:0,renderChange:0,changeId:-1,inputValue:null,pageFlowList:g["default"].getPageFlowList(),selectKey:g["default"].getSelectPageFlowKey()},n}var n,r;return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){g["default"].addChangeListener(this._onChange),y["default"].addChangeListener(this._onChange),_["default"].addPagesChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){g["default"].removeChangeListener(this._onChange),y["default"].removeChangeListener(this._onChange),_["default"].removePagesChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({renderChange:this.state.renderChange+1,pageFlowList:g["default"].getPageFlowList(),selectKey:g["default"].getSelectPageFlowKey(),isFooterShow:y["default"].isFooterShow()})},t.prototype._dragElement=function(e,t){if(!this.state.isMove){var n=e.index;P=n,k=e.getAttribute("data-id");var r=S(".simple-pages-container")[0];d=parseFloat(S(r).css("left")),this.setState({isMove:!0,renderChange:this.state.renderChange+1},function(){t&&t(E)})}},t.prototype._dragOver=function(e,t){var n=this,r=this._updateFunc,o=n.state,a=o.isMove,i=o.pageFlowList;a&&(O=0,n.setState({isMove:!1,renderChange:n.state.renderChange+1},function(){var t,o,a=e.index;if(P!=a){P=null,k="";var s=e.getAttribute("data-id"),l=S.extend(!0,[],i),u=(t=s,l.some(function(e,n){return e.id==t&&(o=n,!0)}),o),c=l[u];l.splice(u,1),l.splice(a,0,c),x.changePosi({list:l,oldOne:u,newOne:a})}n.setState({renderChange:n.state.renderChange+1}),r&&r(E,!0)}))},t.prototype.calcScrollBarPosi=function(){var e=this.state.pageFlowList,t=S(".simple-pages-container")[0],n=parseFloat(S(t).css("left")),r=S(".scrollBar")[0],o=parseFloat(S(r).css("width")),a=260*(e.length+1)+20,i=document.body.clientWidth-289-o,s=(289-n)/(289-document.body.clientWidth+a)*i;S(r).css("left",s+"px")},t.prototype.movePageViewPosi=function(e){if(!(260*(this.state.pageFlowList.length+1)+20<=document.body.clientWidth-289)){var t=e.currentTarget,n=S(t),r=Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX,o=parseFloat(n.css("left")),a=S(".page-count-view-panel")[0],i=S.offset(a,!0).width,s=S.offset(S(".simple-pages-panel")[0],!0).width-document.body.scrollWidth,l=Math.max(Math.min(i,(o||0)-r),-s);this.setState({renderChange:this.state.renderChange+1,scrollLeft:l-289}),S.preventDefault(e)}},t.prototype.handlePageAdd=function(){var e=this._updateFunc;x.createPageFlow(),e&&e(E,!0)},t.prototype.getPageViewComp=function(e){var t=this,n=[],r=this.state,o=r.inputValue,a=r.selectKey;return r.pageFlowList.forEach(function(r,i){var s=r.id,l=r.title,u=r.pageVal;n.push(f["default"].createElement(C["default"],{key:s,isChecked:a==s,count:S.objLength(u),text:l,idx:i,dataType:l,data:r,inputValue:o,shouldShow:e,noDelete:!1,newDomLeft:O,_updateFunc:t._updateFunc}))}),n},t.prototype.changeLeft=function(e){this.state.scrollLeft!=e&&this.setState({renderChange:this.state.renderChange+1,scrollLeft:e})},t.prototype.renderScrollBar=function(e){var t=[],n=260*(this.state.pageFlowList.length+(e?1:0))+20,r=document.body.clientWidth-289;return n>r&&t.push(f["default"].createElement(b["default"],a({key:"pageview-scroll-bar"},{isVertical:!0,maxLength:n,boxWidth:r,scrollLeft:this.state.scrollLeft,changeScrollLeft:this.changeLeft}))),t},t.prototype.moveScroll=function(e){var t=this,n=S(".pages-row-panel")[0],r=S.offset(n,!0).width,o=e.clientX,a=S(".simple-pages-container")[0],i=parseFloat(S(a).css("left")),s=S(".page-view-panel[data-id='"+k+"']")[0],l=S(s),d=S.offset(S(".simple-pages-panel")[0],!0).width-document.body.scrollWidth,f=S(".page-count-view-panel")[0],p=S.offset(f,!0).width,h=this.state.isMove;if(u&&r-o>120&&clearInterval(u),c&&o-p>120&&clearInterval(c),h)if(r-o<120&&i>-d){var g=i;clearInterval(u),clearInterval(c),u=setInterval(function(){g<-d?clearInterval(u):(g-=20,O+=20,S(a).css({left:Math.max(g,-d)}),l.css({transform:"translateX("+O+"px)"}),t.setState({scrollLeft:Math.max(g,-d)-289}),t.calcScrollBarPosi())},20)}else if(o-p<120&&i<p){var y=i;clearInterval(c),clearInterval(u),c=setInterval(function(){y>p?clearInterval(c):(y+=20,O-=20,S(a).css({left:Math.min(y,p)}),l.css({transform:"translateX("+O+"px)"}),t.setState({scrollLeft:Math.min(y,p)-289}),t.calcScrollBarPosi())},20)}},t.prototype.forceRenderScroll=function(){var e=this.state,t=e.pageFlowList,n=e.scrollLeft,r=e.renderChange;260*(t.length+1)+20+n<=document.body.clientWidth-289&&this.setState({scrollLeft:n+260,renderChange:r+1})},t.prototype.forceRenderFlow=function(){var e=this._updateFunc;e&&e(E,!0)},t.prototype.render=function(){var e=this,t=e.state,n=t.isFooterShow,r=t.selectKey,o=t.pageFlowList,a=t.scrollLeft,i=window.isPrototypeTool,s=window.isPrototypeTool?_["default"].getPageNum():m["default"].getPagesArr().length,l=!window.isPrototypeTool&&0==o.length;return"all"==r||g["default"].getOnePageFlow(r)||(r="all"),f["default"].createElement("div",{className:"prd-footer"},l?undefined:f["default"].createElement(w["default"],null),f["default"].createElement("div",{className:h["default"]("prd-footer-content-panel",{"is-show":n})},n?f["default"].createElement("div",{className:"pages-row-panel"},e.renderScrollBar(i),f["default"].createElement("div",{onClick:this.forceRenderScroll,className:"force-render-scroll-btn"}),f["default"].createElement("div",{onClick:this.forceRenderFlow,className:"force-render-flow-btn"}),f["default"].createElement("div",{className:"page-count-view-panel"},f["default"].createElement(C["default"],{count:s,noDelete:!0,text:"所有页面流程",isChecked:"all"==r,data:{},newDomLeft:O,dataType:"所有页面流程",_updateFunc:this._updateFunc})),f["default"].createElement("div",{style:{left:a+289},onMouseMove:e.moveScroll,onWheel:e.movePageViewPosi,className:"simple-pages-container"},f["default"].createElement("div",{style:{width:260*(o.length+(i?1:0))+20},className:"simple-pages-panel"},i?f["default"].createElement(v["default"],{direction:"horizontal",isScrollFunc:function(){var e=S(".simple-pages-container")[0];return parseFloat(S(e).css("left"))-d},dragElement:e._dragElement,dragOver:e._dragOver,time:"200",type:"ease-out",className:"dragSort",updateFunc:function(t){e._updateFunc=t}},e.getPageViewComp(i)):e.getPageViewComp(i),i?f["default"].createElement("div",{style:{left:260*o.length},onClick:e.handlePageAdd,className:"add-page-panel cursor-pointer"},f["default"].createElement("div",{className:"prd-icons big-add-icon"}),f["default"].createElement("div",{className:"add-page-panel-text"},"创建流程")):undefined))):undefined))},i([p["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onChange",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object,"function"==typeof(n="undefined"!=typeof Function&&Function)&&n||Object]),s("design:returntype",void 0)],t.prototype,"_dragElement",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object,"function"==typeof(r="undefined"!=typeof Function&&Function)&&r||Object]),s("design:returntype",void 0)],t.prototype,"_dragOver",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"calcScrollBarPosi",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"movePageViewPosi",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"handlePageAdd",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getPageViewComp",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Number]),s("design:returntype",void 0)],t.prototype,"changeLeft",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"renderScrollBar",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"moveScroll",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"forceRenderScroll",null),i([p["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"forceRenderFlow",null),t}(f["default"].Component);t["default"]=T},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(852)),f=s(n(49)),p=(window.$,function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,isFooterShow:d["default"].isFooterShow()},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype.componentDidMount=function(){d["default"].addChangeListener(this._onChange),f["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){d["default"].removeChangeListener(this._onChange),f["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({renderChange:this.state.renderChange+1,isFooterShow:d["default"].isFooterShow()})},t.prototype.handleFooterShow=function(){var e=this.state.isFooterShow;d["default"].setFooterShow(!e)},t.prototype.getTitle=function(){var e=f["default"].getPageFlowNum()+1,t=this.state.isFooterShow,n="流程管理",r=1!=e?" (1/"+e+")":"",o=f["default"].getSelectPageFlow();if(o){var a=o.title,i=o.id,s=f["default"].getPageFlowList(),l=0;s.some(function(e,t){return i==e.id&&(l=t,!0)}),t||(n=a),r=" ("+(l+2)+"/"+e+")"}return n+r},t.prototype.render=function(){var e=this.state.isFooterShow;return l["default"].createElement("div",{className:u["default"]("prd-footer-show-button cursor-pointer",{"is-show":e}),onClick:this.handleFooterShow},l["default"].createElement("div",{className:u["default"]("prd-icons arrow-down-icon",{"is-show":e})}),l["default"].createElement("span",null,this.getTitle()))},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"handleFooterShow",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"getTitle",null),t}(l["default"].Component));t.PrdFooterShowButtonComp=p,t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=l(n(3)),d=l(n(11)),f=l(n(12)),p=n(836),h=n(46),g=l(n(49)),y=!1;function m(e){e.marginLeft="20px",e.transform="translateX(0px)"}var _=function(e){function t(t){var n=e.call(this,t)||this;return n.dragDom=null,n.state={inputValue:null,isEdit:!1},n}return o(t,e),t.prototype.handlePagesMouseDown=function(e){var t=this.props._updateFunc,n=e.currentTarget.getAttribute("data-id")||"",r=!0,o=h.getPageFlow();o?o.id==n&&(r=!1):"all"==n&&(r=!1),r&&p.selectPageFlow({id:n,callback:function(){t&&t(m,!0)}}),$(".page-view-name input").blur()},t.prototype.handleBlurInput=function(e){var t=this.props.data,n=t.id,r=t.title,o=e.target.value;o.trim()&&r!=o&&(p.changeName({id:n,title:o}),f["default"].show("流程名称修改成功")),this.setState({isEdit:!1})},t.prototype.handleInputName=function(e){if(e.currentTarget.value.gblen()>24&&!y){for(;e.currentTarget.value.gblen()>24;){var t=e.currentTarget.value;e.currentTarget.value=e.currentTarget.value.slice(0,t.length-1)}f["default"].show("流程名称不能超过24个字符")}this.setState({inputValue:e.currentTarget.value}),e.stopPropagation()},t.prototype.handleComposition=function(e){y="compositionend"!==e.type,this.handleInputName(e)},t.prototype.changeFlowName=function(e){var t=g["default"].getSelectPageFlowKey();if(window.isPrototypeTool){var n=e.currentTarget.getAttribute("data-id");"all"!=n&&t==n&&(this.setState({inputValue:null,isEdit:!0},function(){var e=$('.page-view-panel[data-id="'+n+'"] .page-view-name input')[0];$(e).focus(),e.select()}),e.stopPropagation(),e.preventDefault())}},t.prototype.handleDeletePage=function(e){var t=this.props._updateFunc,n=e.currentTarget.getAttribute("data-id");p.deletePageFlow({id:n,callback:function(){if(t&&t(m,!0),g["default"].getPageFlowList().length<=4)$(".simple-pages-container").css("left","289px");else{var e=$(".force-render-scroll-btn")[0];$(e).click()}}}),e.stopPropagation()},t.prototype.render=function(){var e=this,t=this.props,n=t.count,r=t.text,o=t.isChecked,a=t.dataType,i=t.idx,s=t.noDelete,l=t.data.id,c=void 0===l?"all":l,f=t.shouldShow,p=t.newDomLeft,h=this.state,g=h.inputValue,y=h.isEdit,m=$.isUndefined(i)?undefined:20;return u["default"].createElement("div",{style:{marginLeft:m,transform:"translateX("+p+"px)"},className:d["default"]("page-view-panel cursor-pointer",{"is-checked":o,"prototype-tool-page-view":f}),"data-type":a,"data-id":c||"",onMouseDown:this.handlePagesMouseDown,ref:function(t){return e.dragDom=t}},u["default"].createElement("span",{className:"page-view-count"},n),u["default"].createElement("div",{className:"page-view-text"},y?u["default"].createElement("div",{className:"page-view-name"},u["default"].createElement("input",{onBlur:this.handleBlurInput,onChange:this.handleInputName,onCompositionStart:this.handleComposition,onCompositionUpdate:this.handleComposition,onCompositionEnd:this.handleComposition,defaultValue:r,onMouseDown:function(e){e.stopPropagation()}}),u["default"].createElement("pre",null,$.isNull(g)?r:g)):u["default"].createElement("p",{"data-id":c,"data-ischeck":o,onMouseDown:this.changeFlowName},r)),s||!f?undefined:u["default"].createElement("div",{"data-id":c,className:d["default"]("prd-icons delete-pages-icon"),onClick:this.handleDeletePage}))},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handlePagesMouseDown",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleBlurInput",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleInputName",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleComposition",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"changeFlowName",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleDeletePage",null),t}(u.Component);t["default"]=_},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(131)),a=r(n(844)),i=r(n(42)),s=r(n(23)),l=r(n(27)),u=r(n(987)),c=r(n(12)),d=n(618),f=n(266),p=r(n(270)),h=100;function g(e){if(void 0===e&&(e=!1),!f.getCanvasAnim()[0]){var t=$.getWinSize(),n=t.width,r=t.height,d=i["default"].getPreviewInfo(),h=d.isMultiView,g=d.multiZoom,m=d.multiPos,_=m.left,v=m.top;if(h){var b=s["default"].getStage();if(b){var w=b.getStage(),C=w.findOne("#canvasLayer"),x=i["default"].isPresentation(),S=C.attrs,P=S.x,k=S.y,O=y(w,g),E=O.x,T=O.y,M=O.w,D=O.h,A=O.scale,j=n/2,I=(r+(x?0:p["default"].TOP_DISTANCE))/2;if(E+M/2==j&&T+D/2==I&&A==g)return;var L=(E-P)/g*A+P+M*(A/g)/2,R=(T-k)/g*A+k+D*(A/g)/2,B=new o["default"].Tween({node:C,duration:.2,x:P+(j-L),y:k+(I-R),scaleX:A,scaleY:A,onFinish:function(){f.clearCanvasAnim(),B.destroy();var e=(E-(1-g)*n/2)/g*A-(A-1)*n/2+M/g*A/2,t=(T-(1-g)*r/2)/g*A-(A-1)*r/2+D/g*A/2;i["default"].setMultiPos({left:_+(j-e)/A,top:v+(I-t)/A}),i["default"].setMultiZoom(A),s["default"].emitChange(),l["default"].emitChange()}});f.setCanvasAnim(B),B&&B.play()}}else u["default"].zoomFit(),a["default"].initContr();e||c["default"].show("缩放比例：最佳尺寸")}}function y(e,t){var n=d.getPageMaxPos({stage:e,thisZoom:t}),r=n.x,o=n.y,a=n.w,s=n.h,l=i["default"].isPresentation(),u=(document.body.clientWidth-2*h)/(a/t),c=(document.body.clientHeight-(l?0:p["default"].TOP_DISTANCE)-2*h)/(s/t);return{x:r,y:o,w:a,h:s,scale:Math.max(Math.min(u,c),.2)}}t.zoomFit=g,t.getFitPos=y,t["default"]={zoomFit:g,getFitPos:y}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(42)),a=window,i=a.$,s=a.phoneSize,l={previewScrollTop:function(e,t){var n=o["default"].getPreviewInfo(),r=i.offset(i.getElById("appContainer"),!0),a="web"==n.platform;if(r)if(a){var l=i.offset(i.getElById("bodyWrapper"),!0),u={},c=!1;if(!(e.top>=l.top&&e.top+e.height<=l.top+l.height)){y=r.top-e.top,v=o["default"].getScrollObj().scrollTop;(g=i.setRegion(y,l.height-r.height,0))!=v&&(c=!0,u.scrollTop=g)}if(!(e.left>=l.left&&e.left+e.width<=l.left+l.width)){var d=e.left,f=r.left-d,p=o["default"].getScrollObj().scrollLeft,h=i.setRegion(f,l.width-r.width,0);h!=p&&(c=!0,u.scrollLeft=h)}c&&o["default"].setScrollObj(u)}else if(!(e.top>=r.top&&e.top+e.height<=r.top+r.height)){var g,y=(i.offset(t,!0).top-e.top)/n.scale,m=o["default"].getScrollObj(),_=m.scrollHeight,v=m.scrollTop;(g=i.setRegion(y,s.height-_,0))!=v&&o["default"].setScrollObj({scrollTop:g})}}};t["default"]=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(892)),l=a(n(475)),u=a(n(93)),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._replyClick=n._replyClick.bind(n),n}return o(t,e),t.prototype._replyClick=function(e){if(window.noLogin)u["default"].registerPopupFunc();else{var t=this.props.discuss,n=t.user,r={replyId:t.id,isActive:!0,editId:null};s["default"].editChangeState(r),l["default"].setReplyName(n.name);var o=$.query(".project-panel");$.addClass(o,"is-create-dot"),setTimeout(function(){$.query("#editInput")&&$.query("#editInput").focus()},0)}},t.prototype.render=function(){var e=this.props.discuss,t=e.date,n=e.isDone,r=e.id,o=e.replyId,a=e.user,s=e.parentId,u=new Date(t),c=$.changeTimeStyle(u),d=!1;return s&&l["default"]._getDiscuss(s).isDone&&(d=!0),i["default"].createElement("div",{className:"bottom-content"},i["default"].createElement("span",null,c),n||d?undefined:i["default"].createElement("div",{"data-contr":"hovertip","data-option":$.objToString({direction:"top",text:"回复"}),"data-user":a.name,"data-id":o||r,className:"discuss-reply-btn a_c new-base-img",onClick:this._replyClick}))},t}(i["default"].Component);t.BottomContentComp=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(100)),l=a(n(892)),u=a(n(19)),c=a(n(475)),d=a(n(1647)),f=a(n(12)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._getMenuDom=n._getMenuDom.bind(n),n._doneDiscuss=n._doneDiscuss.bind(n),n._undoneDiscuss=n._undoneDiscuss.bind(n),n._doneShowDiscuss=n._doneShowDiscuss.bind(n),n._undoneShowDiscuss=n._undoneShowDiscuss.bind(n),n._deleteDiscuss=n._deleteDiscuss.bind(n),n._editContent=n._editContent.bind(n),n._chooseDiscuss=n._chooseDiscuss.bind(n),n}return o(t,e),t.prototype._chooseDiscuss=function(e){var t=e.currentTarget.getAttribute("data-index");if(-1!=t){var n=$.getElById("project-panel"),r=$.query(".spot-box[data-index='"+t+"']");if(r){$(".spot-box.click").removeClass("click"),$.hasClass(n,"is-click-dot")||$.addClass(n,"is-click-dot"),$.hasClass(r,"click")||$.addClass(r,"click");var o=$.query(".dot-box[data-index='"+t+"']"),a=$.offset(o,!0);d["default"].previewScrollTop(a,n)}}var i=$.query(".click");i&&i.addEventListener("animationend",function(){$.removeClass(i,"click")},!1)},t.prototype._doneDiscuss=function(){var e=this.props.discuss.id,t=window.loginInfo;$.ajax("/discuss/done",{id:e,isDone:!0,doneUser:t.userId},function(n){l["default"].discussIsDone(e,!0),l["default"].discussIsDoneShow(e,!1),l["default"].discussChangeReplyHide(e,!1);var r={id:t.userId,name:t.nickName,userImage:t.userImage};l["default"].setSolvedNick(e,r)})},t.prototype._undoneDiscuss=function(){var e=this.props.discuss.id;$.ajax("/discuss/done",{id:e,isDone:!1},function(t){l["default"].discussIsDone(e,!1),l["default"].discussChangeReplyHide(e,!0)})},t.prototype._doneShowDiscuss=function(){var e=this.props.discuss.id;l["default"].discussIsDoneShow(e,!0);var t=$.query(".solved-box[data-id='"+e+"']");$.removeClass(t,"hide-content-box")},t.prototype._undoneShowDiscuss=function(){var e=this.props.discuss.id;l["default"].discussIsDoneShow(e,!1);var t=$.query(".solved-box[data-id='"+e+"']");$.addClass(t,"hide-content-box")},t.prototype._deleteDiscuss=function(){var e=this;u["default"].init({title:"删除讨论",width:640,content:i["default"].createElement("div",{className:"popup-content"},i["default"].createElement("span",null,"确定删除该条讨论？")),cancelBtnName:"取消",submitBtnName:"删除",submitBtnFunc:function(){var t=e.props.discuss.id,n=!e.props.discuss.replyId;$.ajax("/discuss/delete",{id:t,isDeleteChild:n},function(e){var n=$.query(".is-hover-dot");$.removeClass(n,"is-hover-dot"),l["default"].discussDelete(t),setTimeout(function(){l["default"].setScrollTop(c["default"]._getScrollTop())},0),f["default"].show("删除成功"),u["default"].hide()})}})},t.prototype._editContent=function(e){var t=this.props.discuss,n=$(e.target).parents(".discuss-box")[0].getAttribute("data-index");c["default"].setEditContent(c["default"]._getDiscuss(t.id).content);var r={replyId:t.replyId?t.id:null,isActive:!0,editId:t.id};if(l["default"].editChangeState(r),t.point){var o={x:t.point.posi.x,y:t.point.posi.y},a=t.point.area||{w:0,h:0},i={x:o.x+a.w,y:o.y+a.h};l["default"].setEditDotData($.getStartEndPosiByTwoPosi(o,i)),c["default"].setEditNum(n)}if(-1!=n){var s=$.query(".spot-box[data-index='"+n+"']");$.addClass(s,"edit-dot")}l["default"].setEditState(!0),setTimeout(function(){var e=$.getElById("editInput");e&&(e.focus(),$.rangeGoEnd(undefined,e))},100)},t.prototype._getMenuDom=function(){var e=this.props,t=e.discuss,n=e.couldShowContent,r=t.isDoneShow,o=t.isDone,a=t.replyId,l=t.id,u=[];return!window.noLogin?(c["default"].isMine(l)&&u.push(["编辑",this._editContent]),(c["default"].isMine(l)||$.isProjectAuther(t))&&u.push(["删除",this._deleteDiscuss]),o?(!r&&n?u.push(["显示内容",this._doneShowDiscuss]):n&&u.push(["隐藏内容",this._undoneShowDiscuss]),u.push(["未解决",this._undoneDiscuss])):a||u.push(["已解决",this._doneDiscuss])):o&&!r&&n?u.push(["显示内容",this._doneShowDiscuss]):o&&r&&u.push(["隐藏内容",this._undoneShowDiscuss]),i["default"].createElement("div",{className:"option-menu drop-menu-parent new-base-img"},i["default"].createElement(s["default"],{ref:"downloadDropMenu",name:"downloadDropMenu",list:u,pos:{left:-74,top:0},dir:"right"}))},t.prototype.render=function(){var e=this.props,t=e.index,n=e.discuss,r=n.point,o=n.isDone,a=n.user,s=n.replyId,l=n.doneUser,u=n.id;return i["default"].createElement("div",{"data-index":t,className:"top-content"},o&&l?i["default"].createElement("div",{className:"dot-index"},i["default"].createElement("div",{onClick:this._chooseDiscuss,className:"dot-success a_c new-base-img","data-index":t,"data-contr":"hovertip","data-option":$.objToString({direction:"top",text:l.nickName||l.name})})):r?i["default"].createElement("div",{onClick:this._chooseDiscuss,"data-index":t,className:"dot-index"},i["default"].createElement("div",null,t)):undefined,i["default"].createElement("img",{src:$.getUserImageUrl(a.userImage,0),className:"userInfo-img"}),i["default"].createElement("div",{className:"text-ellipsis userInfo-nick"+(c["default"].isMine(u)?s?" userInfo-nick-reply-mine":" userInfo-nick-discuss-mine":s?" userInfo-nick-reply-other":" userInfo-nick-discuss-other")},a.name),c["default"].isMine(u)?i["default"].createElement("span",{className:"dot-mine"},"[我]"):undefined,c["default"].isMine(u)||$.isProjectAuther(n)||o?this._getMenuDom():undefined)},t}(i["default"].Component);t.TopContentComp=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(893)),f=n(96),p=f.rgbaObjToStr,h=f.getRGBAobj,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={changedColor:""},n}return o(t,e),t.prototype.changeColorStyle=function(){var e=d["default"].getColorUnit();switch(d["default"].setColorFree(!0),this.state.changedColor){case"":this.setState({changedColor:e});case"RGBA":this.setState({changedColor:"HEX"});break;case"HEX":this.setState({changedColor:"ARGB"});break;case"ARGB":this.setState({changedColor:"RGBA"})}},t.prototype.render=function(){var e,t=this.props,n=t.headerName,r=t.headerClassName,o=(t.colorPanelName,t.dataClassName),a=t.value,i=t.unit,s=t.data,c=t.contr,f=t.scale,g=this.state.changedColor,y=d["default"].getcolorFree(),m=d["default"].getColorUnit(),_=(y?g:m)||"RGBA",v=s?s.name:n,b=p(h(s?c[s.value.color]||s.value.color:a[0])),w=$.changeColorUnit(b,_),C=$.saveTwoBit((s?$.isUndefined(c[s.value.size])?s.value.size:c[s.value.size]:a[1])/$.getScaleRatio()/Number(f),i,!0);switch(a[2]){case 0:e="solid";case 1:e="dashed";break;case 2:e="dotted"}if(!C)return l["default"].createElement("div",null);C+=i,e=e||"solid";var x=(s?c[s.value.color]||s.value.color:a[0]).split(",")[3],S="1)"==x||" 1)"==x;return l["default"].createElement("div",{className:u["default"]("mark-list-content","mark-border",""+r)},l["default"].createElement("div",{className:"list-content-header"},v),l["default"].createElement("div",{"data-unit":_,onClick:this.changeColorStyle,className:u["default"]("mark-color-panel",{"mark-opacity-color-panel":!S})},l["default"].createElement("div",{className:"bgColor-color color-val",style:{background:b}})),l["default"].createElement("div",{"data-contr":"hovertip",className:"mark-data-common copy-link-common mark-border-color mark-bg-color a_c common-color-data","data-clipboard-text":w,"data-option":'{"text":"'+w+'"}'},l["default"].createElement("span",null,w)),l["default"].createElement("div",{className:"mark-border-data"},l["default"].createElement("div",{className:u["default"]("mark-data-common copy-link-common",""+o,{"border-data":!!s}),"data-clipboard-text":e},e),l["default"].createElement("div",{className:u["default"]("mark-data-common copy-link-common",""+o,{"border-data":!!s}),"data-clipboard-text":C},C)))},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"changeColorStyle",null),t}(l["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(42)),d=s(n(1652)),f=s(n(1658)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentWillMount=function(){c["default"].addChangeListener(this.onProtoPreviewChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this.onProtoPreviewChange)},t.prototype.onProtoPreviewChange=function(){this.setState({})},t.prototype.render=function(){return c["default"].getPreviewInfo().hidePrdCoverPage?l["default"].createElement(d["default"],null):l["default"].createElement(f["default"],null)},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onProtoPreviewChange",null),t}(l["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(1653)),f=s(n(1654)),p=s(n(78)),h=s(n(34)),g=s(n(6)),y=n(222),m=n(834),_=n(1552),v=window.$,b=!1,w=function(e){function t(t){var n=e.call(this,t)||this;return n.state={leftMenu:!1,expandBtn:!1},n}return o(t,e),t.prototype.componentDidMount=function(){if(h["default"].addChangeListener(this._onChange),y.setPrdData(window.prdData),window.isInPrd=!0,!b){for(var e in window.symbolContrs.symbols)p["default"].addInitVal(window.symbolContrs.symbols[e]);b=!0}g["default"].setSymbolContrs(window.symbolContrs),m.selectFirstPage(),h["default"].emitChange(),_.prdAllSturctFix()},t.prototype.componentWillUnmount=function(){h["default"].removeChangeListener(this._onChange),window.isInPrd=!1,_.prdAllSturctFix()},t.prototype.showMenuFunc=function(){var e=this.state.leftMenu;this.setState({leftMenu:!e})},t.prototype._onChange=function(){this.setState({})},t.prototype.render=function(){var e,t=this.state,n=t.leftMenu,r=t.expandBtn;return h["default"].getSelectStructKey()?l["default"].createElement("div",{className:u["default"]("prd-preview-container",(e={},e["prd-preview-"+v.getPlatform(window.platform)]=!0,e))},l["default"].createElement("div",{className:"left-head-line"})," ",l["default"].createElement(d["default"],{showMenu:n}),l["default"].createElement(f["default"],{showMenu:n,expandIcon:r,showMenuFunc:this.showMenuFunc})):null},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"showMenuFunc",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component);t["default"]=w},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(42)),d=s(n(953)),f=s(n(866)),p=n(224),h=s(n(3)),g=s(n(34)),y=s(n(91)),m=n(41),_=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){y["default"].addChangeListener(this._onChange),y["default"].addFoldChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){y["default"].removeChangeListener(this._onChange),y["default"].removeFoldChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype.render=function(){var e=this.props.showMenu,t=c["default"].getPreviewInfo();return l["default"].createElement("div",{className:u["default"]("left-menu-panel",{"is-show-menu":e})},l["default"].createElement("div",{className:"head-panel"},t.prdFromPreview?l["default"].createElement("div",{className:"return-btn-panel",onClick:function(){$.removeParamVal("isprd"),c["default"].setPrdFromPreview(!1),c["default"].setPrdView(!1)}},l["default"].createElement("div",{className:"return-icon point-hover"}),l["default"].createElement("div",{className:"return-tips-text"},"返回预览页")):m.checkIsInFeiShuPC()?l["default"].createElement("div",null,l["default"].createElement("div",{className:"website-logo"})):l["default"].createElement("a",{href:"https://www.xiaopiu.com/prd",target:"_blank"},l["default"].createElement("div",{className:"website-logo"}))),l["default"].createElement("div",{className:"title-panel"},l["default"].createElement("div",{className:"prd-document-icon"}),l["default"].createElement("div",{className:"prd-title-text"},"《",t.view.name,"》")),l["default"].createElement(f["default"],{placeholder:"搜索…",searchType:"struct"}),l["default"].createElement(d["default"],{isPreview:!0,searchType:"struct",arr:p.getPrdAllStructDataArr(),selectKey:g["default"].getSelectStructKey(),selectArr:g["default"].getSelectStructArr(),showArr:[]}))},a([h["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component);t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(11)),d=l(n(3)),f=l(n(1173)),p=l(n(1655)),h=l(n(29)),g=l(n(42)),y=l(n(34)),m=n(834),_=n(1656),v=n(224),b=n(26),w=n(224),C=n(1362);function x(){var e=window.parent;e&&e.closePopupPreview&&e.closePopupPreview()}var S=function(e){function t(t){var n=e.call(this,t)||this;return n.state={showEditorBtn:!0,pageIndex:-1,pageNum:-1},n}return o(t,e),t.prototype.componentDidMount=function(){v.showStructFromFoldParent()},t.prototype.componentDidUpdate=function(){v.showStructFromFoldParent()},t.prototype._getElementListComp=function(){return b.getAllElementBySelectPageHierarchy().map(function(e){return e?u["default"].createElement(f["default"],{key:e.id,element:e}):null})},t.prototype.getAllElementHeight=function(){var e=b.findAllElement({isReturnArr:!0}),t=0,n=[];return e.forEach(function(e,r){var o=e.height,a=e.y,i=e.type,s=e.remarkId;"page"==i&&s&&n.push(h["default"].getPrdElementById(s)),a+o>t&&(t=a+o)}),n.forEach(function(e){var n=e.y,r=e.height;n+r>t&&(t=n+r)}),t},t.prototype.getCurrentPageIndex=function(e){var t=e.allPagesArr,n=e.pageId,r=-1;return t.some(function(e,t){var o=e.id;e.title;o==n&&(r=t)}),r},t.prototype.handleFlipPage=function(e){var t=e.type,n=m.selectAllPages(),r=this.getSinglePageInfo().pageIndex,o=n["pre"==t?Math.max(0,r-1):Math.min(n.length-1,r+1)].id,a=$.query(".prd-preview-container>.right-content-panel");a&&0!=a.scrollTop&&(a.scrollTop=0),y["default"].setSelectStructKey(o,!0),y["default"].setSelectStructArr([o])},t.prototype.getSinglePageInfo=function(){var e=m.selectAllPages(),t=w.getSelectStruct().id;return{pageIndex:this.getCurrentPageIndex({allPagesArr:e,pageId:t}),pageNum:e.length}},t.prototype.editBtnClickFunc=function(){var e=g["default"].getPreviewInfo(),t=window.parent||window,n=y["default"].getSelectStructKey();t&&(t.location.href=window.hostUrl+"/project?proid="+e.view.id+"&prdpage="+n+"&isprd=true")},t.prototype._handleScroll=function(e){y["default"].setScrollTop(e.currentTarget.scrollTop)},t.prototype.render=function(){var e=this,t=e.props,n=t.showMenuFunc,r=void 0===n?$.noop:n,o=t.showMenu,i=(t.expandIcon,e.state.showEditorBtn,w.getSelectStruct()),s=i.title,l=(i.id,m.selectAllPages()),d=g["default"].getPreviewInfo().fromIframe,f=e.getAllElementHeight(),h=e.getSinglePageInfo(),y=h.pageIndex,v=h.pageNum,S=0==y?0:y-1,P=y==v-1?0:y+1,k=1==v,O=$(".right-content-panel").scrollTop(),E=b.findAllElement({isReturnArr:!0}),T=g["default"].getPreviewInfo();return u["default"].createElement("div",{className:"right-content-panel has-scrollbar","data-scroll":O,onWheel:_.handleScroll,onScroll:this._handleScroll},u["default"].createElement("div",{className:c["default"]("content-box",{"is-only-one-page":k}),style:a({},0==E.length?{height:"100%"}:{})},u["default"].createElement("div",{className:c["default"]("head-panel",{"is-menu-show":o})},u["default"].createElement("div",a({className:c["default"]("expand-left-menu-btn-box hover-icon point-hover a_c",{"is-menu-show":o})},$.addHoverData({text:(o?"收起":"展开")+"目录"}),{onClick:r}),u["default"].createElement("div",{className:c["default"]("expand-arrow-icon",{"is-menu-show":!o})}),u["default"].createElement("div",{className:"expand-left-menu-btn"})),T.noBtn||"editor"===T.fromIframe?undefined:u["default"].createElement("a",{onClick:e.editBtnClickFunc,className:c["default"]("editor-btn-box",{"is-iframe":d}),target:window.pcApp?"_self":"_blank"},"编辑文档"),u["default"].createElement("div",a({className:c["default"]("share-btn-box point-hover a_c",{"is-iframe":d})},$.addHoverData({text:"分享"}),{onClick:C.sharePopupFunc}),u["default"].createElement("div",{className:"share-icon"})),d?u["default"].createElement("div",{className:"close-btn-box",onClick:x},u["default"].createElement("div",{className:"close-btn-icon"})):undefined),u["default"].createElement("div",{className:"content-text-panel"},u["default"].createElement("div",{className:"prd-line-container"},u["default"].createElement(p["default"],{isPreview:!0})),u["default"].createElement("div",{className:"prd-title"},s),u["default"].createElement("div",{className:c["default"]("prd-content-text",{"is-only-one-page":k}),style:a({},0==f?{}:{height:f})},e._getElementListComp(),k?undefined:u["default"].createElement("div",{className:"footer-panel"},["pre","next"].map(function(t,n){return 0==y&&"pre"==t||y==v-1&&"next"==t?u["default"].createElement("div",{key:"placeholder-box"+n,className:"placeholder-box"}):u["default"].createElement("div",{className:c["default"]("prd-section-skip-panel",{}),key:t+n,onClick:function(){return e.handleFlipPage({type:t})}},u["default"].createElement("div",{className:c["default"]("section-skip-btn "+t+"-skip-btn point-hover",{"is-pre-page":"pre"==t,"is-last-page":y==v-1})},"pre"==t?"上":"下","一页"),u["default"].createElement("div",{className:c["default"]("section-title",{"is-pre-page":"pre"==t,"is-last-page":y==v-1})},"pre"==t?l[S].title:l[P].title))}))))))},i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_getElementListComp",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getAllElementHeight",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"getCurrentPageIndex",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"handleFlipPage",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getSinglePageInfo",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"editBtnClickFunc",null),i([d["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_handleScroll",null),t}(u["default"].Component);t["default"]=S},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=n(28),d=l(n(11)),f=l(n(3)),p=l(n(146)),h=l(n(67)),g=l(n(34)),y=l(n(1174)),m=n(1175),_=n(145),v=window.$,b=_.elementCanvasBaseVal.OFFSET_X,w=function(e){function t(t){var n=e.call(this,t)||this;return n.time=null,n.state={canvasCursor:p["default"].getCursor(),scrollTop:g["default"].getScrollTop()},n}return o(t,e),t.prototype.componentDidMount=function(){p["default"].addChangeListener(this._onCursorChange),g["default"].addScrollChangeListener(this._onCursorChange),h["default"].addMoveChangeListener(this._onCursorChange)},t.prototype.componentWillUnmount=function(){p["default"].removeChangeListener(this._onCursorChange),g["default"].removeScrollChangeListener(this._onCursorChange),h["default"].removeMoveChangeListener(this._onCursorChange),clearTimeout(this.time)},t.prototype._onCursorChange=function(){this.setState({canvasCursor:p["default"].getCursor(),scrollTop:g["default"].getScrollTop()})},t.prototype.renderAgain=function(){var e=this;this.time=setTimeout(function(){e.setState({})},200)},t.prototype.render=function(){this.props;var e,t=this.state.canvasCursor,n=v.getWinSize(),r=(n.width,n.height,v(".prd-line-container")[0]),o=r&&v.offset(r,!0)||{};return r?u["default"].createElement(c.Stage,a({ref:function(e){h["default"].setPrdStage(e)},className:d["default"]("prd-preview-canvas-stage",(e={},e["cursor-"+t]=!0,e)),onMouseDown:m.prdCanvasMouseDown,onMouseMove:m.prdCanvasMouseMove},{width:o.width+b+10,height:o.height}),u["default"].createElement(c.Layer,null,u["default"].createElement(y["default"],{zoom:1}))):(this.renderAgain(),null)},i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onCursorChange",null),i([f["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"renderAgain",null),t}(u["default"].Component);t["default"]=w},function(e,t,n){"use strict";function r(e){var t=$.query("#prdImageZoomPanel");if(t){var n=t.getAttribute("data-scrollval"),r=$(".right-content-panel").scrollTop(),o=$.query(".right-content-panel>.content-box>.content-text-panel>.prd-content-text");Math.abs(r-n)>=40&&($(t).trigger("mousedown"),o.style.zIndex=0)}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleScroll=r,t["default"]={handleScroll:r}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(11)),d=s(n(889)),f=window,p=(f.$,f.isPrototypeTool,function(e){function t(t){var n=e.call(this,t)||this;return n.state={pageType:"coverPage",pageUrl:""},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=(e.pageId,e.coverId);this.setState({pageUrl:"https://xiaopiu.com/prd/"+t})},t.prototype.handleChangeLinkType=function(e){var t=e.type,n=this.props,r=n.pageId,o=n.coverId,a=null;a=r&&"contentPage"==t?"https://xiaopiu.com/prd/"+o+"?prdpage="+r:"https://xiaopiu.com/prd/"+o,this.setState({pageUrl:a,pageType:t})},t.prototype.render=function(){var e=this,t=e.state,n=t.pageType,r=t.pageUrl,o=e.props.pageId;return l["default"].createElement("div",{className:"popup-content share-popup permission-public no-setting prd-preview-share"},l["default"].createElement(d["default"],{url:r}),o?l["default"].createElement("div",{className:"switch-share-link-type-panel"},["coverPage","contentPage"].map(function(t,r){return l["default"].createElement("div",{key:t+r,className:"switch-box",onClick:function(){return e.handleChangeLinkType({type:t})}},l["default"].createElement("div",{className:c["default"]("switch-icon",{"is-select":t==n})}),l["default"].createElement("div",{className:"switch-text"},"从"+("coverPage"==t?"封面":"当前")+"页开始"))})):undefined)},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleChangeLinkType",null),t}(l["default"].Component));t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3)),d=l(n(155)),f=l(n(42)),p=n(1362),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={currentHeight:document.body.clientHeight,currentWidth:document.body.clientWidth,pageHeight:window.innerHeight},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;window.onresize=function(){e.setState({pageHeight:window.innerHeight})}},t.prototype.getScaleNum=function(){var e=this.state.pageHeight,t=1;return e>=972&&e<=1200?t=1:e>=640?t=e/972:e<=640&&(t=640/972),t},t.prototype.coverPageClick=function(){f["default"].setHidePrdCoverPage(!0)},t.prototype.render=function(){var e=this.getScaleNum(),t=window,n=t.cooperationUserArr,r=t.view.update_date,o=(n||[]).map(function(e){return h.unescapeObj(e).nickName}),i=f["default"].getPreviewInfo();return u["default"].createElement("div",{className:"prd-cover-page-container"},u["default"].createElement("div",a({className:"share-btn point-hover a_c hover-icon"},h.addHoverData({text:"分享"}),{onClick:p.sharePopupFunc}),u["default"].createElement("div",{className:"btn-icon"})),u["default"].createElement("div",{style:{transform:"scale("+e+")"}},u["default"].createElement("div",{className:"cover-page-panel",onClick:this.coverPageClick},u["default"].createElement("div",{className:"website-logo"}),u["default"].createElement("div",{className:"head-bg-img"}),u["default"].createElement("div",{className:"title-panel"},u["default"].createElement("div",{className:"quote-icon up-quote"}),u["default"].createElement("div",{className:"document-title"},i.view.name),u["default"].createElement("div",{className:"document-type-name"},"产品需求文档"),u["default"].createElement("div",{className:"down-quote-box"},u["default"].createElement("div",{className:"quote-icon down-quote"}))),u["default"].createElement("div",{className:"document-author-list-panel"},u["default"].createElement("div",{className:"author-list-panel"},o.slice(0,Math.min(o.length,3)).map(function(e,t){return u["default"].createElement("div",{key:"document-author"+e,className:"document-author"},e)}),o.length>3?u["default"].createElement("div",{className:"document-author document-author-count"},"等"+o.length+"人"):undefined,u["default"].createElement("div",{className:"document-update-time"},"更新时间：",d["default"](new Date(r?+r:null)).format("YYYY年MM月DD日")))),u["default"].createElement("div",{className:"bottom-bg-img"})),u["default"].createElement("div",{className:"design-by"},"创作于",u["default"].createElement("a",{href:"https://www.xiaopiu.com/prd",target:"_blank"},"xiaopiu.com·PRD文档"))))},i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getScaleNum",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"coverPageClick",null),t}(u["default"].Component);t["default"]=g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null,o=new(function(){function e(){}return e.prototype.mouseDown=function(){r=null},e.prototype.mouseMove=function(e){var t=window.mouseDownTarget;t.name&&(r&&(!r||e.clientX==r[0]&&e.clientY==r[1])||(t.state="move",t.moveFunc(e),r=[e.clientX,e.clientY])),window.mousePosi=[e.pageX,e.pageY]},e.prototype.mouseUp=function(e){var t=window.mouseDownTarget;t.name&&(t.state="end",t.endFunc(e),$.mouseDownTargetInit())},e}());t["default"]=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DISCUSS_ADD="DISCUSS_ADD",e.DISCUSS_DELETE="DISCUSS_DELETE",e.DISCUSS_DONE="DISCUSS_DONE",e.DISCUSS_DONESHOW="DISCUSS_DONESHOW",e.DISCUSS_REPLYHIDE="DISCUSS_REPLYHIDE",e.DISCUSS_CHANGEPOINT="DISCUSS_CHANGEPOINT",e.DISCUSS_CHANGECONTENT="DISCUSS_CHANGECONTENT",e.DISCUSS_INITEDITSTATE="DISCUSS_INITEDITSTATE",e.DISCUSS_DOTCREATESTATE="DISCUSS_DOTCREATESTATE",e.DISCUSS_SCROLLTOP="DISCUSS_SCROLLTOP",e.DISCUSS_SETDISCUSSLIST="DISCUSS_SETDISCUSSLIST",e.DISCUSS_SETENDPOS="DISCUSS_SETENDPOS",e.DISCUSS_SETREPLYNAME="DISCUSS_SETREPLYNAME",e.DISCUSS_SETPAGEID="DISCUSS_SETPAGEID",e.DISCUSS_SETSOLVEDNICK="DISCUSS_SETSOLVEDNICK",e.DISCUSS_EDITSTATE="DISCUSS_EDITSTATE",e.DISCUSS_EDITNUM="DISCUSS_EDITNUM",e.DISCUSS_BOTTOM="DISCUSS_BOTTOM",e.DISCUSS_EDITCONTENT="DISCUSS_EDITCONTENT",e.DISCUSS_LASTID="DISCUSS_LASTID",e.DISCUSS_CHANGE_REPLYHIDE="DISCUSS_CHANGE_REPLYHIDE"}(t.DiscussActionID||(t.DiscussActionID={}))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(31),i=(r=a)&&r.__esModule?r:{"default":r};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var s,l,u=(0,i["default"])({NOTEPOPOVER_SHOW:null,NOTEPOPOVER_HIDE:null});t["default"]=u,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&s.register(u,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/constants/NotePopoverConstants.js"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_ViewSetting=__webpack_require__(2239),_ViewSetting2=_interopRequireDefault(_ViewSetting),_ShareCode=__webpack_require__(2240),_ShareCode2=_interopRequireDefault(_ShareCode),_ChangeMultiTypeBtn=__webpack_require__(1568),_ChangeMultiTypeBtn2=_interopRequireDefault(_ChangeMultiTypeBtn),_PercentBtn=__webpack_require__(1733),_PercentBtn2=_interopRequireDefault(_PercentBtn),_MultiBtn=__webpack_require__(1734),_MultiBtn2=_interopRequireDefault(_MultiBtn),_PrdBtn=__webpack_require__(2242),_PrdBtn2=_interopRequireDefault(_PrdBtn),_ToastActions=__webpack_require__(12),_ToastActions2=_interopRequireDefault(_ToastActions),_ProtoPreviewActions=__webpack_require__(987),_ProtoPreviewActions2=_interopRequireDefault(_ProtoPreviewActions),_DistanceMeasureStore=__webpack_require__(844),_DistanceMeasureStore2=_interopRequireDefault(_DistanceMeasureStore),_ProtoPreviewStore=__webpack_require__(42),_ProtoPreviewStore2=_interopRequireDefault(_ProtoPreviewStore),_CanvasStageStore=__webpack_require__(23),_CanvasStageStore2=_interopRequireDefault(_CanvasStageStore),_PageFlowStore=__webpack_require__(49),_PageFlowStore2=_interopRequireDefault(_PageFlowStore),_LinkLineStore=__webpack_require__(27),_LinkLineStore2=_interopRequireDefault(_LinkLineStore),_screenfull=__webpack_require__(1237),_screenfull2=_interopRequireDefault(_screenfull),_Share=__webpack_require__(851),_Share2=_interopRequireDefault(_Share),_PageFlowViewHandle=__webpack_require__(46),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ISPCAPP=window.pcApp||window.parent.pcApp,modeList=[["预览","preview"],["讨论","discuss"],["标注","mark"]],PreviewHeaderComp=(_class=function(_React$Component){function PreviewHeaderComp(){(0,_classCallCheck3["default"])(this,PreviewHeaderComp);var e=(0,_possibleConstructorReturn3["default"])(this,(PreviewHeaderComp.__proto__||(0,_getPrototypeOf2["default"])(PreviewHeaderComp)).call(this));return e.state={},(window.isLocal||window.temp)&&(modeList=[["预览","preview"],["标注","mark"]]),e}return(0,_inherits3["default"])(PreviewHeaderComp,_React$Component),(0,_createClass3["default"])(PreviewHeaderComp,[{key:"editBtnClickFunc",value:function(){var e=this.props.previewInfo,t=window.parent||window;t&&(t.location.href=window.hostUrl+"/editor?type="+e.view.type+"&id="+e.view.id+"&activePage="+_ProtoPreviewStore2["default"].getActivePage()+"&platform="+e.platform)}},{key:"_changeViewClick",value:function(e){var t=e.currentTarget.getAttribute("data-key"),n=void 0,r="fixed-view"==t;_ProtoPreviewStore2["default"].changeMultiType(t);var o=(0,_PageFlowViewHandle.getPageFlow)();if((r||o)&&(n=$("#middlePanel .konvajs-content canvas")).css("visibility","hidden"),r){var a=$.extend(!0,{},_ProtoPreviewStore2["default"].getMultiPos());_ProtoPreviewStore2["default"].setMultiPos({left:0,top:0}),_ProtoPreviewStore2["default"].setPrevMultiPos(a),setTimeout(function(){_CanvasStageStore2["default"].emitChange(),n.css("visibility","visible")},0)}else _ProtoPreviewStore2["default"].setMultiPos($.extend(!0,{},_ProtoPreviewStore2["default"].getPrevMultiPos())),o?setTimeout(function(){_LinkLineStore2["default"].emitChange(),n.css("visibility","visible")},0):_LinkLineStore2["default"].emitChange();_CanvasStageStore2["default"].emitChange(),setTimeout(function(){_PageFlowStore2["default"].emitChange(),_LinkLineStore2["default"].emitChange()},0),e.stopPropagation()}},{key:"refresh",value:function(){window.location.reload()}},{key:"share",value:function(){var e=this.props.previewInfo,t="web"==e.platform?"web":"h5";if(!window.navigator.onLine)return _ToastActions2["default"].show("网络连接不通畅，请稍候再试"),!1;var n=e.view;"true"!=window.isMine||window.temp||"project"!=window.type?_Share2["default"].sharePopup({title:n.name,type:window.type,others:!0,url:window.temp?window.hostUrl+"/"+t+"?"+window.code:window.hostUrl+"/"+t+"/byId?"+window.code,img:window.hostUrl+"/qrcode"+(window.temp?"":"/img")+"?"+window.code,platform:$.getPlatform(window.platform)}):_Share2["default"].sharePopup({id:n.id,title:n.name,type:window.type,url:window.hostUrl+"/"+t+"/byId?"+window.code,img:window.hostUrl+"/qrcode/img?"+window.code,permission:window.permission,password:window.password,isPublish:window.isPublish,platform:e.platform,others:!1,prd:{showPrd:!0,hasPrd:!0},callback:function(e){for(var t in e)window[t]=e[t]}})}},{key:"presentation",value:function(){var e=_ProtoPreviewStore2["default"].getIsMultiView();if(_screenfull2["default"].isFullscreen||_screenfull2["default"].toggle(),!_ProtoPreviewStore2["default"].isPresentation()){var t=_ProtoPreviewStore2["default"].getMultiPos(),n={left:t.left,top:t.top};if(e){var r=_ProtoPreviewStore2["default"].getMultiZoom();n.zoom=r}else{var o=_ProtoPreviewStore2["default"].getScale();n.scale=o}_ProtoPreviewStore2["default"].setViewData(n)}_DistanceMeasureStore2["default"].initContr(),_ProtoPreviewStore2["default"].changeIsPresentation(!0),setTimeout(function(){_CanvasStageStore2["default"].emitChange()},100),e||_ProtoPreviewActions2["default"].switchMode("preview"),$.tipHide()}},{key:"switchMode",value:function(e){var t=$.query(".popup-close-btn");_ProtoPreviewActions2["default"].switchMode(e.currentTarget.getAttribute("data-mode")),t&&t.click()}},{key:"close",value:function(){window.parent&&window.parent.closePopupPreview&&window.parent.closePopupPreview()}},{key:"render",value:function(){var e=this,t=this,n=t.props,r=n.previewInfo,o=r.isMultiView,a=o!==undefined&&o,i=r.multiViewType,s=n.previewInfo,l=window.temp?"(项目未被保存，链接15分钟后失效)":"《"+s.view.name+"》",u=s.fromIframe,c=$.getPlatform(window.platform),d=window.prdData&&window.prdData.prd&&window.prdData.prd.createType&&"true"!=$.getUrlParam("inprd"),f=[];return window.cooperationUserArr&&window.cooperationUserArr.length>0&&(f=window.cooperationUserArr.map(function(e){return $.unescapeObj(e)})),_react2["default"].createElement("header",{className:(0,_classnames2["default"])({iframe:u,"prd-header":a})},ISPCAPP?undefined:_react2["default"].createElement("a",{href:"https://www.xiaopiu.com/",className:"logo new-base-img "}),_react2["default"].createElement("p",{className:(0,_classnames2["default"])("project-name",{"left-line":!a,"multi-project-name":a})},l),a&&"true"!=$.getUrlParam("inprd")?_react2["default"].createElement("div",{className:(0,_classnames2["default"])("row-layout",{"left-line":!u}),style:{paddingLeft:12,height:"100%"}},_react2["default"].createElement(_ChangeMultiTypeBtn2["default"],{changeViewFunc:t._changeViewClick,multiViewType:i})):undefined,"project"!=window.type||window.isLocal?undefined:_react2["default"].createElement("div",{className:"author-wrapper"},f&&f.length>1?_react2["default"].createElement("p",{className:"author-num left-line"},f.length):undefined,_react2["default"].createElement("div",{className:"author-list-wrapper"},_react2["default"].createElement("ul",{className:"author-list"},f.map(function(e,t){return _react2["default"].createElement("li",{key:e.id,className:0==t?"creator":""},e.nickName)})))),s.noBtn||"editor"===s.fromIframe?undefined:_react2["default"].createElement("div",{className:"edit-btn left-line"},_react2["default"].createElement("a",{onClick:t.editBtnClickFunc,className:"small-simple-button",target:window.pcApp?"_self":"_blank"},"编辑查看")),"project"!=window.type||a?undefined:_react2["default"].createElement("div",{className:"switch-mode"},modeList.map(function(n){return _react2["default"].createElement("span",{key:n[1],"data-mode":n[1],className:"mode-btn-"+n[1]+(t.props.mode==n[1]?" active":""),onClick:e.switchMode},n[0])})),u&&"true"!=$.getUrlParam("inprd")?_react2["default"].createElement("div",{key:"close",className:"back-btn",onClick:this.close}):undefined,_react2["default"].createElement("ul",{className:"right-btns-group left-line"},_react2["default"].createElement("li",{key:"fullscreen",className:"fullscreen new-base-img a_c","data-contr":"hovertip","data-option":$.objToString({text:"演示",direction:"top",changePosi:0}),onClick:this.presentation}),_react2["default"].createElement("li",{key:"share",className:"share new-base-img a_c","data-contr":"hovertip","data-option":$.objToString({text:"分享",direction:"top",changePosi:0}),onClick:this.share},"web"!=c?_react2["default"].createElement(_ShareCode2["default"],null):undefined),_react2["default"].createElement("li",{key:"refresh",className:"refresh new-base-img "+(a?"disabled":"a_c"),"data-contr":"hovertip","data-option":$.objToString({text:"刷新",direction:"top",changePosi:0}),onClick:a?$.noop:this.refresh}),_react2["default"].createElement("li",{key:"setting",id:"viewSettingBtn",className:"setting new-base-img "+(a?"disabled":"a_c")},a?undefined:_react2["default"].createElement("div",{className:"view-setting-wrapper"},_react2["default"].createElement(_ViewSetting2["default"],{platform:c,previewInfo:s})))),"web"!=c&&"project"==window.type?_react2["default"].createElement(_MultiBtn2["default"],{noLine:!!d}):undefined,d?_react2["default"].createElement(_PrdBtn2["default"],null):undefined,_react2["default"].createElement(_PercentBtn2["default"],null))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PreviewHeaderComp}(_react2["default"].Component),_applyDecoratedDescriptor(_class.prototype,"editBtnClickFunc",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"editBtnClickFunc"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_changeViewClick",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_changeViewClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"refresh",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"refresh"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"share",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"share"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"presentation",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"presentation"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"switchMode",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"switchMode"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"close",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"close"),_class.prototype),_class),_default=PreviewHeaderComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(ISPCAPP,"ISPCAPP","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/PreviewHeader.react.js"),reactHotLoader.register(modeList,"modeList","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/PreviewHeader.react.js"),reactHotLoader.register(PreviewHeaderComp,"PreviewHeaderComp","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/PreviewHeader.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/PreviewHeader.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(42)),c=s(n(23)),d=s(n(2241)),f=s(n(3)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.cancelSelectPage=function(){u["default"].getSelectPage()&&(u["default"].setSelectPage(""),c["default"].emitChange())},t.prototype.render=function(){var e=u["default"].getPreviewInfo(),t=e.isMultiView,n=void 0!==t&&t,r=e.scale,o=e.multiZoom;return l["default"].createElement("div",{className:"percent-btn"},Math.round(100*(n?o:r))+"%",l["default"].createElement("div",{onClick:this.cancelSelectPage,className:"scale-setting-wrapper"},l["default"].createElement(d["default"],{platform:$.getPlatform(window.platform),previewInfo:e})))},a([f["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"cancelSelectPage",null),t}(l["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(42)),l=n(1379),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.noLine,t=void 0!==e&&e,n=s["default"].getPreviewInfo().isMultiView,r=void 0!==n&&n;return i["default"].createElement("div",{key:"multiBtn",id:"multiBtn",className:"multi-btn new-base-img left-line a_c"+(r?" active":"")+(t?" no-line":""),"data-contr":"hovertip","data-option":$.objToString({text:"切换至"+(r?"预览":"多视图")+"[Tab]",direction:"top",changePosi:0}),onClick:function(){l.changeMultiFunc(!1)}})},t}(i["default"].Component);t["default"]=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=a(n(475)),u=a(n(42)),c=a(n(892)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._moveDot=n._moveDot.bind(n),n}return o(t,e),t.prototype._moveDot=function(e){var t=u["default"].getPreviewInfo().scale,n=$.getMousePos(e),r=this.props,o=r.pos,a=r.discuss,i=e.target.getAttribute("data-index"),s=$.query(".spot-box[data-index='"+i+"']"),d=a&&l["default"].isMine(a.id);l["default"].setEditNum(i);var f=$.offset($.query("#project-panel"),!0,!1),p=f.width,h=f.height,g=e.target&&0==$(e.target).parents(".spot-drag-box").length&&!$.query(".spot-drag-box");(l["default"]._getEditState()||d)&&$.setDrag({name:"moveDot",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){l["default"]._getEditState()||c["default"].setEditState(!0),$.hasClass(s,"edit-dot")||$.addClass(s,"edit-dot");var r=$.getMousePos(e),a=r.x,i=r.y,u={x:$.setRegion(o.x+$.setRegion(a,0,p)-n.x,0,p+22.8)/t,y:$.setRegion(o.y+$.setRegion(i,0,h)-n.y,0,h+22.8)/t},d={startPosi:u,endPosi:u};c["default"].setEditDotData(d)},endFunc:function(){var e=l["default"]._getEditDotData();a&&a.id&&e&&(e.startPosi.x==o.x&&e.startPosi.y==o.y||($.ajax("/discuss/update",{id:a.id,content:l["default"]._getDiscuss(a.id).content,point:$.getCreateDotPosi(e.startPosi,e.endPosi)}),c["default"].discussChangePoint(a.id,$.getCreateDotPosi(e.startPosi,e.endPosi))),c["default"].setEditDotData(null),c["default"].setEditState(!1),l["default"].setEditNum(null),$.removeClass(s,"edit-dot")),g&&(l["default"].setEditNum(null),c["default"].setEditState(!1))}}),e.stopPropagation(),e.preventDefault()},t.prototype.render=function(){var e=this.props,t=e.discuss,n=e.isCreate,r=e.isArea,o=e.pos,a=!!t&&t.isDone,l=t?t.id:undefined,u=this.props.index;return i["default"].createElement("div",{onMouseDown:this._moveDot,className:s["default"]("dot-box",{"create-dot":n}),"data-id":l,"data-index":u||"",style:r?{left:o.x,top:o.y}:{left:o.x-19,top:o.y-19}},i["default"].createElement("div",{className:"dot-point","data-id":l,"data-index":u||""},a?i["default"].createElement("div",{"data-index":u||"","data-id":l,className:"solved-dot new-base-img"}):i["default"].createElement("div",{"data-index":u||"","data-id":l,className:"index-dot"},u)),i["default"].createElement("div",{className:"extend-box"}))},t}(i["default"].Component);t.DotBoxComp=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=a(n(892)),u=a(n(475)),c=a(n(42)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._moveArea=n._moveArea.bind(n),n}return o(t,e),t.prototype._moveArea=function(e){var t=this,n=t.props.id,r=c["default"].getPreviewInfo().scale,o=!e.target.getAttribute("data-id")&&u["default"]._getEditState(),a=u["default"].isMine(n)&&!u["default"]._getEditState(),i=$.getMousePos(e),s=e.target.getAttribute("data-index"),d=$.query(".spot-box[data-index='"+s+"']"),f=o?u["default"]._getEditDotData():a?u["default"]._getDiscussPosi(t.props.id):null,p=e.target&&0==$(e.target).parents(".spot-drag-box").length&&!$.query(".spot-drag-box");if(u["default"].setEditNum(s),o||a){var h=f.startPosi,g=f.endPosi;$.setDrag({name:"moveArea",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=$.getMousePos(e);u["default"]._getEditState()||l["default"].setEditState(!0),d&&!$.hasClass(d,"edit-dot")&&$.addClass(d,"edit-dot");var n={x:Math.min(Math.max(h.x+(t.x-i.x)/r,0),$.offset($.getElById("project-panel"),!0,!1).width/r-g.x+h.x),y:Math.min(Math.max(h.y+(t.y-i.y)/r,0),$.offset($.getElById("project-panel"),!0,!1).height/r-g.y+h.y)},o={x:n.x+(g.x-h.x),y:n.y+(g.y-h.y)};l["default"].setEditDotData($.getStartEndPosiByTwoPosi(n,o))},endFunc:function(){var e=u["default"]._getEditDotData();a&&t.props.id&&e&&(f.startPosi.x==e.startPosi.x&&f.startPosi.y==e.startPosi.y||($.ajax("/discuss/update",{id:t.props.id,content:u["default"]._getDiscuss(t.props.id).content,point:$.getCreateDotPosi(e.startPosi,e.endPosi)}),l["default"].discussChangePoint(n,$.getCreateDotPosi(e.startPosi,e.endPosi))),d&&$.hasClass(d,"edit-dot")&&$.removeClass(d,"edit-dot"),u["default"].setEditNum(null),l["default"].setEditState(!1),l["default"].setEditDotData(null)),p&&(u["default"].setEditNum(null),l["default"].setEditState(!1))}})}e.stopPropagation(),e.preventDefault()},t.prototype.render=function(){var e=this.props,t=e.pos,n=e.isSolved;return i["default"].createElement("div",{className:s["default"]("drag-area",{"solved-drag-area":n}),"data-index":this.props.index,"data-id":this.props.id,style:{left:t.left,top:t.top,width:t.width,height:t.height},onMouseDown:this._moveArea})},t}(i["default"].Component);t.DragAreaComp=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=a(n(892)),u=a(n(475)),c=a(n(42)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={endPos:{x:0,y:0}},n._dragArea=n._dragArea.bind(n),n._cancelMask=n._cancelMask.bind(n),n}return o(t,e),t.prototype._cancelMask=function(){},t.prototype._dragArea=function(e){var t=-1==e.target.className.indexOf("my-drag"),n=c["default"].getPreviewInfo().scale,r=$.getMousePos(e),o=this.props.id,a=t?u["default"]._getEditDotData():u["default"]._getDiscussPosi(o),i=$.extend(!0,{},a),s=i.startPosi,d=i.endPosi,f=e.target.getAttribute("data-index"),p=$.query(".spot-box[data-index='"+f+"']"),h=e.target&&0==$(e.target).parents(".spot-drag-box").length&&!$.query(".spot-drag-box");u["default"].setEditNum(f),$.setDrag({name:"dragArea",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=$.getMousePos(e);u["default"]._getEditState()||l["default"].setEditState(!0),$.hasClass(p,"edit-dot")||$.addClass(p,"edit-dot");var o=$.offset($.query("#project-panel"),!0,!1),a=o.width,i=o.height,c={x:$.setRegion(d.x+(t.x-r.x)/n,0,a/n),y:$.setRegion(d.y+(t.y-r.y)/n,0,i/n)};u["default"].setEndPos(c);var f={x:s.x,y:s.y},h={x:$.setRegion(d.x+(t.x-r.x)/n,0,a/n),y:$.setRegion(d.y+(t.y-r.y)/n,0,i/n)};l["default"].setEditDotData($.getStartEndPosiByTwoPosi(f,h))},endFunc:function(){var e=u["default"]._getEditDotData();!t&&o&&e&&((a.startPosi.x!=e.startPosi.x||a.startPosi.y!=e.startPosi.y||a.endPosi.x!=e.endPosi.x||a.endPosi.y!=e.endPosi.y)&&($.ajax("/discuss/update",{id:o,content:u["default"]._getDiscuss(o).content,point:$.getCreateDotPosi(e.startPosi,e.endPosi)}),l["default"].discussChangePoint(o,$.getCreateDotPosi(e.startPosi,e.endPosi))),$.removeClass(p,"edit-dot"),u["default"].setEditNum(null),l["default"].setEditState(!1),l["default"].setEditDotData(null));h&&(u["default"].setEditNum(null),l["default"].setEditState(!1)),u["default"].setEndPos(null)}}),e.stopPropagation(),e.preventDefault()},t.prototype.render=function(){var e=this.props,t=e.pos,n=e.index,r=e.id;return i["default"].createElement("div",{onMouseLeave:this._cancelMask,"data-id":r,"data-index":n,style:{left:t.x-3,top:t.y-3},onMouseDown:this._dragArea,className:s["default"]("drag-box",{"my-drag":this.props.isMine})})},t}(i["default"].Component);t.DragBoxComp=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SIZE_UNIT="SIZE_UNIT",e.COLOR_UNIT="COLOR_UNIT",e.CSS_STYLE="CSS_STYLE",e.SCALE="SCALE",e.CHANGE_DISTANCE="CHANGE_DISTANCE"}(t.MarkActionID||(t.MarkActionID={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(844)),a={btnClickFunc:function(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t),r=n.parents(".cDiv").last();o["default"].setHoverContr(undefined,!0),n.click(),n.removeClass("hover"),r.removeClass("zIndex")},btnMouseEnterFunc:function(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t),r=n.parents(".cDiv").last();n.addClass("hover"),r.addClass("zIndex")},btnMouseLeaveFunc:function(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t),r=n.parents(".cDiv").last();n.removeClass("hover"),r.removeClass("zIndex")}};t["default"]=a},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2281)),a=r(n(2282)),i=r(n(2283)),s=r(n(2284)),l=r(n(2285)),u=r(n(2286)),c=r(n(2287)),d=r(n(2288)),f=r(n(2289)),p=r(n(2290)),h=r(n(2291)),g=r(n(2292)),y=r(n(2293)),m=r(n(2294)),_=r(n(2295)),v=r(n(2296)),b=r(n(2297)),w=r(n(2298)),C=r(n(2299)),x=r(n(2300)),S=r(n(2301)),P=r(n(2302)),k=r(n(2303)),O=r(n(2304)),E=r(n(2305)),T=r(n(2306)),M=r(n(2307)),D=r(n(2308)),A=r(n(2309)),j=r(n(2310)),I=r(n(2311)),L=r(n(2312)),R=r(n(2313)),B=r(n(2314)),N=r(n(2315)),F=r(n(2316)),H=r(n(2317)),$=r(n(2318)),z=r(n(2319)),U=r(n(2320)),V=r(n(2321)),K=r(n(2322)),G=r(n(2323)),q=r(n(2324)),W=r(n(2325)),Y=r(n(2326)),X=r(n(2327)),Z={carouselM:p["default"],carouselTextM:h["default"],sliderM:g["default"],paginationM:o["default"],radioM:a["default"],checkboxM:i["default"],switchM:s["default"],menuM:l["default"],segmentedControlM:u["default"],calendarM:c["default"],datePickerM:d["default"],accordionM:f["default"],rangeM:y["default"],stepperM:m["default"],pickerM:_["default"],calendar:v["default"],carousel:b["default"],cascader:w["default"],checkbox:C["default"],collapse:x["default"],datePicker:S["default"],dropdown:P["default"],menu:k["default"],pagination:O["default"],radio:E["default"],rate:T["default"],select:M["default"],slider:D["default"],switchComp:A["default"],timePicker:j["default"],transfer:I["default"],tree:L["default"],treeSelect:R["default"],bar:B["default"],circle:N["default"],gauge:F["default"],horizontalBar:H["default"],lineChart:$["default"],miniArea:z["default"],miniBar:U["default"],miniCircle:W["default"],miniProgress:X["default"],pie:V["default"],progressCircle:K["default"],radar:G["default"],timelineChart:q["default"],waterWave:Y["default"]},J=new(function(){function e(){}return e.prototype.getContrMark=function(e){return"switch"==e&&(e="switchComp"),Z[e]},e}());t["default"]=J},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._searchInputChange=function(e){this.props.parentComp.setState({searchText:e.currentTarget.value}),$.tipHide()},t.prototype._cancelSearchClick=function(){this.props.parentComp.setState({isSearch:!1,searchText:""}),$.tipHide()},t.prototype._searchInputBlur=function(e){var t=this.props.parentComp;""==e.currentTarget.value&&t.setState({isSearch:!1}),$.tipHide()},t.prototype.render=function(){var e=this.props,t=e.searchText,n=e.isPage;return l["default"].createElement("div",{className:"struct-search-container"},l["default"].createElement("input",{id:"StructSearchInput",className:"global-searcth-input",value:t,placeholder:"搜索"+(n?"页面":"组件")+"...",onChange:this._searchInputChange,onBlur:this._searchInputBlur}),l["default"].createElement("i",{className:"new-base-img search"}),l["default"].createElement("i",{className:"new-base-img cancel-search a_c","data-contr":"hovertip","data-option":$.objToString({text:"取消搜索",direction:"right",changePosi:-10,changeOtherPosi:-4}),onClick:this._cancelSearchClick}))},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_searchInputChange",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_cancelSearchClick",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_searchInputBlur",null),t}(l["default"].Component);t["default"]=c},,,,,,,,,,function(e,t,n){e.exports={"default":n(1758),__esModule:!0}},,,function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(1755)),o=a(n(1751));function a(e){return e&&e.__esModule?e:{"default":e}}t["default"]=function(){return function(e,t){if(Array.isArray(e))return e;if((0,r["default"])(Object(e)))return function(e,t){var n=[],r=!0,a=!1,i=undefined;try{for(var s,l=(0,o["default"])(e);!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){a=!0,i=u}finally{try{!r&&l["return"]&&l["return"]()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={"default":n(1756),__esModule:!0}},function(e,t,n){n(1021),n(992),e.exports=n(1757)},function(e,t,n){var r=n(991),o=n(434)("iterator"),a=n(910);e.exports=n(121).isIterable=function(e){var t=Object(e);return t[o]!==undefined||"@@iterator"in t||a.hasOwnProperty(r(t))}},function(e,t,n){n(1021),n(992),e.exports=n(1759)},function(e,t,n){var r=n(347),o=n(1020);e.exports=n(121).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(2233)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(125));n(138),n(133),n(134),n(1566),n(135),n(139),n(2234);var i=r(n(2235));a["default"].render(o["default"].createElement(i["default"],null),$.getElById("reactBox"))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1729));$(function(){$(window.document).on("mousedown","body",o["default"].mouseDown).on("mousemove","body",o["default"].mouseMove).on("mouseup","body",o["default"].mouseUp)}),t["default"]="DragInit"},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3));n(1359);var d=l(n(42)),f=l(n(278)),p=l(n(201)),h=l(n(160)),g=l(n(206)),y=l(n(2238)),m=l(n(2349)),_=l(n(2353)),v=l(n(2354)),b=l(n(831)),w=l(n(1651)),C=l(n(2355)),x=l(n(1612)),S=l(n(1237)),P=l(n(233)),k=n(2356),O=window.$,E=!1,T=function(e){function t(t){var n=e.call(this,t)||this;if(n.state={previewInfo:d["default"].getPreviewInfo(),pagesArr:d["default"].getPagesArr(),activePage:d["default"].getActivePage(),mode:d["default"].getMode(),eventTag:!0,fullscreen:!1},window.pcApp){var r=window.parent.document.getElementById("lastIframe"),o=window.parent.document.getElementById("pcIframe");o&&O.hasClass(o,"hide")&&O.removeClass(o,"hide"),r&&O.destroyIframe(r)}return n}return o(t,e),t.prototype.componentDidUpdate=function(){k.setContainerSize()},t.prototype.componentDidMount=function(){var e=this;window.parent&&window.parent.setPopupPreviewLoaded&&window.parent.setPopupPreviewLoaded(),k.setContainerSize(),setTimeout(function(){f["default"].setLoaded(!0)},0),S["default"].enabled&&window.document.addEventListener(S["default"].raw.fullscreenchange,function(){!S["default"].isFullscreen&&e.state.fullscreen&&e.setState({fullscreen:!1})})},t.prototype.componentWillMount=function(){d["default"].addChangeListener(this.onProtoPreviewChange)},t.prototype.componentWillUnmount=function(){d["default"].removeChangeListener(this.onProtoPreviewChange)},t.prototype.onProtoPreviewChange=function(){this.setState({mode:d["default"].getMode(),previewInfo:d["default"].getPreviewInfo(),pagesArr:d["default"].getPagesArr(),activePage:d["default"].getActivePage()})},t.prototype.render=function(){var e=this.state,t=e.previewInfo,n=e.previewInfo,r=n.mode,o=n.isMultiView,i=n.isPrdView,s=n.isPresentation;return o&&(E=!0),u["default"].createElement(u["default"].Fragment,null,i?u["default"].createElement(w["default"],null):u["default"].createElement(u["default"].Fragment,null,o?undefined:u["default"].createElement(y["default"],a({},this.state)),E?u["default"].createElement("div",{style:{display:o?"inline":"none"}},u["default"].createElement(m["default"],a({},this.state))):undefined,u["default"].createElement(C["default"],{previewInfo:t}),u["default"].createElement(P["default"],null),u["default"].createElement(b["default"],null),"mark"==r?u["default"].createElement(_["default"],null):undefined,s?u["default"].createElement(v["default"],null):undefined,u["default"].createElement(x["default"],null)),u["default"].createElement(h["default"],null),u["default"].createElement(g["default"],null),u["default"].createElement(p["default"],null))},i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"onProtoPreviewChange",null),t}(u["default"].Component);t["default"]=T},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=i(n(8)),a=i(n(1731));function i(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var s,l,u={show:function(e){o["default"].dispatch({actionType:a["default"].NOTEPOPOVER_SHOW,options:e})},hide:function(){o["default"].dispatch({actionType:a["default"].NOTEPOPOVER_HIDE})}},c=u;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(u,"NotePopoverActions","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/actions/NotePopoverActions.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/actions/NotePopoverActions.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(146));window.mousetrap=n(971);var a,i=window,s=i.$,l=i.Mousetrap,u=i.hotKey,c=u.command;u.alt,i.isKeyDown;function d(){l.bind("z",function(){var e=o["default"].getCursor();"zoom-in"!==e&&"zoom-out"!==e&&(a=e),o["default"].setCursor("zoom-in")},"keydown").bind("z",function(){o["default"].setCursor(a||"base")},"keyup"),l.bind("alt+z",function(){var e=o["default"].getCursor();"zoom-in"!==e&&"zoom-out"!==e&&(a=e),o["default"].setCursor("zoom-out")},"keydown").bind("alt+z",function(){o["default"].setCursor(a||"base")},"keyup"),l.bind("space",function(){o["default"].setCursor("view-move")},"keydown").bind("space",function(){o["default"].setCursor("base")},"keyup"),l.bind(c+"+0",function(){s(".scale-setting-wrapper .scale-group i").eq(2).click()},"keydown"),l.bind(["-",c+"+-","shift+-"],function(){s(".scale-setting-wrapper .scale-group i").eq(1).click()},"keydown"),l.bind(["=",c+"+=","shift+="],function(){s(".scale-setting-wrapper .scale-group i").eq(0).click()},"keydown"),l.bind("tab",function(){s("#multiBtn").click()},"keydown"),l.bind("esc",function(){s("#exitPresentation").click()})}t.previewMousetrapInit=d,t["default"]={previewMousetrapInit:d}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11));n(1359);var l=a(n(42)),u=a(n(1732)),c=a(n(2243)),d=a(n(2260)),f=a(n(2261)),p=a(n(2270)),h=a(n(2342)),g=a(n(2343)),y=a(n(2345)),m=a(n(1729)),_=a(n(2346)),v=a(n(844)),b=window.$;function w(e){var t=l["default"].getScrollObj(),n=t.scrollTop,r=t.scrollLeft,o=t.scrollHeight,a=t.scrollWidth,i=t.boxWidth;if(b.query(".preview-scroll .contentBox")&&(0!=e.deltaY||0!=e.deltaX)){var s="web"==b.getPlatform(window.platform),u=b.setRegion(r-e.deltaX,i-a,0),c=void 0;if(s)c=b.setRegion(n-e.deltaY,b.getWinSize().height-45-o,0);else{var d=!!b.query(".page.isLandscape.current");c=b.setRegion(n-e.deltaY,window.phoneSize[d?"width":"height"]-o,0)}c==n&&u==r||(0!=b(".page-contain-mask").children().length&&v["default"].initContr(),l["default"].setScrollObj({scrollTop:c,scrollLeft:u}))}e.stopPropagation(),e.preventDefault()}var C=function(e){function t(t){var n=e.call(this,t)||this;return n.state={inputVal:"",error:window.pwError?"访问密码不正确":""},n}return o(t,e),t.prototype.componentDidMount=function(){window.parent&&window.parent.setPopupPreviewLoaded&&window.parent.setPopupPreviewLoaded()},t.prototype.render=function(){var e=l["default"].getActivePage(!0),t=this.props,n=t.fullscreen,r=t.pagesArr,o=t.mode,a=t.previewInfo,v=t.previewInfo,b=v.platform,C=v.catalog,x=v.note,S=v.isPresentation,P=window.type,k=m["default"].mouseDown,O=m["default"].mouseMove,E=m["default"].mouseUp;return i["default"].createElement("div",{id:"bodyWrapper",className:s["default"]("body-wrapper container-height "+b+"-body "+o+"-mode",{"preview-fullscreen":n,presentation:S}),onMouseDown:k,onMouseMove:O,onMouseUp:E,onWheel:w,style:{marginLeft:C&&!S?240:0,marginRight:x&&!S?240:0}},S?undefined:i["default"].createElement(u["default"],{previewInfo:a,mode:o}),i["default"].createElement(c["default"],{previewInfo:a,sidePanelWidth:240}),"project"!=P||S?undefined:i["default"].createElement(_["default"],{previewInfo:a,pagesArr:r,activePage:e,isMark:"mark"==o}),"project"!=P||"preview"!=o||S?undefined:i["default"].createElement(d["default"],{previewInfo:a,note:e?e.note:null}),"discuss"!=o||S?undefined:i["default"].createElement(f["default"],{previewInfo:a}),"mark"!=o||S?undefined:i["default"].createElement(p["default"],{previewInfo:a}),i["default"].createElement(y["default"],null),i["default"].createElement(g["default"],null),i["default"].createElement(h["default"],null))},t}(i["default"].Component);t["default"]=C},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(171)),d=s(n(844)),f=s(n(987)),p=s(n(3)),h=window.$,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectOn:!1},n}return o(t,e),t.prototype.componentDidMount=function(){},t.prototype.componentWillUnmount=function(){},t.prototype._changePhoneSize=function(e,t){if(-1!=t.indexOf("_")){var n=t.split("_");f["default"].resetFrameSize({type:t,width:+n[0],height:+n[1]})}else f["default"].resetFrameSize({type:t,width:window.phoneTypeObj[t][1],height:window.phoneTypeObj[t][2]});window.phoneTypeObj&&window.phoneTypeObj[t]&&(window.phoneSize=h.extend(!0,{},{type:t,width:window.phoneTypeObj[t][1],height:window.phoneTypeObj[t][2]})),this.setState({selectOn:!1},function(){d["default"].emitSelectChange(),d["default"].emitChange()}),window.initResize(!0)},t.prototype._selectClick=function(){var e=h.getElById("viewSettingBtn");this.state.selectOn?h.removeClass(e,"on"):h.addClass(e,"on"),this.setState({selectOn:!this.state.selectOn})},t.prototype.render=function(){var e,t=this.props.previewInfo,n=[],r=[];for(var o in window.phoneTypeObj)n.push(window.phoneTypeObj[o][0]),r.push(o);-1!=window.phoneSize.type.indexOf("_")?(r.push(window.phoneSize.type),e="自定义尺寸 "+window.phoneSize.width+"*"+window.phoneSize.height,n.push(e)):e=n[r.indexOf(""+window.phoneSize.type)];return l["default"].createElement("div",{className:"preview-view-setting clearfix"},l["default"].createElement("div",{className:u["default"]("setting-btn phone-frame",{active:"mobile"==this.props.platform&&t.phoneFrame,disabled:"web"==this.props.platform}),"data-prop":"phoneFrame",onClick:this._setViewSetting},"边框"),l["default"].createElement("div",{className:u["default"]("setting-btn note",{active:t.noteTag,disabled:"project"!==window.type}),"data-prop":"noteTag",onClick:this._setViewSetting},"备注"),l["default"].createElement("div",{className:u["default"]("setting-btn event",{active:t.eventTag}),"data-prop":"eventTag",onClick:this._setViewSetting},"事件"),"mobile"==this.props.platform?l["default"].createElement("div",{className:"select-wrapper"},l["default"].createElement(c["default"],{key:"selectPage",placeholder:"请选择机型",text:e,value:window.phoneSize.type,texts:n,values:r,width:178,click:this._selectClick,callback:this._changePhoneSize})):undefined)},t.prototype._setViewSetting=function(e){var t=e.currentTarget.getAttribute("data-prop"),n={};n[t]=!this.props.previewInfo[t],f["default"].setProps(n),e.stopPropagation()},a([p["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"_changePhoneSize",null),a([p["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_selectClick",null),a([p["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_setViewSetting",null),t}(l["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=!0,l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;s&&(s=!1,setTimeout(function(){e.setState({renderChange:e.state.renderChange+1})},3e3))},t.prototype.shouldComponentUpdate=function(e,t){return this.state.renderChange!==t.renderChange},t.prototype.render=function(){return s?i["default"].createElement("div",{className:"share-tip-box"},i["default"].createElement("div",{className:"share-code anim-breath"},i["default"].createElement("div",{className:"share-popup popup-right"},i["default"].createElement("div",{className:"popup-img"}),i["default"].createElement("div",{className:"popup-text"},"分享二维码放到这里啦")))):null},t}(i["default"].Component);t["default"]=l},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_konva=__webpack_require__(131),_konva2=_interopRequireDefault(_konva),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),_DistanceMeasureStore=__webpack_require__(844),_DistanceMeasureStore2=_interopRequireDefault(_DistanceMeasureStore),_ProtoPreviewStore=__webpack_require__(42),_ProtoPreviewStore2=_interopRequireDefault(_ProtoPreviewStore),_CanvasStageStore=__webpack_require__(23),_CanvasStageStore2=_interopRequireDefault(_CanvasStageStore),_LinkLineStore=__webpack_require__(27),_LinkLineStore2=_interopRequireDefault(_LinkLineStore),_ProtoPreviewActions=__webpack_require__(987),_ProtoPreviewActions2=_interopRequireDefault(_ProtoPreviewActions),_ToastActions=__webpack_require__(12),_ToastActions2=_interopRequireDefault(_ToastActions),_cancelDotHandle=__webpack_require__(266),_BaseStyleConfig=__webpack_require__(270),_BaseStyleConfig2=_interopRequireDefault(_BaseStyleConfig),_PreviewZoomHandle=__webpack_require__(1646),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var MAX_VAL=2,MIN_VAL=.5,RESET_VAL=1,MULTI_MAX_VAL=1,MULTI_MIN_VAL=.1,MULTI_RESET_VAL=.5;function scaleAnimFunc(e){var t=e.scale,n=e.multiZoom,r=e.callback,o=$.getWinSize(),a=o.width,i=o.height,s=_CanvasStageStore2["default"].getStage().getStage().findOne("#canvasLayer"),l=_ProtoPreviewStore2["default"].isPresentation(),u=s.attrs,c=u.x,d=u.y,f=_ProtoPreviewStore2["default"].getMultiPos(),p=f.left,h=f.top,g=0;0==p&&0==h||l||(g=_BaseStyleConfig2["default"].TOP_DISTANCE/2/n*(n-t));var y=new _konva2["default"].Tween({node:s,duration:.2,x:c-(t-n)*a/2+p*(t-n),y:d-(t-n)*i/2+h*(t-n)+g,scaleX:t,scaleY:t,onFinish:function(){(0,_cancelDotHandle.clearCanvasAnim)(),y.destroy(),r&&r({scale:t,left:p,top:h,offY:g})}});(0,_cancelDotHandle.setCanvasAnim)(y),y&&y.play()}var ScaleSettingComp=(_class=function(_React$Component){function ScaleSettingComp(){(0,_classCallCheck3["default"])(this,ScaleSettingComp);var e=(0,_possibleConstructorReturn3["default"])(this,(ScaleSettingComp.__proto__||(0,_getPrototypeOf2["default"])(ScaleSettingComp)).call(this));return e.state={},e}return(0,_inherits3["default"])(ScaleSettingComp,_React$Component),(0,_createClass3["default"])(ScaleSettingComp,[{key:"multiZoomFunc",value:function(e){var t=e.scale,n=e.left,r=e.top,o=e.offY;_ProtoPreviewStore2["default"].setMultiZoom(t),o&&_ProtoPreviewStore2["default"].setMultiPos({left:n,top:r+o/t}),_CanvasStageStore2["default"].emitChange(),_LinkLineStore2["default"].emitChange()}},{key:"render",value:function(){var e=[],t=[],n=this.props.previewInfo,r=n.scale,o=n.isMultiView,a=n.multiZoom,i=n.multiViewType,s=Math.round(100*(o?a:r)),l=Math.round(100*(o?MULTI_MAX_VAL:MAX_VAL)),u=Math.round(100*(o?MULTI_MIN_VAL:MIN_VAL)),c=Math.round(100*(o?MULTI_RESET_VAL:RESET_VAL)),d=void 0;for(var f in window.phoneTypeObj)e.push(window.phoneTypeObj[f][0]),t.push(f);-1!=window.phoneSize.type.indexOf("_")?(t.push(window.phoneSize.type),d="自定义尺寸 "+window.phoneSize.width+"*"+window.phoneSize.height,e.push(d)):d=e[t.indexOf(""+window.phoneSize.type)];return _react2["default"].createElement("div",{className:"preview-scale-setting"+("fixed-view"==i?" multi-preview":"")},_react2["default"].createElement("div",{className:"scale-group clearfix"},_react2["default"].createElement("i",{className:"material-icons zoom-in"+(s==l?" disabled":""),onClick:this._zoomIn},"add"),_react2["default"].createElement("i",{className:"material-icons zoom-out"+(s==u?" disabled":""),onClick:this._zoomOut},"remove"),_react2["default"].createElement("i",{className:"number"+(s==c?" disabled":""),onClick:this._reset},c+"%"),"fixed-view"!=i?_react2["default"].createElement("i",{className:"scale-btn material-icons",onClick:_PreviewZoomHandle.zoomFit},"fullscreen"):undefined))}},{key:"_zoomIn",value:function(){var e=(0,_cancelDotHandle.getCanvasAnim)()[0];e&&e.finish();var t=this.props.previewInfo,n=t.isMultiView,r=t.multiViewType,o=t.multiZoom,a=Math.min(Math.round(10*(o+.1))/10,MULTI_MAX_VAL);n?"fixed-view"==r?this.multiZoomFunc({scale:a}):scaleAnimFunc({scale:a,multiZoom:o,callback:this.multiZoomFunc}):(_ProtoPreviewActions2["default"].zoom("in"),_DistanceMeasureStore2["default"].initContr()),this._zoomToast(a)}},{key:"_zoomOut",value:function(){var e=(0,_cancelDotHandle.getCanvasAnim)()[0];e&&e.finish();var t=this.props.previewInfo,n=t.isMultiView,r=t.multiViewType,o=t.multiZoom,a=Math.max(Math.round(10*(o-.1))/10,MULTI_MIN_VAL);n?"fixed-view"==r?this.multiZoomFunc({scale:a}):scaleAnimFunc({scale:a,multiZoom:o,callback:this.multiZoomFunc}):(_ProtoPreviewActions2["default"].zoom("out"),_DistanceMeasureStore2["default"].initContr()),this._zoomToast(a)}},{key:"_reset",value:function(){var e=(0,_cancelDotHandle.getCanvasAnim)()[0];e&&e.finish();var t=this.props.previewInfo,n=t.isMultiView,r=t.multiViewType,o=t.multiZoom,a=n?MULTI_RESET_VAL:RESET_VAL;n?"fixed-view"==r?this.multiZoomFunc({scale:a}):scaleAnimFunc({scale:a,multiZoom:o,callback:this.multiZoomFunc}):(_ProtoPreviewActions2["default"].zoom(null,a),_DistanceMeasureStore2["default"].initContr()),this._zoomToast(a)}},{key:"_zoomToast",value:function(e){var t=this.props.previewInfo,n=t.scale,r=t.isMultiView?e:n;_ToastActions2["default"].show("缩放比例："+Math.round(100*r)+"%")}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ScaleSettingComp}(_react2["default"].Component),_applyDecoratedDescriptor(_class.prototype,"multiZoomFunc",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"multiZoomFunc"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_zoomIn",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_zoomIn"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_zoomOut",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_zoomOut"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_reset",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_reset"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_zoomToast",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_zoomToast"),_class.prototype),_class),_default=ScaleSettingComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(MAX_VAL,"MAX_VAL","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ScaleSetting.react.js"),reactHotLoader.register(MIN_VAL,"MIN_VAL","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ScaleSetting.react.js"),reactHotLoader.register(RESET_VAL,"RESET_VAL","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ScaleSetting.react.js"),reactHotLoader.register(MULTI_MAX_VAL,"MULTI_MAX_VAL","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ScaleSetting.react.js"),reactHotLoader.register(MULTI_MIN_VAL,"MULTI_MIN_VAL","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ScaleSetting.react.js"),reactHotLoader.register(MULTI_RESET_VAL,"MULTI_RESET_VAL","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ScaleSetting.react.js"),reactHotLoader.register(scaleAnimFunc,"scaleAnimFunc","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ScaleSetting.react.js"),reactHotLoader.register(ScaleSettingComp,"ScaleSettingComp","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ScaleSetting.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ScaleSetting.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(42)),c=s(n(3)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.prdClickFunc=function(e){$.replaceParamVal("isprd",!0),u["default"].setPrdFromPreview(!0),u["default"].setPrdView(!0),$.tipHide()},t.prototype.render=function(){return l["default"].createElement("div",{key:"prdBtn",id:"prdBtn",className:"prd-btn new-base-img left-line a_c","data-contr":"hovertip","data-option":$.objToString({text:"产品文档(PRD)",direction:"top",changePosi:0}),onClick:this.prdClickFunc})},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"prdClickFunc",null),t}(l["default"].Component);t["default"]=d},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_slicedToArray2=__webpack_require__(1754),_slicedToArray3=_interopRequireDefault(_slicedToArray2),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_ProtoPreviewStore=__webpack_require__(42),_ProtoPreviewStore2=_interopRequireDefault(_ProtoPreviewStore),_DiscussStore=__webpack_require__(475),_DiscussStore2=_interopRequireDefault(_DiscussStore),_DistanceMeasureStore=__webpack_require__(844),_DistanceMeasureStore2=_interopRequireDefault(_DistanceMeasureStore),_MobileModel=__webpack_require__(1006),_MobileModel2=_interopRequireDefault(_MobileModel),_AppContainer=__webpack_require__(2244),_AppContainer2=_interopRequireDefault(_AppContainer),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var SIDEPANELWIDTH=240,ProtoFrameComp=(_class=function(_React$Component){function ProtoFrameComp(){(0,_classCallCheck3["default"])(this,ProtoFrameComp);var e=(0,_possibleConstructorReturn3["default"])(this,(ProtoFrameComp.__proto__||(0,_getPrototypeOf2["default"])(ProtoFrameComp)).call(this));return e.state={},e}return(0,_inherits3["default"])(ProtoFrameComp,_React$Component),(0,_createClass3["default"])(ProtoFrameComp,[{key:"backToMulti",value:function(){var e=$("#multiBtn")[0];$(e).click(),_ProtoPreviewStore2["default"].setShowBackMultiBtn(!1),_ProtoPreviewStore2["default"].emitChange()}},{key:"changePage",value:function(e){var t=e.currentTarget.getAttribute("data-key"),n=_ProtoPreviewStore2["default"].getActivePage();_ProtoPreviewStore2["default"].changeActivePage({nextKey:t,setPos:!0}),_DistanceMeasureStore2["default"].initContr(),_DiscussStore2["default"].setPageId(t,"discuss"==_ProtoPreviewStore2["default"].getMode()),window.goToPage&&window.goToPage({curr:n,next:t,transition:"empty",notToparent:!0,reset:!0}),$.tipHide()}},{key:"render",value:function(){var e=this.props,t=e.previewInfo,n=e.previewInfo,r=n.showBackMultiBtn,o=n.isMultiView,a=n.isPresentation,i=_ProtoPreviewStore2["default"].getActivePage(!0);if("web"==t.platform)return _react2["default"].createElement("div",null,a?_react2["default"].createElement("div",{className:"operate-wrapper web"},this.getPageBtn(i)):undefined,_react2["default"].createElement(_AppContainer2["default"],{previewInfo:t,sidePanelWidth:this.props.sidePanelWidth}));var s=window.phoneModelSizeObj[window.previewFrameSize.type],l=i&&i.isLandscape,u={width:$.getOddNum((s?s[0]:window.previewFrameSize.width+34)*t.scale),height:$.getOddNum(window.previewFrameSize.height*t.scale)},c=l?window.previewFrameSize.height:window.previewFrameSize.width,d=l?window.previewFrameSize.width:window.previewFrameSize.height,f=Math.min(0,($.getWinSize().width-c)/2);if(l){var p=Math.max(u.width,u.height);u.width=p,u.height=p,window.pSize&&"ipx"==window.pSize.type&&(u.width+=68*this.state.previewInfo.scale)}return _react2["default"].createElement("div",{className:(0,_classnames2["default"])("phone-view-box "+window.previewFrameSize.type,{landscape:l,show:i,custom:-1!=window.previewFrameSize.type.indexOf("_")}),style:{width:c,height:d,left:t.catalog?f:f-SIDEPANELWIDTH,right:t.note||"discuss"==t.mode?f:f-SIDEPANELWIDTH}},_react2["default"].createElement("div",{className:(0,_classnames2["default"])("model-wrapper",{hide:!t.phoneFrame}),style:{transform:"scale("+t.scale+")"}},_react2["default"].createElement(_MobileModel2["default"],{phoneView:!0,backColor:i?i.backColor:undefined,isLandscape:l})),_react2["default"].createElement("div",{className:"operate-wrapper",style:u},r&&!o?_react2["default"].createElement("div",{className:"multi-button",onClick:this.backToMulti}):undefined,this.getPageBtn(i)),_react2["default"].createElement(_AppContainer2["default"],{previewInfo:t,sidePanelWidth:this.props.sidePanelWidth,activePage:i}))}},{key:"getPageBtn",value:function(e){var t=this,n=void 0,r=void 0,o=void 0,a=_ProtoPreviewStore2["default"].getAllShowPageKeyList();return e&&a.length>0&&((n=a.indexOf(parseInt(e.key)))>0&&-1!=a.indexOf(parseInt(a[n-1]))&&(r=a[n-1]),n<a.length-1&&-1!=a.indexOf(parseInt(a[n+1]))&&(o=a[n+1])),[["prev",r],["next",o]].map(function(e,n){var r=(0,_slicedToArray3["default"])(e,2),o=r[0],a=r[1];return _react2["default"].createElement("div",{key:a+n,className:(0,_classnames2["default"])("page-"+o+"-btn",{hide:$.isUndefined(a)}),"data-key":a,onClick:t.changePage},_react2["default"].createElement("div",{className:"arrow"}))})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ProtoFrameComp}(_react2["default"].Component),_applyDecoratedDescriptor(_class.prototype,"backToMulti",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"backToMulti"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"changePage",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"changePage"),_class.prototype),_class),_default=ProtoFrameComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(SIDEPANELWIDTH,"SIDEPANELWIDTH","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ProtoFrame.react.js"),reactHotLoader.register(ProtoFrameComp,"ProtoFrameComp","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ProtoFrame.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/components/preview/ProtoFrame.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(11),_classnames2=_interopRequireDefault(_classnames),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),_ProtoPreviewStore=__webpack_require__(42),_ProtoPreviewStore2=_interopRequireDefault(_ProtoPreviewStore),_ProjectPanel=__webpack_require__(2245),_ProjectPanel2=_interopRequireDefault(_ProjectPanel);__webpack_require__(2250);var _PageContainer=__webpack_require__(2259),_PageContainer2=_interopRequireDefault(_PageContainer),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var AppContainerComp=(_class=function(_React$Component){function AppContainerComp(){(0,_classCallCheck3["default"])(this,AppContainerComp),window.__c||(window.__c={});var e=(0,_possibleConstructorReturn3["default"])(this,(AppContainerComp.__proto__||(0,_getPrototypeOf2["default"])(AppContainerComp)).call(this));return e.state={scrollObj:_ProtoPreviewStore2["default"].getScrollObj(),scrollChangeVal:0},e}return(0,_inherits3["default"])(AppContainerComp,_React$Component),(0,_createClass3["default"])(AppContainerComp,[{key:"componentDidMount",value:function(){_ProtoPreviewStore2["default"].addScrollChangeListener(this._onPreviewScrollChange)}},{key:"componentWillUnmount",value:function(){_ProtoPreviewStore2["default"].removeScrollChangeListener(this._onPreviewScrollChange)}},{key:"_onPreviewScrollChange",value:function(){this.setState({scrollObj:_ProtoPreviewStore2["default"].getScrollObj(),scrollChangeVal:this.state.scrollChangeVal+1})}},{key:"componentDidUpdate",value:function(){var e=this.props.previewInfo,t=e.scale,n="web"==e.platform,r=this.state.scrollObj,o=r.scrollHeight,a=r.scrollTop,i={},s=$(".current.page");if(n)$.getWinSize().height-45<o&&(i.top=a/t,$.getWinSize().height-45>=o/t&&(i.top=Math.round(($.getWinSize().height-45-o)/t/2))),$("#project-panel").css({top:i.top*t}),s.css(i);else{if(i.top=a*t,s.css("top",a),s[0]){var l=$.offset(s[0],!0);i.width=l.width,i.height=l.height}$("#project-panel").css(i)}}},{key:"render",value:function(){var e=this.props,t=e.activePage,n=e.previewInfo,r=n.scale,o="web"==n.platform,a=t&&t.isLandscape,i=void 0,s=void 0,l=this.state.scrollObj,u=l.scrollHeight,c=l.scrollWidth,d=l.scrollLeft,f=l.screenTop,p=l.boxWidth;return o&&($.getWinSize().height-45>=u&&(s=f,$.getWinSize().height-45>=u&&(s=Math.round(($.getWinSize().height-45-u)/2))),i=d,p>=c&&(i=Math.round((p-c)/2))),_react2["default"].createElement("div",{id:"appContainer",className:(0,_classnames2["default"])({"webpage-wrapper":o,"mobile-wrapper":!o,"hide-event-tag":!n.eventTag||"preview"!=n.mode,"hide-note-tag":!n.noteTag}),style:o?{width:window.phoneSize.width*r,height:u,top:s,left:i}:{width:window.previewFrameSize[a?"height":"width"]*r,height:window.previewFrameSize[a?"width":"height"]*r,left:window.previewFrameSize[a?"height":"width"]*(1-r)/2,top:window.previewFrameSize[a?"width":"height"]*(1-r)/2}},_react2["default"].createElement(_PageContainer2["default"],{scale:r,width:window.previewFrameSize[a?"height":"width"],height:window.previewFrameSize[a?"width":"height"],scrollChangeVal:this.state.scrollChangeVal,left:-window.previewFrameSize[a?"height":"width"]*(1-r)/2,top:-window.previewFrameSize[a?"width":"height"]*(1-r)/2}),"discuss"==n.mode?_react2["default"].createElement(_ProjectPanel2["default"],{scale:r,width:window.previewFrameSize.width,scrollChangeVal:this.state.scrollChangeVal}):undefined)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),AppContainerComp}(_react2["default"].Component),_applyDecoratedDescriptor(_class.prototype,"_onPreviewScrollChange",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"_onPreviewScrollChange"),_class.prototype),_class),_default=AppContainerComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(AppContainerComp,"AppContainerComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/AppContainer.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/AppContainer.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=a(n(892)),u=a(n(475)),c=a(n(42)),d=n(1735),f=n(1736),p=n(1737),h=n(2246),g=a(n(2247)),y=a(n(93)),m="panel",_=-1,v=!1,b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,discusssList:u["default"].getDiscussList(),mousePos:{x:0,y:0}},n._createDot=n._createDot.bind(n),n._getPos=n._getPos.bind(n),n._getDotDoms=n._getDotDoms.bind(n),n._onChange=n._onChange.bind(n),n._resetClass=n._resetClass.bind(n),n._enterPanelFunc=n._enterPanelFunc.bind(n),n._getState=n._getState.bind(n),n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return!(this.props.scrollChangeVal!=e.scrollChangeVal&&this.props.scale==e.scale)||this.state.renderChange!=t.renderChange},t.prototype._getState=function(){var e=u["default"].getDiscussList();return{renderChange:this.state.renderChange+1,discusssList:e,mousePos:{x:0,y:0}}},t.prototype._onChange=function(){this.setState(this._getState())},t.prototype.componentDidMount=function(){u["default"].addDotChangeListener(this._onChange),u["default"].addEditChangeListener(this._onChange),u["default"].addChangeListener(this._onChange),n(2248)},t.prototype.componentWillUnmount=function(){u["default"].removeDotChangeListener(this._onChange),u["default"].removeEditChangeListener(this._onChange),u["default"].removeChangeListener(this._onChange)},t.prototype._resetClass=function(){var e=$.getElById("project-panel");u["default"]._getIsHoverSpot()&&u["default"]._setHoverSpot(!1),$.hasClass(e,"is-hover-dot")&&$.removeClass(e,"is-hover-dot"),$.hasClass(e,"is-normal")&&$.removeClass(e,"is-normal"),v=!1,this.setState({})},t.prototype._enterPanelFunc=function(){v=!0},t.prototype._getPos=function(e){v=!0;var t=e.target&&($(e.target).parents(".spot-box").length||$(e.target).parents(".spot-drag-box").length),n={mousePos:{x:e.clientX,y:e.clientY}};if(n.hoverDot=!!t,"panel"!==m&&_==e.target.getAttribute("data-index")||!t){if("dot"===m&&!t&&!u["default"]._getEditState()&&!u["default"]._getEditNum()){a=$.query(".hover");u["default"]._getIsHoverSpot()&&u["default"]._setHoverSpot(!1),$.hasClass(a,"hover")&&$.removeClass(a,"hover");var r=$.query(".hover-spot-box");$.removeClass(r,"hover-spot-box")}}else{u["default"]._getIsHoverSpot()||u["default"]._setHoverSpot(!0);var o=e.target.getAttribute("data-id");if(o){var a=$(".discuss-scroll-list").find(".discuss-box[data-id='"+o+"']")[0],i=-u["default"]._getScrollTop()-($.getWindowWH().height-45)/2+$.offset(a).top;l["default"].setScrollTop(-i),$.hasClass(a,"hover")||$.addClass(a,"hover");var s=$.query(".spot-box[data-id='"+o+"']");$.hasClass(s,"hover-spot-box")||$.addClass(s,"hover-spot-box")}}if(_!=e.target.getAttribute("data-index")&&t&&!u["default"]._getEditState()){var c=e.target.getAttribute("data-index"),d=$(".discuss-scroll-list").find(".discuss-box[data-index='"+_+"']")[0];$.removeClass(d,"hover");var f=$.query(".spot-box[data-index='"+_+"']");$.hasClass(f,"hover-spot-box")&&$.removeClass(f,"hover-spot-box");var p=$(".discuss-scroll-list").find(".discuss-box[data-index='"+c+"']")[0];$.addClass(p,"hover");var h=$.query(".spot-box[data-index='"+c+"']");$.hasClass(h,"hover-spot-box")||$.addClass(f,"hover-spot-box")}var g=$.getElById("project-panel");0!=$(e.target).parents(".spot-box").length||u["default"]._getEditState()?$.hasClass(g,"is-normal")||$.addClass(g,"is-normal"):$.hasClass(g,"is-normal")&&$.removeClass(g,"is-normal"),m=t?"dot":"panel",_=e.target.getAttribute("data-index"),this.setState(n)},t.prototype._createDot=function(e){if(window.noLogin)y["default"].registerPopupFunc();else{var t=u["default"]._getEditState(),n=c["default"].getPreviewInfo().scale;if(!u["default"]._getEditState()&&!u["default"].getEditData().replyId||t&&!u["default"].getEditData().replyId){var r={x:$.getMousePos(e).x,y:$.getMousePos(e).y},o={startPosi:r,endPosi:r},a={startPosi:{x:o.startPosi.x/n,y:o.startPosi.y/n},endPosi:{x:o.endPosi.x/n,y:o.endPosi.y/n}};if(t||l["default"].setEditState(!0),!u["default"].getEditData().isActive){l["default"].editChangeState({replyId:null,isActive:!0,editId:null})}var i=$.query("#project-panel"),s=$.offset(i,!0,!1),d=s.width,f=s.height;l["default"].setEditDotData(a),$.setDrag({name:"createDot",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=$.getMousePos(e),o=t.x,a=t.y,i=$.setRegion(o,0,d),s=$.setRegion(a,0,f),u={startPosi:{x:Math.min(r.x/n,i/n),y:Math.min(r.y/n,s/n)},endPosi:{x:Math.max(r.x/n,i/n),y:Math.max(r.y/n,s/n)}};l["default"].setEditDotData(u)}})}setTimeout(function(){$.getElById("editInput")&&$.getElById("editInput").focus()},0),e.stopPropagation(),e.preventDefault()}},t.prototype._getDotDoms=function(){var e=this,t=e.props.scale,n=e.state.discusssList,r=[],o=0;return n.forEach(function(n){if(n.point){o++;var a=n.point.area,l=!!a&&(a.w>=5||a.h>=5);r.push(i["default"].createElement("div",{"data-id":n.id,"data-index":o,className:s["default"]("spot-box ",{"my-dot":u["default"].isMine(n.id)&&!l,"my-area":u["default"].isMine(n.id)&&!!l,"spot-has-area":l&&!n.isDone}),key:n.id},i["default"].createElement(d.DotBoxComp,{key:"0dot",pos:{x:n.point.posi.x*t,y:n.point.posi.y*t},index:o,discuss:n,isCreate:!1,scale:e.props.scale,isArea:l}),a&&l?i["default"].createElement("div",{key:"dot-area"},i["default"].createElement(f.DragAreaComp,{key:"0area",id:n.id,pos:{left:n.point.posi.x*t,top:n.point.posi.y*t,width:a.w*t,height:a.h*t},index:o,scale:e.props.scale,isSolved:!!n.isDone&&n.isDone}),i["default"].createElement(p.DragBoxComp,{index:o,key:"0drag",id:n.id,isMine:u["default"].isMine(n.id),scale:e.props.scale,pos:{x:n.point.posi.x*t+a.w*t,y:n.point.posi.y*t+a.h*t}})):undefined))}}),r},t.prototype.render=function(){var e=u["default"]._getEditDotData(),t=!1;if(e){var n=e.endPosi,r=e.startPosi;t=n.y-r.y>=5||n.x-r.x>=5}return i["default"].createElement("div",{id:"project-panel",className:s["default"]("project-panel",{"is-create-dot":u["default"]._getEditState(),"is-hover-dot":this.state.hoverDot||u["default"]._getEditState()}),onMouseMove:this._getPos,onMouseDown:this._createDot,onMouseLeave:this._resetClass,onMouseEnter:this._enterPanelFunc},this._getDotDoms(),e?i["default"].createElement(g["default"],{key:"spotDrag",scale:this.props.scale,isArea:t}):undefined,v?i["default"].createElement(h.MouseTipComp,{key:"mouseTip",pos:this.state.mousePos}):undefined)},t}(i["default"].Component);t["default"]=b},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.pos,t=e.x,n=e.y;return i["default"].createElement("div",{className:"mouse-tip",style:{left:t+19,top:n-19}},window.noLogin?"登陆后打点讨论":"点击或框选区域进行讨论")},t}(i["default"].Component);t.MouseTipComp=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(475)),l=n(1735),u=n(1736),c=n(1737),d=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.isArea,n=e.scale,r=s["default"]._getEditDotData(),o=r.startPosi,a=r.endPosi,d={left:o.x*n,top:o.y*n,width:(a.x-o.x)*n,height:(a.y-o.y)*n},f=s["default"]._getEndPosi(),p={x:f?f.x*n:a.x*n,y:f?f.y*n:a.y*n},h=s["default"]._getEditNum()||document.getElementsByClassName("dot-box").length-document.getElementsByClassName("spot-drag-box").length+1;return i["default"].createElement("div",{className:"spot-drag-box"+(t?" spot-has-area":"")},i["default"].createElement(l.DotBoxComp,{scale:n,index:h,pos:{x:o.x*n,y:o.y*n},isCreate:!0,isArea:t}),t?i["default"].createElement("div",null,i["default"].createElement(u.DragAreaComp,{scale:n,pos:d,index:h,isSolved:!1}),i["default"].createElement(c.DragBoxComp,{scale:n,pos:p,index:h})):undefined)},t}(i["default"].Component);t.SpotDragBoxComp=d,t["default"]=d},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2249)),a=r(n(475)),i=window.$;i(function(){window.isLocal||o["default"].getDiscussList(),window.document.addEventListener("keydown",function(e){if(27==e.keyCode){var t=i(".discuss-base-btn.cancel-btn");t.length>0&&t.click()}},!1),window.document.addEventListener("mouseup",function(){a["default"].setEndPos(null)},!0)}),t["default"]="DiscussInit"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(475)),a=r(n(42)),i=r(n(892)),s=new(function(){function e(){}return e.prototype.getDiscussList=function(){var e=window.view;$.ajax("/discuss/list",{projectId:e.id},function(e){o["default"].setPageId(a["default"].getActivePage()||1),i["default"].initListByServer(e.list)})},e}());t["default"]=s},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),n(2251);var r=u(n(2252));n(2253),n(2254),n(2255);var o,a=u(n(2256)),i=u(n(42)),s=u(n(2257)),l=u(n(1647));function u(e){return e&&e.__esModule?e:{"default":e}}function c(){var e=window.navigator.userAgent;if(e.indexOf("Android")>-1||e.indexOf("Linux")>-1)return!0}function d(){if("micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i))return!0}(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e),window.CSSAnimations=n(2258),window.dragscroll=r["default"];var f={initParam:function(){window.loadPages={},window.fixedData={},window.innerScrollData={},window.pagesCache={},window.advancedContrEvents={},window.TweenLite&&(window.TweenLite.defaultEase=window.Linear.easeNone)},initSymbol:function(){window.symbolContrs?(window.symbolContrs.contrs||(window.symbolContrs.contrs={}),window.symbolContrs.symbols||(window.symbolContrs.symbols={})):window.symbolContrs={contrs:{},symbols:{}}},initEventFunc:function(){$(document).on("click",[".advanced-contr","li",".ant-radio-group label",".ant-checkbox-group label",".ant-collapse-content",".am-accordion-content","label.am-radio-wrapper","label.am-checkbox-wrapper",".am-segment-item",".slick-slide",".am-pagination-wrap-btn",".am-switch"].join(","),function(e){var t=e.currentTarget,n=$(t),r=t.className,o=$(t).parents(".advanced-box, .mobile-box ").parent().attr("id"),a=[],i=void 0,s=void 0;if(n.parents(".symbol").each(function(e,t){a.unshift($(t).attr("id"))}),-1!=r.indexOf("advanced-contr")&&(window.advContrId=n.attr("id"),window.advSymbolId=[],n.parents(".symbol").each(function(e,t){window.advSymbolId.unshift($(t).attr("id"))})),-1!=r.indexOf("ant-dropdown-menu-item"))o=window.advContrId,a=window.advSymbolId,i=n.index();else if(-1!=r.indexOf("ant-select-dropdown-menu-item"))o=window.advContrId,a=window.advSymbolId,i=n.index();else if(-1!=r.indexOf("ant-cascader-menu-item")){o=window.advContrId,a=window.advSymbolId;var l=[],u=n.parent().index();n.parent().siblings("ul").each(function(e,t){e<u&&l.push($(t).children(".ant-cascader-menu-item-active").index())}),i=(0!=l.length?l.join("|")+"|":"")+n.index()}else if(-1!=r.indexOf("ant-select-tree-treenode")){o=window.advContrId,a=window.advSymbolId;var c=[];n.parents("li").each(function(e,t){c.unshift($(t).index())}),i=(0!=c.length?c.join("|")+"|":"")+n.index()}else if(-1!=r.indexOf("ant-menu-item")){n.parents(".ant-menu-sub").hasClass("ant-menu-vertical")&&(o=window.advContrId,a=window.advSymbolId);var d=n.parent().attr("id");i=(d.split("$")[0]?d.split("$")[0]+"|":"")+n.index()}else if(-1!=r.indexOf("ant-radio-wrapper")||-1!=r.indexOf("ant-checkbox-wrapper"))i=n.index();else if(-1!=r.indexOf("ant-tree-treenode")){var f=[];n.parents("li").each(function(e,t){f.unshift($(t).index())}),i=(0!=f.length?f.join("|")+"|":"")+n.index()}else if(-1!=r.indexOf("am-radio-wrapper")||-1!=r.indexOf("am-checkbox-wrapper"))i=n.closest(".am-list-item").index();else if(-1!=r.indexOf("am-segment-item"))i=n.index();else if(-1!=r.indexOf("am-accordion-content")||-1!=r.indexOf("ant-collapse-content"))i=n.parent().index();else if(-1!=r.indexOf("slider-slide"))i=n.index();else if(-1!=r.indexOf("slick-slide")){var p=n.parent().children().length;i=(p+n.attr("data-index"))%p}else if(-1!=r.indexOf("am-pagination")){var h=n.siblings(".am-pagination-wrap"),g=h.attr("data-index"),y=h.attr("data-total");-1!=r.indexOf("prev")?i=Math.max(+g-1,0):-1!=r.indexOf("next")&&(i=Math.min(+g+1,+y-1))}else-1!=r.indexOf("am-switch")&&(i="on"==n.children("input").attr("value")?0:1);$.isUndefined(i)||(s=(0!=a.length?a.join("|")+"~":"")+o+"~"+i),s&&window.advancedContrEvents&&window.advancedContrEvents[s]&&window.advancedContrEvents[s]()});$(document).on("mouseover",[".ant-menu-root.ant-menu-vertical",".ant-menu-root.ant-menu-horizontal"].join(","),function(e){var t=e.currentTarget,n=$(t).parents(".advanced-contr");window.advContrId=n.attr("id"),window.advSymbolId=[],n.parents(".symbol").each(function(e,t){window.advSymbolId.unshift($(t).attr("id"))})})},getContrsObj:function(){if(window.pages){var e=[];if(window.symbolContrs)for(var t in window.symbolContrs.contrs)s["default"].addInitVal(window.symbolContrs.contrs[t],undefined,undefined,undefined,undefined,!0);else window.symbolContrs={symbols:{},contrs:{}};window.pages.forEach(function(t){var n=t.key,r=t.name,o=t.active,a=t.note,i=t.backColor,l=t.isLandscape,u=t.isShow,c=t.pageHeight,d=t.left,f=t.top;t.hierarchy=[],t.contrsObj={},t.stateCache={},$.isUndefined(t.contrs)&&(t.contrs=[]),s["default"].addInitVal(t.contrs,t.key,undefined,undefined,undefined,!0),t.contrs.forEach(function(e){var n=$.getContrId(e);t.hierarchy.push(n),t.contrsObj[n]=e}),t.id="mainBox"+n;var p={key:n,name:r,active:o,note:a,type:"page",backColor:i,isLandscape:l,isShow:u,pageHeight:c,left:d,top:f,hierarchy:t.hierarchy,contrs:t.contrsObj};e.push(p)}),window.setPreviewPagesArr&&window.setPreviewPagesArr(e,window.structHierarchy),window.isMobile&&(i["default"].setPagesArr(e),i["default"].setStructData(window.structHierarchy))}},initEvent:function(){window.addNoteHoverClass=function(e,t){var n=$.getElById("page"+e+"Note"+t),r=$.getElById("page"+e);n&&r&&(l["default"].previewScrollTop($.offset(n,!0),r),$.hasClass(n,"contr-note-box")?$(".page"+e+"Note"+t).addClass("hover"):$.addClass(n,"hover"))},window.removeNoteHoverClass=function(e,t){var n=$.getElById("page"+e+"Note"+t);$.hasClass(n,"contr-note-box")?$(".page"+e+"Note"+t).removeClass("hover"):$.removeClass(n,"hover")}},initCss:function(){var e="";a["default"].init({isMobile:window.isMobile}),window.pages&&window.pages.forEach(function(t){e+=a["default"].getPage(t).thisCss}),$.loadStyleString(e)},initResize:function(e){if("web"==window.platform)return!1;window.isMobile||(e=!0),c()&&d()||(window.onresize=r);var t=window.document.getElementsByTagName("body")[0],n="100%";function r(e,o){var a=void 0,i=window.document.documentElement.clientWidth,s=window.document.documentElement.clientHeight;window.fromIframe||!$.query||window.isLocal||(($.hasClass($.query(".current.page"),"isLandscape")||$.hasClass(t,"notIsLandscapeBody"))&&i<s?($.hasClass($.query(".current.page"),"isLandscape")&&(a=!0),t.style.width=s+"px",t.style.height=i+"px",$.addClass(t,"isLandscapeBody"),$.removeClass(t,"notIsLandscapeBody")):(t.style.width="100%",t.style.height=n,$.addClass(t,"notIsLandscapeBody"),$.removeClass(t,"isLandscapeBody"))),window.previewFrameSize&&(i=window.previewFrameSize.width,s=window.previewFrameSize.height);var l=Math.min(i,s),u=1;c()&&d()&&a&&(u=16/parseInt(window.getComputedStyle(window.document.documentElement).fontSize)),a?window.fontSize=50*s/568:s<i&&a?window.fontSize=50*i/568:(window.fontSize=.15625*l*u,t.style.width="100%",t.style.height=n,$.addClass(t,"notIsLandscapeBody"),$.removeClass(t,"isLandscapeBody")),window.document.getElementsByTagName("html")[0].style.fontSize=window.fontSize+"px",o||(l>window.screen.width&&e<=10?setTimeout(function(){r(++e)},100):window.document.getElementsByTagName("body")[0].style.opacity=1)}$.isiOS()&&(n=window.screen.height+"px"),e?r(0,!0):r(0)},escKey:function(){$(window.document).bind("keydown",function(e){if(27===e.which){var t=window.parent.document.getElementById("closeBtn");t&&t.click()}})}};!function(){var e=function(e){"initResize"==e?setTimeout(function(){f[e]()},0):f[e]()};for(var t in f)e(t)}(),window.initResize=f.initResize;var p,h;t["default"]="init",(p=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(p.register(c,"isAndroid","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/util/init.js"),p.register(d,"isWeiXinFunc","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/util/init.js"),p.register(f,"init","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/util/init.js"),p.register("init","default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/util/init.js")),(h=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&h(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r;!function o(e,t,n){function a(s,l){if(!t[s]){if(!e[s]){if(!l&&("function"==typeof r&&r))return r(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return a(n||t)},c,c.exports,o,e,t,n)}return t[s].exports}for(var i="function"==typeof r&&r,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,n){t.exports=e("./lib/preventoverscroll")},{"./lib/preventoverscroll":2}],2:[function(e,t,n){var r=e("./util"),o=document,a=window,i={},s={list:[],cClass:"prevent_over_scroll_container",styleId:"prevent_over_scroll_style",styleStr:"{overflow-y: scroll; -webkit-overflow-scrolling: touch;}"};function l(e){this.config=r.extend(s,e||{}),this.init()}l.prototype={constructor:l,init:function(){this._initStyle(),this._initstartMoveMap.call(this),this._bindEvent(this.config.list)},_initStyle:function(){var e,t,n,a=this.config.list;if(r.checkDeviceType("ios")){for(e=0,t=a.length;e<t;e++){if(!(n=o.getElementById(a[e])))throw"";n.className+=" "+this.config.cClass}this._appendStyle()}},_appendStyle:function(){if(!document.getElementById(this.config.styleId)){var e=o.createElement("style"),t="."+this.config.cClass+this.config.styleStr;t+=" html, body {width: 100%; height: 100%;}",e.id=this.config.styleId,e.innerHTML=t,o.getElementsByTagName("head")[0].appendChild(e)}},_initstartMoveMap:function(){for(var e=this.config.list,t=0,n=e.length;t<n;t++)i[e[t]]=0},_startMove:function(e){e=e||a.event;i[this.id]=e.touches[0].clientY},_preventMove:function(e){var t="11",n=this,r=(e=e||window.event).touches[0].clientY,o=i[n.id],a=n.scrollTop,s=n.offsetHeight,l=n.scrollHeight;if(!(s>=l&&n.getAttribute("innerScroll"))&&(0===a?t=s>=l?"00":"01":a+s>=l&&(t="10"),"11"!=t)){var u=r-o>0?"10":"01";if(!(parseInt(t,2)&parseInt(u,2)))return e.preventDefault(),void e.stopPropagation()}},_bindEvent:function(e){for(var t,n=0,o=e.length;n<o;n++){if(!(t=document.getElementById(e[n])))throw"elem "+e[n]+"is not exist!";r.addEvent(t,"touchstart",this._startMove),r.addEvent(t,"touchmove",this._preventMove)}},push:function(e){e in i||(this.config.list.push(e),i[e]=0,o.getElementById(e).className+=" "+this.config.cClass,this._bindEvent([e]))},pop:function(e){var t=o.getElementById(e);delete i[e],r.removeEvent(t,"touchstart",this.startMove),r.removeEvent(t,"touchmove",this._preventMove)}},t.exports={PreventOverScroll:l}},{"./util":3}],3:[function(e,t,n){function r(e,t){var n=Object.prototype.toString;return"Null"===t&&null===e||"Undefined"===t&&void 0===e||n.call(e).slice(8,-1)===t}var o={checkDeviceType:function(e){var t=navigator.userAgent,n=/(Android)/i.test(t),r=/(iPhone|iPad|iPod|iOS)/i.test(t)&&!n;return"ios"==e?r:n},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},extend:function a(e,t){for(var n in e){var o=e[n];e===o||n in t||(r(o,"Object")?t[n]=a(o,t[n]||{}):r(o,"Array")?(t[n]=[],t[n]=a(o,t[n]||[])):t[n]=o)}return t}};t.exports=o},{}],4:[function(e,t,n){window.PreventOverScroll=e("./index.js").PreventOverScroll},{"./index.js":1}]},{},[4])},function(e,t,n){"use strict";var r;undefined,r=function(e){var t,n=window,r=[];n.dragIsMove=!1,n.DragscrollFunc=t=function(e,t){for(e=0;e<r.length;)(t=r[e++]).removeEventListener("mousedown",t.md,0),n.removeEventListener("mouseup",t.mu,0),n.removeEventListener("mousemove",t.mm,0);for(r=window.document.getElementsByClassName("dragscroll"),e=0;e<r.length;)!function(e,t,r,o){e.addEventListener("mousedown",e.md=function(e){e.target.getAttribute("contenteditable")||(n.dragIsMove=!0,o=1,t=e.clientX,r=e.clientY,e.preventDefault(),e.stopPropagation())},0),n.addEventListener("mouseup",e.mu=function(){o=0,n.dragIsMove=!1},0),n.addEventListener("mousemove",e.mm=function(a,i){if(i=e.scroller||e,o&&n.dragIsMove){var s=i.getAttribute("data-direction");s&&"x"!=s||(i.scrollLeft-=-t+(t=a.clientX)),s&&"y"!=s||(i.scrollTop-=-r+(r=a.clientY))}},0)}(r[e++])};var o=n.isLocal?n:n.parent;if(o)try{o.document.addEventListener("mouseup",function(){n.dragIsMove&&(n.dragIsMove=!1)},!0)}catch(a){}"complete"==window.document.readyState?t():n.addEventListener("load",t,0),e.reset=t},"function"==typeof window.define&&window.define&&window.define.amd?window.define(["exports"],r):r(t)},function(e,t,n){"use strict";(function(e,r){var o,a,i,s=n(82),l=(a=s)&&a.__esModule?a:{"default":a};(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&i(e);var u,c,d=void 0!==e&&e.exports&&void 0!==r?r:undefined||window;(d._gsQueue||(d._gsQueue=[])).push(function(){var e,t,n,r,o,a,i,s,u,c,f,p,h,g,y,m;d._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},o=function(e,t,n){var r,o,a=e.cycle;for(r in a)o=a[r],e[r]="function"==typeof o?o(n,t[n]):o[n%o.length];delete e.cycle},a=function g(e,t,r){n.call(this,e,t,r),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=g.prototype.render},i=1e-10,s=n._internals,l=s.isSelector,u=s.isArray,c=a.prototype=n.to({},.1,{}),d=[];a.version="2.0.1",c.constructor=a,c.kill()._gc=!1,a.killTweensOf=a.killDelayedCallsTo=n.killTweensOf,a.getTweensOf=n.getTweensOf,a.lagSmoothing=n.lagSmoothing,a.ticker=n.ticker,a.render=n.render,c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),n.prototype.invalidate.call(this)},c.updateTo=function(e,t){var r,o=this.ratio,a=this.vars.immediateRender||e.immediateRender;for(r in t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),e)this.vars[r]=e[r];if(this._initted||a)if(t)this._initted=!1,a&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var i=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(i,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||a)for(var s,l=1/(1-o),u=this._firstPT;u;)s=u.s+u.c,u.c*=l,u.s=s-u.c,u=u._next;return this},c.render=function(e,t,r){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var o,a,l,u,c,d,f,p,h,g=this._dirty?this.totalDuration():this._totalDuration,y=this._time,m=this._totalTime,_=this._cycle,v=this._duration,b=this._rawPrevTime;if(e>=g-1e-7&&e>=0?(this._totalTime=g,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(o=!0,a="onComplete",r=r||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(e=0),(0>b||0>=e&&e>=-1e-7||b===i&&"isPause"!==this.data)&&b!==e&&(r=!0,b>i&&(a="onReverseComplete")),this._rawPrevTime=p=!t||e||b===e?e:i)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===v&&b>0)&&(a="onReverseComplete",o=this._reversed),0>e&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||r)&&(b>=0&&(r=!0),this._rawPrevTime=p=!t||e||b===e?e:i)),this._initted||(r=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(u=v+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&e>=m&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!=(1&this._cycle)&&(this._time=v-this._time,(h=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==h||this._initted?this._yoyoEase=h=!0===h?this._ease:h instanceof Ease?h:Ease.map[h]:(h=this.vars.ease,this._yoyoEase=h=h?h instanceof Ease?h:"function"==typeof h?new Ease(h,this.vars.easeParams):Ease.map[h]||n.defaultEase:n.defaultEase)),this.ratio=h?1-h.getRatio((v-this._time)/v):0)),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType&&!h?(c=this._time/v,(1===(d=this._easeType)||3===d&&c>=.5)&&(c=1-c),3===d&&(c*=2),1===(f=this._easePower)?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===d?this.ratio=1-c:2===d?this.ratio=c:this._time/v<.5?this.ratio=c/2:this.ratio=1-c/2):h||(this.ratio=this._ease.getRatio(this._time/v))),y!==this._time||r||_!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=y,this._totalTime=m,this._rawPrevTime=b,this._cycle=_,s.lazyTweens.push(this),void(this._lazy=[e,t]);!this._time||o||h?o&&this._ease._calcEnd&&!h&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/v)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==y&&e>=0&&(this._active=!0),0===m&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,!0,r):a||(a="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===v)&&(t||this._callback("onStart"))),l=this._firstPT;l;)l.f?l.t[l.p](l.c*this.ratio+l.s):l.t[l.p]=l.c*this.ratio+l.s,l=l._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,!0,r),t||(this._totalTime!==m||a)&&this._callback("onUpdate")),this._cycle!==_&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),a&&(!this._gc||r)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,!0,r),o&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[a]&&this._callback(a),0===v&&this._rawPrevTime===i&&p!==i&&(this._rawPrevTime=0))}else m!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},a.to=function(e,t,n){return new a(e,t,n)},a.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new a(e,t,n)},a.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new a(e,t,r)},a.staggerTo=a.allTo=function(e,t,i,s,c,f,p){s=s||0;var h,g,y,m,_=0,v=[],b=function(){i.onComplete&&i.onComplete.apply(i.onCompleteScope||this,arguments),c.apply(p||i.callbackScope||this,f||d)},w=i.cycle,C=i.startAt&&i.startAt.cycle;for(u(e)||("string"==typeof e&&(e=n.selector(e)||e),l(e)&&(e=r(e))),e=e||[],0>s&&((e=r(e)).reverse(),s*=-1),h=e.length-1,y=0;h>=y;y++){for(m in g={},i)g[m]=i[m];if(w&&(o(g,e,y),null!=g.duration&&(t=g.duration,delete g.duration)),C){for(m in C=g.startAt={},i.startAt)C[m]=i.startAt[m];o(g.startAt,e,y)}g.delay=_+(g.delay||0),y===h&&c&&(g.onComplete=b),v[y]=new a(e[y],t,g),_+=s}return v},a.staggerFrom=a.allFrom=function(e,t,n,r,o,i,s){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,a.staggerTo(e,t,n,r,o,i,s)},a.staggerFromTo=a.allFromTo=function(e,t,n,r,o,i,s,l){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,a.staggerTo(e,t,r,o,i,s,l)},a.delayedCall=function(e,t,n,r,o){return new a(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,useFrames:o,overwrite:0})},a.set=function(e,t){return new a(e,0,t)},a.isTweening=function(e){return n.getTweensOf(e,!0).length>0};var f=function y(e,t){for(var r=[],o=0,a=e._first;a;)a instanceof n?r[o++]=a:(t&&(r[o++]=a),o=(r=r.concat(y(a,t))).length),a=a._next;return r},p=a.getAllTweens=function(t){return f(e._rootTimeline,t).concat(f(e._rootFramesTimeline,t))};a.killAll=function(e,n,r,o){null==n&&(n=!0),null==r&&(r=!0);var a,i,s,l=p(0!=o),u=l.length,c=n&&r&&o;for(s=0;u>s;s++)i=l[s],(c||i instanceof t||(a=i.target===i.vars.onComplete)&&r||n&&!a)&&(e?i.totalTime(i._reversed?0:i.totalDuration()):i._enabled(!1,!1))},a.killChildTweensOf=function(e,t){if(null!=e){var o,i,c,d,f,p=s.tweenLookup;if("string"==typeof e&&(e=n.selector(e)||e),l(e)&&(e=r(e)),u(e))for(d=e.length;--d>-1;)a.killChildTweensOf(e[d],t);else{for(c in o=[],p)for(i=p[c].target.parentNode;i;)i===e&&(o=o.concat(p[c].tweens)),i=i.parentNode;for(f=o.length,d=0;f>d;d++)t&&o[d].totalTime(o[d].totalDuration()),o[d]._enabled(!1,!1)}}};var h=function(e,n,r,o){n=!1!==n,r=!1!==r;for(var a,i,s=p(o=!1!==o),l=n&&r&&o,u=s.length;--u>-1;)i=s[u],(l||i instanceof t||(a=i.target===i.vars.onComplete)&&r||n&&!a)&&i.paused(e)};return a.pauseAll=function(e,t,n){h(!0,e,t,n)},a.resumeAll=function(e,t,n){h(!1,e,t,n)},a.globalTimeScale=function(t){var r=e._rootTimeline,o=n.ticker.time;return arguments.length?(t=t||i,r._startTime=o-(o-r._startTime)*r._timeScale/t,r=e._rootFramesTimeline,o=n.ticker.frame,r._startTime=o-(o-r._startTime)*r._timeScale/t,r._timeScale=e._rootTimeline._timeScale=t,t):r._timeScale},c.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},c.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},c.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},c.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},c.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},c.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},c.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},a},!0),d._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,r,o=this.vars;for(r in o)n=o[r],l(n)&&-1!==n.join("").indexOf("{self}")&&(o[r]=this._swapSelfInParams(n));l(o.tweens)&&this.add(o.tweens,0,o.align,o.stagger)},o=1e-10,a=n._internals,i=r._internals={},s=a.isSelector,l=a.isArray,u=a.lazyTweens,c=a.lazyRender,f=d._gsDefine.globals,p=function(e){var t,n={};for(t in e)n[t]=e[t];return n},h=function(e,t,n){var r,o,a=e.cycle;for(r in a)o=a[r],e[r]="function"==typeof o?o(n,t[n]):o[n%o.length];delete e.cycle},g=i.pauseCallback=function(){},y=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},m=r.prototype=new t;return r.version="2.0.1",m.constructor=r,m.kill()._gc=m._forcingPlayhead=m._hasPause=!1,m.to=function(e,t,r,o){var a=r.repeat&&f.TweenMax||n;return t?this.add(new a(e,t,r),o):this.set(e,r,o)},m.from=function(e,t,r,o){return this.add((r.repeat&&f.TweenMax||n).from(e,t,r),o)},m.fromTo=function(e,t,r,o,a){var i=o.repeat&&f.TweenMax||n;return t?this.add(i.fromTo(e,t,r,o),a):this.set(e,o,a)},m.staggerTo=function(e,t,o,a,i,l,u,c){var d,f,g=new r({onComplete:l,onCompleteParams:u,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),m=o.cycle;for("string"==typeof e&&(e=n.selector(e)||e),s(e=e||[])&&(e=y(e)),0>(a=a||0)&&((e=y(e)).reverse(),a*=-1),f=0;f<e.length;f++)(d=p(o)).startAt&&(d.startAt=p(d.startAt),d.startAt.cycle&&h(d.startAt,e,f)),m&&(h(d,e,f),null!=d.duration&&(t=d.duration,delete d.duration)),g.to(e[f],t,d,f*a);return this.add(g,i)},m.staggerFrom=function(e,t,n,r,o,a,i,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(e,t,n,r,o,a,i,s)},m.staggerFromTo=function(e,t,n,r,o,a,i,s,l){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,this.staggerTo(e,t,r,o,a,i,s,l)},m.call=function(e,t,r,o){return this.add(n.delayedCall(0,e,t,r),o)},m.set=function(e,t,r){return r=this._parseTimeOrLabel(r,0,!0),null==t.immediateRender&&(t.immediateRender=r===this._time&&!this._paused),this.add(new n(e,0,t),r)},r.exportRoot=function(e,t){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var o,a,i,s,l=new r(e),u=l._timeline;for(null==t&&(t=!0),u._remove(l,!0),l._startTime=0,l._rawPrevTime=l._time=l._totalTime=u._time,i=u._first;i;)s=i._next,t&&i instanceof n&&i.target===i.vars.onComplete||(0>(a=i._startTime-i._delay)&&(o=1),l.add(i,a)),i=s;return u.add(l,0),o&&l.totalDuration(),l},m.add=function(o,a,i,s){var u,c,d,f,p,h;if("number"!=typeof a&&(a=this._parseTimeOrLabel(a,0,!0,o)),!(o instanceof e)){if(o instanceof Array||o&&o.push&&l(o)){for(i=i||"normal",s=s||0,u=a,c=o.length,d=0;c>d;d++)l(f=o[d])&&(f=new r({tweens:f})),this.add(f,u),"string"!=typeof f&&"function"!=typeof f&&("sequence"===i?u=f._startTime+f.totalDuration()/f._timeScale:"start"===i&&(f._startTime-=f.delay())),u+=s;return this._uncache(!0)}if("string"==typeof o)return this.addLabel(o,a);if("function"!=typeof o)throw"Cannot add "+o+" into the timeline; it is not a tween, timeline, function, or string.";o=n.delayedCall(0,o)}if(t.prototype.add.call(this,o,a),o._time&&o.render((this.rawTime()-o._startTime)*o._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(h=(p=this).rawTime()>o._startTime;p._timeline;)h&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},m.remove=function(t){if(t instanceof e){this._remove(t,!1);var n=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:n._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&l(t)){for(var r=t.length;--r>-1;)this.remove(t[r]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},m._remove=function(e,n){return t.prototype._remove.call(this,e,n),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},m.insert=m.insertMultiple=function(e,t,n,r){return this.add(e,t||0,n,r)},m.appendMultiple=function(e,t,n,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,r)},m.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},m.addPause=function(e,t,r,o){var a=n.delayedCall(0,g,r,o||this);return a.vars.onComplete=a.vars.onReverseComplete=t,a.data="isPause",this._hasPause=!0,this.add(a,e)},m.removeLabel=function(e){return delete this._labels[e],this},m.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},m._parseTimeOrLabel=function(t,n,r,o){var a,i;if(o instanceof e&&o.timeline===this)this.remove(o);else if(o&&(o instanceof Array||o.push&&l(o)))for(i=o.length;--i>-1;)o[i]instanceof e&&o[i].timeline===this&&this.remove(o[i]);if(a="number"!=typeof t||n?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof n)return this._parseTimeOrLabel(n,r&&"number"==typeof t&&null==this._labels[n]?t-a:0,r);if(n=n||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=a);else{if(-1===(i=t.indexOf("=")))return null==this._labels[t]?r?this._labels[t]=a+n:n:this._labels[t]+n;n=parseInt(t.charAt(i-1)+"1",10)*Number(t.substr(i+1)),t=i>1?this._parseTimeOrLabel(t.substr(0,i-1),0,r):a}return Number(t)+n},m.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(e,t){return this.play(e,t)},m.gotoAndStop=function(e,t){return this.pause(e,t)},m.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var r,a,i,s,l,d,f,p=this._time,h=this._dirty?this.totalDuration():this._totalDuration,g=this._startTime,y=this._timeScale,m=this._paused;if(p!==this._time&&(e+=this._time-p),e>=h-1e-7&&e>=0)this._totalTime=this._time=h,this._reversed||this._hasPausedChild()||(a=!0,s="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===o)&&this._rawPrevTime!==e&&this._first&&(l=!0,this._rawPrevTime>o&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:o,e=h+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==o&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(s="onReverseComplete",a=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=a=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:o,0===e&&a)for(r=this._first;r&&0===r._startTime;)r._duration||(a=!1),r=r._next;e=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=p)for(r=this._first;r&&r._startTime<=e&&!d;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(d=r),r=r._next;else for(r=this._last;r&&r._startTime>=e&&!d;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(d=r),r=r._prev;d&&(this._time=e=d._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==p&&this._first||n||l||d){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&e>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||t||this._callback("onStart")),(f=this._time)>=p)for(r=this._first;r&&(i=r._next,f===this._time&&(!this._paused||m));)(r._active||r._startTime<=f&&!r._paused&&!r._gc)&&(d===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=i;else for(r=this._last;r&&(i=r._prev,f===this._time&&(!this._paused||m));){if(r._active||r._startTime<=p&&!r._paused&&!r._gc){if(d===r){for(d=r._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(e-d._startTime)*d._timeScale:(e-d._startTime)*d._timeScale,t,n),d=d._prev;d=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)}r=i}this._onUpdate&&(t||(u.length&&c(),this._callback("onUpdate"))),s&&(this._gc||(g===this._startTime||y!==this._timeScale)&&(0===this._time||h>=this.totalDuration())&&(a&&(u.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this._callback(s)))}},m._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof r&&e._hasPausedChild())return!0;e=e._next}return!1},m.getChildren=function(e,t,r,o){o=o||-9999999999;for(var a=[],i=this._first,s=0;i;)i._startTime<o||(i instanceof n?!1!==t&&(a[s++]=i):(!1!==r&&(a[s++]=i),!1!==e&&(s=(a=a.concat(i.getChildren(!0,t,r))).length))),i=i._next;return a},m.getTweensOf=function(e,t){var r,o,a=this._gc,i=[],s=0;for(a&&this._enabled(!0,!0),o=(r=n.getTweensOf(e)).length;--o>-1;)(r[o].timeline===this||t&&this._contains(r[o]))&&(i[s++]=r[o]);return a&&this._enabled(!1,!0),i},m.recent=function(){return this._recent},m._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},m.shiftChildren=function(e,t,n){n=n||0;for(var r,o=this._first,a=this._labels;o;)o._startTime>=n&&(o._startTime+=e),o=o._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return this._uncache(!0)},m._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),r=n.length,o=!1;--r>-1;)n[r]._kill(e,t)&&(o=!0);return o},m.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;--n>-1;)t[n]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},m._enabled=function(e,n){if(e===this._gc)for(var r=this._first;r;)r._enabled(e,!0),r=r._next;return t.prototype._enabled.call(this,e,n)},m.totalTime=function(t,n,r){this._forcingPlayhead=!0;var o=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,o},m.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,r=0,o=this._last,a=999999999999;o;)t=o._prev,o._dirty&&o.totalDuration(),o._startTime>a&&this._sortChildren&&!o._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(o,o._startTime-o._delay),this._calculatingDuration=0):a=o._startTime,o._startTime<0&&!o._paused&&(r-=o._startTime,this._timeline.smoothChildTiming&&(this._startTime+=o._startTime/this._timeScale,this._time-=o._startTime,this._totalTime-=o._startTime,this._rawPrevTime-=o._startTime),this.shiftChildren(-o._startTime,!1,-9999999999),a=0),(n=o._startTime+o._totalDuration/o._timeScale)>r&&(r=n),o=t;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},m.paused=function(t){if(!t)for(var n=this._first,r=this._time;n;)n._startTime===r&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return e.prototype.paused.apply(this,arguments)},m.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},m.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},r},!0),d._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,n){var r=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},o=1e-10,a=t._internals,i=a.lazyTweens,s=a.lazyRender,l=d._gsDefine.globals,u=new n(null,null,1,0),c=r.prototype=new e;return c.constructor=r,c.kill()._gc=!1,r.version="2.0.1",c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},c.addCallback=function(e,n,r,o){return this.add(t.delayedCall(0,e,r,o),n)},c.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var n=this.getTweensOf(e,!1),r=n.length,o=this._parseTimeOrLabel(t);--r>-1;)n[r]._startTime===o&&n[r]._enabled(!1,!1);return this},c.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},c.tweenTo=function(e,n){n=n||{};var r,o,a,i={ease:u,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},s=n.repeat&&l.TweenMax||t;for(o in n)i[o]=n[o];return i.time=this._parseTimeOrLabel(e),r=Math.abs(Number(i.time)-this._time)/this._timeScale||.001,a=new s(this,r,i),i.onStart=function(){a.target.paused(!0),a.vars.time===a.target.time()||r!==a.duration()||a.isFromTo||a.duration(Math.abs(a.vars.time-a.target.time())/a.target._timeScale).render(a.time(),!0,!0),n.onStart&&n.onStart.apply(n.onStartScope||n.callbackScope||a,n.onStartParams||[])},a},c.tweenFromTo=function(e,t,n){n=n||{},e=this._parseTimeOrLabel(e),n.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},n.immediateRender=!1!==n.immediateRender;var r=this.tweenTo(t,n);return r.isFromTo=1,r.duration(Math.abs(r.vars.time-e)/this._timeScale||.001)},c.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var r,a,l,u,c,d,f,p,h=this._time,g=this._dirty?this.totalDuration():this._totalDuration,y=this._duration,m=this._totalTime,_=this._startTime,v=this._timeScale,b=this._rawPrevTime,w=this._paused,C=this._cycle;if(h!==this._time&&(e+=this._time-h),e>=g-1e-7&&e>=0)this._locked||(this._totalTime=g,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(a=!0,u="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||0>b||b===o)&&b!==e&&this._first&&(c=!0,b>o&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:o,this._yoyo&&0!=(1&this._cycle)?this._time=e=0:(this._time=y,e=y+1e-4);else if(1e-7>e)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==h||0===y&&b!==o&&(b>0||0>e&&b>=0)&&!this._locked)&&(u="onReverseComplete",a=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=a=!0,u="onReverseComplete"):b>=0&&this._first&&(c=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=y||!t||e||this._rawPrevTime===e?e:o,0===e&&a)for(r=this._first;r&&0===r._startTime;)r._duration||(a=!1),r=r._next;e=0,this._initted||(c=!0)}else if(0===y&&0>b&&(c=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(d=y+this._repeatDelay,this._cycle=this._totalTime/d>>0,0!==this._cycle&&this._cycle===this._totalTime/d&&e>=m&&this._cycle--,this._time=this._totalTime-this._cycle*d,this._yoyo&&0!=(1&this._cycle)&&(this._time=y-this._time),this._time>y?(this._time=y,e=y+1e-4):this._time<0?this._time=e=0:e=this._time)),this._hasPause&&!this._forcingPlayhead&&!t){if((e=this._time)>=h||this._repeat&&C!==this._cycle)for(r=this._first;r&&r._startTime<=e&&!f;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(f=r),r=r._next;else for(r=this._last;r&&r._startTime>=e&&!f;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(f=r),r=r._prev;f&&f._startTime<y&&(this._time=e=f._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==C&&!this._locked){var x=this._yoyo&&0!=(1&C),S=x===(this._yoyo&&0!=(1&this._cycle)),P=this._totalTime,k=this._cycle,O=this._rawPrevTime,E=this._time;if(this._totalTime=C*y,this._cycle<C?x=!x:this._totalTime+=y,this._time=h,this._rawPrevTime=0===y?b-1e-4:b,this._cycle=C,this._locked=!0,h=x?0:y,this.render(h,t,0===y),t||this._gc||this.vars.onRepeat&&(this._cycle=k,this._locked=!1,this._callback("onRepeat")),h!==this._time)return;if(S&&(this._cycle=C,this._locked=!0,h=x?y+1e-4:-1e-4,this.render(h,!0,!1)),this._locked=!1,this._paused&&!w)return;this._time=E,this._totalTime=P,this._cycle=k,this._rawPrevTime=O}if(this._time!==h&&this._first||n||c||f){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&e>0&&(this._active=!0),0===m&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||t||this._callback("onStart")),(p=this._time)>=h)for(r=this._first;r&&(l=r._next,p===this._time&&(!this._paused||w));)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(f===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=l;else for(r=this._last;r&&(l=r._prev,p===this._time&&(!this._paused||w));){if(r._active||r._startTime<=h&&!r._paused&&!r._gc){if(f===r){for(f=r._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(e-f._startTime)*f._timeScale:(e-f._startTime)*f._timeScale,t,n),f=f._prev;f=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)}r=l}this._onUpdate&&(t||(i.length&&s(),this._callback("onUpdate"))),u&&(this._locked||this._gc||(_===this._startTime||v!==this._timeScale)&&(0===this._time||g>=this.totalDuration())&&(a&&(i.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[u]&&this._callback(u)))}else m!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},c.getActive=function(e,t,n){null==e&&(e=!0),null==t&&(t=!0),null==n&&(n=!1);var r,o,a=[],i=this.getChildren(e,t,n),s=0,l=i.length;for(r=0;l>r;r++)(o=i[r]).isActive()&&(a[s++]=o);return a},c.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,n=this.getLabelsArray(),r=n.length;for(t=0;r>t;t++)if(n[t].time>e)return n[t].name;return null},c.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),n=t.length;--n>-1;)if(t[n].time<e)return t[n].name;return null},c.getLabelsArray=function(){var e,t=[],n=0;for(e in this._labels)t[n++]={time:this._labels[e],name:e};return t.sort(function(e,t){return e.time-t.time}),t},c.invalidate=function(){return this._locked=!1,e.prototype.invalidate.call(this)},c.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()||0},c.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()||0},c.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},c.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},c.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},c.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},c.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},r},!0),e=180/Math.PI,t=[],n=[],r=[],o={},a=d._gsDefine.globals,i=function(e,t,n,r){n===r&&(n=r-(r-t)/1e6),e===t&&(t=e+(n-e)/1e6),this.a=e,this.b=t,this.c=n,this.d=r,this.da=r-e,this.ca=n-e,this.ba=t-e},s=function(e,t,n,r){var o={a:e},a={},i={},s={c:r},l=(e+t)/2,u=(t+n)/2,c=(n+r)/2,d=(l+u)/2,f=(u+c)/2,p=(f-d)/8;return o.b=l+(e-l)/4,a.b=d+p,o.c=a.a=(o.b+a.b)/2,a.c=i.a=(d+f)/2,i.b=f-p,s.b=c+(r-c)/4,i.c=s.a=(i.b+s.b)/2,[o,a,i,s]},u=function(e,o,a,i,l){var u,c,d,f,p,h,g,y,m,_,v,b,w,C=e.length-1,x=0,S=e[0].a;for(u=0;C>u;u++)c=(p=e[x]).a,d=p.d,f=e[x+1].d,l?(v=t[u],w=((b=n[u])+v)*o*.25/(i?.5:r[u]||.5),y=d-((h=d-(d-c)*(i?.5*o:0!==v?w/v:0))+(((g=d+(f-d)*(i?.5*o:0!==b?w/b:0))-h)*(3*v/(v+b)+.5)/4||0))):y=d-((h=d-(d-c)*o*.5)+(g=d+(f-d)*o*.5))/2,h+=y,g+=y,p.c=m=h,p.b=0!==u?S:S=p.a+.6*(p.c-p.a),p.da=d-c,p.ca=m-c,p.ba=S-c,a?(_=s(c,S,m,d),e.splice(x,1,_[0],_[1],_[2],_[3]),x+=4):x++,S=g;(p=e[x]).b=S,p.c=S+.4*(p.d-S),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=S-p.a,a&&(_=s(p.a,S,p.c,p.d),e.splice(x,1,_[0],_[1],_[2],_[3]))},c=function(e,r,o,a){var s,l,u,c,d,f,p=[];if(a)for(l=(e=[a].concat(e)).length;--l>-1;)"string"==typeof(f=e[l][r])&&"="===f.charAt(1)&&(e[l][r]=a[r]+Number(f.charAt(0)+f.substr(2)));if(0>(s=e.length-2))return p[0]=new i(e[0][r],0,0,e[0][r]),p;for(l=0;s>l;l++)u=e[l][r],c=e[l+1][r],p[l]=new i(u,0,0,c),o&&(d=e[l+2][r],t[l]=(t[l]||0)+(c-u)*(c-u),n[l]=(n[l]||0)+(d-c)*(d-c));return p[l]=new i(e[l][r],0,0,e[l+1][r]),p},f=function(e,a,i,s,l,d){var f,p,h,g,y,m,_,v,b={},w=[],C=d||e[0];for(p in l="string"==typeof l?","+l+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==a&&(a=1),e[0])w.push(p);if(e.length>1){for(v=e[e.length-1],_=!0,f=w.length;--f>-1;)if(p=w[f],Math.abs(C[p]-v[p])>.05){_=!1;break}_&&(e=e.concat(),d&&e.unshift(d),e.push(e[1]),d=e[e.length-3])}for(t.length=n.length=r.length=0,f=w.length;--f>-1;)p=w[f],o[p]=-1!==l.indexOf(","+p+","),b[p]=c(e,p,o[p],d);for(f=t.length;--f>-1;)t[f]=Math.sqrt(t[f]),n[f]=Math.sqrt(n[f]);if(!s){for(f=w.length;--f>-1;)if(o[p])for(m=(h=b[w[f]]).length-1,g=0;m>g;g++)y=h[g+1].da/n[g]+h[g].da/t[g]||0,r[g]=(r[g]||0)+y*y;for(f=r.length;--f>-1;)r[f]=Math.sqrt(r[f])}for(f=w.length,g=i?4:1;--f>-1;)h=b[p=w[f]],u(h,a,i,s,o[p]),_&&(h.splice(0,g),h.splice(h.length-g,g));return b},p=function(e,t,n){var r,o,a,s,l,u,c,d,f,p,h,g={},y="cubic"===(t=t||"soft")?3:2,m="soft"===t,_=[];if(m&&n&&(e=[n].concat(e)),null==e||e.length<y+1)throw"invalid Bezier data";for(f in e[0])_.push(f);for(u=_.length;--u>-1;){for(f=_[u],g[f]=l=[],p=0,d=e.length,c=0;d>c;c++)r=null==n?e[c][f]:"string"==typeof(h=e[c][f])&&"="===h.charAt(1)?n[f]+Number(h.charAt(0)+h.substr(2)):Number(h),m&&c>1&&d-1>c&&(l[p++]=(r+l[p-2])/2),l[p++]=r;for(d=p-y+1,p=0,c=0;d>c;c+=y)r=l[c],o=l[c+1],a=l[c+2],s=2===y?0:l[c+3],l[p++]=h=3===y?new i(r,o,a,s):new i(r,(2*o+r)/3,(2*o+a)/3,a);l.length=p}return g},h=function(e,t,n){for(var r,o,a,i,s,l,u,c,d,f,p,h=1/n,g=e.length;--g>-1;)for(a=(f=e[g]).a,i=f.d-a,s=f.c-a,l=f.b-a,r=o=0,c=1;n>=c;c++)r=o-(o=((u=h*c)*u*i+3*(d=1-u)*(u*s+d*l))*u),p=g*n+c-1,t[p]=(t[p]||0)+r*r},g=function(e,t){var n,r,o,a,i=[],s=[],l=0,u=0,c=(t=t>>0||6)-1,d=[],f=[];for(n in e)h(e[n],i,t);for(o=i.length,r=0;o>r;r++)l+=Math.sqrt(i[r]),f[a=r%t]=l,a===c&&(u+=l,d[a=r/t>>0]=f,s[a]=u,l=0,f=[]);return{length:u,lengths:s,segments:d}},y=d._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._mod={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var r,o,a,i,s,l=t.values||[],u={},c=l[0],d=t.autoRotate||n.vars.orientToBezier;for(r in this._autoRotate=d?d instanceof Array?d:[["x","y","rotation",!0===d?0:Number(d)||0]]:null,c)this._props.push(r);for(a=this._props.length;--a>-1;)r=this._props[a],this._overwriteProps.push(r),o=this._func[r]="function"==typeof e[r],u[r]=o?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(e[r]),s||u[r]!==l[0][r]&&(s=u);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?f(l,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,s):p(l,t.type,u),this._segCount=this._beziers[r].length,this._timeRes){var h=g(this._beziers,this._timeRes);this._length=h.length,this._lengths=h.lengths,this._segments=h.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(d=this._autoRotate)for(this._initialRotations=[],d[0]instanceof Array||(this._autoRotate=d=[d]),a=d.length;--a>-1;){for(i=0;3>i;i++)r=d[a][i],this._func[r]="function"==typeof e[r]&&e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)];r=d[a][2],this._initialRotations[a]=(this._func[r]?this._func[r].call(this._target):this._target[r])||0,this._overwriteProps.push(r)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(t){var n,r,o,a,i,s,l,u,c,d,f=this._segCount,p=this._func,h=this._target,g=t!==this._startRatio;if(this._timeRes){if(c=this._lengths,d=this._curSeg,t*=this._length,o=this._li,t>this._l2&&f-1>o){for(u=f-1;u>o&&(this._l2=c[++o])<=t;);this._l1=c[o-1],this._li=o,this._curSeg=d=this._segments[o],this._s2=d[this._s1=this._si=0]}else if(t<this._l1&&o>0){for(;o>0&&(this._l1=c[--o])>=t;);0===o&&t<this._l1?this._l1=0:o++,this._l2=c[o],this._li=o,this._curSeg=d=this._segments[o],this._s1=d[(this._si=d.length-1)-1]||0,this._s2=d[this._si]}if(n=o,t-=this._l1,o=this._si,t>this._s2&&o<d.length-1){for(u=d.length-1;u>o&&(this._s2=d[++o])<=t;);this._s1=d[o-1],this._si=o}else if(t<this._s1&&o>0){for(;o>0&&(this._s1=d[--o])>=t;);0===o&&t<this._s1?this._s1=0:o++,this._s2=d[o],this._si=o}s=(o+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else s=(t-(n=0>t?0:t>=1?f-1:f*t>>0)*(1/f))*f;for(r=1-s,o=this._props.length;--o>-1;)a=this._props[o],l=(s*s*(i=this._beziers[a][n]).da+3*r*(s*i.ca+r*i.ba))*s+i.a,this._mod[a]&&(l=this._mod[a](l,h)),p[a]?h[a](l):h[a]=l;if(this._autoRotate){var y,m,_,v,b,w,C,x=this._autoRotate;for(o=x.length;--o>-1;)a=x[o][2],w=x[o][3]||0,C=!0===x[o][4]?1:e,i=this._beziers[x[o][0]],y=this._beziers[x[o][1]],i&&y&&(i=i[n],y=y[n],m=i.a+(i.b-i.a)*s,m+=((v=i.b+(i.c-i.b)*s)-m)*s,v+=(i.c+(i.d-i.c)*s-v)*s,_=y.a+(y.b-y.a)*s,_+=((b=y.b+(y.c-y.b)*s)-_)*s,b+=(y.c+(y.d-y.c)*s-b)*s,l=g?Math.atan2(b-_,v-m)*C+w:this._initialRotations[o],this._mod[a]&&(l=this._mod[a](l,h)),p[a]?h[a](l):h[a]=l)}}}),m=y.prototype,y.bezierThrough=f,y.cubicToQuadratic=s,y._autoCSS=!0,y.quadraticToCubic=function(e,t,n){return new i(e,(2*t+e)/3,(2*t+n)/3,n)},y._cssRegister=function(){var e=a.CSSPlugin;if(e){var t=e._internals,n=t._parseToProxy,r=t._setPluginRatio,o=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,a,i,s,l){t instanceof Array&&(t={values:t}),l=new y;var u,c,d,f=t.values,p=f.length-1,h=[],g={};if(0>p)return s;for(u=0;p>=u;u++)d=n(e,f[u],i,s,l,p!==u),h[u]=d.end;for(c in t)g[c]=t[c];return g.values=h,(s=new o(e,"bezier",0,0,d.pt,2)).data=d,s.plugin=l,s.setRatio=r,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(u=!0===g.autoRotate?0:Number(g.autoRotate),g.autoRotate=null!=d.end.left?[["left","top","rotation",u,!1]]:null!=d.end.x&&[["x","y","rotation",u,!1]]),g.autoRotate&&(i._transform||i._enableTransforms(!1),d.autoRotate=i._target._gsTransform,d.proxy.rotation=d.autoRotate.rotation||0,i._overwriteProps.push("rotation")),l._onInitTween(d.proxy,g,i._tween),s}})}},m._mod=function(e){for(var t,n=this._overwriteProps,r=n.length;--r>-1;)(t=e[n[r]])&&"function"==typeof t&&(this._mod[n[r]]=t)},m._kill=function(e){var t,n,r=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],n=r.length;--n>-1;)r[n]===t&&r.splice(n,1);if(r=this._autoRotate)for(n=r.length;--n>-1;)e[r[n][2]]&&r.splice(n,1);return this._super._kill.call(this,e)},d._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var n,r,o,a,i=function Qe(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=Qe.prototype.setRatio},s=d._gsDefine.globals,u={},c=i.prototype=new e("css");c.constructor=i,i.version="1.20.5",i.API=2,i.defaultTransformPerspective=0,i.defaultSkewType="compensated",i.defaultSmoothOrigin=!0,c="px",i.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var f,p,h,g,y,m,_,v,b=/(?:\-|\.|\b)(\d|\.|e\-)+/g,w=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,C=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,S=/(?:\d|\-|\+|=|#|\.)*/g,P=/opacity *= *([^)]*)/i,k=/opacity:([^;]*)/i,O=/alpha\(opacity *=.+?\)/i,E=/^(rgb|hsl)/,T=/([A-Z])/g,M=/-([a-z])/gi,D=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,A=function(e,t){return t.toUpperCase()},j=/(?:Left|Right|Width)/i,I=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,L=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,R=/,(?=[^\)]*(?:\(|$))/gi,B=/[\s,\(]/i,N=Math.PI/180,F=180/Math.PI,H={},$={style:{}},z=d.document||{createElement:function(){return $}},U=function(e,t){return z.createElementNS?z.createElementNS(t||"http://www.w3.org/1999/xhtml",e):z.createElement(e)},V=U("div"),K=U("img"),G=i._internals={_specialProps:u},q=(d.navigator||{}).userAgent||"",W=function(){var e=q.indexOf("Android"),t=U("a");return h=-1!==q.indexOf("Safari")&&-1===q.indexOf("Chrome")&&(-1===e||parseFloat(q.substr(e+8,2))>3),y=h&&parseFloat(q.substr(q.indexOf("Version/")+8,2))<6,g=-1!==q.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(q)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(q))&&(m=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),Y=function(e){return P.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},X=function(e){d.console&&console.log(e)},Z="",J="",Q=function(e,t){var n,r,o=(t=t||V).style;if(void 0!==o[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===o[n[r]+e];);return r>=0?(Z="-"+(J=3===r?"ms":n[r]).toLowerCase()+"-",J+e):null},ee=("undefined"!=typeof window?window:z.defaultView||{getComputedStyle:function(){}}).getComputedStyle,te=i.getStyle=function(e,t,n,r,o){var a;return W||"opacity"!==t?(!r&&e.style[t]?a=e.style[t]:(n=n||ee(e))?a=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(T,"-$1").toLowerCase()):e.currentStyle&&(a=e.currentStyle[t]),null==o||a&&"none"!==a&&"auto"!==a&&"auto auto"!==a?a:o):Y(e)},ne=G.convertToPixels=function(e,n,r,o,a){if("px"===o||!o&&"lineHeight"!==n)return r;if("auto"===o||!r)return 0;var s,l,u,c=j.test(n),d=e,f=V.style,p=0>r,h=1===r;if(p&&(r=-r),h&&(r*=100),"lineHeight"!==n||o)if("%"===o&&-1!==n.indexOf("border"))s=r/100*(c?e.clientWidth:e.clientHeight);else{if(f.cssText="border:0 solid red;position:"+te(e,"position")+";line-height:0;","%"!==o&&d.appendChild&&"v"!==o.charAt(0)&&"rem"!==o)f[c?"borderLeftWidth":"borderTopWidth"]=r+o;else{if(d=e.parentNode||z.body,-1!==te(d,"display").indexOf("flex")&&(f.position="absolute"),l=d._gsCache,u=t.ticker.frame,l&&c&&l.time===u)return l.width*r/100;f[c?"width":"height"]=r+o}d.appendChild(V),s=parseFloat(V[c?"offsetWidth":"offsetHeight"]),d.removeChild(V),c&&"%"===o&&!1!==i.cacheWidths&&((l=d._gsCache=d._gsCache||{}).time=u,l.width=s/r*100),0!==s||a||(s=ne(e,n,r,o,!0))}else l=ee(e).lineHeight,e.style.lineHeight=r,s=parseFloat(ee(e).lineHeight),e.style.lineHeight=l;return h&&(s/=100),p?-s:s},re=G.calculateOffset=function(e,t,n){if("absolute"!==te(e,"position",n))return 0;var r="left"===t?"Left":"Top",o=te(e,"margin"+r,n);return e["offset"+r]-(ne(e,t,parseFloat(o),o.replace(S,""))||0)},oe=function(e,t){var n,r,o,a={};if(t=t||ee(e,null))if(n=t.length)for(;--n>-1;)(-1===(o=t[n]).indexOf("-transform")||De===o)&&(a[o.replace(M,A)]=t.getPropertyValue(o));else for(n in t)(-1===n.indexOf("Transform")||Me===n)&&(a[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===a[n]&&(a[n.replace(M,A)]=t[n]);return W||(a.opacity=Y(e)),r=Ve(e,t,!1),a.rotation=r.rotation,a.skewX=r.skewX,a.scaleX=r.scaleX,a.scaleY=r.scaleY,a.x=r.x,a.y=r.y,je&&(a.z=r.z,a.rotationX=r.rotationX,a.rotationY=r.rotationY,a.scaleZ=r.scaleZ),a.filters&&delete a.filters,a},ae=function(e,t,n,r,o){var a,i,s,l={},u=e.style;for(i in n)"cssText"!==i&&"length"!==i&&isNaN(i)&&(t[i]!==(a=n[i])||o&&o[i])&&-1===i.indexOf("Origin")&&("number"==typeof a||"string"==typeof a)&&(l[i]="auto"!==a||"left"!==i&&"top"!==i?""!==a&&"auto"!==a&&"none"!==a||"string"!=typeof t[i]||""===t[i].replace(x,"")?a:0:re(e,i),void 0!==u[i]&&(s=new be(u,i,u[i],s)));if(r)for(i in r)"className"!==i&&(l[i]=r[i]);return{difs:l,firstMPT:s}},ie={width:["Left","Right"],height:["Top","Bottom"]},se=["marginLeft","marginRight","marginTop","marginBottom"],le=function(e,t,n){if("svg"===(e.nodeName+"").toLowerCase())return(n||ee(e))[t]||0;if(e.getCTM&&$e(e))return e.getBBox()[t]||0;var r=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),o=ie[t],a=o.length;for(n=n||ee(e,null);--a>-1;)r-=parseFloat(te(e,"padding"+o[a],n,!0))||0,r-=parseFloat(te(e,"border"+o[a]+"Width",n,!0))||0;return r},ue=function et(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";(null==e||""===e)&&(e="0 0");var n,r=e.split(" "),o=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":r[0],a=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":r[1];if(r.length>3&&!t){for(r=e.split(", ").join(",").split(","),e=[],n=0;n<r.length;n++)e.push(et(r[n]));return e.join(",")}return null==a?a="center"===o?"50%":"0":"center"===a&&(a="50%"),("center"===o||isNaN(parseFloat(o))&&-1===(o+"").indexOf("="))&&(o="50%"),e=o+" "+a+(r.length>2?" "+r[2]:""),t&&(t.oxp=-1!==o.indexOf("%"),t.oyp=-1!==a.indexOf("%"),t.oxr="="===o.charAt(1),t.oyr="="===a.charAt(1),t.ox=parseFloat(o.replace(x,"")),t.oy=parseFloat(a.replace(x,"")),t.v=e),t||e},ce=function(e,t){return"function"==typeof e&&(e=e(v,_)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},de=function(e,t){return"function"==typeof e&&(e=e(v,_)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},fe=function(e,t,n,r){var o,a,i,s,l;return"function"==typeof e&&(e=e(v,_)),null==e?s=t:"number"==typeof e?s=e:(o=360,a=e.split("_"),i=((l="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(a[0].substr(2)):parseFloat(a[0]))*(-1===e.indexOf("rad")?1:F)-(l?0:t),a.length&&(r&&(r[n]=t+i),-1!==e.indexOf("short")&&((i%=o)!==i%180&&(i=0>i?i+o:i-o)),-1!==e.indexOf("_cw")&&0>i?i=(i+9999999999*o)%o-(i/o|0)*o:-1!==e.indexOf("ccw")&&i>0&&(i=(i-9999999999*o)%o-(i/o|0)*o)),s=t+i),1e-6>s&&s>-1e-6&&(s=0),s},pe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},he=function(e,t,n){return 255*(1>6*(e=0>e?e+1:e>1?e-1:e)?t+(n-t)*e*6:.5>e?n:2>3*e?t+(n-t)*(2/3-e)*6:t)+.5|0},ge=i.parseColor=function(e,t){var n,r,o,a,i,s,l,u,c,d,f;if(e)if("number"==typeof e)n=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),pe[e])n=pe[e];else if("#"===e.charAt(0))4===e.length&&(r=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+r+r+o+o+a+a),n=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(n=f=e.match(b),t){if(-1!==e.indexOf("="))return e.match(w)}else i=Number(n[0])%360/360,s=Number(n[1])/100,r=2*(l=Number(n[2])/100)-(o=.5>=l?l*(s+1):l+s-l*s),n.length>3&&(n[3]=Number(n[3])),n[0]=he(i+1/3,r,o),n[1]=he(i,r,o),n[2]=he(i-1/3,r,o);else n=e.match(b)||pe.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=pe.black;return t&&!f&&(r=n[0]/255,o=n[1]/255,a=n[2]/255,l=((u=Math.max(r,o,a))+(c=Math.min(r,o,a)))/2,u===c?i=s=0:(d=u-c,s=l>.5?d/(2-u-c):d/(u+c),i=u===r?(o-a)/d+(a>o?6:0):u===o?(a-r)/d+2:(r-o)/d+4,i*=60),n[0]=i+.5|0,n[1]=100*s+.5|0,n[2]=100*l+.5|0),n},ye=function(e,t){var n,r,o,a=e.match(me)||[],i=0,s="";if(!a.length)return e;for(n=0;n<a.length;n++)r=a[n],i+=(o=e.substr(i,e.indexOf(r,i)-i)).length+r.length,3===(r=ge(r,t)).length&&r.push(1),s+=o+(t?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return s+e.substr(i)},me="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in pe)me+="|"+c+"\\b";me=new RegExp(me+")","gi"),i.colorStringFilter=function(e){var t,n=e[0]+" "+e[1];me.test(n)&&(t=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),e[0]=ye(e[0],t),e[1]=ye(e[1],t)),me.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=i.colorStringFilter);var _e=function(e,t,n,r){if(null==e)return function(e){return e};var o,a=t?(e.match(me)||[""])[0]:"",i=e.split(a).join("").match(C)||[],s=e.substr(0,e.indexOf(i[0])),l=")"===e.charAt(e.length-1)?")":"",u=-1!==e.indexOf(" ")?" ":",",c=i.length,d=c>0?i[0].replace(b,""):"";return c?o=t?function(e){var t,f,p,h;if("number"==typeof e)e+=d;else if(r&&R.test(e)){for(h=e.replace(R,"|").split("|"),p=0;p<h.length;p++)h[p]=o(h[p]);return h.join(",")}if(t=(e.match(me)||[a])[0],p=(f=e.split(t).join("").match(C)||[]).length,c>p--)for(;++p<c;)f[p]=n?f[(p-1)/2|0]:i[p];return s+f.join(u)+u+t+l+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,a,f;if("number"==typeof e)e+=d;else if(r&&R.test(e)){for(a=e.replace(R,"|").split("|"),f=0;f<a.length;f++)a[f]=o(a[f]);return a.join(",")}if(f=(t=e.match(C)||[]).length,c>f--)for(;++f<c;)t[f]=n?t[(f-1)/2|0]:i[f];return s+t.join(u)+l}:function(e){return e}},ve=function(e){return e=e.split(","),function(t,n,r,o,a,i,s){var l,u=(n+"").split(" ");for(s={},l=0;4>l;l++)s[e[l]]=u[l]=u[l]||u[(l-1)/2>>0];return o.parse(t,s,a,i)}},be=(G._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,r,o,a,i=this.data,s=i.proxy,l=i.firstMPT;l;)t=s[l.v],l.r?t=l.r(t):1e-6>t&&t>-1e-6&&(t=0),l.t[l.p]=t,l=l._next;if(i.autoRotate&&(i.autoRotate.rotation=i.mod?i.mod.call(this._tween,s.rotation,this.t,this._tween):s.rotation),1===e||0===e)for(l=i.firstMPT,a=1===e?"e":"b";l;){if((n=l.t).type){if(1===n.type){for(o=n.xs0+n.s+n.xs1,r=1;r<n.l;r++)o+=n["xn"+r]+n["xs"+(r+1)];n[a]=o}}else n[a]=n.s+n.xs0;l=l._next}},function(e,t,n,r,o){this.t=e,this.p=t,this.v=n,this.r=o,r&&(r._prev=this,this._next=r)}),we=(G._parseToProxy=function(e,t,n,r,o,a){var i,s,l,u,c,d=r,f={},p={},h=n._transform,g=H;for(n._transform=null,H=t,r=c=n.parse(e,t,r,o),H=g,a&&(n._transform=h,d&&(d._prev=null,d._prev&&(d._prev._next=null)));r&&r!==d;){if(r.type<=1&&(p[s=r.p]=r.s+r.c,f[s]=r.s,a||(u=new be(r,"s",s,u,r.r),r.c=0),1===r.type))for(i=r.l;--i>0;)l="xn"+i,p[s=r.p+"_"+l]=r.data[l],f[s]=r[l],a||(u=new be(r,l,s,u,r.rxp[l]));r=r._next}return{proxy:f,end:p,firstMPT:u,pt:c}},G.CSSPropTween=function(e,t,r,o,i,s,l,u,c,d,f){this.t=e,this.p=t,this.s=r,this.c=o,this.n=l||t,e instanceof we||a.push(this.n),this.r=u?"function"==typeof u?u:Math.round:u,this.type=s||0,c&&(this.pr=c,n=!0),this.b=void 0===d?r:d,this.e=void 0===f?r+o:f,i&&(this._next=i,i._prev=this)}),Ce=function(e,t,n,r,o,a){var i=new we(e,t,n,r-n,o,-1,a);return i.b=n,i.e=i.xs0=r,i},xe=i.parseComplex=function(e,t,n,r,o,a,s,l,u,c){n=n||a||"","function"==typeof r&&(r=r(v,_)),s=new we(e,t,0,0,s,c?2:1,null,!1,l,n,r),r+="",o&&me.test(r+n)&&(r=[n,r],i.colorStringFilter(r),n=r[0],r=r[1]);var d,p,h,g,y,m,C,x,S,P,k,O,E,T=n.split(", ").join(",").split(" "),M=r.split(", ").join(",").split(" "),D=T.length,A=!1!==f;for((-1!==r.indexOf(",")||-1!==n.indexOf(","))&&(-1!==(r+n).indexOf("rgb")||-1!==(r+n).indexOf("hsl")?(T=T.join(" ").replace(R,", ").split(" "),M=M.join(" ").replace(R,", ").split(" ")):(T=T.join(" ").split(",").join(", ").split(" "),M=M.join(" ").split(",").join(", ").split(" ")),D=T.length),D!==M.length&&(D=(T=(a||"").split(" ")).length),s.plugin=u,s.setRatio=c,me.lastIndex=0,d=0;D>d;d++)if(g=T[d],y=M[d]+"",(x=parseFloat(g))||0===x)s.appendXtra("",x,ce(y,x),y.replace(w,""),!(!A||-1===y.indexOf("px"))&&Math.round,!0);else if(o&&me.test(g))O=")"+((O=y.indexOf(")")+1)?y.substr(O):""),E=-1!==y.indexOf("hsl")&&W,P=y,g=ge(g,E),y=ge(y,E),(S=g.length+y.length>6)&&!W&&0===y[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(M[d]).join("transparent")):(W||(S=!1),E?s.appendXtra(P.substr(0,P.indexOf("hsl"))+(S?"hsla(":"hsl("),g[0],ce(y[0],g[0]),",",!1,!0).appendXtra("",g[1],ce(y[1],g[1]),"%,",!1).appendXtra("",g[2],ce(y[2],g[2]),S?"%,":"%"+O,!1):s.appendXtra(P.substr(0,P.indexOf("rgb"))+(S?"rgba(":"rgb("),g[0],y[0]-g[0],",",Math.round,!0).appendXtra("",g[1],y[1]-g[1],",",Math.round).appendXtra("",g[2],y[2]-g[2],S?",":O,Math.round),S&&(g=g.length<4?1:g[3],s.appendXtra("",g,(y.length<4?1:y[3])-g,O,!1))),me.lastIndex=0;else if(m=g.match(b)){if(!(C=y.match(w))||C.length!==m.length)return s;for(h=0,p=0;p<m.length;p++)k=m[p],P=g.indexOf(k,h),s.appendXtra(g.substr(h,P-h),Number(k),ce(C[p],k),"",!(!A||"px"!==g.substr(P+k.length,2))&&Math.round,0===p),h=P+k.length;s["xs"+s.l]+=g.substr(h)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+y:y;if(-1!==r.indexOf("=")&&s.data){for(O=s.xs0+s.data.s,d=1;d<s.l;d++)O+=s["xs"+d]+s.data["xn"+d];s.e=O+s["xs"+d]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},Se=9;for((c=we.prototype).l=c.pr=0;--Se>0;)c["xn"+Se]=0,c["xs"+Se]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(e,t,n,r,o,a){var i=this,s=i.l;return i["xs"+s]+=a&&(s||i["xs"+s])?" "+e:e||"",n||0===s||i.plugin?(i.l++,i.type=i.setRatio?2:1,i["xs"+i.l]=r||"",s>0?(i.data["xn"+s]=t+n,i.rxp["xn"+s]=o,i["xn"+s]=t,i.plugin||(i.xfirst=new we(i,"xn"+s,t,n,i.xfirst||i,0,i.n,o,i.pr),i.xfirst.xs0=0),i):(i.data={s:t+n},i.rxp={},i.s=t,i.c=n,i.r=o,i)):(i["xs"+s]+=t+(r||""),i)};var Pe=function(e,t){t=t||{},this.p=t.prefix&&Q(e)||e,u[e]=u[this.p]=this,this.format=t.formatter||_e(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},ke=G._registerComplexSpecialProp=function(e,t,n){"object"!=(void 0===t?"undefined":(0,l["default"])(t))&&(t={parser:n});var r,o=e.split(","),a=t.defaultValue;for(n=n||[a],r=0;r<o.length;r++)t.prefix=0===r&&t.prefix,t.defaultValue=n[r]||a,new Pe(o[r],t)},Oe=G._registerPluginProp=function(e){if(!u[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";ke(e,{parser:function(e,n,r,o,a,i,l){var c=s.com.greensock.plugins[t];return c?(c._cssRegister(),u[r].parse(e,n,r,o,a,i,l)):(X("Error: "+t+" js file not loaded."),a)}})}};(c=Pe.prototype).parseComplex=function(e,t,n,r,o,a){var i,s,l,u,c,d,f=this.keyword;if(this.multi&&(R.test(n)||R.test(t)?(s=t.replace(R,"|").split("|"),l=n.replace(R,"|").split("|")):f&&(s=[t],l=[n])),l){for(u=l.length>s.length?l.length:s.length,i=0;u>i;i++)t=s[i]=s[i]||this.dflt,n=l[i]=l[i]||this.dflt,f&&((c=t.indexOf(f))!==(d=n.indexOf(f))&&(-1===d?s[i]=s[i].split(f).join(""):-1===c&&(s[i]+=" "+f)));t=s.join(", "),n=l.join(", ")}return xe(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,o,a)},c.parse=function(e,t,n,r,a,i,s){return this.parseComplex(e.style,this.format(te(e,this.p,o,!1,this.dflt)),this.format(t),a,i)},i.registerSpecialProp=function(e,t,n){ke(e,{parser:function(e,r,o,a,i,s,l){var u=new we(e,o,0,0,i,2,o,!1,n);return u.plugin=s,u.setRatio=t(e,r,a._tween,o),u},priority:n})},i.useSVGTransformAttr=!0;var Ee,Te="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Me=Q("transform"),De=Z+"transform",Ae=Q("transformOrigin"),je=null!==Q("perspective"),Ie=G.Transform=function(){this.perspective=parseFloat(i.defaultTransformPerspective)||0,this.force3D=!(!1===i.defaultForce3D||!je)&&(i.defaultForce3D||"auto")},Le=d.SVGElement,Re=function(e,t,n){var r,o=z.createElementNS("http://www.w3.org/2000/svg",e),a=/([a-z])([A-Z])/g;for(r in n)o.setAttributeNS(null,r.replace(a,"$1-$2").toLowerCase(),n[r]);return t.appendChild(o),o},Be=z.documentElement||{},Ne=function(){var e,t,n,r=m||/Android/i.test(q)&&!d.chrome;return z.createElementNS&&!r&&(e=Re("svg",Be),n=(t=Re("rect",e,{width:100,height:50,x:100})).getBoundingClientRect().width,t.style[Ae]="50% 50%",t.style[Me]="scaleX(0.5)",r=n===t.getBoundingClientRect().width&&!(g&&je),Be.removeChild(e)),r}(),Fe=function(e,t,n,r,o,a){var s,l,u,c,d,f,p,h,g,y,m,_,v,b,w=e._gsTransform,C=Ue(e,!0);w&&(v=w.xOrigin,b=w.yOrigin),(!r||(s=r.split(" ")).length<2)&&(0===(p=e.getBBox()).x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),s=[(-1!==(t=ue(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*p.width:parseFloat(t[0]))+p.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*p.height:parseFloat(t[1]))+p.y]),n.xOrigin=c=parseFloat(s[0]),n.yOrigin=d=parseFloat(s[1]),r&&C!==ze&&(f=C[0],p=C[1],h=C[2],g=C[3],y=C[4],m=C[5],(_=f*g-p*h)&&(l=c*(g/_)+d*(-h/_)+(h*m-g*y)/_,u=c*(-p/_)+d*(f/_)-(f*m-p*y)/_,c=n.xOrigin=s[0]=l,d=n.yOrigin=s[1]=u)),w&&(a&&(n.xOffset=w.xOffset,n.yOffset=w.yOffset,w=n),o||!1!==o&&!1!==i.defaultSmoothOrigin?(l=c-v,u=d-b,w.xOffset+=l*C[0]+u*C[2]-l,w.yOffset+=l*C[1]+u*C[3]-u):w.xOffset=w.yOffset=0),a||e.setAttribute("data-svg-origin",s.join(" "))},He=function(e){try{return e.getBBox()}catch(t){return function r(e){var t,n=U("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),o=this.parentNode,a=this.nextSibling,s=this.style.cssText;if(Be.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=r}catch(i){}else this._originalGetBBox&&(t=this._originalGetBBox());return a?o.insertBefore(this,a):o.appendChild(this),Be.removeChild(n),this.style.cssText=s,t}.call(e,!0)}},$e=function(e){return!(!Le||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!He(e))},ze=[1,0,0,1,0,0],Ue=function(e,t){var n,r,o,a,i,s,l=e._gsTransform||new Ie,u=e.style;if(Me?r=te(e,De,null,!0):e.currentStyle&&(r=(r=e.currentStyle.filter.match(I))&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),l.x||0,l.y||0].join(","):""),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,!Me||!(s=!ee(e)||"none"===ee(e).display)&&e.parentNode||(s&&(a=u.display,u.display="block"),e.parentNode||(i=1,Be.appendChild(e)),n=!(r=te(e,De,null,!0))||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,a?u.display=a:s&&We(u,"display"),i&&Be.removeChild(e)),(l.svg||e.getCTM&&$e(e))&&(n&&-1!==(u[Me]+"").indexOf("matrix")&&(r=u[Me],n=0),o=e.getAttribute("transform"),n&&o&&(r="matrix("+(o=e.transform.baseVal.consolidate().matrix).a+","+o.b+","+o.c+","+o.d+","+o.e+","+o.f+")",n=0)),n)return ze;for(o=(r||"").match(b)||[],Se=o.length;--Se>-1;)a=Number(o[Se]),o[Se]=(i=a-(a|=0))?(1e5*i+(0>i?-.5:.5)|0)/1e5+a:a;return t&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o},Ve=G.getTransform=function(e,n,r,o){if(e._gsTransform&&r&&!o)return e._gsTransform;var a,s,l,u,c,d,f=r&&e._gsTransform||new Ie,p=f.scaleX<0,h=2e-5,g=1e5,y=je&&(parseFloat(te(e,Ae,n,!1,"0 0 0").split(" ")[2])||f.zOrigin)||0,m=parseFloat(i.defaultTransformPerspective)||0;if(f.svg=!(!e.getCTM||!$e(e)),f.svg&&(Fe(e,te(e,Ae,n,!1,"50% 50%")+"",f,e.getAttribute("data-svg-origin")),Ee=i.useSVGTransformAttr||Ne),(a=Ue(e))!==ze){if(16===a.length){var _,v,b,w,C,x=a[0],S=a[1],P=a[2],k=a[3],O=a[4],E=a[5],T=a[6],M=a[7],D=a[8],A=a[9],j=a[10],I=a[12],L=a[13],R=a[14],B=a[11],N=Math.atan2(T,j);f.zOrigin&&(I=D*(R=-f.zOrigin)-a[12],L=A*R-a[13],R=j*R+f.zOrigin-a[14]),f.rotationX=N*F,N&&(_=O*(w=Math.cos(-N))+D*(C=Math.sin(-N)),v=E*w+A*C,b=T*w+j*C,D=O*-C+D*w,A=E*-C+A*w,j=T*-C+j*w,B=M*-C+B*w,O=_,E=v,T=b),N=Math.atan2(-P,j),f.rotationY=N*F,N&&(v=S*(w=Math.cos(-N))-A*(C=Math.sin(-N)),b=P*w-j*C,A=S*C+A*w,j=P*C+j*w,B=k*C+B*w,x=_=x*w-D*C,S=v,P=b),N=Math.atan2(S,x),f.rotation=N*F,N&&(_=x*(w=Math.cos(N))+S*(C=Math.sin(N)),v=O*w+E*C,b=D*w+A*C,S=S*w-x*C,E=E*w-O*C,A=A*w-D*C,x=_,O=v,D=b),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),N=Math.atan2(O,E),f.scaleX=(Math.sqrt(x*x+S*S+P*P)*g+.5|0)/g,f.scaleY=(Math.sqrt(E*E+T*T)*g+.5|0)/g,f.scaleZ=(Math.sqrt(D*D+A*A+j*j)*g+.5|0)/g,x/=f.scaleX,O/=f.scaleY,S/=f.scaleX,E/=f.scaleY,Math.abs(N)>h?(f.skewX=N*F,O=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(N))):f.skewX=0,f.perspective=B?1/(0>B?-B:B):0,f.x=I,f.y=L,f.z=R,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*x-f.yOrigin*O),f.y-=f.yOrigin-(f.yOrigin*S-f.xOrigin*E))}else if(!je||o||!a.length||f.x!==a[4]||f.y!==a[5]||!f.rotationX&&!f.rotationY){var H=a.length>=6,$=H?a[0]:1,z=a[1]||0,U=a[2]||0,V=H?a[3]:1;f.x=a[4]||0,f.y=a[5]||0,l=Math.sqrt($*$+z*z),u=Math.sqrt(V*V+U*U),c=$||z?Math.atan2(z,$)*F:f.rotation||0,d=U||V?Math.atan2(U,V)*F+c:f.skewX||0,f.scaleX=l,f.scaleY=u,f.rotation=c,f.skewX=d,je&&(f.rotationX=f.rotationY=f.z=0,f.perspective=m,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*$+f.yOrigin*U),f.y-=f.yOrigin-(f.xOrigin*z+f.yOrigin*V))}for(s in Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(p?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=y,f)f[s]<h&&f[s]>-h&&(f[s]=0)}return r&&(e._gsTransform=f,f.svg&&(Ee&&e.style[Me]?t.delayedCall(.001,function(){We(e.style,Me)}):!Ee&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),f},Ke=function(e){var t,n,r=this.data,o=-r.rotation*N,a=o+r.skewX*N,i=1e5,s=(Math.cos(o)*r.scaleX*i|0)/i,l=(Math.sin(o)*r.scaleX*i|0)/i,u=(Math.sin(a)*-r.scaleY*i|0)/i,c=(Math.cos(a)*r.scaleY*i|0)/i,d=this.t.style,f=this.t.currentStyle;if(f){n=l,l=-u,u=-n,t=f.filter,d.filter="";var p,h,g=this.t.offsetWidth,y=this.t.offsetHeight,_="absolute"!==f.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+u+", M22="+c,b=r.x+g*r.xPercent/100,w=r.y+y*r.yPercent/100;if(null!=r.ox&&(b+=(p=(r.oxp?g*r.ox*.01:r.ox)-g/2)-(p*s+(h=(r.oyp?y*r.oy*.01:r.oy)-y/2)*l),w+=h-(p*u+h*c)),_?v+=", Dx="+((p=g/2)-(p*s+(h=y/2)*l)+b)+", Dy="+(h-(p*u+h*c)+w)+")":v+=", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?d.filter=t.replace(L,v):d.filter=v+" "+t,(0===e||1===e)&&1===s&&0===l&&0===u&&1===c&&(_&&-1===v.indexOf("Dx=0, Dy=0")||P.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&d.removeAttribute("filter")),!_){var C,x,k,O=8>m?1:-1;for(p=r.ieOffsetX||0,h=r.ieOffsetY||0,r.ieOffsetX=Math.round((g-((0>s?-s:s)*g+(0>l?-l:l)*y))/2+b),r.ieOffsetY=Math.round((y-((0>c?-c:c)*y+(0>u?-u:u)*g))/2+w),Se=0;4>Se;Se++)k=(n=-1!==(C=f[x=se[Se]]).indexOf("px")?parseFloat(C):ne(this.t,x,parseFloat(C),C.replace(S,""))||0)!==r[x]?2>Se?-r.ieOffsetX:-r.ieOffsetY:2>Se?p-r.ieOffsetX:h-r.ieOffsetY,d[x]=(r[x]=Math.round(n-k*(0===Se||2===Se?1:O)))+"px"}}},Ge=G.set3DTransformRatio=G.setTransformRatio=function(e){var t,n,r,o,a,i,s,l,u,c,d,f,p,h,y,m,_,v,b,w,C,x,S,P=this.data,k=this.t.style,O=P.rotation,E=P.rotationX,T=P.rotationY,M=P.scaleX,D=P.scaleY,A=P.scaleZ,j=P.x,I=P.y,L=P.z,R=P.svg,B=P.perspective,F=P.force3D,H=P.skewY,$=P.skewX;if(H&&($+=H,O+=H),!((1!==e&&0!==e||"auto"!==F||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&F||L||B||T||E||1!==A)||Ee&&R||!je)O||$||R?(O*=N,x=$*N,S=1e5,n=Math.cos(O)*M,a=Math.sin(O)*M,r=Math.sin(O-x)*-D,i=Math.cos(O-x)*D,x&&"simple"===P.skewType&&(t=Math.tan(x-H*N),r*=t=Math.sqrt(1+t*t),i*=t,H&&(t=Math.tan(H*N),n*=t=Math.sqrt(1+t*t),a*=t)),R&&(j+=P.xOrigin-(P.xOrigin*n+P.yOrigin*r)+P.xOffset,I+=P.yOrigin-(P.xOrigin*a+P.yOrigin*i)+P.yOffset,Ee&&(P.xPercent||P.yPercent)&&(y=this.t.getBBox(),j+=.01*P.xPercent*y.width,I+=.01*P.yPercent*y.height),(y=1e-6)>j&&j>-y&&(j=0),y>I&&I>-y&&(I=0)),b=(n*S|0)/S+","+(a*S|0)/S+","+(r*S|0)/S+","+(i*S|0)/S+","+j+","+I+")",R&&Ee?this.t.setAttribute("transform","matrix("+b):k[Me]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix(":"matrix(")+b):k[Me]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix(":"matrix(")+M+",0,0,"+D+","+j+","+I+")";else{if(g&&((y=1e-4)>M&&M>-y&&(M=A=2e-5),y>D&&D>-y&&(D=A=2e-5),!B||P.z||P.rotationX||P.rotationY||(B=0)),O||$)O*=N,m=n=Math.cos(O),_=a=Math.sin(O),$&&(O-=$*N,m=Math.cos(O),_=Math.sin(O),"simple"===P.skewType&&(t=Math.tan(($-H)*N),m*=t=Math.sqrt(1+t*t),_*=t,P.skewY&&(t=Math.tan(H*N),n*=t=Math.sqrt(1+t*t),a*=t))),r=-_,i=m;else{if(!(T||E||1!==A||B||R))return void(k[Me]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) translate3d(":"translate3d(")+j+"px,"+I+"px,"+L+"px)"+(1!==M||1!==D?" scale("+M+","+D+")":""));n=i=1,r=a=0}c=1,o=s=l=u=d=f=0,p=B?-1/B:0,h=P.zOrigin,y=1e-6,w=",",C="0",(O=T*N)&&(m=Math.cos(O),l=-(_=Math.sin(O)),d=p*-_,o=n*_,s=a*_,c=m,p*=m,n*=m,a*=m),(O=E*N)&&(t=r*(m=Math.cos(O))+o*(_=Math.sin(O)),v=i*m+s*_,u=c*_,f=p*_,o=r*-_+o*m,s=i*-_+s*m,c*=m,p*=m,r=t,i=v),1!==A&&(o*=A,s*=A,c*=A,p*=A),1!==D&&(r*=D,i*=D,u*=D,f*=D),1!==M&&(n*=M,a*=M,l*=M,d*=M),(h||R)&&(h&&(j+=o*-h,I+=s*-h,L+=c*-h+h),R&&(j+=P.xOrigin-(P.xOrigin*n+P.yOrigin*r)+P.xOffset,I+=P.yOrigin-(P.xOrigin*a+P.yOrigin*i)+P.yOffset),y>j&&j>-y&&(j=C),y>I&&I>-y&&(I=C),y>L&&L>-y&&(L=0)),b=P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix3d(":"matrix3d(",b+=(y>n&&n>-y?C:n)+w+(y>a&&a>-y?C:a)+w+(y>l&&l>-y?C:l),b+=w+(y>d&&d>-y?C:d)+w+(y>r&&r>-y?C:r)+w+(y>i&&i>-y?C:i),E||T||1!==A?(b+=w+(y>u&&u>-y?C:u)+w+(y>f&&f>-y?C:f)+w+(y>o&&o>-y?C:o),b+=w+(y>s&&s>-y?C:s)+w+(y>c&&c>-y?C:c)+w+(y>p&&p>-y?C:p)+w):b+=",0,0,0,0,1,0,",b+=j+w+I+w+L+w+(B?1+-L/B:1)+")",k[Me]=b}};(c=Ie.prototype).x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,ke("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,n,r,a,s,u){if(r._lastParsedTransform===u)return a;r._lastParsedTransform=u;var c,d=u.scale&&"function"==typeof u.scale?u.scale:0;"function"==typeof u[n]&&(c=u[n],u[n]=t),d&&(u.scale=d(v,e));var f,p,h,g,y,m,b,w,C,x=e._gsTransform,S=e.style,P=Te.length,k=u,O={},E="transformOrigin",T=Ve(e,o,!0,k.parseTransform),M=k.transform&&("function"==typeof k.transform?k.transform(v,_):k.transform);if(T.skewType=k.skewType||T.skewType||i.defaultSkewType,r._transform=T,M&&"string"==typeof M&&Me)(p=V.style)[Me]=M,p.display="block",p.position="absolute",-1!==M.indexOf("%")&&(p.width=te(e,"width"),p.height=te(e,"height")),z.body.appendChild(V),f=Ve(V,null,!1),"simple"===T.skewType&&(f.scaleY*=Math.cos(f.skewX*N)),T.svg&&(m=T.xOrigin,b=T.yOrigin,f.x-=T.xOffset,f.y-=T.yOffset,(k.transformOrigin||k.svgOrigin)&&(M={},Fe(e,ue(k.transformOrigin),M,k.svgOrigin,k.smoothOrigin,!0),m=M.xOrigin,b=M.yOrigin,f.x-=M.xOffset-T.xOffset,f.y-=M.yOffset-T.yOffset),(m||b)&&(w=Ue(V,!0),f.x-=m-(m*w[0]+b*w[2]),f.y-=b-(m*w[1]+b*w[3]))),z.body.removeChild(V),f.perspective||(f.perspective=T.perspective),null!=k.xPercent&&(f.xPercent=de(k.xPercent,T.xPercent)),null!=k.yPercent&&(f.yPercent=de(k.yPercent,T.yPercent));else if("object"==(void 0===k?"undefined":(0,l["default"])(k))){if(f={scaleX:de(null!=k.scaleX?k.scaleX:k.scale,T.scaleX),scaleY:de(null!=k.scaleY?k.scaleY:k.scale,T.scaleY),scaleZ:de(k.scaleZ,T.scaleZ),x:de(k.x,T.x),y:de(k.y,T.y),z:de(k.z,T.z),xPercent:de(k.xPercent,T.xPercent),yPercent:de(k.yPercent,T.yPercent),perspective:de(k.transformPerspective,T.perspective)},null!=(y=k.directionalRotation))if("object"==(void 0===y?"undefined":(0,l["default"])(y)))for(p in y)k[p]=y[p];else k.rotation=y;"string"==typeof k.x&&-1!==k.x.indexOf("%")&&(f.x=0,f.xPercent=de(k.x,T.xPercent)),"string"==typeof k.y&&-1!==k.y.indexOf("%")&&(f.y=0,f.yPercent=de(k.y,T.yPercent)),f.rotation=fe("rotation"in k?k.rotation:"shortRotation"in k?k.shortRotation+"_short":"rotationZ"in k?k.rotationZ:T.rotation,T.rotation,"rotation",O),je&&(f.rotationX=fe("rotationX"in k?k.rotationX:"shortRotationX"in k?k.shortRotationX+"_short":T.rotationX||0,T.rotationX,"rotationX",O),f.rotationY=fe("rotationY"in k?k.rotationY:"shortRotationY"in k?k.shortRotationY+"_short":T.rotationY||0,T.rotationY,"rotationY",O)),f.skewX=fe(k.skewX,T.skewX),f.skewY=fe(k.skewY,T.skewY)}for(je&&null!=k.force3D&&(T.force3D=k.force3D,g=!0),(h=T.force3D||T.z||T.rotationX||T.rotationY||f.z||f.rotationX||f.rotationY||f.perspective)||null==k.scale||(f.scaleZ=1);--P>-1;)((M=f[C=Te[P]]-T[C])>1e-6||-1e-6>M||null!=k[C]||null!=H[C])&&(g=!0,a=new we(T,C,T[C],M,a),C in O&&(a.e=O[C]),a.xs0=0,a.plugin=s,r._overwriteProps.push(a.n));return M=k.transformOrigin,T.svg&&(M||k.svgOrigin)&&(m=T.xOffset,b=T.yOffset,Fe(e,ue(M),f,k.svgOrigin,k.smoothOrigin),a=Ce(T,"xOrigin",(x?T:f).xOrigin,f.xOrigin,a,E),a=Ce(T,"yOrigin",(x?T:f).yOrigin,f.yOrigin,a,E),(m!==T.xOffset||b!==T.yOffset)&&(a=Ce(T,"xOffset",x?m:T.xOffset,T.xOffset,a,E),a=Ce(T,"yOffset",x?b:T.yOffset,T.yOffset,a,E)),M="0px 0px"),(M||je&&h&&T.zOrigin)&&(Me?(g=!0,C=Ae,M=(M||te(e,C,o,!1,"50% 50%"))+"",(a=new we(S,C,0,0,a,-1,E)).b=S[C],a.plugin=s,je?(p=T.zOrigin,M=M.split(" "),T.zOrigin=(M.length>2&&(0===p||"0px"!==M[2])?parseFloat(M[2]):p)||0,a.xs0=a.e=M[0]+" "+(M[1]||"50%")+" 0px",(a=new we(T,"zOrigin",0,0,a,-1,a.n)).b=p,a.xs0=a.e=T.zOrigin):a.xs0=a.e=M):ue(M+"",T)),g&&(r._transformType=T.svg&&Ee||!h&&3!==this._transformType?2:3),c&&(u[n]=c),d&&(u.scale=d),a},prefix:!0}),ke("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ke("borderRadius",{defaultValue:"0px",parser:function(e,t,n,a,i,s){t=this.format(t);var l,u,c,d,f,p,h,g,y,m,_,v,b,w,C,x,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],P=e.style;for(y=parseFloat(e.offsetWidth),m=parseFloat(e.offsetHeight),l=t.split(" "),u=0;u<S.length;u++)this.p.indexOf("border")&&(S[u]=Q(S[u])),-1!==(f=d=te(e,S[u],o,!1,"0px")).indexOf(" ")&&(d=f.split(" "),f=d[0],d=d[1]),p=c=l[u],h=parseFloat(f),v=f.substr((h+"").length),(b="="===p.charAt(1))?(g=parseInt(p.charAt(0)+"1",10),p=p.substr(2),g*=parseFloat(p),_=p.substr((g+"").length-(0>g?1:0))||""):(g=parseFloat(p),_=p.substr((g+"").length)),""===_&&(_=r[n]||v),_!==v&&(w=ne(e,"borderLeft",h,v),C=ne(e,"borderTop",h,v),"%"===_?(f=w/y*100+"%",d=C/m*100+"%"):"em"===_?(f=w/(x=ne(e,"borderLeft",1,"em"))+"em",d=C/x+"em"):(f=w+"px",d=C+"px"),b&&(p=parseFloat(f)+g+_,c=parseFloat(d)+g+_)),i=xe(P,S[u],f+" "+d,p+" "+c,!1,"0px",i);return i},prefix:!0,formatter:_e("0px 0px 0px 0px",!1,!0)}),ke("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,n,r,a,i){return xe(e.style,n,this.format(te(e,n,o,!1,"0px 0px")),this.format(t),!1,"0px",a)},prefix:!0,formatter:_e("0px 0px",!1,!0)}),ke("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,r,a,i){var s,l,u,c,d,f,p="background-position",h=o||ee(e,null),g=this.format((h?m?h.getPropertyValue(p+"-x")+" "+h.getPropertyValue(p+"-y"):h.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),y=this.format(t);if(-1!==g.indexOf("%")!=(-1!==y.indexOf("%"))&&y.split(",").length<2&&((f=te(e,"backgroundImage").replace(D,""))&&"none"!==f)){for(s=g.split(" "),l=y.split(" "),K.setAttribute("src",f),u=2;--u>-1;)(c=-1!==(g=s[u]).indexOf("%"))!==(-1!==l[u].indexOf("%"))&&(d=0===u?e.offsetWidth-K.width:e.offsetHeight-K.height,s[u]=c?parseFloat(g)/100*d+"px":parseFloat(g)/d*100+"%");g=s.join(" ")}return this.parseComplex(e.style,g,y,a,i)},formatter:ue}),ke("backgroundSize",{defaultValue:"0 0",formatter:function(e){return"co"===(e+="").substr(0,2)?e:ue(-1===e.indexOf(" ")?e+" "+e:e)}}),ke("perspective",{defaultValue:"0px",prefix:!0}),ke("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ke("transformStyle",{prefix:!0}),ke("backfaceVisibility",{prefix:!0}),ke("userSelect",{prefix:!0}),ke("margin",{parser:ve("marginTop,marginRight,marginBottom,marginLeft")}),ke("padding",{parser:ve("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ke("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,r,a,i){var s,l,u;return 9>m?(l=e.currentStyle,u=8>m?" ":",",s="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",t=this.format(t).split(",").join(u)):(s=this.format(te(e,this.p,o,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,a,i)}}),ke("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ke("autoRound,strictUnits",{parser:function(e,t,n,r,o){return o}}),ke("border",{defaultValue:"0px solid #000",parser:function(e,t,n,r,a,i){var s=te(e,"borderTopWidth",o,!1,"0px"),l=this.format(t).split(" "),u=l[0].replace(S,"");return"px"!==u&&(s=parseFloat(s)/ne(e,"borderTopWidth",1,u)+u),this.parseComplex(e.style,this.format(s+" "+te(e,"borderTopStyle",o,!1,"solid")+" "+te(e,"borderTopColor",o,!1,"#000")),l.join(" "),a,i)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(me)||["#000"])[0]}}),ke("borderWidth",{parser:ve("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ke("float,cssFloat,styleFloat",{parser:function(e,t,n,r,o,a){var i=e.style,s="cssFloat"in i?"cssFloat":"styleFloat";return new we(i,s,0,0,o,-1,n,!1,0,i[s],t)}});var qe=function(e){var t,n=this.t,r=n.filter||te(this.data,"filter")||"",o=this.s+this.c*e|0;100===o&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(n.removeAttribute("filter"),t=!te(this.data,"filter")):(n.filter=r.replace(O,""),t=!0)),t||(this.xn1&&(n.filter=r=r||"alpha(opacity="+o+")"),-1===r.indexOf("pacity")?0===o&&this.xn1||(n.filter=r+" alpha(opacity="+o+")"):n.filter=r.replace(P,"opacity="+o))};ke("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,r,a,i){var s=parseFloat(te(e,"opacity",o,!1,"1")),l=e.style,u="autoAlpha"===n;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),u&&1===s&&"hidden"===te(e,"visibility",o)&&0!==t&&(s=0),W?a=new we(l,"opacity",s,t-s,a):((a=new we(l,"opacity",100*s,100*(t-s),a)).xn1=u?1:0,l.zoom=1,a.type=2,a.b="alpha(opacity="+a.s+")",a.e="alpha(opacity="+(a.s+a.c)+")",a.data=e,a.plugin=i,a.setRatio=qe),u&&((a=new we(l,"visibility",0,0,a,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(a.n),r._overwriteProps.push(n)),a}});var We=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(T,"-$1").toLowerCase())):e.removeAttribute(t))},Ye=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:We(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ke("className",{parser:function(e,t,r,a,i,s,l){var u,c,d,f,p,h=e.getAttribute("class")||"",g=e.style.cssText;if((i=a._classNamePT=new we(e,r,0,0,i,2)).setRatio=Ye,i.pr=-11,n=!0,i.b=h,c=oe(e,o),d=e._gsClassPT){for(f={},p=d.data;p;)f[p.p]=1,p=p._next;d.setRatio(1)}return e._gsClassPT=i,i.e="="!==t.charAt(1)?t:h.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",i.e),u=ae(e,c,oe(e),l,f),e.setAttribute("class",h),i.data=u.firstMPT,e.style.cssText=g,i.xfirst=a.parse(e,u.difs,i,s)}});var Xe=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,r,o,a,i=this.t.style,s=u.transform.parse;if("all"===this.e)i.cssText="",o=!0;else for(r=(t=this.e.split(" ").join("").split(",")).length;--r>-1;)n=t[r],u[n]&&(u[n].parse===s?o=!0:n="transformOrigin"===n?Ae:u[n].p),We(i,n);o&&(We(i,Me),(a=this.t._gsTransform)&&(a.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(ke("clearProps",{parser:function(e,t,r,o,a){return(a=new we(e,r,0,0,a,2)).setRatio=Xe,a.e=t,a.pr=-10,a.data=o._tween,n=!0,a}}),c="bezier,throwProps,physicsProps,physics2D".split(","),Se=c.length;Se--;)Oe(c[Se]);(c=i.prototype)._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(e,t,s,l){if(!e.nodeType)return!1;this._target=_=e,this._tween=s,this._vars=t,v=l,f=t.autoRound,n=!1,r=t.suffixMap||i.suffixMap,o=ee(e,""),a=this._overwriteProps;var c,d,g,m,b,w,C,x,S,P=e.style;if(p&&""===P.zIndex&&(("auto"===(c=te(e,"zIndex",o))||""===c)&&this._addLazySet(P,"zIndex",0)),"string"==typeof t&&(m=P.cssText,c=oe(e,o),P.cssText=m+";"+t,c=ae(e,c,oe(e)).difs,!W&&k.test(t)&&(c.opacity=parseFloat(RegExp.$1)),t=c,P.cssText=m),t.className?this._firstPT=d=u.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=d=this.parse(e,t,null),this._transformType){for(S=3===this._transformType,Me?h&&(p=!0,""===P.zIndex&&(("auto"===(C=te(e,"zIndex",o))||""===C)&&this._addLazySet(P,"zIndex",0)),y&&this._addLazySet(P,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(S?"visible":"hidden"))):P.zoom=1,g=d;g&&g._next;)g=g._next;x=new we(e,"transform",0,0,null,2),this._linkCSSP(x,null,g),x.setRatio=Me?Ge:Ke,x.data=this._transform||Ve(e,o,!0),x.tween=s,x.pr=-1,a.pop()}if(n){for(;d;){for(w=d._next,g=m;g&&g.pr>d.pr;)g=g._next;(d._prev=g?g._prev:b)?d._prev._next=d:m=d,(d._next=g)?g._prev=d:b=d,d=w}this._firstPT=m}return!0},c.parse=function(e,t,n,a){var i,s,l,c,d,p,h,g,y,m,b=e.style;for(i in t){if("function"==typeof(p=t[i])&&(p=p(v,_)),s=u[i])n=s.parse(e,p,i,this,n,a,t);else{if("--"===i.substr(0,2)){this._tween._propLookup[i]=this._addTween.call(this._tween,e.style,"setProperty",ee(e).getPropertyValue(i)+"",p+"",i,!1,i);continue}d=te(e,i,o)+"",y="string"==typeof p,"color"===i||"fill"===i||"stroke"===i||-1!==i.indexOf("Color")||y&&E.test(p)?(y||(p=((p=ge(p)).length>3?"rgba(":"rgb(")+p.join(",")+")"),n=xe(b,i,d,p,!0,"transparent",n,0,a)):y&&B.test(p)?n=xe(b,i,d,p,!0,null,n,0,a):(h=(l=parseFloat(d))||0===l?d.substr((l+"").length):"",(""===d||"auto"===d)&&("width"===i||"height"===i?(l=le(e,i,o),h="px"):"left"===i||"top"===i?(l=re(e,i,o),h="px"):(l="opacity"!==i?0:1,h="")),(m=y&&"="===p.charAt(1))?(c=parseInt(p.charAt(0)+"1",10),p=p.substr(2),c*=parseFloat(p),g=p.replace(S,"")):(c=parseFloat(p),g=y?p.replace(S,""):""),""===g&&(g=i in r?r[i]:h),p=c||0===c?(m?c+l:c)+g:t[i],h!==g&&(""!==g||"lineHeight"===i)&&(c||0===c)&&l&&(l=ne(e,i,l,h),"%"===g?(l/=ne(e,i,100,"%")/100,!0!==t.strictUnits&&(d=l+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?l/=ne(e,i,1,g):"px"!==g&&(c=ne(e,i,c,g),g="px"),m&&(c||0===c)&&(p=c+l+g)),m&&(c+=l),!l&&0!==l||!c&&0!==c?void 0!==b[i]&&(p||p+""!="NaN"&&null!=p)?(n=new we(b,i,c||l||0,0,n,-1,i,!1,0,d,p)).xs0="none"!==p||"display"!==i&&-1===i.indexOf("Style")?p:d:X("invalid "+i+" tween value: "+t[i]):(n=new we(b,i,l,c-l,n,0,i,!1!==f&&("px"===g||"zIndex"===i),0,d,p)).xs0=g)}a&&n&&!n.plugin&&(n.plugin=a)}return n},c.setRatio=function(e){var t,n,r,o=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;o;){if(t=o.c*e+o.s,o.r?t=o.r(t):1e-6>t&&t>-1e-6&&(t=0),o.type)if(1===o.type)if(2===(r=o.l))o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2;else if(3===r)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3;else if(4===r)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4;else if(5===r)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4+o.xn4+o.xs5;else{for(n=o.xs0+t+o.xs1,r=1;r<o.l;r++)n+=o["xn"+r]+o["xs"+(r+1)];o.t[o.p]=n}else-1===o.type?o.t[o.p]=o.xs0:o.setRatio&&o.setRatio(e);else o.t[o.p]=t+o.xs0;o=o._next}else for(;o;)2!==o.type?o.t[o.p]=o.b:o.setRatio(e),o=o._next;else for(;o;){if(2!==o.type)if(o.r&&-1!==o.type)if(t=o.r(o.s+o.c),o.type){if(1===o.type){for(r=o.l,n=o.xs0+t+o.xs1,r=1;r<o.l;r++)n+=o["xn"+r]+o["xs"+(r+1)];o.t[o.p]=n}}else o.t[o.p]=t+o.xs0;else o.t[o.p]=o.e;else o.setRatio(e);o=o._next}},c._enableTransforms=function(e){this._transform=this._transform||Ve(this._target,o,!0),this._transformType=this._transform.svg&&Ee||!e&&3!==this._transformType?2:3};var Ze=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(e,t,n){var r=this._firstPT=new we(e,t,0,0,this._firstPT,2);r.e=n,r.setRatio=Ze,r.data=this},c._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,r=!0),n?n._next=e:r||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},c._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&(t.r=e[t.p]),t=t._next},c._kill=function(t){var n,r,o,a=t;if(t.autoAlpha||t.alpha){for(r in a={},t)a[r]=t[r];a.opacity=1,a.autoAlpha&&(a.visibility=1)}for(t.className&&(n=this._classNamePT)&&((o=n.xfirst)&&o._prev?this._linkCSSP(o._prev,n._next,o._prev._prev):o===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,o._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==r&&n.plugin._kill&&(n.plugin._kill(t),r=n.plugin),n=n._next;return e.prototype._kill.call(this,a)};var Je=function tt(e,t,n){var r,o,a,i;if(e.slice)for(o=e.length;--o>-1;)tt(e[o],t,n);else for(o=(r=e.childNodes).length;--o>-1;)i=(a=r[o]).type,a.style&&(t.push(oe(a)),n&&n.push(a)),1!==i&&9!==i&&11!==i||!a.childNodes.length||tt(a,t,n)};return i.cascadeTo=function(e,n,r){var o,a,i,s,l=t.to(e,n,r),u=[l],c=[],d=[],f=[],p=t._internals.reservedProps;for(e=l._targets||l.target,Je(e,c,f),l.render(n,!0,!0),Je(e,d),l.render(0,!0,!0),l._enabled(!0),o=f.length;--o>-1;)if((a=ae(f[o],c[o],d[o])).firstMPT){for(i in a=a.difs,r)p[i]&&(a[i]=r[i]);for(i in s={},a)s[i]=c[o][i];u.push(t.fromTo(f[o],n,s,a))}return u},e.activate([i]),i},!0),function(){var e=d._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(e,t,n){return this._tween=n,!0}}),t=function(e){var t=1>e?Math.pow(10,(e+"").length-2):1;return function(n){return(Math.round(n/e)*e*t|0)/t}},n=function(e,t){for(;e;)e.f||e.blob||(e.m=t||Math.round),e=e._next},r=e.prototype;r._onInitAllProps=function(){var e,r,o,a,i=this._tween,s=i.vars.roundProps,u={},c=i._propLookup.roundProps;if("object"!=(void 0===s?"undefined":(0,l["default"])(s))||s.push)for("string"==typeof s&&(s=s.split(",")),o=s.length;--o>-1;)u[s[o]]=Math.round;else for(a in s)u[a]=t(s[a]);for(a in u)for(e=i._firstPT;e;)r=e._next,e.pg?e.t._mod(u):e.n===a&&(2===e.f&&e.t?n(e.t._firstPT,u[a]):(this._add(e.t,a,e.s,e.c,u[a]),r&&(r._prev=e._prev),e._prev?e._prev._next=r:i._firstPT===e&&(i._firstPT=r),e._next=e._prev=null,i._propLookup[a]=c)),e=r;return!1},r._add=function(e,t,n,r,o){this._addTween(e,t,n,n+r,t,o||Math.round),this._overwriteProps.push(t)}}(),d._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(e,t,n,r){var o,a;if("function"!=typeof e.setAttribute)return!1;for(o in t)"function"==typeof(a=t[o])&&(a=a(r,e)),this._addTween(e,"setAttribute",e.getAttribute(o)+"",a+"",o,!1,o),this._overwriteProps.push(o);return!0}}),d._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(e,t,n,r){"object"!=(void 0===t?"undefined":(0,l["default"])(t))&&(t={rotation:t}),this.finals={};var o,a,i,s,u,c,d=!0===t.useRadians?2*Math.PI:360;for(o in t)"useRadians"!==o&&("function"==typeof(s=t[o])&&(s=s(r,e)),a=(c=(s+"").split("_"))[0],i=parseFloat("function"!=typeof e[o]?e[o]:e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]()),u=(s=this.finals[o]="string"==typeof a&&"="===a.charAt(1)?i+parseInt(a.charAt(0)+"1",10)*Number(a.substr(2)):Number(a)||0)-i,c.length&&(-1!==(a=c.join("_")).indexOf("short")&&((u%=d)!==u%(d/2)&&(u=0>u?u+d:u-d)),-1!==a.indexOf("_cw")&&0>u?u=(u+9999999999*d)%d-(u/d|0)*d:-1!==a.indexOf("ccw")&&u>0&&(u=(u-9999999999*d)%d-(u/d|0)*d)),(u>1e-6||-1e-6>u)&&(this._addTween(e,o,i,i+u,o),this._overwriteProps.push(o)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,d._gsDefine("easing.Back",["easing.Ease"],function(e){var t,n,r,o,a=d.GreenSockGlobals||d,i=a.com.greensock,s=2*Math.PI,l=Math.PI/2,u=i._class,c=function(t,n){var r=u("easing."+t,function(){},!0),o=r.prototype=new e;return o.constructor=r,o.getRatio=n,r},f=e.register||function(){},p=function(e,t,n,r,o){var a=u("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return f(a,e),a},h=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},g=function(t,n){var r=u("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),o=r.prototype=new e;return o.constructor=r,o.getRatio=n,o.config=function(e){return new r(e)},r},y=p("Back",g("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),g("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),g("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),m=u("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),_=m.prototype=new e;return _.constructor=m,_.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),_.config=m.config=function(e,t,n){return new m(e,t,n)},(_=(t=u("easing.SteppedEase",function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0},!0)).prototype=new e).constructor=t,_.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},_.config=t.config=function(e,n){return new t(e,n)},(_=(n=u("easing.ExpoScaleEase",function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n},!0)).prototype=new e).constructor=n,_.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},_.config=n.config=function(e,t,r){return new n(e,t,r)},(_=(r=u("easing.RoughEase",function(t){for(var n,r,o,a,i,s,l=(t=t||{}).taper||"none",u=[],c=0,d=0|(t.points||20),f=d,p=!1!==t.randomize,g=!0===t.clamp,y=t.template instanceof e?t.template:null,m="number"==typeof t.strength?.4*t.strength:.4;--f>-1;)n=p?Math.random():1/d*f,r=y?y.getRatio(n):n,"none"===l?o=m:"out"===l?o=(a=1-n)*a*m:"in"===l?o=n*n*m:.5>n?o=(a=2*n)*a*.5*m:o=(a=2*(1-n))*a*.5*m,p?r+=Math.random()*o-.5*o:f%2?r+=.5*o:r-=.5*o,g&&(r>1?r=1:0>r&&(r=0)),u[c++]={x:n,y:r};for(u.sort(function(e,t){return e.x-t.x}),s=new h(1,1,null),f=d;--f>-1;)i=u[f],s=new h(i.x,i.y,s);this._prev=new h(0,0,0!==s.t?s:s.next)},!0)).prototype=new e).constructor=r,_.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},_.config=function(e){return new r(e)},r.ease=new r,p("Bounce",c("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),c("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),c("BounceInOut",function(e){var t=.5>e;return e=1/2.75>(e=t?1-2*e:2*e-1)?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),p("Circ",c("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),c("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),c("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),p("Elastic",(o=function(t,n,r){var o=u("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||r)/(1>e?e:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),a=o.prototype=new e;return a.constructor=o,a.getRatio=n,a.config=function(e,t){return new o(e,t)},o})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),o("ElasticIn",function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)},.3),o("ElasticInOut",function(e){return(e*=2)<1?this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),p("Expo",c("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),c("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),c("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),p("Sine",c("SineOut",function(e){return Math.sin(e*l)}),c("SineIn",function(e){return 1-Math.cos(e*l)}),c("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),u("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),f(a.SlowMo,"SlowMo","ease,"),f(r,"RoughEase","ease,"),f(t,"SteppedEase","ease,"),y},!0)}),d._gsDefine&&d._gsQueue.pop()(),function(r,a){var i={},s=r.document,u=r.GreenSockGlobals=r.GreenSockGlobals||r,c=u[a];if(c)return void 0!==e&&e.exports&&(e.exports=c),c;var d,f,p,h,g,y=function(e){var t,n=e.split("."),r=u;for(t=0;t<n.length;t++)r[n[t]]=r=r[n[t]]||{};return r},m=y("com.greensock"),_=1e-10,v=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},b=function(){},w=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==(void 0===n?"undefined":(0,l["default"])(n))&&!!n.push&&e.call(n)===t)}}(),C={},x=function se(r,s,l,c){this.sc=C[r]?C[r].sc:[],C[r]=this,this.gsClass=null,this.func=l;var d=[];this.check=function(f){for(var p,h,g,m,_=s.length,v=_;--_>-1;)(p=C[s[_]]||new se(s[_],[])).gsClass?(d[_]=p.gsClass,v--):f&&p.sc.push(this);if(0===v&&l){if(g=(h=("com.greensock."+r).split(".")).pop(),m=y(h.join("."))[g]=this.gsClass=l.apply(l,d),c)if(u[g]=i[g]=m,void 0!==e&&e.exports)if(r===a)for(_ in e.exports=i[a]=m,i)m[_]=i[_];else i[a]&&(i[a][g]=m);else n(379)&&((o=function(){return m}.apply(t,[]))===undefined||(e.exports=o));for(_=0;_<this.sc.length;_++)this.sc[_].check()}},this.check(!0)},S=r._gsDefine=function(e,t,n,r){return new x(e,t,n,r)},P=m._class=function(e,t,n){return t=t||function(){},S(e,[],function(){return t},n),t};S.globals=u;var k=[0,0,1,1],O=P("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?k.concat(t):k},!0),E=O.map={},T=O.register=function(e,t,n,r){for(var o,a,i,s,l=t.split(","),u=l.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(a=l[u],o=r?P("easing."+a,null,!0):m.easing[a]||{},i=c.length;--i>-1;)s=c[i],E[a+"."+s]=E[s+a]=o[s]=e.getRatio?e:e[s]||new e};for((p=O.prototype)._calcEnd=!1,p.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:.5>e?r/2:1-r/2},f=(d=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--f>-1;)p=d[f]+",Power"+f,T(new O(null,null,1,f),p,"easeOut",!0),T(new O(null,null,2,f),p,"easeIn"+(0===f?",easeNone":"")),T(new O(null,null,3,f),p,"easeInOut");E.linear=m.easing.Linear.easeIn,E.swing=m.easing.Quad.easeInOut;var M=P("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(p=M.prototype).addEventListener=function(e,t,n,r,o){o=o||0;var a,i,s=this._listeners[e],l=0;for(this!==h||g||h.wake(),null==s&&(this._listeners[e]=s=[]),i=s.length;--i>-1;)(a=s[i]).c===t&&a.s===n?s.splice(i,1):0===l&&a.pr<o&&(l=i+1);s.splice(l,0,{c:t,s:n,up:r,pr:o})},p.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return void r.splice(n,1)},p.dispatchEvent=function(e){var t,n,r,o=this._listeners[e];if(o)for((t=o.length)>1&&(o=o.slice(0)),n=this._eventTarget;--t>-1;)(r=o[t])&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var D=r.requestAnimationFrame,A=r.cancelAnimationFrame,j=Date.now||function(){return(new Date).getTime()},I=j();for(f=(d=["ms","moz","webkit","o"]).length;--f>-1&&!D;)D=r[d[f]+"RequestAnimationFrame"],A=r[d[f]+"CancelAnimationFrame"]||r[d[f]+"CancelRequestAnimationFrame"];P("Ticker",function(e,t){var n,r,o,a,i,l=this,u=j(),c=!(!1===t||!D)&&"auto",d=500,f=33,p=function y(e){var t,s,c=j()-I;c>d&&(u+=c-f),I+=c,l.time=(I-u)/1e3,t=l.time-i,(!n||t>0||!0===e)&&(l.frame++,i+=t+(t>=a?.004:a-t),s=!0),!0!==e&&(o=r(y)),s&&l.dispatchEvent("tick")};M.call(l),l.time=l.frame=0,l.tick=function(){p(!0)},l.lagSmoothing=function(e,t){return arguments.length?(d=e||1/_,void(f=Math.min(t,d,0))):1/_>d},l.sleep=function(){null!=o&&(c&&A?A(o):clearTimeout(o),r=b,o=null,l===h&&(g=!1))},l.wake=function(e){null!==o?l.sleep():e?u+=-I+(I=j()):l.frame>10&&(I=j()-d+5),r=0===n?b:c&&D?D:function(e){return setTimeout(e,1e3*(i-l.time)+1|0)},l===h&&(g=!0),p(2)},l.fps=function(e){return arguments.length?(a=1/((n=e)||60),i=this.time+a,void l.wake()):n},l.useRAF=function(e){return arguments.length?(l.sleep(),c=e,void l.fps(n)):c},l.fps(e),setTimeout(function(){"auto"===c&&l.frame<5&&"hidden"!==(s||{}).visibilityState&&l.useRAF(!1)},1500)}),(p=m.Ticker.prototype=new m.events.EventDispatcher).constructor=m.Ticker;var L=P("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,Q){g||h.wake();var n=this.vars.useFrames?J:Q;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});h=L.ticker=new m.Ticker,(p=L.prototype)._dirty=p._gc=p._initted=p._paused=!1,p._totalTime=p._time=0,p._rawPrevTime=-1,p._next=p._last=p._onUpdate=p._timeline=p.timeline=null,p._paused=!1;(function le(){g&&j()-I>2e3&&("hidden"!==(s||{}).visibilityState||!h.lagSmoothing())&&h.wake();var e=setTimeout(le,2e3);e.unref&&e.unref()})(),p.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},p.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},p.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},p.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},p.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},p.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},p.render=function(e,t,n){},p.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},p.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},p._enabled=function(e,t){return g||h.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},p._kill=function(e,t){return this._enabled(!1,!1)},p.kill=function(e,t){return this._kill(e,t),this},p._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},p._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},p._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],o=t[e+"Scope"]||t.callbackScope||this;switch(r?r.length:0){case 0:n.call(o);break;case 1:n.call(o,r[0]);break;case 2:n.call(o,r[0],r[1]);break;default:n.apply(o,r)}},p.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[e];null==t?delete o[e]:(o[e]=t,o[e+"Params"]=w(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,o[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},p.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},p.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},p.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},p.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},p.totalTime=function(e,t,n){if(g||h.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,o=this._timeline;if(e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?r-e:e)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(F.length&&te(),this.render(e,t,!1),F.length&&te())}return this},p.progress=p.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},p.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},p.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},p.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||_,this._timeline&&this._timeline.smoothChildTiming&&(n=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},p.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},p.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(g||e||h.wake(),n=(t=r.rawTime())-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var R=P("core.SimpleTimeline",function(e){L.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(p=R.prototype=new L).constructor=R,p.kill()._gc=!1,p._first=p._last=p._recent=null,p._sortChildren=!1,p.add=p.insert=function(e,t,n,r){var o,a;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),o=this._last,this._sortChildren)for(a=e._startTime;o&&o._startTime>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=o,this._recent=e,this._timeline&&this._uncache(!0),this},p._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},p.render=function(e,t,n){var r,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;o;)r=o._next,(o._active||e>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,n):o.render((e-o._startTime)*o._timeScale,t,n)),o=r},p.rawTime=function(){return g||h.wake(),this._totalTime};var B=P("TweenLite",function(e,t,n){if(L.call(this,t,n),this.render=B.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:B.selector(e)||e;var o,a,i,s=e.jquery||e.length&&e!==r&&e[0]&&(e[0]===r||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?Z[B.defaultOverwrite]:"number"==typeof l?l>>0:Z[l],(s||e instanceof Array||e.push&&w(e))&&"number"!=typeof e[0])for(this._targets=i=v(e),this._propLookup=[],this._siblings=[],o=0;o<i.length;o++)(a=i[o])?"string"!=typeof a?a.length&&a!==r&&a[0]&&(a[0]===r||a[0].nodeType&&a[0].style&&!a.nodeType)?(i.splice(o--,1),this._targets=i=i.concat(v(a))):(this._siblings[o]=ne(a,this,!1),1===l&&this._siblings[o].length>1&&oe(a,this,null,1,this._siblings[o])):"string"==typeof(a=i[o--]=B.selector(a))&&i.splice(o+1,1):i.splice(o--,1);else this._propLookup={},this._siblings=ne(e,this,!1),1===l&&this._siblings.length>1&&oe(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-_,this.render(Math.min(0,-this._delay)))},!0),N=function(e){return e&&e.length&&e!==r&&e[0]&&(e[0]===r||e[0].nodeType&&e[0].style&&!e.nodeType)};(p=B.prototype=new L).constructor=B,p.kill()._gc=!1,p.ratio=0,p._firstPT=p._targets=p._overwrittenProps=p._startAt=null,p._notifyPluginsOfEnabled=p._lazy=!1,B.version="2.0.1",B.defaultEase=p._ease=new O(null,null,1,1),B.defaultOverwrite="auto",B.ticker=h,B.autoSleep=120,B.lagSmoothing=function(e,t){h.lagSmoothing(e,t)},B.selector=r.$||r.jQuery||function(e){var t=r.$||r.jQuery;return t?(B.selector=t,t(e)):(s||(s=r.document),s?s.querySelectorAll?s.querySelectorAll(e):s.getElementById("#"===e.charAt(0)?e.substr(1):e):e)};var F=[],H={},$=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=/[\+-]=-?[\.\d]/,U=function(e){for(var t,n=this._firstPT;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m.call(this._tween,t,this._target||n.t,this._tween):1e-6>t&&t>-1e-6&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},V=function(e,t,n,r){var o,a,i,s,l,u,c,d=[],f=0,p="",h=0;for(d.start=e,d.end=t,e=d[0]=e+"",t=d[1]=t+"",n&&(n(d),e=d[0],t=d[1]),d.length=0,o=e.match($)||[],a=t.match($)||[],r&&(r._next=null,r.blob=1,d._firstPT=d._applyPT=r),l=a.length,s=0;l>s;s++)c=a[s],p+=(u=t.substr(f,t.indexOf(c,f)-f))||!s?u:",",f+=u.length,h?h=(h+1)%5:"rgba("===u.substr(-5)&&(h=1),c===o[s]||o.length<=s?p+=c:(p&&(d.push(p),p=""),i=parseFloat(o[s]),d.push(i),d._firstPT={_next:d._firstPT,t:d,p:d.length-1,s:i,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-i)||0,f:0,m:h&&4>h?Math.round:0}),f+=c.length;return(p+=t.substr(f))&&d.push(p),d.setRatio=U,z.test(t)&&(d.end=null),d},K=function(e,t,n,r,o,a,i,s,u){"function"==typeof r&&(r=r(u||0,e));var c=(0,l["default"])(e[t]),d="function"!==c?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),f="get"!==n?n:d?i?e[d](i):e[d]():e[t],p="string"==typeof r&&"="===r.charAt(1),h={t:e,p:t,s:f,f:"function"===c,pg:0,n:o||t,m:a?"function"==typeof a?a:Math.round:0,pr:0,c:p?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-f||0};return("number"!=typeof f||"number"!=typeof r&&!p)&&(i||isNaN(f)||!p&&isNaN(r)||"boolean"==typeof f||"boolean"==typeof r?(h.fp=i,h={t:V(f,p?parseFloat(h.s)+h.c+(h.s+"").replace(/[0-9\-\.]/g,""):r,s||B.defaultStringFilter,h),p:"setRatio",s:0,c:1,f:2,pg:0,n:o||t,pr:0,m:0}):(h.s=parseFloat(f),p||(h.c=parseFloat(r)-h.s||0))),h.c?((h._next=this._firstPT)&&(h._next._prev=h),this._firstPT=h,h):void 0},G=B._internals={isArray:w,isSelector:N,lazyTweens:F,blobDif:V},q=B._plugins={},W=G.tweenLookup={},Y=0,X=G.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Z={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},J=L._rootFramesTimeline=new R,Q=L._rootTimeline=new R,ee=30,te=G.lazyRender=function(){var e,t=F.length;for(H={};--t>-1;)(e=F[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);F.length=0};Q._startTime=h.time,J._startTime=h.frame,Q._active=J._active=!0,setTimeout(te,1),L._updateRoot=B.render=function(){var e,t,n;if(F.length&&te(),Q.render((h.time-Q._startTime)*Q._timeScale,!1,!1),J.render((h.frame-J._startTime)*J._timeScale,!1,!1),F.length&&te(),h.frame>=ee){for(n in ee=h.frame+(parseInt(B.autoSleep,10)||120),W){for(e=(t=W[n].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete W[n]}if((!(n=Q._first)||n._paused)&&B.autoSleep&&!J._first&&1===h._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||h.sleep()}}},h.addEventListener("tick",L._updateRoot);var ne=function(e,t,n){var r,o,a=e._gsTweenID;if(W[a||(e._gsTweenID=a="t"+Y++)]||(W[a]={target:e,tweens:[]}),t&&((r=W[a].tweens)[o=r.length]=t,n))for(;--o>-1;)r[o]===t&&r.splice(o,1);return W[a].tweens},re=function(e,t,n,r){var o,a,i=e.vars.onOverwrite;return i&&(o=i(e,t,n,r)),(i=B.onOverwrite)&&(a=i(e,t,n,r)),!1!==o&&!1!==a},oe=function(e,t,n,r,o){var a,i,s,l;if(1===r||r>=4){for(l=o.length,a=0;l>a;a++)if((s=o[a])!==t)s._gc||s._kill(null,e,t)&&(i=!0);else if(5===r)break;return i}var u,c=t._startTime+_,d=[],f=0,p=0===t._duration;for(a=o.length;--a>-1;)(s=o[a])===t||s._gc||s._paused||(s._timeline!==t._timeline?(u=u||ae(t,0,p),0===ae(s,u,p)&&(d[f++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((p||!s._initted)&&c-s._startTime<=2e-10||(d[f++]=s)));for(a=f;--a>-1;)if(s=d[a],2===r&&s._kill(n,e,t)&&(i=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!re(s,t))continue;s._enabled(!1,!1)&&(i=!0)}return i},ae=function(e,t,n){for(var r=e._timeline,o=r._timeScale,a=e._startTime;r._timeline;){if(a+=r._startTime,o*=r._timeScale,r._paused)return-100;r=r._timeline}return(a/=o)>t?a-t:n&&a===t||!e._initted&&2*_>a-t?_:(a+=e.totalDuration()/e._timeScale/o)>t+_?0:a-t-_};p._init=function(){var e,t,n,r,o,a,i=this.vars,s=this._overwrittenProps,l=this._duration,u=!!i.immediateRender,c=i.ease;if(i.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={},i.startAt)o[r]=i.startAt[r];if(o.data="isStart",o.overwrite=!1,o.immediateRender=!0,o.lazy=u&&!1!==i.lazy,o.startAt=o.delay=null,o.onUpdate=i.onUpdate,o.onUpdateParams=i.onUpdateParams,o.onUpdateScope=i.onUpdateScope||i.callbackScope||this,this._startAt=B.to(this.target||{},0,o),u)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(i.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in 0!==this._time&&(u=!1),n={},i)X[r]&&"autoCSS"!==r||(n[r]=i[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=u&&!1!==i.lazy,n.immediateRender=u,this._startAt=B.to(this.target,0,n),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof O?c:"function"==typeof c?new O(c,i.easeParams):E[c]||B.defaultEase:B.defaultEase,i.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,i.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,e=0;a>e;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&B._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),i.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=i.onUpdate,this._initted=!0},p._initProps=function(e,t,n,o,a){var i,s,l,u,c,d;if(null==e)return!1;for(i in H[e._gsTweenID]&&te(),this.vars.css||e.style&&e!==r&&e.nodeType&&q.css&&!1!==this.vars.autoCSS&&function(e,t){var n,r={};for(n in e)X[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!q[n]||q[n]&&q[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r}(this.vars,e),this.vars)if(d=this.vars[i],X[i])d&&(d instanceof Array||d.push&&w(d))&&-1!==d.join("").indexOf("{self}")&&(this.vars[i]=d=this._swapSelfInParams(d,this));else if(q[i]&&(u=new q[i])._onInitTween(e,this.vars[i],this,a)){for(this._firstPT=c={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:i,pg:1,pr:u._priority,m:0},s=u._overwriteProps.length;--s>-1;)t[u._overwriteProps[s]]=this._firstPT;(u._priority||u._onInitAllProps)&&(l=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else t[i]=K.call(this,e,i,"get",d,i,0,null,this.vars.stringFilter,a);return o&&this._kill(o,e)?this._initProps(e,t,n,o,a):this._overwrite>1&&this._firstPT&&n.length>1&&oe(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,o,a)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(H[e._gsTweenID]=!0),l)},p.render=function(e,t,n){var r,o,a,i,s=this._time,l=this._duration,u=this._rawPrevTime;if(e>=l-1e-7&&e>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,o="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(0>u||0>=e&&e>=-1e-7||u===_&&"isPause"!==this.data)&&u!==e&&(n=!0,u>_&&(o="onReverseComplete")),this._rawPrevTime=i=!t||e||u===e?e:_);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&u>0)&&(o="onReverseComplete",r=this._reversed),0>e&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(u>=0&&(u!==_||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=i=!t||e||u===e?e:_)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var c=e/l,d=this._easeType,f=this._easePower;(1===d||3===d&&c>=.5)&&(c=1-c),3===d&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),this.ratio=1===d?1-c:2===d?c:.5>e/l?c/2:1-c/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=u,F.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/l):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,n):o||(o="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(0>e&&this._startAt&&-1e-4!==e&&this._startAt.render(e,!0,n),t||(this._time!==s||r||n)&&this._callback("onUpdate")),o&&(!this._gc||n)&&(0>e&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o),0===l&&this._rawPrevTime===_&&i!==_&&(this._rawPrevTime=0))}},p._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:B.selector(t)||t;var r,o,a,i,s,u,c,d,f,p=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((w(t)||N(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r],n)&&(u=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,o=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(c=e||s,d=e!==o&&"all"!==o&&e!==s&&("object"!=(void 0===e?"undefined":(0,l["default"])(e))||!e._tempKill),n&&(B.onOverwrite||this.vars.onOverwrite)){for(a in c)s[a]&&(f||(f=[]),f.push(a));if((f||!e)&&!re(this,n,t,f))return!1}for(a in c)(i=s[a])&&(p&&(i.f?i.t[i.p](i.s):i.t[i.p]=i.s,u=!0),i.pg&&i.t._kill(c)&&(u=!0),i.pg&&0!==i.t._overwriteProps.length||(i._prev?i._prev._next=i._next:i===this._firstPT&&(this._firstPT=i._next),i._next&&(i._next._prev=i._prev),i._next=i._prev=null),delete s[a]),d&&(o[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},p.invalidate=function(){return this._notifyPluginsOfEnabled&&B._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],L.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_,this.render(Math.min(0,-this._delay))),this},p._enabled=function(e,t){if(g||h.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=ne(r[n],this,!0);else this._siblings=ne(this.target,this,!0)}return L.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&B._onPluginEvent(e?"_onEnable":"_onDisable",this)},B.to=function(e,t,n){return new B(e,t,n)},B.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new B(e,t,n)},B.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new B(e,t,r)},B.delayedCall=function(e,t,n,r,o){return new B(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},B.set=function(e,t){return new B(e,0,t)},B.getTweensOf=function(e,t){if(null==e)return[];var n,r,o,a;if(e="string"!=typeof e?e:B.selector(e)||e,(w(e)||N(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];--n>-1;)r=r.concat(B.getTweensOf(e[n],t));for(n=r.length;--n>-1;)for(a=r[n],o=n;--o>-1;)a===r[o]&&r.splice(n,1)}else if(e._gsTweenID)for(n=(r=ne(e).concat()).length;--n>-1;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r||[]},B.killTweensOf=B.killDelayedCallsTo=function(e,t,n){"object"==(void 0===t?"undefined":(0,l["default"])(t))&&(n=t,t=!1);for(var r=B.getTweensOf(e,t),o=r.length;--o>-1;)r[o]._kill(n,e)};var ie=P("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ie.prototype},!0);if(p=ie.prototype,ie.version="1.19.0",ie.API=2,p._firstPT=null,p._addTween=K,p.setRatio=U,p._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},p._mod=p._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},B._onPluginEvent=function(e,t){var n,r,o,a,i,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(i=s._next,r=o;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:a)?s._prev._next=s:o=s,(s._next=r)?r._prev=s:a=s,s=i}s=t._firstPT=o}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},ie.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ie.API&&(q[(new e[t])._propName]=e[t]);return!0},S.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,o=e.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},i=P("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){ie.call(this,n,r),this._overwriteProps=o||[]},!0===e.global),s=i.prototype=new ie(n);for(t in s.constructor=i,i.API=e.API,a)"function"==typeof e[t]&&(s[a[t]]=e[t]);return i.version=e.version,ie.activate([i]),i},d=r._gsQueue){for(f=0;f<d.length;f++)d[f]();for(p in C)C[p].func||r.console.log("GSAP encountered missing dependency: "+p)}g=!1}(void 0!==e&&e.exports&&void 0!==r?r:undefined||window,"TweenMax"),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&u.register(d,"_gsScope","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/TweenMax.min.js"),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&c(e)}).call(this,n(7)(e),n(59))},function(e,t,n){"use strict";var r,o=l(n(144)),a=l(n(1661)),i=l(n(82)),s=l(n(335));function l(e){return e&&e.__esModule?e:{"default":e}}!function(l,u,c,d){function f(e,t,n){return setTimeout(m(e,n),t)}function p(e,t,n){return!!Array.isArray(e)&&(h(e,n[t],n),!0)}function h(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==d)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=l.console&&(l.console.warn||l.console.log);return o&&o.call(l.console,r,n),e.apply(this,arguments)}}function y(e,t,n){var r,o=t.prototype;(r=e.prototype=(0,s["default"])(o)).constructor=e,r._super=o,n&&se(r,n)}function m(e,t){return function(){return e.apply(t,arguments)}}function _(e,t){return(void 0===e?"undefined":(0,i["default"])(e))==ce?e.apply(t&&t[0]||d,t):e}function v(e,t){return e===d?t:e}function b(e,t,n){h(S(t),function(t){e.addEventListener(t,n,!1)})}function w(e,t,n){h(S(t),function(t){e.removeEventListener(t,n,!1)})}function C(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function x(e,t){return e.indexOf(t)>-1}function S(e){return e.trim().split(/\s+/g)}function P(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function k(e){return Array.prototype.slice.call(e,0)}function O(e,t,n){for(var r=[],o=[],a=0;a<e.length;){var i=t?e[a][t]:e[a];P(o,i)<0&&r.push(e[a]),o[a]=i,a++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function E(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),a=0;a<le.length;){if((r=(n=le[a])?n+o:t)in e)return r;a++}return d}function T(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||l}function M(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){_(e.options.enable,[e])&&n.handler(t)},this.init()}function D(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,a=t&xe&&r-o==0,i=t&(Pe|ke)&&r-o==0;n.isFirst=!!a,n.isFinal=!!i,a&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=j(t)),o>1&&!n.firstMultiple?n.firstMultiple=j(t):1===o&&(n.firstMultiple=!1);var a=n.firstInput,i=n.firstMultiple,s=i?i.center:a.center,l=t.center=I(r);t.timeStamp=pe(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=N(s,l),t.distance=B(s,l),function(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},a=e.prevInput||{};t.eventType!==xe&&a.eventType!==Pe||(o=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}(n,t),t.offsetDirection=R(t.deltaX,t.deltaY);var u=L(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=fe(u.x)>fe(u.y)?u.x:u.y,t.scale=i?function(e,t){return B(t[0],t[1],Re)/B(e[0],e[1],Re)}(i.pointers,r):1,t.rotation=i?function(e,t){return N(t[1],t[0],Re)+N(e[1],e[0],Re)}(i.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,A(n,t);var c=e.element;C(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function A(e,t){var n,r,o,a,i=e.lastInterval||t,s=t.timeStamp-i.timeStamp;if(t.eventType!=ke&&(s>Ce||i.velocity===d)){var l=t.deltaX-i.deltaX,u=t.deltaY-i.deltaY,c=L(s,l,u);r=c.x,o=c.y,n=fe(c.x)>fe(c.y)?c.x:c.y,a=R(l,u),e.lastInterval=t}else n=i.velocity,r=i.velocityX,o=i.velocityY,a=i.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=a}function j(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:de(e.pointers[n].clientX),clientY:de(e.pointers[n].clientY)},n++;return{timeStamp:pe(),pointers:t,center:I(t),deltaX:e.deltaX,deltaY:e.deltaY}}function I(e){var t=e.length;if(1===t)return{x:de(e[0].clientX),y:de(e[0].clientY)};for(var n=0,r=0,o=0;t>o;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:de(n/t),y:de(r/t)}}function L(e,t,n){return{x:t/e||0,y:n/e||0}}function R(e,t){return e===t?Oe:fe(e)>=fe(t)?0>e?Ee:Te:0>t?Me:De}function B(e,t,n){n||(n=Le);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function N(e,t,n){n||(n=Le);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}function F(){this.evEl=Ne,this.evWin=Fe,this.pressed=!1,M.apply(this,arguments)}function H(){this.evEl=ze,this.evWin=Ue,M.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function $(){this.evTarget=Ke,this.evWin=Ge,this.started=!1,M.apply(this,arguments)}function z(){this.evTarget=We,this.targetIds={},M.apply(this,arguments)}function U(){M.apply(this,arguments);var e=m(this.handler,this);this.touch=new z(this.manager,e),this.mouse=new F(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function V(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},Ye)}}function K(e,t){this.manager=e,this.set(t)}function G(e){this.options=se({},this.defaults,e||{}),this.id=ye++,this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=it,this.simultaneous={},this.requireFail=[]}function q(e){return e&dt?"cancel":e&ut?"end":e&lt?"move":e&st?"start":""}function W(e){return e==De?"down":e==Me?"up":e==Ee?"left":e==Te?"right":""}function Y(e,t){var n=t.manager;return n?n.get(e):e}function X(){G.apply(this,arguments)}function Z(){X.apply(this,arguments),this.pX=null,this.pY=null}function J(){X.apply(this,arguments)}function Q(){G.apply(this,arguments),this._timer=null,this._input=null}function ee(){X.apply(this,arguments)}function te(){X.apply(this,arguments)}function ne(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function re(e,t){return(t=t||{}).recognizers=v(t.recognizers,re.defaults.preset),new oe(e,t)}function oe(e,t){this.options=se({},re.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(_e?H:ve?z:me?U:F))(e,D)}(this),this.touchAction=new K(this,this.options.touchAction),ae(this,!0),h(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ae(e,t){var n,r=e.element;r.style&&(h(e.options.cssProps,function(o,a){n=E(r.style,a),t?(e.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}function ie(e,t){var n=u.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var se,le=["","webkit","Moz","MS","ms","o"],ue=u.createElement("div"),ce="function",de=Math.round,fe=Math.abs,pe=Date.now;se="function"!=typeof a["default"]?function(e){if(e===d||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==d&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:a["default"];var he=g(function(e,t,n){for(var r=(0,o["default"])(t),a=0;a<r.length;)(!n||n&&e[r[a]]===d)&&(e[r[a]]=t[r[a]]),a++;return e},"extend","Use `assign`."),ge=g(function(e,t){return he(e,t,!0)},"merge","Use `assign`."),ye=1,me="ontouchstart"in l,_e=E(l,"PointerEvent")!==d,ve=me&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),be="touch",we="mouse",Ce=25,xe=1,Se=2,Pe=4,ke=8,Oe=1,Ee=2,Te=4,Me=8,De=16,Ae=Ee|Te,je=Me|De,Ie=Ae|je,Le=["x","y"],Re=["clientX","clientY"];M.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(T(this.element),this.evWin,this.domHandler)}};var Be={mousedown:xe,mousemove:Se,mouseup:Pe},Ne="mousedown",Fe="mousemove mouseup";y(F,M,{handler:function(e){var t=Be[e.type];t&xe&&0===e.button&&(this.pressed=!0),t&Se&&1!==e.which&&(t=Pe),this.pressed&&(t&Pe&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:we,srcEvent:e}))}});var He={pointerdown:xe,pointermove:Se,pointerup:Pe,pointercancel:ke,pointerout:ke},$e={2:be,3:"pen",4:we,5:"kinect"},ze="pointerdown",Ue="pointermove pointerup pointercancel";l.MSPointerEvent&&!l.PointerEvent&&(ze="MSPointerDown",Ue="MSPointerMove MSPointerUp MSPointerCancel"),y(H,M,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=He[r],a=$e[e.pointerType]||e.pointerType,i=a==be,s=P(t,e.pointerId,"pointerId");o&xe&&(0===e.button||i)?0>s&&(t.push(e),s=t.length-1):o&(Pe|ke)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),n&&t.splice(s,1))}});var Ve={touchstart:xe,touchmove:Se,touchend:Pe,touchcancel:ke},Ke="touchstart",Ge="touchstart touchmove touchend touchcancel";y($,M,{handler:function(e){var t=Ve[e.type];if(t===xe&&(this.started=!0),this.started){var n=function(e,t){var n=k(e.touches),r=k(e.changedTouches);return t&(Pe|ke)&&(n=O(n.concat(r),"identifier",!0)),[n,r]}.call(this,e,t);t&(Pe|ke)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:be,srcEvent:e})}}});var qe={touchstart:xe,touchmove:Se,touchend:Pe,touchcancel:ke},We="touchstart touchmove touchend touchcancel";y(z,M,{handler:function(e){var t=qe[e.type],n=function(e,t){var n=k(e.touches),r=this.targetIds;if(t&(xe|Se)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,a,i=k(e.changedTouches),s=[],l=this.target;if(a=n.filter(function(e){return C(e.target,l)}),t===xe)for(o=0;o<a.length;)r[a[o].identifier]=!0,o++;for(o=0;o<i.length;)r[i[o].identifier]&&s.push(i[o]),t&(Pe|ke)&&delete r[i[o].identifier],o++;return s.length?[O(a.concat(s),"identifier",!0),s]:void 0}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:be,srcEvent:e})}});var Ye=2500,Xe=25;y(U,M,{handler:function(e,t,n){var r=n.pointerType==be,o=n.pointerType==we;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&xe?(this.primaryTouch=t.changedPointers[0].identifier,V.call(this,t)):e&(Pe|ke)&&V.call(this,t)}).call(this,t,n);else if(o&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],a=Math.abs(t-o.x),i=Math.abs(n-o.y);if(Xe>=a&&Xe>=i)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ze=E(ue.style,"touchAction"),Je=Ze!==d,Qe="compute",et="auto",tt="manipulation",nt="none",rt="pan-x",ot="pan-y",at=function(){if(!Je)return!1;var e={},t=l.CSS&&l.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||l.CSS.supports("touch-action",n)}),e}();K.prototype={set:function(e){e==Qe&&(e=this.compute()),Je&&this.manager.element.style&&at[e]&&(this.manager.element.style[Ze]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,function(t){_(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(x(e,nt))return nt;var t=x(e,rt),n=x(e,ot);return t&&n?nt:t||n?t?rt:ot:x(e,tt)?tt:et}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var r=this.actions,o=x(r,nt)&&!at[nt],a=x(r,ot)&&!at[ot],i=x(r,rt)&&!at[rt];if(o){var s=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(s&&l&&u)return}return i&&a?void 0:o||a&&n&Ae||i&&n&je?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var it=1,st=2,lt=4,ut=8,ct=ut,dt=16;G.prototype={defaults:{},set:function(e){return se(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(p(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Y(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return p(e,"dropRecognizeWith",this)?this:(e=Y(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(p(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=Y(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(p(e,"dropRequireFailure",this))return this;e=Y(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;ut>r&&t(n.options.event+q(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=ut&&t(n.options.event+q(r))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|it)))return!1;e++}return!0},recognize:function(e){var t=se({},e);return _(this.options.enable,[this,t])?(this.state&(ct|dt|32)&&(this.state=it),this.state=this.process(t),void(this.state&(st|lt|ut|dt)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(e){},getTouchAction:function(){},reset:function(){}},y(X,G,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(st|lt),o=this.attrTest(e);return r&&(n&ke||!o)?t|dt:r||o?n&Pe?t|ut:t&st?t|lt:st:32}}),y(Z,X,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ie},getTouchAction:function(){var e=this.options.direction,t=[];return e&Ae&&t.push(ot),e&je&&t.push(rt),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,a=e.deltaX,i=e.deltaY;return o&t.direction||(t.direction&Ae?(o=0===a?Oe:0>a?Ee:Te,n=a!=this.pX,r=Math.abs(e.deltaX)):(o=0===i?Oe:0>i?Me:De,n=i!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return X.prototype.attrTest.call(this,e)&&(this.state&st||!(this.state&st)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=W(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),y(J,X,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[nt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&st)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),y(Q,G,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[et]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(Pe|ke)&&!o)this.reset();else if(e.eventType&xe)this.reset(),this._timer=f(function(){this.state=ct,this.tryEmit()},t.time,this);else if(e.eventType&Pe)return ct;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ct&&(e&&e.eventType&Pe?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=pe(),this.manager.emit(this.options.event,this._input)))}}),y(ee,X,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[nt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&st)}}),y(te,X,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ae|je,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Ae|je)?t=e.overallVelocity:n&Ae?t=e.overallVelocityX:n&je&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&fe(t)>this.options.velocity&&e.eventType&Pe},emit:function(e){var t=W(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),y(ne,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[tt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&xe&&0===this.count)return this.failTimeout();if(r&&o&&n){if(e.eventType!=Pe)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,i=!this.pCenter||B(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,i&&a?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=ct,this.tryEmit()},t.interval,this),st):ct}return 32},failTimeout:function(){return this._timer=f(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ct&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),re.VERSION="2.0.8",re.defaults={domEvents:!1,touchAction:Qe,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[J,{enable:!1},["rotate"]],[te,{direction:Ae}],[Z,{direction:Ae},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[Q]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};oe.prototype={set:function(e){return se(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&ct)&&(o=t.curRecognizer=null);for(var a=0;a<r.length;)n=r[a],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&n.state&(st|lt|ut)&&(o=t.curRecognizer=n),a++}},get:function(e){if(e instanceof G)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(p(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(p(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=P(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==d&&t!==d){var n=this.handlers;return h(S(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==d){var n=this.handlers;return h(S(e),function(e){t?n[e]&&n[e].splice(P(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&ie(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},se(re,{INPUT_START:xe,INPUT_MOVE:Se,INPUT_END:Pe,INPUT_CANCEL:ke,STATE_POSSIBLE:it,STATE_BEGAN:st,STATE_CHANGED:lt,STATE_ENDED:ut,STATE_RECOGNIZED:ct,STATE_CANCELLED:dt,STATE_FAILED:32,DIRECTION_NONE:Oe,DIRECTION_LEFT:Ee,DIRECTION_RIGHT:Te,DIRECTION_UP:Me,DIRECTION_DOWN:De,DIRECTION_HORIZONTAL:Ae,DIRECTION_VERTICAL:je,DIRECTION_ALL:Ie,Manager:oe,Input:M,TouchAction:K,TouchInput:z,MouseInput:F,PointerEventInput:H,TouchMouseInput:U,SingleTouchInput:$,Recognizer:G,AttrRecognizer:X,Tap:ne,Pan:Z,Swipe:te,Pinch:J,Rotate:ee,Press:Q,on:b,off:w,each:h,merge:ge,extend:he,assign:se,inherit:y,bindFn:m,prefixed:E}),(void 0!==l?l:"undefined"!=typeof self?self:{}).Hammer=re,(r=function(){return re}.call(t,n,t,e))===undefined||(e.exports=r)}(window,document)},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _keys=__webpack_require__(144),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(261),_stringify2=_interopRequireDefault(_stringify),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var all$=__webpack_require__(129);$.extend($,all$);var _default=$.extend($,{viewSize:{width:320,height:568},getContrId:function(e){try{return e.type+"_"+e.id}catch(t){log(t)}},getElById:function(e){return window.document.getElementById(e)},stringToObj:function(e){return e?JSON.parse(e):e},objToString:function(e){return e?(0,_stringify2["default"])(e):e},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=encodeURI(window.location.search).substr(1).match(t);return null!==n?unescape(n[2]):null},replaceParamGetUrl:function replaceParamGetUrl(_paramName,_replaceWith,url){var func=function func(_name,_replace,_url){return-1!==_url.indexOf(_name+"=")?_url=_url.replace(eval("/("+_name+"=)([^&]*)/gi"),_name+"="+_replace):-1===_url.indexOf("?")?_url+="?"+_name+"="+_replace:_url+="&"+_name+"="+_replace,_url};return $.isArray(_paramName)?_paramName.forEach(function(e,t){url=func(e,_replaceWith[t],url)}):url=func(_paramName,_replaceWith,url),url},replaceParamVal:function(e,t){var n=window.location.href.toString();(n=$.replaceParamGetUrl(e,t,n))!=window.location.href.toString()&&$.urlReplaceState(n)},removeParamGetUrl:function(e,t){if(-1!==t.indexOf("?")){var n="",r=t.substr(t.indexOf("?")+1),o="",a="";if(-1!==r.indexOf("&")){for(var i in o=r.split("&"))$.isString(o[i])&&o[i].split("=")[0]!=e&&(a=a+o[i].split("=")[0]+"="+o[i].split("=")[1]+"&");n=t.substr(0,t.indexOf("?"))+"?"+a.substr(0,a.length-1)}else n=(o=r.split("="))[0]==e?t.substr(0,t.indexOf("?")):t;return n}return t},removeParamVal:function(e){var t=function(e){var t=window.location.href.toString(),n=$.removeParamGetUrl(e,t);n!=window.location.href.toString()&&$.urlReplaceState(n)};e&&($.isArray(e)?e.forEach(function(e){t(e)}):$.isString(e)&&t(e))},urlReplaceState:function(e){window.history.replaceState(null,null,e)},changeUrlRetainParam:function(e,t){var n=e+window.location.search;if(t)return n;n!=window.location.href.toString()&&window.history.replaceState(null,null,n)},offset:function(e,t,n){var r=e&&e.getBoundingClientRect();if(r&&(r.width||r.height)){var o=e.ownerDocument,a=$.isWindow(o)?o:9===o.nodeType&&o.defaultView,i=o.documentElement,s={left:r.left+a.pageXOffset-i.clientLeft,top:r.top+a.pageYOffset-i.clientTop},l=t?$.extend(s,{width:r.width,height:r.height}):s;return n?t?[l.left,l.top,l.width,l.height]:[l.left,l.top]:l}return n?t?[0,0,0,0]:[0,0]:{left:0,top:0,width:0,height:0}},getWinSize:function(){return{width:window.document.body.parentNode.clientWidth,height:window.document.body.parentNode.clientHeight}},isMac:function(){return"Mac68K"===navigator.platform||"MacPPC"===navigator.platform||"Macintosh"===navigator.platform||"MacIntel"===navigator.platform},cancelBubble:function(){var e=window.event||arguments.callee.caller.arguments[0];window.attachEvent?e.cancelBubble=!0:e.stopPropagation()},rangeGoEnd:function(e,t){var n=t&&$.isDom(t)?t:e.target;if(window.getSelection)if("DIV"==n.nodeName){var r=window.document.createRange();r.selectNodeContents(n),r.collapse(!0),r.setEnd(n,n.childNodes.length),r.setStart(n,n.childNodes.length);var o=window.getSelection();o.removeAllRanges(),o.addRange(r)}else{var a=n.value.length;n.setSelectionRange(a,a)}else if(window.document.selection){var i=n.createTextRange();i.collapse(!1),i.select()}},getCssPosi:function(e){return[e.offsetLeft,e.offsetTop,e.clientWidth,e.clientHeight]},getOffsetPosi:function(e){for(var t=[e.offsetLeft,e.offsetTop];e=e.offsetParent;)t[0]+=e.offsetLeft,t[1]+=e.offsetTop;return t},getParentAttr:function(e,t){return e.parentNode.getAttribute(t)},collide:function(e,t){return Math.abs(e[0]+e[2]/2-(t[0]+t[2]/2))<Math.abs((e[2]+t[2])/2)&&Math.abs(e[1]+e[3]/2-(t[1]+t[3]/2))<Math.abs((e[3]+t[3])/2)},hasClass:function(e,t){return!!e&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){e&&($.hasClass(e,t)||(e.className+=" "+t))},removeClass:function(e,t){if($.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim()}},toggleClass:function(e,t){$.hasClass(e,t)?$.removeClass(e,t):$.addClass(e,t)},checkArrayEqual:function(e,t){var n=void 0;if(e.length===t.length&&0===e.length)n=!0;else if(e.length==t.length)for(var r=0;r<t.length;r++){n=!1;for(var o=0;o<e.length;o++)if(t[r]===e[o]){n=!0;break}}else n=!1;return n},setRegion:function(e,t,n){return Math.max(t,Math.min(e,n))},arrayUnique:function(e){if(e.length>0){e.sort();for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==t[t.length-1]&&t.push(e[n]);return t}return e},isUndefined:function(e){return void 0===e},isArray:function(e){return"[object Array]"===toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},blurInput:function(e){var t=window.document.activeElement;t&&t.blur()},getWindowWH:function(){return{width:window.document.body.parentNode.clientWidth,height:window.document.body.parentNode.clientHeight}},query:function(e){return window.document.querySelector(e)},tipHide:function(){var e=window.document.querySelector("body>.C_tip");e&&(e.style.display="none")},rotateToAngle:function(e,t){return 2*Math.PI*(t?e%90<0?e%90+90:e%90:e)/360},stringCut:function(e,t){var n,r=0,o="";n=e.length;for(var a=0;a<n;a++){var i=e.charAt(a);if(r++,escape(i).length>4&&r++,o=o.concat(i),r>=t)return o}if(r<t)return e},objLength:function(e){return(0,_keys2["default"])(e).length},searchIn:function(e,t,n){if(""===e)return"none";var r=t,o=!1;return(n?[e]:e.split(/\s+/)).forEach(function(e){e&&new RegExp(e,"i").exec(t)&&(o=!0,r=r.replace(new RegExp(e,"ig"),function(e){return"<span class='redspan'>"+e+"</span>"}))}),!!o&&r},getContentListPadding:function(){return($.getWindowWH().width-1200)/2+"px"},hoverContrInit:function(){$(document).on("mouseenter",".a_c[data-contr=hovertip]",function(e){var t=$(this),n=$.stringToObj(t.attr("data-option"));t.showTip(n)}).on("mouseleave",".a_c[data-contr=hovertip]",function(e){$("body>.C_tip").hide()})},escape:function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML.replaceAll('"',"&quot;")},unescape:function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText||t.textContent},humpToHythen:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},isRender:function(e){return!!window.renderTest&&(window.renderTest.all||window.renderTest[e])},notLoadPassword:function(e){e.target.type="password"},transitionReverse:function(e){return{fadeInOut:"fadeInOut",leftMenu:"leftMenuBack",rightMenu:"rightMenuBack",leftNav:"leftNavBack",rightNav:"rightNavBack",moveFromLeft:"moveFromRight",moveFromRight:"moveFromLeft",moveFromBottom:"moveFromTop",moveFromTop:"moveFromBottom",fadeFromLeft:"fadeFromRight",fadeFromRight:"fadeFromLeft",fadeFromBottom:"fadeFromTop",fadeFromTop:"fadeFromBottom",fadeRightFadeLeft:"fadeLeftFadeRight",fadeLeftFadeRight:"fadeRightFadeLeft",fadeTopFadeBottom:"fadeBottomFadeTop",fadeBottomFadeTop:"fadeTopFadeBottom",easingFromLeft:"easingFromRight",easingFromRight:"easingFromLeft",easingFromBottom:"easingFromTop",easingFromTop:"easingFromBottom",scaleDownFromLeft:"scaleDownFromRight",scaleDownFromRight:"scaleDownFromLeft",scaleDownFromBottom:"scaleDownFromTop",scaleDownFromTop:"scaleDownFromBottom",glueFromLeft:"glueFromRight",glueFromRight:"glueFromLeft",glueFromBottom:"glueFromTop",glueFromTop:"glueFromBottom"}[e]},changePageContrs:function(e){var t,n={};return e.contrs.forEach(function(e){var t=$.getContrId(e);$.saveOriContrs(t,e),n[t]=$.extend(!0,{},e)}),$.contrForEachChange(n,{},window.contrs),t=e.contrs.map(function(e){return n[$.getContrId(e)]}),$.extend(!0,$.extend(!0,{},e),{contrs:t})},contrForEachChange:function(e,t,n){for(var r in e){var o=e[r],a=$.getContrId(o);if($.saveOriContrs(a,n[r]),t[a]&&$.overrideContr(o,t[a]),o.state&&o.states&&-1!=o.state.endState){for(var i in o.states[o.state.endState].contrs)i!=a&&(t[i]?$.overrideContr(t[i],o.states[o.state.endState].contrs[i]):t[i]=o.states[o.state.endState].contrs[i]);$.overrideContr(o,o.states[o.state.endState].contrs[$.getContrId(o)])}o.contrs&&$.objLength(o.contrs)>0&&$.contrForEachChange(o.contrs,t,n[r].contrs)}},saveOriContrs:function(e,t){window.contrs[e]||(window.contrs[e]=t)},overrideContr:function(e,t){if(t.events)for(var n in e.events||(e.events={}),t.events)e.events[n]&&(e.events[n].actions=t.events[n].actions);$.extend(!0,e,t)},getEasingFuncName:function(e){var t=e.split("-");return t[1]+"."+t[0]},isNull:function(e){return!e&&void 0!==e&&0!=e},isEmptyObj:function(e){return $.isObject(e)&&0===$.objLength(e)},isObject:function(e){return"object"==$.type(e)},filterState:function(e){if(!e)return{};var t=["events"],n={};for(var r in e)-1==t.indexOf(r)&&(n[r]=e[r]);return n},isPropEqual:function(e,t,n){return n?$.isStateEqual(e,t):$.isObject(e)&&$.isObject(t)?$.isObjectEqual(e,t):e==t},isStateEqual:function(e,t){return $.getContrEndState({state:e})==$.getContrEndState({state:t})},getThreeDecimal:function(e){return Math.round(1e3*e)/1e3},convertNum:function(e,t,n){return window.fontSize||(window.fontSize=50),"px"==t?$.getThreeDecimal(e*window.fontSize/50)+"px":"num"==t?$.getThreeDecimal(e*window.fontSize/50):"web"==window.platform||n?Math.round(e)+"px":$.getThreeDecimal(.02*e)+"rem"},isObjectEqual:function(e,t){var n=!0;if($.objLength(e)&&$.objLength(t)){for(var r in e)if(e[r]!=t[r]){n=!1;break}}else n=!1;return n},getDefaultCutVals:function(e){return{boxHeight:e.height,boxLeft:0,boxTop:0,boxWidth:e.width,height:e.height,left:0,oriHeight:e.height,oriLeft:e.left,oriTop:e.top,oriWidth:e.width,top:0,width:e.width}},getContrEndState:function(e){return e&&e.state&&!$.isUndefined(e.state.endState)?e.state.endState:-1},angleToRadian:function(e){return e*Math.PI/180},getRotatePosiDiff:function(e){var t=__webpack_require__(440)["default"],n=t.rotate($.angleToRadian(e.rotate),[0,0]),r=t.rotate($.angleToRadian(e.rotate),[e.width/2,e.height/2]);return"left"==e.type?r[4]-n[4]:"top"==e.type?r[5]-n[5]:void 0},fixPageScroll:function(e){window.fixedData&&window.fixedData[e]&&$("#page"+e).addClass("no-scrolling-touch"),window.innerScrollData&&window.innerScrollData[e]&&($("#page"+e).attr("innerScroll","true"),window.DragscrollFunc&&window.fromIframe&&window.DragscrollFunc())},getFilter:function(e){return"blur("+(e=$.extend({blur:0,saturate:10,hue:180,brightness:10,contrast:10},e||{})).blur+"px) saturate("+(.1*e.saturate).toFixed(1)+") hue-rotate("+(e.hue-180)+"deg) brightness("+(.1*e.brightness).toFixed(1)+") contrast("+(.1*e.contrast).toFixed(1)+")"},getDistance:function(e){return parseInt(e/320*100)},loadStyleString:function(e,t){var n=document.createElement("style");n.id=t||"baseCss",n.type="text/css";try{n.appendChild(document.createTextNode(e))}catch(r){n.styleSheet.cssText=e}document.getElementsByTagName("head")[0].appendChild(n)},setTransitionClass:function(e,t){var n="",r="mobile-"+$.humpToHythen(e)+"-"+t,o=void 0,a=void 0;switch(e){case"leftMenu":a="leftMenu";break;case"leftMenuBack":o="leftMenuBack";break;case"rightMenu":a="rightMenu";break;case"rightMenuBack":o="rightMenuBack";break;case"leftNav":o="leftNavToRight",a="leftNav";break;case"leftNavBack":o="leftNavBack",a="leftNavToLeft";break;case"rightNav":o="rightNavToLeft",a="rightNav";break;case"rightNavBack":o="rightNavBack",a="rightNavToRight"}o&&(n+="."+r+" .prev{-webkit-animation: "+(o=o+"-"+t)+" .6s ease both;animation: "+o+" .6s ease both;}"),a&&(n+="\n."+r+" .current{-webkit-animation: "+(a=a+"-"+t)+" .6s ease both;animation: "+a+" .6s ease both;}"),$.loadStyleString(n)},setKeyframes:function(e,t){var n=$.getDistance(t),r=void 0,o=-1!=e.indexOf("left")?"-":"";switch(e){case"leftMenu":case"rightMenu":r=["leftMenu","leftMenuBack"],"rightMenu"==e&&(r=["rightMenu","rightMenuBack"]),CSSAnimations.get(r[0]+"-"+n)||r.forEach(function(e,t){var a=e+"-"+n;switch(e){case r[0]:CSSAnimations.create(a,{"0%":{transform:"translateX("+o+"100%)"},"100%":{transform:"translateX("+o+(100-n)+"%)"}});break;case r[1]:CSSAnimations.create(a,{"0%":{"z-index":"3",transform:"translateX("+o+(100-n)+"%)"},"100%":{"z-index":"3",transform:"translateX("+o+"100%)"}})}});break;case"leftNav":case"rightNav":r=["leftNavToRight","leftNav","leftNavBack","leftNavToLeft"],"rightNav"==e&&(r=["rightNavToLeft","rightNav","rightNavBack","rightNavToRight"]),CSSAnimations.get(r[0]+"-"+n)||r.forEach(function(e,t){var a=e+"-"+n;switch(e){case r[0]:var i="-"==o?"":"-";CSSAnimations.create(a,{"100%":{transform:"translateX("+i+n+"%)"}});break;case r[1]:CSSAnimations.create(a,{"0%":{transform:"translateX("+o+"100%)"},"100%":{transform:"translateX("+o+(100-n)+"%)"}});break;case r[2]:CSSAnimations.create(a,{"0%":{"z-index":"3",transform:"translateX("+o+(100-n)+"%)"},"100%":{"z-index":"3",transform:"translateX("+o+"100%)"}});break;case r[3]:var s="-"==o?"":"-";CSSAnimations.create(a,{"0%":{transform:"translateX("+s+n+"%)"},"100%":{transform:"translateX(0%)"}})}})}$.setTransitionClass(e,n)},getTimelineParentKey:function(e,t,n,r){r[n]},getTimelineKey:function(e){console.log("","")},loopCache:function(e){for(var t in e.parent)console.log(e.ancestorState(t)),e.getParent&&$.isUndefined(e.ancestorState(t))&&console.log(t)},handleEventsData:function(e,t,n){if(!e.events||0===$.objLength(e.events))return n&&(console.log("handleEventsData 赋值"),e.events=$.extend(!0,{},t)),!1;var r=[];for(var o in t)e.events[o]&&(e.events[o].actions=t[o].actions,r.push(o),n&&t[o].disable&&(delete e.events[o],delete t[o]));$.extend(!0,e.events,t),e.events&&0===$.objLength(e.events)&&delete e.events},getPlatform:function(e){return e||"mobile"},getStatic:function(e,t){var n=__webpack_require__(130);t=t||{};var r=$.extend(!0,{},n[e]||{});for(var o in r)$.isUndefined(t[o])||-1!=["name","backColor","hasBackColor","events","content"].indexOf(o)||(r[o]=t[o]);return r},getOneCellData:function(e){var t=$.getStatic("S_tableCellStatic");return t.text=$.getStatic("S_tableCellTextStatic"),$.extend(!0,t,e)},getBorderStyle:function(e,t){var n=["solid","dashed","dotted"],r=[0,1,2];switch(e){case"styles":return n;case"values":return r;case"style":return n[t]||n[0];case"value":return r[t]||r[0]}},isLineContr:function(e){return"hLine"==e.baseContrType||"vLine"==e.baseContrType},getRadiusAddValue:function(e,t){return e?Math.ceil(t):0},setColorOpacity:function(e,t){if($.isString(e)){var n=e.match(/(\d(\.\d+)?)+/g);return"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"}return e},isiOS:function(){return!!window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}}),reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/util/extend.js"),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";(function(e,r){var o;Object.defineProperty(t,"__esModule",{value:!0}),(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var a=["map","webPage","video","audio"],i={},s={},l=!1,u=!1,c=void 0,d={left:0,top:0,width:0,height:0},f=!1,p=void 0,h=void 0,g={getAllContrsData:function(){return i},init:function(e){var t=$.extend({},e);i={},d={left:0,top:0,width:0,height:0},l=!$.isUndefined(t.isMobile)&&t.isMobile,u=!$.isUndefined(t.isImage)&&t.isImage,c=$.isUndefined(t.serverId)?"":t.serverId,f=!$.isUndefined(t.isLocalResize)&&t.isLocalResize},getSymbolVal:function(e){if(e.symbolKey&&window.symbolContrs.symbols){var t=window.symbolContrs.symbols[e.symbolKey];t&&(e.hierarchy=t.hierarchy,e.width=t.width,e.height=t.height,e.contrs={},e.hierarchy&&e.hierarchy.forEach(function(t){e.contrs[t]=window.symbolContrs.contrs[t]}))}},getPage:function(e,t){h=e.pageHeight;var n="",r=b(e);return p=e.isLandscape,e.contrs.forEach(function(e){var o={thisDom:"",thisCss:""};if(f&&!e.isDepend)return!1;switch(e.type){case"text":o=g.getText(e,!1,t);break;case"hotspot":u||(o=g.getHotspot(e,!1,t));break;case"icon":o=g.getIcon(e,!1,t);break;case"image":o=g.getImage(e,!1,t);break;case"table":o=g.getTable(e,!1,t);break;case"wrapbox":o=g.getWrapbox(e,!1,t);break;case"symbol":g.getSymbolVal(e);var a=$.extend(!0,{},e.children);o=g.getWrapbox(e,!1,t,undefined,undefined,a);break;case"map":case"audio":case"video":case"webPage":o=g.getExtraContr(e,!1,t)}$.isAdvancedAllContr(e.type)&&(o=g.getAdvancedContr(e,!1,t)),n+=o.thisDom,r+=o.thisCss}),{thisDom:'<div class="page'+(e.active?" current":"")+'" id = "page'+e.key+'" data-key = "'+e.key+'">'+n+"\n</div>",thisCss:r}},getText:function(e,t,n,r,o){var a=$.getContrId(e),s=e.content.replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;");i[a]=e,u&&r&&r[a]&&r[a].state&&(e.state=$.extend(e.state,r[a].state));var l=w(e,t,n,($.isUndefined(o)||o)&&"-1"==E(e));return{thisDom:'<div class="textC '+(t?"mDiv":"cDiv")+" "+l.stateId+" "+a+'" id="'+a+'" data-state="'+l.state+'">\n\t<p class="content '+e.vertical+" "+e.horizontal+(e.isB?" tB":"")+(e.isI?" tI":"")+(e.isU?" tU":"")+(e.isS?" tS":"")+'">'+s+"</p>\n</div>",thisCss:l.cssStr}},getHotspot:function(e,t,n){var r=$.getContrId(e),o=w(e,t,n,!0);return i[r]=e,{thisDom:'<div class="hotspotC '+(t?"mDiv":"cDiv")+" "+r+'" id="'+r+'"></div>',thisCss:o.cssStr}},getIcon:function(e,t,n,r,o){var a=$.getContrId(e);i[a]=e,u&&r&&r[a]&&r[a].state&&(e.state=$.extend(e.state,r[a].state));var s=w(e,t,n,($.isUndefined(o)||o)&&"-1"==E(e));return{thisDom:'<div class="iconC '+(t?"mDiv":"cDiv")+" "+s.stateId+" "+a+'" id="'+a+'" data-state="'+s.state+'">\n\t<i class="material-icons icon iconfont">'+e.iconKey+"</i>\n</div>",thisCss:s.cssStr}},getImage:function(e,t,n,o,a){var s=$.getContrId(e),l=void 0,c="";i[s]=e,u&&o&&o[s]&&o[s].state&&(e.state=$.extend(e.state,o[s].state));var d=w(e,t,n,($.isUndefined(a)||a)&&"-1"==E(e));return!e.src||e.src&&-1!=e.src.indexOf("defaultImg")?l="cImg default-img material-icons":(c="background-image:url("+(r.staticUrl+e.src)+")",l="cImg"),{thisDom:'<div class="imageC '+(t?"mDiv":"cDiv")+" "+d.stateId+" "+s+'" id="'+s+'" data-state="'+d.state+'">\n\t<div class="cutImgOutBox">\n\t\t<div class="'+l+'" style="'+c+'"></div>\n\t</div>\n\t<div class="insetBorder"></div>\n</div>',thisCss:d.cssStr}},getTableCell:function(e){var t=$.getContrId(e),n=w(e);return{thisDom:'<td class="'+t+" "+e.vertical+" "+e.horizontal+(e.isB?" tB":"")+(e.isI?" tI":"")+(e.isU?" tU":"")+(e.isS?" tS":"")+'" id="'+t+'" data-state="'+n.state+'" colSpan="'+e.colSpan+'" rowSpan="'+e.rowSpan+'" width="'+e.width+'" height="'+e.height+'">'+e.content+"\n</div>",thisCss:n.cssStr}},getTable:function(e,t,n){var r=$.getContrId(e);i[r]=e;var o="table-style-"+e.styleIndex,a="",s="";$.isArray(e.linePosi)||(e.linePosi=[e.linePosi]),e.linePosi.forEach(function(t,n){var o="";$.isArray(e.columnPosi)||(e.columnPosi=[e.columnPosi]),e.columnPosi.forEach(function(a,i){var l=$.getOneCellData(e.child[i+"_"+n]),u=l&&l.mergeColumn?+l.mergeColumn+1:1,c=l&&l.mergeLine?+l.mergeLine+1:1;if(!l.mergeKey){var d=g.getTableCell($.extend(!0,$.extend(!0,{type:"tableCell",id:i+"_"+n,parentClass:r,colSpan:u,rowSpan:c,width:a*u,height:t*c,noBorderTop:0==n,noBorderRight:i+u==e.columnPosi.length,noBorderBottom:n+c==e.linePosi.length,noBorderLeft:0==i},l||{}),l.text));o+="\n"+d.thisDom,s+=d.thisCss}}),a+="\n<tr>"+o+"</tr>"}),s&&(s="/* 表格#"+r+" 单元格--start */\n"+s+"/* 表格#"+r+" 单元格--end */\n");var l=w(e,t,n,!0);return{thisDom:'<table class="tableC '+(t?"mDiv":"cDiv")+" "+l.stateId+" "+r+" "+o+'" id="'+r+'" data-state="'+l.state+'"><tbody>'+a+"\n</tbody>\n</table>",thisCss:l.cssStr+s}},getWrapbox:function(e,t,n,r,o,l){var c,d=$.getContrId(e),p="",h="",y=!e.outerHidden&&n,m=r||{};i[d]=e,u&&m[d]&&m[d].state&&(e.state=$.extend(!0,e.state,m[d].state));var _=E(e),v=($.isUndefined(o)||o)&&"-1"==_;-1!=_&&e.states&&e.states[_]&&$.extend(!0,m,e.states[_].contrs),"symbol"==e.type&&s[e.symbolKey]||(!f&&e.hierarchy&&e.hierarchy.concat().reverse().forEach(function(t){var n=void 0,r=e.contrs[t];if(r){if("text"==r.type)n=g.getText(r,!0,y,m,v);else if("hotspot"==r.type)n=g.getHotspot(r,!0);else if("icon"==r.type)n=g.getIcon(r,!0,y,m);else if("image"==r.type){var o=$.getContrId(r);l&&l[o]&&l[o].cutVals&&(r.cutVals=l[o].cutVals),n=g.getImage(r,!0,y,m)}else if("table"==r.type)n=g.getTable(r,!0,y,m);else if("wrapbox"==r.type)n=g.getWrapbox(r,!0,y,m,undefined,l);else if("symbol"==r.type){g.getSymbolVal(r);var i=l;"symbol"==r.type&&(i=i?$.extend(!0,$.extend(!0,{},r.children),i):$.extend(!0,{},r.children)),n=g.getWrapbox(r,!0,y,m,undefined,i)}else $.isAdvancedAllContr(r.type)?n=g.getAdvancedContr(r,!0,y,m):-1!=a.indexOf(r.type)&&(n=g.getExtraContr(r,!0,y,m));p+="\n"+n.thisDom,h+=n.thisCss}}),e.hierarchy&&e.hierarchy.length>0&&(h="/* 集合#"+d+" 内部元素--start */\n"+h+"/* 集合#"+d+" 内部元素--end */\n"),"symbol"==e.type&&(s[e.symbolKey]=!0));var b=w(e,t,n,v);return c=b.cssStr+h,{thisDom:'<div class="wrapBox '+(t?"mDiv":"cDiv")+" "+b.stateId+" "+d+'" id="'+d+'" data-state="'+b.state+'"><div class="childrenBox">'+p+'\n</div>\n\t<div class="insetBorder"></div>\n</div>',thisCss:c}},getExtraContr:function(e,t,n,r,o){var a=$.getContrId(e);return i[a]=e,u&&r&&r[a]&&r[a].state&&(e.state=$.extend(e.state,r[a].state)),{thisDom:"",thisCss:w(e,t,n,($.isUndefined(o)||o)&&"-1"==E(e)).cssStr}},getAdvancedContr:function(e,t,n,r,o){var a=$.getContrId(e);return i[a]=e,u&&r&&r[a]&&r[a].state&&(e.state=$.extend(e.state,r[a].state)),{thisDom:"",thisCss:w(e,t,n,($.isUndefined(o)||o)&&"-1"==E(e)).cssStr}}};function y(e,t,n,r){var o={},a=_(e),i=t[e],s=null;switch(e){case"textShadow":r&&O(e,i)||(s=k(i,"number")?"rgba(0,0,0,0.5) 0 "+k(i)+" "+k(i):"none");break;case"opacity":r&&O(e,i)||(s=$.isUndefined(i)?null:Math.round(i)/100);break;case"insetBorder":case"innerBorder":"innerBorder"!=e&&r&&O(e,i[1])||(s=k(i[1])+" "+$.getBorderStyle("style",i[2])+" "+i[0],"insetBorder"==n&&$.extend(!0,o,y("radius",t)));break;case"outerBorder":s=k(i[1])+" "+$.getBorderStyle("style",i[2])+" "+i[0],$.extend(!0,o,{top:"-"+k(i[1]/2),left:"-"+k(i[1]/2),width:"calc(100% - "+k(i[1])+")",height:"calc(100% - "+k(i[1])+")"});break;case"border":if("outerBorderBox"==n){var c=t.type,d={border:k(t.border[1])+" "+$.getBorderStyle("style",t.border[2])+" "+t.border[0]};"image"==c||"wrapbox"==c?(d.top="-"+k(t.border[1]),d.left=d.top):(d.top="-"+k(t.border[1]+(t.insetBorder?t.insetBorder[1]:0)),d.left=d.top,d.width="calc(100% + "+(t.insetBorder?k(2*t.insetBorder[1]):0)+")",d.height=d.width),$.extend(!0,o,d)}break;case"shadow":if(t.border||(t.border=["rgba(0, 0, 0, 0)",0]),!(r&&O("border",t.border[1])&&O("shadow",t.shadow))){var f="";!t.border&&"table"!=t.type||$.isUndefined(t.shadow)||"0"==t.shadow||(f=$.isArray(t.shadow)?k(t.shadow[0])+" "+k(t.shadow[1])+" "+k(t.shadow[2])+" "+k(t.shadow[3])+" "+t.shadow[4]+(t.shadow[5]?" inset":""):"0 "+k(t.shadow)+" "+k(t.shadow)+" "+(t.border&&t.border[1]?k(t.border[1]):0)+" rgba(0,0,0,0.5)"),s=f?""+f:"none"}break;case"cutVals":$.extend(!0,o,{width:k(i.boxWidth),height:k(i.boxHeight),"margin-left":k(i.boxLeft),"margin-top":k(i.boxTop)});break;case"filter":if(t&&t.isSvg&&t.svgToGray&&(i?i.saturate=0:i={saturate:0}),!$.isUndefined(i)&&0!==$.objLength(i)){var g=m(i);$.extend(!0,o,{filter:g,"-webkit-filter":g})}break;case"radius":case"isMaxRadius":r&&!t.isMaxRadius&&O("radius",t.radius)||(s="outerBorderBox"==n&&t.border[1]?t.isMaxRadius?k(Math.ceil(Math.min(t.width,t.height))+$.getRadiusAddValue(t.radius,t.border[1])):$.isArray(t.radius)?t.radius.map(function(e){return""+k(Math.ceil(e)+$.getRadiusAddValue(e,t.border[1]))}).join(" "):k(Math.ceil(t.radius)+$.getRadiusAddValue(t.radius,t.border[1])):t.isMaxRadius?k(Math.min(t.width,t.height)):$.isArray(t.radius)?t.radius.map(function(e){return""+k(e)}).join(" "):$.isUndefined(t.radius)?null:k(t.radius));break;case"backColor":case"hasBackColor":if("img"==n)$.extend(!0,o,y("src",t,n,r));else if(!r||t.hasBackColor)if(t.gradientColor&&t.hasBackColor)s=t.gradientColor;else if(t.hasBackColor)if($.isLineContr(t)){var v="hLine"==t.baseContrType?t.height:t.width;"hLine"==t.baseContrType?$.extend(!0,o,{"border-top":k(v)+" "+$.getBorderStyle("style",t.lineStyle)+" "+t.backColor}):$.extend(!0,o,{"border-left":k(v)+" "+$.getBorderStyle("style",t.lineStyle)+" "+t.backColor})}else s=t.backColor;else s="transparent";break;case"src":a="background-color";var b=!t.src||t.src&&-1!=t.src.indexOf("defaultImg");b&&(s=t.hasBackColor?t.backColor:"#D9D9D9"),r||b&&!t.hasBackColor||(s="transparent");break;case"textColor":case"iconColor":r&&O(e,i)||(s=i);break;case"lineHeight":r&&O(e,i)||(s=10*Math.round(i+5)+"%");break;case"isShow":case"isDelete":var w=!1!==t.isShow&&!t.isDelete;r&&w||(s=w?"block":"none",w?$.extend(!0,o,y("opacity",{opacity:$.isUndefined(t.opacity)?100:t.opacity})):$.extend(!0,o,y("opacity",{opacity:0})));break;case"rotate":r&&O(e,i)||(s=i,$.extend(!0,o,y("left",t,n)),$.extend(!0,o,y("top",t,n)));break;case"outerHidden":s=i?"hidden":null;break;case"scrollX":case"scrollY":s=i&&!u?"scroll":null;break;case"fontSize":var C=t.width;if("tableCell"==t.type&&(i/=window.ss,C/=window.ss),!l&&Math.ceil(i)<12){var x=parseFloat(i/12).toFixed(2),S=("tableCell"!=t.type&&t.autoW&&"hC"==t.horizontal?"translateX(-50%)":"")+" "+("tableCell"!=t.type&&"vM"==t.vertical?"translateY(-50%)":"")+" scale("+x+")!important";$.extend(!0,o,{transform:S,width:k(C/x)}),s=k(12)}else s=k(i);break;case"top":t.isDepend&&"bm"==t.dependType?$.extend(!0,o,y("isDepend",t)):s=k(i);break;case"isDepend":if(i){var P=window.isLocal?1:0;if($.extend(!0,o,{position:"fixed"}),t.rotate||"0"!=t.rotate||$.extend(!0,o,{transform:"translateZ(0)","-webkit-transform":"translateZ(0)"}),"bm"==t.dependType){var E=0;"web"==window.platform?h&&(E=k(h-P-(t.top+t.height))):E=k((p?$.viewSize.width:$.viewSize.height)-P-(t.top+t.height)),$.extend(!0,o,{top:"auto",bottom:E})}else window.isLocal&&$.extend(!0,o,{top:k(t.top+P)});window.isLocal&&$.extend(!0,o,{left:k(t.left+P)})}break;case"width":case"height":if("icon"==n){var T=1,M=1,D=k(Math.max(Math.max(t.width,t.height),12)),A=void 0;t.width!=t.height&&(t.width>t.height?M=t.height/t.width:T=t.width/t.height),A=1!=T||1!=M?(1!=T?"scaleX("+T+")":"")+(1!=M?" scaleY("+M+")":""):t.width<12?"scale("+t.width/12+")":"none",r&&"none"==A?$.extend(!0,o,{"font-size":D}):$.extend(!0,o,{"font-size":D,transform:A,"-webkit-transform":A})}else"textBox"==n?$.extend(!0,o,y("fontSize",t,n,r)):"self"!=n?$.extend(!0,o,y("radius",t,n,r)):(s=k(i),$.extend(!0,o,y("radius",t,n,r)));break;case"indent":case"adjaceney":r&&O(e,i)||(s=k(i));break;case"scale":$.extend(!0,o,{transform:"scale("+i/10+")","-webkit-transform":"scale("+i/10+")"});break;default:s=k(i)}return null!==s&&(o[a]=s),o}function m(e){return"blur("+(e=$.extend({blur:0,saturate:10,hue:180,brightness:10,contrast:10},e||{})).blur+"px) saturate("+(.1*e.saturate).toFixed(1)+") hue-rotate("+(e.hue-180)+"deg) brightness("+(.1*e.brightness).toFixed(1)+") contrast("+(.1*e.contrast).toFixed(1)+")"}function _(e){return{width:"width",height:"height",left:"left",top:"top",rotate:"rotation",radius:"border-radius",isMaxRadius:"border-radius",shadow:"box-shadow",opacity:"opacity",backColor:"background-color",hasBackColor:"background-color",iconColor:"color",insetBorder:"border",adjaceney:"letter-spacing",textColor:"color",fontSize:"font-size",textShadow:"text-shadow",lineHeight:"line-height",indent:"text-indent",content:"value",border:"box-shadow",isShow:"display",isDelete:"display",outerHidden:"overflow",scrollX:"overflow-x",scrollY:"overflow-y",isDepend:"position",filter:"filter",outerBorder:"border",innerBorder:"border"}[e]}function v(e){var t={"class":"",stylesArr:f?["width","height","left","top","isDepend"]:"hotspot"==e||"icon"==e||$.isAdvancedAllContr(e)?["width","height","left","top","opacity","rotate","isShow","isDelete","isDepend"]:"table"==e?["width","height","left","top","opacity","isShow","isDelete","isDepend","backColor","hasBackColor","shadow"]:"tableCell"==e?["opacity","backColor","hasBackColor","adjaceney","indent","textColor","textShadow","lineHeight","filter"]:["width","height","left","top","backColor","hasBackColor","radius","isMaxRadius","shadow","opacity","rotate","isShow","isDelete","isDepend"]},n={"class":">.outerBorderBox",stylesArr:["radius","isMaxRadius","width","height","border"]};switch(e){case"text":return t.stylesArr.push("insetBorder"),{self:t,textBox:{"class":" .content",stylesArr:["width","adjaceney","indent","textColor","textShadow","fontSize","lineHeight","filter"]},placeholder:{"class":" .content::-webkit-input-placeholder",stylesArr:["textColor"]},outerBorderBox:n};case"hotspot":return{self:t};case"icon":return{self:t,icon:{"class":" i",stylesArr:["iconColor","width","height"]}};case"image":return{self:t,insetBorder:{"class":" .insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},imgBox:{"class":" .cutImgOutBox",stylesArr:["radius","isMaxRadius","width","height"]},img:{"class":" .cImg",stylesArr:["cutVals","filter","src","backColor","hasBackColor"]},outerBorderBox:n};case"tableCell":return{self:t,text:{"class":" span",stylesArr:["fontSize"]}};case"table":return{self:t,border:{"class":"::after",stylesArr:["outerBorder"]},cell:{"class":" td",stylesArr:["innerBorder"]}};case"wrapbox":return t.stylesArr.push("outerHidden","scrollX","scrollY"),{self:t,insetBorder:{"class":">.insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},childrenBox:{"class":">.childrenBox",stylesArr:["radius","isMaxRadius","outerHidden","scrollX","scrollY"]},outerBorderBox:n};case"symbol":return{self:{"class":"",stylesArr:["width","height","left","top","opacity","isDepend","isShow","isDelete"]},childrenBox:{"class":">.childrenBox",stylesArr:["scale"]}};case"map":case"video":case"webPage":return{self:t,container:{"class":" .extra-contr-container",stylesArr:["radius","isMaxRadius"]},outerBorderBox:n};case"audio":return{self:t}}if($.isAdvancedAllContr(e))return{self:t}}function b(e){return"#page"+e.key+"{\n\tbackground-color:"+e.backColor+";\n}\n#page"+e.key+" .page-placeholder{\n\theight:"+(h?k(h):"100%")+";\n}\n"}function w(e,t,n,r){var o=$.getContrId(e),a=v(e.type),i="",s=e.state&&!$.isUndefined(e.state.endState)?e.state.endState:"-1",l=function(s){var l={};a[s].stylesArr.forEach(function(t){null!==e[t]&&$.extend(!0,l,y(t,e,s,!0))}),n&&"self"==s&&r&&$.extend(!0,l,C(e,t)),0!==$.objLength(l)&&(e.parentClass&&(i+="."+e.parentClass+" "),"symbol"==e.type&&"self"==s?i+="#"+o+a[s]["class"]+"{\n"+P(l)+"}\n":i+="."+o+a[s]["class"]+"{\n"+P(l)+"}\n")};for(var u in a)l(u);if(e.states)for(var c in e.states)i+=S(e,c,t,n);return{cssStr:i,state:s,stateId:"state"+(+s+1)}}function C(e,t){if(t)return x(e),!1;var n,r=[+e.width,+e.height],o=[1,1],a={},i=[d.left,d.top],s=[0,0],l=[0,0];if(e.border&&e.border[1]>0&&(s[0]+=2*e.border[1],s[1]+=2*e.border[1],l[0]+=e.border[1],l[1]+=e.border[1]),e.shadow>0&&(s[0]+=2*e.shadow,s[1]+=2*e.shadow,l[0]+=e.shadow),i[0]+=Math.round(Math.max(0,l[0]-i[0])),i[1]+=Math.round(Math.max(0,l[1]-i[1])),r[0]=Math.round(Math.max(s[0]+r[0],d.width+i[0])),r[1]=Math.round(Math.max(s[1]+r[1],d.height+i[1])),"0"!=e.rotate){var u=$.getRotatePos([i[1],r[0]-e.width-i[0],r[1]-e.height-i[1],i[0]],e.rotate,[e.width,e.height]);r=$.getRotateWH(e.rotate,r),i[0]=u[0],i[1]=u[1]}return r[0]>$.viewSize.width&&(o[0]=$.viewSize.width/r[0]),r[1]>$.viewSize.height&&(o[1]=$.viewSize.height/r[1]),n=Math.min(o[0],o[1]),$.extend(!0,a,y("left",{left:i[0]*n})),$.extend(!0,a,y("top",{top:i[1]*n})),1!=n&&($.extend(!0,a,{"-webkit-transform":"rotate("+e.rotate+"deg) scale("+n+")"}),r=[r[0]*n,r[1]*n]),$.contrWH[c]=r,a}function x(e){var t=[e.width,e.height],n=[e.left,e.top],r=[0,0],o=[0,0];if(e.border&&e.border[1]>0&&(r[0]+=2*e.border[1],r[1]+=2*e.border[1],o[0]+=e.border[1],o[1]+=e.border[1]),e.shadow>0&&(r[0]+=2*e.shadow,r[1]+=2*e.shadow,o[0]+=e.shadow),t[0]+=Math.round(r[0]),t[1]+=Math.round(r[1]),"0"!=e.rotate){var a=$.getRotatePos([o[1],t[0]-e.width-o[0],t[1]-e.height-o[1],o[0]],e.rotate,[e.width,e.height]);t=$.getRotateWH(e.rotate,t),o[0]=a[0],o[1]=a[1]}n[0]-o[0]<0&&(d.left=Math.max(Math.abs(n[0]-o[0]),d.left)),n[1]-o[1]<0&&(d.top=Math.max(Math.abs(n[1]-o[1]),d.top)),d.width=Math.max(d.width,t[0]+n[0]-o[0]),d.height=Math.max(d.height,t[1]+n[1]-o[1])}function S(e,t,n,r){var o=$.getContrId(e),a=v(e.type),s=e.states[t],l=".state"+(+t+1),u="",c=s.contrs[o],d=$.extend(!0,$.extend(!0,{},e),c),f=function(i){var s={};a[i].stylesArr.forEach(function(e){c&&($.isUndefined(c[e])||$.extend(!0,s,y(e,d,i)))}),n&&r&&"self"==i&&e.state&&e.state.endState==t&&x(d),0!==$.objLength(s)&&(u+="#"+o+l+a[i]["class"]+"{\n"+P(s)+"}\n")};for(var p in a)f(p);if("wrapbox"==e.type||"symbol"==e.type){var h=!d.outerHidden&&r;u+="\n/* 集合#"+o+" 状态state"+t+"下的内部元素样式--start */\n";var g=function(n){n!=o&&i[n]?function(){var r=v(i[n].type),a=s.contrs[n],c=$.extend(!0,$.extend(!0,{},i[n]),a),d=function(s){var d={};r[s].stylesArr.forEach(function(e){$.isUndefined(a[e])||a[e]==i[n][e]||$.extend(!0,d,y(e,c,s))}),h&&"self"==s&&e.state&&e.state.endState==t&&x(c),0!==$.objLength(d)&&(u+="."+o+l+" ."+n+r[s]["class"]+"{\n"+P(d)+"}\n")};for(var f in r)d(f)}():i[n]};for(var m in s.contrs)g(m);u+="/* 集合#"+o+" 状态state"+t+"下的内部元素样式--end */\n\n"}return r&&e.state&&e.state.endState==t&&(u+="#"+o+l+"{\n"+P(C(d,n))+"}\n"),u}function P(e){var t="";for(var n in e)"rotation"==n?(t+="\t-webkit-transform: rotate("+e[n]+"deg);\n",t+="\ttransform: rotate("+e[n]+"deg);\n"):t+="\t"+n+": "+e[n]+";\n";return t}function k(e,t,n){var r=n||1e3;return"number"==t?Math.round(.02*e*r)/r:"web"==window.platform?Math.round(e)+"px":Math.round(.02*e*r)/r+"rem"}function O(e,t){var n={opacity:100,lineHeight:10,fontsize:14,textColor:"rgba(80, 80, 80, 1)",iconColor:"rgba(153, 153, 153, 1)",backColor:"rgba(153, 153, 153, 1)"};return n[e]?t==n[e]:0==t}function E(e){return e.state&&!$.isUndefined(e.state.endState)?e.state.endState:"-1"}var T,M,D=g;t["default"]=D,(T=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(T.register(a,"extraContrType","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(i,"contrs","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(s,"symbol","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(l,"isMobile","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(u,"isImage","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(c,"serverId","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(d,"cImgOri","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(f,"isLocalResize","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(p,"isLandscape","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(h,"pageHeight","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(g,"getPage","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(y,"getCssObj","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(m,"getFilter","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(_,"styleDict","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(v,"getStyleCategory","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(b,"getPageStyles","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(w,"getStyles","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(C,"setContrImage","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(x,"setInnerContr","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(S,"getStateCss","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(P,"cssObjToStr","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(k,"convertNum","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(O,"isDefault","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(E,"getStateKey","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js"),T.register(D,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/getPage.js")),(M=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&M(e)}).call(this,n(7)(e),n(59))},function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var o={content:"文本",fontSize:14,lineHeight:5,indent:0,adjaceney:0,shadow:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,horizontal:"hC",vertical:"vM",filter:{},isLock:!1,isShow:!0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},a={multiple:1,filter:{},isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,WHrelation:!0,cutVals:null,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},i={filter:{},outerHidden:!1,scrollX:!1,scrollY:!1,isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,isOpen:!1,mergeName:null,left:0,top:0},s={filter:{},isLock:!1,isShow:!0,WHrelation:!0,rotate:0,iconColor:"rgba(153, 153, 153, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},l={isLock:!1,isShow:!0,WHrelation:!1,rotate:0,isOpt:!1,mergeName:null,left:0,top:0},u={isLock:!1,isShow:!0,rotate:0,isOpt:!1,mergeName:null,left:0,top:0},c={width:600,height:240,isLock:!1,isShow:!0,opacity:100,rotate:0,isOpt:!1,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",left:0,top:0,outerBorder:["rgba(198, 198, 198, 1)",1],innerBorder:["rgba(198, 198, 198, 1)",1],styleIndex:0,shadow:0},d={name:"",border:["rgba(216, 216, 216, 1)",0],hasBackColor:!1,backColor:"rgba(153, 153, 153, 1)",opacity:100,columnIndex:0,lineIndex:0,mergeColumn:0,mergeLine:0,mergeKey:""},f={content:"",fontSize:14,lineHeight:5,indent:0,adjaceney:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,horizontal:"hL",vertical:"vM"},p=["isDepend","dependType"],h=["name","content","mergeName"],g=["contrs","width","height","hierarchy"],y=["name","width","height","top","left","id","type","oriWidth","oriHeight","oriName","multiple","src","cutVals","contrs","content","hasBackColor","backColor","isBaseShape","baseContrType","hierarchy","fontSize","textColor","isB","serverKey","radius","lineHeight","horizontal","rotate","opacity","outerHidden","shadow","WHrelation","iconKey","iconColor","isMaxRadius","events","border","indent","adjaceney","textShadow","isI","isU","vertical","filter","isLock","isShow","insetBorder","isOpt","isOpenState","states","state","stateNum","isStateContrast","transition","dependType","isDepend","scrollX","scrollY","stateBindMove","userKey","outerBorder","innerBorder","styleIndex","columnIndex","lineIndex","mergeColumn","mergeLine","mergeKey","lineMin","rowMin","linePosi","columnPosi","mergeName"],m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59"],_={text:o,image:a,wrapbox:i,icon:s,hotspot:l,symbol:u,table:c};function v(e,t){for(var n in e){var r=e[n],o=t[n];$.isUndefined(o)||($.isArray(r)&&2==r.length&&r[0]==o[0]&&r[1]==o[1]?delete t[n]:r==o&&delete t[n])}}var b,w,C={removeInitVal:function(e,t,n,r){if($.isArray(e))e.forEach(function(e){e&&C.removeInitVal(e,undefined,n,r)});else if(e){var o=void 0,a=_[e.type];if("wrapbox"==e.type)for(var i in e.contrs)C.removeInitVal(e.contrs[i],!0,n,r);if(!window.isMobile&&(n?window.phoneSize.height!=window.phoneBaseSize.height:window.phoneSize.width!=window.phoneBaseSize.width)&&$&&$.otherSizeChangeContr&&(o=n?window.phoneBaseSize.height/window.phoneSize.height:window.phoneBaseSize.width/window.phoneSize.width,$.otherSizeChangeContr(e,o,!0)),a){if(a==u&&(r&&-1==r.indexOf(e.symbolKey)&&r.push(e.symbolKey),g.forEach(function(t){$.isUndefined(e[t])||delete e[t]})),a==c&&e&&e.child)for(var s in e.child){var l=e.child[s];l.text&&($.isUndefined(l.text.lastContent)||delete l.text.lastContent,v(f,l.text),C.changeNameToKey(l.text)),v(d,l),C.changeNameToKey(l)}for(var p in $.isUndefined(e.src)||0!=e.src.indexOf("data:image")&&0!=e.src.indexOf("blob:")||(e.src="/userImages/defaultImage.png",$&&$.updateImage&&$.updateImage(e)),a){var h=a[p],y=e[p];if(!$.isUndefined(y))if($.isArray(h)&&h[0]==y[0]&&h[1]==y[1])delete e[p];else if("isOpen"==p||"isOpt"==p)delete e[p];else if("filter"==p&&0==$.objLength(y))delete e[p];else if("cutVals"==p&&null==y)delete e[p];else if("cutVals"==p){var m=$.getDefaultCutVals(e);for(var b in m)"oriHeight"==b||"oriLeft"==b||"oriTop"==b||"oriWidth"==b?delete e[p][b]:Math.abs(+e[p][b]-+m[b])<.5&&delete e[p][b];0==$.objLength(e[p])&&delete e[p]}else h==y&&delete e[p]}t&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType,$.isUndefined(e.id)||delete e.id,$.isUndefined(e.type)||delete e.type,$.isUndefined(e.mergeName)||delete e.mergeName),$.isUndefined(e.interfaceId)&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType),$.isUndefined(e.transition)||C.removeTransition(e.transition),$.isUndefined(e.states)||C.statesChangeNameToKey(e.states),$.isUndefined(e.thisSelf)||delete e.thisSelf,$.isUndefined(e.hoverState)||delete e.hoverState,$.isUndefined(e.isStructOpen)||delete e.isStructOpen,$.isUndefined(e.interfaceId)||delete e.interfaceId,$.isUndefined(e.lastContent)||delete e.lastContent,$.isUndefined(e.isEdit)||delete e.isEdit,$.isUndefined(e.copyKey)||delete e.copyKey,C.changeNameToKey(e)}}},addInitVal:function(e,t,n,r,o){var a=arguments.length>5&&arguments[5]!==undefined&&arguments[5];if($.isArray(e)){var i=[];e.forEach(function(e,n){e?e[6]||e.type?C.addInitVal(e,t,undefined,undefined,o,a):(i.push(n),log("数据异常",e)):i.push(n)}),i.length>0&&i.reverse().forEach(function(t){e.splice(t,1)})}else if(e){var s=void 0;if(C.changeKeyToName(e),$.isUndefined(e.states)||C.statesChangeKeyToName(e.states),!$.isUndefined(e.stateNum)&&$.isUndefined(e.hoverState)&&(e.hoverState={}),n){var l=n.split("_");e.type=l[0],e.id=l[1]}r&&(e.mergeName=r),$.isUndefined(t)||(e.interfaceId=t);var u=_[e.type];if("wrapbox"==e.type){var c=[];if(e.hierarchy)for(var d in e.hierarchy.forEach(function(n){e.contrs[n]&&(c.push(n),C.addInitVal(e.contrs[n],t,n,e.type+"_"+e.id,o,a))}),e.contrs)-1==c.indexOf(d)&&e.contrs[d]&&(c.push(d),C.addInitVal(e.contrs[d],t,d,e.type+"_"+e.id,o,a));e.hierarchy=c}if(e&&"table"==e.type&&e.child)for(var f in e.child){var p=e.child[f];p.text&&C.changeKeyToName(p.text),C.changeKeyToName(p)}if(u)for(var h in u){var g=u[h],y=e[h];$.isUndefined(y)?$.isArray(g)?e[h]=g.concat():e[h]="filter"==h?{}:"cutVals"==h?null:g:"isOpen"==h?e[h]=!1:"cutVals"==h&&(e[h]=$.extend($.getDefaultCutVals(e),e[h]))}!a&&!window.isMobile&&(o?window.phoneSize.height!=window.phoneBaseSize.height:window.phoneSize.width!=window.phoneBaseSize.width)&&$&&$.otherSizeChangeContr&&(s=o?window.phoneSize.height/window.phoneBaseSize.height:window.phoneSize.width/window.phoneBaseSize.width,$.otherSizeChangeContr(e,s,!0))}},statesChangeNameToKey:function(e){for(var t in e){var n=e[t].contrs,r=e[t].transition;for(var o in $.isUndefined(r)||C.removeTransition(r),n)C.changeNameToKey(n[o],!0)}},changeNameToKey:function(e,t){for(var n in e)if(t&&-1!=p.indexOf(n)&&!$.isUndefined(e[n]))delete e[n];else{-1==h.indexOf(n)&&(e[n]=$.floatNum(e[n],2));var r=y.indexOf(n);-1==r||$.isUndefined(e[n])||(e[m[r]]=e[n],delete e[n])}},statesChangeKeyToName:function(e){for(var t in e){var n=e[t].contrs;for(var r in n)C.changeKeyToName(n[r],!0)}},changeKeyToName:function(e,t){for(var n in e){var r=m.indexOf(n);-1==r||$.isUndefined(e[n])||(t&&-1!=p.indexOf(y[r])||(e[y[r]]=e[n],-1!=h.indexOf(y[r])&&(e[y[r]]=""+e[y[r]])),delete e[n])}},removeTransition:function(e){for(var t in e){var n=e[t].contrs;for(var r in n){var o=n[r].units[0];!$.isUndefined(o.keyframes)&&2!=$.objLength(o.keyframes)||!$.isUndefined(o.props)&&0!=$.objLength(o.props)?($.isUndefined(o.index)||delete o.index,$.isUndefined(o.props)||0!=$.objLength(o.props)||delete o.props,$.isUndefined(o.keyframes)||2!=$.objLength(o.keyframes)||delete o.keyframes,$.isUndefined(o.active)||delete o.active):$.isUndefined(n[r])||delete n[r]}}}},x=C;t["default"]=x,(b=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(b.register(o,"TEXT_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(a,"IMAGE_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(i,"WRAP_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(s,"ICON_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(l,"HOT_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(u,"SYMBOL_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(c,"TABEL_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(d,"TABEL_CHILD_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(f,"TABAL_TEXT_INIT","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(p,"REMOVE_INSTATE_VAL","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(h,"NOT_NUM_KEY","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(g,"SYMBOL_DELETE_KEY","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(y,"NAME_ARR","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(m,"KEY_ARR","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(_,"typeObj","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(v,"initValRmove","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(C,"ContrInitHandle","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js"),b.register(x,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/handle/ContrInitHandle.js")),(w=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&w(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o,a=n(82),i=(o=a)&&o.__esModule?o:{"default":o};!function(){function o(e,t){for(var n=e.cssRules||e.rules||[],r=0;r<n.length;r++){var a=n[r];a.type==CSSRule.IMPORT_RULE?o(a.styleSheet,t):a.type!==CSSRule.KEYFRAMES_RULE&&a.type!==CSSRule.MOZ_KEYFRAMES_RULE&&a.type!==CSSRule.WEBKIT_KEYFRAMES_RULE||t(a,e,r)}}function a(e){this.original=e,this.keyText=e.keyText,this.css={};for(var t=e.style.cssText.split(";"),n=0;n<t.length;n++){var r=t[n].split(":");if(2==r.length){var o=r[0].replace(/^\s+|\s+$/g,""),a=r[1].replace(/^\s+|\s+$/g,"");this.css[o]=a}}}function s(e){this.original=e,this.name=e.name,this.keyframes=[],this.keytexts=[],this.keyframeHash={},this.initKeyframes()}function l(){this.animations={};for(var e=document.styleSheets,t=this.animations,n=0;n<e.length;n++)try{o(e[n],function(e){t[e.name]=new s(e)})}catch(r){}}s.prototype.initKeyframes=function(){this.keyframes=[],this.keytexts=[],this.keyframeHash={};for(var e=this.original,t=0;t<e.cssRules.length;t++){var n=new a(e.cssRules[t]);this.keyframes.push(n),this.keytexts.push(n.keyText),this.keyframeHash[n.keyText]=n}},s.prototype.getKeyframeTexts=function(){return this.keytexts},s.prototype.getKeyframe=function(e){return this.keyframeHash[e]},s.prototype.setKeyframe=function(e,t){var n=e+" {";for(var r in t)n+=r+":"+t[r]+";";if(n+="}","appendRule"in this.original)this.original.appendRule(n);else{for(var o=0;o<this.keytexts.length;o++)this.keytexts[o]==e&&this.original.deleteRule(this.keyframes[o].keyText);this.original.insertRule(n)}return this.initKeyframes(),this},s.prototype.setKeyframes=function(e){for(var t in e)this.setKeyframe(t,e[t])},s.prototype.clear=function(){for(var e=0;e<this.keyframes.length;e++)this.original.deleteRule(this.keyframes[e].keyText)},l.prototype.get=function(e){return this.animations[e]},l.prototype.getFrames=function(e){for(var t=this.animations[e].keyframes,n={},r=0;r<t.length;r++)if(-1!=t[r].keyText.indexOf(","))for(var o=t[r].keyText.split(","),a=0;a<o.length;a++)n[o[a]]=t[r].css;else n[t[r].keyText]=t[r].css;return n},l.prototype.clone=function(e,t){return this.create(t,this.getFrames(e))},l.prototype.getDynamicSheet=function(){if(!this.dynamicSheet){var e=document.createElement("style");e.rel="stylesheet",e.type="text/css",document.getElementsByTagName("head")[0].appendChild(e),this.dynamicSheet=e.sheet}return this.dynamicSheet},l.prototype.create=function(e,t){var n=this.getDynamicSheet();"object"===(void 0===e?"undefined":(0,i["default"])(e))&&(t=e,e=null),e||(e="anim"+Math.floor(1e5*Math.random()));try{var r=n.insertRule("@keyframes "+e+"{}",n.cssRules.length)}catch(a){if("SYNTAX_ERR"!=a.name&&"SyntaxError"!=a.name)throw a;r=n.insertRule("@-webkit-keyframes "+e+"{}",n.cssRules.length)}var o=new s(n.cssRules[r]);return this.animations[e]=o,t&&o.setKeyframes(t),o},l.prototype.remove=function(e){var t=this.getDynamicSheet();e=e instanceof s?e.name:e,this.animations[e]=null;try{o(t,function(t,n,r){t.name==e&&n.deleteRule(r)})}catch(n){}},(r=function(){return new l}.call(t,n,t,e))===undefined||(e.exports=r)}()},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getOwnPropertyDescriptor=__webpack_require__(127),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_getPrototypeOf=__webpack_require__(17),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(13),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(16),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(14),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(15),_inherits3=_interopRequireDefault(_inherits2),_desc,_value,_class,_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),_DistanceMeasureStore=__webpack_require__(844),_DistanceMeasureStore2=_interopRequireDefault(_DistanceMeasureStore),_ProtoPreviewStore=__webpack_require__(42),_ProtoPreviewStore2=_interopRequireDefault(_ProtoPreviewStore),_hammer=__webpack_require__(1367),_hammer2=_interopRequireDefault(_hammer),_Page=__webpack_require__(1368),_Page2=_interopRequireDefault(_Page),_DataHandle=__webpack_require__(428),_DataHandle2=_interopRequireDefault(_DataHandle),_EventHandle=__webpack_require__(994),_EventHandle2=_interopRequireDefault(_EventHandle),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _applyDecoratedDescriptor(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=undefined),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var isThreeTouches=!1,threeTouchesTimeout=null,PageContainerComp=(_class=function(_React$Component){function PageContainerComp(){(0,_classCallCheck3["default"])(this,PageContainerComp);var e=(0,_possibleConstructorReturn3["default"])(this,(PageContainerComp.__proto__||(0,_getPrototypeOf2["default"])(PageContainerComp)).call(this));return e.state={pages:window.pages,updateType:"page",updateParent:[]},_EventHandle2["default"].setUpdateFunc(e.updatePage,e.updateContr),window.goToPage=_EventHandle2["default"].goToPage,e}return(0,_inherits3["default"])(PageContainerComp,_React$Component),(0,_createClass3["default"])(PageContainerComp,[{key:"shouldComponentUpdate",value:function(){return!0}},{key:"componentDidMount",value:function(){var e=$.getElById("appContainer");(0,_hammer2["default"])(new Hammer(e,{touchAction:"auto"})).on("tap",function(e){if($(e.target).hasClass("gesture-tag"))return!1;var t=$(".current .event-show").add(".current.event-show");t.hasClass("animating")||(t.addClass("animating"),setTimeout(function(){t.removeClass("animating")},2e3)),e.stopPropagation()});new PreventOverScroll({list:["pageMask"]})}},{key:"componentWillUnmount",value:function(){}},{key:"touchStartFunc",value:function(e){3===e.touches.length&&window.wx?window.wx.miniProgram.navigateBack():3===e.touches.length&&window.tt&&window.tt.miniProgram&&(isThreeTouches||(window.tt.miniProgram.navigateBack(),isThreeTouches=!0,threeTouchesTimeout=setTimeout(function(){isThreeTouches=!1,threeTouchesTimeout&&clearTimeout(threeTouchesTimeout),threeTouchesTimeout=null},500)))}},{key:"mouseDownFunc",value:function(e){if($.setDrag&&0==$(e.target).parents(".ant-select-dropdown").length){var t=_ProtoPreviewStore2["default"].getScrollObj(),n=t.scrollTop,r=t.scrollHeight,o=this.props.scale,a=e.clientY,i=-1;$.setDrag({name:"pageContainerDrag",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){_DistanceMeasureStore2["default"].initContr();var t=$.setRegion(n+(e.clientY-a)/o,window.phoneSize.height-r,0);i!=t&&(i=t,_ProtoPreviewStore2["default"].setScrollObj({scrollTop:t}))}})}}},{key:"updatePage",value:function(e,t){t&&_DataHandle2["default"].initPageState(e),this.setState({page:window.pages,updateType:"page",reset:t})}},{key:"updateContr",value:function(e){var t=e.parentArr||_DataHandle2["default"].getContrAllParent(_DataHandle2["default"].getContrByAll(e.contrId));_DataHandle2["default"].changeState(e),this.setState({updateType:"contr",updateParent:t,updateContrId:e.contrId})}},{key:"render",value:function(){var e=this,t=[],n={},r=window.isWxxcx||window.isFeiShu||$.getUrlParam("fromApp"),o=e.props,a=o.width,i=o.height,s=o.left,l=o.top,u=void 0;return window.dragscroll.reset(),e.state.pages.forEach(function(n,r){n.active&&(u=n),t.push(_react2["default"].createElement(_Page2["default"],{key:"page"+n.key,index:r,page:n,active:n.active,reset:e.state.reset,updateType:e.state.updateType,updateParent:e.state.updateParent,updateContrId:e.state.updateContrId}))}),e.props.scale&&(n.transform="scale("+e.props.scale+")"),a&&(n.width=a,"web"!=window.platform?(n.height=i,n.left=s,n.top=l):(n.height=u.pageHeight||_ProtoPreviewStore2["default"].getScrollObj().scrollHeight/e.props.scale,n.maxHeight=($.getWinSize().height-45)/e.props.scale)),_react2["default"].createElement("div",{id:"pageContainer",className:"pageContainer"+("web"!=window.platform?" is-mobile":""),style:n,"data-scale":e.props.scale?100*e.props.scale:100,onTouchStart:window.isWxxcx||window.isFeiShu?e.touchStartFunc:$.noop,onMouseDown:window.isWxxcx||window.isFeiShu||"web"==window.platform?$.noop:e.mouseDownFunc},t,_react2["default"].createElement("div",{id:"pageMask",className:"page-mask "}),r?_react2["default"].createElement("div",{className:"app-exit-guide"},_react2["default"].createElement("div",{className:"guide-box"},_react2["default"].createElement("div",{className:"guide-img"}),_react2["default"].createElement("p",null,"三指点击退出预览"))):undefined)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PageContainerComp}(_react2["default"].Component),_applyDecoratedDescriptor(_class.prototype,"touchStartFunc",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"touchStartFunc"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"mouseDownFunc",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"mouseDownFunc"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updatePage",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"updatePage"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateContr",[_autobindDecorator2["default"]],(0,_getOwnPropertyDescriptor2["default"])(_class.prototype,"updateContr"),_class.prototype),_class),_default=PageContainerComp,reactHotLoader,leaveModule;exports["default"]=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0))["default"],reactHotLoader&&(reactHotLoader.register(isThreeTouches,"isThreeTouches","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/PageContainer.react.js"),reactHotLoader.register(threeTouchesTimeout,"threeTouchesTimeout","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/PageContainer.react.js"),reactHotLoader.register(PageContainerComp,"PageContainerComp","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/PageContainer.react.js"),reactHotLoader.register(_default,"default","/Users/liniuniu/project/xiaopiu-team/browser/src/mobileJs/components/PageContainer.react.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(42)),d=s(n(987)),f=s(n(3)),p=0,h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hideNote:c["default"].getHideNote()},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addNoteChangeListener(this._onChange),this._loadContrNotes()},t.prototype.componentWillUnmount=function(){c["default"].removeNoteChangeListener(this._onChange),this._loadContrNotes()},t.prototype._onChange=function(){this.setState({})},t.prototype._loadContrNotes=function(){var e=this;$(".page.current .contr-note-box").length!=p&&setTimeout(function(){e.setState({})},50)},t.prototype._noteMouseEnter=function(e){var t=e.currentTarget.getAttribute("data-pageid"),n=e.currentTarget.getAttribute("data-id");window.addNoteHoverClass(t,n)},t.prototype._noteMouseLeave=function(e){var t=e.currentTarget.getAttribute("data-pageid"),n=e.currentTarget.getAttribute("data-id");window.removeNoteHoverClass(t,n)},t.prototype._toggleNote=function(){d["default"].toggleNote()},t.prototype.render=function(){var e=this,t=[];e.props.note&&"discuss"!=e.props.previewInfo.mode&&e.props.note.forEach(function(n){t.push(l["default"].createElement("li",{"data-pageid":n.pageId,"data-id":n.id,id:"listPage"+n.pageId+"Note"+n.id,key:n.id,onMouseEnter:e._noteMouseEnter,onMouseLeave:e._noteMouseLeave},l["default"].createElement("p",{className:"index"},n.index),l["default"].createElement("pre",null,l["default"].createElement("p",{className:"note-content"},""==n.text.trim()?"[暂无信息]":n.text))))});var n=$(".page.current .contr-note-box");if(p=n.length,n.length>0){var r=[];n.each(function(n,o){var a=$(".page.current").attr("data-key"),i=o.getAttribute("data-note"),s=o.getAttribute("data-key"),u=o.getAttribute("data-name");-1==r.indexOf(s)&&(r.push(s),t.push(l["default"].createElement("li",{"data-pageid":a,"data-id":s,className:"contr-note-box listPage"+a+"Note"+s,id:"listPage"+a+"Note"+s,key:s+n,onMouseEnter:e._noteMouseEnter,onMouseLeave:e._noteMouseLeave},l["default"].createElement("p",{className:"index"},"N"),l["default"].createElement("span",null,"  -  "+u),l["default"].createElement("pre",null,l["default"].createElement("p",{className:"note-content"},i)))))})}return l["default"].createElement("div",{className:u["default"]("preview-lr-panel rightPanel",{fold:!e.props.previewInfo.note}),onWheel:$.stopPropagation},l["default"].createElement("div",{className:"preview-note-panel",id:"previewNotePanel"},t.length>0?l["default"].createElement("ul",null,t):l["default"].createElement("div",{className:"empty-note new-base-img"})),l["default"].createElement("div",{className:"toggle-btn",onClick:e._toggleNote}))},a([f["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),a([f["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_loadContrNotes",null),a([f["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_noteMouseEnter",null),a([f["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_noteMouseLeave",null),a([f["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_toggleNote",null),t}(l["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i,s=a(n(1)),l=a(n(11)),u=a(n(475)),c=a(n(892)),d=n(2262),f=n(2263),p=n(2264),h=n(2267),g=n(2268),y=n(2269),m=a(n(162));var _=function(e){function t(t){var n=e.call(this,t)||this;return n.state={discussList:u["default"].getDiscussList(),isEditBoxActive:u["default"].getEditData().isActive,isFirst:!0,scrollTop:u["default"]._getScrollTop()},n._getDiscussDoms=n._getDiscussDoms.bind(n),n._changeScrollTop=n._changeScrollTop.bind(n),n._listScroll=n._listScroll.bind(n),n._onChange=n._onChange.bind(n),n._onEditChange=n._onEditChange.bind(n),n}return o(t,e),t.prototype._onChange=function(){this.setState({isEditBoxActive:u["default"].getEditData().isActive,scrollTop:u["default"]._getScrollTop(),discussList:u["default"].getDiscussList()})},t.prototype._onEditChange=function(){var e={discussList:u["default"].getDiscussList()};this.setState(e)},t.prototype.componentDidMount=function(){u["default"].addChangeListener(this._onChange),u["default"].addEditChangeListener(this._onEditChange),this.state.isFirst&&this.setState({isFirst:!1})},t.prototype.componentWillUnmount=function(){u["default"].removeChangeListener(this._onChange),u["default"].removeEditChangeListener(this._onEditChange)},t.prototype._getDiscussDoms=function(){var e,t=this.state.discussList,n=[],r=[],o=0,a=!1,i=0,l=0;return 0===t.length?n.push(s["default"].createElement(d.EmptyDiscussComp,{key:"empty"})):t.forEach(function(c){if(l++,a=!!c.replyId)r.push(c);else{if(c.point&&o++,e&&u["default"]._getDiscuss(e).isReplyHide&&r.length>2){var d=r.length-2;r.splice(0,d),n.push(s["default"].createElement(y.MoreReplyComp,{key:c.id+"more",num:d,discuss:u["default"]._getDiscuss(e)}))}r.forEach(function(e){i++,n.push(s["default"].createElement(f.CommentBoxComp,{key:e.id+i,discuss:e}))}),r=[],e=c.id,u["default"].setLastID(e),c.isDone?n.push(s["default"].createElement(h.SolvedBoxComp,{key:c.id+"solved",discuss:c,index:c.point?o:-1})):n.push(s["default"].createElement(g.UnsolvedBoxComp,{key:c.id+"unsolved",discuss:c,index:c.point?o:-1}))}if(l==t.length&&a){if(u["default"]._getDiscuss(e).isReplyHide&&r.length>2){d=r.length-2;r.splice(0,d),n.push(s["default"].createElement(y.MoreReplyComp,{key:c.id+"more",num:d,discuss:u["default"]._getDiscuss(e)}))}r.forEach(function(e){i++,n.push(s["default"].createElement(f.CommentBoxComp,{key:e.id+i,discuss:e}))})}}),n},t.prototype._changeScrollTop=function(e){c["default"].setScrollTop(e)},t.prototype._listScroll=function(e){var t=this.state.scrollTop;c["default"].setScrollTop(t-e.deltaY)},t.prototype.componentDidUpdate=function(){var e=$.query(".discuss-scroll-list"),t=$.offset(e,!0).height;i!=t&&(i=t,this.setState({scrollTop:u["default"]._getScrollTop()}))},t.prototype.render=function(){var e,t=this.state,n=t.isFirst,r=t.scrollTop,o=t.isEditBoxActive,a=$.getWinSize().height-45-(o?178:60),i=0,c=!n;if(!n){var d=$.query(".discuss-scroll-list");(i=$.offset(d,!0).height)>a&&(c=!0)}var f,h,g,y=$.query(".discuss-box:last-child");if(y){var _=y.getAttribute("data-id");f=y,h=_,g=$.offset(f,!0,!1).height-43,e=u["default"].isMine(h)?-1!=f.className.indexOf("unsolved-box")?g<108?108-g:0:-1!=f.className.indexOf("solved-box")?g<141?141-g:0:g<74?74-g:0:-1!=f.className.indexOf("unsolved-box")?0:-1!=f.className.indexOf("solved-box")&&g<40?40-g:0}return s["default"].createElement("div",{className:"preview-lr-panel rightPanel",onWheel:$.stopPropagation},s["default"].createElement("div",{id:"discuss-panel",className:l["default"]("discuss-panel",{"is-edit":o,"is-create-dot":u["default"]._getEditState(),"is-mask-discuss":u["default"]._getEditState()||u["default"]._getIsHoverSpot()})},s["default"].createElement("div",{className:"discuss-list",onWheel:c?this._listScroll:$.noop},s["default"].createElement("div",{className:"discuss-scroll-list",style:{top:r,paddingBottom:e}},this._getDiscussDoms()),c?s["default"].createElement(m["default"],{boxHeight:a,maxLength:i,scrollTop:r,changeScrollTop:this._changeScrollTop}):undefined),s["default"].createElement(p.EditBoxComp,null)))},t}(s["default"].Component);t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(475)),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){return i["default"].createElement("div",{style:{height:s["default"].getEditData().isActive?533:652},className:"empty-discuss-box"},i["default"].createElement("div",{className:"empty-discuss"},i["default"].createElement("div",{className:"empty-img new-base-img"}),i["default"].createElement("div",{className:"empty-text"},"本页还没有人讨论呢，赶紧来开始讨论一下吧")))},t}(i["default"].Component);t.EmptyDiscussComp=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=n(1648),u=n(1649),c=a(n(475)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.discuss,t=e.content,n=e.replyUser,r=c["default"]._getDiscuss(e.parentId).isDone;return n&&(t="回复"+n.name+":"+t),i["default"].createElement("div",{"data-id":e.id,className:s["default"]("discuss-box comment-box",{"reply-solved-box":r})},i["default"].createElement("div",{className:"comment-content"},i["default"].createElement(u.TopContentComp,{discuss:e}),i["default"].createElement("p",{dangerouslySetInnerHTML:{__html:$.getAtUserText(t)}}),i["default"].createElement(l.BottomContentComp,{discuss:e})))},t}(i["default"].Component);t.CommentBoxComp=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=a(n(475)),u=a(n(892)),c=a(n(2265)),d=a(n(93)),f=a(n(12)),p=window.cooperationUserArr,h=[];p&&p.length>0&&(h=p.map(function(e){return $.unescapeObj(e).nickName}));var g=function(e){function t(t){var n=e.call(this,t)||this,r=l["default"].getEditData();return n.state={point:l["default"]._getEditDotData(),isEditBoxActive:r.isActive,replyId:r.replyId,editId:r.editId,textAreaValue:$.query(".edit-input")?$.query(".edit-input").innerText:l["default"].getEditContent(),hasEdit:!1},n._changeEditStateActive=n._changeEditStateActive.bind(n),n._editAddAt=n._editAddAt.bind(n),n._sendBtnClick=n._sendBtnClick.bind(n),n._onChangeState=n._onChangeState.bind(n),n._clearDot=n._clearDot.bind(n),n._cancelBtnClick=n._cancelBtnClick.bind(n),n._onChange=n._onChange.bind(n),n._onPaste=n._onPaste.bind(n),n}return o(t,e),t.prototype._onChange=function(e){this.setState({textAreaValue:$(e.target).html()}),this.state.hasEdit||this.setState({hasEdit:!0})},t.prototype._onPaste=function(e){var t=$.getElById("editInput"),n=e.clipboardData.getData("Text");t.innerHTML+=n,this.setState({textAreaValue:t.innerHTML}),this.state.hasEdit||this.setState({hasEdit:!0}),$.rangeGoEnd(e),e.preventDefault()},t.prototype._onChangeState=function(){var e=l["default"].getEditData();this.setState({point:l["default"]._getEditDotData(),textAreaValue:$.query(".edit-input")?$.query(".edit-input").innerText:l["default"].getEditContent(),isEditBoxActive:e.isActive,replyId:e.replyId,editId:e.editId})},t.prototype.componentDidMount=function(){l["default"].addEditChangeListener(this._onChangeState),l["default"].addDotChangeListener(this._onChangeState),l["default"].addChangeListener(this._onChangeState)},t.prototype.componentWillUnmount=function(){l["default"].removeEditChangeListener(this._onChangeState),l["default"].removeDotChangeListener(this._onChangeState),l["default"].removeChangeListener(this._onChangeState)},t.prototype._changeEditStateActive=function(){u["default"].editChangeState({replyId:null,isActive:!0,editId:null}),u["default"].setEditState(!0)},t.prototype._editAddAt=function(){var e=$.getElById("editInput");e.innerHTML+="@";var t=window.getSelection(),n=window.document.createRange();n.selectNodeContents(e.lastChild),n.collapse(!1),t.removeAllRanges(),t.addRange(n),$("#atParentBox").trigger("keydown"),setTimeout(function(){e.focus()},0)},t.prototype._clearDot=function(){$.tipHide(),u["default"].setEditDotData(null),setTimeout(function(){$.getElById("editInput")&&$.getElById("editInput").focus()},0)},t.prototype._cancelBtnClick=function(){u["default"].editChangeState({replyId:null,isActive:!1,editId:null}),u["default"].setEditState(!1),u["default"].setEditDotData(null),l["default"].setEditNum(null),l["default"].setReplyName(null),l["default"].setEditContent(""),this.setState({textAreaValue:""}),setTimeout(function(){var e=$.query(".project-panel");$.hasClass(e,"is-create-dot")&&$.removeClass(e,"is-create-dot"),$.hasClass($.query(".edit-dot"),"edit-dot")&&$.removeClass($.query(".edit-dot"),"edit-dot")},0)},t.prototype._sendBtnClick=function(){var e=this,t=this,n=l["default"].getEditContent();if(""==t.state.textAreaValue.trim()){var r=$.getElById("editInput");f["default"].show("评论内容不能为空"),r&&r.focus()}else if(t.state.textAreaValue||n&&!t.state.hasEdit||n&&t.state.hasEdit&&t.state.textAreaValue){if(window.noLogin)return void d["default"].registerPopupFunc();var o,a=window,i=a.view,s=a.loginInfo,c=l["default"].getEditData().replyId,p=l["default"].getEditData().editId;if(c&&!p){var h=l["default"]._getParentId(c),g=l["default"]._getDiscuss(c),y={content:t.state.textAreaValue,projectId:i.id,replyId:c,parentId:h,pageId:l["default"].getPageId()};g&&g.parentId&&(y.replyUser=g.user.id),$.ajax("/discuss/reply",y,function(n){if(o=n.id,0==n.code){var r={id:n.id,date:new Date,replyId:c,parentId:h,pageId:l["default"].getPageId(),user:{userImage:s.userImage,name:s.nickName,id:s.id},replyUser:g&&g.parentId?l["default"]._getDiscuss(c).user:undefined,isReplyHide:!0,content:t.state.textAreaValue};u["default"].discussAdd(r);u["default"].editChangeState({replyId:null,isActive:!1,editId:null}),u["default"].setEditState(!1),l["default"].setReplyName(null),e.setState({textAreaValue:""});var a=$.query(".comment-box[data-id='"+o+"']"),i=$.offset(a,!0,!1).top;u["default"].setScrollTop(l["default"]._getScrollTop()+($.getWindowWH().height-45)/2-i),setTimeout(function(){var e=$.query(".project-panel");$.hasClass(e,"is-create-dot")&&$.removeClass(e,"is-create-dot")},0)}})}else if(p){var m=l["default"].getEditContent(),_=l["default"]._getEditDotData(),v=l["default"]._getDiscuss(p).point,b=_&&!v||!_&&v,w=_?$.getCreateDotPosi(_.startPosi,_.endPosi):null,C=!b&&v&&w&&(v.posi.x!=w.posi.x||v.posi.y!=w.posi.y||v.area.w!=w.area.w||v.area.h!=w.area.h);if(m!=t.state.textAreaValue||C||b){var x=t.state.textAreaValue||m;$.ajax("/discuss/update",{id:p,content:x,point:w},function(e){0==e.code&&u["default"].discussChangeContent(p,x)})}u["default"].editChangeState({replyId:null,isActive:!1,editId:null}),u["default"].setEditDotData(null),u["default"].discussChangePoint(p,w);var S=$.query(".edit-dot");S&&$.removeClass(S,"edit-dot"),l["default"].setEditNum(null),u["default"].setEditState(!1),l["default"].setEditContent(""),$.hasClass($.getElById("project-panel"),"is-hover-dot")&&$.removeClass($.getElById("project-panel"),"is-hover-dot")}else{var P=l["default"]._getEditDotData();$.ajax("/discuss/add",{pageId:l["default"].getPageId(),content:t.state.textAreaValue,projectId:i.id,point:P?$.getCreateDotPosi(P.startPosi,P.endPosi):null},function(n){if(0==n.code){var r={id:n.id,date:new Date+"",content:t.state.textAreaValue,user:{userImage:s.userImage,name:s.nickName,id:s.id},isReplyHide:!0,pageId:l["default"].getPageId()};P&&(r.point=$.getCreateDotPosi(P.startPosi,P.endPosi)),u["default"].discussAdd(r);u["default"].editChangeState({replyId:null,isActive:!1,editId:null}),u["default"].setEditDotData(null),l["default"].setEditNum(null),u["default"].setEditState(!1),u["default"].setScrollTop(-$.offset($.query(".discuss-scroll-list"),!0,!1).height+$.offset($.query(".discuss-list"),!0,!1).height),e.setState({textAreaValue:""}),$.hasClass($.getElById("project-panel"),"is-hover-dot")&&$.removeClass($.getElById("project-panel"),"is-hover-dot")}})}}},t.prototype.render=function(){var e=this.state,t=e.isEditBoxActive,n=e.point;return t?i["default"].createElement("div",{className:"edit-box-active"},l["default"]._getReplyName()&&!this.state.textAreaValue?i["default"].createElement("span",{className:"reply-nick"},"回复 "+l["default"]._getReplyName()+" :"):undefined,i["default"].createElement("div",{className:"edit-content"},i["default"].createElement("div",{className:s["default"]({"comment-message":!0})},i["default"].createElement(c["default"],{members:h,quickSend:this._sendBtnClick},i["default"].createElement("div",{contentEditable:!0,className:"edit-input",onInput:this._onChange,id:"editInput",dangerouslySetInnerHTML:{__html:l["default"].getEditContent()},onPaste:this._onPaste}))),i["default"].createElement("div",{"data-contr":"hovertip","data-option":$.objToString({direction:"right",changePosi:-12,changeOtherPosi:-5,text:"@其他用户"}),onMouseDown:this._editAddAt,className:"option-prompt a_c new-base-img"})),i["default"].createElement("div",{className:s["default"]("edit-option")},n?i["default"].createElement("div",{className:s["default"]({"hide-discuss-dot":!l["default"]._getEditState()})},i["default"].createElement("div",{className:"dot-index a_c",onMouseDown:this._clearDot,"data-contr":"hovertip","data-option":$.objToString({direction:"bottom",text:"点击删除该打点"})},i["default"].createElement("div",{className:"cancel-dot new-base-img"}),i["default"].createElement("div",{className:"dot-number"},l["default"]._getEditNum()||(l["default"]._getEditState()?$(".spot-box").length+1:$.query(".create-dot").getAttribute("data-index"))))):undefined,i["default"].createElement("div",{className:s["default"]("discuss-base-btn",{"send-btn":!!this.state.textAreaValue,"send-btn-disabled":!this.state.textAreaValue}),onClick:this._sendBtnClick},l["default"].getEditData().editId?"保存":"发送"),i["default"].createElement("div",{className:"discuss-base-btn cancel-btn",onClick:this._cancelBtnClick},"取消"))):i["default"].createElement("div",{className:"edit-box-normal"},i["default"].createElement("input",{placeholder:"输入内容后Shift+Enter发送",onFocus:this._changeEditStateActive}))},t}(i["default"].Component);t.EditBoxComp=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),l=n(2266),u=!1,c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={atwho:null},n.handleCompositionStart=n.handleCompositionStart.bind(n),n.handleCompositionEnd=n.handleCompositionEnd.bind(n),n.handleInput=n.handleInput.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleItemHover=n.handleItemHover.bind(n),n.handleItemClick=n.handleItemClick.bind(n),n}return o(t,e),t.prototype.handleItemClick=function(){this.selectItem(),this.closePanel()},t.prototype.handleItemHover=function(e){var t=this.state.atwho,n=+l.closest(e.target,function(e){return e.dataset.index}).dataset.index;this.setState({atwho:a({},t,{cur:n})})},t.prototype.handleDelete=function(e){var t=this.state.atwho,n=l.getPrecedingRange();if(n){var r=n.toString(),o=r.lastIndexOf("@");if(o>-1){var a=r.slice(o+1,o+1+r.length);if(this.props.members.indexOf(a)>-1){var i=l.getRange();i&&(i.setStart(i.endContainer,o+1),i.deleteContents(),l.applyRange(i),t&&this.closePanel())}}}},t.prototype.handleKeyDown=function(e){var t=this,n=this.state.atwho;if(n){if(38===e.keyCode||40===e.keyCode){if(!e.metaKey&&!e.ctrlKey){e.preventDefault(),e.stopPropagation();var r=38===e.keyCode?-1:1,o=this.props.members,i=n.cur;this.setState({atwho:a({},n,{cur:(i+r+o.length)%o.length})},function(){t.refs.cur.scrollIntoViewIfNeeded()})}return}if(13===e.keyCode)return this.selectItem(),this.closePanel(),e.preventDefault(),void e.stopPropagation();if(27===e.keyCode)return void this.closePanel()}setTimeout(this.handleInput,50),8===e.keyCode?this.handleDelete(e):e.shiftKey&&13==e.keyCode&&this.props.quickSend()},t.prototype.handleCompositionStart=function(){u=!0},t.prototype.handleCompositionEnd=function(){u=!1,this.handleInput()},t.prototype.handleInput=function(){if(!u){var e=l.getPrecedingRange();if(e){var t=!0,n=e.toString(),r=n.lastIndexOf("@");r<0&&(t=!1);var o=n[r-1];/^[a-z0-9]$/i.test(o)&&(t=!1);var a=n.slice(r+1);if(/^\s/.test(a)&&(t=!1),t){var i=a.toLowerCase(),s=this.props.members.filter(function(e){return e.toLowerCase().indexOf(i)>-1});s.length?this.openPanel(s,e,r):this.closePanel()}else this.closePanel()}}},t.prototype.closePanel=function(){this.state.atwho&&this.setState({atwho:null})},t.prototype.openPanel=function(e,t,n){var r=this,o=function(){var o=t.cloneRange();o.setStart(o.endContainer,n+1);var a=o.getClientRects()[0];r.setState({atwho:{range:t,offset:n,list:e,x:a.left,y:a.top-4,cur:0}})};this.state.atwho?o():setTimeout(o,10)},t.prototype.selectItem=function(){var e=this.state.atwho,t=e.range,n=e.offset,r=e.list,o=e.cur,a=t.cloneRange();a.setStart(a.endContainer,n+1),l.applyRange(a),l.applyRange(a),document.execCommand("insertText",!1,r[o]),document.execCommand("insertText",!1," ")},t.prototype.renderList=function(){var e=this,t=this.state.atwho;if(!t)return null;var n=t.list,r=t.cur,o=t.x,a=t.y,i={},u=this.refs.wrap;if(u){var c=l.getOffset(u);i={left:$.setRegion(o-c.left,31,77),top:a-c.top+18}}return s["default"].createElement("div",{className:"atwho-panel",style:i},s["default"].createElement("div",{className:"atwho-inner"},s["default"].createElement("div",{className:"atwho-view"},s["default"].createElement("div",{className:"atwho-tip"},"选择用户或输入用户名"),s["default"].createElement("ul",{className:"atwho-view-ul"},n.map(function(t,n){var o=n===r;return s["default"].createElement("li",{key:n,className:o?"cur":"",ref:o?"cur":"","data-index":n,onMouseEnter:e.handleItemHover,onClick:e.handleItemClick},s["default"].createElement("span",null,t))})))))},t.prototype.render=function(){var e=this.props.children;return s["default"].createElement("div",{ref:"wrap",id:"atParentBox",className:"atwho-wrap",onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,onInput:this.handleInput,onKeyDown:this.handleKeyDown},this.renderList(),e)},t}(s["default"].Component);t.DiscussAtComp=c,t["default"]=c},function(e,t,n){"use strict";(function(e){var r,o,a;function i(e){var t=window.getSelection();t&&(t.removeAllRanges(),t.addRange(e))}function s(){var e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0)}function l(e,t){t=t||window;for(var n={top:e.offsetTop,left:e.offsetLeft},r=e.offsetParent;null!=r&&r!=t;)n.left+=r.offsetLeft,n.top+=r.offsetTop,r=r.offsetParent;return n}function u(e,t){do{if(t(e))return e}while(e=e&&e.parentNode)}function c(){var e=s();if(e){var t=e.cloneRange();return t.collapse(!0),t.setStart(t.endContainer,0),t}}Object.defineProperty(t,"__esModule",{value:!0}),t.applyRange=i,t.getRange=s,t.getOffset=l,t.closest=u,t.getPrecedingRange=c,(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e),(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(o.register(i,"applyRange","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/atUtil.js"),o.register(s,"getRange","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/atUtil.js"),o.register(l,"getOffset","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/atUtil.js"),o.register(u,"closest","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/atUtil.js"),o.register(c,"getPrecedingRange","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/atUtil.js")),(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&a(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(11)),l=n(1648),u=n(1649),c=a(n(475)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._chooseDiscuss=n._chooseDiscuss.bind(n),n._initDiscuss=n._initDiscuss.bind(n),n}return o(t,e),t.prototype._chooseDiscuss=function(e){$.addHoverClass(e)},t.prototype._initDiscuss=function(e){$.removeHoverClass(e)},t.prototype.render=function(){var e=this.props,t=e.discuss,n=e.index,r=t.content,o=!!r.match("<div>")||r.length>38||c["default"].hasReplyDiscuss(t.id);return i["default"].createElement("div",{onMouseEnter:this._chooseDiscuss,onMouseLeave:this._initDiscuss,"data-index":n,"data-id":t.id,className:"solved-box discuss-box hide-content-box"},i["default"].createElement(u.TopContentComp,{discuss:t,index:n,couldShowContent:o}),i["default"].createElement("p",{className:s["default"]({"text-ellipsis":!t.isDoneShow}),dangerouslySetInnerHTML:{__html:$.getAtUserText(r)}}),i["default"].createElement(l.BottomContentComp,{discuss:t}))},t}(i["default"].Component);t.SolvedBoxComp=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=n(1648),l=n(1649),u=function(e){function t(t){var n=e.call(this,t)||this;return n._initDiscuss=n._initDiscuss.bind(n),n._chooseDiscuss=n._chooseDiscuss.bind(n),n}return o(t,e),t.prototype._chooseDiscuss=function(e){$.addHoverClass(e)},t.prototype._initDiscuss=function(e){$.removeHoverClass(e)},t.prototype.render=function(){var e=this.props,t=e.discuss,n=e.index,r=this.props.discuss.content;return i["default"].createElement("div",{onMouseEnter:this._chooseDiscuss,onMouseLeave:this._initDiscuss,"data-index":n,"data-id":t.id,className:"unsolved-box discuss-box"},i["default"].createElement(l.TopContentComp,{discuss:t,index:n}),i["default"].createElement("p",{dangerouslySetInnerHTML:{__html:$.getAtUserText(r)}}),i["default"].createElement(s.BottomContentComp,{discuss:t}))},t}(i["default"].Component);t.UnsolvedBoxComp=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(892)),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._seeMore=n._seeMore.bind(n),n}return o(t,e),t.prototype._seeMore=function(){var e=this.props.discuss;s["default"].discussReplyHide(e.id)},t.prototype.render=function(){var e=this.props.num;return i["default"].createElement("div",{onClick:this._seeMore,className:"click-more-reply"},"查看更早",e,"条回复")},t}(i["default"].Component);t.MoreReplyComp=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(2271)),f=s(n(2272)),p=s(n(2273)),h=s(n(2274)),g=s(n(2275)),y=s(n(2276)),m=s(n(2328)),_=s(n(2329)),v=s(n(2330)),b=s(n(2331)),w=s(n(2332)),C=s(n(2334)),x=s(n(2336)),S=s(n(2337)),P=s(n(205)),k=s(n(171)),O=n(329),E=s(n(844)),T=s(n(893)),M=s(n(42)),D=s(n(2341)),A=s(n(12)),j=s(n(128)),I=n(169),L=window.$,R=["colorModel","codePreview","unit","doubleGraph"],B={colorModel:["RGBA","HEX","ARGB"],codePreview:{web:["CSS","LESS","SASS","SCSS","Stylus"],h5:["CSS","LESS","SASS","SCSS","Android","Swift","Stylus","wxss"]},unit:{normal:["px","dp","rem","pt"],wxss:["rpx","rem","px"]},doubleGraph:{px:["@1x","@2x","自定义"],dp:["@1x","@1.5x","@2x","@3x","@4x","自定义"],rem:["16px","12px","14px","18px","20px","自定义"],pt:["@1x","@2x","@3x","自定义"],rpx:["@1x"]}},N="web"==window.platform?"web":"h5",F=L.getSupportFont(),H=["rgba(245, 100, 100, 1)","rgba(84, 84, 84, 1)","rgba(184, 179, 179, 1)","rgba(74, 144, 226, 1)","rgba(125, 165, 191, 1)","rgba(255, 157, 157, 1)","rgba(184, 179, 179, 1)","rgba(192, 142, 142, 1)","rgba(245, 100, 100, 1)","rgba(84, 84, 84, 1)","rgba(184, 179, 179, 1)","rgba(74, 144, 226, 1)","rgba(125, 165, 191, 1)","rgba(255, 157, 157, 1)","rgba(184, 179, 179, 1)","rgba(192, 142, 142, 1)"],$=["rgba(245, 100, 100, 1)","rgba(84, 84, 84, 1)","rgba(184, 179, 179, 1)","rgba(74, 144, 226, 1)","rgba(125, 165, 191, 1)","rgba(255, 157, 157, 1)"],z=!1,U=function(e){function t(t){var n=this;return z=!0,(n=e.call(this,t)||this).state={selectContr:null,renderChange:0,sizeUnit:T["default"].getSizeUnit(),scale:T["default"].getScale(T["default"].getSizeUnit()),colorUnit:T["default"].getColorUnit(),showCustom:!1,selectKey:"",cssStyle:T["default"].getCssStyle(),isRelative:T["default"].isRelative(),selectDom:E["default"].getSelectDom()},n}return o(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.renderChange!==this.state.renderChange},t.prototype._onChange=function(){z&&this.setState({renderChange:this.state.renderChange+1,sizeUnit:T["default"].getSizeUnit(),scale:T["default"].getScale(T["default"].getSizeUnit()),colorUnit:T["default"].getColorUnit(),cssStyle:T["default"].getCssStyle(),isRelative:T["default"].isRelative(),selectDom:E["default"].getSelectDom()})},t.prototype.componentDidMount=function(){var e=this,t=window.__c;T["default"].addChangeListener(e._onChange),E["default"].addSelectChangeListener(e._onChange),z=!0,L(window.document).on("click",".mDiv,.cDiv",function(n){if(L.query(".mode-btn-mark.active")){var r,o,a=n.currentTarget;t&&(o=n.currentTarget.getAttribute("data-select"),window.__c[o]&&(r=O.fixDefaultData(window.__c[o]),L.copyToClipboard(r.content))),z&&e.setState({selectContr:r,selectKey:o}),E["default"].setSelectDom(a),T["default"].setColorFree(!1)}}).on("mousemove",".mDiv, .cDiv, #bodyWrapper",function(e){if(L.query(".mode-btn-mark.active")){var t=e.currentTarget,n=t.id,r=e.currentTarget.getAttribute("data-select");if("bodyWrapper"==n){var o=L.getElById("pageContainer");L.isNull(E["default"].getHoverContr())||(E["default"].setHoverDom(o,!0),E["default"].setHoverContr(null))}else r&&n!=E["default"].getHoverContr()&&(E["default"].setHoverDom(t,!0),E["default"].setHoverContr(n))}}).on("mouseleave","#bodyWrapper",function(e){if(L.query(".mode-btn-mark.active")&&!L.isNull(E["default"].getHoverContr())){if(E["default"].getSelectDom()){var t=L.getElById("pageContainer");E["default"].setHoverDom(t,!0)}else E["default"].setHoverDom(undefined,!0);E["default"].setHoverContr(null)}}).on("click","#reactBox",function(t){L.query(".mode-btn-mark.active")&&("bodyWrapper"!=t.target.id&&"HEADER"!=t.target.nodeName||(E["default"].initContr(),z&&e.setState({selectContr:undefined,renderChange:e.state.renderChange+1})))}),new I(".copy-link-common")},t.prototype.componentWillUnmount=function(){T["default"].removeChangeListener(this._onChange),E["default"].removeSelectChangeListener(this._onChange),z=!1},t.prototype._selectBoxFunc=function(e,t){z&&this.setState({showCustom:!1});var n=T["default"].getSizeUnit();switch(t){case"RGBA":case"HEX":case"ARGB":D["default"].setColorUnit(e);break;case"CSS":case"LESS":case"SASS":case"SCSS":case"Android":case"Swift":case"Stylus":D["default"].setCssStyle(e);break;case"wxss":D["default"].setSizeUnit("rpx"),D["default"].setCssStyle("wxss");break;case"px":case"dp":case"rem":case"pt":case"rpx":D["default"].setSizeUnit(e);break;default:"自定义"==e&&this.customUnit(n);var r="自定义"==e?"自定义":Number(e.replace(/[@px]/g,""));D["default"].setScale(n,r)}},t.prototype.customUnit=function(e){z&&this.setState({showCustom:!0,renderChange:this.state.renderChange+1})},t.prototype.showRect=function(e){var t=this.state,n=t.sizeUnit,r=t.scale;r=Number(r)?r:Number(B.doubleGraph[n][0].replace(/[@px]/g,""));var o=[];for(var a in e)e[a]!=undefined&&o.push(l["default"].createElement("div",{className:"style-rect",key:"rect-style"+a},l["default"].createElement("div",{className:"style-key"},a),l["default"].createElement("div",{className:"style-value mark-data-common copy-link-common","data-clipboard-text":L.saveTwoBit(e[a]/r,n)+n},L.saveTwoBit(e[a]/r,n),n)));return o},t.prototype.watchValue=function(e){var t=T["default"].getSizeUnit(),n=Math.round(100*Number(e.target.value.replace(/[@px]/g,"")))/100;n>200&&(n=200,e.target.value="200",A["default"].show("最大倍数200")),D["default"].setScale(t,n)},t.prototype.confirmValue=function(e){var t=this,n=T["default"].getSizeUnit(),r={showCustom:!1,renderChange:t.state.renderChange+1};if(Number(e.target.value.replace(/[@px]/g,""))){e.target.value="@"+Math.round(100*Number(e.target.value.replace(/[@px]/g,"")))/100+"x";var o=!1;B.doubleGraph[n].forEach(function(n,r){n==e.target.value&&(t._selectBoxFunc(n,"doubleGraph"),o=!0)}),o||B.doubleGraph[n].splice(-1,0,e.target.value)}else r.scale=Number(B.doubleGraph[n][0].replace(/[@px]/g,""));z&&t.setState(r)},t.prototype.hideToast=function(e){j["default"].setShow(!1),e.stopPropagation()},t.prototype.changeDistance=function(){D["default"].setRelative();var e=E["default"].getSelectDom();if(e){var t=void 0;t=T["default"].isRelative()?L(e).closest(".cDiv")[0]:L.getElById("pageContainer"),E["default"].setHoverDom(t)}},t.prototype.showUnitList=function(e){var t,n=this,r=[],o=this.state,a=o.sizeUnit,i=o.cssStyle,s=T["default"].getBaseScale(a),c=0,d=!1;"自定义"==s&&(d=!0);var f=0;return B.doubleGraph[a].forEach(function(e,t){e.replace(/[@px]/g,"")==s.toString()&&(c=t)}),t="wxss"==i?"wxss":"normal",B.unit[t].forEach(function(e,t){e==a&&(f=t)}),R.map(function(e,t){var o,s;o="doubleGraph"==e?B[e][a]:"unit"==e?"wxss"==i?B[e].wxss:B[e].normal:"codePreview"==e?B[e][N]:B[e],s=3==t?d?o[0]:o[c]:2==t?o[f]:o[0],d&&3==t&&(s=o[0]+" "),"rpx"==a&&3==t&&(s="@1x"),r.push(l["default"].createElement("div",{className:u["default"]("mark-top-menu","mark-top-"+e),key:"select-box"+t},l["default"].createElement(k["default"],{id:e,dropdownW:64,itemLeft:3==t?-13:2==t?-7:0,itemH:40,text:s,value:s,texts:o,values:o,callback:n._selectBoxFunc,itemClassName:e+"-select"})))}),r},t.prototype.render=function(){var e=M["default"].getPreviewInfo(),t=M["default"].getActivePage(!0)||{},n=this.state,r=n.sizeUnit,o=n.showCustom,a=n.selectKey,i=n.isRelative,s=n.selectDom,c=this.state.selectContr;s||(c=null);var k=L.getElById("pageContainer"),O=this.state.scale;O=Number(O)?O:Number(B.doubleGraph[r][0].replace(/[@px]/g,""));var E={X:undefined,Y:undefined,W:L.offset(k,!0).width,H:L.offset(k,!0).height};if(c&&s&&L.offset(s)){var T=L.offset(s),D=L.offset(k);E={X:i?c.left:(T.left-D.left)*O/e.scale,Y:i?c.top:(T.top-D.top)*O/e.scale,W:c.width,H:c.height}}else{var A=L.offset(L.query(".page.current"),!0);E={W:A.width*O/e.scale,H:A.height*O/e.scale}}return l["default"].createElement("div",{className:"preview-lr-panel rightPanel",onWheel:this.hideToast,"data-selectkey":a},l["default"].createElement("div",{className:"mark-list"},l["default"].createElement("div",{className:"mark-top"},o?l["default"].createElement("input",{className:"custom-input",autoFocus:!0,onChange:this.watchValue,onBlur:this.confirmValue}):undefined,this.showUnitList()),l["default"].createElement("div",{className:"mark-body-top"},l["default"].createElement("div",{className:"title-data copy-link-common","data-clipboard-text":c?c.name:t.name},c?c.name:t.name),l["default"].createElement("div",{className:"body-top-style"},this.showRect(E)),c&&c.mergeName?l["default"].createElement("div",{className:"show-distance-type",onClick:this.changeDistance},l["default"].createElement("div",{className:u["default"]({"relative-distance":i,"absolute-distance":!i})}),l["default"].createElement("div",{className:"distance-type-tip"},"相对父级")):undefined),c&&L.isAdvancedAllContr(c.type)?l["default"].createElement(S["default"],{contr:c}):undefined,c&&c.mergeName?l["default"].createElement(h["default"],{selectKey:a}):undefined,c&&c.contrs?l["default"].createElement(g["default"],{subelementData:c.contrs,selectKey:a}):undefined,c&&"image"==c.type?l["default"].createElement(f["default"],{src:c.src,name:c.name}):undefined,c&&"image"==c.type?l["default"].createElement(w["default"],{styleData:c,selectkey:a}):undefined,c&&"icon"==c.type?l["default"].createElement(d["default"],{styleData:c}):undefined,c&&"table"==c.type?l["default"].createElement(p["default"],{styleData:c,unit:r,scale:O}):undefined,c&&P["default"].isExtraBaseContr(c.type)?l["default"].createElement(x["default"],{styleData:c}):undefined,c&&"hotspot"!=c.type?l["default"].createElement(y["default"],{styleData:c,unit:r,scale:O}):undefined,c&&"text"==c.type&&c.content?l["default"].createElement(m["default"],{textContent:c.content}):undefined,c&&"text"==c.type&&c.content?l["default"].createElement(_["default"],{styleData:c,unit:r,scale:O,fontFamily:F}):undefined,c?undefined:l["default"].createElement(v["default"],{fontFamily:F}),c?undefined:l["default"].createElement(b["default"],{selfColorList:H,pageColorList:$}),c&&"hotspot"!=c.type&&"symbol"!=c.type?l["default"].createElement(C["default"],{cssData:c}):undefined))},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[String,String]),i("design:returntype",void 0)],t.prototype,"_selectBoxFunc",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[String]),i("design:returntype",void 0)],t.prototype,"customUnit",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",Array)],t.prototype,"showRect",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"watchValue",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"confirmValue",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"hideToast",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"changeDistance",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Boolean]),i("design:returntype",Array)],t.prototype,"showUnitList",null),t}(l["default"].Component);t["default"]=U},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(361)),c=s(n(586)),d=s(n(12)),f=s(n(33)),p=s(n(3)),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._iconDownloadClick=function(){var e=this,t=e.props.styleData.iconKey;d["default"].show("下载中...");var n=f["default"].get($.getIconDownLoadUrl(t,c["default"]));n.query({}),n.end(function(t,n){t?d["default"].show("网络错误，请稍后再试"):$.downloadIcon(e.props.styleData,n,u["default"])})},t.prototype.render=function(){return l["default"].createElement("div",{className:"mark-list-common"},l["default"].createElement("div",{className:"mark-list-header"},"图标"),l["default"].createElement("button",{className:"mark-list-btn",onClick:this._iconDownloadClick},"下载图标"))},a([p["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_iconDownloadClick",null),t}(l["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(361)),c=s(n(12)),d=s(n(3)),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype._downloadImg=function(){var e=this.props,t=e.src,n=e.name,r=(-1!=t.indexOf("userImages")||-1!=t.indexOf("static")||-1!=t.indexOf("images")?"https://img.xiaopiu.com":"")+t,o=r.lastIndexOf("."),a=r.substr(o);c["default"].show("下载中...");var i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="blob",i.setRequestHeader("Authorization","Basic a2VybWl0Omtlcm1pdA=="),i.onload=function(){200===i.status&&u["default"].saveAs(i.response,""+n+a)},i.send()},t.prototype.render=function(){return l["default"].createElement("div",{className:"mark-list-common"},l["default"].createElement("div",{className:"mark-list-header"},"图片"),l["default"].createElement("button",{className:"mark-list-btn",onClick:this._downloadImg},"下载原图"))},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_downloadImg",null),t}(l["default"].Component);t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(1391)),l=a(n(1392)),u=a(n(1650)),c=n(96),d=c.rgbaObjToStr,f=c.getRGBAobj,p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.styleData,n=e.unit,r=e.scale;return i["default"].createElement("div",{className:"mark-form mark-list-common"},i["default"].createElement("div",{className:"mark-list-header"},"表格"),t.backColor&&t.hasBackColor?i["default"].createElement(s["default"],{headerName:"背景色",colorPanelName:"common-color-panel",colorDataName:"common-color-data",bgColor:d(f(t.backColor))}):undefined,i["default"].createElement(l["default"],{headerName:"行数",headerClassName:"common-line",dataClassName:"common-line-data",value:t.linePosi.length}),i["default"].createElement(l["default"],{headerName:"列数",headerClassName:"common-column",dataClassName:"common-column-data",value:t.columnPosi.length}),t.innerBorder?i["default"].createElement(u["default"],{headerName:"内边框",colorPanelName:"form-border-panel",dataClassName:"border-data",unit:n,scale:r,value:t.innerBorder}):undefined,t.outerBorder?i["default"].createElement(u["default"],{headerName:"外边框",headerClassName:"",colorPanelName:"form-border-panel",dataClassName:"border-data",unit:n,scale:r,value:t.outerBorder}):undefined)},t}(i["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(1739)),l=s["default"].btnClickFunc,u=s["default"].btnMouseEnterFunc,c=s["default"].btnMouseLeaveFunc,d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e,t,n=window.__c,r=this.props.selectKey;if(n){var o=r.split(" ");n[e=o.slice(0,o.length-1).join(" ")]&&(t=n[e])}return t?i["default"].createElement("div",{className:"mark-list-common"},i["default"].createElement("div",{className:"mark-list-header"},"父级集合"),i["default"].createElement("button",{className:"common-btn parent-set-btn",onClick:l,onMouseEnter:u,onMouseLeave:c,"data-select":e},t.name)):null},t}(i["default"].Component);t["default"]=d},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(1739)),d=c["default"].btnClickFunc,f=c["default"].btnMouseEnterFunc,p=c["default"].btnMouseLeaveFunc,h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.showChildren=function(){var e=this.props.selectKey,t=[],n=this.props.subelementData;for(var r in n){var o=n[r],a=o.type,i=o.id,s=o.name,u=e+" ."+a+"_"+i;t.push(l["default"].createElement("button",{className:"common-btn subelement-btn",onClick:d,onMouseEnter:f,onMouseLeave:p,"data-select":u,key:r},s))}return t},t.prototype.render=function(){return l["default"].createElement("div",{className:"mark-list-common mark-list-subelement"},l["default"].createElement("div",{className:"mark-list-header"},"子元素"),this.showChildren())},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Array)],t.prototype,"showChildren",null),t}(l["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(1391)),d=s(n(1392)),f=s(n(1650)),p=s(n(3)),h=s(n(2277)),g=n(96),y=g.rgbaObjToStr,m=g.getRGBAobj,_=window.$,v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.showShadow=function(){var e=this.props,t=e.unit,n=e.scale,r=[],o=this.props.styleData.shadow,a=["X","Y","模糊","扩展"],i=["x","y","blur","spread"];return _.isArray(o)||(o=[0,o,o,0,"rgba(0, 0, 0, 0.5)"]),o.slice(0,4).forEach(function(e,s){var c=_.saveTwoBit(o[s]/_.getScaleRatio()/Number(n),t)+t;r.push(l["default"].createElement("div",{className:u["default"]("shadow-list","shadow-"+i[s]),key:"shadow-style"+s},l["default"].createElement("div",{className:"shadow-list-head"},a[s]),l["default"].createElement("div",{"data-contr":"hovertip","data-option":'{"text":"'+c+'"}',className:"a_c shadow-list-text copy-link-common","data-clipboard-text":c},l["default"].createElement("span",null,c))))}),r},t.prototype.render=function(){var e=this.props,t=e.styleData,n=e.unit,r=e.scale;return l["default"].createElement("div",{className:"mark-list-common mark-style-data"},l["default"].createElement("div",{className:"mark-list-header"},"样式"),t.backColor&&t.hasBackColor||t.iconColor&&!_.isAdvancedAllContr(t.type)?l["default"].createElement(c["default"],{headerName:t.iconColor?"颜色":"背景色",colorPanelName:"style-color-panel",bgColor:y(m(t.backColor||t.iconColor))}):undefined,l["default"].createElement(d["default"],{headerName:"不透明度",contentHeaderClassName:"style-content-header",value:_.isUndefined(t.opacity)?100:Math.round(t.opacity),isOpacity:!0}),t.radius&&!_.isAdvancedAllContr(t.type)?l["default"].createElement(d["default"],{headerName:"圆角",headerClassName:"chart-input",value:t.isMaxRadius?Math.min(t.width,t.height)/2:t.radius,unit:n,scale:r}):undefined,t.rotate?l["default"].createElement(d["default"],{headerName:"旋转",headerClassName:"chart-input",value:Math.round(t.rotate)}):undefined,t.insetBorder&&t.insetBorder[1]?l["default"].createElement(f["default"],{headerName:"内描边",colorPanelName:"style-border-panel",dataClassName:"border-data",value:t.insetBorder,unit:n,scale:r}):undefined,t.border&&t.border[1]?l["default"].createElement(f["default"],{headerName:"外描边",colorPanelName:"style-border-panel",dataClassName:"border-data",value:t.border,unit:n,scale:r}):undefined,t.shadow&&!t.shadow[5]?l["default"].createElement(c["default"],{headerName:"阴影",colorPanelName:"style-color-panel",bgColor:_.isArray(t.shadow)?t.shadow[4]:"rgba(0,0,0,0.5)"}):undefined,t.shadow&&t.shadow[5]?l["default"].createElement(c["default"],{headerName:"内阴影",colorPanelName:"style-color-panel",bgColor:t.shadow[4]}):undefined,t.shadow?l["default"].createElement("div",{className:"mark-style-shadow"},this.showShadow()):undefined,_.isAdvancedAllContr(t.type)?l["default"].createElement(h["default"],{contr:t,unit:n,scale:r}):undefined)},a([p["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Array)],t.prototype,"showShadow",null),t}(l["default"].Component);t["default"]=v},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(2278)),d=l(n(2279)),f=l(n(1391)),p=l(n(1392)),h=l(n(1650)),g=l(n(2280)),y=l(n(1607)),m=l(n(1740)),_=l(n(3)),v=window.$,b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this,t=e.props.contr,n=[],r=m["default"].getContrMark(t.type).style||[];return r[0]&&"contrTitleSet"!=r[0][0]&&r.unshift(["contrTitleSet"]),r.forEach(function(r,o){n.push(e._getDomFunc(r,v.getContrId(t),t,o))}),u["default"].createElement("div",null,n)},t.prototype._getDomFunc=function(e,t,n,r){var o,i=this.props,s=i.scale,l=i.unit,m=e[0],_=e[1]||{};switch(m){case"title":o=c["default"];break;case"rect":o=d["default"];break;case"color":o=f["default"];break;case"data":o=p["default"];break;case"border":o=h["default"];break;case"text":o=g["default"];break;case"state":o=y["default"]}return o?u["default"].createElement(o,a({key:m+_.name+r,data:e[1],contrKey:t,contr:n,unit:l,scale:s},_)):undefined},i([_["default"],s("design:type",Function),s("design:paramtypes",[Object,String,Object,Number]),s("design:returntype",void 0)],t.prototype,"_getDomFunc",null),t}(u["default"].Component);t["default"]=b},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.data,r=n?n.name:t;return i["default"].createElement("div",{className:"mark-list-common mark-style-data mark-style-second"},i["default"].createElement("div",{className:"mark-list-header"},r))},t}(i["default"].Component);t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e,t=this.props,n=t.width,r=t.unit,o=t.height,a=t.contr,s=t.data,l=t.scale,u=a[s.value.height];if(-1==s.value.width.indexOf("&"))e=a[s.value.width];else{var c=s.value.width.split("&");e=a[c[0]]-a[c[1]]}var d=s?[e,u]:[n,o],f=["W","H"];return i["default"].createElement("div",{className:"mask-size-data"},d.map(function(e,t){var n=$.saveTwoBit(e/Number(l),r)+r;return i["default"].createElement("div",{className:"style-rect",key:"rect-style-wh"+e},i["default"].createElement("div",{className:"style-key"},f[t]),i["default"].createElement("div",{className:"style-value mark-data-common copy-link-common","data-clipboard-text":n},n))}))},t}(i["default"].Component);t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(893)),d=s(n(3)),f=n(96),p=f.rgbaObjToStr,h=f.getRGBAobj,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={changedColor:""},n}return o(t,e),t.prototype.changeColorStyle=function(){var e=c["default"].getColorUnit();switch(c["default"].setColorFree(!0),this.state.changedColor){case"":this.setState({changedColor:e});case"RGBA":this.setState({changedColor:"HEX"});break;case"HEX":this.setState({changedColor:"ARGB"});break;case"ARGB":this.setState({changedColor:"RGBA"})}},t.prototype.render=function(){var e=this.props,t=e.headerName,n=e.colorPanelName,r=e.colorDataName,o=e.bgColor,a=e.fontSize,i=e.unit,s=e.data,d=e.contr,f=e.scale,g=e.isShowFunc;if(g&&!g(d))return null;var y=this.state.changedColor,m=c["default"].getcolorFree(),_=c["default"].getColorUnit(),v=(m?y:_)||"RGBA",b=s?s.name||"文本":t,w=s?$.isUndefined(d[s.value.size])?s.value.size:d[s.value.size]:a,C=p(h(s?d[s.value.color]||s.value.color:o)),x=$.changeColorUnit(C,v),S=$.saveTwoBit(w/$.getScaleRatio()/Number(f),i)+i,P=(s?d[s.value.color]||s.value.color:o).split(",")[3],k="1)"==P||" 1)"==P;return l["default"].createElement("div",{className:"mark-list-content"},l["default"].createElement("div",{className:"list-content-header"},b),l["default"].createElement("div",{"data-unit":v,onClick:this.changeColorStyle,className:u["default"]("mark-color-panel",""+n,{"mark-opacity-color-panel":!k})},l["default"].createElement("div",{className:"bgColor-color color-val",style:{background:C}})),l["default"].createElement("div",{"data-contr":"hovertip",className:u["default"]("a_c mark-bg-color mark-data-common copy-link-common",""+r),"data-clipboard-text":x,"data-option":'{"text":"'+x+'"}'},l["default"].createElement("span",null,x)),l["default"].createElement("div",{"data-contr":"hovertip",className:u["default"]("a_c mark-font-size mark-data-common copy-link-common"),"data-clipboard-text":S},l["default"].createElement("span",null,S)))},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"changeColorStyle",null),t}(l["default"].Component);t["default"]=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["title",{name:"按钮"}],["rect",{value:{width:"btnWidth",height:"height"}}],["color",{name:"背景色",value:"btnBackground"}],["data",{name:"圆角",value:"btnRadius"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}],["data",{name:"内容",value:["leftBtnText","rightBtnText"]}],["text",{value:{color:"btnTextColor",size:"btnFontSize"}}],["title",{name:"指示器"}],["text",{value:{color:"textColor",size:"fontSize"}}],["state",{name:"高亮态"}],["color",{name:"文本",value:"activeTextColor"}]],data:[["theme",{value:["activeTextColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["title",{name:"选项"}],["data",{name:"高度",value:"listHeight"}],["border",{name:"线条",value:{color:"rgba(221,221,221,1)",size:1}}],["text",{value:{color:"textColor",size:"fontSize"}}]],data:[["theme",{value:["selectIconColor"]}],["content",{value:"advancedListDefaultData"}],["icon",{value:["done&selectIconColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["title",{name:"选项"}],["data",{name:"高度",value:"listHeight"}],["border",{name:"线条",value:{color:"rgba(221,221,221,1)",size:1}}],["text",{value:{color:"textColor",size:"fontSize"}}]],data:[["theme",{value:["selectIconColor"]}],["content",{value:"advancedListDefaultData"}],["icon",{value:["panorama_fish_eye","check_circle&selectIconColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["color",{name:"按钮色",value:"btnColor"}],["color",{name:"背景色",value:"background"}],["state",{name:"选中态"}],["color",{name:"背景色",value:"themeColor"}]],data:[["theme",{value:["themeColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["data",{name:"高度",value:"height"}],["data",{name:"内容",value:["title"]}],["text",{value:{color:"textColor",size:"fontSize"}}]],data:[["theme",{value:["themeColor"]}],["content",{value:"advancedListDefaultData"}],["icon",{value:["reorder","panorama_fish_eye","done&rgba(74,144,226,1)","check_circle&rgba(74,144,226,1)"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["color",{name:"背景色",value:"background"}],["data",{name:"圆角",value:4}],["text",{value:{color:"textColor",size:"fontSize"}}],["state",{name:"选中"}],["color",{name:"背景色",value:"activeColor"}],["text",{value:{color:"activeTextColor",size:"fontSize"}}]],data:[["theme",{value:["themeColor"]}],["content",{value:"advancedListDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["border",{name:"线条",value:{color:"rgba(221,221,221,1)",size:1}}],["data",{name:"内容",value:"title"}],["text",{value:{color:"textColor",size:"fontSize"}}]],data:[["icon",{value:["chevron_right"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["border",{name:"线条",value:{color:"rgba(221,221,221,1)",size:1}}],["data",{name:"内容",value:"title"}],["text",{value:{color:"textColor",size:"fontSize"}}]],data:[["icon",{value:["chevron_right"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["title",{name:"标题"}],["data",{name:"高度",value:"listHeight"}],["color",{name:"背景色",value:"background"}],["text",{value:{color:"textColor",size:"fontSize"}}],["title",{name:"内容"}],["color",{name:"背景色",value:"childBackground"}],["text",{value:{color:"childTextColor",size:"childFontSize"}}]],data:[["content",{value:"advancedDefaultData"}],["icon",{value:["expand_less","expand_more"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["data",{name:"圆角",value:"radius"}],["title",{name:"指示点"}],["color",{name:"背景色",value:"dotColor"}],["state",{name:"选中态"}],["color",{name:"背景色",value:"activeDotColor"}]],data:[["img",{value:{data:"data",type:"type"}}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["text",{value:{color:"textColor",size:"fontSize"}}]],data:[["content",{value:"advancedListDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["title",{name:"滑块"}],["rect",{value:{width:"btnWidthHeight",height:"btnWidthHeight"}}],["color",{name:"背景色",value:"btnBackground"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}],["title",{name:"背景条"}],["data",{name:"高度",value:"lineHeight"}],["color",{name:"背景色",value:"lineColor"}],["state",{name:"已选区域"}],["color",{name:"背景色",value:"lineSelectColor"}]],data:[["theme",{value:["lineSelectColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["title",{name:"滑块"}],["rect",{value:{width:"btnWidthHeight",height:"btnWidthHeight"}}],["color",{name:"背景色",value:"btnBackground"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}],["title",{name:"背景条"}],["rect",{value:{width:"maxVal&minVal",height:"height"}}],["color",{name:"背景色",value:"lineColor"}],["state",{name:"已选区域"}],["color",{name:"背景色",value:"lineSelectColor"}]],data:[["theme",{value:["lineSelectColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["text",{value:{color:"textColor",size:"fontSize"}}],["title",{name:"按钮"}],["rect",{value:{width:"btnWidthHeight",height:"btnWidthHeight"}}],["color",{name:"背景色",value:"btnBackground"}],["data",{name:"圆角",value:"btnRadius"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}]],data:[["theme",{value:["btnIconColor"]}],["icon",{value:["remove","add"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["border",{name:"线条",value:{color:"rgba(221,221,221,1)",size:1}}],["data",{name:"内容",value:"title"}],["text",{value:{color:"textColor",size:"fontSize"}}]],data:[["content",{value:"advancedListDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["color",{name:"背景色",value:"background"}]],data:[["theme",{value:["themeColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["data",{name:"圆角",value:"radius"}],["title",{name:"指示点"}],["color",{name:"背景色",value:"dotBackground"}],["state",{name:"选中态"}],["color",{name:"背景色",value:"dotSelectBackground"}]],data:[["img",{value:{data:"data",type:"type"}}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["color",{name:"背景色",value:"btnBackground"}],["data",{name:"圆角",value:"btnRadius"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}],["data",{name:"提示语",value:"placeholder"}],["text",{value:{color:"btnTextColor",size:"btnFontSize"}}]],data:[["content",{value:"advancedListDefaultData"}],["icon",{value:["expand_more","expand_less"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["text",{value:{color:"textColor",size:"fontSize"}}]],data:[["theme",{value:["selectIconColor"]}],["content",{value:"advancedListDefaultData"}],["icon",{value:["check_box_outline_blank","check_box&selectIconColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["title",{name:"面板"}],["data",{name:"圆角",value:"radius"}],["border",{name:"描边",value:{color:"borderColor",size:"border"}}],["title",{name:"标题"}],["data",{name:"高度",value:"listHeight"}],["text",{value:{color:"textColor",size:"fontSize"}}],["color",{name:"背景色",value:"headerBackground"}],["title",{name:"内容"}],["color",{name:"背景色",value:"childBackground"}],["text",{value:{color:"childTextColor",size:"childFontSize"}}]],data:[["content",{value:"advancedDefaultData"}],["icon",{value:["expand_less","expand_more"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["color",{name:"背景色",value:"btnBackground"}],["data",{name:"圆角",value:"btnRadius"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}],["data",{name:"提示语",value:"placeholder"}],["text",{value:{color:"btnTextColor",size:"btnFontSize"}}]],data:[["icon",{value:["date_range"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["color",{name:"背景色",value:"btnBackground"}],["data",{name:"圆角",value:"btnRadius"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}],["data",{name:"内容",value:"btnContent"}],["text",{value:{color:"btnTextColor",size:"btnFontSize"}}]],data:[["theme",{value:["hoverBackground"]}],["content",{value:"advancedListDefaultData"}],["icon",{value:["expand_more"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["title",{name:"面板"}],["color",{name:"背景色",value:"background"}],["text",{value:{color:"textColor",size:"fontSize"}}],["state",{name:"选中态"}],["border",{name:"线条",value:{color:"lineColor",size:"lineWidth"}}],["text",{value:{color:"selectTextColor",size:"selectFontSize"}}]],data:[["theme",{value:["themeColor"]}],["content",{value:"advancedListDefaultData"}],["icon",{value:["expand_less","view_module","expand_more"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["title",{name:"按钮"}],["color",{name:"背景色",value:"btnBackground"}],["data",{name:"圆角",value:"btnRadius"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}],["text",{value:{color:"btnTextColor",size:"btnFontSize"}}]],data:[["theme",{value:["themeColor"]}],["icon",{value:["chevron_left","chevron_right"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["text",{value:{color:"textColor",size:"fontSize"}}]],data:[["theme",{value:["selectIconColor"]}],["content",{value:"advancedListDefaultData"}],["icon",{value:["radio_button_unchecked","radio_button_checked&selectIconColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["text",{name:"图标",value:{color:"iconColor",size:"iconSize"}}],["state",{name:"选中态"}],["text",{name:"图标",value:{color:"selectIconColor",size:"iconSize"}}]],data:[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["color",{name:"背景色",value:"btnBackground"}],["data",{name:"圆角",value:"btnRadius"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}],["data",{name:"提示语",value:"placeholder"}],["text",{value:{color:"btnTextColor",size:"btnFontSize"}}]],data:[["content",{value:"advancedListDefaultData"}],["icon",{value:["expand_more","expand_less"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["title",{name:"滑块"}],["rect",{value:{width:"btnWidthHeight",height:"btnWidthHeight"}}],["color",{name:"背景色",value:"btnBackground"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}],["title",{name:"背景条"}],["data",{name:"高度",value:"lineHeight"}],["color",{name:"背景色",value:"lineColor"}],["state",{name:"已选区域"}],["color",{name:"背景色",value:"lineSelectColor"}]],data:[["theme",{value:["lineSelectColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["color",{name:"按钮色",value:"btnColor"}],["color",{name:"背景色",value:"background"}],["state",{name:"选中态"}],["color",{name:"背景色",value:"themeColor"}]],data:[["theme",{value:["themeColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["color",{name:"背景色",value:"btnBackground"}],["data",{name:"圆角",value:"btnRadius"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}],["data",{name:"提示语",value:"placeholder"}],["text",{value:{color:"btnTextColor",size:"btnFontSize"}}]],data:[["icon",{value:["schedule"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["color",{name:"背景色",value:"background"}],["data",{name:"圆角",value:"radius"}],["border",{name:"描边",value:{color:"borderColor",size:"border"}}],["data",{name:"标题1",value:"listOneName"}],["data",{name:"标题2",value:"listTwoName"}],["text",{value:{color:"textColor",size:"fontSize"}}]],data:[["theme",{value:["themeColor"]}],["content",{value:"advancedListDefaultData"}],["icon",{value:["check_box_outline_blank","chevron_left","chevron_right","search","check_box&rgba(74,144,226,1)"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["text",{value:{color:"textColor",size:"fontSize"}}]],data:[["theme",{value:["checkboxIconColor"]}],["content",{value:"advancedListDefaultData"}],["icon",{value:["play_arrow","arrow_drop_down"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["color",{name:"背景色",value:"btnBackground"}],["data",{name:"圆角",value:"btnRadius"}],["border",{name:"描边",value:{color:"btnBorderColor",size:"btnBorder"}}],["data",{name:"提示语",value:"placeholder"}],["text",{value:{color:"btnTextColor",size:"btnFontSize"}}]],data:[["content",{value:"advancedListDefaultData"}],["icon",{value:["expand_more","expand_less"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:[["theme",{value:["barColor"]}],["content",{value:"chartDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["data",{name:"内半径",value:"inner"}],["text",{name:"标题",value:{color:"rgba(0,0,0,0.45)",size:"titleFontSize"}}],["text",{name:"数值",value:{color:"rgba(51,51,51,1)",size:"textFontSize"}}],["state",{isShowFunc:function(e){return e.hasLegend},name:"图例"}],["text",{isShowFunc:function(e){return e.hasLegend},value:{color:"rgba(80,80,80,1)",size:"legendFontSize"}}]],data:[["theme",{value:["colorList"]}],["content",{value:"chartDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["text",{name:"标题",value:{color:"rgba(0,0,0,0.43)",size:"titleFontSize"}}],["text",{name:"数值",value:{color:"rgba(0,0,0,0.85)",size:"percentFontSize"}}]],data:[["theme",{value:["progressColor","defaultColor"]}],["content",{val:["title","percent","degree"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:[["theme",{value:["barColor"]}],["content",{value:"chartDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["border",{name:"线条",value:{color:"rgba(42,130,228,1)",size:2}}]],data:[["theme",{value:["lineColor"]}],["content",{value:"chartDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["border",{name:"线条",value:{color:"lineColor",size:2}}]],data:[["theme",{value:["areaColor","lineColor"]}],["content",{value:"chartDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[],data:[["theme",{value:["barColor"]}],["content",{value:"chartDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["data",{name:"内半径",value:"inner"}],["state",{isShowFunc:function(e){return e.hasLegend},name:"图例"}],["text",{isShowFunc:function(e){return e.hasLegend},value:{color:"rgba(80,80,80,1)",size:"legendFontSize"}}]],data:[["theme",{value:["colorList"]}],["content",{value:"chartDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["data",{name:"线宽",value:"lineWidth"}],["text",{isShowFunc:function(e){return e.showText},name:"数值",value:{color:"textColor",size:80}}]],data:[["theme",{value:["progressColor","defaultColor"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["text",{value:{color:"rgba(51,51,51,1)",size:"fontSize"}}],["state",{isShowFunc:function(e){return e.hasLegend},name:"图例"}],["text",{isShowFunc:function(e){return e.hasLegend},value:{color:"rgba(0,0,0,0.45)",size:"legendFontSize"}}],["text",{name:"数值",value:{color:"rgba(51,51,51,1)",size:"dataFontSize"}}]],data:[["theme",{value:["typeFirstColor","typeSecondColor","typeThirdColor","typeFourthColor","typeFifthColor"]}],["content",{value:"chartDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["border",{name:"线条",value:{color:"rgba(63,130,221,1)",size:2}}],["state",{isShowFunc:function(e){return e.hasLegend},name:"图例"}],["text",{isShowFunc:function(e){return e.hasLegend},value:{color:"rgba(80,80,80,1)",size:"legendFontSize"}}]],data:[["theme",{value:["rgba(63,130,221,1)","rgba(108,203,132,1)"]}],["content",{value:"chartDefaultData"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["data",{name:"内半径",value:"inner"}]],data:[["theme",{value:["progressColor","defaultColor"],title:"图标颜色"}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[["text",{name:"标题",value:{color:"rgba(0,0,0,0.45)",size:"titleFontSize"}}],["text",{name:"数值",value:{color:"rgba(51,51,51,1)",size:"percentFontSize"}}]],data:[["theme",{value:["color","borderColor","fontColor","percentColor"]}],["content",{val:["title","percent"]}]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={style:[],data:[["theme",{value:["progressColor","defaultColor"],title:"组件颜色"}]]}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.textContent;return i["default"].createElement("div",{className:"mark-list-common mark-text-content"},i["default"].createElement("div",{className:"mark-list-header"},"文本内容"),i["default"].createElement("div",{className:"mark-list-text copy-link-common","data-clipboard-text":e},e))},t}(i["default"].Component);t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(1391)),l=a(n(1392)),u=n(96),c=u.rgbaObjToStr,d=u.getRGBAobj,f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.styleData,n=e.unit,r=e.scale,o=e.fontFamily;return i["default"].createElement("div",{className:"mark-list-common"},i["default"].createElement("div",{className:"mark-list-header"},"文字"),i["default"].createElement("div",{className:"word-title title-data copy-link-common","data-clipboard-text":o},o),i["default"].createElement(s["default"],{headerName:"颜色",colorPanelName:"common-color-panel",colorDataName:"common-color-data",bgColor:c(d(t.textColor))}),i["default"].createElement("div",{className:"font-style"},i["default"].createElement(l["default"],{headerName:"字号",headerClassName:"common-column",dataClassName:"common-column-data",value:t.fontSize,unit:n,scale:r}),t.isI?i["default"].createElement(l["default"],{headerName:"斜体",headerClassName:"common-column",dataClassName:"common-column-data",value:"italic",visibility:!t.isI}):undefined,t.isB?i["default"].createElement(l["default"],{headerName:"粗体",headerClassName:"common-column",dataClassName:"common-column-data",value:"bold",visibility:!t.isB}):undefined,t.isU?i["default"].createElement(l["default"],{headerName:"下划线",headerClassName:"common-column",dataClassName:"common-column-data",value:"underline",visibility:!t.isU}):undefined),i["default"].createElement(l["default"],{headerName:"行间距",headerClassName:"common-line",dataClassName:"common-line-data",value:t.lineHeight,isLineHeight:!0}),0!=t.indent?i["default"].createElement(l["default"],{headerName:"字间距",headerClassName:"common-column",dataClassName:"common-column-data",value:t.indent,unit:n,scale:r}):undefined,i["default"].createElement("div",{className:"mark-list-content mark-word"},i["default"].createElement("div",{className:"list-content-header word-content-header"},"对齐方式"),i["default"].createElement("div",{className:"mark-data-common mark-word-text copy-link-common","data-clipboard-text":$.changeHorTextStyle(t.horizontal,!0)},$.changeHorTextStyle(t.horizontal,!0)),i["default"].createElement("div",{className:"mark-data-common mark-word-text copy-link-common","data-clipboard-text":$.changeVerTextStyle(t.vertical,!0)},$.changeVerTextStyle(t.vertical,!0))))},t}(i["default"].Component);t["default"]=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.fontFamily;return i["default"].createElement("div",{className:"mark-list-common"},i["default"].createElement("div",{className:"mark-list-header"},"字体"),i["default"].createElement("div",{className:"title-data copy-link-common","data-clipboard-text":e},e))},t}(i["default"].Component);t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=(a(n(893)),function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){return null},t}(i["default"].Component));t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(893)),c=s(n(2333)),d=s(n(3));var f=1,p=!1,h="",g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={colorList:[]},n}return o(t,e),t.prototype.componentDidMount=function(){this.updateImageColor()},t.prototype.componentDidUpdate=function(){this.updateImageColor()},t.prototype.updateImageColor=function(){var e,t,n,r=this,o=r.props.styleData.src;if(p=!0,h!=o)if(h=o,-1!=o.indexOf("defaultImg"))r.setState({colorList:[[217,217,217],[162,162,162]]});else{var a=new c["default"];e=$.getStaticUrl()+o,t=function(e){p&&r.setState({colorList:a.getPalette(e,8)||[]})},(n=new Image).crossOrigin="Anonymous",n.src=e,n.onload=function(){t&&t(n)}}},t.prototype.componentWillUnmount=function(){p=!1,h=""},t.prototype.render=function(){var e=this.state.colorList,t=u["default"].getColorUnit(),n=[];return e.forEach(function(e){-1==n.indexOf(e)&&n.push(e)}),n.length>0?l["default"].createElement("div",{className:"mark-list-common"},l["default"].createElement("div",{className:"mark-list-header"},"图片颜色"),l["default"].createElement("div",{className:"mark-color-list page-color-list"},(n||[]).map(function(e){var n="rgba("+e[0]+", "+e[1]+", "+e[2]+", 1)";return l["default"].createElement("div",{"data-clipboard-text":$.changeColorUnit(n,t),"data-contr":"hovertip","data-option":$.objToString({direction:"bottom",text:""+$.changeColorUnit(n,t),changePosi:16}),className:"a_c color-panel copy-link-common color-"+n,key:f++,style:{background:""+n}})}))):null},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"updateImageColor",null),t}(l["default"].Component);t["default"]=g},function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var o=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=e.width,this.height=this.canvas.height=e.height,this.context.drawImage(e,0,0,this.width,this.height)};o.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},o.prototype.update=function(e){this.context.putImageData(e,0,0)},o.prototype.getPixelCount=function(){return this.width*this.height},o.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},o.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var a=function(){};if(a.prototype.getColor=function(e,t){return this.getPalette(e,5,t)[0]},a.prototype.getPalette=function(e,t,n){(void 0===t||t<2||t>256)&&(t=10),(void 0===n||n<1)&&(n=10);for(var r,a,i,s,l=new o(e),c=l.getImageData().data,d=l.getPixelCount(),f=[],p=0;p<d;p+=n)a=c[(r=4*p)+0],i=c[r+1],s=c[r+2],c[r+3]>=125&&(a>250&&i>250&&s>250||f.push([a,i,s]));var h=u.quantize(f,t),g=h?h.palette():null;return l.removeCanvas(),g},a.prototype.getColorFromUrl=function(e,t,n){sourceImage=document.createElement("img");var r=this;sourceImage.addEventListener("load",function(){var o=r.getPalette(sourceImage,5,n)[0];t(o,e)}),sourceImage.src=e},a.prototype.getImageData=function(e,t){xhr=new XMLHttpRequest,xhr.open("GET",e,!0),xhr.responseType="arraybuffer",xhr.onload=function(e){if(200==this.status){uInt8Array=new Uint8Array(this.response),n=uInt8Array.length,binaryString=new Array(n);for(var n=0;n<uInt8Array.length;n++)binaryString[n]=String.fromCharCode(uInt8Array[n]);data=binaryString.join(""),base64=window.btoa(data),t("data:image/png;base64,"+base64)}},xhr.send()},a.prototype.getColorAsync=function(e,t,n){var r=this;this.getImageData(e,function(e){sourceImage=document.createElement("img"),sourceImage.addEventListener("load",function(){var e=r.getPalette(sourceImage,5,n)[0];t(e,this)}),sourceImage.src=e})},!i)var i={map:function(e,t){var n={};return t?e.map(function(e,r){return n.index=r,t.call(n,e)}):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,r,o){return n.index=o,e+t.call(n,r)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?i.map(e,t):e)}};var s,l,u=function(){var e=5,t=8-e,n=1e3,r=.75;function o(t,n,r){return(t<<2*e)+(n<<e)+r}function a(e){var t=[],n=!1;function r(){t.sort(e),n=!0}return{push:function(e){t.push(e),n=!1},peek:function(e){return n||r(),e===undefined&&(e=t.length-1),t[e]},pop:function(){return n||r(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return n||r(),t}}}function s(e,t,n,r,o,a,i){this.r1=e,this.r2=t,this.g1=n,this.g2=r,this.b1=o,this.b2=a,this.histo=i}function l(){this.vboxes=new a(function(e,t){return i.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function u(e,t){if(t.count()){var n=t.r2-t.r1+1,r=t.g2-t.g1+1,a=t.b2-t.b1+1,s=i.max([n,r,a]);if(1==t.count())return[t.copy()];var l=0,u=[],c=[],d=void 0,f=void 0,p=void 0,h=void 0;if(s==n)for(d=t.r1;d<=t.r2;d++){for(h=0,f=t.g1;f<=t.g2;f++)for(p=t.b1;p<=t.b2;p++)h+=e[o(d,f,p)]||0;l+=h,u[d]=l}else if(s==r)for(d=t.g1;d<=t.g2;d++){for(h=0,f=t.r1;f<=t.r2;f++)for(p=t.b1;p<=t.b2;p++)h+=e[o(f,d,p)]||0;l+=h,u[d]=l}else for(d=t.b1;d<=t.b2;d++){for(h=0,f=t.r1;f<=t.r2;f++)for(p=t.g1;p<=t.g2;p++)h+=e[o(f,p,d)]||0;l+=h,u[d]=l}return u.forEach(function(e,t){c[t]=l-e}),g(s==n?"r":s==r?"g":"b")}function g(e){var n=e+"1",r=e+"2",o=void 0,a=void 0,i=void 0,s=void 0,f=void 0,p=0;for(d=t[n];d<=t[r];d++)if(u[d]>l/2){for(i=t.copy(),s=t.copy(),f=(o=d-t[n])<=(a=t[r]-d)?Math.min(t[r]-1,~~(d+a/2)):Math.max(t[n],~~(d-1-o/2));!u[f];)f++;for(p=c[f];!p&&u[f-1];)p=c[--f];return i[r]=f,s[n]=i[r]+1,[i,s]}}}return s.prototype={volume:function(e){return this._volume&&!e||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(e){var t=this.histo;if(!this._count_set||e){var n=0,r=void 0,a=void 0,i=void 0;for(r=this.r1;r<=this.r2;r++)for(a=this.g1;a<=this.g2;a++)for(i=this.b1;i<=this.b2;i++)n+=t[o(r,a,i)]||0;this._count=n,this._count_set=!0}return this._count},copy:function(){return new s(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var n=this.histo;if(!this._avg||t){var r=0,a=1<<8-e,i=0,s=0,l=0,u=void 0,c=void 0,d=void 0,f=void 0;for(c=this.r1;c<=this.r2;c++)for(d=this.g1;d<=this.g2;d++)for(f=this.b1;f<=this.b2;f++)r+=u=n[o(c,d,f)]||0,i+=u*(c+.5)*a,s+=u*(d+.5)*a,l+=u*(f+.5)*a;this._avg=r?[~~(i/r),~~(s/r),~~(l/r)]:[~~(a*(this.r1+this.r2+1)/2),~~(a*(this.g1+this.g2+1)/2),~~(a*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(e){var n=e[0]>>t;return gval=e[1]>>t,bval=e[2]>>t,n>=this.r1&&n<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},l.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t=this.vboxes,n=void 0,r=void 0,o=void 0,a=0;a<t.size();a++)((r=Math.sqrt(Math.pow(e[0]-t.peek(a).color[0],2)+Math.pow(e[1]-t.peek(a).color[1],2)+Math.pow(e[2]-t.peek(a).color[2],2)))<n||n===undefined)&&(n=r,o=t.peek(a).color);return o},forcebw:function(){var e=this.vboxes;e.sort(function(e,t){return i.naturalOrder(i.sum(e.color),i.sum(t.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,r=e[n].color;r[0]>251&&r[1]>251&&r[2]>251&&(e[n].color=[255,255,255])}},{quantize:function(c,d){if(!c.length||d<2||d>256)return!1;var f=function(n){var r=new Array(1<<3*e),a=void 0,i=void 0,s=void 0,l=void 0;return n.forEach(function(e){i=e[0]>>t,s=e[1]>>t,l=e[2]>>t,a=o(i,s,l),r[a]=(r[a]||0)+1}),r}(c);f.forEach(function(){});var p=function(e,n){var r=1e6,o=0,a=1e6,i=0,l=1e6,u=0,c=void 0,d=void 0,f=void 0;return e.forEach(function(e){c=e[0]>>t,d=e[1]>>t,f=e[2]>>t,c<r?r=c:c>o&&(o=c),d<a?a=d:d>i&&(i=d),f<l?l=f:f>u&&(u=f)}),new s(r,o,a,i,l,u,n)}(c,f),h=new a(function(e,t){return i.naturalOrder(e.count(),t.count())});function g(e,t){for(var r=1,o=0,a=void 0;o<n;)if((a=e.pop()).count()){var i=u(f,a),s=i[0],l=i[1];if(!s)return;if(e.push(s),l&&(e.push(l),r++),r>=t)return;if(o++>n)return}else e.push(a),o++}h.push(p),g(h,r*d);for(var y=new a(function(e,t){return i.naturalOrder(e.count()*e.volume(),t.count()*t.volume())});h.size();)y.push(h.pop());g(y,d-y.size());for(var m=new l;y.size();)m.push(y.pop());return m}}}(),c=a;t["default"]=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(s.register(o,"CanvasImage","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/color-thief.js"),s.register(a,"ColorThief","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/color-thief.js"),s.register(i,"pv","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/color-thief.js"),s.register(u,"MMCQ","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/color-thief.js"),s.register(c,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/util/modules/color-thief.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&l(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(893)),d=s(n(2335)),f=s(n(42)),p=n(96).getRGBAobj;var h=function(e){function t(t){var n=e.call(this,t)||this,r=c["default"].getScale(c["default"].getSizeUnit());return"自定义"==r&&(r=1),n.state={cssStyle:c["default"].getCssStyle(),sizeUnit:c["default"].getSizeUnit(),scale:r*f["default"].getPreviewInfo().scale},n}return o(t,e),t.prototype.showCss=function(e){var t=[];return t.push({option:"left",value:e.left},{option:"top",value:e.top},{option:"width",value:e.width},{option:"height",value:e.height}),e.backColor&&e.hasBackColor&&t.push({option:"background",value:e.backColor}),"text"==e.type&&e.content&&t.push({option:"content",value:e.content},{option:"color",value:e.textColor},{option:"font-size",value:e.fontSize}),{type:e.type,code:t}},t.prototype.cssCode=function(e){var t=[];return e.forEach(function(e,n){t.push(l["default"].createElement("div",{key:"code-"+n},e))}),t},t.prototype.showCode=function(e){var t="";return e.forEach(function(n,r){t+=n,r!=e.length-1&&(t+="\n")}),t},t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){var e=c["default"].getScale(c["default"].getSizeUnit());"自定义"==e&&(e=1),this.setState({cssStyle:c["default"].getCssStyle(),sizeUnit:c["default"].getSizeUnit(),scale:e/f["default"].getPreviewInfo().scale})},t.prototype.render=function(){var e,t=this.props.cssData,n=this.showCss(t),r=this.state,o=r.cssStyle,a=r.sizeUnit,i=r.scale,s=[],u="";switch(o){case"Android":s=$.changeToAndroid(n,a,i),e=!1;break;case"Swift":s=function(e,t,n){var r,o=[];"text"==e.type?(o.push("UIView *view = [[UIView alloc] init]"),r="label"):"icon"==e.type||"image"==e.type?(o.push("UIImageView *imageView = [[UIImageView alloc] init]"),r="view"):(o.push("UIView *view = [[UIView alloc] init]"),r="imageView");var a=[];o.push();for(var i=0,s=e.code;i<s.length;i++)switch((c=s[i]).option){case"left":a.push(r+".frame = CGRectMake("+$.saveTwoBit(c.value/n,t)+",");break;case"top":case"width":a.push($.saveTwoBit(c.value/n,t)+",");break;case"height":a.push($.saveTwoBit(c.value/n,t)+")")}o.push(a);for(var l=0,u=e.code;l<u.length;l++){var c;switch((c=u[l]).option){case"content":o.push(r+'.text = @"'+c.value+'"');break;case"font-size":o.push('fontWithName:@"PingFangSC-Regular" size:'+$.saveTwoBit(c.value/n,t));break;case"font-color":o.push(r+".textColor = [UIColor colorWithRed:"+p(c.value).r+"/255.0\n            green:"+p(c.value).g+"/255.0 blue:"+p(c.value).b+"/255.0 alpha:"+p(c.value).a+"/1.0];")}}return o.push("/>"),o}(n,a,i),e=!1;break;case"LESS":case"SASS":case"SCSS":case"CSS":case"wxss":u=d["default"].getCode([$.extend(!0,{},t)],undefined,!0).thisCss,e=!0;break;case"Stylus":u=d["default"].getCode([$.extend(!0,{},t)],undefined,!0).thisCss.replace(/[{}:]/g,""),e=!0}return l["default"].createElement("div",{className:"mark-css mark-list-common"},l["default"].createElement("div",{className:"mark-css-header mark-list-header"},o),l["default"].createElement("div",{className:"a_c mark-css-copy copy-link-common","data-contr":"hovertip","data-option":$.objToString({direction:"right",text:"代码复制",changePosi:-10,changeOtherPosi:-5}),"data-clipboard-text":e?u:this.showCode(s)}),l["default"].createElement("div",{className:"mark-css-data"},e?l["default"].createElement("pre",null,u):this.cssCode(s)))},a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",Object)],t.prototype,"showCss",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",Array)],t.prototype,"cssCode",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"showCode",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),t}(l["default"].Component);t["default"]=h},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,a=u(n(42)),i=u(n(893)),s=u(n(844)),l=u(n(205));function u(e){return e&&e.__esModule?e:{"default":e}}(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&o(e);var c={px:1,dp:1,rem:16,pt:1,rpx:.5},d={width:320,height:568},f=[],p={comp:".textC, .boxC, .imageC, .iconC, .wrapperC{\nposition: absolute;\ntop: 0;\nleft: 0;\nword-break: break-all;\ntext-align: center;\ndisplay: flex;\nalign-items:center;\nbox-sizing:border-box;\ntransform-origin: 0% 0%;\n-webkit-transform-origin: 0% 0%;\n-webkit-font-smoothing: antialiased;\n}",image:".imageC{\noverflow: hidden;\n}\n\n.imageC img{\nposition: absolute;\nleft: 0;\ntop: 0;\nbox-sizing: border-box;\nwidth: 100%;\nheight: 100%;\nz-index: -1;\n}",text:".textC{\noverflow: hidden;\n}\n\n.text-content{\nwidth: 100%;\n}",vT:".textC.vT{\nalign-items:flex-start;\n}",vB:".textC.vB{\nalign-items:flex-end;\n}",tI:".textC.tI{\nfont-style: italic;\n}",tB:".textC.tB{\nfont-weight: bold;\n}",tU:".textC.tU{\nfont-style: underline;\n}",hL:".textC.hL{\ntext-align: left;\n}",hR:".textC.hL{\ntext-align: right;\n}",icon:"@font-face {\nfont-family: 'Material Icons';\nfont-style: normal;\nfont-weight: 400;\nsrc:\nurl('https://img.xiaopiu.com/font/MaterialIcons-Regular2.woff2') format('woff2'),\nurl('https://img.xiaopiu.com/font/MaterialIcons-Regular.woff') format('woff');\n}\n\n.material-icons {\nfont-family: 'Material Icons';\nfont-weight: normal;\nfont-style: normal;\nfont-size: 24px;  /* Preferred icon size */\ndisplay: inline-block;\nwidth: 1em;\nheight: 1em;\nline-height: 1;\ntext-transform: none;\nletter-spacing: normal;\nword-wrap: normal;\nwhite-space: nowrap;\ndirection: ltr;\n/* Support for all WebKit browsers. */\n-webkit-font-smoothing: antialiased;\n/* Support for Safari and Chrome. */\ntext-rendering: optimizeLegibility;\n/* Support for Firefox. */\n-moz-osx-font-smoothing: grayscale;\n/* Support for IE. */\nfont-feature-settings: 'liga';\n}"},h={getCode:function(e,t,n){var r="",o="";return f=["comp"],e.forEach(function(e){var n=void 0;if($.isContrShow(e)){switch(e.type){case"text":n=h.getText(e,t);break;case"icon":n=h.getIcon(e,t);break;case"image":n=h.getImage(e,t);break;case"wrapbox":n=h.getWrapbox(e,t,1);break;case"table":n=h.getTable(e,t,1);break;default:($.isAdvancedAllContr(e.type)||l["default"].isExtraBaseContr(e.type))&&(n=h.getContr(e,t,1))}n&&(r+=(""!=r?"\n":"")+n.thisDom,o+=(""!=o?"\n\n":"")+n.thisCss)}}),{thisDom:r,thisCss:o,commonCss:g()}},getText:function(e,t){var n=e.type+"_"+e.id,r=m(e);return""!=e.content.trim()&&y("text"),"vM"!=e.vertical&&y(e.vertical),"hC"!=e.horizontal&&y(e.horizontal),e.isI&&y("tI"),e.isB&&y("tB"),e.isU&&y("tU"),{thisDom:""===e.content.trim()?'<view class="boxC box_'+e.id+'"></view>':'<view class="textC'+("vM"==e.vertical?"":" "+e.vertical)+("hC"==e.horizontal?"":" "+e.horizontal)+" "+n+(e.isB?" tB":"")+(e.isI?" tI":"")+(e.isU?" tU":"")+'"><text class="text-content">'+e.content+"</text></view>",thisCss:r.cssStr}},getIcon:function(e,t){var n=e.type+"_"+e.id,r=m(e);return y("icon"),{thisDom:'<icon class="iconC '+n+' material-icons">'+e.iconKey+"</icon>",thisCss:r.cssStr}},getTable:function(e,t){e.type,e.id;var n=m(e);y("table");return{thisDom:"",thisCss:n.cssStr}},getContr:function(e){var t=m(e);y("contr");return{thisDom:"",thisCss:t.cssStr}},getImage:function(e,t){var n=e.type+"_"+e.id,o=m(e);return y("image"),{thisDom:'<view class="imageC '+n+'"><image src="'+(r.staticUrl+e.src)+'"></image></view>',thisCss:o.cssStr}},getWrapbox:function(e,t,n){return{thisDom:'<view class="wrapperC '+$.getCodeName(e)+'">\n</view>',thisCss:m(e).cssStr}}};function g(){var e="/*---start of common wxss---*/";return f.forEach(function(t,n){e+="\n"+p[t]+"\n"}),e+="/*---end of common wxss---*/"}function y(e){-1==f.indexOf(e)&&f.push(e)}function m(e){var t=C(e.type),n="",r=function(r){var o,a={};t[r].stylesArr.forEach(function(t,n){null!==e[t]&&$.extend(!0,a,v(t,e,r))}),(o=_(a,e))&&(n+=(n?"\n\n":"")+"."+$.getCodeName(e)+t[r]["class"]+"{\n"+o+"}")};for(var o in t)r(o);return{cssStr:n}}function _(e,t){var n="";for(var r in e)"rotation"==r?"0"!=t.rotate&&(n+="\t-webkit-transform: rotate("+t.rotate+"deg);\n",n+="\ttransform: rotate("+t.rotate+"deg);\n"):n+="\t"+r+": "+e[r]+";\n";return n}function v(e,t,n){var r=i["default"].getSizeUnit(),o=Number(i["default"].getScale(r))?i["default"].getScale(r):c[r],l={},u=i["default"].isRelative(),f=$.getElById("pageContainer"),p=s["default"].getSelectDom(),h=$.offset(p,!0).left,g=$.offset(p,!0).top,y=$.offset(f,!0).left,m=$.offset(f,!0).top,_=a["default"].getPreviewInfo().scale;!u&&f&&(t.left=(h-y)*o/_,t.top=(g-m)*o/_);var w=x(e),C=t[e],S="";switch(e){case"shadow":$.isArray(C)?C.splice(0,5).forEach(function(e,t){S+=t<4?""+$.saveTwoBit(e/o,r)+r+" ":e}):0==C?S=null:[0,C,C,0,"rgba(0, 0, 0, 0.5)"].forEach(function(e,t){S+=t<4?""+$.saveTwoBit(e/o,r)+r+" ":e});break;case"textShadow":S="0"!=C?"rgba(0, 0, 0, 0.5) 0"+r+" "+$.saveTwoBit(C/o,r)+r+" "+$.saveTwoBit(C/o,r)+r:null;break;case"opacity":S=Math.round(C)/100!=1?Math.round(C)/100:null;break;case"insetBorder":S="0"!=C[1]&&"text"==t.type?C[0]+" solid "+$.saveTwoBit(C[1]/o,r)+r:null;break;case"border":S=0!=C[1]?C[0]+" solid "+$.saveTwoBit(C[1]/o,r)+r:null;break;case"cutVals":var P={};"0"!=C.boxWidth&&(P.width=$.saveTwoBit(C.boxWidth/o,r)+r),"0"!=C.boxHeight&&(P.height=$.saveTwoBit(C.boxHeight/o,r)+r),"0"!=C.boxLeft&&(P.left=$.saveTwoBit(C.boxLeft/o,r)+r),"0"!=C.boxTop&&(P.top=$.saveTwoBit(C.boxTop/o,r)+r),$.extend(!0,l,P),S=null;break;case"filter":S=b(C);break;case"radius":case"isMaxRadius":var k="border"==n;w=x("radius");var O=$.isArray(t.radius)?t.radius[0]:t.radius;S="0"!=(S=(t.isMaxRadius?Math.ceil(Math.min(t.width,t.height)/2):Math.round(O))+(k&&("0"!=O||t.isMaxRadius)?t.border[1]:0))?$.saveTwoBit(S/o,r)+r:null;break;case"backColor":case"hasBackColor":w=x("backColor"),S=t.hasBackColor?t.backColor:null;break;case"textColor":S=C;break;case"iconColor":S=C,$.extend(!0,l,v("fontSize",{fontSize:Math.min(t.width,t.height)})),t.width!=t.height&&(l.transform=t.width>t.height?"scaleX("+t.width/t.height+")":"scaleY("+t.height/t.width+")",l["-webkit-transform"]=("0"!=t.rotate?"rotate("+t.rotate+"deg) ":"")+l.transform);break;case"lineHeight":S=10!=Math.ceil(C+5)?10*Math.ceil(C+5)+"%":null;break;case"isShow":S=!1===C?"none":null;break;case"rotate":"0"!=C?(S=C,$.extend(!0,l,v("left",t,n)),$.extend(!0,l,v("top",t,n))):S=null;break;case"outerHidden":S=C?"hidden":null;break;case"scrollX":case"scrollY":S=C?"scroll":null;break;case"isDepend":S=C?"fixed":null,"bm"==t.dependType&&$.extend(!0,l,{top:"auto",bottom:$.saveTwoBit((d.height-(t.top+t.height))/o,r)+r});break;case"adjaceney":S="0"!=C?$.saveTwoBit(C/o,r)+r:null;break;case"outerBorder":S=C[0]+" solid "+$.saveTwoBit(C[1]/o,r)+r;break;case"horizontal":switch(C){case"hL":S="left";break;case"hC":S="center";break;case"hR":S="right"}break;case"isB":S=C?"bold":null;break;case"isI":S=C?"italic":null;break;case"isU":S=C?"underline":null;break;default:S="0"!=C?$.saveTwoBit(C/o,r)+r:null}return null!==S&&(l[w]=S),l}function b(e){return"0"!=(e=$.extend({blur:0,saturate:10,hue:180,brightness:10,contrast:10},e||{})).blur||10!=e.saturate||180!=e.hue||10!=e.brightness||10!=e.contrast?e?(e.blur?"blur("+e.blur+"px) ":"")+(e.saturate?"saturate("+(.1*e.saturate).toFixed(1)+") ":"saturate(0) ")+(e.hue?"hue-rotate("+(e.hue-180)+"deg) ":"hue-rotate(-180deg) ")+(e.brightness?"brightness("+(.1*e.brightness).toFixed(1)+") ":"brightness(0) ")+(e.contrast?"contrast("+(.1*e.contrast).toFixed(1)+")":"contrast(0)"):"":null}function w(e){return Math.round(1e3*e)/1e3}function C(e){var t={"class":"",stylesArr:["width","height","left","top","opacity","rotate","isShow","isDepend"]},n={text:{self:{"class":"",stylesArr:t.stylesArr.concat(["adjaceney","indent","textColor","backColor","hasBackColor","textShadow","insetBorder","radius","isMaxRadius","fontSize","lineHeight","border","shadow","horizontal","isB","isI","isU"])}},hotspot:{self:t},icon:{self:{"class":"",stylesArr:t.stylesArr.concat(["iconColor","width","height"])}},image:{self:{"class":"",stylesArr:t.stylesArr.concat(["backColor","hasBackColor","insetBorder","radius","isMaxRadius","border","shadow"])},img:{"class":" img",stylesArr:["cutVals","filter"]}},wrapbox:{self:{"class":"",stylesArr:t.stylesArr.concat(["backColor","hasBackColor","insetBorder","radius","isMaxRadius","border","shadow","outerHidden","scrollX","scrollY"])}},table:{self:{"class":"",stylesArr:t.stylesArr.concat(["backColor","hasBackColor","innerBorder","outerBorder"])}},contr:{self:{"class":"",stylesArr:["width","height","left","top"]}}};return($.isAdvancedAllContr(e)||l["default"].isExtraBaseContr(e))&&(e="contr"),n[e]}function x(e){return{width:"width",height:"height",left:"left",top:"top",rotate:"rotation",radius:"border-radius",shadow:"box-shadow",opacity:"opacity",backColor:"background-color",iconColor:"color",insetBorder:"box-shadow",adjaceney:"letter-spacing",textColor:"color",fontSize:"font-size",textShadow:"text-shadow",lineHeight:"line-height",indent:"text-indent",content:"value",border:"border",isShow:"display",outerHidden:"overflow",scrollX:"overflow-x",scrollY:"overflow-y",isDepend:"position",filter:"filter",outerBorder:"border",horizontal:"text-align",isB:"font-weight",isI:"font-style",isU:"text-decoration"}[e]}var S,P,k=h;t["default"]=k,(S=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(S.register(c,"unitDefault","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(d,"viewSize","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(f,"commonCssArr","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(p,"COMMON_CSS","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(h,"GetCode","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(g,"getCommonCss","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(y,"setCommonCssArr","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(m,"getStyles","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(_,"cssObjToStr","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(v,"getCssObj","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(b,"getFilter","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(w,"getThreeDecimal","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(C,"getStyleCategory","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(x,"styleDict","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js"),S.register(k,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/handle/GetCode.js")),(P=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&P(e)}).call(this,n(7)(e),n(59))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props.styleData,t="",n="";switch(e.type){case"map":t="地图定位",n=e.address;break;case"video":t="视频地址",n=e.videoUrl;break;case"webPage":t="网页地址",n=e.webUrl}return""===n?null:i["default"].createElement("figure",{className:"mark-list-common"},i["default"].createElement("div",{className:"mark-list-header"},t),i["default"].createElement("div",{className:"mark-list-content-data copy-link-common","data-clipboard-text":n},n))},t}(i["default"].Component);t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(2338)),d=l(n(2339)),f=l(n(2340)),p=l(n(1740)),h=l(n(3)),g=window.$,y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this,t=e.props.contr,n=[],r=p["default"].getContrMark(t.type).data||[];return r[0]&&"contrTitleSet"!=r[0][0]&&r.unshift(["contrTitleSet"]),r.forEach(function(r,o){n.push(e._getDomFunc(r,g.getContrId(t),t,o))}),u["default"].createElement("div",null,n)},t.prototype._getDomFunc=function(e,t,n,r){var o,i=e[0],s=e[1]||{};switch(i){case"img":o=c["default"];break;case"theme":o=f["default"];break;case"content":o=d["default"]}return o?u["default"].createElement(o,a({key:i+s.name+r,arr:e[1],contrKey:t,contr:n},s)):undefined},i([h["default"],s("design:type",Function),s("design:paramtypes",[Object,String,Object,Number]),s("design:returntype",void 0)],t.prototype,"_getDomFunc",null),t}(u["default"].Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(330)),c=s(n(361)),d=s(n(3)),f=s(n(12)),p=$.getStaticUrl(),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.downLoad=function(e){var t=e.currentTarget.getAttribute("data-src"),n="轮播图 图片"+e.currentTarget.getAttribute("data-idx"),r=(-1!=t.indexOf("userImages")||-1!=t.indexOf("static")||-1!=t.indexOf("images")?"https://img.xiaopiu.com":"")+t,o=r.lastIndexOf("."),a=r.substr(o);f["default"].show("下载中...");var i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="blob",i.setRequestHeader("Authorization","Basic a2VybWl0Omtlcm1pdA=="),i.onload=function(){200===i.status&&c["default"].saveAs(i.response,""+n+a)},i.send()},t.prototype.render=function(){var e=this,t=this.props.contr,n=t.data,r=t.type,o=$.extend(!0,[],u["default"].getDefaultData(r,n));return l["default"].createElement("div",{className:"mark-list-common"},l["default"].createElement("div",{className:"mark-list-header"},"图片"),l["default"].createElement("div",{className:"carousel-img mark-carousel-img"},o.map(function(t,n){return l["default"].createElement("div",{key:"图片"+t+n,"data-idx":n+1,"data-src":t.src,onClick:e.downLoad,"data-contr":"hovertip","data-option":'{"text":"下载图片"}',className:"carousel-img-box a_c"},l["default"].createElement("img",{src:""+(p+t.src)}))})))},a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"downLoad",null),t}(l["default"].Component);t["default"]=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3)),d=s(n(147)),f=s(n(35)),p=s(n(209)),h=s(n(330)),g=s(n(92)),y=s(n(981)),m=s(n(1608)),_=s(n(155)),v=0,b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={showMore:!1},n}return o(t,e),t.prototype.getList=function(e){var t=[],n="";return function r(e,o){o++,e.forEach(function(e){v++;for(var a="",i=0;i<o-1;i++)a+="  ";t.push(l["default"].createElement("div",{key:"get-list"+v,className:u["default"]("mark-content-child-"+o)},e.title)),n+=a+e.title+"\n",e.child&&e.child.length&&r(e.child,o)})}(e,0),{dom:t,content:n}},t.prototype.getContent=function(e){var t=[],n="";return e.forEach(function(r,o){v++,t.push(l["default"].createElement("div",{key:"get-content"+v},r.title)),n+=r.title+"\n",r.content&&r.content.forEach(function(e){v++,t.push(l["default"].createElement("div",{key:"get-content-child"+v},e)),n+=e+"\n"}),o!=e.length-1&&t.push(l["default"].createElement("br",{key:"br"+o}))}),{dom:t,content:n}},t.prototype.getData=function(e){var t=this.props.contr,n=[],r="";return e.forEach(function(e){v++,"waterWave"==t.type||"gauge"==t.type&&"degree"!=e?(n.push(l["default"].createElement("span",{key:"get-data"+v},"percent"==e?Math.round(t[e])+"%":t[e])),r+="percent"==e?Math.round(t[e])+"%":t[e]):(n.push(l["default"].createElement("div",{key:"get-data"+v},"percent"==e?t[e]+"%":"degree"==e?"刻度"+t[e]:t[e])),r+=("percent"==e?t[e]+"%":"degree"==e?"刻度"+t[e]:t[e])+"\n")}),{dom:n,content:r}},t.prototype.getChartData=function(e,t){var n,r,o=this.props.contr,a=o.type,i=o.data,s=o.headArr,u=o.isExtend,c=d["default"].filterTableData(a,i,u),f=[],p=[],h=!0;n=c.length,r=n>=5?187:31*(n+1)+6;var g="";switch(e){case"radar":n=6,r=188,h=[];var v={type:""};c.forEach(function(e){-1==f.indexOf(e.name)&&f.push(e.name),-1==h.indexOf(e.label)&&h.push(e.label)}),f.forEach(function(e){var t,n=((t={})[""+e]=e,t);$.extend(!0,v,n)}),p.push(v),h.forEach(function(e){var t={},n={type:e};$.extend(!0,t,n),c.forEach(function(n){var r;if(n.label==e){var o=((r={})[""+n.name]=n.value,r);$.extend(!0,t,o)}}),p.push(t)}),g=u?[{data:"type",readOnly:!0},{data:""+f[0],readOnly:!0},{data:""+f[1],readOnly:!0},{data:""+f[2],readOnly:!0}]:[{data:"type",readOnly:!0},{data:""+f[0],readOnly:!0},{data:""+f[1],readOnly:!0},{data:""+f[2],readOnly:!0},{data:""+f[3],readOnly:!0},{data:""+f[4],readOnly:!0}],f=!1,h=!1;break;case"pie":case"circle":case"lineChart":case"miniArea":case"horizontalBar":case"bar":case"miniBar":var b=u?["名称","数据","数据2","数据3","数据4","数据5","数据6"]:["名称","数据"];(f=$.extend(!0,s,b)).forEach(function(e,t){f[t]=e&&e.trim()?e:b[t]}),p=c,g=u?[{data:"x",readOnly:!0},{data:"y",readOnly:!0},{data:"y2",readOnly:!0},{data:"y3",readOnly:!0},{data:"y4",readOnly:!0},{data:"y5",readOnly:!0},{data:"y6",readOnly:!0}]:[{data:"x",readOnly:!0},{data:"y",readOnly:!0}];break;case"timelineChart":h=[];var w={date:""},C=o.intervalTime.split(":");f=[c[0].label,c[0].val];var x=_["default"](o.startTime,"h:mm");c.forEach(function(e,t){h.push(x.format("h:mm")),x=x.add(+C[0],"h").add(+C[1],"m")}),f.forEach(function(e){var t,n=((t={})[""+e]=e,t);$.extend(!0,w,n)}),p.push(w),h.forEach(function(e,t){var n,r=((n={date:e})[""+f[0]]=c[t].labelVal,n[""+f[1]]=c[t].nameVal,n);p.push(r)}),g=[{data:"date",readOnly:!0},{data:""+f[0],readOnly:!0},{data:""+f[1],readOnly:!0}],f=!1,h=!1}return l["default"].createElement(function(){var e=y["default"](m["default"]);return l["default"].createElement(e,{data:p,colHeaders:f,rowHeaderWidth:40,rowHeaders:h,width:208,columns:g,height:r,stretchH:"all",minRows:n})},null)},t.prototype.render=function(){var e,t,n=this.props,r=n.contr,o=n.arr,a=r.data,i=r.type;switch(o.value){case"advancedListDefaultData":e=f["default"];break;case"advancedDefaultData":e=p["default"];break;case"mobileDefaultData":e=h["default"];break;case"chartDefaultData":e=g["default"]}e&&(t=$.extend(!0,[],e.getDefaultData(i,a)));var s,u="";return t&&!$.isChartContr(i)?t[0].child?(u=this.getList(t).dom,s=this.getList(t).content):(u=this.getContent(t).dom,s=this.getContent(t).content):t||(u=this.getData(o.val).dom,s=this.getData(o.val).content),l["default"].createElement("div",{className:"mark-list-common"},l["default"].createElement("div",{className:"mark-list-header"},$.isChartContr(i)?"数据":"列表内容"),t&&$.isChartContr(i)?this.getChartData(i,t):l["default"].createElement("div",{className:"mark-list-content-data copy-link-common","data-clipboard-text":s},u))},a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"getList",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"getContent",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"getData",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object,Object]),i("design:returntype",void 0)],t.prototype,"getChartData",null),t}(l["default"].Component);t["default"]=b},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(893)),l=a(n(11)),u=a(n(147)),c=n(96),d=c.rgbaObjToStr,f=c.getRGBAobj,p=window.$,h=0,g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.contr,n=e.arr,r=t.type,o=t.data,a=t.isExtend,c=s["default"].getColorUnit(),g=[],y=u["default"].filterTableData(r,o,a);if(p.isAdvancedContr(r)||p.isMobileContr(r))n.value.forEach(function(e){g.push(t[e]?t[e]:e)});else switch(r){case"bar":case"horizontalBar":case"lineChart":var m=0;for(var _ in y[0])""!==y[0][_]&&"x"!=_&&m++;(g=p.extend(!0,[],t.barColor)).length=m;break;case"miniBar":g.push(t.barColor);break;case"timelineChart":g=n.value;break;case"miniCircle":case"progressCircle":case"gauge":case"waterWave":case"miniArea":case"miniProgress":n.value.forEach(function(e){g.push(t[e])});break;case"circle":case"pie":(g=p.extend(!0,[],t.colorList)).length=y.length;break;case"radar":var v=[!1,!1,!1,!1,!1];y.forEach(function(e,t){""===e.value||v[Math.floor(t/10)]||(v[Math.floor(t/10)]=!0)}),n.value.forEach(function(e,n){v[n]&&g.push(t[e])})}return i["default"].createElement("div",{className:"mark-list-common"},i["default"].createElement("div",{className:"mark-list-header"},n.title||(p.isChartContr(t.type)?"图表颜色":"主题色")),i["default"].createElement("div",null,g.map(function(e,t){h++;var n=e.split(",")[3],r="1)"==n||" 1)"==n,o=d(f(e));return i["default"].createElement("div",{key:"chart-color"+h,className:l["default"]("mark-chart-color a_c copy-link-common",{"mark-opacity-color-panel":!r}),"data-clipboard-text":p.changeColorUnit(o,c),"data-contr":"hovertip","data-option":p.objToString({direction:"bottom",text:""+p.changeColorUnit(o,c),changePosi:16})},i["default"].createElement("div",{className:"bgColor-color color-val",style:{background:o}}))})))},t}(i["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),a=n(1738),i=new(function(){function e(){this.MarkActionID=a.MarkActionID}return e.prototype.setSizeUnit=function(e){o["default"].dispatch({actionType:a.MarkActionID.SIZE_UNIT,sizeUnit:e})},e.prototype.setColorUnit=function(e){o["default"].dispatch({actionType:a.MarkActionID.COLOR_UNIT,colorUnit:e})},e.prototype.setCssStyle=function(e){o["default"].dispatch({actionType:a.MarkActionID.CSS_STYLE,cssStyle:e})},e.prototype.setScale=function(e,t){o["default"].dispatch({actionType:a.MarkActionID.SCALE,unit:e,value:t})},e.prototype.setRelative=function(){o["default"].dispatch({actionType:a.MarkActionID.CHANGE_DISTANCE})},e}());t["default"]=i},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=a(n(42)),l=a(n(162)),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={renderChange:0,scrollObj:s["default"].getScrollObj()},n._onPreviewScrollChange=n._onPreviewScrollChange.bind(n),n._changeScrollTop=n._changeScrollTop.bind(n),n._changeScrollLeft=n._changeScrollLeft.bind(n),n}return o(t,e),t.prototype.componentDidMount=function(){s["default"].addScrollChangeListener(this._onPreviewScrollChange)},t.prototype.componentWillUnmount=function(){s["default"].removeScrollChangeListener(this._onPreviewScrollChange)},t.prototype._onPreviewScrollChange=function(){this.setState({renderChange:this.state.renderChange+1,scrollObj:s["default"].getScrollObj()})},t.prototype._changeScrollTop=function(e){var t=1;"web"==$.getPlatform(window.platform)||(t=($.getWinSize().height-45)/window.phoneSize.height),s["default"].setScrollObj({scrollTop:e/t})},t.prototype._changeScrollLeft=function(e){s["default"].setScrollObj({scrollLeft:e})},t.prototype.render=function(){var e=this.state.scrollObj,t=e.scrollHeight,n=e.scrollWidth,r=e.scrollLeft,o=e.scrollTop,a=e.boxWidth,s="web"==$.getPlatform(window.platform),u=1;return s||(u=($.getWinSize().height-45)/window.phoneSize.height),i["default"].createElement("div",{className:"preview-scroll"},i["default"].createElement(l["default"],{boxHeight:$.getWinSize().height-45,maxLength:t*u,scrollTop:o*u,changeScrollTop:this._changeScrollTop}),s?i["default"].createElement(l["default"],{isVertical:!0,boxWidth:a,maxLength:n,scrollLeft:r,changeScrollLeft:this._changeScrollLeft}):undefined)},t}(i["default"].Component);t["default"]=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=n(120).CSSTransitionGroup,c=s(n(2344)),d=s(n(3)),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={notePopover:c["default"].getNotePopover()},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onNotePopoverChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onNotePopoverChange)},t.prototype._onNotePopoverChange=function(){this.setState({notePopover:c["default"].getNotePopover()})},t.prototype.render=function(){return l["default"].createElement(u,{transitionName:"note-popover",transitionEnterTimeout:100,transitionLeaveTimeout:100},this.state.notePopover.isShow?l["default"].createElement("div",{className:"note-popover",style:{left:this.state.notePopover.left,top:this.state.notePopover.top}},l["default"].createElement("pre",null,l["default"].createElement("p",null,this.state.notePopover.content))):null)},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onNotePopoverChange",null),t}(l["default"].Component);t["default"]=f},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=s(n(95)),a=s(n(1731)),i=s(n(8));function s(e){return e&&e.__esModule?e:{"default":e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var l=n(69).EventEmitter,u="[暂无信息]",c={isShow:!1,left:0,top:0,content:u};function d(e){if(c.isShow=!0,c.content=e.content||u,e.noteTag){var t=$.offset(e.noteTag,!0),n=$.getElById("tempNotePopover");$.getElById("tempContent").innerHTML=c.content;var r=n.clientHeight,o=n.clientWidth,a=$.getWinSize(),i=t.left+t.width+8,s=t.top;s+r+10>a.height&&(s=t.top+t.height-r),i+o+10>a.width&&(i=t.left-8-o),c.left=i,c.top=s}}function f(){c.isShow=!1}var p=(0,o["default"])({},l.prototype,{getNotePopover:function(){return c},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});i["default"].register(function(e){switch(e.actionType){case a["default"].NOTEPOPOVER_SHOW:d(e.options),p.emitChange();break;case a["default"].NOTEPOPOVER_HIDE:f(),p.emitChange()}});var h,g,y=p;t["default"]=y,(h=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0))["default"])&&(h.register(l,"EventEmitter","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),h.register("change","CHANGE_EVENT","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),h.register(u,"DEFAULTCONTENT","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),h.register(c,"notePopover","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),h.register(d,"show","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),h.register(f,"hide","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),h.register(p,"NotePopoverStore","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js"),h.register(y,"default","/Users/liniuniu/project/xiaopiu-team/browser/baseSrc/commonJs/stores/NotePopoverStore.js")),(g=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&g(e)}).call(this,n(7)(e))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),s=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){return i["default"].createElement("div",{className:"note-popover",id:"tempNotePopover",style:{visibility:"hidden",pointerEvents:"none"}},i["default"].createElement("pre",null,i["default"].createElement("p",{id:"tempContent"})))},t}(i["default"].Component);t["default"]=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(1741)),d=s(n(475)),f=s(n(42)),p=s(n(987)),h=s(n(2347)),g=s(n(2348)),y=s(n(3)),m=!1,_=function(e){function t(t){var n=e.call(this,t)||this;return n.state={discussNumObj:d["default"].getNumInPageList(),tabKey:"page",isSearch:!1,searchText:""},n}return o(t,e),t.prototype.componentDidMount=function(){d["default"].addEditChangeListener(this._onChange)},t.prototype.componentWillUnmount=function(){d["default"].removeEditChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({discussNumObj:d["default"].getNumInPageList()})},t.prototype._tabClick=function(e){var t=this.state.tabKey,n=e.currentTarget.getAttribute("data-key");e.currentTarget.getAttribute("data-key")!=t&&this.setState({tabKey:n})},t.prototype._getTabDom=function(){var e=this.state.tabKey;return l["default"].createElement("div",{className:"struct-tab-box"},l["default"].createElement("div",{"data-key":"page",className:u["default"]("struct-tab page-tab",{active:"page"==e}),onClick:this._tabClick},"页面目录"),l["default"].createElement("div",{"data-key":"contr",className:u["default"]("struct-tab contr-tab",{active:"contr"==e}),onClick:this._tabClick},"组件目录"))},t.prototype._structSearchClick=function(){this.setState({isSearch:!0},function(){var e=$.getElById("StructSearchInput");e&&e.focus()}),$.tipHide()},t.prototype._structFoldClick=function(){f["default"].structFolderAllFold(undefined,m),m=!m,this.setState({}),$.tipHide()},t.prototype._getSearchToolDom=function(e){return l["default"].createElement("div",{className:"pageStructTool contr-struct-tool"},l["default"].createElement("span",null,""+e),l["default"].createElement("div",{className:"toolBox"},l["default"].createElement("i",{key:"foldStructBtn",className:"material-icons fold-all-struct a_c new-base-img"+(m?" struct-is-fold":""),"data-contr":"hovertip","data-option":$.objToString({text:"目录全部"+(m?"展开":"折叠"),direction:"right",changePosi:-12,changeOtherPosi:-6}),onClick:this._structFoldClick}),l["default"].createElement("i",{key:"searchStructBtn",className:"material-icons search-struct a_c new-base-img","data-contr":"hovertip","data-option":$.objToString({text:"搜索目录",direction:"right",changePosi:-12,changeOtherPosi:-6}),onClick:this._structSearchClick})))},t.prototype.render=function(){var e=this.props,t=e.isMark,n=e.activePage,r=this.state,o=r.tabKey,a=r.isSearch,i=r.searchText,s=[],d=f["default"].getStructHierarchy();return 0!==this.props.pagesArr.length&&this._addPageStruct(d,1,s),l["default"].createElement("div",{className:u["default"]("preview-lr-panel leftPanel",{fold:!this.props.previewInfo.catalog}),onWheel:$.stopPropagation},l["default"].createElement("div",{className:"preview-page-panel panel"+(t?" page-mark-panel":"")},t?this._getTabDom():undefined,t&&"page"==o||!t?a?l["default"].createElement(c["default"],{searchText:i,parentComp:this,isPage:!0}):this._getSearchToolDom(this.props.pagesArr.length+"页"):undefined,t&&"page"==o||!t?l["default"].createElement("ul",{className:"catalog-list scroll-hint preview-pages",id:"pageList"},s):undefined,t&&"contr"==o?l["default"].createElement(g["default"],{activePage:n}):undefined),l["default"].createElement("div",{className:"toggle-btn",onClick:this._toggleCatalog}))},t.prototype._addPageStruct=function(e,t,n){var r=this,o=r.state,a=o.discussNumObj,i=o.searchText;e.forEach(function(o){if(o){if(!1!==o.isShow)if("page"==o.type){var s=i&&$.searchIn(i,o.name);(i&&s||!i)&&n.push(l["default"].createElement(h["default"],{key:"page_"+o.key,page:o,index:t,active:o.active,hasComment:"discuss"==r.props.previewInfo.mode&&a&&a[o.key],searchText:s}))}else if("folder"==o.type){s=i&&$.searchIn(i,o.name);i||n.push(l["default"].createElement(h["default"],{key:"folder_"+o.key,page:o,index:t,childrenNum:o.fold?0:r._getAllChildNum(o),toggleFolder:r._toggleFolder,searchText:s})),!o.fold&&o.folderHierarchy&&r._addPageStruct(o.folderHierarchy,t+1,n)}}else window.log(o,e)})},t.prototype._getAllChildNum=function(e){var t=this,n=0;return e||console.log("warning"),e&&"folder"==e.type&&!e.fold&&e.folderHierarchy.forEach(function(e){n++,n+=t._getAllChildNum(e)}),n},t.prototype._toggleFolder=function(e){f["default"].changeStructFolderFold(e),this.setState({})},t.prototype._toggleCatalog=function(){p["default"].toggleCatalog()},a([y["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_tabClick",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_getTabDom",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_structSearchClick",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_structFoldClick",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_getSearchToolDom",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[Object,Object,Object]),i("design:returntype",void 0)],t.prototype,"_addPageStruct",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_getAllChildNum",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_toggleFolder",null),a([y["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_toggleCatalog",null),t}(l["default"].Component);t["default"]=_},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(42)),c=s(n(475)),d=s(n(844)),f=s(n(3)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.page,n=e.searchText;return l["default"].createElement("li",{className:(t.active?"active":"")+" "+(this.props.hasComment?"has-comment":"")+" "+t.type+"-layer layer-"+this.props.index+(t.fold?"":" unfold"),key:"page"+t.key,id:"pageItem"+t.key,"data-key":t.key,onClick:"page"==t.type?this._pageClick:this._toggleFolder},l["default"].createElement("div",{className:"name"},"folder"==t.type?l["default"].createElement("div",{className:"unfold-btn"},this.props.childrenNum?l["default"].createElement("div",{className:"wrapbox-line",style:{height:32*this.props.childrenNum}}):undefined):undefined,l["default"].createElement("span",{dangerouslySetInnerHTML:{__html:n||t.name}})))},t.prototype._pageClick=function(e){var t=e.currentTarget.getAttribute("data-key"),n=u["default"].getActivePage();t!=n&&(u["default"].changeActivePage({nextKey:t}),d["default"].initContr(),c["default"].setPageId(t,"discuss"==u["default"].getMode()),window.goToPage({curr:n,next:t,transition:"empty",notToparent:!0,reset:!0}))},t.prototype._toggleFolder=function(){this.props.toggleFolder(this.props.page.key)},a([f["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_pageClick",null),a([f["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_toggleFolder",null),t}(l["default"].Component);t["default"]=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(1741)),c=s(n(1647)),d=s(n(3)),f=!1;function p(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t),r=n.parents(".cDiv").last();n.addClass("hover"),r.addClass("zIndex")}function h(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t),r=n.parents(".cDiv").last();n.removeClass("hover"),r.removeClass("zIndex")}function g(e){var t=e.currentTarget.getAttribute("data-select"),n=$(t);if(n.length>0){var r=$.query("#pageContainer .page.current");c["default"].previewScrollTop($.offset(n[0],!0),r),setTimeout(function(){n.click()},0)}}var y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isSearch:!1,searchText:""},n}return o(t,e),t.prototype._structSearchClick=function(){this.setState({isSearch:!0},function(){var e=$.getElById("StructSearchInput");e&&e.focus()}),$.tipHide()},t.prototype._structFoldClick=function(){var e=window.__c;e&&(!function t(e){for(var n in e){var r=e[n],o=r.type,a=r.contrs;"symbol"!=o&&"wrapbox"!=o||(e[n].fold=!f,t(a))}}(e),f=!f),this.setState({}),$.tipHide()},t.prototype._toggleFolder=function(e){var t=window.__c,n=e.currentTarget.parentNode.parentNode.getAttribute("data-select");if(t&&t[n]){var r=t[n];r&&(r.fold=!r.fold)}this.setState({}),e.stopPropagation()},t.prototype._getStructDom=function(e){var t=this.state.searchText,n=e.name,r=e.layer,o=e.type,a=e.id,i=e.baseContrType,s=e.select,u=e.childrenNum;return l["default"].createElement("li",{className:"struct-li "+(i||o)+"-layer layer-"+r+(u?" unfold":""),"data-id":o+"_"+a,"data-select":s,key:s,onMouseEnter:p,onMouseLeave:h,onClick:g},l["default"].createElement("div",{className:"name"},"wrapbox"!=o&&"symbol"!=o||t?undefined:l["default"].createElement("div",{className:"unfold-btn",onClick:this._toggleFolder},u?l["default"].createElement("div",{className:"wrapbox-line",style:{height:30*u}}):undefined),l["default"].createElement("div",{className:"name-wrapper",dangerouslySetInnerHTML:{__html:n}})))},t.prototype._getSearchToolDom=function(e){return l["default"].createElement("div",{className:"pageStructTool contr-struct-tool"},l["default"].createElement("span",null,""+e.name),l["default"].createElement("div",{className:"toolBox"},l["default"].createElement("i",{key:"foldStructBtn",className:"material-icons fold-all-struct a_c new-base-img"+(f?" struct-is-fold":""),"data-contr":"hovertip","data-option":$.objToString({text:"目录全部"+(f?"展开":"折叠"),direction:"right",changePosi:-12,changeOtherPosi:-6}),onClick:this._structFoldClick}),l["default"].createElement("i",{key:"searchStructBtn",className:"material-icons search-struct a_c new-base-img","data-contr":"hovertip","data-option":$.objToString({text:"搜索目录",direction:"right",changePosi:-12,changeOtherPosi:-6}),onClick:this._structSearchClick})))},t.prototype._getAllStruct=function(e,t,n,r,o){var a=this,i=a.state.searchText,s=window.__c;$.isArray(n)?n.forEach(function(t){var n=t.name,l=t.type,u=t.id,c=t.contrs,d=t.hierarchy,f=t.baseContrType,p=o+(o?" ":"")+"."+l+"_"+u,h=("wrapbox"==l||"symbol"==l)&&(s&&s[p]&&s[p].fold),g=i&&$.searchIn(i,t.name),y=n,m=!1;i?g&&(m=!0,y=g):m=!0,m&&e.push(a._getStructDom({name:y,layer:r,type:l,id:u,baseContrType:f,select:p,childrenNum:h?0:a._getAllChildNum(t)})),"wrapbox"!=l&&"symbol"!=l||!d||!c||!i&&h||a._getAllStruct(e,d,c,r+1,p)}):t.forEach(function(t){var l=n[t];if(l){var u=l.name,c=l.type,d=l.id,f=l.contrs,p=l.hierarchy,h=l.baseContrType,g=o+(o?" ":"")+"."+c+"_"+d,y=("wrapbox"==c||"symbol"==c)&&(s&&s[g]&&s[g].fold),m=i&&$.searchIn(i,l.name),_=u,v=!1;i?m&&(v=!0,_=m):v=!0,v&&e.push(a._getStructDom({name:_,layer:r,type:c,id:d,baseContrType:h,select:g,childrenNum:y?0:a._getAllChildNum(l)})),"wrapbox"!=c&&"symbol"!=c||!p||!f||!i&&y||a._getAllStruct(e,p,f,r+1,g)}})},t.prototype._getAllChildNum=function(e){var t=this,n=e.type,r=e.fold,o=e.hierarchy,a=e.contrs,i=0;return"wrapbox"!=n&&"symbol"!=n||r||o.forEach(function(e){i++,i+=t._getAllChildNum(a[e])}),i},t.prototype.render=function(){var e,t,n=this.props.activePage,r=this.state,o=r.isSearch,a=r.searchText,i=window.pages,s=(e=n,i.some(function(n){return n.key==e.key&&(t=n,!0)}),t);if(!s)return null;var c=[];return this._getAllStruct(c,s.hierarchy,s.contrs,1,""),l["default"].createElement("div",null,o?l["default"].createElement(u["default"],{searchText:a,parentComp:this}):this._getSearchToolDom(n),l["default"].createElement("div",{className:"catalog-list"},c))},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_structSearchClick",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_structFoldClick",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_toggleFolder",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_getStructDom",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_getSearchToolDom",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object,Object,Object,Number,String]),i("design:returntype",void 0)],t.prototype,"_getAllStruct",null),a([d["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_getAllChildNum",null),t}(l["default"].Component);t["default"]=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(3));n(1359);var d=s(n(42)),f=s(n(23)),p=s(n(27)),h=s(n(49)),g=s(n(852)),y=s(n(1732)),m=s(n(1585)),_=s(n(907)),v=s(n(2350)),b=s(n(2351)),w=n(2352),C=n(46),x=n(46),S=n(1340),P=n(308),k=n(166),O=window.$;function E(){var e=window,t=e.pages,n=e.structHierarchy,r=[],o=0,a=[];return k.findAllShowPage(n,a),t.forEach(function(e){var t=!C.isAddThisCanvasPage(e.key),n=(e=w.setAllContrVal(O.extend(!0,{},e))).key,i=e.backColor,s=e.left,u=e.top,c=e.contrs,d=e.isShow;(void 0===d||d)&&-1!=a.indexOf(n+"")&&r.push(l["default"].createElement(_["default"],{key:n,pageKey:n,pageIdx:o++,pageStyle:{backgroundColor:i,left:s,top:u,width:320,height:568},page:e,active:!1,contrs:c,isPreview:!0,isPageFlowHide:t}))}),r}var T=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){f["default"].addChangeListener(this._onChange),p["default"].setAllLinkLine(window.linkLines,!0),h["default"].setAllPageFlow(window.pageFlows,!0),setTimeout(function(){h["default"].emitChange(),p["default"].emitChange()},0)},t.prototype.componentWillUnmount=function(){f["default"].removeChangeListener(this._onChange)},t.prototype._onChange=function(){this.setState({})},t.prototype._multiViewWheelFunc=function(e){S.removeBlinkContr();var t=this.props.previewInfo,n=t.multiZoom,r=t.multiPos,o=r.left,a=r.top,i="fixed-view"==t.multiViewType;O.extend(!0,{},e).altKey?(d["default"].setMultiZoom(O.setRegion(n+.05*(e.deltaY>0?-1:1),.1,1)),f["default"].emitChange()):(i?d["default"].setMultiPos({left:o,top:O.setRegion(a-e.deltaY/n,O.getFixedViewMinTop(n),0)}):d["default"].setMultiPos({left:o-e.deltaX/n,top:a-e.deltaY/n}),f["default"].emitMoveChange(),g["default"].emitChange()),P.removeHoveringLine(),e.stopPropagation(),e.preventDefault()},t.prototype.render=function(){var e=this.props,t=e.fullscreen,n=e.mode,r=e.previewInfo,o=e.previewInfo,a=o.platform,i=o.isPresentation,s=o.multiViewType,c=window.pages;return l["default"].createElement("div",{id:"bodyWrapper",className:u["default"]("body-wrapper multiView canvas-wrapper container-height "+a+"-body "+n+"-mode",{"preview-fullscreen":t,isInEmptyPageFlow:"free-view"==s&&x.getPageFlow()&&0==h["default"].getSelectPageFlowNum()}),onWheel:this._multiViewWheelFunc},i?undefined:l["default"].createElement(y["default"],{previewInfo:r,mode:n}),l["default"].createElement(b["default"],null),l["default"].createElement(v["default"],null),l["default"].createElement(m["default"],{canvasPage:E(),isFreeMultiView:"free-view"==s,isEdit:!1,pages:c}))},a([c["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onChange",null),a([c["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"_multiViewWheelFunc",null),t}(l["default"].Component);t["default"]=T},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(1)),c=l(n(3));n(1359);var d=l(n(42)),f=l(n(23)),p=l(n(1581)),h=l(n(1583)),g=l(n(162)),y=n(85),m=[70,90,0,90],_=window.$,v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){f["default"].addMoveChangeListener(this._onMoveChange)},t.prototype.componentWillUnmount=function(){f["default"].removeMoveChangeListener(this._onMoveChange)},t.prototype._onMoveChange=function(){this.setState({})},t.prototype.getFixedDoms=function(){var e=[],t=d["default"].getPreviewInfo(),n=t.multiZoom,r=t.multiViewType;this.state;if("fixed-view"==r){var o=window.structHierarchy;y.getStructAll(undefined,o).forEach(function(t){var r=t.isShow&&!t.parentHide;if("page"==t.type){var o="mainBox"+t.key,a=d["default"].getPage(t.key);a&&a.isShow&&!t.parentHide&&e.push(u["default"].createElement("div",{className:"mainBox portrait grid",key:o,"data-key":o,id:o}))}else"folder"==t.type&&r?e.push(u["default"].createElement(p["default"],{thisBox:t,key:"folder-top-box"+t.key,parent:self,index:t.index,zoom:n,update_key:t.type+"_"+t.key+"_"+t.index})):"endLine"==t.type&&r&&e.push(u["default"].createElement("div",{key:"folder-endLine"+t.key,id:"folderEnd"+t.key,className:"folder-endLine","data-name":t.name}))})}return e},t.prototype.setPhoneConBoxStyle=function(){var e={},t=d["default"].getPreviewInfo(),n=t.multiZoom,r=t.multiPos.top;return _.extend(e,{width:100/n+"%",height:100/n+"%",padding:m.reduce(function(e,t){return e+t/(n*("true"==_.getUrlParam("inprd")?2:1))+"px "},0),transform:"scale("+n+") translate(0px, "+r+"px)"}),e},t.prototype._multiViewChangeScrollTop=function(e){var t=d["default"].getPreviewInfo().multiPos.left;d["default"].setMultiPos({left:t,top:e}),f["default"].emitMoveChange()},t.prototype.render=function(){var e=d["default"].getPreviewInfo(),t=e.multiViewType,n=e.multiPos.top,r=e.multiZoom;return["fixed-view"==t?u["default"].createElement("div",{id:"phoneConBox",className:"phoneConBox",style:this.setPhoneConBoxStyle(),key:"phoneConBox"},this.getFixedDoms(),u["default"].createElement(h["default"],{padding:m,zoom:r})):undefined,"fixed-view"==t&&_.getElById("phoneConBox")?u["default"].createElement("div",{key:"multi-view-scroll-box",className:"multi-view-scroll-box"},u["default"].createElement(g["default"],a({},{boxHeight:_.getWinSize().height-45,maxLength:_.getWinSize().height-45-_.getFixedViewMinTop(r),scrollTop:n,changeScrollTop:this._multiViewChangeScrollTop}))):undefined]},i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"_onMoveChange",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"getFixedDoms",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"setPhoneConBoxStyle",null),i([c["default"],s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"_multiViewChangeScrollTop",null),t}(u["default"].Component);t["default"]=v},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3));n(1359);var c=s(n(42)),d=s(n(23)),f=s(n(1580)),p=s(n(1613)),h=n(881),g=n(46),y=n(1646),m=n(166);function _(){var e=window,t=e.pages,n=e.structHierarchy,r=[];m.findAllShowPage(n,r);var o={};return t.forEach(function(e){var t=e.key;-1!=r.indexOf(t+"")&&(o[e.key]=e)}),o}var v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){d["default"].addMoveChangeListener(this._onMoveChange),"true"==$.getUrlParam("inprd")&&"true"!=$.getUrlParam("fixed")&&setTimeout(function(){y.zoomFit(!0)},0)},t.prototype.componentWillUnmount=function(){d["default"].removeMoveChangeListener(this._onMoveChange)},t.prototype._onMoveChange=function(){this.setState({})},t.prototype.getPageKeyList=function(){var e=[],t=g.getPageFlow(),n=t&&g.getPageFlowPageVal();return c["default"].getAllShowPageKeyList().forEach(function(r){t?n[r]&&e.push(r):e.push(r)}),e},t.prototype.render=function(){var e=c["default"].getPreviewInfo(),t=e.multiZoom,n=e.multiPos,r=e.multiViewType;return["free-view"==r?l["default"].createElement(p["default"],{key:"multiViewBottom"}):undefined,"free-view"==r?l["default"].createElement(f["default"],{key:"pageGuide",zoom:t,pages:_(),pageKeyList:this.getPageKeyList(),phoneConBoxPos:n,mouseDownFunc:h.pageGuideMoveFunc}):undefined]},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onMoveChange",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"getPageKeyList",null),t}(l["default"].Component);t["default"]=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.$;function o(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var a=e.contrs;for(var i in a){var s=a[i],l=s.state,u=void 0===l?{}:l,c=s.states,d=void 0===c?{}:c,f=s.children,p=s.contrs,h=s.id,g=s.type+"_"+h;t&&t[g]&&r.extend(!0,a[i],t[g]);var y=!r.isUndefined(u.endState)&&d[u.endState];y&&y.contrs&&(t=r.extend(!0,t,y.contrs)),f&&(n=r.extend(!0,r.extend(!0,{},f),n)),t&&t[g]&&r.extend(!0,a[i],t[g]),n&&n[g]&&r.extend(!0,a[i],n[g]),p&&o(s,t,n)}return e}t.setAllContrVal=o,t["default"]={setAllContrVal:o}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(11)),c=s(n(844)),d=s(n(42)),f=s(n(893)),p=s(n(3)),h={px:1,dp:1,rem:16,pt:1,rpx:.5},g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectDom:c["default"].getSelectDom(),hoverDom:c["default"].getHoverDom(),unit:f["default"].getSizeUnit(),scale:f["default"].getScale(f["default"].getSizeUnit())},n}return o(t,e),t.prototype.componentDidMount=function(){c["default"].addChangeListener(this._onPopupPreviewChange),f["default"].addChangeListener(this._onPopupPreviewChange)},t.prototype.componentWillUnmount=function(){c["default"].removeChangeListener(this._onPopupPreviewChange),f["default"].removeChangeListener(this._onPopupPreviewChange)},t.prototype._onPopupPreviewChange=function(){this.setState({selectDom:c["default"].getSelectDom(),hoverDom:c["default"].getHoverDom(),unit:f["default"].getSizeUnit(),scale:f["default"].getScale(f["default"].getSizeUnit())})},t.prototype.render=function(){var e=$.getElById("pageContainer"),t=$.query(".page.current"),n="web"!=window.platform&&t?t.offsetWidth/320:1,r=d["default"].getPreviewInfo().scale*n;if(!e)return null;var o=$.offset(e,!0),a=this.state,i=a.unit,s=a.scale;s=Number(s)?s:h[i];var f,p,g,y,m,_,v,b,w,C,x,S=this.state,P=S.selectDom,k=S.hoverDom,O=k?$.offset(k,!0):o,E=P&&$.offset(P,!0),T=O&&(!E||E&&!$.isHequalS(E,O))&&c["default"].getHoverDom();if(E&&O){E.bottom=E.top+E.height,O.bottom=O.top+O.height,E.right=E.left+E.width,O.right=O.left+O.width;var M=E.left+E.width/2,D=O.top+E.top,A=E.top+E.height/2,j=O.left+E.left,I=E.top-O.top-O.height,L=O.top-E.top-E.height,R=E.left-O.left-O.width,B=O.left-E.left-E.width,N=E.bottom>O.bottom?O.top+O.height/2:E.top+E.height/2;if(x=k==P,E.top>O.bottom?(p=!0,g=l["default"].createElement("span",{style:{left:M,top:(O.height+D)/2},className:u["default"]("vertical-distance",{"small-y-text":I<20})},$.saveTwoBit(I/s/r,i)+i),v=l["default"].createElement("div",{className:"distance-line top-distance-line",style:{width:1,height:I,top:O.bottom,left:M}})):E.bottom<O.top&&(p=!0,m=l["default"].createElement("span",{style:{left:M,top:(E.height+D)/2},className:u["default"]("vertical-distance",{"small-y-text":L<20})},$.saveTwoBit(L/s/r,i)+i),b=l["default"].createElement("div",{className:"distance-line bottom-distance-line",style:{width:1,height:L,top:E.bottom,left:M}})),E.left>O.right?(f=!0,_=l["default"].createElement("span",{style:{left:(O.width+j)/2,top:A},className:u["default"]("horizontal-distance",{"small-x-text":R<40})},$.saveTwoBit(R/s/r,i)+i),w=l["default"].createElement("div",{className:"distance-line left-distance-line",style:{width:R,height:1,top:A,left:O.right}})):E.right<O.left&&(f=!0,y=l["default"].createElement("span",{style:{left:(E.width+j)/2,top:A},className:u["default"]("horizontal-distance",{"small-x-text":B<40})},$.saveTwoBit(B/s/r,i)+i),C=l["default"].createElement("div",{className:"distance-line right-distance-line",style:{width:B,height:1,top:A,left:E.right}})),!f&&!p){if(!g&&E.top!=O.top&&E.top!=O.bottom){var F=Math.abs(E.top-O.top);v=l["default"].createElement("div",{className:"distance-line top-distance-line",style:{width:1,height:F,top:Math.min(E.top,O.top),left:M}}),g=l["default"].createElement("span",{style:{left:M,top:(E.top+O.top)/2},className:u["default"]("vertical-distance",{"small-y-text":F<20})},$.saveTwoBit(F/s/r,i),i)}if(!m&&E.bottom!=O.bottom&&E.bottom!=O.top){var H=Math.abs(E.bottom-O.bottom);b=l["default"].createElement("div",{className:"distance-line bottom-distance-line",style:{width:1,height:H,top:Math.min(E.bottom,O.bottom),left:M}}),m=l["default"].createElement("span",{style:{left:M,top:(E.bottom+O.bottom)/2},className:u["default"]("vertical-distance",{"small-y-text":H<20})},$.saveTwoBit(H/s/r,i),i)}if(!_&&E.left!=O.left&&E.left!=O.right){var z=Math.abs(E.left-O.left);w=l["default"].createElement("div",{className:"distance-line left-distance-line",style:{width:z,height:1,top:N,left:Math.min(E.left,O.left)}}),_=l["default"].createElement("span",{style:{left:(E.left+O.left)/2,top:N},className:u["default"]("horizontal-distance",{"small-x-text":z<40})},$.saveTwoBit(z/s/r,i),i)}if(!y&&E.right!=O.right&&E.right!=O.left){var U=Math.abs(E.right-O.right);C=l["default"].createElement("div",{className:"distance-line right-distance-line",style:{width:U,height:1,top:N,left:Math.min(E.right,O.right)}}),y=l["default"].createElement("span",{style:{left:(E.right+O.right)/2,top:N},className:u["default"]("horizontal-distance",{"small-x-text":U<40})},$.saveTwoBit(U/s/r,i),i)}}}return l["default"].createElement("div",{className:"page-contain-mask"},E?l["default"].createElement("div",{className:"selected-box fixed-box",style:{left:E.left-1,top:E.top-1,width:E.width,height:E.height}},l["default"].createElement("div",{className:"left-top-dot abs-dot"}),l["default"].createElement("div",{className:"right-top-dot abs-dot"}),l["default"].createElement("div",{className:"right-bottom-dot abs-dot"}),l["default"].createElement("div",{className:"left-bottom-dot abs-dot"})):undefined,T?l["default"].createElement("div",{className:"hover-line"},l["default"].createElement("div",{className:"hover-box fixed-box",style:{left:O.left-1,top:O.top-1,width:O.width,height:O.height}}),l["default"].createElement("div",{className:"horizontal-line",style:{top:O.top-1,height:O.height,width:o.width,left:o.left,opacity:.8}}),l["default"].createElement("div",{className:"vertical-line",style:{left:O.left-1,width:O.width,height:o.height,top:o.top,opacity:.8}})):undefined,E&&O&&!$.isHequalS(E,O)?l["default"].createElement("div",{className:"distance-box"}):undefined,g?l["default"].createElement("div",{className:"show-distance show-top-distance"},v,g):undefined,m?l["default"].createElement("div",{className:"show-distance show-bottom-distance"},b,m):undefined,_?l["default"].createElement("div",{className:"show-distance show-left-distance"},w,_):undefined,y?l["default"].createElement("div",{className:"show-distance show-right-distance"},C,y):undefined,E&&x?l["default"].createElement("div",{className:"show-distance"},l["default"].createElement("span",{className:"show-rect-width",style:{top:E.top,left:E.left+E.width/2}},$.saveTwoBit(E.width/s/r,i),i),l["default"].createElement("span",{className:"show-rect-height",style:{top:E.top+E.height/2,left:E.right}},$.saveTwoBit(E.height/s/r,i),i)):undefined)},a([p["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"_onPopupPreviewChange",null),t}(l["default"].Component);t.ShowDistanceComp=g,t["default"]=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=l(n(11)),d=l(n(3)),f=l(n(42)),p=l(n(844)),h=l(n(23)),g=l(n(987)),y=l(n(1733)),m=l(n(1734)),_=l(n(1237)),v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o(t,e),t.prototype.exitPresentation=function(){_["default"].exit(),p["default"].initContr(),f["default"].setShowBackMultiBtn(!1),f["default"].changeIsPresentation(!1),$.tipHide();var e=f["default"].getViewData();if(!$.isEmptyObj(e)){var t=e.zoom,n=e.scale,r=e.left,o=e.top;t?f["default"].setMultiZoom(t):n&&g["default"].zoom("",n),f["default"].setMultiPos({left:r,top:o}),h["default"].emitChange()}},t.prototype.render=function(){var e=$.getPlatform(window.platform);return u["default"].createElement("div",{className:c["default"]("show-modal-control",{"web-show-modal-control":"web"==e})},u["default"].createElement("div",{className:"control-option"},u["default"].createElement("div",{className:"zoom-control"},u["default"].createElement(y["default"],null)),u["default"].createElement("div",{className:"play-control"},u["default"].createElement(m["default"],null)),u["default"].createElement("div",{id:"exitPresentation","data-contr":"hovertip",onClick:this.exitPresentation,className:"exit-control"},u["default"].createElement("div",{className:"exit-icon"}),u["default"].createElement("div",{className:"exit-text"},"退出演示"))))},a([d["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"exitPresentation",null),t}(u.Component);t["default"]=v},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),u=s(n(3)),c=s(n(11)),d=n(1340),f=s(n(42)),p=s(n(23)),h=s(n(146)),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={cursor:h["default"].getCursor(),isMouseDown:!1},n}return o(t,e),t.prototype.componentWillMount=function(){h["default"].addChangeListener(this.onCursorChange)},t.prototype.componentWillUnmount=function(){h["default"].removeChangeListener(this.onCursorChange)},t.prototype.onCursorChange=function(){this.setState({cursor:h["default"].getCursor()})},t.prototype.handleDrag=function(e){var t=this;d.removeBlinkContr();var n=t.props.previewInfo,r=n.multiPos,o=r.left,a=r.top,i=n.multiZoom,s=n.multiViewType,l=this.state.cursor,u=o,c=a,h="fixed-view"==s;if("view-move"==l){var g=e.clientX,y=e.clientY;t.setState({isMouseDown:!0}),$.setDrag({name:"moveCanvas",posi:[g,y],target:e.target,moveFunc:function(e){var t=e.clientX,n=e.clientY,r=t-g,o=n-y;f["default"].setMultiPos({left:u+(h?0:r/i),top:h?$.setRegion(c+o/i,$.getFixedViewMinTop(i),0):c+o/i}),p["default"].emitMoveChange()},endFunc:function(e){t.setState({isMouseDown:!1})}})}},t.prototype.handleZoom=function(e){d.removeBlinkContr();var t=this.props.previewInfo.multiZoom,n=this.state.cursor;"zoom-in"==n?(f["default"].setMultiZoom(Math.min(t+.1,1)),p["default"].emitMoveChange()):"zoom-out"==n&&(f["default"].setMultiZoom(Math.max(t-.1,.1)),p["default"].emitMoveChange())},t.prototype.render=function(){var e=this.state,t=e.cursor,n=e.isMouseDown;"view-move"==t&&n&&(t="view-grab");var r=!1;return-1!=["view-move","view-grab","zoom-in","zoom-out"].indexOf(t)&&(r=!0),r?l["default"].createElement("div",{onMouseDown:this.handleDrag,onClick:this.handleZoom,className:c["default"]("cursor-mask","cursor-"+t,"cursor-is-"+t)}):null},a([u["default"],i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onCursorChange",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleDrag",null),a([u["default"],i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"handleZoom",null),t}(l["default"].Component);t["default"]=g},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(42)),a=240;function i(){var e=o["default"].getScrollObj(),t=e.scrollHeight,n=e.scrollWidth,r=e.boxWidth,i=e.scrollTop,s=e.scrollLeft,l=o["default"].getPreviewInfo(),u=l.catalog,c=l.note,d=l.platform,f=l.isPresentation,p="web"==d,h=$.query(".current.page"),g={};if(p){var y=$.getWinSize().width-(u&&!f?a:0)-(c&&!f?a:0),m=!1;if(y!=r&&(m=!0,g.boxWidth=y),h){var _=$.offset(h,!0);_.height==t&&_.width==n||(m=!0,g.scrollHeight=_.height,g.scrollWidth=_.width)}if(m){var v=$.setRegion(i,$.getWinSize().height-45-(g.scrollHeight||t),0),b=$.setRegion(s,(y||r)-(g.scrollWidth||n),0);v==i&&b==s||(g.scrollTop=v,g.scrollLeft=b),o["default"].setScrollObj(g)}}else if(h){var w=h.offsetHeight;w!=t&&o["default"].setScrollObj({scrollHeight:w,scrollTop:0})}}t.setContainerSize=i,t["default"]={setContainerSize:i}}]);